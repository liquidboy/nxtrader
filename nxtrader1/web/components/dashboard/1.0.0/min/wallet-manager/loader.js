define("dashboard/wallet-manager/asset-card",["require","exports","preact/jsx-runtime","ojs/ojconverter-number","ojs/ojcolor","ojs/ojcolor","css!dashboard/wallet-manager/wallet-manager-styles.css","ojs/ojbutton","ojs/ojactioncard","ojs/ojcolorspectrum","ojs/ojlistview","ojs/ojlistitemlayout","ojs/ojinputtext","ojs/ojbutton","ojs/ojformlayout","ojs/ojvalidationgroup"],(function(require,e,t,a,s,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AssetCard=void 0,e.AssetCard=function({wassetName:e,wasset:o,prices:i,onCardSelected:r}){if(0===(null==o?void 0:o.length))return(0,t.jsx)(t.Fragment,{});const l=new a.IntlNumberConverter({style:"currency",currency:"USD",currencyDisplay:"symbol",currencyFormat:"standard",decimalFormat:"long",maximumFractionDigits:12}),c=i.find((t=>t.symbol===e)),d=c?c.usd_price:0,u=null==o?void 0:o.reduce(((e,t)=>e+(t.balance?parseFloat(t.balance):0)),0),f=null==o?void 0:o.reduce(((e,t)=>e+(t.balance?parseFloat(t.balance)*d:0)),0);function g(t){var a=t.currentTarget,s=a.getAttribute("data-walletAddress"),n=a.getAttribute("data-assetid");r&&s&&n&&r(s,null!=e?e:"",n,a.id)}return(0,t.jsx)("oj-action-card",Object.assign({id:"acFUSD",class:"oj-bg-neutral-20 oj-md-margin-2x-end oj-md-margin-2x-bottom"},{children:(0,t.jsxs)("div",Object.assign({class:"oj-md-margin-3x card-asset"},{children:[(0,t.jsxs)("div",Object.assign({class:"oj-flex"},{children:[(0,t.jsx)("img",{src:`styles/images/${e}.svg`,class:"card-token"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",Object.assign({class:"oj-text-primary-color oj-typography-subheading-xs"},{children:e})),(0,t.jsx)("div",Object.assign({class:"oj-text-primary-color oj-typography-subheading-xs"},{children:u}))]}),(0,t.jsx)("div",{class:"oj-flex-item"}),(0,t.jsxs)("div",Object.assign({class:"oj-sm-flex-initial oj-flex-item oj-flex oj-text-secondary-color oj-typography-body-sm oj-sm-padding-4x-top"},{children:[(0,t.jsx)("img",{src:"styles/images/FUSDT.svg",class:"card-small-token"}),(0,t.jsx)("span",Object.assign({class:"oj-sm-margin-2x-top"},{children:l.format(null!=f?f:0)}))]}))]})),(0,t.jsx)("div",Object.assign({class:"oj-md-margin-6x-top oj-md-margin-3x-bottom oj-md-margin-3x-start oj-md-margin-3x-end oj-flex"},{children:null==o?void 0:o.map((e=>{var a;return(0,t.jsx)("oj-button",Object.assign({chroming:"borderless",class:"card-wasset",id:`btn-${e.walletName}-${e.asset_id}`,"data-walletAddress":e.walletAddress,"data-assetId":e.asset_id,onClick:g},{children:(0,t.jsxs)("div",Object.assign({class:"oj-flex card-wasset"},{children:[(0,t.jsx)("div",{style:{width:"5px",height:"35px",backgroundColor:(e.walletColor?new n(e.walletColor):s.BLACK).toString()}}),(0,t.jsxs)("div",Object.assign({class:"oj-sm-margin-1x-start"},{children:[(0,t.jsx)("div",Object.assign({class:"oj-text-primary-color oj-typography-body-sm"},{children:e.walletName})),(0,t.jsx)("div",Object.assign({class:"oj-text-secondary-color oj-typography-body-xs",title:e.balance},{children:parseFloat(null!==(a=e.balance)&&void 0!==a?a:"").toFixed(8)}))]}))]}))}))}))}))]}))}))}})),define("dashboard/wallet-manager/bignumber",["require","exports"],(function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BigNumber=void 0;var t=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,a=Math.ceil,s=Math.floor,n="[BigNumber Error] ",o=n+"Number primitive has more than 15 significant digits: ",i=1e14,r=14,l=9007199254740991,c=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],d=1e7,u=1e9;function f(e){var t=0|e;return e>0||e===t?t:t-1}function g(e){for(var t,a,s=1,n=e.length,o=e[0]+"";s<n;){for(t=e[s++]+"",a=r-t.length;a--;t="0"+t);o+=t}for(n=o.length;48===o.charCodeAt(--n););return o.slice(0,n+1||1)}function m(e,t){var a,s,n=e.c,o=t.c,i=e.s,r=t.s,l=e.e,c=t.e;if(!i||!r)return null;if(a=n&&!n[0],s=o&&!o[0],a||s)return a?s?0:-r:i;if(i!=r)return i;if(a=i<0,s=l==c,!n||!o)return s?0:!n^a?1:-1;if(!s)return l>c^a?1:-1;for(r=(l=n.length)<(c=o.length)?l:c,i=0;i<r;i++)if(n[i]!=o[i])return n[i]>o[i]^a?1:-1;return l==c?0:l>c^a?1:-1}function h(e,t,a,o){if(e<t||e>a||e!==s(e))throw Error(n+(o||"Argument")+("number"==typeof e?e<t||e>a?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function p(e){var t=e.c.length-1;return f(e.e/r)==t&&e.c[t]%2!=0}function v(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function j(e,t,a){var s,n;if(t<0){for(n=a+".";++t;n+=a);e=n+e}else if(++t>(s=e.length)){for(n=a,t-=s;--t;n+=a);e+=n}else t<s&&(e=e.slice(0,t)+"."+e.slice(t));return e}e.BigNumber=function e(b){var w,y,x,_,A,T,O,N,S,E,k=$.prototype={constructor:$,toString:null,valueOf:null},C=new $(1),D=20,F=4,L=-7,W=21,P=-1e7,U=1e7,R=!1,I=1,M=0,B={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"Â ",suffix:""},G="0123456789abcdefghijklmnopqrstuvwxyz",H=!0;function $(e,a){var n,i,c,d,u,f,g,m,p=this;if(!(p instanceof $))return new $(e,a);if(null==a){if(e&&!0===e._isBigNumber)return p.s=e.s,void(!e.c||e.e>U?p.c=p.e=null:e.e<P?p.c=[p.e=0]:(p.e=e.e,p.c=e.c.slice()));if((f="number"==typeof e)&&0*e==0){if(p.s=1/e<0?(e=-e,-1):1,e===~~e){for(d=0,u=e;u>=10;u/=10,d++);return void(d>U?p.c=p.e=null:(p.e=d,p.c=[e]))}m=String(e)}else{if(!t.test(m=String(e)))return x(p,m,f);p.s=45==m.charCodeAt(0)?(m=m.slice(1),-1):1}(d=m.indexOf("."))>-1&&(m=m.replace(".","")),(u=m.search(/e/i))>0?(d<0&&(d=u),d+=+m.slice(u+1),m=m.substring(0,u)):d<0&&(d=m.length)}else{if(h(a,2,G.length,"Base"),10==a&&H)return V(p=new $(e),D+p.e+1,F);if(m=String(e),f="number"==typeof e){if(0*e!=0)return x(p,m,f,a);if(p.s=1/e<0?(m=m.slice(1),-1):1,$.DEBUG&&m.replace(/^0\.0*|\./,"").length>15)throw Error(o+e)}else p.s=45===m.charCodeAt(0)?(m=m.slice(1),-1):1;for(n=G.slice(0,a),d=u=0,g=m.length;u<g;u++)if(n.indexOf(i=m.charAt(u))<0){if("."==i){if(u>d){d=g;continue}}else if(!c&&(m==m.toUpperCase()&&(m=m.toLowerCase())||m==m.toLowerCase()&&(m=m.toUpperCase()))){c=!0,u=-1,d=0;continue}return x(p,String(e),f,a)}f=!1,(d=(m=y(m,a,10,p.s)).indexOf("."))>-1?m=m.replace(".",""):d=m.length}for(u=0;48===m.charCodeAt(u);u++);for(g=m.length;48===m.charCodeAt(--g););if(m=m.slice(u,++g)){if(g-=u,f&&$.DEBUG&&g>15&&(e>l||e!==s(e)))throw Error(o+p.s*e);if((d=d-u-1)>U)p.c=p.e=null;else if(d<P)p.c=[p.e=0];else{if(p.e=d,p.c=[],u=(d+1)%r,d<0&&(u+=r),u<g){for(u&&p.c.push(+m.slice(0,u)),g-=r;u<g;)p.c.push(+m.slice(u,u+=r));u=r-(m=m.slice(u)).length}else u-=g;for(;u--;m+="0");p.c.push(+m)}}else p.c=[p.e=0]}function q(e,t,a,s){var n,o,i,r,l;if(null==a?a=F:h(a,0,8),!e.c)return e.toString();if(n=e.c[0],i=e.e,null==t)l=g(e.c),l=1==s||2==s&&(i<=L||i>=W)?v(l,i):j(l,i,"0");else if(o=(e=V(new $(e),t,a)).e,r=(l=g(e.c)).length,1==s||2==s&&(t<=o||o<=L)){for(;r<t;l+="0",r++);l=v(l,o)}else if(t-=i,l=j(l,o,"0"),o+1>r){if(--t>0)for(l+=".";t--;l+="0");}else if((t+=o-r)>0)for(o+1==r&&(l+=".");t--;l+="0");return e.s<0&&n?"-"+l:l}function K(e,t){for(var a,s,n=1,o=new $(e[0]);n<e.length;n++)(!(s=new $(e[n])).s||(a=m(o,s))===t||0===a&&o.s===t)&&(o=s);return o}function z(e,t,a){for(var s=1,n=t.length;!t[--n];t.pop());for(n=t[0];n>=10;n/=10,s++);return(a=s+a*r-1)>U?e.c=e.e=null:a<P?e.c=[e.e=0]:(e.e=a,e.c=t),e}function V(e,t,n,o){var l,d,u,f,g,m,h,p=e.c,v=c;if(p){e:{for(l=1,f=p[0];f>=10;f/=10,l++);if((d=t-l)<0)d+=r,u=t,g=p[m=0],h=s(g/v[l-u-1]%10);else if((m=a((d+1)/r))>=p.length){if(!o)break e;for(;p.length<=m;p.push(0));g=h=0,l=1,u=(d%=r)-r+1}else{for(g=f=p[m],l=1;f>=10;f/=10,l++);h=(u=(d%=r)-r+l)<0?0:s(g/v[l-u-1]%10)}if(o=o||t<0||null!=p[m+1]||(u<0?g:g%v[l-u-1]),o=n<4?(h||o)&&(0==n||n==(e.s<0?3:2)):h>5||5==h&&(4==n||o||6==n&&(d>0?u>0?g/v[l-u]:0:p[m-1])%10&1||n==(e.s<0?8:7)),t<1||!p[0])return p.length=0,o?(t-=e.e+1,p[0]=v[(r-t%r)%r],e.e=-t||0):p[0]=e.e=0,e;if(0==d?(p.length=m,f=1,m--):(p.length=m+1,f=v[r-d],p[m]=u>0?s(g/v[l-u]%v[u])*f:0),o)for(;;){if(0==m){for(d=1,u=p[0];u>=10;u/=10,d++);for(u=p[0]+=f,f=1;u>=10;u/=10,f++);d!=f&&(e.e++,p[0]==i&&(p[0]=1));break}if(p[m]+=f,p[m]!=i)break;p[m--]=0,f=1}for(d=p.length;0===p[--d];p.pop());}e.e>U?e.c=e.e=null:e.e<P&&(e.c=[e.e=0])}return e}function Y(e){var t,a=e.e;return null===a?e.toString():(t=g(e.c),t=a<=L||a>=W?v(t,a):j(t,a,"0"),e.s<0?"-"+t:t)}return $.clone=e,$.ROUND_UP=0,$.ROUND_DOWN=1,$.ROUND_CEIL=2,$.ROUND_FLOOR=3,$.ROUND_HALF_UP=4,$.ROUND_HALF_DOWN=5,$.ROUND_HALF_EVEN=6,$.ROUND_HALF_CEIL=7,$.ROUND_HALF_FLOOR=8,$.EUCLID=9,$.config=$.set=function(e){var t,a;if(null!=e){if("object"!=typeof e)throw Error(n+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(h(a=e[t],0,u,t),D=a),e.hasOwnProperty(t="ROUNDING_MODE")&&(h(a=e[t],0,8,t),F=a),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((a=e[t])&&a.pop?(h(a[0],-u,0,t),h(a[1],0,u,t),L=a[0],W=a[1]):(h(a,-u,u,t),L=-(W=a<0?-a:a))),e.hasOwnProperty(t="RANGE"))if((a=e[t])&&a.pop)h(a[0],-u,-1,t),h(a[1],1,u,t),P=a[0],U=a[1];else{if(h(a,-u,u,t),!a)throw Error(n+t+" cannot be zero: "+a);P=-(U=a<0?-a:a)}if(e.hasOwnProperty(t="CRYPTO")){if((a=e[t])!==!!a)throw Error(n+t+" not true or false: "+a);if(a){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw R=!a,Error(n+"crypto unavailable");R=a}else R=a}if(e.hasOwnProperty(t="MODULO_MODE")&&(h(a=e[t],0,9,t),I=a),e.hasOwnProperty(t="POW_PRECISION")&&(h(a=e[t],0,u,t),M=a),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(a=e[t]))throw Error(n+t+" not an object: "+a);B=a}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(a=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(a))throw Error(n+t+" invalid: "+a);H="0123456789"==a.slice(0,10),G=a}}return{DECIMAL_PLACES:D,ROUNDING_MODE:F,EXPONENTIAL_AT:[L,W],RANGE:[P,U],CRYPTO:R,MODULO_MODE:I,POW_PRECISION:M,FORMAT:B,ALPHABET:G}},$.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!$.DEBUG)return!0;var t,a,o=e.c,l=e.e,c=e.s;e:if("[object Array]"=={}.toString.call(o)){if((1===c||-1===c)&&l>=-u&&l<=u&&l===s(l)){if(0===o[0]){if(0===l&&1===o.length)return!0;break e}if((t=(l+1)%r)<1&&(t+=r),String(o[0]).length==t){for(t=0;t<o.length;t++)if((a=o[t])<0||a>=i||a!==s(a))break e;if(0!==a)return!0}}}else if(null===o&&null===l&&(null===c||1===c||-1===c))return!0;throw Error(n+"Invalid BigNumber: "+e)},$.maximum=$.max=function(){return K(arguments,-1)},$.minimum=$.min=function(){return K(arguments,1)},$.random=(_=9007199254740992,A=Math.random()*_&2097151?function(){return s(Math.random()*_)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,o,i,l,d,f=0,g=[],m=new $(C);if(null==e?e=D:h(e,0,u),l=a(e/r),R)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(l*=2));f<l;)(d=131072*t[f]+(t[f+1]>>>11))>=9e15?(o=crypto.getRandomValues(new Uint32Array(2)),t[f]=o[0],t[f+1]=o[1]):(g.push(d%1e14),f+=2);f=l/2}else{if(!crypto.randomBytes)throw R=!1,Error(n+"crypto unavailable");for(t=crypto.randomBytes(l*=7);f<l;)(d=281474976710656*(31&t[f])+1099511627776*t[f+1]+4294967296*t[f+2]+16777216*t[f+3]+(t[f+4]<<16)+(t[f+5]<<8)+t[f+6])>=9e15?crypto.randomBytes(7).copy(t,f):(g.push(d%1e14),f+=7);f=l/7}if(!R)for(;f<l;)(d=A())<9e15&&(g[f++]=d%1e14);for(l=g[--f],e%=r,l&&e&&(d=c[r-e],g[f]=s(l/d)*d);0===g[f];g.pop(),f--);if(f<0)g=[i=0];else{for(i=-1;0===g[0];g.splice(0,1),i-=r);for(f=1,d=g[0];d>=10;d/=10,f++);f<r&&(i-=r-f)}return m.e=i,m.c=g,m}),$.sum=function(){for(var e=1,t=arguments,a=new $(t[0]);e<t.length;)a=a.plus(t[e++]);return a},y=function(){var e="0123456789";function t(e,t,a,s){for(var n,o,i=[0],r=0,l=e.length;r<l;){for(o=i.length;o--;i[o]*=t);for(i[0]+=s.indexOf(e.charAt(r++)),n=0;n<i.length;n++)i[n]>a-1&&(null==i[n+1]&&(i[n+1]=0),i[n+1]+=i[n]/a|0,i[n]%=a)}return i.reverse()}return function(a,s,n,o,i){var r,l,c,d,u,f,m,h,p=a.indexOf("."),v=D,b=F;for(p>=0&&(d=M,M=0,a=a.replace(".",""),f=(h=new $(s)).pow(a.length-p),M=d,h.c=t(j(g(f.c),f.e,"0"),10,n,e),h.e=h.c.length),c=d=(m=t(a,s,n,i?(r=G,e):(r=e,G))).length;0==m[--d];m.pop());if(!m[0])return r.charAt(0);if(p<0?--c:(f.c=m,f.e=c,f.s=o,m=(f=w(f,h,v,b,n)).c,u=f.r,c=f.e),p=m[l=c+v+1],d=n/2,u=u||l<0||null!=m[l+1],u=b<4?(null!=p||u)&&(0==b||b==(f.s<0?3:2)):p>d||p==d&&(4==b||u||6==b&&1&m[l-1]||b==(f.s<0?8:7)),l<1||!m[0])a=u?j(r.charAt(1),-v,r.charAt(0)):r.charAt(0);else{if(m.length=l,u)for(--n;++m[--l]>n;)m[l]=0,l||(++c,m=[1].concat(m));for(d=m.length;!m[--d];);for(p=0,a="";p<=d;a+=r.charAt(m[p++]));a=j(a,c,r.charAt(0))}return a}}(),w=function(){function e(e,t,a){var s,n,o,i,r=0,l=e.length,c=t%d,u=t/d|0;for(e=e.slice();l--;)r=((n=c*(o=e[l]%d)+(s=u*o+(i=e[l]/d|0)*c)%d*d+r)/a|0)+(s/d|0)+u*i,e[l]=n%a;return r&&(e=[r].concat(e)),e}function t(e,t,a,s){var n,o;if(a!=s)o=a>s?1:-1;else for(n=o=0;n<a;n++)if(e[n]!=t[n]){o=e[n]>t[n]?1:-1;break}return o}function a(e,t,a,s){for(var n=0;a--;)e[a]-=n,n=e[a]<t[a]?1:0,e[a]=n*s+e[a]-t[a];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(n,o,l,c,d){var u,g,m,h,p,v,j,b,w,y,x,_,A,T,O,N,S,E=n.s==o.s?1:-1,k=n.c,C=o.c;if(!(k&&k[0]&&C&&C[0]))return new $(n.s&&o.s&&(k?!C||k[0]!=C[0]:C)?k&&0==k[0]||!C?0*E:E/0:NaN);for(w=(b=new $(E)).c=[],E=l+(g=n.e-o.e)+1,d||(d=i,g=f(n.e/r)-f(o.e/r),E=E/r|0),m=0;C[m]==(k[m]||0);m++);if(C[m]>(k[m]||0)&&g--,E<0)w.push(1),h=!0;else{for(T=k.length,N=C.length,m=0,E+=2,(p=s(d/(C[0]+1)))>1&&(C=e(C,p,d),k=e(k,p,d),N=C.length,T=k.length),A=N,x=(y=k.slice(0,N)).length;x<N;y[x++]=0);S=C.slice(),S=[0].concat(S),O=C[0],C[1]>=d/2&&O++;do{if(p=0,(u=t(C,y,N,x))<0){if(_=y[0],N!=x&&(_=_*d+(y[1]||0)),(p=s(_/O))>1)for(p>=d&&(p=d-1),j=(v=e(C,p,d)).length,x=y.length;1==t(v,y,j,x);)p--,a(v,N<j?S:C,j,d),j=v.length,u=1;else 0==p&&(u=p=1),j=(v=C.slice()).length;if(j<x&&(v=[0].concat(v)),a(y,v,x,d),x=y.length,-1==u)for(;t(C,y,N,x)<1;)p++,a(y,N<x?S:C,x,d),x=y.length}else 0===u&&(p++,y=[0]);w[m++]=p,y[0]?y[x++]=k[A]||0:(y=[k[A]],x=1)}while((A++<T||null!=y[0])&&E--);h=null!=y[0],w[0]||w.splice(0,1)}if(d==i){for(m=1,E=w[0];E>=10;E/=10,m++);V(b,l+(b.e=m+g*r-1)+1,c,h)}else b.e=g,b.r=+h;return b}}(),T=/^(-?)0([xbo])(?=\w[\w.]*$)/i,O=/^([^.]+)\.$/,N=/^\.([^.]+)$/,S=/^-?(Infinity|NaN)$/,E=/^\s*\+(?=[\w.])|^\s+|\s+$/g,x=function(e,t,a,s){var o,i=a?t:t.replace(E,"");if(S.test(i))e.s=isNaN(i)?null:i<0?-1:1;else{if(!a&&(i=i.replace(T,(function(e,t,a){return o="x"==(a=a.toLowerCase())?16:"b"==a?2:8,s&&s!=o?e:t})),s&&(o=s,i=i.replace(O,"$1").replace(N,"0.$1")),t!=i))return new $(i,o);if($.DEBUG)throw Error(n+"Not a"+(s?" base "+s:"")+" number: "+t);e.s=null}e.c=e.e=null},k.absoluteValue=k.abs=function(){var e=new $(this);return e.s<0&&(e.s=1),e},k.comparedTo=function(e,t){return m(this,new $(e,t))},k.decimalPlaces=k.dp=function(e,t){var a,s,n,o=this;if(null!=e)return h(e,0,u),null==t?t=F:h(t,0,8),V(new $(o),e+o.e+1,t);if(!(a=o.c))return null;if(s=((n=a.length-1)-f(this.e/r))*r,n=a[n])for(;n%10==0;n/=10,s--);return s<0&&(s=0),s},k.dividedBy=k.div=function(e,t){return w(this,new $(e,t),D,F)},k.dividedToIntegerBy=k.idiv=function(e,t){return w(this,new $(e,t),0,1)},k.exponentiatedBy=k.pow=function(e,t){var o,i,l,c,d,u,f,g,m=this;if((e=new $(e)).c&&!e.isInteger())throw Error(n+"Exponent not an integer: "+Y(e));if(null!=t&&(t=new $(t)),d=e.e>14,!m.c||!m.c[0]||1==m.c[0]&&!m.e&&1==m.c.length||!e.c||!e.c[0])return g=new $(Math.pow(+Y(m),d?e.s*(2-p(e)):+Y(e))),t?g.mod(t):g;if(u=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new $(NaN);(i=!u&&m.isInteger()&&t.isInteger())&&(m=m.mod(t))}else{if(e.e>9&&(m.e>0||m.e<-1||(0==m.e?m.c[0]>1||d&&m.c[1]>=24e7:m.c[0]<8e13||d&&m.c[0]<=9999975e7)))return c=m.s<0&&p(e)?-0:0,m.e>-1&&(c=1/c),new $(u?1/c:c);M&&(c=a(M/r+2))}for(d?(o=new $(.5),u&&(e.s=1),f=p(e)):f=(l=Math.abs(+Y(e)))%2,g=new $(C);;){if(f){if(!(g=g.times(m)).c)break;c?g.c.length>c&&(g.c.length=c):i&&(g=g.mod(t))}if(l){if(0===(l=s(l/2)))break;f=l%2}else if(V(e=e.times(o),e.e+1,1),e.e>14)f=p(e);else{if(0===(l=+Y(e)))break;f=l%2}m=m.times(m),c?m.c&&m.c.length>c&&(m.c.length=c):i&&(m=m.mod(t))}return i?g:(u&&(g=C.div(g)),t?g.mod(t):c?V(g,M,F,undefined):g)},k.integerValue=function(e){var t=new $(this);return null==e?e=F:h(e,0,8),V(t,t.e+1,e)},k.isEqualTo=k.eq=function(e,t){return 0===m(this,new $(e,t))},k.isFinite=function(){return!!this.c},k.isGreaterThan=k.gt=function(e,t){return m(this,new $(e,t))>0},k.isGreaterThanOrEqualTo=k.gte=function(e,t){return 1===(t=m(this,new $(e,t)))||0===t},k.isInteger=function(){return!!this.c&&f(this.e/r)>this.c.length-2},k.isLessThan=k.lt=function(e,t){return m(this,new $(e,t))<0},k.isLessThanOrEqualTo=k.lte=function(e,t){return-1===(t=m(this,new $(e,t)))||0===t},k.isNaN=function(){return!this.s},k.isNegative=function(){return this.s<0},k.isPositive=function(){return this.s>0},k.isZero=function(){return!!this.c&&0==this.c[0]},k.minus=function(e,t){var a,s,n,o,l=this,c=l.s;if(t=(e=new $(e,t)).s,!c||!t)return new $(NaN);if(c!=t)return e.s=-t,l.plus(e);var d=l.e/r,u=e.e/r,g=l.c,m=e.c;if(!d||!u){if(!g||!m)return g?(e.s=-t,e):new $(m?l:NaN);if(!g[0]||!m[0])return m[0]?(e.s=-t,e):new $(g[0]?l:3==F?-0:0)}if(d=f(d),u=f(u),g=g.slice(),c=d-u){for((o=c<0)?(c=-c,n=g):(u=d,n=m),n.reverse(),t=c;t--;n.push(0));n.reverse()}else for(s=(o=(c=g.length)<(t=m.length))?c:t,c=t=0;t<s;t++)if(g[t]!=m[t]){o=g[t]<m[t];break}if(o&&(n=g,g=m,m=n,e.s=-e.s),(t=(s=m.length)-(a=g.length))>0)for(;t--;g[a++]=0);for(t=i-1;s>c;){if(g[--s]<m[s]){for(a=s;a&&!g[--a];g[a]=t);--g[a],g[s]+=i}g[s]-=m[s]}for(;0==g[0];g.splice(0,1),--u);return g[0]?z(e,g,u):(e.s=3==F?-1:1,e.c=[e.e=0],e)},k.modulo=k.mod=function(e,t){var a,s,n=this;return e=new $(e,t),!n.c||!e.s||e.c&&!e.c[0]?new $(NaN):!e.c||n.c&&!n.c[0]?new $(n):(9==I?(s=e.s,e.s=1,a=w(n,e,0,3),e.s=s,a.s*=s):a=w(n,e,0,I),(e=n.minus(a.times(e))).c[0]||1!=I||(e.s=n.s),e)},k.multipliedBy=k.times=function(e,t){var a,s,n,o,l,c,u,g,m,h,p,v,j,b,w,y=this,x=y.c,_=(e=new $(e,t)).c;if(!(x&&_&&x[0]&&_[0]))return!y.s||!e.s||x&&!x[0]&&!_||_&&!_[0]&&!x?e.c=e.e=e.s=null:(e.s*=y.s,x&&_?(e.c=[0],e.e=0):e.c=e.e=null),e;for(s=f(y.e/r)+f(e.e/r),e.s*=y.s,(u=x.length)<(h=_.length)&&(j=x,x=_,_=j,n=u,u=h,h=n),n=u+h,j=[];n--;j.push(0));for(b=i,w=d,n=h;--n>=0;){for(a=0,p=_[n]%w,v=_[n]/w|0,o=n+(l=u);o>n;)a=((g=p*(g=x[--l]%w)+(c=v*g+(m=x[l]/w|0)*p)%w*w+j[o]+a)/b|0)+(c/w|0)+v*m,j[o--]=g%b;j[o]=a}return a?++s:j.splice(0,1),z(e,j,s)},k.negated=function(){var e=new $(this);return e.s=-e.s||null,e},k.plus=function(e,t){var a,s=this,n=s.s;if(t=(e=new $(e,t)).s,!n||!t)return new $(NaN);if(n!=t)return e.s=-t,s.minus(e);var o=s.e/r,l=e.e/r,c=s.c,d=e.c;if(!o||!l){if(!c||!d)return new $(n/0);if(!c[0]||!d[0])return d[0]?e:new $(c[0]?s:0*n)}if(o=f(o),l=f(l),c=c.slice(),n=o-l){for(n>0?(l=o,a=d):(n=-n,a=c),a.reverse();n--;a.push(0));a.reverse()}for((n=c.length)-(t=d.length)<0&&(a=d,d=c,c=a,t=n),n=0;t;)n=(c[--t]=c[t]+d[t]+n)/i|0,c[t]=i===c[t]?0:c[t]%i;return n&&(c=[n].concat(c),++l),z(e,c,l)},k.precision=k.sd=function(e,t){var a,s,n,o=this;if(null!=e&&e!==!!e)return h(e,1,u),null==t?t=F:h(t,0,8),V(new $(o),e,t);if(!(a=o.c))return null;if(s=(n=a.length-1)*r+1,n=a[n]){for(;n%10==0;n/=10,s--);for(n=a[0];n>=10;n/=10,s++);}return e&&o.e+1>s&&(s=o.e+1),s},k.shiftedBy=function(e){return h(e,-9007199254740991,l),this.times("1e"+e)},k.squareRoot=k.sqrt=function(){var e,t,a,s,n,o=this,i=o.c,r=o.s,l=o.e,c=D+4,d=new $("0.5");if(1!==r||!i||!i[0])return new $(!r||r<0&&(!i||i[0])?NaN:i?o:1/0);if(0==(r=Math.sqrt(+Y(o)))||r==1/0?(((t=g(i)).length+l)%2==0&&(t+="0"),r=Math.sqrt(+t),l=f((l+1)/2)-(l<0||l%2),a=new $(t=r==1/0?"5e"+l:(t=r.toExponential()).slice(0,t.indexOf("e")+1)+l)):a=new $(r+""),a.c[0])for((r=(l=a.e)+c)<3&&(r=0);;)if(n=a,a=d.times(n.plus(w(o,n,c,1))),g(n.c).slice(0,r)===(t=g(a.c)).slice(0,r)){if(a.e<l&&--r,"9999"!=(t=t.slice(r-3,r+1))&&(s||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(V(a,a.e+D+2,1),e=!a.times(a).eq(o));break}if(!s&&(V(n,n.e+D+2,0),n.times(n).eq(o))){a=n;break}c+=4,r+=4,s=1}return V(a,a.e+D+1,F,e)},k.toExponential=function(e,t){return null!=e&&(h(e,0,u),e++),q(this,e,t,1)},k.toFixed=function(e,t){return null!=e&&(h(e,0,u),e=e+this.e+1),q(this,e,t)},k.toFormat=function(e,t,a){var s,o=this;if(null==a)null!=e&&t&&"object"==typeof t?(a=t,t=null):e&&"object"==typeof e?(a=e,e=t=null):a=B;else if("object"!=typeof a)throw Error(n+"Argument not an object: "+a);if(s=o.toFixed(e,t),o.c){var i,r=s.split("."),l=+a.groupSize,c=+a.secondaryGroupSize,d=a.groupSeparator||"",u=r[0],f=r[1],g=o.s<0,m=g?u.slice(1):u,h=m.length;if(c&&(i=l,l=c,c=i,h-=i),l>0&&h>0){for(i=h%l||l,u=m.substr(0,i);i<h;i+=l)u+=d+m.substr(i,l);c>0&&(u+=d+m.slice(i)),g&&(u="-"+u)}s=f?u+(a.decimalSeparator||"")+((c=+a.fractionGroupSize)?f.replace(new RegExp("\\d{"+c+"}\\B","g"),"$&"+(a.fractionGroupSeparator||"")):f):u}return(a.prefix||"")+s+(a.suffix||"")},k.toFraction=function(e){var t,a,s,o,i,l,d,u,f,m,h,p,v=this,j=v.c;if(null!=e&&(!(d=new $(e)).isInteger()&&(d.c||1!==d.s)||d.lt(C)))throw Error(n+"Argument "+(d.isInteger()?"out of range: ":"not an integer: ")+Y(d));if(!j)return new $(v);for(t=new $(C),f=a=new $(C),s=u=new $(C),p=g(j),i=t.e=p.length-v.e-1,t.c[0]=c[(l=i%r)<0?r+l:l],e=!e||d.comparedTo(t)>0?i>0?t:f:d,l=U,U=1/0,d=new $(p),u.c[0]=0;m=w(d,t,0,1),1!=(o=a.plus(m.times(s))).comparedTo(e);)a=s,s=o,f=u.plus(m.times(o=f)),u=o,t=d.minus(m.times(o=t)),d=o;return o=w(e.minus(a),s,0,1),u=u.plus(o.times(f)),a=a.plus(o.times(s)),u.s=f.s=v.s,h=w(f,s,i*=2,F).minus(v).abs().comparedTo(w(u,a,i,F).minus(v).abs())<1?[f,s]:[u,a],U=l,h},k.toNumber=function(){return+Y(this)},k.toPrecision=function(e,t){return null!=e&&h(e,1,u),q(this,e,t,2)},k.toString=function(e){var t,a=this,s=a.s,n=a.e;return null===n?s?(t="Infinity",s<0&&(t="-"+t)):t="NaN":(null==e?t=n<=L||n>=W?v(g(a.c),n):j(g(a.c),n,"0"):10===e&&H?t=j(g((a=V(new $(a),D+n+1,F)).c),a.e,"0"):(h(e,2,G.length,"Base"),t=y(j(g(a.c),n,"0"),10,e,s,!0)),s<0&&a.c[0]&&(t="-"+t)),t},k.valueOf=k.toJSON=function(){return Y(this)},k._isBigNumber=!0,k[Symbol.toStringTag]="BigNumber",k[Symbol.for("nodejs.util.inspect.custom")]=k.valueOf,null!=b&&$.set(b),$}(),e.default=e.BigNumber}));var __awaiter=this&&this.__awaiter||function(e,t,a,s){return new(a||(a=Promise))((function(n,o){function i(e){try{l(s.next(e))}catch(e){o(e)}}function r(e){try{l(s.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(i,r)}l((s=s.apply(e,t||[])).next())}))};define("dashboard/flamingo-api/api/api-client",["require","exports","axios"],(function(require,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(){this.api=t.default.create({baseURL:"https://neo-api.b-cdn.net"})}getWalletWalletHistory(e,t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/wallet/history",{neo_address:e,page:t})}))}getWalletWalletLatest(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/wallet/latest",{neo_address:e})}))}getWalletClaimsHistory(e,t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/claims/history",{neo_address:e,page:t})}))}getWalletClaimsLatest(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/claims/latest",{neo_address:e})}))}getWalletTradeHistory(e,t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/trade/history",{neo_address:e,page:t})}))}getWalletTradeLatest(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/trade/latest",{neo_address:e})}))}getWalletLpHistory(e,t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/lp/history",{neo_address:e,page:t})}))}getWalletLpLatest(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/lp/latest",{neo_address:e})}))}getWalletStakingHistory(e,t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/staking/history",{neo_address:e,page:t})}))}getWalletStakingLatest(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/staking/latest",{neo_address:e})}))}getWalletLendHistory(e,t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/lend/history",{neo_address:e,page:t})}))}getWalletLendLatest(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/lend/latest",{neo_address:e})}))}getWalletTransferHistory(e,t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/transfer/history",{neo_address:e,page:t})}))}getWalletTransferLatest(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/transfer/latest",{neo_address:e})}))}getFlamingoLivedataPricesLatest(){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/prices/latest",{})}))}getFlamingoLivedataPricesFromblock(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData(`/flamingo/live-data/prices/from-block/${e}`,{})}))}getFlamingoLivedataPricesFromdatetime({year:e,month:t,day:a,hour:s,minute:n}){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData(`/flamingo/live-data/prices/from-datetime/${e}/${t}/${a}/${s}/${n}`,{})}))}getFlamingoLivedataPricesFromtimestamp(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData(`/flamingo/live-data/prices/from-timestamp/${e}`,{})}))}getFlamingoLivedataFiatexchangerate(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData(`/flamingo/live-data/fiat-exchange-rate/${e}`,{})}))}getFlamingoLivedataClaimsHistory(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/claims/history",{page:e})}))}getFlamingoLivedataClaimsLatest(){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/claims/latest",{})}))}getFlamingoLivedataTradeHistory(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/trade/history",{page:e})}))}getFlamingoLivedataTradeLatest(){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/trade/latest",{})}))}getFlamingoLivedataLpHistory(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/lp/history",{page:e})}))}getFlamingoLivedataLpLatest(){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/lp/latest",{})}))}getFlamingoLivedataStakingHistory(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/staking/history",{page:e})}))}getFlamingoLivedataStakingLatest(){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/staking/latest",{})}))}getFlamingoLivedataLendHistory(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/lend/history",{page:e})}))}getFlamingoLivedataLendLatest(){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/lend/latest",{})}))}getFlamingoLivedataTransferHistory(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/transfer/history",{page:e})}))}getFlamingoLivedataTransferLatest(){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/transfer/latest",{})}))}getFlamingoAnalyticsMonthhistory(e,{year:t,month:a}){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData(`/flamingo/analytics/month-history/${e}`,{year:t,month:a})}))}getFlamingoAnalyticsMonthlatest(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData(`/flamingo/analytics/month-latest/${e}`,{})}))}getFlamingoAnalyticsDailyhistory(e,{year:t,month:a,day:s}){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData(`/flamingo/analytics/daily-history/${e}`,{year:t,month:a,day:s})}))}getFlamingoAnalyticsDailylatest(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData(`/flamingo/analytics/daily-latest/${e}`,{})}))}getFlamingoAnalyticsRolling30days(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData(`/flamingo/analytics/rolling-30-days/${e}`,{})}))}getFlamingoAnalyticsFlamingoTotalsupply(){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/analytics/flamingo/total-supply",{})}))}getFlamingoAnalyticsFlamingoUsdvaluelocked(){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/analytics/flamingo/usd-value-locked",{})}))}getNeoBlock(e,t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/neo/block",{index:e,flamingo_data:t})}))}getNeoBlockLatest(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/neo/block/latest",{flamingo_data:e})}))}getNeoBlocksHistory(e,t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/neo/blocks/history",{page:e,flamingo_data:t})}))}getNeoBlocksLatest(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/neo/blocks/latest",{flamingo_data:e})}))}getNeoTransaction(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/neo/transaction",{tx_hash:e})}))}fetchData(e,t={}){return __awaiter(this,void 0,void 0,(function*(){try{return(yield this.api.get(e,{params:t})).data}catch(t){throw console.error("Error fetching data from URL:",e,t),t}}))}}}));__awaiter=this&&this.__awaiter||function(e,t,a,s){return new(a||(a=Promise))((function(n,o){function i(e){try{l(s.next(e))}catch(e){o(e)}}function r(e){try{l(s.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(i,r)}l((s=s.apply(e,t||[])).next())}))};define("dashboard/wallet-manager/wallet-lib",["require","exports","@cityofzion/neon-core","@cityofzion/neon-core-neo3","ojs/ojlogger","axios","./bignumber","dashboard/flamingo-api/api/api-client","css!dashboard/wallet-manager/wallet-manager-styles.css","ojs/ojchart","ojs/ojactioncard","ojs/ojcolorspectrum","ojs/ojlistview","ojs/ojlistitemlayout","ojs/ojinputtext","ojs/ojbutton","ojs/ojformlayout","ojs/ojvalidationgroup","ojs/ojpopup","ojs/ojdefer"],(function(require,e,t,a,s,n,o,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addressFormat=e.STORAGE_VALUE_MESSAGE=e.DEFAULT_RPC_URLS=e.DEFAULT_N3_RPC_NETWORK=e.DEFAULT_N2_RPC_NETWORK=e.STORAGE_VALUE_TYPE=e.STORAGE_NAME=e.NetworkType=e.saveSelectedTagsToStorage=e.getSelectedTagsFromStorage=e.addToRatiosInStorage=e.loadRatiosFromStorage=e.deleteWalletFromStorage=e.updateWalletToStorage=e.addWalletToStorage=e.addWalletToStoragePK=e.loadWalletsFromStorage=e.loadWalletsFromStoragePK=e.getN3AllTxs=e.getN3AssetTxs=e.handleN3TxResponse=e.getN3AddressBalances=e.GAS3_CONTRACT=e.NEO3_CONTRACT=e.CWallet=e.KEY=void 0;new i.default,new t.rpc.RPCClient("https://rpc2.n3.nspcc.ru:10331");e.KEY="xxx";class r extends a.wallet.Wallet{constructor(e){super(e)}export(){return super.export()}}e.CWallet=r,e.NEO3_CONTRACT="0xef4073a0f2b305a38ec4050e4d3d28bc40ea63f5",e.GAS3_CONTRACT="0xd2a4cff31913016155e38e474a2c06d08be276cf";const l={NEO:{asset_id:e.NEO3_CONTRACT,symbol:"NEO",decimals:0,balance:"0"},GAS:{asset_id:e.GAS3_CONTRACT,symbol:"GAS",decimals:8,balance:"0"}};e.getN3AddressBalances=t=>__awaiter(void 0,void 0,void 0,(function*(){const a={jsonrpc:"2.0",method:"getnep17balances",params:[t],id:1};return(t=>{const a=[Object.assign({},l.NEO),Object.assign({},l.GAS)];return((null==t?void 0:t.balance)||[]).forEach((t=>{if(t.assethash===e.NEO3_CONTRACT)a[0].balance=t.amount;else if(t.assethash===e.GAS3_CONTRACT)a[1].balance=(0,o.default)(t.amount,10).shiftedBy(-t.decimals).toFixed();else{const e={balance:(0,o.default)(t.amount,10).shiftedBy(-t.decimals).toFixed(),asset_id:t.assethash,symbol:t.symbol,decimals:t.decimals};a.push(e)}})),Promise.resolve(a)})((yield n.default.post(e.DEFAULT_N3_RPC_NETWORK[0].rpcUrl,a)).data.result)}));const c=new Map,d=new Map;new Map;function u(t){const a=[],s=[],o=[];return t.forEach(((e,t)=>{if(c.has(e))o[t]=c.get(e);else{const n={jsonrpc:"2.0",id:1,method:"invokefunction",params:[e,"symbol"]};s.push(t),a.push(n)}})),0===a.length?Promise.resolve(o):n.default.post(e.DEFAULT_N3_RPC_NETWORK[0].rpcUrl,a).then((e=>(e.data.forEach(((e,a)=>{let n="";e.result.stack&&(n=e.result.stack[0].value,
"ByteArray"===e.result.stack[0].type&&(n=b(e.result.stack[0].value)),"ByteString"===e.result.stack[0].type&&(n=b(function(e){const t=atob(e);let a="";for(let e=0;e<t.length;e++){const s=t.charCodeAt(e).toString(16);a+=2===s.length?s:"0"+s}return a.toUpperCase()}(e.result.stack[0].value))));const i=s[a];c.set(t[i],n),o[i]=n})),o)))}e.handleN3TxResponse=a=>__awaiter(void 0,void 0,void 0,(function*(){const s=[];((null==a?void 0:a.sent)||[]).forEach((e=>{const t={block_time:Math.floor(e.timestamp/1e3),asset_id:e.assethash,from:[a.address],to:[e.transferaddress],value:`-${e.amount}`,txid:e.txhash,type:"sent",id:e.blockindex};s.push(t)})),((null==a?void 0:a.received)||[]).forEach((e=>{const t={block_time:Math.floor(e.timestamp/1e3),asset_id:e.assethash,from:[e.transferaddress],to:[a.address],value:e.amount,txid:e.txhash,type:"received",id:e.blockindex};s.push(t)})),s.sort(((e,t)=>0===e.txid.localeCompare(t.txid)?e.asset_id.localeCompare(t.asset_id):e.txid.localeCompare(t.txid)));for(let e=1;e<s.length;)s[e].txid===s[e-1].txid&&s[e].asset_id===s[e-1].asset_id?(s[e].value=(0,o.default)(s[e].value,10).plus((0,o.default)(s[e-1].value,10)),s[e].type=s[e].value.comparedTo(0)>0?"received":"sent",s[e].value=s[e].value.toFixed(),s.splice(e-1,1)):e++;const i=new Set;return s.forEach((e=>i.add(e.asset_id))),yield u(Array.from(i)),yield function(a){const s=[],i=[],r=[];return a.forEach(((e,t)=>{if(d.has(e))r[t]=d.get(e);else{const a={jsonrpc:"2.0",id:1,method:"invokefunction",params:[e,"decimals"]};i.push(t),s.push(a)}})),0===s.length?Promise.resolve(r):n.default.post(e.DEFAULT_N3_RPC_NETWORK[0].rpcUrl,s).then((e=>(e.data.forEach(((e,s)=>{let n=0;if(e.result.stack&&(n=e.result.stack[0].value,"Integer"===e.result.stack[0].type&&(n=Number(e.result.stack[0].value||0)),"ByteArray"===e.result.stack[0].type)){const a=t.u.reverseHex(e.result.stack[0].value);n=(0,o.default)(a||0,16).toNumber()}const l=i[s];d.set(a[l],n),r[l]=n})),r)))}(Array.from(i)),s.forEach(((e,t)=>{s[t].symbol=c.get(e.asset_id);const a=d.get(e.asset_id);a&&(s[t].value=(0,o.default)(s[t].value,10).shiftedBy(-a).toFixed())})),s}));e.getN3AssetTxs=(t,a)=>__awaiter(void 0,void 0,void 0,(function*(){return(yield(0,e.getN3AllTxs)(t)).filter((e=>e.asset_id===a))}));e.getN3AllTxs=t=>__awaiter(void 0,void 0,void 0,(function*(){const a=Math.floor((new Date).getTime())-2592e6,s={jsonrpc:"2.0",method:"getnep17transfers",params:[t,a],id:1};let o=yield n.default.post(e.DEFAULT_N3_RPC_NETWORK[0].rpcUrl,s);return o=yield(0,e.handleN3TxResponse)(o.data.result),o=o.sort(((e,t)=>t.block_time-e.block_time)),o}));e.loadWalletsFromStoragePK=()=>(console.log("wallet-lib > loadWalletsFromStorage"),h(g["walletArr-Neo3"]));e.loadWalletsFromStorage=()=>(console.log("wallet-lib > loadWalletsFromStorage"),h(g["walletPubArr-Neo3"]));e.addWalletToStoragePK=(t,n,o,i)=>{const l=new a.wallet.Account(n),c=a.wallet.isAddress(l.address,53)?"Neo3":"Neo2";s.info("configureWallet > chainType =",c);const d=new r({name:null!=t?t:"nxTraderUser",walletColor:i.toString()});d.walletColor=i,d.addAccount(l);d.accounts[0].WIF;d.encrypt(0,o);const u=(0,e.loadWalletsFromStoragePK)();u.push(d),p(g.chainType,c),p(g["walletArr-Neo3"],u);const{address:f}=l};e.addWalletToStorage=(t,a,n,o,i,l)=>{const c="Neo3";s.info("configureWallet > chainType =",c);const d=new r({name:null!=t?t:"nxTraderUser",walletColor:i.toString()});d.walletColor=i,d.publicKey=a,d.goal=o,d.tags=l;const u=(0,e.loadWalletsFromStorage)();u.push(d),p(g.chainType,c),p(g["walletPubArr-Neo3"],u)};e.updateWalletToStorage=(t,a,s,n,o)=>{const i=(0,e.loadWalletsFromStorage)(),r=i.find((e=>e.name===t));if(r){const e=r;n&&(e.walletColor=n),e.goal=s,console.log("try save ",o),e.tags=o,e.publicKey=a}p(g["walletPubArr-Neo3"],i)};e.deleteWalletFromStorage=t=>{const a=(0,e.loadWalletsFromStorage)(),s=a.find((e=>e.name===t)),n=a.findIndex((e=>e.name===t));console.log("wallet-lib > deleteWalletFromStorage",s,n,a),a.splice(n,1),p(g["walletPubArr-Neo3"],a)};e.loadRatiosFromStorage=()=>h(g.ratios);e.addToRatiosInStorage=(t,a)=>{const s=(0,e.loadRatiosFromStorage)();s.set(t,a);p(g.ratios,s)};e.getSelectedTagsFromStorage=()=>(console.log("wallet-lib > getSelectedTagsFromStorage"),h(g.selectedTags));var f,g,m;function h(t){let a=localStorage[t],s=a;switch(e.STORAGE_VALUE_MESSAGE[t].type){case m.object:s=a&&"undefined"!==a?JSON.parse(a):{};break;case m.array:s=a&&"undefined"!==a?JSON.parse(a):[];break;case m.map:s=a&&"undefined"!==a?new Map(JSON.parse(a)):new Map;break;case m.number:s=a&&"undefined"!==a?Number(a):0;break;case m.boolean:s="true"===a}return s}function p(t,a){let s=a;switch(e.STORAGE_VALUE_MESSAGE[t].type){case m.object:case m.array:s=JSON.stringify(a);break;case m.number:case m.boolean:s=String(a);break;case m.array:s=JSON.stringify(a)}localStorage.setItem(t,s)}e.saveSelectedTagsToStorage=e=>{p(g.selectedTags,e)},function(e){e.MainNet="MainNet",e.TestNet="TestNet",e.N3MainNet="N3MainNet",e.N3TestNet="N3TestNet",e.N3PrivateNet="N3PrivateNet"}(f=e.NetworkType||(e.NetworkType={})),function(e){e.n2Networks="n2Networks",e.n3Networks="n3Networks",e.n2SelectedNetworkIndex="n2SelectedNetworkIndex",e.n3SelectedNetworkIndex="n3SelectedNetworkIndex",e.coinsRate="coinsRate",e.fiatRate="fiatRate",e.neo3CoinsRate="neo3CoinsRate",e.rateCurrency="rateCurrency",e.wallet="wallet",e.walletArr="walletArr",e["walletArr-Neo3"]="walletArr-Neo3",e["walletPubArr-Neo3"]="walletPubArr-Neo3",e.WIFArr="WIFArr",e["WIFArr-Neo3"]="WIFArr-Neo3",e.chainType="chainType",e.neo3AddressFlag="neo3AddressFlag",e.lang="lang",e.transaction="transaction",e.connectedWebsites="connectedWebsites",e.authAddress="authAddress",e.InvokeArgsArray="InvokeArgsArray",e.walletsStatus="walletsStatus",e.haveBackupTip="haveBackupTip",e.hasLoginAddress="hasLoginAddress",e.shouldFindNode="shouldFindNode",e.rpcUrls="rpcUrls",e.neo3RemoveT4Flag="neo3RemoveT4Flag",e.onePassword="onePassword",e.theme="theme",e.onePassCheckAddresses="onePassCheckAddresses",e.ratios="ratios",e.selectedTags="selectedTags"}(g=e.STORAGE_NAME||(e.STORAGE_NAME={})),function(e){e.number="number",e.string="string",e.object="object",e.map="map",e.boolean="boolean",e.array="array"}(m=e.STORAGE_VALUE_TYPE||(e.STORAGE_VALUE_TYPE={})),e.DEFAULT_N2_RPC_NETWORK=[{rpcUrl:"http://seed1.ngd.network:10332",name:"N2 MAINNET",explorer:"https://neo2.neotube.io/",network:f.MainNet,chainId:1,id:1},{rpcUrl:"http://seed5.ngd.network:20332",name:"N2 TESTNET",explorer:"",network:f.TestNet,chainId:2,id:2}],e.DEFAULT_N3_RPC_NETWORK=[{rpcUrl:"http://seed2.neo.org:10332",name:"N3 MAINNET",magicNumber:860833102,explorer:"https://neotube.io/",network:f.N3MainNet,chainId:3,id:3},{rpcUrl:"http://seed3t5.neo.org:20332",name:"N3 TESTNET",magicNumber:894710606,explorer:"https://testnet.neotube.io/",network:f.N3TestNet,chainId:6,id:6}],e.DEFAULT_RPC_URLS={lastModified:null,nodes:{1:["http://seed6.ngd.network:10332","http://seed8.ngd.network:10332"],2:["http://seed3.ngd.network:20332","http://seed4.ngd.network:20332","http://seed5.ngd.network:20332","http://seed8.ngd.network:20332"],3:["http://seed1.neo.org:10332","http://seed2.neo.org:10332","http://seed3.neo.org:10332","http://seed4.neo.org:10332","http://seed5.neo.org:10332","https://n3seed1.ngd.network:10332","https://n3seed2.ngd.network:10332","https://neo3-mainnet.neoline.vip"],6:["http://seed1t5.neo.org:20332","http://seed2t5.neo.org:20332","http://seed3t5.neo.org:20332","http://seed4t5.neo.org:20332","http://seed5t5.neo.org:20332"]}},e.STORAGE_VALUE_MESSAGE={n2Networks:{type:m.array,isLocal:!0,default:e.DEFAULT_N2_RPC_NETWORK},n3Networks:{type:m.array,isLocal:!0,default:e.DEFAULT_N3_RPC_NETWORK},n2SelectedNetworkIndex:{type:m.number,isLocal:!0,default:0},n3SelectedNetworkIndex:{type:m.number,isLocal:!0,default:0},coinsRate:{type:m.object,isLocal:!1},fiatRate:{type:m.object,isLocal:!1},neo3CoinsRate:{type:m.object,isLocal:!1},rateCurrency:{type:m.string,isLocal:!1,default:"USD"},wallet:{type:m.object,isLocal:!0},walletArr:{type:m.array,isLocal:!0},"walletArr-Neo3":{type:m.array,isLocal:!0},"walletPubArr-Neo3":{type:m.array,isLocal:!0},WIFArr:{type:m.array,isLocal:!0},"WIFArr-Neo3":{type:m.array,isLocal:!0},chainType:{type:m.string,isLocal:!0},neo3AddressFlag:{type:m.boolean,isLocal:!0},lang:{type:m.string,isLocal:!1,default:"en"},transaction:{type:m.object,isLocal:!1},connectedWebsites:{type:m.object,isLocal:!1},authAddress:{type:m.object,isLocal:!1},InvokeArgsArray:{type:m.array,isLocal:!0},walletsStatus:{type:m.object,isLocal:!0},haveBackupTip:{type:m.boolean,isLocal:!0},hasLoginAddress:{type:m.object,isLocal:!0},shouldFindNode:{type:m.boolean,isLocal:!0},rpcUrls:{type:m.object,isLocal:!0,default:e.DEFAULT_RPC_URLS},neo3RemoveT4Flag:{type:m.boolean,isLocal:!0},onePassword:{type:m.boolean,isLocal:!0},theme:{type:m.string,isLocal:!1,default:"light-theme"},onePassCheckAddresses:{type:m.object,isLocal:!0},ratios:{type:m.map,isLocal:!0},selectedTags:{type:m.array,isLocal:!0}};const v=/^([0-9A-Fa-f]{2})*$/;function j(e){if(!function(e){try{return v.test(e)}catch(e){return!1}}(e))throw new Error(`Expected a hexstring but got ${e}`)}function b(e){return t=function(e){if(j(e),!e.length)return new Uint8Array(0);const t=e.length/2,a=new Uint8Array(t);for(let s=0;s<t;s++)a[s]=parseInt(e.substring(0,2),16),e=e.substring(2);return a}(e),String.fromCharCode.apply(null,Array.from(new Uint8Array(t)));var t}e.addressFormat=e=>{try{return`${e.substring(0,6)}...${e.substring(e.length-6,e.length)}`}catch(e){}return e}}));__awaiter=this&&this.__awaiter||function(e,t,a,s){return new(a||(a=Promise))((function(n,o){function i(e){try{l(s.next(e))}catch(e){o(e)}}function r(e){try{l(s.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(i,r)}l((s=s.apply(e,t||[])).next())}))};define("dashboard/price-list/price-list",["require","exports","preact/jsx-runtime","ojs/ojvcomponent","preact/hooks","@preact/signals","ojs/ojconverter-number","ojs/ojarraydataprovider","dashboard/flamingo-api/api/api-client","css!dashboard/price-list/price-list-styles.css","ojs/ojlistview","ojs/ojlistitemlayout"],(function(require,e,t,a,s,n,o,i,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.startPriceRefreshTimer=e.isAutoPriceRefreshRunning=e.stopPriceRefreshTimer=e.PriceList=e.prices=void 0;e.prices=(0,n.signal)([]);let l=(0,n.signal)(0);const c=new r.default;function d(){(function(){return __awaiter(this,void 0,void 0,(function*(){return c.getFlamingoLivedataPricesLatest()}))})().then((t=>{console.log("price-list > refreshPrices > completed",t),e.prices.value=t}))}function u(){0!==l.value&&(console.log("price-list > stop refresh timer"),clearInterval(l.value),l.value=0)}function f(){0===l.value&&(console.log("price-list > start refresh timer"),l.value=setInterval(d,3e5))}e.PriceList=(0,a.registerCustomElement)("dashboard-price-list",(function({pricesToShow:a}){const n=e.prices.value.filter((function(e){return!!a&&a.indexOf(e.symbol)>=0})),r=new i(null!=n?n:[],{keyAttributes:"symbol"}),l=new o.IntlNumberConverter({style:"currency",currency:"USD",currencyDisplay:"symbol",currencyFormat:"standard",decimalFormat:"long",maximumFractionDigits:12});return(0,s.useEffect)((()=>(d(),f(),()=>u())),[]),(0,t.jsx)("div",{children:(0,t.jsx)("oj-list-view",Object.assign({id:"lvPrices","aria-label":"flamingo price list",data:r,class:"oj-listview-item-padding-off","selection-mode":"none"},{children:(0,t.jsx)("template",{slot:"itemTemplate","data-oj-as":"item",render:e=>(0,t.jsx)("div",{children:(0,t.jsxs)("div",Object.assign({className:"oj-flex oj-sm-padding-2x"},{children:[(0,t.jsx)("img",{src:`styles/images/${e.item.data.symbol}.svg`,class:"token"}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",Object.assign({className:"oj-flex"},{children:[(0,t.jsx)("span",Object.assign({class:"oj-typography-body-md oj-text-color-primary"},{children:e.item.data.unwrappedSymbol})),(0,t.jsxs)("span",Object.assign({class:"oj-typography-body-sm oj-text-color-secondary oj-md-padding-2x-start oj-sm-padding-1x-top"},{children:["(",e.item.data.symbol,")"]}))]})),(0,t.jsx)("div",Object.assign({style:{fontSize:22}},{children:l.format(e.item.data.usd_price)}))]})]}))})})}))})}),"PriceList",{properties:{pricesToShow:{type:"Array<string>"}}}),e.stopPriceRefreshTimer=u,e.isAutoPriceRefreshRunning=(0,n.computed)((()=>l.value>0)),e.startPriceRefreshTimer=f})),define("dashboard/wallet-manager/wallet-list-filter",["require","exports","preact/jsx-runtime","./wallet-manager","ojs/ojarraydataprovider","./wallet-lib"],(function(require,e,t,a,s,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WalletListFilter=void 0,e.WalletListFilter=function({}){console.log("wallet-list-filter > render",a.tagsAsArray.value);const e=new s(a.tagsAsArray.value,{keyAttributes:"name"});return(0,t.jsx)("div",Object.assign({style:"width: 90%"},{children:(0,t.jsx)("oj-select-many",{labelHint:"filter wallets by tags :",labelEdge:"inside",options:e,value:a.selectedTags.value,onvalueChanged:e=>{"internal"===e.detail.updatedFrom&&(console.log("wallet-list-filter > onvalueChanged",e.detail.updatedFrom,e.detail.previousValue,e.detail.value),a.selectedTags.value=e.detail.value,(0,n.saveSelectedTagsToStorage)(e.detail.value))}})}))}})),define("dashboard/wallet-manager/wallet-list",["require","exports","preact/jsx-runtime","preact/hooks","@preact/signals","ojs/ojarraydataprovider","ojs/ojconverter-number","ojs/ojcolor","ojs/ojcolor","dashboard/price-list/price-list","./wallet-list-filter","css!dashboard/wallet-manager/wallet-manager-styles.css","ojs/ojbutton","ojs/ojactioncard","ojs/ojcolorspectrum","ojs/ojlistview","ojs/ojlistitemlayout","ojs/ojinputtext","ojs/ojbutton","ojs/ojformlayout","ojs/ojvalidationgroup","ojs/ojgauge"],(function(require,e,t,a,s,n,o,i,r,l,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.refreshLastUpdatedTime=e.WalletList=void 0;let d=(0,s.signal)(void 0),u=(0,s.signal)(0);const f=(0,s.computed)((()=>!l.isAutoPriceRefreshRunning.value)),g=(0,s.computed)((()=>!!l.isAutoPriceRefreshRunning.value));function m(){console.log("wallet-list > refreshLastUpdatedLabel");var e=Math.abs(Date.now()-d.peek()),t=Math.floor(e/1e3);u.value=t}e.WalletList=function({wallets:e,walletsMetadata:s,showAddWallet:d,showEditWallet:h,tryDeleteWallet:p,walletSelected:v,refreshAllWalletBalances:j}){const b=new o.IntlNumberConverter({style:"currency",currency:"USD",currencyDisplay:"symbol",currencyFormat:"standard",decimalFormat:"long",maximumFractionDigits:12}),w=new n(e,{keyAttributes:"name"});return(0,a.useEffect)((()=>{const e=setInterval(m,1e4);return()=>clearInterval(e)}),[]),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",Object.assign({className:"oj-flex oj-sm-margin-7x-start oj-sm-margin-7x-end"},{children:[(0,t.jsxs)("oj-button",Object.assign({id:"butAddWallet",display:"all",onojAction:d,class:"oj-button-sm"},{children:[(0,t.jsx)("span",{slot:"startIcon",class:"oj-ux-ico-plus"}),"Add Wallet"]})),(0,t.jsx)("span",{className:"oj-flex-item"}),(0,t.jsxs)("span",Object.assign({class:"oj-sm-padding-2x-end oj-sm-padding-4x-top oj-text-color-secondary"},{children:["last updated ",u," second(s) ago"]})),(0,t.jsxs)("oj-button",Object.assign({id:"butRefreshBalances",display:"icons",hidden:!0,onojAction:j,class:"oj-button-sm oj-sm-flex-initial oj-flex-item  oj-sm-margin-2x-end"},{children:[(0,t.jsx)("span",{slot:"startIcon",class:"oj-ux-ico-refresh"}),"Refresh wallet balances"]})),(0,t.jsxs)("oj-button",Object.assign({id:"butPause",display:"icons",onojAction:l.stopPriceRefreshTimer,class:"oj-button-sm oj-sm-flex-initial oj-flex-item",hidden:f.value},{children:[(0,t.jsx)("span",{slot:"startIcon",class:"oj-ux-ico-pause"}),"Pause autorefresh"]})),(0,t.jsxs)("oj-button",Object.assign({id:"butPlay",display:"icons",onojAction:l.startPriceRefreshTimer,class:"oj-button-sm oj-sm-flex-initial oj-flex-item",hidden:g.value},{children:[(0,t.jsx)("span",{slot:"startIcon",class:"oj-ux-ico-play"}),"Start autorefresh (runs every 60 seconds)"]}))]})),(0,t.jsx)("oj-list-view",Object.assign({id:"lvWallets","aria-label":"wallets",data:w,gridlines:{item:"visible"},class:"oj-sm-padding-3x-top oj-sm-padding-3x-start oj-sm-padding-3x-end",selectionMode:"none",onselectedChanged:v},{children:(0,t.jsx)("template",{slot:"itemTemplate","data-oj-as":"item",render:function(e){var a;const n={width:"5px",height:"50px",backgroundColor:(e.item.data.walletColor?new r(e.item.data.walletColor):i.BLACK).toString()},o=s.get(e.key);let l=0;return o&&"runningWalletTotalInUsd"in o&&(l=o.runningWalletTotalInUsd),(0,t.jsx)("li",Object.assign({style:"align-items:center;"},{children:(0,t.jsxs)("oj-list-item-layout",Object.assign({style:"width:100%"},{children:[(0,t.jsx)("div",{slot:"leading",style:n}),(0,t.jsx)("div",Object.assign({class:"oj-typography-body-md oj-text-color-primary"},{children:e.item.data.name})),(0,t.jsx)("div",Object.assign({slot:"secondary",class:"oj-typography-body-sm oj-text-color-secondary",style:"min-width: 200px;"},{children:e.item.data.publicKey?e.item.data.publicKey:e.item.data.accounts[0].label})),(0,t.jsx)("div",Object.assign({slot:"tertiary",class:"oj-flex oj-typography-body-sm oj-text-color-secondary"},{children:null===(a=e.item.data.tags)||void 0===a?void 0:a.map((e=>(0,t.jsx)("div",Object.assign({class:"tag-item"},{children:e}))))})),(0,t.jsxs)("div",Object.assign({slot:"metadata",class:"oj-flex"},{children:[(0,t.jsx)("img",{src:"styles/images/FUSDT.svg",style:{width:"25px"}}),(0,t.jsx)("span",Object.assign({class:"oj-sm-padding-2x-start oj-sm-padding-2x-end oj-sm-padding-6x-top",style:{verticalAlign:"super"}},{children:b.format(null!=l?l:0)})),(0,t.jsx)("oj-status-meter-gauge",{"labelled-by":"readOnly",orientation:"circular",min:0,max:e.item.data.goal,value:null!=l?l:0,metricLabel:{rendered:"off"},plotArea:{rendered:"on"},innerRadius:.57,size:"sm",startAngle:180,angleExtent:180,class:"oj-sm-padding-3x-top oj-sm-margin-0x",hidden:!(e.item.data.goal&&e.item.data.goal>0),readonly:!0})]})),(0,t.jsx)("div",{slot:"trailing",style:{width:"50px"}}),(0,t.jsxs)("div",Object.assign({slot:"action"},{children:[(0,t.jsxs)("oj-button",Object.assign({id:"bEdit",display:"icons",onojAction:h,class:"oj-button-sm","row-data":e.item.data.name},{children:[(0,t.jsx)("span",{slot:"startIcon",class:"oj-ux-ico-edit"}),"Edit"]})),(0,t.jsxs)("oj-button",Object.assign({id:"bDelete",display:"icons",onojAction:p,class:"oj-button-sm oj-sm-padding-2x-start","row-data":e.item.data.name},{children:[(0,t.jsx)("span",{slot:"startIcon",class:"oj-ux-ico-trash"}),"Delete"]}))]}))]}))}))}})})),(0,t.jsx)("ul",{children:(y=function(e){let t=0,a=0;return e.forEach(((e,s)=>{let n=0;if(e&&"goal"in e&&(n=e.goal,a+=n),e&&"runningWalletTotalInUsd"in e){const a=e.runningWalletTotalInUsd;t+=a}})),{runningWalletsTotalInUsd:t,runningGoal:a}}(s),(0,t.jsxs)("oj-list-item-layout",Object.assign({id:"lilFooter",style:""},{children:[(0,t.jsx)("div",{children:(0,t.jsx)(c.WalletListFilter,{})}),(0,t.jsxs)("div",Object.assign({slot:"metadata",class:"oj-flex"},{children:[(0,t.jsx)("img",{src:"styles/images/FUSDT.svg",style:{width:"25px"}}),(0,t.jsx)("span",Object.assign({class:"oj-sm-padding-2x-start oj-sm-padding-2x-end oj-sm-padding-6x-top",style:{verticalAlign:"super"}},{children:b.format(null!==(x=y.runningWalletsTotalInUsd)&&void 0!==x?x:0)})),(0,t.jsx)("oj-status-meter-gauge",{"labelled-by":"readOnly",orientation:"circular",min:0,max:y.runningGoal,value:null!==(_=y.runningWalletsTotalInUsd)&&void 0!==_?_:0,metricLabel:{rendered:"off"},plotArea:{rendered:"on"},innerRadius:.57,size:"sm",startAngle:180,angleExtent:180,class:"oj-sm-padding-3x-top oj-sm-margin-0x",readonly:!0})]})),(0,t.jsx)("div",{slot:"trailing",style:{width:"50px"}}),(0,t.jsx)("div",{slot:"action",style:{width:"52px"}})]})))})]});var y,x,_},e.refreshLastUpdatedTime=function(e){console.log("wallet-list > refreshLastUpdatedLabelNow"),d.value=e,m()}})),define("dashboard/wallet-manager/wallet-charts",["require","exports","preact/jsx-runtime","ojs/ojarraydataprovider","css!dashboard/wallet-manager/wallet-manager-styles.css","ojs/ojbutton","ojs/ojactioncard","ojs/ojcolorspectrum","ojs/ojlistview","ojs/ojlistitemlayout","ojs/ojinputtext","ojs/ojbutton","ojs/ojformlayout","ojs/ojvalidationgroup"],(function(require,e,t,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WalletCharts=void 0,e.WalletCharts=function({chartData:e}){const s=new a(e,{keyAttributes:"id"});return(0,t.jsxs)("div",Object.assign({class:"oj-flex oj-sm-margin-7x-start oj-sm-margin-7x-end"},{children:[(0,t.jsx)("oj-chart",{id:"lineAreaChart",type:"lineWithArea",style:"width:50%;",data:s,"animation-on-display":"auto","animation-on-data-change":"auto",orientation:"vertical",stack:"on","hover-behavior":"dim",styleDefaults:{lineType:"centeredStepped",markerDisplayed:"off",lineStyle:"solid"}}),(0,t.jsx)("oj-chart",{id:"pieChart",type:"pie",style:"width:50%;",data:s,"animation-on-display":"auto","animation-on-data-change":"auto","hover-behavior":"dim"})]}))}})),define("dashboard/wallet-manager/wallet-editor",["require","exports","preact/jsx-runtime","preact/hooks","@preact/signals","./wallet-lib","css!dashboard/wallet-manager/wallet-manager-styles.css","ojs/ojbutton","ojs/ojactioncard","ojs/ojcolorspectrum","ojs/ojlistview","ojs/ojlistitemlayout","ojs/ojinputtext","ojs/ojbutton","ojs/ojformlayout","ojs/ojvalidationgroup","ojs/ojinputnumber","ojs/ojselectcombobox"],(function(require,e,t,a,s,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WalletEditor=void 0,e.WalletEditor=function({tryCreate:e,tryUpdate:o,clear:i,close:r,showAddWallet:l,refreshAllWalletBalances:c}){const d=(0,s.signal)(void 0);return(0,a.useEffect)((()=>()=>{console.log("wallet-editor > disposed!!!!!!")}),[]),(0,t.jsx)("div",{children:(0,t.jsx)("div",Object.assign({id:"walletEditor",className:"oj-sm-margin-4x-start oj-sm-padding-3x",hidden:!0},{children:(0,t.jsx)("oj-validation-group",Object.assign({id:"tracker",valid:d.value},{children:(0,t.jsxs)("oj-form-layout",{children:[(0,t.jsx)("oj-input-text",{id:"wn",required:!0,"label-hint":"wallet name"}),(0,t.jsx)("oj-input-password",{id:"wpk",required:!0,"label-hint":"public key","mask-icon":"visible"}),(0,t.jsx)("oj-input-password",{id:"wk",required:!1,value:n.KEY,"label-hint":"key","mask-icon":"visible",style:"display:none",hidden:!0}),(0,t.jsx)("oj-input-number",{id:"wg",onKeyPress:e=>{let t=e.which?e.which:e.keyCode,a=String.fromCharCode(t),s=a.replace(/[^0-9\.]/g,"");a!==s&&e.preventDefault()},labelHint:"Goal (fUSDT)",labelEdge:"inside"}),(0,t.jsx)("oj-color-spectrum",{id:"wcol","label-hint":"wallet color"}),(0,t.jsxs)("oj-combobox-many",Object.assign({id:"wt",class:"oj-form-control-max-width-md",labelEdge:"none",placeholder:"keywords to tag this wallet with"},{children:[(0,t.jsx)("oj-option",Object.assign({value:"bot"},{children:"bot"})),(0,t.jsx)("oj-option",Object.assign({value:"fees"},{children:"fees"})),(0,t.jsx)("oj-option",Object.assign({value:"flamingo"},{children:"flamingo"})),(0,t.jsx)("oj-option",Object.assign({value:"personal"},{children:"personal"}))]})),(0,t.jsxs)("div",Object.assign({className:"oj-flex"},{children:[(0,t.jsx)("oj-button",Object.assign({id:"butCreate",onojAction:e,chroming:"callToAction"},{children:"Create"})),(0,t.jsx)("oj-button",Object.assign({id:"butUpdate",onojAction:o,hidden:!0,chroming:"callToAction"},{children:"Update"})),(0,t.jsx)("oj-button",Object.assign({id:"butClear",onojAction:i,class:"oj-sm-padding-2x-start"},{children:"Clear"})),(0,t.jsx)("oj-button",Object.assign({id:"butClose",onojAction:r,hidden:!0,class:"oj-sm-padding-2x-start"},{children:"Close"}))]}))]})}))}))})}})),define("dashboard/notifications-layer/notifications-layer",["require","exports","preact/jsx-runtime","ojs/ojvcomponent","ojs/ojarraydataprovider","@preact/signals","css!dashboard/notifications-layer/notifications-layer-styles.css","ojs/ojmessages"],(function(require,e,t,a,s,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createNotification=e.NotificationsLayer=void 0;const o=(0,n.signal)([]);e.NotificationsLayer=(0,a.registerCustomElement)("dashboard-notifications-layer",(function({}){const e=new s(o.value,{keyAttributes:"id"});return(0,t.jsx)("div",{children:(0,t.jsx)("oj-messages",{class:"oj-color-invert",messages:e,display:"notification",position:{my:{vertical:"top",horizontal:"end"},at:{vertical:"top",horizontal:"end"},of:"window"}})})}),"NotificationsLayer"),e.createNotification=function(e){o.value=[e]}})),define("dashboard/flamingo-api/data/tokens",["require","exports"],(function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findTokenByHash=void 0;e.findTokenByHash=function e(t,a,s){for(var n in t){var o=t[n];if("object"==typeof o){var i=e(o,a,o);if(i)return i}if(o===a)return s}},e.default={FLM:{symbol:"FLM",decimals:8,hash:"0xf0151f528127558851b39c2cd8aa47da7418ab28"},FLUND:{symbol:"FLUND",decimals:8,hash:"0xa9603a59e21d29e37ac39cf1b5f5abf5006b22a3"},TIPS:{symbol:"TIPS",decimals:8,hash:"0x340720c7107ef5721e44ed2ea8e314cce5c130fa"},NEO:{symbol:"NEO",decimals:0,hash:"0xef4073a0f2b305a38ec4050e4d3d28bc40ea63f5"},GAS:{symbol:"GAS",decimals:8,hash:"0xd2a4cff31913016155e38e474a2c06d08be276cf"},bNEO:{symbol:"bNEO",decimals:8,hash:"0x48c40d4666f93408be1bef038b6722404d9a4c2a"},FUSD:{symbol:"FUSD",decimals:8,hash:"0x1005d400bcc2a56b7352f09e273be3f9933a5fb1"},LRB:{symbol:"LRB",decimals:8,hash:"0x8c07b4c9f5bc170a3922eac4f5bb7ef17b0acc8b"},USDL:{symbol:"USDL",decimals:8,hash:"0xa8c51aa0c177187aeed3db88bdfa908ccbc9b1a5"},SOM:{symbol:"SOM",decimals:8,hash:"0x2d4c6cf0417209a7eb410160344e224e74f87195"},CANDY:{symbol:"CANDY",decimals:9,hash:"0x88da18a5bca86ec8206d9b4960a7d0c4355a432f"},DOGER:{symbol:"DOGER",decimals:8,hash:"0x322b5a366ca724801a1aa01e669b5f3d7f8c7f6f"},DOGEF:{symbol:"DOGEF",decimals:8,hash:"0xa3291b66f70d4687fc0e41977d8acb0699f235ae"},FDE:{symbol:"FDE",decimals:8,hash:"0x9770f4d78a19d1a6fa94b472bcedffcc06b56c49"},fUSDT:{symbol:"fUSDT",decimals:6,hash:"0xcd48b160c1bbc9d74997b803b9a7ad50a4bef020"},fWETH:{symbol:"fWETH",decimals:18,hash:"0xc14b601252aa5dfa6166cf35fe5ccd2e35f3fdf5"},fWBTC:{symbol:"fWBTC",decimals:8,hash:"0xd6abe115ecb75e1fa0b42f5e85934ce8c1ae2893"},pONT:{symbol:"pONT",decimals:9,hash:"8122bc2212ec971690a044b37a6f52a9349b702b"},pWING:{symbol:"pWING",decimals:9,hash:"0xeeccd60ed722111f8400434dac3ba42c14d8beb1"},GM:{symbol:"GM",decimals:8,hash:"0x9b049f1283515eef1d3f6ac610e1595ed25ca3e9"},fCAKE:{symbol:"fCAKE",decimals:18,hash:"0xe65b462b90516012826f8a9c4c285d8c750e3a77"},SWTH:{symbol:"SWTH",decimals:8,hash:"0x78e1330db47634afdb5ea455302ba2d12b8d549f"},fBNB:{symbol:"fBNB",decimals:18,hash:"0xb56f0fba45cc57a948b342186274dfd863996bb3"}}}));__awaiter=this&&this.__awaiter||function(e,t,a,s){return new(a||(a=Promise))((function(n,o){function i(e){try{l(s.next(e))}catch(e){o(e)}}function r(e){try{l(s.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(i,r)}l((s=s.apply(e,t||[])).next())}))};define("dashboard/wallet-peek/wallet-peek",["require","exports","preact/jsx-runtime","ojs/ojvcomponent","@preact/signals","dashboard/flamingo-api/api/api-client","dashboard/flamingo-api/data/tokens","ojs/ojarraydataprovider","dashboard/wallet-manager/bignumber","css!dashboard/wallet-peek/wallet-peek-styles.css"],(function(require,e,t,a,s,n,o,i,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WalletPeek=e.seletedAddress=void 0;const l=new n.default;e.seletedAddress=(0,s.signal)(void 0),e.WalletPeek=(0,a.registerCustomElement)("dashboard-wallet-peek",(function({hiddenRoot:a,navigateBack:n}){console.log("wallet-peek > render");const c=(0,s.useSignal)(void 0),d=(0,s.useSignal)([]),u=new i(d.value,{keyAttributes:"symbol"});return(0,s.useSignalEffect)((()=>{e.seletedAddress.value&&(console.log("wallet-peek > render > selectedAddress.value changed",e.seletedAddress.value),d.value=[],function(e){return __awaiter(this,void 0,void 0,(function*(){return yield l.getWalletWalletLatest(e)}))}(e.seletedAddress.value).then((e=>{var t,a;console.log("wallet-peek > getWalletDetails",e),c.value=e,d.value=(a=[],(null===(t=c.value)||void 0===t?void 0:t.data)&&Object.keys(c.value.data[0].balances).forEach(((e,t)=>{const s=(0,o.findTokenByHash)(o.default,e,void 0);a.push({key:e,total:c.value.data[0].balances[e],token:s})})),console.log("xxx ",a),a)})))})),(0,t.jsxs)("div",Object.assign({hidden:a,class:"oj-sm-margin-2x"},{children:[(0,t.jsx)("oj-button",Object.assign({display:"all",onojAction:n,class:"oj-button-md"},{children:(0,t.jsx)("span",{slot:"startIcon",class:"oj-ux-ico-back-parent"})})),(0,t.jsx)("div",{children:e.seletedAddress.value}),(0,t.jsx)("oj-list-view",Object.assign({"aria-label":"wallet balances",data:u,class:"oj-listview-item-padding-off","selection-mode":"none"},{children:(0,t.jsx)("template",{slot:"itemTemplate","data-oj-as":"item",render:e=>void 0===e.data.token?(0,t.jsx)(t.Fragment,{children:"no tokens..."}):(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{children:e.data.token.symbol}),(0,t.jsx)("div",{children:(0,r.BigNumber)(e.data.total,10).shiftedBy(-e.data.token.decimals).toFixed()})]})})}))]}))}),"WalletPeek",{properties:{hiddenRoot:{type:"boolean"},message:{type:"string"},navigateBack:{type:"function"}}})}));__awaiter=this&&this.__awaiter||function(e,t,a,s){return new(a||(a=Promise))((function(n,o){function i(e){try{l(s.next(e))}catch(e){o(e)}}function r(e){try{l(s.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(i,r)}l((s=s.apply(e,t||[])).next())}))};define("dashboard/flamingo-api/indexdb/indexDbService",["require","exports"],(function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const t="neo-flamingo-offline-storage";let a=!1;const s=[];let n;e.default={getObjectStore:function(e){const t=n.transaction(e,"readwrite");return t.oncomplete=function(){},t.objectStore(e)},isOfflineStorageEnabled:function(){return a},bootstrapOfflineStorage:function(e,o){return __awaiter(this,void 0,void 0,(function*(){if(a=e,!a)throw"[Offline Storage] Feature switch not enabled";try{const{openDbHandle:e}=yield new Promise(((e,a)=>{const n=self.indexedDB.open(t,1);let o=!1;n.onsuccess=function(){e({dbUpgradeNeeded:o,openDbHandle:this.result})},n.onerror=function(e){console.error("[Offline Storage] Could not open database",e),a(e)},n.onupgradeneeded=function(){s.forEach((e=>{e(this.result)})),o=!0}}));n=e,yield o()}catch(e){a=!1;const t="[Offline Storage] Feature was enabled but failed to initialize databases";throw console.error(t,e),t}}))},registerOnUpgradeNeededListener:function(e){s.push(e)}}})),define("dashboard/flamingo-api/indexdb/indexDbErrorHandling",["require","exports"],(function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.extractErrorAsString=void 0,e.extractErrorAsString=function(e,t){try{return e+`. ${t.target.error}`}catch(t){return e+". Error converting indexdb error event to string"}}}));__awaiter=this&&this.__awaiter||function(e,t,a,s){return new(a||(a=Promise))((function(n,o){function i(e){try{l(s.next(e))}catch(e){o(e)}}function r(e){try{l(s.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(i,r)}l((s=s.apply(e,t||[])).next())}))};define("dashboard/flamingo-api/indexdb/transactionsDbService",["require","exports","./indexDbService","./indexDbErrorHandling"],(function(require,e,t,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s="watchlist";let n=2;t.default.registerOnUpgradeNeededListener((e=>function(e){console.log("transactionsDbService > onUpgradeNeeded");let t;e.objectStoreNames.contains(s)||(t=e.createObjectStore(s,{keyPath:"id"}),t.createIndex("idIndex","id",{unique:!0,multiEntry:!1}),t.createIndex("symbolIndex","symbol",{unique:!1,multiEntry:!1}))}(e))),e.default={setGeneratedArtifactVersion:function(e){n=e},
storeTransaction:function(e,o,i){return __awaiter(this,void 0,void 0,(function*(){yield function(e,o,i){return __awaiter(this,void 0,void 0,(function*(){return new Promise(((r,l)=>{let c={block_time:e.block_time,id:e.id,size:e.size,txid:e.txid,value:e.value,net_fee:e.net_fee,asset_id:e.asset_id,symbol:e.symbol,from:e.from,to:e.to,type:e.type,purchaseCostUsdt:o,goalUsdt:i,recordVersion:n,createdOn:(new Date).toISOString()};const d=t.default.getObjectStore(s).put(c);c=null,d.onsuccess=function(){r()},d.onerror=function(t){l((0,a.extractErrorAsString)(`addTransactionToDb indexdb error id=${e.id}`,t))}}))}))}(e,o,i)}))},getTransactions:function(e){return __awaiter(this,void 0,void 0,(function*(){return yield function(e){return __awaiter(this,void 0,void 0,(function*(){return new Promise(((n,o)=>{const i=t.default.getObjectStore(s).index("symbolIndex").getAll(e);i.onsuccess=function(e){if(void 0===e.target.result)return void o();const t=e.target.result;n(t)},i.onerror=function(e){o((0,a.extractErrorAsString)("getTransactionsFromDb indexdb error",e))}}))}))}(e)}))},getAllTransactions:function(){return __awaiter(this,void 0,void 0,(function*(){return yield function(){return __awaiter(this,void 0,void 0,(function*(){return new Promise(((e,n)=>{const o=t.default.getObjectStore(s).getAll();o.onsuccess=function(t){if(void 0===t.target.result)return void n();const a=t.target.result;e(a)},o.onerror=function(e){n((0,a.extractErrorAsString)("getTransactionsFromDb indexdb error",e))}}))}))}()}))},deleteById:function(e){return __awaiter(this,void 0,void 0,(function*(){return new Promise(((a,n)=>{const o=t.default.getObjectStore(s),i=o.index("idIndex").openKeyCursor(e);i.onsuccess=function(){const e=i.result;e?(o.delete(e.primaryKey),e.continue()):a()},i.onerror=function(e){n(e.target.errorCode)}}))}))}}})),define("dashboard/watch-list/watch-list-item",["require","exports","preact/jsx-runtime","dashboard/price-list/price-list","ojs/ojconverter-number","dashboard/notifications-layer/notifications-layer","css!dashboard/watch-list/watch-list-styles.css","ojs/ojgauge"],(function(require,e,t,a,s,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WatchListItem=void 0;const o=new s.IntlNumberConverter({style:"currency",currency:"USD",currencyDisplay:"symbol",currencyFormat:"standard",decimalFormat:"long",maximumFractionDigits:2}),i=new s.IntlNumberConverter({style:"decimal",minimumIntegerDigits:2,minimumFractionDigits:2,maximumFractionDigits:4,useGrouping:!1}),r=e=>({insert:`purchased â (${e.componentElement.getAttribute("data-valueSymbol")}) : ${e.componentElement.getAttribute("data-value")}\n      â â â â â â â â  (USDT) : ${e.componentElement.getAttribute("data-purchaseCostUsdt")} \n      currentâ â â  (USDT) : ${e.componentElement.getAttribute("data-curPriceInUsdt")}\n      goalâ â â â â  (USDT) : ${e.componentElement.getAttribute("data-goalUsdt")}`});e.WatchListItem=function(e){const s=a.prices.value.find((t=>t.symbol===e.symbol)),l=s?s.usd_price:0,c=parseFloat(e.value)*l,d=e.purchaseCostUsdt,u=e.goalUsdt,f=c-d;return(0,t.jsxs)("li",Object.assign({class:"oj-md-padding-3x-top oj-md-padding-3x-bottom"},{children:[(0,t.jsxs)("div",Object.assign({class:"oj-flex oj-flex oj-text-primary-color oj-typography-body-md"},{children:[(0,t.jsx)("img",{src:`styles/images/${e.symbol}.svg`,class:" card-small-token"}),(0,t.jsx)("div",Object.assign({onClick:()=>(e=>{navigator.clipboard.writeText(e);const t={id:1,severity:"none",summary:e+" copied to clipboard",autoTimeout:3e3};(0,n.createNotification)(t)})(e.value)},{children:i.format(parseFloat(e.value))})),(0,t.jsx)("div",{class:"oj-flex-item"}),(0,t.jsxs)("div",Object.assign({class:"oj-sm-flex-initial oj-flex-item oj-flex"},{children:[(0,t.jsx)("img",{src:"styles/images/fUSDT.svg",class:"oj-md-padding-2x-start card-small-token"}),(0,t.jsx)("div",{children:o.format(c)}),(0,t.jsx)("div",Object.assign({class:"oj-md-margin-2x-start "+(f>0?f>u-d?"profit-above-goal":"in-profit":"at-a-loss")},{children:o.format(f)}))]}))]})),(0,t.jsxs)("div",Object.assign({class:"oj-flex oj-md-padding-5x-start oj-md-padding-3x-top oj-md-padding-1x-bottom"},{children:[(0,t.jsx)("div",{class:"oj-flex-item"}),(0,t.jsx)("oj-status-meter-gauge",{"labelled-by":"metricLabel",min:Math.max(0,c-100),max:e.goalUsdt+50,value:c,thresholds:[{max:d,color:"red"},{max:u,color:"black"},{color:"green"}],size:"lg",referenceLines:[{value:d,color:"red"},{value:u,color:"black"}],tooltip:{renderer:r},"data-curPriceInUsdt":c,"data-purchaseCostUsdt":d,"data-goalUsdt":u,"data-value":e.value,"data-valueSymbol":e.symbol,style:{width:"290px"},plotArea:{rendered:"on"},readonly:!0}),(0,t.jsx)("div",{class:"oj-flex-item"})]}))]}))}}));__awaiter=this&&this.__awaiter||function(e,t,a,s){return new(a||(a=Promise))((function(n,o){function i(e){try{l(s.next(e))}catch(e){o(e)}}function r(e){try{l(s.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(i,r)}l((s=s.apply(e,t||[])).next())}))};define("dashboard/wallet-manager/asset-watchlist",["require","exports","preact/jsx-runtime","@preact/signals","./wallet-lib","dashboard/flamingo-api/indexdb/transactionsDbService","dashboard/notifications-layer/notifications-layer","dashboard/watch-list/watch-list-item","ojs/ojconverter-number","dashboard/price-list/price-list","./asset-transactions","ojs/ojinputnumber"],(function(require,e,t,a,s,n,o,i,r,l,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AssetWatchlistEditor=e.seletedTransaction=void 0,e.seletedTransaction=(0,a.signal)(void 0),e.AssetWatchlistEditor=function({hidden:a,navigateBack:d}){var u,f,g,m,h,p,v,j,b,w,y,x,_,A,T,O,N,S;console.log("asset-watchlist > AssetWatchlistEditor");const E=l.prices.value.find((t=>{var a;return t.symbol===(null===(a=e.seletedTransaction.value)||void 0===a?void 0:a.transaction.symbol)})),k=E?E.usd_price:0,C=new r.IntlNumberConverter({style:"currency",currency:"USD",currencyDisplay:"symbol",currencyFormat:"standard",decimalFormat:"long",maximumFractionDigits:12}),D=1===(null===(u=e.seletedTransaction.value)||void 0===u?void 0:u.watchlist.length)?e.seletedTransaction.value.watchlist[0]:void 0;return(0,t.jsxs)("div",Object.assign({hidden:a,class:"oj-sm-margin-2x"},{children:[(0,t.jsxs)("div",Object.assign({class:"oj-flex"},{children:[(0,t.jsx)("oj-button",Object.assign({display:"all",onojAction:d,class:"oj-button-md"},{children:(0,t.jsx)("span",{slot:"startIcon",class:"oj-ux-ico-back-parent"})})),(0,t.jsx)("h6",Object.assign({class:"oj-sm-margin-4x-start"},{children:1===(null===(f=e.seletedTransaction.value)||void 0===f?void 0:f.watchlist.length)?"Edit existing item in watchlist":"Add to watchlist"}))]})),(0,t.jsx)("div",{children:(null===(g=e.seletedTransaction.value)||void 0===g?void 0:g.txDetail)?null===(m=e.seletedTransaction.value)||void 0===m?void 0:m.txDetail.index:"loading txdetail"}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",Object.assign({class:"oj-md-margin-3x-top oj-md-margin-5x-bottom"},{children:[(0,t.jsxs)("div",Object.assign({class:"oj-flex oj-flex oj-text-primary-color oj-typography-body-md"},{children:[(0,t.jsx)("img",{src:`styles/images/${null===(h=e.seletedTransaction.value)||void 0===h?void 0:h.transaction.symbol}.svg`,class:" card-small-token"}),(0,t.jsx)("div",Object.assign({class:"oj-flex-item"},{children:null===(p=e.seletedTransaction.value)||void 0===p?void 0:p.transaction.value})),(0,t.jsx)("div",{class:"oj-flex-item"}),(null===(v=e.seletedTransaction.value)||void 0===v?void 0:v.transaction.value)>0?(0,t.jsxs)("div",Object.assign({class:"oj-sm-flex-initial oj-flex-item oj-flex"},{children:[(0,t.jsx)("img",{src:"styles/images/FUSDT.svg",class:"card-small-token"}),(0,t.jsx)("div",{children:C.format(parseFloat(null===(j=e.seletedTransaction.value)||void 0===j?void 0:j.transaction.value)*k)})]})):(0,t.jsx)(t.Fragment,{})]})),(0,t.jsxs)("div",Object.assign({class:"oj-md-padding-6x-start oj-md-margin-1x-top oj-text-secondary-color oj-typography-body-sm"},{children:["sent"===(null===(b=e.seletedTransaction.value)||void 0===b?void 0:b.transaction.type)?"sent to ":"recieved from ",(0,t.jsxs)("span",Object.assign({class:"clipboard-action tx-address",title:"peek into address"},{children:[(0,t.jsx)("span",{class:"oj-ux-ico-wallet oj-md-margin-1x-end oj-md-margin-1x-top"}),"sent"===(null===(w=e.seletedTransaction.value)||void 0===w?void 0:w.transaction.type)?(0,s.addressFormat)(null===(y=e.seletedTransaction.value)||void 0===y?void 0:y.transaction.to[0]):(0,s.addressFormat)(null===(x=e.seletedTransaction.value)||void 0===x?void 0:x.transaction.from[0])]}))]})),(0,t.jsxs)("div",Object.assign({class:"oj-md-padding-6x-start oj-md-margin-1x-top oj-text-secondary-color oj-typography-body-sm"},{children:[(0,c.getTimeInterval)(1e3*(null===(_=e.seletedTransaction.value)||void 0===_?void 0:_.transaction.block_time)),"(",e.seletedTransaction.value?new Date(1e3*(null===(A=e.seletedTransaction.value)||void 0===A?void 0:A.transaction.block_time)).toISOString():(0,t.jsx)(t.Fragment,{}),")"]}))]})),(0,t.jsxs)("div",Object.assign({class:"oj-md-margin-5x-start"},{children:[(0,t.jsx)("oj-input-number",{id:"tc",labelHint:"Purchase Cost (fUSDT)",labelEdge:"inside",value:D?D.purchaseCostUsdt:null,class:"oj-sm-padding-1x-top"}),(0,t.jsx)("oj-input-number",{id:"tg",labelHint:"Goal (fUSDT)",labelEdge:"inside",value:D?D.goalUsdt:null,class:"oj-sm-padding-1x-top"})]}))]}),(0,t.jsx)("div",Object.assign({class:"oj-md-margin-5x-top oj-md-margin-3x-bottom"},{children:(0,t.jsx)("ul",Object.assign({style:"list-style-type: none;"},{children:1===(null===(T=e.seletedTransaction.value)||void 0===T?void 0:T.watchlist.length)?(0,i.WatchListItem)(e.seletedTransaction.value.watchlist[0]):(0,t.jsx)(t.Fragment,{})}))})),(0,t.jsxs)("div",Object.assign({class:"oj-flex oj-sm-padding-4x-top"},{children:[(0,t.jsx)("div",{class:"oj-flex-item"}),(0,t.jsxs)("div",Object.assign({class:"oj-sm-flex-initial oj-flex-item"},{children:[(0,t.jsx)("oj-button",Object.assign({id:"butCancel",chroming:"outlined",onojAction:d},{children:"cancel"})),(0,t.jsx)("oj-button",Object.assign({id:"butCreate",chroming:"callToAction",class:"oj-sm-margin-2x-start",onojAction:()=>__awaiter(this,void 0,void 0,(function*(){console.log("asset-transactions > addToWatchList",e.seletedTransaction.value);const t=document.getElementById("tc"),a=document.getElementById("tg");yield n.default.storeTransaction(e.seletedTransaction.value.transaction,t.value,a.value);const s={id:2,severity:"none",summary:`${e.seletedTransaction.value.transaction.symbol} ${e.seletedTransaction.value.transaction.value} added to watch list`,autoTimeout:2e3};(0,o.createNotification)(s),d()})),hidden:"edit"===(null===(O=e.seletedTransaction.value)||void 0===O?void 0:O.transactionType)},{children:"create"})),(0,t.jsx)("oj-button",Object.assign({id:"butUpdate",chroming:"callToAction",class:"oj-sm-margin-2x-start",onojAction:()=>__awaiter(this,void 0,void 0,(function*(){const t=document.getElementById("tc"),a=document.getElementById("tg");yield n.default.storeTransaction(e.seletedTransaction.value.transaction,t.value,a.value);const s={id:2,severity:"none",summary:`${e.seletedTransaction.value.transaction.symbol} ${e.seletedTransaction.value.transaction.value} updated in watch list`,autoTimeout:2e3};(0,o.createNotification)(s),d()})),hidden:"add"===(null===(N=e.seletedTransaction.value)||void 0===N?void 0:N.transactionType)},{children:"update"})),(0,t.jsx)("oj-button",Object.assign({id:"butDelete",chroming:"danger",class:"oj-sm-margin-2x-start",onojAction:()=>__awaiter(this,void 0,void 0,(function*(){yield n.default.deleteById(e.seletedTransaction.value.transaction.id);const t={id:2,severity:"none",summary:`${e.seletedTransaction.value.transaction.symbol} ${e.seletedTransaction.value.transaction.value} deleted from watch list`,autoTimeout:2e3};(0,o.createNotification)(t),d()})),hidden:"add"===(null===(S=e.seletedTransaction.value)||void 0===S?void 0:S.transactionType)},{children:"delete"}))]}))]}))]}))}}));__awaiter=this&&this.__awaiter||function(e,t,a,s){return new(a||(a=Promise))((function(n,o){function i(e){try{l(s.next(e))}catch(e){o(e)}}function r(e){try{l(s.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(i,r)}l((s=s.apply(e,t||[])).next())}))};define("dashboard/wallet-manager/asset-transactions",["require","exports","preact/jsx-runtime","ojs/ojconverter-number","ojs/ojcolor","./wallet-lib","ojs/ojarraydataprovider","dashboard/notifications-layer/notifications-layer","dashboard/price-list/price-list","./asset-manager","dashboard/wallet-peek/wallet-peek","./wallet-manager","ojs/ojcolor","./asset-watchlist","dashboard/flamingo-api/api/api-client","css!dashboard/wallet-manager/wallet-manager-styles.css","ojs/ojbutton","ojs/ojactioncard","ojs/ojcolorspectrum","ojs/ojlistview","ojs/ojlistitemlayout","ojs/ojinputtext","ojs/ojbutton","ojs/ojformlayout","ojs/ojvalidationgroup"],(function(require,e,t,a,s,n,o,i,r,l,c,d,u,f,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getTimeInterval=e.AssetTransactions=void 0;const m=new g.default;function h(e){let t=Math.floor((Date.now()-e)/1e3),a="second",s="ago";t<0&&(t=-t,s="from now");let n=t;return t>=31536e3?(n=Math.floor(t/31536e3),a="year"):t>=86400?(n=Math.floor(t/86400),a="day"):t>=3600?(n=Math.floor(t/3600),a="hour"):t>=60&&(n=Math.floor(t/60),a="minute"),1!=n&&(a+="s"),n+" "+a+" "+s}e.AssetTransactions=function({hidden:e,transactions:g}){if(void 0===g)return(0,t.jsx)(t.Fragment,{children:"none found ..."});console.log("asset-transactions > render",g);const p=(0,d.getWallet)(g.walletAddress),v=new o(g.transactions,{keyAttributes:"id"}),j=new a.IntlNumberConverter({style:"currency",currency:"USD",currencyDisplay:"symbol",currencyFormat:"standard",decimalFormat:"long",maximumFractionDigits:12}),b=r.prices.value.find((e=>e.symbol===g.asset_name)),w=b?b.usd_price:0,y=e=>{navigator.clipboard.writeText(e);const t={id:1,severity:"none",summary:e+" copied to clipboard",autoTimeout:3e3};(0,i.createNotification)(t)},x=e=>__awaiter(this,void 0,void 0,(function*(){(0,l.showAssetManagerRoute)({assetWatchlistEditorHidden:!1});let t=yield m.getNeoTransaction(e.txid);console.log("xxx tx",t),f.seletedTransaction.value={txDetail:t,transaction:e,transactionType:"add",watchlist:[]}})),_=e=>__awaiter(this,void 0,void 0,(function*(){var t;(0,l.showAssetManagerRoute)({assetWatchlistEditorHidden:!1});let a=yield m.getNeoTransaction(e.txid);f.seletedTransaction.value={txDetail:a,transaction:e,transactionType:"edit",watchlist:null===(t=g.watchlist)||void 0===t?void 0:t.filter((t=>t.id===e.id))}}));return(0,t.jsxs)("div",Object.assign({hidden:e},{children:[(0,t.jsxs)("div",Object.assign({class:"oj-flex oj-sm-padding-5x-start oj-sm-padding-5x-end oj-sm-padding-2x-top"},{children:[(0,t.jsxs)("div",Object.assign({class:"oj-flex oj-flex-item"},{children:[(0,t.jsx)("div",{style:{width:"5px",height:"27px",backgroundColor:(p.walletColor?new u(p.walletColor):s.BLACK).toString()}}),(0,t.jsxs)("div",Object.assign({class:"oj-sm-padding-1x-top oj-sm-padding-1x-start oj-sm-padding-2x-end"},{children:[p.name," > "]})),(0,t.jsx)("img",{src:`styles/images/${g.asset_name}.svg`,class:"card-small-token"}),(0,t.jsx)("div",Object.assign({class:"oj-sm-padding-1x-top oj-sm-padding-0x-start oj-sm-padding-2x-end"},{children:g.asset_name}))]})),(0,t.jsxs)("div",Object.assign({class:"oj-sm-flex-initial oj-flex-item "},{children:[g.transactions.length," ",g.transactions.length>1?"transactions":1===g.transactions.length?"transaction":""]}))]})),(0,t.jsx)("div",{children:(0,t.jsx)("oj-list-view",Object.assign({id:"lvTransactions","aria-label":"transactions",data:v,gridlines:{item:"visible"},class:"oj-sm-padding-1x",selectionMode:"none"},{children:(0,t.jsx)("template",{slot:"itemTemplate","data-oj-as":"item",render:e=>{var a,s;return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",Object.assign({class:"oj-flex oj-flex oj-text-primary-color oj-typography-body-md"},{children:[(0,t.jsx)("img",{src:`styles/images/${e.data.symbol}.svg`,class:" card-small-token"}),(0,t.jsxs)("div",Object.assign({class:"oj-flex-item",style:{width:"200px"}},{children:[e.data.value,(0,t.jsx)("span",{class:"oj-md-padding-2x-start oj-ux-ico-clipboard-add clipboard-action",title:"copy price to clipboard",onClick:()=>y(e.data.value)})]})),e.data.value>0?(0,t.jsxs)("div",Object.assign({class:"oj-flex-item oj-flex"},{children:[(0,t.jsx)("img",{src:"styles/images/FUSDT.svg",class:"card-small-token"}),(0,t.jsx)("div",{children:j.format(parseFloat(e.data.value)*w)})]})):(0,t.jsx)(t.Fragment,{}),(0,t.jsxs)("div",Object.assign({class:"oj-sm-flex-initial oj-flex-item oj-flex oj-text-secondary-color"},{children:[(0,t.jsx)("span",{class:"oj-ux-ico-bookmark clipboard-action",title:"add to watch list",hidden:"sent"===e.data.type||(null===(a=g.watchlist)||void 0===a?void 0:a.filter((t=>t.id===e.data.id)).length)>0,onClick:()=>x(e.data)}),(0,t.jsx)("span",{class:"oj-ux-ico-bookmark-selected clipboard-action",title:"remove from watch list",hidden:1!==(null===(s=g.watchlist)||void 0===s?void 0:s.filter((t=>t.id===e.data.id)).length),onClick:()=>_(e.data)})]}))]})),(0,t.jsxs)("div",Object.assign({class:"oj-md-padding-6x-start oj-md-margin-1x-top oj-text-secondary-color oj-typography-body-sm"},{children:["sent"===e.data.type?"sent to ":"recieved from ",(0,t.jsxs)("span",Object.assign({class:"clipboard-action tx-address",title:"peek into address",onClick:()=>{return t="sent"===e.data.type?e.data.to[0]:e.data.from[0],(0,l.showAssetManagerRoute)({walletPeekHidden:!1}),void(c.seletedAddress.value=t);var t}},{children:[(0,t.jsx)("span",{class:"oj-ux-ico-wallet oj-md-margin-1x-end oj-md-margin-1x-top"}),"sent"===e.data.type?(0,n.addressFormat)(e.data.to[0]):(0,n.addressFormat)(e.data.from[0])]})),(0,t.jsx)("span",{class:"oj-md-padding-2x-start oj-sm-padding-2x-top  oj-ux-ico-clipboard-add clipboard-action",title:"copy address to clipboard",onClick:()=>y("sent"===e.data.type?e.data.to[0]:e.data.from[0])})]})),(0,t.jsxs)("div",Object.assign({class:"oj-md-padding-6x-start oj-md-margin-1x-top oj-text-secondary-color oj-typography-body-sm"},{children:[h(1e3*e.data.block_time)," (",new Date(1e3*e.data.block_time).toISOString(),")"]}))]})}})}))})]}))},e.getTimeInterval=h})),define("dashboard/wallet-peek/loader",["require","exports","./wallet-peek"],(function(require,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WalletPeek=void 0,Object.defineProperty(e,"WalletPeek",{enumerable:!0,get:function(){return t.WalletPeek}})})),define("dashboard/wallet-manager/asset-manager",["require","exports","preact/jsx-runtime","./asset-transactions","@preact/signals","./asset-watchlist","dashboard/wallet-peek/loader"],(function(require,e,t,a,s,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AssetManager=e.showAssetManagerRoute=void 0;const o={assetTransactionsHidden:!0,walletPeekHidden:!0,assetWatchlistEditorHidden:!0},i=(0,s.signal)({assetTransactionsHidden:!1,walletPeekHidden:!0,assetWatchlistEditorHidden:!0});function r(e){console.log("asset-manager > showAssetManagerRoute",e),i.value=Object.assign(Object.assign({},o),e)}e.showAssetManagerRoute=r,e.AssetManager=function({transactions:e}){function s(){r({assetTransactionsHidden:!1})}return console.log("asset-manager > render"),(0,t.jsxs)("div",{children:[(0,t.jsx)(a.AssetTransactions,{transactions:e,hidden:i.value.assetTransactionsHidden}),(0,t.jsx)("dashboard-wallet-peek",{navigateBack:s,hiddenRoot:i.value.walletPeekHidden}),(0,t.jsx)(n.AssetWatchlistEditor,{navigateBack:s,hidden:i.value.assetWatchlistEditorHidden})]})}}));__awaiter=this&&this.__awaiter||function(e,t,a,s){return new(a||(a=Promise))((function(n,o){function i(e){try{l(s.next(e))}catch(e){o(e)}}function r(e){try{l(s.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(i,r)}l((s=s.apply(e,t||[])).next())}))};define("dashboard/wallet-manager/wallet-manager",["require","exports","preact/jsx-runtime","ojs/ojvcomponent","@preact/signals","ojs/ojcolor","./asset-card","./wallet-lib","./wallet-list","./wallet-charts","./wallet-editor","dashboard/price-list/price-list","dashboard/notifications-layer/notifications-layer","ojs/ojcolor","./asset-manager","dashboard/flamingo-api/indexdb/transactionsDbService","css!dashboard/wallet-manager/wallet-manager-styles.css","ojs/ojchart","ojs/ojactioncard","ojs/ojcolorspectrum","ojs/ojlistview","ojs/ojlistitemlayout","ojs/ojinputtext","ojs/ojbutton","ojs/ojformlayout","ojs/ojvalidationgroup","ojs/ojpopup","ojs/ojdrawerpopup"],(function(require,e,t,a,s,n,o,i,r,l,c,d,u,f,g,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getWallet=e.WalletManager=e.wallets=e.walletsRaw=e.selectedTags=e.tagsAsArray=e.tags=void 0;new Map;e.tags=(0,s.signal)(new Set),e.tagsAsArray=(0,s.computed)((()=>Array.from(e.tags.value).map((e=>({name:e,value:e})))));let h=(0,i.getSelectedTagsFromStorage)();function p(t){const a=(0,i.loadWalletsFromStorage)();console.log("wallet-manager > updateWallets"),a&&a.length>0&&(e.walletsRaw.value=a,t&&t())}function v(){setTimeout(p,1e3)}e.selectedTags=(0,s.signal)(h),e.walletsRaw=(0,s.signal)([]),e.wallets=(0,s.computed)((()=>{if(0===e.selectedTags.value.length)return e.walletsRaw.value;let t=e.walletsRaw.value.filter((t=>{var a=!1;return t.tags.forEach((t=>{e.selectedTags.value.includes(t)&&(a=!0)})),a}));return console.log("wallet-manager > wallets > computed"),t})),e.WalletManager=(0,a.registerCustomElement)("dashboard-wallet-manager",(function(){const a=(0,s.useSignal)(new Map),h=(0,s.useSignal)([]),j=(0,s.useSignal)(void 0),b=(0,s.useSignal)([]),w=(0,s.useSignal)([]),y=(0,s.useSignal)([]),x=(0,s.useSignal)([]),_=(0,s.useSignal)([]),A=(0,s.useSignal)([]),T=(0,s.useSignal)([]),O=(0,s.useSignal)([]);function N(){const e=document.getElementById("lvWallets"),t=document.getElementById("wcol"),a=document.getElementById("wg");return{wcol:t,wn:document.getElementById("wn"),wpk:document.getElementById("wpk"),wk:document.getElementById("wk"),tracker:document.getElementById("tracker"),lvw:e,baw:document.getElementById("butAddWallet"),bcr:document.getElementById("butCreate"),bu:document.getElementById("butUpdate"),bclr:document.getElementById("butClear"),bclo:document.getElementById("butClose"),brb:document.getElementById("butRefreshBalances"),we:document.getElementById("walletEditor"),wg:a,wt:document.getElementById("wt"),de:document.getElementById("de"),dat:document.getElementById("dat")}}function S(){const e=N();e.wn.value="",e.wpk.value="",e.wk.value=i.KEY,e.bcr.hidden=!1,e.bclr.hidden=!1,e.bu.hidden=!0,e.bclo.hidden=!1,e.wcol.value=n.BLACK,e.wg.value=0,e.wt.value=[]}function E(){const e=N();S(),e.we.hidden=!0,e.baw.hidden=!1,e.de.opened=!1,(0,d.startPriceRefreshTimer)()}function k(){const e=N();return"valid"===e.tracker.valid||(e.tracker.showMessages(),e.tracker.focusOn("@firstInvalidShown"),!1)}function C(e,t,a,s){return __awaiter(this,void 0,void 0,(function*(){if(a){N().dat.opened=!0,(0,d.stopPriceRefreshTimer)(),j.value={transactions:[],watchlist:[],asset_name:t,assetId:a,walletAddress:e};var s=yield(0,i.getN3AssetTxs)(e,a),n=yield m.default.getTransactions(t);j.value={transactions:s,watchlist:n,asset_name:t,assetId:a,walletAddress:e}}}))}function D(){return __awaiter(this,void 0,void 0,(function*(){b.value=[],w.value=[],y.value=[],x.value=[],_.value=[],A.value=[],T.value=[],O.value=[],a.value.clear(),h.value=[],console.log("wallet-manager > refreshAllWalletBalances",e.wallets);for(let t=0;t<e.wallets.value.length;t++){const s=e.wallets.value[t],n=s.publicKey?s.publicKey:s.accounts[0].label;let o;false,void 0===o&&(o=yield(0,i.getN3AddressBalances)(n));let r=0;o.forEach((e=>{if(d.prices.value&&e.balance&&"0"!==e.balance){let t=d.prices.value.find((t=>t.symbol===e.symbol));switch(e.symbol){case"fUSDT":b.value=[...b.value,Object.assign(Object.assign({},e),{walletAddress:n,walletName:s.name,walletColor:s.walletColor})];break;case"FUSD":w.value=[...w.value,Object.assign(Object.assign({},e),{walletAddress:n,walletName:s.name,walletColor:s.walletColor})];break;case"NEO":case"bNEO":y.value=[...y.value,Object.assign(Object.assign({},e),{walletAddress:n,walletName:s.name,walletColor:s.walletColor})],t=d.prices.value.find((e=>"bNEO"===e.symbol));break;case"GAS":x.value=[...x.value,Object.assign(Object.assign({},e),{walletAddress:n,walletName:s.name,walletColor:s.walletColor})];break;case"FLM":_.value=[..._.value,Object.assign(Object.assign({},e),{walletAddress:n,walletName:s.name,walletColor:s.walletColor})];break;case"fWBTC":A.value=[...A.value,Object.assign(Object.assign({},e),{walletAddress:n,walletName:s.name,walletColor:s.walletColor})];break;case"fWETH":T.value=[...T.value,Object.assign(Object.assign({},e),{walletAddress:n,walletName:s.name,walletColor:s.walletColor})];break;case"FLUND":O.value=[...O.value,Object.assign(Object.assign({},e),{walletAddress:n,walletName:s.name,walletColor:s.walletColor})];break;default:console.log(e.symbol)}const a=t?t.usd_price:0;r+=parseFloat(e.balance)*a}})),a.value.set(s.name,{runningWalletTotalInUsd:r,goal:s.goal});const l=[];function c(e,t){const a=d.prices.value.find((t=>t.symbol===e)),s=a?a.usd_price:0,n=null==t?void 0:t.reduce(((e,t)=>e+(t.balance?parseFloat(t.balance)*s:0)),0);return l.push({id:l.length,seriesId:e,groupId:"0",value:n}),l.push({id:l.length,seriesId:e,groupId:"1",value:n}),null!=n?n:0}c("FUSD",w.value),c("fUSDT",b.value),c("GAS",x.value),c("bNEO",y.value),c("FLM",_.value),c("fWBTC",A.value),c("fWETH",T.value),c("FLUND",O.value),h.value=l}!function(){__awaiter(this,void 0,void 0,(function*(){console.log("wallet-manager > refreshAllTags",e.wallets);const t=new Set;for(let a=0;a<e.walletsRaw.value.length;a++)e.walletsRaw.value[a].tags.forEach((e=>t.add(e)));e.tags.value=t}))}()}))}function F(){S();const e=N();e.we.hidden=!1,e.baw.hidden=!0,e.de.opened=!0,(0,d.stopPriceRefreshTimer)()}return(0,s.useSignalEffect)((()=>{d.prices.value&&d.prices.value.length>0&&(console.log("wallet-manager > useSignalEffect > prices changed"),console.log("wallet-manager > useSignalEffect > wallets changed"),p((()=>{console.log("wallet-manager > useSignalEffect > updateWallets > callback"),D(),(0,r.refreshLastUpdatedTime)(Date.now());N().brb.hidden=0===e.wallets.value.length})))})),(0,t.jsxs)("div",{children:[(0,t.jsx)("oj-drawer-popup",Object.assign({id:"dat",edge:"end",class:"drawerAssetTransactions",onojBeforeClose:E,onopenedChanged:e=>{!0===e.detail.value&&(0,g.showAssetManagerRoute)({assetTransactionsHidden:!1})}},{children:(0,t.jsx)("div",{children:(0,t.jsx)(g.AssetManager,{transactions:j.value})})})),(0,t.jsx)("oj-drawer-popup",Object.assign({id:"de",edge:"start",class:"drawerEditor",onojBeforeClose:E},{children:(0,t.jsx)(c.WalletEditor,{tryCreate:function(){var e;if(k()){const t=N();t.wn.value&&t.wpk.value&&t.wk.value&&((0,i.addWalletToStorage)(t.wn.value,t.wpk.value,t.wk.value,t.wg.value,null===(e=t.wcol.value)||void 0===e?void 0:e.toString(),t.wt.value),E(),v())}},tryUpdate:function(){var e;const t=N();k()&&t.wn.value&&((0,i.updateWalletToStorage)(t.wn.value,t.wpk.value,t.wg.value,null===(e=t.wcol.value)||void 0===e?void 0:e.toString(),t.wt.value),E(),v())},clear:S,close:E,showAddWallet:F,refreshAllWalletBalances:D})})),(0,t.jsx)(r.WalletList,{wallets:e.wallets.value,walletsMetadata:a.value,walletSelected:function(e){return __awaiter(this,void 0,void 0,(function*(){const t=N();if(null===e.detail.items)return S(),t.we.hidden=!0,void(t.baw.hidden=!1)}))},tryDeleteWallet:function(e){const t=e.srcElement.attributes["row-data"].value;(0,i.deleteWalletFromStorage)(t);const a={id:1,severity:"none",summary:`wallet "${t}" deleted`,autoTimeout:3e3};(0,u.createNotification)(a),p()},showAddWallet:F,showEditWallet:function(t){const a=t.srcElement.attributes["row-data"].value,s=e.wallets.value.find((e=>e.name===a));if(s){const e=s.accounts[0],t=N();console.log("wallet-manager > showEditWallet",s),t.we.hidden=!1,t.wn.value=s.name,t.wpk.value=s.publicKey?s.publicKey:e._WIF,t.wg.value=s.goal,t.wcol.value=s.walletColor?new f(s.walletColor):n.BLACK,t.bcr.hidden=!0,t.bclr.hidden=!0,t.bu.hidden=!1,t.bclo.hidden=!1,t.baw.hidden=!0,t.wt.value=s.tags,t.de.opened=!0,(0,d.stopPriceRefreshTimer)()}},refreshAllWalletBalances:D}),(0,t.jsx)(l.WalletCharts,{chartData:h.value}),(0,t.jsxs)("div",Object.assign({class:"oj-flex oj-sm-margin-7x-start oj-sm-margin-7x-end oj-sm-margin-5x-top"},{children:[(0,t.jsx)(o.AssetCard,{wassetName:"FUSD",wasset:w.value,prices:d.prices.value,onCardSelected:C}),(0,t.jsx)(o.AssetCard,{wassetName:"fUSDT",wasset:b.value,prices:d.prices.value,onCardSelected:C}),(0,t.jsx)(o.AssetCard,{wassetName:"FLM",wasset:_.value,prices:d.prices.value,onCardSelected:C}),(0,t.jsx)(o.AssetCard,{wassetName:"FLUND",wasset:O.value,prices:d.prices.value,onCardSelected:C}),(0,t.jsx)(o.AssetCard,{wassetName:"bNEO",wasset:y.value,prices:d.prices.value,onCardSelected:C}),(0,t.jsx)(o.AssetCard,{wassetName:"GAS",wasset:x.value,prices:d.prices.value,onCardSelected:C}),(0,t.jsx)(o.AssetCard,{wassetName:"fWBTC",wasset:A.value,prices:d.prices.value,onCardSelected:C}),(0,t.jsx)(o.AssetCard,{wassetName:"fWETH",wasset:T.value,prices:d.prices.value,onCardSelected:C})]}))]})}),"WalletManager"),e.getWallet=function(t){for(let a=0;a<e.wallets.value.length;a++){const s=e.wallets.value[a];if(s.publicKey===t)return s}}})),define("dashboard/wallet-manager/loader",["require","exports","./wallet-manager"],(function(require,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WalletManager=void 0,Object.defineProperty(e,"WalletManager",{enumerable:!0,get:function(){return t.WalletManager}})}));
//# sourceMappingURL=loader.js.map