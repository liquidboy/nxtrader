!function(n,l){"object"==typeof exports&&"undefined"!=typeof module?l(exports):"function"==typeof define&&define.amd?define('preact',["exports"],l):l((n||self).preact={})}(this,function(n){var l,u,i,t,o,f,r,e,c,s={},a=[],h=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,v=Array.isArray;function d(n,l){for(var u in l)n[u]=l[u];return n}function p(n){var l=n.parentNode;l&&l.removeChild(n)}function y(n,u,i){var t,o,f,r={};for(f in u)"key"==f?t=u[f]:"ref"==f?o=u[f]:r[f]=u[f];if(arguments.length>2&&(r.children=arguments.length>3?l.call(arguments,2):i),"function"==typeof n&&null!=n.defaultProps)for(f in n.defaultProps)void 0===r[f]&&(r[f]=n.defaultProps[f]);return _(n,r,t,o,null)}function _(n,l,t,o,f){var r={type:n,props:l,key:t,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==f?++i:f};return null==f&&null!=u.vnode&&u.vnode(r),r}function b(n){return n.children}function g(n,l){this.props=n,this.context=l}function k(n,l){if(null==l)return n.__?k(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return"function"==typeof n.type?k(n):null}function m(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return m(n)}}function w(n){(!n.__d&&(n.__d=!0)&&o.push(n)&&!x.__r++||f!==u.debounceRendering)&&((f=u.debounceRendering)||r)(x)}function x(){var n,l,u,i,t,f,r,c;for(o.sort(e);n=o.shift();)n.__d&&(l=o.length,i=void 0,t=void 0,r=(f=(u=n).__v).__e,(c=u.__P)&&(i=[],(t=d({},f)).__v=f.__v+1,z(c,f,t,u.__n,void 0!==c.ownerSVGElement,null!=f.__h?[r]:null,i,null==r?k(f):r,f.__h),L(i,f),f.__e!=r&&m(f)),o.length>l&&o.sort(e));x.__r=0}function P(n,l,u,i,t,o,f,r,e,c){var h,d,p,y,g,m,w,x=i&&i.__k||a,P=x.length;for(u.__k=[],h=0;h<l.length;h++)if(null!=(y=u.__k[h]=null==(y=l[h])||"boolean"==typeof y||"function"==typeof y?null:"string"==typeof y||"number"==typeof y||"bigint"==typeof y?_(null,y,null,null,y):v(y)?_(b,{children:y},null,null,null):y.__b>0?_(y.type,y.props,y.key,y.ref?y.ref:null,y.__v):y)){if(y.__=u,y.__b=u.__b+1,null===(p=x[h])||p&&y.key==p.key&&y.type===p.type)x[h]=void 0;else for(d=0;d<P;d++){if((p=x[d])&&y.key==p.key&&y.type===p.type){x[d]=void 0;break}p=null}z(n,y,p=p||s,t,o,f,r,e,c),g=y.__e,(d=y.ref)&&p.ref!=d&&(w||(w=[]),p.ref&&w.push(p.ref,null,y),w.push(d,y.__c||g,y)),null!=g?(null==m&&(m=g),"function"==typeof y.type&&y.__k===p.__k?y.__d=e=T(y,e,n):e=C(n,y,p,x,g,e),"function"==typeof u.type&&(u.__d=e)):e&&p.__e==e&&e.parentNode!=n&&(e=k(p))}for(u.__e=m,h=P;h--;)null!=x[h]&&("function"==typeof u.type&&null!=x[h].__e&&x[h].__e==u.__d&&(u.__d=S(i).nextSibling),O(x[h],x[h]));if(w)for(h=0;h<w.length;h++)N(w[h],w[++h],w[++h])}function T(n,l,u){for(var i,t=n.__k,o=0;t&&o<t.length;o++)(i=t[o])&&(i.__=n,l="function"==typeof i.type?T(i,l,u):C(u,i,i,t,i.__e,l));return l}function C(n,l,u,i,t,o){var f,r,e;if(void 0!==l.__d)f=l.__d,l.__d=void 0;else if(null==u||t!=o||null==t.parentNode)n:if(null==o||o.parentNode!==n)n.appendChild(t),f=null;else{for(r=o,e=0;(r=r.nextSibling)&&e<i.length;e+=1)if(r==t)break n;n.insertBefore(t,o),f=o}return void 0!==f?f:t.nextSibling}function S(n){var l,u,i;if(null==n.type||"string"==typeof n.type)return n.__e;if(n.__k)for(l=n.__k.length-1;l>=0;l--)if((u=n.__k[l])&&(i=S(u)))return i;return null}function $(n,l,u,i,t){var o;for(o in u)"children"===o||"key"===o||o in l||A(n,o,null,u[o],i);for(o in l)t&&"function"!=typeof l[o]||"children"===o||"key"===o||"value"===o||"checked"===o||u[o]===l[o]||A(n,o,l[o],u[o],i)}function j(n,l,u){"-"===l[0]?n.setProperty(l,null==u?"":u):n[l]=null==u?"":"number"!=typeof u||h.test(l)?u:u+"px"}function A(n,l,u,i,t){var o;n:if("style"===l)if("string"==typeof u)n.style.cssText=u;else{if("string"==typeof i&&(n.style.cssText=i=""),i)for(l in i)u&&l in u||j(n.style,l,"");if(u)for(l in u)i&&u[l]===i[l]||j(n.style,l,u[l])}else if("o"===l[0]&&"n"===l[1])o=l!==(l=l.replace(/Capture$/,"")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+o]=u,u?i||n.addEventListener(l,o?I:H,o):n.removeEventListener(l,o?I:H,o);else if("dangerouslySetInnerHTML"!==l){if(t)l=l.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==l&&"height"!==l&&"href"!==l&&"list"!==l&&"form"!==l&&"tabIndex"!==l&&"download"!==l&&"rowSpan"!==l&&"colSpan"!==l&&l in n)try{n[l]=null==u?"":u;break n}catch(n){}"function"==typeof u||(null==u||!1===u&&"-"!==l[4]?n.removeAttribute(l):n.setAttribute(l,u))}}function H(n){return this.l[n.type+!1](u.event?u.event(n):n)}function I(n){return this.l[n.type+!0](u.event?u.event(n):n)}function z(n,l,i,t,o,f,r,e,c){var s,a,h,p,y,_,k,m,w,x,T,C,S,$,j,A=l.type;if(void 0!==l.constructor)return null;null!=i.__h&&(c=i.__h,e=l.__e=i.__e,l.__h=null,f=[e]),(s=u.__b)&&s(l);try{n:if("function"==typeof A){if(m=l.props,w=(s=A.contextType)&&t[s.__c],x=s?w?w.props.value:s.__:t,i.__c?k=(a=l.__c=i.__c).__=a.__E:("prototype"in A&&A.prototype.render?l.__c=a=new A(m,x):(l.__c=a=new g(m,x),a.constructor=A,a.render=q),w&&w.sub(a),a.props=m,a.state||(a.state={}),a.context=x,a.__n=t,h=a.__d=!0,a.__h=[],a._sb=[]),null==a.__s&&(a.__s=a.state),null!=A.getDerivedStateFromProps&&(a.__s==a.state&&(a.__s=d({},a.__s)),d(a.__s,A.getDerivedStateFromProps(m,a.__s))),p=a.props,y=a.state,a.__v=l,h)null==A.getDerivedStateFromProps&&null!=a.componentWillMount&&a.componentWillMount(),null!=a.componentDidMount&&a.__h.push(a.componentDidMount);else{if(null==A.getDerivedStateFromProps&&m!==p&&null!=a.componentWillReceiveProps&&a.componentWillReceiveProps(m,x),!a.__e&&null!=a.shouldComponentUpdate&&!1===a.shouldComponentUpdate(m,a.__s,x)||l.__v===i.__v){for(l.__v!==i.__v&&(a.props=m,a.state=a.__s,a.__d=!1),a.__e=!1,l.__e=i.__e,l.__k=i.__k,l.__k.forEach(function(n){n&&(n.__=l)}),T=0;T<a._sb.length;T++)a.__h.push(a._sb[T]);a._sb=[],a.__h.length&&r.push(a);break n}null!=a.componentWillUpdate&&a.componentWillUpdate(m,a.__s,x),null!=a.componentDidUpdate&&a.__h.push(function(){a.componentDidUpdate(p,y,_)})}if(a.context=x,a.props=m,a.__P=n,C=u.__r,S=0,"prototype"in A&&A.prototype.render){for(a.state=a.__s,a.__d=!1,C&&C(l),s=a.render(a.props,a.state,a.context),$=0;$<a._sb.length;$++)a.__h.push(a._sb[$]);a._sb=[]}else do{a.__d=!1,C&&C(l),s=a.render(a.props,a.state,a.context),a.state=a.__s}while(a.__d&&++S<25);a.state=a.__s,null!=a.getChildContext&&(t=d(d({},t),a.getChildContext())),h||null==a.getSnapshotBeforeUpdate||(_=a.getSnapshotBeforeUpdate(p,y)),P(n,v(j=null!=s&&s.type===b&&null==s.key?s.props.children:s)?j:[j],l,i,t,o,f,r,e,c),a.base=l.__e,l.__h=null,a.__h.length&&r.push(a),k&&(a.__E=a.__=null),a.__e=!1}else null==f&&l.__v===i.__v?(l.__k=i.__k,l.__e=i.__e):l.__e=M(i.__e,l,i,t,o,f,r,c);(s=u.diffed)&&s(l)}catch(n){l.__v=null,(c||null!=f)&&(l.__e=e,l.__h=!!c,f[f.indexOf(e)]=null),u.__e(n,l,i)}}function L(n,l){u.__c&&u.__c(l,n),n.some(function(l){try{n=l.__h,l.__h=[],n.some(function(n){n.call(l)})}catch(n){u.__e(n,l.__v)}})}function M(n,u,i,t,o,f,r,e){var c,a,h,d=i.props,y=u.props,_=u.type,b=0;if("svg"===_&&(o=!0),null!=f)for(;b<f.length;b++)if((c=f[b])&&"setAttribute"in c==!!_&&(_?c.localName===_:3===c.nodeType)){n=c,f[b]=null;break}if(null==n){if(null===_)return document.createTextNode(y);n=o?document.createElementNS("http://www.w3.org/2000/svg",_):document.createElement(_,y.is&&y),f=null,e=!1}if(null===_)d===y||e&&n.data===y||(n.data=y);else{if(f=f&&l.call(n.childNodes),a=(d=i.props||s).dangerouslySetInnerHTML,h=y.dangerouslySetInnerHTML,!e){if(null!=f)for(d={},b=0;b<n.attributes.length;b++)d[n.attributes[b].name]=n.attributes[b].value;(h||a)&&(h&&(a&&h.__html==a.__html||h.__html===n.innerHTML)||(n.innerHTML=h&&h.__html||""))}if($(n,y,d,o,e),h)u.__k=[];else if(P(n,v(b=u.props.children)?b:[b],u,i,t,o&&"foreignObject"!==_,f,r,f?f[0]:i.__k&&k(i,0),e),null!=f)for(b=f.length;b--;)null!=f[b]&&p(f[b]);e||("value"in y&&void 0!==(b=y.value)&&(b!==n.value||"progress"===_&&!b||"option"===_&&b!==d.value)&&A(n,"value",b,d.value,!1),"checked"in y&&void 0!==(b=y.checked)&&b!==n.checked&&A(n,"checked",b,d.checked,!1))}return n}function N(n,l,i){try{"function"==typeof n?n(l):n.current=l}catch(n){u.__e(n,i)}}function O(n,l,i){var t,o;if(u.unmount&&u.unmount(n),(t=n.ref)&&(t.current&&t.current!==n.__e||N(t,null,l)),null!=(t=n.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(n){u.__e(n,l)}t.base=t.__P=null,n.__c=void 0}if(t=n.__k)for(o=0;o<t.length;o++)t[o]&&O(t[o],l,i||"function"!=typeof n.type);i||null==n.__e||p(n.__e),n.__=n.__e=n.__d=void 0}function q(n,l,u){return this.constructor(n,u)}function B(n,i,t){var o,f,r;u.__&&u.__(n,i),f=(o="function"==typeof t)?null:t&&t.__k||i.__k,r=[],z(i,n=(!o&&t||i).__k=y(b,null,[n]),f||s,s,void 0!==i.ownerSVGElement,!o&&t?[t]:f?null:i.firstChild?l.call(i.childNodes):null,r,!o&&t?t:f?f.__e:i.firstChild,o),L(r,n)}l=a.slice,u={__e:function(n,l,u,i){for(var t,o,f;l=l.__;)if((t=l.__c)&&!t.__)try{if((o=t.constructor)&&null!=o.getDerivedStateFromError&&(t.setState(o.getDerivedStateFromError(n)),f=t.__d),null!=t.componentDidCatch&&(t.componentDidCatch(n,i||{}),f=t.__d),f)return t.__E=t}catch(l){n=l}throw n}},i=0,t=function(n){return null!=n&&void 0===n.constructor},g.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=d({},this.state),"function"==typeof n&&(n=n(d({},u),this.props)),n&&d(u,n),null!=n&&this.__v&&(l&&this._sb.push(l),w(this))},g.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),w(this))},g.prototype.render=b,o=[],r="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,e=function(n,l){return n.__v.__b-l.__v.__b},x.__r=0,c=0,n.Component=g,n.Fragment=b,n.cloneElement=function(n,u,i){var t,o,f,r,e=d({},n.props);for(f in n.type&&n.type.defaultProps&&(r=n.type.defaultProps),u)"key"==f?t=u[f]:"ref"==f?o=u[f]:e[f]=void 0===u[f]&&void 0!==r?r[f]:u[f];return arguments.length>2&&(e.children=arguments.length>3?l.call(arguments,2):i),_(n.type,e,t||n.key,o||n.ref,null)},n.createContext=function(n,l){var u={__c:l="__cC"+c++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,i;return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(function(n){n.__e=!0,w(n)})},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u},n.createElement=y,n.createRef=function(){return{current:null}},n.h=y,n.hydrate=function n(l,u){B(l,u,n)},n.isValidElement=t,n.options=u,n.render=B,n.toChildArray=function n(l,u){return u=u||[],null==l||"boolean"==typeof l||(v(l)?l.some(function(l){n(l,u)}):u.push(l)),u}});
//# sourceMappingURL=preact.umd.js.map
;
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("preact")):"function"==typeof define&&define.amd?define('preact/jsx-runtime',["exports","preact"],n):n((e||self).jsxRuntime={},e.preact)}(this,function(e,n){var o=0;function t(e,t,r,f,i,u){var _,l,c={};for(l in t)"ref"==l?_=t[l]:c[l]=t[l];var p={type:e,props:c,key:r,ref:_,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--o,__source:i,__self:u};if("function"==typeof e&&(_=e.defaultProps))for(l in _)void 0===c[l]&&(c[l]=_[l]);return n.options.vnode&&n.options.vnode(p),p}Object.defineProperty(e,"Fragment",{enumerable:!0,get:function(){return n.Fragment}}),e.jsx=t,e.jsxDEV=t,e.jsxs=t});
//# sourceMappingURL=jsxRuntime.umd.js.map
;
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("preact")):"function"==typeof define&&define.amd?define('preact/hooks',["exports","preact"],t):t((n||self).preactHooks={},n.preact)}(this,function(n,t){var u,r,i,o,f=0,e=[],c=[],a=t.options.__b,v=t.options.__r,l=t.options.diffed,d=t.options.__c,s=t.options.unmount;function p(n,u){t.options.__h&&t.options.__h(r,n,f||u),f=0;var i=r.__H||(r.__H={__:[],__h:[]});return n>=i.__.length&&i.__.push({__V:c}),i.__[n]}function h(n){return f=1,y(g,n)}function y(n,t,i){var o=p(u++,2);if(o.t=n,!o.__c&&(o.__=[i?i(t):g(void 0,t),function(n){var t=o.__N?o.__N[0]:o.__[0],u=o.t(t,n);t!==u&&(o.__N=[u,o.__[1]],o.__c.setState({}))}],o.__c=r,!r.u)){var f=function(n,t,u){if(!o.__c.__H)return!0;var r=o.__c.__H.__.filter(function(n){return n.__c});if(r.every(function(n){return!n.__N}))return!e||e.call(this,n,t,u);var i=!1;return r.forEach(function(n){if(n.__N){var t=n.__[0];n.__=n.__N,n.__N=void 0,t!==n.__[0]&&(i=!0)}}),!(!i&&o.__c.props===n)&&(!e||e.call(this,n,t,u))};r.u=!0;var e=r.shouldComponentUpdate,c=r.componentWillUpdate;r.componentWillUpdate=function(n,t,u){if(this.__e){var r=e;e=void 0,f(n,t,u),e=r}c&&c.call(this,n,t,u)},r.shouldComponentUpdate=f}return o.__N||o.__}function m(n,i){var o=p(u++,4);!t.options.__s&&F(o.__H,i)&&(o.__=n,o.i=i,r.__h.push(o))}function _(n,t){var r=p(u++,7);return F(r.__H,t)?(r.__V=n(),r.i=t,r.__h=n,r.__V):r.__}function T(){for(var n;n=e.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(x),n.__H.__h.forEach(A),n.__H.__h=[]}catch(u){n.__H.__h=[],t.options.__e(u,n.__v)}}t.options.__b=function(n){r=null,a&&a(n)},t.options.__r=function(n){v&&v(n),u=0;var t=(r=n.__c).__H;t&&(i===r?(t.__h=[],r.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=c,n.__N=n.i=void 0})):(t.__h.forEach(x),t.__h.forEach(A),t.__h=[],u=0)),i=r},t.options.diffed=function(n){l&&l(n);var u=n.__c;u&&u.__H&&(u.__H.__h.length&&(1!==e.push(u)&&o===t.options.requestAnimationFrame||((o=t.options.requestAnimationFrame)||q)(T)),u.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==c&&(n.__=n.__V),n.i=void 0,n.__V=c})),i=r=null},t.options.__c=function(n,u){u.some(function(n){try{n.__h.forEach(x),n.__h=n.__h.filter(function(n){return!n.__||A(n)})}catch(r){u.some(function(n){n.__h&&(n.__h=[])}),u=[],t.options.__e(r,n.__v)}}),d&&d(n,u)},t.options.unmount=function(n){s&&s(n);var u,r=n.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{x(n)}catch(n){u=n}}),r.__H=void 0,u&&t.options.__e(u,r.__v))};var b="function"==typeof requestAnimationFrame;function q(n){var t,u=function(){clearTimeout(r),b&&cancelAnimationFrame(t),setTimeout(n)},r=setTimeout(u,100);b&&(t=requestAnimationFrame(u))}function x(n){var t=r,u=n.__c;"function"==typeof u&&(n.__c=void 0,u()),r=t}function A(n){var t=r;n.__c=n.__(),r=t}function F(n,t){return!n||n.length!==t.length||t.some(function(t,u){return t!==n[u]})}function g(n,t){return"function"==typeof t?t(n):t}n.useCallback=function(n,t){return f=8,_(function(){return n},t)},n.useContext=function(n){var t=r.context[n.__c],i=p(u++,9);return i.c=n,t?(null==i.__&&(i.__=!0,t.sub(r)),t.props.value):n.__},n.useDebugValue=function(n,u){t.options.useDebugValue&&t.options.useDebugValue(u?u(n):n)},n.useEffect=function(n,i){var o=p(u++,3);!t.options.__s&&F(o.__H,i)&&(o.__=n,o.i=i,r.__H.__h.push(o))},n.useErrorBoundary=function(n){var t=p(u++,10),i=h();return t.__=n,r.componentDidCatch||(r.componentDidCatch=function(n,u){t.__&&t.__(n,u),i[1](n)}),[i[0],function(){i[1](void 0)}]},n.useId=function(){var n=p(u++,11);if(!n.__){for(var t=r.__v;null!==t&&!t.__m&&null!==t.__;)t=t.__;var i=t.__m||(t.__m=[0,0]);n.__="P"+i[0]+"-"+i[1]++}return n.__},n.useImperativeHandle=function(n,t,u){f=6,m(function(){return"function"==typeof n?(n(t()),function(){return n(null)}):n?(n.current=t(),function(){return n.current=null}):void 0},null==u?u:u.concat(n))},n.useLayoutEffect=m,n.useMemo=_,n.useReducer=y,n.useRef=function(n){return f=5,_(function(){return{current:n}},[])},n.useState=h});
//# sourceMappingURL=hooks.umd.js.map
;
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("preact"),require("preact/hooks")):"function"==typeof define&&define.amd?define('preact/compat',["exports","preact","preact/hooks"],t):t((n||self).preactCompat={},n.preact,n.preactHooks)}(this,function(n,t,e){function r(n,t){for(var e in t)n[e]=t[e];return n}function u(n,t){for(var e in n)if("__source"!==e&&!(e in t))return!0;for(var r in t)if("__source"!==r&&n[r]!==t[r])return!0;return!1}function o(n,t){return n===t&&(0!==n||1/n==1/t)||n!=n&&t!=t}function i(n){this.props=n}function c(n,e){function r(n){var t=this.props.ref,r=t==n.ref;return!r&&t&&(t.call?t(null):t.current=null),e?!e(this.props,n)||!r:u(this.props,n)}function o(e){return this.shouldComponentUpdate=r,t.createElement(n,e)}return o.displayName="Memo("+(n.displayName||n.name)+")",o.prototype.isReactComponent=!0,o.__f=!0,o}(i.prototype=new t.Component).isPureReactComponent=!0,i.prototype.shouldComponentUpdate=function(n,t){return u(this.props,n)||u(this.state,t)};var l=t.options.__b;t.options.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),l&&l(n)};var f="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function a(n){function t(t){var e=r({},t);return delete e.ref,n(e,t.ref||null)}return t.$$typeof=f,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(n.displayName||n.name)+")",t}var s=function(n,e){return null==n?null:t.toChildArray(t.toChildArray(n).map(e))},h={map:s,forEach:s,count:function(n){return n?t.toChildArray(n).length:0},only:function(n){var e=t.toChildArray(n);if(1!==e.length)throw"Children.only";return e[0]},toArray:t.toChildArray},d=t.options.__e;t.options.__e=function(n,t,e,r){if(n.then)for(var u,o=t;o=o.__;)if((u=o.__c)&&u.__c)return null==t.__e&&(t.__e=e.__e,t.__k=e.__k),u.__c(n,t);d(n,t,e,r)};var v=t.options.unmount;function p(n,t,e){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(n){"function"==typeof n.__c&&n.__c()}),n.__c.__H=null),null!=(n=r({},n)).__c&&(n.__c.__P===e&&(n.__c.__P=t),n.__c=null),n.__k=n.__k&&n.__k.map(function(n){return p(n,t,e)})),n}function m(n,t,e){return n&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(n){return m(n,t,e)}),n.__c&&n.__c.__P===t&&(n.__e&&e.insertBefore(n.__e,n.__d),n.__c.__e=!0,n.__c.__P=e)),n}function b(){this.__u=0,this.t=null,this.__b=null}function y(n){var t=n.__.__c;return t&&t.__a&&t.__a(n)}function _(n){var e,r,u;function o(o){if(e||(e=n()).then(function(n){r=n.default||n},function(n){u=n}),u)throw u;if(!r)throw e;return t.createElement(r,o)}return o.displayName="Lazy",o.__f=!0,o}function g(){this.u=null,this.o=null}t.options.unmount=function(n){var t=n.__c;t&&t.__R&&t.__R(),t&&!0===n.__h&&(n.type=null),v&&v(n)},(b.prototype=new t.Component).__c=function(n,t){var e=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(e);var u=y(r.__v),o=!1,i=function(){o||(o=!0,e.__R=null,u?u(c):c())};e.__R=i;var c=function(){if(!--r.__u){if(r.state.__a){var n=r.state.__a;r.__v.__k[0]=m(n,n.__c.__P,n.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.t.pop();)t.forceUpdate()}},l=!0===t.__h;r.__u++||l||r.setState({__a:r.__b=r.__v.__k[0]}),n.then(i,i)},b.prototype.componentWillUnmount=function(){this.t=[]},b.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var r=document.createElement("div"),u=this.__v.__k[0].__c;this.__v.__k[0]=p(this.__b,r,u.__O=u.__P)}this.__b=null}var o=e.__a&&t.createElement(t.Fragment,null,n.fallback);return o&&(o.__h=null),[t.createElement(t.Fragment,null,e.__a?null:n.children),o]};var S=function(n,t,e){if(++e[1]===e[0]&&n.o.delete(t),n.props.revealOrder&&("t"!==n.props.revealOrder[0]||!n.o.size))for(e=n.u;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;n.u=e=e[2]}};function C(n){return this.getChildContext=function(){return n.context},n.children}function E(n){var e=this,r=n.i;e.componentWillUnmount=function(){t.render(null,e.l),e.l=null,e.i=null},e.i&&e.i!==r&&e.componentWillUnmount(),n.__v?(e.l||(e.i=r,e.l={nodeType:1,parentNode:r,childNodes:[],appendChild:function(n){this.childNodes.push(n),e.i.appendChild(n)},insertBefore:function(n,t){this.childNodes.push(n),e.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.i.removeChild(n)}}),t.render(t.createElement(C,{context:e.context},n.__v),e.l)):e.l&&e.componentWillUnmount()}function O(n,e){var r=t.createElement(E,{__v:n,i:e});return r.containerInfo=e,r}(g.prototype=new t.Component).__a=function(n){var t=this,e=y(t.__v),r=t.o.get(n);return r[0]++,function(u){var o=function(){t.props.revealOrder?(r.push(u),S(t,n,r)):u()};e?e(o):o()}},g.prototype.render=function(n){this.u=null,this.o=new Map;var e=t.toChildArray(n.children);n.revealOrder&&"b"===n.revealOrder[0]&&e.reverse();for(var r=e.length;r--;)this.o.set(e[r],this.u=[1,0,this.u]);return n.children},g.prototype.componentDidUpdate=g.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(t,e){S(n,e,t)})};var w="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,x=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,R=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,j=/[A-Z0-9]/g,N="undefined"!=typeof document,T=function(n){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(n)};function k(n,e,r){return null==e.__k&&(e.textContent=""),t.render(n,e),"function"==typeof r&&r(),n?n.__c:null}function A(n,e,r){return t.hydrate(n,e),"function"==typeof r&&r(),n?n.__c:null}t.Component.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(n){Object.defineProperty(t.Component.prototype,n,{configurable:!0,get:function(){return this["UNSAFE_"+n]},set:function(t){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:t})}})});var I=t.options.event;function L(){}function U(){return this.cancelBubble}function D(){return this.defaultPrevented}t.options.event=function(n){return I&&(n=I(n)),n.persist=L,n.isPropagationStopped=U,n.isDefaultPrevented=D,n.nativeEvent=n};var F,M={enumerable:!1,configurable:!0,get:function(){return this.class}},V=t.options.vnode;t.options.vnode=function(n){"string"==typeof n.type&&function(n){var e=n.props,r=n.type,u={};for(var o in e){var i=e[o];if(!("value"===o&&"defaultValue"in e&&null==i||N&&"children"===o&&"noscript"===r||"class"===o||"className"===o)){var c=o.toLowerCase();"defaultValue"===o&&"value"in e&&null==e.value?o="value":"download"===o&&!0===i?i="":"ondoubleclick"===c?o="ondblclick":"onchange"!==c||"input"!==r&&"textarea"!==r||T(e.type)?"onfocus"===c?o="onfocusin":"onblur"===c?o="onfocusout":R.test(o)?o=c:-1===r.indexOf("-")&&x.test(o)?o=o.replace(j,"-$&").toLowerCase():null===i&&(i=void 0):c=o="oninput","oninput"===c&&u[o=c]&&(o="oninputCapture"),u[o]=i}}"select"==r&&u.multiple&&Array.isArray(u.value)&&(u.value=t.toChildArray(e.children).forEach(function(n){n.props.selected=-1!=u.value.indexOf(n.props.value)})),"select"==r&&null!=u.defaultValue&&(u.value=t.toChildArray(e.children).forEach(function(n){n.props.selected=u.multiple?-1!=u.defaultValue.indexOf(n.props.value):u.defaultValue==n.props.value})),e.class&&!e.className?(u.class=e.class,Object.defineProperty(u,"className",M)):(e.className&&!e.class||e.class&&e.className)&&(u.class=u.className=e.className),n.props=u}(n),n.$$typeof=w,V&&V(n)};var W=t.options.__r;t.options.__r=function(n){W&&W(n),F=n.__c};var P=t.options.diffed;t.options.diffed=function(n){P&&P(n);var t=n.props,e=n.__e;null!=e&&"textarea"===n.type&&"value"in t&&t.value!==e.value&&(e.value=null==t.value?"":t.value),F=null};var z={ReactCurrentDispatcher:{current:{readContext:function(n){return F.__n[n.__c].props.value}}}},B="17.0.2";function q(n){return t.createElement.bind(null,n)}function H(n){return!!n&&n.$$typeof===w}function Z(n){return H(n)?t.cloneElement.apply(null,arguments):n}function Y(n){return!!n.__k&&(t.render(null,n),!0)}function $(n){return n&&(n.base||1===n.nodeType&&n)||null}var G=function(n,t){return n(t)},J=function(n,t){return n(t)},K=t.Fragment;function Q(n){n()}function X(n){return n}function nn(){return[!1,Q]}var tn=e.useLayoutEffect;function en(n,t){var r=t(),u=e.useState({h:{__:r,v:t}}),i=u[0].h,c=u[1];return e.useLayoutEffect(function(){i.__=r,i.v=t,o(i.__,t())||c({h:i})},[n,r,t]),e.useEffect(function(){return o(i.__,i.v())||c({h:i}),n(function(){o(i.__,i.v())||c({h:i})})},[n]),r}var rn={useState:e.useState,useId:e.useId,useReducer:e.useReducer,useEffect:e.useEffect,useLayoutEffect:e.useLayoutEffect,useInsertionEffect:tn,useTransition:nn,useDeferredValue:X,useSyncExternalStore:en,startTransition:Q,useRef:e.useRef,useImperativeHandle:e.useImperativeHandle,useMemo:e.useMemo,useCallback:e.useCallback,useContext:e.useContext,useDebugValue:e.useDebugValue,version:B,Children:h,render:k,hydrate:A,unmountComponentAtNode:Y,createPortal:O,createElement:t.createElement,createContext:t.createContext,createFactory:q,cloneElement:Z,createRef:t.createRef,Fragment:t.Fragment,isValidElement:H,findDOMNode:$,Component:t.Component,PureComponent:i,memo:c,forwardRef:a,flushSync:J,unstable_batchedUpdates:G,StrictMode:K,Suspense:b,SuspenseList:g,lazy:_,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:z};Object.defineProperty(n,"Component",{enumerable:!0,get:function(){return t.Component}}),Object.defineProperty(n,"Fragment",{enumerable:!0,get:function(){return t.Fragment}}),Object.defineProperty(n,"createContext",{enumerable:!0,get:function(){return t.createContext}}),Object.defineProperty(n,"createElement",{enumerable:!0,get:function(){return t.createElement}}),Object.defineProperty(n,"createRef",{enumerable:!0,get:function(){return t.createRef}}),n.Children=h,n.PureComponent=i,n.StrictMode=K,n.Suspense=b,n.SuspenseList=g,n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,n.cloneElement=Z,n.createFactory=q,n.createPortal=O,n.default=rn,n.findDOMNode=$,n.flushSync=J,n.forwardRef=a,n.hydrate=A,n.isValidElement=H,n.lazy=_,n.memo=c,n.render=k,n.startTransition=Q,n.unmountComponentAtNode=Y,n.unstable_batchedUpdates=G,n.useDeferredValue=X,n.useInsertionEffect=tn,n.useSyncExternalStore=en,n.useTransition=nn,n.version=B,Object.keys(e).forEach(function(t){"default"===t||n.hasOwnProperty(t)||Object.defineProperty(n,t,{enumerable:!0,get:function(){return e[t]}})})});
//# sourceMappingURL=compat.umd.js.map
;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojlogger',["exports"],function(e){"use strict";const o={LEVEL_NONE:0,LEVEL_ERROR:1,LEVEL_WARN:2,LEVEL_INFO:3,LEVEL_LOG:4,_METHOD_ERROR:"error",_METHOD_WARN:"warn",_METHOD_INFO:"info",_METHOD_LOG:"log"};o._defaultOptions={level:o.LEVEL_ERROR,writer:null},o._options=o._defaultOptions;const n=(()=>{let e;try{switch("undefined"!=typeof window&&void 0!==window.sessionStorage?sessionStorage.getItem("ojet.logLevel"):void 0){case"none":e=o.LEVEL_NONE;break;case"error":e=o.LEVEL_ERROR;break;case"warning":e=o.LEVEL_WARN;break;case"info":e=o.LEVEL_INFO;break;case"log":e=o.LEVEL_LOG;break;default:e=void 0}}catch(e){}return e})(),t=()=>n||o._options.level;o.error=function(e,n){o._write(o.LEVEL_ERROR,o._METHOD_ERROR,arguments)},o.info=function(e,n){o._write(o.LEVEL_INFO,o._METHOD_INFO,arguments)},o.warn=function(e,n){o._write(o.LEVEL_WARN,o._METHOD_WARN,arguments)},o.log=function(e,n){o._write(o.LEVEL_LOG,o._METHOD_LOG,arguments)},o.option=function(e,n){var i,r,E={};if(0===arguments.length){for(r=Object.keys(o._options),i=0;i<r.length;i++)E[r[i]]="level"===e?t():o._options[r[i]];return E}if("string"==typeof e&&void 0===n){let n;switch(e){case"level":n=t();break;case"writer":n=o._options.writer;break;default:n=null}return n}if("string"==typeof e)o._options[e]=n;else{var _=e;for(r=Object.keys(_),i=0;i<r.length;i++)o.option(r[i],_[r[i]])}},o._write=function(e,n,t){if(!(o.option("level")<e)){var i=o._getWriter();if(null!=i){if(1===t.length&&t[0]instanceof Function){var r=t[0]();t=[r]}i[n]&&i[n].apply?i[n].apply(i,t):i[n]&&(i[n]=Function.prototype.bind.call(i[n],i),o._write(e,n,t))}}},o._getWriter=function(){var e=null;return o.option("writer")?e=o.option("writer"):"undefined"!=typeof window&&void 0!==window.console&&(e=window.console),e};const i=o.info,r=o.error,E=o.warn,_=o.log,L=o.option,l=o.LEVEL_ERROR,O=o.LEVEL_INFO,s=o.LEVEL_LOG,a=o.LEVEL_NONE,f=o.LEVEL_WARN;e.LEVEL_ERROR=l,e.LEVEL_INFO=O,e.LEVEL_LOG=s,e.LEVEL_NONE=a,e.LEVEL_WARN=f,e.error=r,e.info=i,e.log=_,e.option=L,e.warn=E,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojlogger.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojcore-base',["ojs/ojlogger"],function(e){"use strict";let t={};"undefined"!=typeof window?t=window:"undefined"!=typeof self&&(t=self);var n=t.oj;const r={version:"15.1.9",revision:"2024-03-10_13-01-11",noConflict:function(){t.oj=n},_registerLegacyNamespaceProp:function(e,t){this[e]=t}};t.oj=r;const o={};r._registerLegacyNamespaceProp("StringUtils",o),o._TRIM_ALL_RE=/^\s*|\s*$/g,o.isEmpty=function(e){return null===e||0===o.trim(e).length},o.isEmptyOrUndefined=function(e){return!(void 0!==e&&!o.isEmpty(e))},o.isString=function(e){return null!==e&&("string"==typeof e||e instanceof String)},o.trim=function(e){return o.isString(e)?e.replace(o._TRIM_ALL_RE,""):e},o.hashCode=function(e){var t=0;if(0===e.length)return t;for(var n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n),t&=t}return t};const i=function(){};r._registerLegacyNamespaceProp("AgentUtils",i),i.BROWSER={IE:"ie",FIREFOX:"firefox",SAFARI:"safari",CHROME:"chrome",EDGE:"edge",EDGE_CHROMIUM:"edge-chromium",UNKNOWN:"unknown"},i.ENGINE={TRIDENT:"trident",WEBKIT:"webkit",GECKO:"gecko",BLINK:"blink",EDGE_HTML:"edgehtml",UNKNOWN:"unknown"},i.OS={WINDOWS:"Windows",SOLARIS:"Solaris",MAC:"Mac",UNKNOWN:"Unknown",ANDROID:"Android",IOS:"IOS",WINDOWSPHONE:"WindowsPhone",LINUX:"Linux"},i.DEVICETYPE={PHONE:"phone",TABLET:"tablet",OTHERS:"others"},i.getAgentInfo=function(e){o.isEmptyOrUndefined(e)&&(e=navigator.userAgent),e=e.toLowerCase();var t=o.hashCode(e),n=i._currAgentInfo;if(n&&n.hashCode===t)return{os:n.os,browser:n.browser,browserVersion:n.browserVersion,deviceType:n.deviceType,engine:n.engine,engineVersion:n.engineVersion,hashCode:n.hashCode};var r=i.OS.UNKNOWN,s=i.BROWSER.UNKNOWN,a=0,c=i.DEVICETYPE.OTHERS,u=i.ENGINE.UNKNOWN,l=0;return e.indexOf("iphone")>-1||e.indexOf("ipad")>-1||e.indexOf("macintosh")>-1&&navigator.maxTouchPoints>0?r=i.OS.IOS:e.indexOf("mac")>-1?r=i.OS.MAC:e.indexOf("sunos")>-1?r=i.OS.SOLARIS:e.indexOf("android")>-1?r=i.OS.ANDROID:e.indexOf("linux")>-1?r=i.OS.LINUX:e.indexOf("windows phone")>-1?r=i.OS.WINDOWSPHONE:e.indexOf("win")>-1&&(r=i.OS.WINDOWS),r===i.OS.ANDROID?c=e.indexOf("mobile")>-1?i.DEVICETYPE.PHONE:i.DEVICETYPE.TABLET:r===i.OS.IOS&&(c=e.indexOf("iphone")>-1?i.DEVICETYPE.PHONE:i.DEVICETYPE.TABLET),e.indexOf("msie")>-1?(s=i.BROWSER.IE,a=i._parseFloatVersion(e,/msie (\d+[.]\d+)/),e.indexOf("trident")&&(u=i.ENGINE.TRIDENT,l=i._parseFloatVersion(e,/trident\/(\d+[.]\d+)/))):e.indexOf("trident")>-1?(s=i.BROWSER.IE,a=i._parseFloatVersion(e,/rv:(\d+[.]\d+)/),e.indexOf("trident")&&(u=i.ENGINE.TRIDENT,l=i._parseFloatVersion(e,/trident\/(\d+[.]\d+)/))):e.indexOf("edge")>-1?(s=i.BROWSER.EDGE,a=l=i._parseFloatVersion(e,/edge\/(\d+[.]\d+)/),u=i.ENGINE.EDGE_HTML):e.indexOf("edg")>-1?(s=i.BROWSER.EDGE_CHROMIUM,a=i._parseFloatVersion(e,/edg\/(\d+[.]\d+)/),u=i.ENGINE.BLINK,l=a):e.indexOf("chrome")>-1?(s=i.BROWSER.CHROME,(a=i._parseFloatVersion(e,/chrome\/(\d+[.]\d+)/))>=28?(u=i.ENGINE.BLINK,l=a):(u=i.ENGINE.WEBKIT,l=i._parseFloatVersion(e,/applewebkit\/(\d+[.]\d+)/))):e.indexOf("safari")>-1?(s=i.BROWSER.SAFARI,a=i._parseFloatVersion(e,/version\/(\d+[.]\d+)/),u=i.ENGINE.WEBKIT,l=i._parseFloatVersion(e,/applewebkit\/(\d+[.]\d+)/)):e.indexOf("firefox")>-1&&(s=i.BROWSER.FIREFOX,a=i._parseFloatVersion(e,/rv:(\d+[.]\d+)/),u=i.ENGINE.GECKO,l=i._parseFloatVersion(e,/gecko\/(\d+)/)),i._currAgentInfo=n={hashCode:t,os:r,browser:s,browserVersion:a,deviceType:c,engine:u,engineVersion:l},{os:n.os,browser:n.browser,browserVersion:n.browserVersion,deviceType:n.deviceType,engine:n.engine,engineVersion:n.engineVersion,hashCode:n.hashCode}},i._parseFloatVersion=function(e,t){var n=e.match(t);if(n){var r=n[1];if(r)return parseFloat(r)}return 0};const s={};r._registerLegacyNamespaceProp("Assert",s);var a="DEBUG";const c="' doesn't match prototype ";s.forceDebug=function(){s[a]=!0},s.clearDebug=function(){s[a]=!1},s.isDebug=function(){return!0===s[a]},s.assert=function(e,t){if(s[a]&&!e){var n=t||"";if(arguments.length>2){n+="(";for(var r=2;r<arguments.length;r+=1)n+=arguments[r];n+=")"}s.assertionFailed(n,1)}},s.failedInAbstractFunction=function(){s[a]&&s.assertionFailed("Abstract function called",1)},s.assertPrototype=function(e,t,n){if(s[a]){var r=t.prototype;if(null!=e)s.assertType(t,"function",null,1,!1),Object.prototype.isPrototypeOf.call(r,e)||s.assertionFailed("object '"+e+c+r,1,n);else s.assertionFailed("null object doesn't match prototype "+r,1,n)}},s.assertPrototypeOrNull=function(e,t,n){if(s[a]&&null!=e){s.assertType(t,"function",null,1,!1);var r=t.prototype;Object.prototype.isPrototypeOf.call(r,e)||s.assertionFailed("object '"+e+c+r,1,n)}},s.assertPrototypes=function(e,t,n,r){if(s[a]){var o=t.prototype,i=n.prototype,u=Object.prototype.isPrototypeOf;u.call(o,e)||u.call(i,e)||s.assertionFailed("object '"+e+c+o+" or "+i,1,r)}},s.assertDomNodeOrNull=function(e,t){s[a]&&e&&void 0===e.nodeType&&s.assertionFailed(e+" is not a DOM Node",t+1)},s.assertDomNode=function(e,t){s[a]&&(e&&void 0!==e.nodeType||s.assertionFailed(e+" is not a DOM Node",t+1))},s.assertDomElement=function(e,t){s[a]&&(s.assertDomNode(e,1),1!==e.nodeType?s.assertionFailed(e+" is not a DOM Element",1):t&&e.nodeName!==t&&s.assertionFailed(e+" is not a "+t+" Element",1))},s.assertDomElementOrNull=function(e,t){s[a]&&null!=e&&(s.assertDomNode(e,1),1!==e.nodeType?s.assertionFailed(e+" is not a DOM Element",1):t&&e.nodeName!==t&&s.assertionFailed(e+" is not a "+t+" Element",1))},s.assertType=function(e,t,n,r,o){if(s[a]&&!(null==e&&o||typeof e===t)){var i=e+" is not of type "+t;n&&(i=n+i),r||(r=0),s.assertionFailed(i,r+1)}},s.assertObject=function(e,t){s[a]&&s.assertType(e,"object",t,1,!1)},s.assertObjectOrNull=function(e,t){s[a]&&s.assertType(e,"object",t,1,!0)},s.assertNonEmptyString=function(e,t){s[a]&&(s.assertType(e,"string",t,1,!1),s.assert(e.length>0,"empty string"))},s.assertString=function(e,t){s[a]&&s.assertType(e,"string",t,1,!1)},s.assertStringOrNull=function(e,t){s[a]&&s.assertType(e,"string",t,1,!0)},s.assertFunction=function(e,t){s[a]&&s.assertType(e,"function",t,1,!1)},s.assertFunctionOrNull=function(e,t){s[a]&&s.assertType(e,"function",t,1,!0)},s.assertBoolean=function(e,t){s[a]&&s.assertType(e,"boolean",t,1,!1)},s.assertNumber=function(e,t){s[a]&&s.assertType(e,"number",t,1,!1)},s.assertNumberOrNull=function(e,t){s[a]&&s.assertType(e,"number",t,1,!0)},s.assertArray=function(e,t){s[a]&&(Array.isArray(e)||(void 0===t&&(t=e+" is not an array"),s.assertionFailed(t,1)))},s.assertArrayOrNull=function(e,t){s[a]&&null!=e&&(Array.isArray(e)||(void 0===t&&(t=e+" is not an array"),s.assertionFailed(t,1)))},s.assertNonNumeric=function(e,t){s[a]&&(isNaN(e)||(void 0===t&&(t=e+" is convertible to a number"),s.assertionFailed(t,1)))},s.assertNumeric=function(e,t){s[a]&&isNaN(e)&&(void 0===t&&(t=e+" is not convertible to a number"),s.assertionFailed(t,1))},s.assertInSet=function(e,t,n){if(null==e||void 0===t[e.toString()]){if(void 0===n){for(var r=" is not in set: {",o=Object.keys(t),i=0;i<o.length;i++){r+=o[i],r+=","}n=e+(r+="}")}s.assertionFailed(n,1)}},s.assertionFailed=function(e,t,n){t||(t=0);var r="Assertion";throw n&&(r+=" ("+n+")"),r+=" failed: ",void 0!==e&&(r+=e),new Error(r)};var u=t.__oj_Assert_DEBUG;void 0!==u&&(s[a]=u),i.getAgentInfo().browser===i.BROWSER.IE&&e.error("Internet Explorer is not supported with this version of JET.");const l={};r._registerLegacyNamespaceProp("CollectionUtils",l),l.copyInto=function(e,t,n,r,o){return l._copyIntoImpl(e,t,n,r,o,0)},l.mergeDeep=function(e,...t){if(!t.length)return e;const n=l.isPlainObject,r=l.mergeDeep,o=t.shift();return n(e)&&n(o)&&Object.keys(o).forEach(t=>{n(o[t])?(e[t]||Object.assign(e,{[t]:{}}),r(e[t],o[t])):Object.assign(e,{[t]:o[t]})}),r(e,...t)},l.isPlainObject=function(e){if(null!==e&&"object"==typeof e)try{var t=Object.prototype.hasOwnProperty;if(e.constructor&&t.call(e.constructor.prototype,"isPrototypeOf"))return!0}catch(e){}return!1},l._copyIntoImpl=function(e,t,n,r,o,i){var s;if(null==o&&(o=Number.MAX_VALUE),e&&t&&e!==t)for(var a=Object.keys(t),c=0;c<a.length;c++){var u=a[c];s=n?n(u):u;var d=t[u],f=!1;if(r&&i<o){var p=e[s];l.isPlainObject(d)&&(null==p||l.isPlainObject(p))&&(f=!0,e[s]=p||{},l._copyIntoImpl(e[s],d,n,!0,o,i+1))}f||(e[s]=d)}return e},"undefined"!=typeof window&&window.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(e){var t,n=(this.document||this.ownerDocument).querySelectorAll(e),r=this;do{for(t=n.length;--t>=0&&n.item(t)!==r;);}while(t<0&&(r=r.parentElement));return r}),function(){function e(e){return function(t,n,r){return e.call(this,t,n,function(e){return"boolean"==typeof e?e:!!e&&e.capture}(r))}}if("undefined"!=typeof window&&!function(){let e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){return e=!0,e}});window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t)}catch(e){}return e}()){let t;window.EventTarget?t=EventTarget.prototype:window.Node&&(t=Node.prototype),t&&(t.addEventListener=e(t.addEventListener),t.removeEventListener=e(t.removeEventListener))}}(),
/**
     * @license
     * Code taken from
     * https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/queueMicrotask
     * under "When queueMicrotask() isn't available".
     * @ignore
     */
"undefined"!=typeof window&&"function"!=typeof window.queueMicrotask&&(window.queueMicrotask=function(e){Promise.resolve().then(e).catch(function(e){setTimeout(function(){throw e})})}),function(){if("undefined"!=typeof window){var e;if(!((e=document.createEvent("Event")).initEvent("foo",!0,!0),e.preventDefault(),e.defaultPrevented)){var t=Event.prototype.preventDefault;Event.prototype.preventDefault=function(){this.cancelable&&(t.call(this),Object.defineProperty(this,"defaultPrevented",{get:function(){return!0},configurable:!0}))}}"function"!=typeof window.CustomEvent&&(n.prototype=Object.getPrototypeOf(new n("bogusEvent")),window.CustomEvent=n)}function n(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}}(),function(){function e(e){var t=document.createEvent("FocusEvent");return t.initEvent(e,!1,!1),t}"undefined"!=typeof window&&"function"!=typeof window.FocusEvent&&(e.prototype=Object.getPrototypeOf(new e("focus")),window.FocusEvent=e)}(),function(){var e,t;"undefined"!=typeof window&&!window.setImmediate&&window.postMessage&&(window.setImmediate=function(){var r=arguments[0],o=Array.prototype.slice.call(arguments,1);s.assertFunction(r);var i=(isNaN(t)&&(t=0),t+=1);return e||(e=new Map),e.set(i,{callback:r,args:o}),1===e.size&&window.addEventListener("message",n),window.postMessage({id:i,message:"oj-setImmediate"},"*"),i},window.clearImmediate=r);function n(t){var n=t.data;if(n&&"oj-setImmediate"===n.message){var o=n.id,i=e.get(o);if(r(o),i){var s=i.callback,a=i.args;s.apply(window,a)}}}function r(t){e&&(e.delete(t),e.size<1&&(window.removeEventListener("message",n),e=null))}}(),"undefined"!=typeof window&&(window.Symbol?(window.Symbol.asyncIterator||(window.Symbol.asyncIterator="asyncIterator"),window.Symbol.iterator||(window.Symbol.iterator="iterator")):(window.Symbol={},window.Symbol.asyncIterator="asyncIterator",window.Symbol.iterator="iterator")),function(){if("undefined"!=typeof window&&0===new window.Set([0]).size){var e=window.Set;function t(t){var n=new e;return t&&t.forEach(n.add,n),n}t.prototype=e.prototype,t.prototype.constructor=t,window.Set=t}}(),"undefined"!=typeof window&&(window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),window.DOMTokenList&&!DOMTokenList.prototype.forEach&&(DOMTokenList.prototype.forEach=Array.prototype.forEach)),"undefined"!=typeof window&&"undefined"!==window.Node&&("isConnected"in Node.prototype||Object.defineProperty(Node.prototype,"isConnected",{get(){return!(this.ownerDocument&&this.ownerDocument.compareDocumentPosition(this)&this.DOCUMENT_POSITION_DISCONNECTED)}}));const d=function(){this.Init()};r._registerLegacyNamespaceProp("Object",d),d.superclass=null,d._typeName="oj.Object",d._GET_FUNCTION_NAME_REGEXP=/function\s+([\w$][\w$\d]*)\s*\(/,d.prototype={},d.prototype.constructor=d,d.createSubclass=function(e,t,n){s.assertFunction(e),s.assertFunctionOrNull(t),s.assertStringOrNull(n),void 0===t&&(t=d),s.assert(e!==t,"Class can't extend itself");var r=d._tempSubclassConstructor;r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.superclass=t.prototype,n&&(e._typeName=n)},d.copyPropertiesForClass=function(e,t){s.assertFunction(e),s.assert(null!=t,"source object cannot be null");for(var n=Object.keys(t),r=0;r<n.length;r++){var o=n[r];e.prototype[o]=t[o]}},d._tempSubclassConstructor=function(){},d.prototype.getClass=function(e){if(void 0===e)e=this;else if(null===e)return null;return e.constructor},d.prototype.clone=function(){var e=new this.constructor;return l.copyInto(e,this),e},d.prototype.toString=function(){return this.toDebugString()},d.prototype.toDebugString=function(){return this.getTypeName()+" Object"},d.getTypeName=function(e){s.assertFunction(e);var t=e._typeName;if(null==t){var n=e.toString(),r=d._GET_FUNCTION_NAME_REGEXP.exec(n);t=r?r[1]:"anonymous",e._typeName=t}return t},d.prototype.getTypeName=function(){return d.getTypeName(this.constructor)},d.prototype.Init=function(){s.isDebug()&&s.assert(this.getTypeName,"Not an oj.Object");var e=this.constructor;e._initialized||d._initClasses(e)},d.ensureClassInitialization=function(e){s.assertFunction(e),e._initialized||d._initClasses(e)},d.prototype.equals=function(e){return this===e},d.createCallback=function(e,t){return s.assertFunction(t),t.bind(e)},d._initClasses=function(e){s.isDebug()&&(s.assertFunction(e),s.assert(!e._initialized)),e._initialized=!0;var t=e.superclass;if(t){var n=t.constructor;n&&!n._initialized&&d._initClasses(n)}var r=e.InitClass;r&&r.call(e)},d.compareValues=function(t,n){if(t===n)return!0;if(typeof t!==typeof n)return!1;if(null===t||null===n)return!1;try{if(t.constructor===n.constructor){if(Array.isArray(t))return d._compareArrayValues(t,n);if(t.constructor===Object){const e=arguments[2]||new Set;return d.__innerEquals(t,n,e)}if(t.valueOf&&"function"==typeof t.valueOf)return t.valueOf()===n.valueOf()}}catch(t){e.log("Object.compareValues() exception",t)}return!1},d._compareArrayValues=function(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(!d.compareValues(e[n],t[n]))return!1;return!0},d._compareIdIndexObject=function(e,t){if("number"==typeof e&&"number"==typeof t||"string"==typeof e&&"string"==typeof t)return e===t;if("object"==typeof e&&"object"==typeof t){if(e.id&&t.id)return e.id===t.id&&(!e.index||!t.index||e.index===t.index);if(e.index&&t.index)return e.index===t.index}return!1},d._compareArrayIdIndexObject=function(e,t){if(!e)return!t||0===t.length;if(!t)return!e||0===e.length;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){for(var r=!1,o=0;o<t.length;o++)if(d._compareIdIndexObject(e[n],t[o])){r=!0;break}if(!r)return!1}return!0},d.__innerEquals=function(t,n,r=new Set){if(t===n)return!0;if(r.has(t)||r.has(n))return e.warn("cyclic dependency detected",t,n),!1;if(r.add(t),r.add(n),!(t instanceof Object&&n instanceof Object))return!1;if(t.constructor!==n.constructor)return!1;var o,i,s=Object.prototype.hasOwnProperty,a=Object.keys(t);for(i=0;i<a.length;i++)if(o=a[i],s.call(t,o)){if(!s.call(n,o))return!1;if(t[o]!==n[o]){if("object"!=typeof t[o])return!1;if(!d.compareValues(t[o],n[o],r))return!1}}var c=Object.keys(n);for(i=0;i<c.length;i++)if(o=c[i],s.call(n,o)&&!s.call(t,o))return!1;return 0!==a.length||0!==c.length||JSON.stringify(t)===JSON.stringify(n)},d.isEmpty=function(e){var t;if(null==e)return!0;for(t in e)if(e.hasOwnProperty(t))return!1;return!0};const f=function(){this.Init()};d.createSubclass(f,d,"oj.EventSource"),r._registerLegacyNamespaceProp("EventSource",f),f.prototype.Init=function(){this._eventHandlers=[],f.superclass.Init.call(this)},f.prototype.on=function(e,t){for(var n=!1,r=0;r<this._eventHandlers.length;r++)if(this._eventHandlers[r].eventType===e&&this._eventHandlers[r].eventHandlerFunc===t){n=!0;break}n||this._eventHandlers.push({eventType:e,eventHandlerFunc:t})},f.prototype.off=function(e,t){for(var n=this._eventHandlers.length-1;n>=0;n--)if(this._eventHandlers[n].eventType===e&&this._eventHandlers[n].eventHandlerFunc===t){this._eventHandlers.splice(n,1);break}},f.prototype.handleEvent=function(e,t){for(var n=0;n<this._eventHandlers.length;n++){var r=this._eventHandlers[n];if(r.eventType===e&&!1===r.eventHandlerFunc.apply(this,Array.prototype.slice.call(arguments).slice(1)))return!1}return!0};const p={};r._registerLegacyNamespaceProp("KeyUtils",p),p.equals=function(e,t){return d.compareValues(e,t)};var y=t.__ojCheckpointManager;const E={};return r._registerLegacyNamespaceProp("CHECKPOINT_MANAGER",E),E.startCheckpoint=function(e,t){y&&y.startCheckpoint(e,t)},E.endCheckpoint=function(e){y&&y.endCheckpoint(e)},E.getRecord=function(e){return y?y.getRecord(e):void 0},E.matchRecords=function(e){return y?y.matchRecords(e):[]},E.dump=function(t){e.info(function(){for(var e="Checkpoint Records:",n=E.matchRecords(t),r=0;r<n.length;r++){var o=n[r];e=e+"\n"+o.name;var i=o.description;null!=i&&(e=e+" ("+i+")"),e=(e+=":\n")+"start: "+o.start+"\tduration: "+o.duration}return e})},r});
//# sourceMappingURL=ojcore-base.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojcustomelement-registry',["exports"],function(e){"use strict";const t={};function n(e){return e.toLowerCase().match(/-(?<match>.*)/)[0].replace(/-(.)/g,(e,t)=>t.toUpperCase())+"Element"}function r(e){return t[e]??null}function o(e){return r(e)?.descriptor||{}}function i(e){const t=o(e);return t._metadata??t.metadata??{}}function s(e){return i(e).properties??{}}e.getElementDescriptor=o,e.getElementProperties=function(e){return s(e.tagName)},e.getElementRegistration=r,e.getMetadata=i,e.getPropertiesForElementTag=s,e.isComposite=function(e){return r(e)?.composite??!1},e.isElementRegistered=function(e){return null!=t[e]},e.isVComponent=function(e){return r(e)?.vcomp??!1},e.registerElement=function(e,r,o){const i=e.toUpperCase();if(!t[i]){if(!r.descriptor)throw new Error(`Custom element ${e} must be registered with a descriptor.`);t[e]=r,t[i]=r,Object.defineProperty(o,"name",{value:n(e)}),customElements.define(e,o)}},e.tagNameToElementClassName=n,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojcustomelement-registry.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojcontext',["ojs/ojcore-base","ojs/ojlogger","ojs/ojcustomelement-registry"],function(e,t,s){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;const o=function(e){this._description=e,this._addedWaitTs=o._getTs(),this._id=this._addedWaitTs.toString(36)+"_"+Math.random().toString(36)};e._registerLegacyNamespaceProp("BusyState",o),Object.defineProperties(o.prototype,{id:{get:function(){return this._id},enumerable:!0},description:{get:function(){if(this._description)return this._description instanceof Function?this._description():this._description.toString()},enumerable:!0}}),o.prototype.toString=function(){var e="Busy state: [description=",t=this.description;return null!==t&&(e+=t),e+=", elapsed="+(o._getTs()-this._addedWaitTs)+"]"},o._getTs=function(){return window.performance?window.performance.now():(new Date).getTime()};const n=function(e,t){this.Init(e,t)};let i;function r(){return i||(i=new Promise(function(e){window.setImmediate(function(){i=null,e(!0)})})),i}e.Object.createSubclass(n,e.Object,"oj.BusyContext"),e._registerLegacyNamespaceProp("BusyContext",n),n._defaultTimeout=Number.NaN,n.__preactPromisesMap=new Map,n.setDefaultTimeout=function(e){isNaN(e)||(n._defaultTimeout=e)},n.prototype.Init=function(e,t){n.superclass.Init.call(this),this._hostNode=e,this._context=t,this._statesMap=new Map,this._preactSet=new Set,this._mediator={getMasterWhenReadyPromise:function(){return this._masterWhenReadyPromise||(this._masterWhenReadyPromise=new Promise(this._captureWhenReadyPromiseResolver.bind(this))),this._masterWhenReadyPromise},resolveMasterWhenReadyPromise:function(){this._masterWhenReadyPromiseResolver&&this._masterWhenReadyPromiseResolver(!0),this._masterWhenReadyPromise=null,this._masterWhenReadyPromiseResolver=null,this._masterWhenReadyPromiseRejecter=null},rejectMasterWhenReadyPromise:function(e){this._masterWhenReadyPromiseRejecter&&this._masterWhenReadyPromiseRejecter(e),this._masterWhenReadyPromise=null,this._masterWhenReadyPromiseRejecter=null,this._masterWhenReadyPromiseResolver=null},getSlaveTimeoutPromise:function(e,t,s){var o,n=new Promise(function(e,n){o=window.setTimeout(function(){n(t())},s)});return this._slaveTimeoutPromiseTimers.push(o),Promise.race([e,n]).finally(this._clearAllSlaveTimeouts.bind(this))},_clearAllSlaveTimeouts:function(){var e=this._slaveTimeoutPromiseTimers;this._slaveTimeoutPromiseTimers=[];for(var t=0;t<e.length;t++)window.clearTimeout(e[t]);return!0},_captureWhenReadyPromiseResolver:function(e,t){this._masterWhenReadyPromiseResolver=e,this._masterWhenReadyPromiseRejecter=t},_slaveTimeoutPromiseTimers:[]}},n._log=function(e){if(t.option("level")===t.LEVEL_LOG){t.log(">> Busy states: %d",e.size);var s=n._values(e);s.length>0&&t.log(s.join("\n"))}},n._values=function(e){var t=[];return e.forEach(function(e){t.push(e)}),t},n.prototype.addBusyState=function(e){t.log("BusyContext.addBusyState: start scope='%s'",this._getDebugScope());var s=new o(e[n._DESCRIPTION]);return t.log(">> "+s),this._statesMap.set(s.id,s),this._addBusyStateToParent(),t.log("BusyContext.addBusyState: end scope='%s'",this._getDebugScope()),this._removeBusyState.bind(this,s)},n.prototype.dump=function(e){t.info("BusyContext.dump: start scope='%s' %s",this._getDebugScope(),e||"");var s=this._statesMap;t.info(">> Busy states: %d",s.size);var o=n._values(s);o.length>0&&t.info(o.join("\n")),t.info("BusyContext.dump: start scope='%s' %s",this._getDebugScope(),e||"")},n.prototype.getBusyStates=function(){return n._values(this._statesMap)},n.prototype.clear=function(){t.log("BusyContext.clear: start scope='%s'",this._getDebugScope());for(var e=n._values(this._statesMap),s=0;s<e.length;s++){var o=e[s];try{this._removeBusyState(o)}catch(e){t.log("BusyContext.clear: %o",e)}Object.defineProperty(o,n._OJ_RIP,{value:!0,enumerable:!1})}t.log("BusyContext.clear: end scope='%s'",this._getDebugScope())},n.prototype.whenReady=function(e){var s=this._getDebugScope();t.log("BusyContext.whenReady: start, scope='%s', timeout=%d",s,e);var o=this._statesMap,i=this._mediator,r=n._BOOTSTRAP_MEDIATOR.whenReady();const a=i.getMasterWhenReadyPromise();var u=r.then(function(){return t.log("BusyContext.whenReady: bootstrap mediator ready scope=%s",s),this._evalBusyness(),t.log("BusyContext.whenReady: busy states returning master scope=%s",s),a}.bind(this));if(isNaN(e)&&!isNaN(n._defaultTimeout)&&(e=n._defaultTimeout),!isNaN(e)){u=i.getSlaveTimeoutPromise(u,function(){var i,r="whenReady timeout of "+e+"ms expired ";n._log(o);var a=n._values(o);return(i=n._BOOTSTRAP_MEDIATOR.isReady()?new Error(r+"with the following busy states: "+a.join(", ")):new Error(r+'while the application is loading. Busy state enabled by setting the "window.oj_whenReady = true;" global variable. Application bootstrap busy state is released by calling "oj.Context.getPageContext().getBusyContext().applicationBootstrapComplete();".')).busyStates=a,t.log("BusyContext.whenReady: rejected scope='%s'\n%s",s,i.message),i},e)}return t.log("BusyContext.whenReady: end scope='%s'",this._getDebugScope()),u},n.prototype.isReady=function(){t.log("BusyContext.isReady: start scope='%s'",this._getDebugScope());var e=!1;return n._BOOTSTRAP_MEDIATOR.isReady()&&!this._doubleCheckPend&&(e=this._hasNoBusyStates(),n._log(this._statesMap)),t.log("BusyContext.isReady: end scope='%s'",this._getDebugScope()),e},n.prototype._removeBusyState=function(e){var s=this._getDebugScope();if(t.log("BusyContext._removeBusyState: start scope='%s'",s),e[n._OJ_RIP])t.log("Busy state has been forcefully resolved via clear:\n"+e);else{if(!this._statesMap.delete(e.id))throw new Error("Busy state has already been resolved:\n"+e);t.log("BusyContext._removeBusyState: resolving busy state:\n"+e),this._evalBusyness(),t.log("BusyContext._removeBusyState: end scope='%s'",s)}},n.prototype._evalBusyness=function(){var e=this._getDebugScope();t.log("BusyContext._evalBusyness: begin scope='%s'",e),this._hasNoBusyStates()&&!this._doubleCheckPend&&(t.log("BusyContext._evalBusyness: macrotask to double-check busyness, scope='%s'",e),this._doubleCheckPend=!0,r().then(this._doubleCheckBusyness.bind(this))),t.log("BusyContext._evalBusyness: end scope='%s'",e)},n.prototype._hasNoBusyStates=function(){return this._syncDebounceBusyness(),0===this._statesMap.size},n.prototype._syncDebounceBusyness=function(){n.__preactPromisesMap.forEach((e,t)=>{if(t&&!this._preactSet.has(t)){this._preactSet.add(t);const s=this.addBusyState({description:e});t.then(()=>{this._preactSet.delete(t),s()})}})},n.prototype._doubleCheckBusyness=function(){var e=this._getDebugScope();t.log("BusyContext._doubleCheckBusyness: begin scope='%s'",e);try{n._deliverThrottledUpdates()}catch(e){return t.error("Fatal exception delivering binding updates: %o",e),this._doubleCheckPend=!1,void this._rejectWhenReadyPromises(e)}this._doubleCheckPend=!1,this._hasNoBusyStates()?(t.log("BusyContext._doubleCheckBusyness: resolving whenReady promises"),this._mediator.resolveMasterWhenReadyPromise(),this._resolveBusyStateForParent()):n._log(this._statesMap),t.log("BusyContext._doubleCheckBusyness: end scope='%s'",e)},n.prototype.applicationBootstrapComplete=function(){var e=this._getDebugScope();t.log("BusyContext.applicationBootstrapComplete: begin scope='%s'",e),n._BOOTSTRAP_MEDIATOR.notifyComplete(),t.log("BusyContext.applicationBootstrapComplete: end scope='%s'",e)},n.prototype._getParentBusyContext=function(){var e=this._context.getParentContext();return e?e.getBusyContext():null},n.prototype._addBusyStateToParent=function(){if(!this._parentNotified){this._parentNotified=!0;var e=this._getParentBusyContext();if(e){var t={};t[n._DESCRIPTION]=this.toString.bind(this),this._parentResolveCallback=e.addBusyState(t)}}},n.prototype._resolveBusyStateForParent=function(){this._parentNotified=!1,this._parentResolveCallback&&(this._parentResolveCallback(),this._parentResolveCallback=null)},n.prototype._rejectWhenReadyPromises=function(e){this._mediator.rejectMasterWhenReadyPromise(e);const t=this._getParentBusyContext();t&&(t._rejectWhenReadyPromises(e),this._resolveBusyStateForParent())},n.prototype._getCompoundDescription=function(){return"["+n._values(this._statesMap).join(", ")+"]"},n.prototype._getDebugScope=function(){function e(e){var t="undefined";if(e)if(e.id&&e.id.length>0)t="#"+e.id;else{t=e.nodeName,e.hasAttribute("data-oj-context")&&(t+="[data-oj-context]");var s=e.getAttribute("class");s&&(t+="."+s.split(" ").join("."))}return t}return this._debugScope||(this._hostNode?this._debugScope=e(this._hostNode.parentElement)+" > "+e(this._hostNode):this._debugScope="page"),this._debugScope},n.prototype.toString=function(){var e="Busy Context: [scope=";return e+=this._getDebugScope(),e+=" states="+this._getCompoundDescription()+"]"},n._deliverThrottledUpdates=function(){e.ComponentBinding&&e.ComponentBinding.deliverChanges()},n._DESCRIPTION="description",n._OJ_RIP="__ojRip",n._BOOTSTRAP_MEDIATOR=new function(){var e,t,s;"undefined"!=typeof window&&(e=window.oj_whenReady),this.whenReady=function(){return t||(t=e?new Promise(function(e){s=e}):Promise.resolve(!0))},this.isReady=function(){return!e},this.notifyComplete=function(){s?r().then(function(){e=!1,"function"==typeof s&&s(!0),s=null}):e=!1}};const a=Symbol(),u=function(e){this.Init(e)};return e.Object.createSubclass(u,e.Object,"oj.Context"),u.prototype.Init=function(e){u.superclass.Init.call(this),this._node=e},u.prototype.getParentContext=function(){return this._node?u.getContext(u.getParentElement(this._node)):null},u.getContext=function(e){let t=e;for(;t;){let e=t[a];if(e)return e;if(t.hasAttribute(u._OJ_CONTEXT_ATTRIBUTE))return u._createContext(t);const s=u.getParentElement(t);if(u._hasImplicitSlotContext(s,t))return u._createContext(t);t=s}return u.getPageContext()},u.getPageContext=function(){return u._pageContext||(u._pageContext=new u),u._pageContext},u.prototype.getBusyContext=function(){return this._busyContext||(this._busyContext=new n(this._node,this)),this._busyContext},u.setBusyContextDefaultTimeout=function(e){n.setDefaultTimeout(e)},u._OJ_CONTEXT_ATTRIBUTE="data-oj-context",u._OJ_SURROGATE_ATTR="data-oj-surrogate-id",u.getParentElement=function(e){if(e&&e.hasAttribute(u._OJ_SURROGATE_ATTR)){var t=document.getElementById(e.getAttribute(u._OJ_SURROGATE_ATTR));if(t)return t.parentElement}return e._ojReportBusy||e.parentElement},u._hasImplicitSlotContext=function(e,t){if(t&&t.nodeType===Node.ELEMENT_NODE){const o=e&&!e.classList.contains("oj-complete")?s.getMetadata(e.localName):null;if(o){const e=t.getAttribute("slot")||"",s=o.slots,n=s?s[e]:null;return n&&n.implicitBusyContext}}return!1},u._createContext=function(e){const t=new u(e);return e[a]=t,t},u.__addPreactPromise=function(e,t){n.__preactPromisesMap.set(e,t)},u.__removePreactPromise=function(e){n.__preactPromisesMap.delete(e)},u});
//# sourceMappingURL=ojcontext.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojthemeutils',["exports","ojs/ojcore-base","ojs/ojlogger"],function(e,t,a){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;const r="oj-theme-json",o={getThemeName:function(){return(o.parseJSONFromFontFamily(r)||{}).name},getThemeTargetPlatform:function(){return(o.parseJSONFromFontFamily(r)||{}).targetPlatform},clearCache:function(){o._cache=null,o._cssVarCache=null},parseJSONFromFontFamily:function(e){null==o._cache&&(o._cache={},o._null_cache_value={},o._headfontstring=window.getComputedStyle(document.head).getPropertyValue("font-family"));var t=o._cache[e];if(t===o._null_cache_value)return null;if(null!=t)return t;if("undefined"==typeof document)return null;var r=document.createElement("meta");r.className=e,document.head.appendChild(r);var n=window.getComputedStyle(r).getPropertyValue("font-family");if(null!=n)if(n===o._headfontstring)a.warn("parseJSONFromFontFamily: When the selector ",e," is applied the font-family read off the dom element is ",n,". The parent dom elment has the same font-family value."," This is interpreted to mean that no value was sent down for selector ",e,". Null will be returned.");else{var l=n.replace(/^['"]+|\s+|\\|(;\s?})+|['"]$/g,"");if(l)try{t=JSON.parse(l)}catch(o){var s=l.indexOf(","),c=!1;if(s>-1){l=l.substring(s+2);try{t=JSON.parse(l),c=!0}catch(e){}}if(!1===c)throw a.error("Error parsing json for selector "+e+".\nString being parsed is "+l+". Error is:\n",o),document.head.removeChild(r),o}}return document.head.removeChild(r),o._cache[e]=null==t?o._null_cache_value:t,t}};var n=e=>(o._cssVarCache||(o._cssVarCache=new Map),o._cssVarCache.has(e)||o._cssVarCache.set(e,(e=>(o._rootCSSStyles||(o._rootCSSStyles=window.getComputedStyle(document.documentElement)),o._rootCSSStyles.getPropertyValue(e).replace(/^['"\s]+|\s+|\\|(;\s?})+|['"\s]$/g,"")))(e)),o._cssVarCache.get(e));o.getCachedCSSVarValues=e=>e.map(e=>n(e)),o.verifyThemeVersion=()=>{};const l=o.clearCache,s=o.getThemeName,c=o.getThemeTargetPlatform,m=o.parseJSONFromFontFamily,i=o.verifyThemeVersion,h=o.getCachedCSSVarValues;e.clearCache=l,e.getCachedCSSVarValues=h,e.getThemeName=s,e.getThemeTargetPlatform=c,e.parseJSONFromFontFamily=m,e.verifyThemeVersion=i,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojthemeutils.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojcustomelement-utils',["exports","ojs/ojcore-base","ojs/ojcustomelement-registry","ojs/ojcontext","ojs/ojlogger","ojs/ojthemeutils"],function(e,t,i,r,n,s){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r;const o={};class a{static isValidCustomElementName(e){const t=a._RESERVED_TAGS.has(e),i=a._ELEMENT_NAME_REGEXP.test(e);return!t&&i&&!e.startsWith("oj-bind-",0)}static getSupportedTypes(e){if(!e)return{};let t=o[e];if(!t){t={};const i=e.toLowerCase(),r=i.match(/(?=[^|])(?:[^|]*<[^>]+>)*[^|]*/g);let n=0;r.forEach(e=>{const i=e.trim();"any"===i||"boolean"===i||"number"===i||"string"===i||"array"===i||"object"===i||"null"===i?t[i]=1:0===i.indexOf("array<")?t.array=1:0===i.indexOf("object<")?t.object=1:t.other=1,n++}),t.typeCount=n,o[i]=t}return t}static getUniqueId(e){if(e)return e;const t=a._UNIQUE+a._UNIQUE_INCR;return a._UNIQUE_INCR+=1,t}static comparePropertyValues(e,i,r){return e?t.Object.compareValues(i,r):i===r}}a._UNIQUE_INCR=0,a._UNIQUE="_oj",a._RESERVED_TAGS=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]),a._ELEMENT_NAME_REGEXP=/^[a-z][.0-9_a-z]*-[-.0-9_a-z]*$/;const l={accessKey:"accesskey",autocapitalize:"autocapitalize",autofocus:"autofocus",class:"class",contentEditable:"contenteditable",dir:"dir",draggable:"draggable",enterKeyHint:"enterkeyhint",hidden:"hidden",id:"id",inputMode:"inputmode",lang:"lang",role:"role",slot:"slot",spellcheck:"spellcheck",style:"style",tabIndex:"tabindex",translate:"translate",title:"title"};class c extends Error{constructor(e,t){super(`${e.localName} with id '${e.id||""}': ${t}`),Error.captureStackTrace&&Error.captureStackTrace(this,c),this.name="JetElementError"}}const d=/^\s*\[[^]*\]\s*$/,p=/^\s*\{[^]*\}\s*$/,u=/^(?:\{\{)([^]+)(?:\}\})$/,h=/^(?:\[\[)([^]+)(?:\]\])$/,g={};Object.keys(l).forEach(function(e){const t=l[e];e!==t&&(g[t]=e)});class m{static getExpressionInfo(e){let t,i=!1;if(e){const r=e.trim();let n=u.exec(r);t=n?.[1],t||(i=!0,n=h.exec(r),t=n?.[1])}return{downstreamOnly:i,expr:t}}static attributeToPropertyValue(e,t,i,r){if(null!=i)try{return m.coerceValue(e,t,i,r.type)}catch(i){throw new c(e,`Error while parsing parsing attribute ${t}. ${i.stack||i}`)}}static parseAttributeValue(e,t,i,r,n=null){if(!r)throw new Error(`Unable to parse ${t}='${i}' for ${e} with id '${n}'.         This attribute only supports data bound values. Check the API doc for supported types`);const s=a.getSupportedTypes(r),o=d.test(i),l=p.test(i);if(s.array&&o||s.object&&l||s.any&&(o||l))try{return JSON.parse(i)}catch(r){throw new Error(`Unable to parse ${t}='${i}' for ${e} with id '${n}'           to a JSON Object. Check the value for correct JSON syntax, e.g. double quoted strings. ${r}`)}else{if(s.string||s.any)return i;if(s.boolean)return m.parseBooleanValue(e,t,i,r,n);if(s.number&&!isNaN(i))return Number(i)}throw new Error(`Unable to parse ${t}='${i}' for ${e} with id '${n}'       to a ${r}.`)}static parseBooleanValue(e,t,i,r,n){if(null==i||"true"===i||""===i||i.toLowerCase()===t)return!0;if("false"===i)return!1;throw new Error(`Unable to parse ${t}='${i}' for ${e} with id '${n}' to a ${r}.`)}static coerceValue(e,t,i,r){const n=e.tagName.toLowerCase();return m.parseAttributeValue(n,t,i,r,e.id)}static coerceBooleanValue(e,t,i,r){return m.parseBooleanValue(e.tagName.toLowerCase(),t,i,r,e.id)}static isGlobalOrData(e){return Object.prototype.hasOwnProperty.call(l,e)||e.startsWith("data-")||e.startsWith("aria-")}static getGlobalAttrForProp(e){return l[e]||e}static getGlobalPropForAttr(e){return g[e]||e}static getGlobalValuePropForAttr(e){return"contenteditable"===e.toLowerCase()?"isContentEditable":m.getGlobalPropForAttr(e)}}function _(e,t){let i=e.cache;return i||(i=new Map,e.cache=i),i.has(t)||i.set(t,e(t)),i.get(t)}m.attributeToPropertyName=_.bind(null,e=>e.toLowerCase().replace(/-(.)/g,(e,t)=>t.toUpperCase())),m.propertyNameToAttribute=_.bind(null,e=>e.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)),m.eventTypeToEventListenerProperty=_.bind(null,e=>"on"+e.substr(0,1).toUpperCase()+e.substr(1)),m.isEventListenerProperty=_.bind(null,e=>/^on[A-Z]/.test(e)),m.isEventListenerAttr=_.bind(null,e=>/^on-[a-z]/.test(e)),m.eventListenerPropertyToEventType=_.bind(null,e=>e.substr(2,1).toLowerCase()+e.substr(3)),m.propertyNameToChangeEventType=_.bind(null,e=>`${e}Changed`),m.propertyNameToChangedCallback=_.bind(null,e=>`on${e[0].toUpperCase()}${e.substr(1)}Changed`),m.eventTriggerToEventType=_.bind(null,e=>`oj${e.substr(0,1).toUpperCase()}${e.substr(1)}`),m.eventAttrToPreactPropertyName=_.bind(null,e=>e.toLowerCase().split("-").reduce((e,t,i)=>{return i>1?e+((r=t).charAt(0).toUpperCase()+r.substr(1)):e+t;var r},""));const C=Symbol("childBindingProvider"),b=Symbol("cachedBindingProvider"),E=new Set;class P{static getElementInfo(e){return e?`${e.tagName.toLowerCase()} with id '${e.id}'`:""}static getElementState(e){let t=e[P._ELEMENT_STATE_KEY];if(!t&&i.isElementRegistered(e.tagName)){t=new(0,i.getElementRegistration(e.tagName).stateClass)(e),Object.defineProperty(e,P._ELEMENT_STATE_KEY,{value:t})}return t??null}static getElementBridge(e){let t=e[P._ELEMENT_BRIDGE_KEY];if(void 0===t&&i.isElementRegistered(e.tagName)){t=null;const r=i.getElementRegistration(e.tagName).bridgeProto;if(void 0!==r){t=Object.create(r);const n=i.getElementDescriptor(e.tagName);t.initializeBridge(e,n)}Object.defineProperty(e,P._ELEMENT_BRIDGE_KEY,{value:t})}return t??null}static getSlotMap(e){const t={},r=e.childNodes,n=r.length>0?i.getMetadata(e.localName):null;for(let i=0;i<r.length;i++){const s=r[i];if(P.isSlotable(s)){const i=P.getSlotAssignment(s);t[i]||(t[i]=[]),P._possiblyApplyImplicitContext(s,i,n),t[i].push(s),s[b]=P._getBindingProviderTypeForSlot(e,s)}}return t}static getSlotAssignment(e){const t=null!=e.__oj_slots?e.__oj_slots:e.getAttribute&&e.getAttribute("slot");return t||""}static isSlotable(e){return 1===e.nodeType||3===e.nodeType&&!!e.nodeValue.trim()}static getElementProperty(e,t){if(i.isElementRegistered(e.tagName)){let i=e._vcomp;return i&&!i.isCustomElementFirst()||(i=e[P.VCOMP_INSTANCE])?P.getPropertyValue(i.props,t):e.getProperty(t)}return e[t]}static getPropertyValue(e,t){let i=e;const r=t.split(".");try{r.forEach(e=>i=i[e])}catch{return}return i}static allowSlotRelocation(e){P._ALLOW_RELOCATION_COUNT+=e?1:-1}static canRelocateNode(e,t){const i=P.getElementState(e);if(!i.getSlotMap()||P._ALLOW_RELOCATION_COUNT>0)return!0;const r=i.getSlotSet();if(i.isPostCreateCallbackOrComplete()&&r.has(t)){if(e.hasAttribute("data-oj-preact"))throw new c(e,`${t.localName} cannot be relocated as a child of this element.`);if("preact"===i.getBindingProviderType())return!1}return!0}static getClassSet(e){if(e){const t=e.split(/\s+/).filter(e=>e.length>0);if(t.length>0)return new Set(t)}return E}static _possiblyApplyImplicitContext(e,t,i){e?.nodeType===Node.ELEMENT_NODE&&i.slots?.[t]?.implicitBusyContext&&e.setAttribute("data-oj-context","")}static _getBindingProviderTypeForSlot(e,t){return t[b]||1===t.nodeType&&t.getAttribute("data-oj-binding-provider")||P.getElementState(e)?.getBindingProviderType()}}P._ELEMENT_STATE_KEY="_ojElementState",P._ELEMENT_BRIDGE_KEY="_ojBridge",P._ALLOW_RELOCATION_COUNT=0,P.VCOMP_INSTANCE=Symbol("vcompInstance");class y{constructor(e){this.dirtyProps=new Set,this._componentState=v.WaitingToCreate,this._outerClasses=new Set,this.Element=e}startCreationCycle(){this._isInErrorState()||(null!=this._preCreatedPromise&&this._componentState!==v.WaitingToCreate||this._updateComponentState(v.Creating),this._registerBusyState())}pauseCreationCycle(){this._resolveBusyState()}resetCreationCycle(){this._updateComponentState(v.WaitingToCreate),this._bindingProviderPromise=null,this._preCreatedPromise=null,this._createdPromise=null}isComplete(){return this._componentState===v.Complete}isCreating(){return this._componentState===v.Creating}isPostCreateCallbackOrComplete(){return this._componentState===v.PostCreateCallback||this.isComplete()}canHandleAttributes(){return!this._isInErrorState()&&this._componentState!==v.WaitingToCreate}beginApplyingBindings(){this.isComplete()||(this._bindingProviderType="knockout",this._updateComponentState(v.ApplyingBindings))}allowPropertySets(){return this._componentState===v.Creating||this._componentState===v.ApplyingBindings||this._componentState===v.BindingsApplied||this._componentState===v.PostCreateCallback||this._componentState===v.Complete}allowPropertyChangedEvents(){return this._componentState===v.BindingsApplied||this._componentState===v.PostCreateCallback||this._componentState===v.Complete}getTrackChildrenOption(){const e=i.getElementDescriptor(this.Element.tagName).metadata;return e?.extension?._TRACK_CHILDREN??"none"}setCreateCallback(e){this._isInErrorState()||(this._updateComponentState(v.WaitingForBindings),this._preCreatedPromise||(this._preCreatedPromise=this.GetPreCreatedPromise()),this._createdPromise=this._preCreatedPromise.then(()=>{if(!this._isInErrorState()){const t=e();return this._updateComponentState(v.PostCreateCallback),t}return Promise.reject()}),this._createdPromise.then(()=>{this._updateComponentState(v.Complete)},e=>{if(this._updateComponentState(v.Incomplete),e)throw e}))}setBindingsDisposedCallback(e){this._disposedCallback=e}resolveBindingProvider(e){this._bpClean=e.__CleanNode,this._resolveBindingProviderCallback&&(this._bindingsApplied(),this._resolveBindingProviderCallback(e),this._resolveBindingProviderCallback=null,this._rejectBindingProviderCallback=null),this._bindingProvider=e}rejectBindingProvider(e){this._rejectBindingProviderCallback&&(this._rejectBindingProviderCallback(e),this._resolveBindingProviderCallback=null,this._rejectBindingProviderCallback=null)}disposeBindingProvider(){this.isComplete()?this._disposedCallback?.():(this.rejectBindingProvider(),this._updateComponentState(v.BindingsDisposed))}setBindingProviderCallback(e){this._bindingProviderCallback=e}getBindingProviderPromise(){const e=this.getBindingProviderType();if(!this._bindingProviderPromise)if(s.verifyThemeVersion(),"none"===e||"preact"===e)this._bindingsApplied(),this._bindingProviderPromise=Promise.resolve(null);else{if("knockout"!==e)throw new c(this.Element,`Unknown binding provider '${e}'.`);this._bindingProvider?(this._bindingsApplied(),this._bindingProviderPromise=Promise.resolve(this._bindingProvider)):this._bindingProviderPromise=new Promise((e,t)=>{this._resolveBindingProviderCallback=e,this._rejectBindingProviderCallback=t})}return this._bindingProviderPromise}getBindingProvider(){return this._bindingProvider}getBindingProviderType(){return this._bindingProviderType||(this._bindingProviderType=y._walkBindingProviders(this.Element)),this._bindingProviderType}getUseKoFlag(){return void 0===this._useKoFlag&&(this._useKoFlag=y._findKoUseFlag(this.Element)),this._useKoFlag}getBindingProviderCleanNode(){return this._bpClean||y._NOOP}getDescriptiveText(){let e=this.GetDescriptiveValue("aria-label")||this.GetDescriptiveValue("title")||this.GetDescriptiveLabelByValue("labelled-by")||this.GetDescriptiveValue("label-hint")||this.GetDescriptiveLabelByValue("aria-labelledby");return e=e?e.trim().replace(/\s+/g," "):"",e}getSlotMap(e){return!this._slotMap&&e&&(this._slotMap=P.getSlotMap(this.Element)),this._slotMap}getSlotSet(){if(!this._slotSet){const e=Object.keys(this._slotMap);let t=[];e.forEach(e=>t=t.concat(this._slotMap[e])),this._slotSet=new Set(t)}return this._slotSet}setOuterClasses(e){this.PatchClasses(this._outerClasses,e),this._outerClasses=e}PatchClasses(e,t){e.forEach(e=>{t.has(e)||this.Element.classList.remove(e)}),t.forEach(t=>{e.has(t)||this.Element.classList.add(t)})}GetCreatedPromise(){return this._createdPromise}GetPreCreatedPromise(){let e=this.getBindingProviderPromise();return"none"!==this.getTrackChildrenOption()&&(e=e.then(e=>this._getTrackedChildrenPromises(e))),e}IsTransferAttribute(e){return!1}GetDescriptiveValue(e){const t=m.attributeToPropertyName(e),r=i.getElementProperties(this.Element);let n;return n=r&&r[t]?this.Element[t]:this.IsTransferAttribute(e)?this.GetDescriptiveTransferAttributeValue(e):this.Element.getAttribute(e),n}GetDescriptiveTransferAttributeValue(e){return""}GetDescriptiveLabelByValue(e){const t=this.GetDescriptiveValue(e);if(t){const e=document.getElementById(t);if(e)return e.textContent}return null}_updateComponentState(e){if(this._componentState!==v.BindingsDisposed){switch(e){case v.WaitingToCreate:this.Element.classList.remove("oj-complete"),this._createdPromise=null;break;case v.Complete:this.Element.classList.add("oj-complete"),this._resolveBusyState();break;case v.BindingsDisposed:case v.Incomplete:this.Element.classList.add("oj-incomplete"),this._resolveBusyState()}this._componentState=e}}_bindingsApplied(){this._updateComponentState(v.BindingsApplied),this._bindingProviderCallback?.()}_registerBusyState(){const e=r.getContext(this.Element).getBusyContext();if(this._resolveCreatedBusyState)throw new c(this.Element,"Registering busy state before previous state is resolved.");this._resolveCreatedBusyState=e.addBusyState({description:P.getElementInfo(this.Element)+" is being upgraded."})}_resolveBusyState(){this._resolveCreatedBusyState&&(this._resolveCreatedBusyState(),this._resolveCreatedBusyState=null)}static _findKoUseFlag(e){return!!e.querySelector(":scope > template[data-oj-use-ko]")}static _walkBindingProviders(e,t=e){let i=e[b];if(i)return i;if(i=e.getAttribute("data-oj-binding-provider"),!i){const r=e.parentElement;if(null==r){if(e!==document.documentElement)throw new c(t,"Cannot determine binding provider for a disconnected subtree.");i="knockout"}else i=r[C]??y._walkBindingProviders(r,t)}return e[b]=i,i}_getTrackedChildrenPromises(e){const t=this.getTrackChildrenOption(),s=r.getContext(this.Element).getBusyContext(),o=this._getChildrenToTrack(this.Element,t,[]).map(t=>{if(!e){const e=s.addBusyState({description:`Waiting for element ${t.localName} to be defined.`}),r=setInterval(()=>{n.warn(`Waiting for element ${t.localName} to be defined.`)},2e4);return customElements.whenDefined(t.localName).then(()=>(e(),clearInterval(r),i.isElementRegistered(t.tagName)?P.getElementState(t).GetCreatedPromise():null)).catch(i=>{throw e(),clearInterval(r),new Error(`Error defining element ${t.localName} : ${i}`)})}return i.isElementRegistered(t.tagName)?P.getElementState(t).GetCreatedPromise():null});return Promise.all(o)}_getChildrenToTrack(e,t,i){const r=e.childNodes;for(let e=0;e<r.length;e++){const n=r[e];a.isValidCustomElementName(n.localName)?i.push(n):"nearestCustomElement"===t&&this._getChildrenToTrack(n,t,i)}return i}_isInErrorState(){return this._componentState===v.Incomplete||this._componentState===v.BindingsDisposed}}var v;y._NOOP=()=>{},function(e){e[e.WaitingToCreate=0]="WaitingToCreate",e[e.Creating=1]="Creating",e[e.WaitingForBindings=2]="WaitingForBindings",e[e.ApplyingBindings=3]="ApplyingBindings",e[e.BindingsApplied=4]="BindingsApplied",e[e.PostCreateCallback=5]="PostCreateCallback",e[e.Complete=6]="Complete",e[e.Incomplete=7]="Incomplete",e[e.BindingsDisposed=8]="BindingsDisposed"}(v||(v={}));const f=Symbol("custom element null"),S=Symbol("custom element empty string"),T=Symbol("ojBindConvertedNode");e.AttributeUtils=m,e.CACHED_BINDING_PROVIDER=b,e.CHILD_BINDING_PROVIDER=C,e.CustomElementUtils=P,e.ElementState=y,e.ElementUtils=a,e.JetElementError=c,e.LifecycleElementState=class extends y{constructor(){super(...arguments),this._connectCallbacks=[],this._disconnectCallbacks=[]}addLifecycleCallbacks(e,t){e&&this._connectCallbacks.push(e),t&&this._disconnectCallbacks.push(t)}removeLifecycleCallbacks(e,t){e&&(this._connectCallbacks=this._connectCallbacks.filter(t=>t!=e)),t&&(this._disconnectCallbacks=this._disconnectCallbacks.filter(e=>e!=t))}executeLifecycleCallbacks(e){(e?this._connectCallbacks:this._disconnectCallbacks).forEach(e=>e())}},e.OJ_BIND_CONVERTED_NODE=T,e.toSymbolizedValue=e=>null===e?f:""===e?S:e,e.transformPreactValue=(e,t,i)=>{let r=(e=>e===f?null:e===S?"":e)(i);return""===r&&i!==S&&(r=((e,t,i)=>{if((!e||"preact"===P.getElementState(e).getBindingProviderType())&&(!a.getSupportedTypes(t.type).string||t.enumValues))return;return i})(e,t,r)),r},Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojcustomelement-utils.js.map;
define('@oracle/oraclejet-preact/Common/themes/themeContract.css',['exports'], (function(E){"use strict";E.PREFIX="oj-c-EXPERIMENTAL-DO-NOT-USE",E.animationVars={easing:{enter:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-easing-enter)",persist:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-easing-persist)",exit:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-easing-exit)",linear:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-easing-linear)"},anchor:{default:{vertical:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-anchor-default-vertical)",horizontal:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-anchor-default-horizontal)"},startTopCorner:{vertical:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-anchor-start-top-corner-vertical)",horizontal:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-anchor-start-top-corner-horizontal)"},top:{vertical:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-anchor-top-vertical)",horizontal:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-anchor-top-horizontal)"},endTopCorner:{vertical:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-anchor-end-top-corner-vertical)",horizontal:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-anchor-end-top-corner-horizontal)"},start:{vertical:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-anchor-start-vertical)",horizontal:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-anchor-start-horizontal)"},end:{vertical:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-anchor-end-vertical)",horizontal:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-anchor-end-horizontal)"},startBottomCorner:{vertical:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-anchor-start-bottom-corner-vertical)",horizontal:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-anchor-start-bottom-corner-horizontal)"},bottom:{vertical:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-anchor-bottom-vertical)",horizontal:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-anchor-bottom-horizontal)"},endBottomCorner:{vertical:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-anchor-end-bottom-corner-vertical)",horizontal:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-anchor-end-bottom-corner-horizontal)"}},duration:{"2xs":"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-duration-2xs)",xs:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-duration-xs)",sm:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-duration-sm)",md:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-duration-md)",lg:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-duration-lg)",xl:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-duration-xl)","2xl":"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-duration-2xl)"},delay:{none:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-delay-none)",sm:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-delay-sm)",md:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-delay-md)",lg:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-delay-lg)"},slide:{up:{sm:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-slide-up-sm)",md:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-slide-up-md)",lg:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-slide-up-lg)",xl:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-slide-up-xl)"},down:{sm:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-slide-down-sm)",md:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-slide-down-md)",lg:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-slide-down-lg)",xl:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-slide-down-xl)"},start:{sm:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-slide-start-sm)",md:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-slide-start-md)",lg:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-slide-start-lg)",xl:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-slide-start-xl)"},end:{sm:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-slide-end-sm)",md:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-slide-end-md)",lg:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-slide-end-lg)",xl:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-slide-end-xl)"}},scale:{down:{sm:{to:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-scale-down-sm-to)",from:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-scale-down-sm-from)"},md:{to:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-scale-down-md-to)",from:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-scale-down-md-from)"},full:{to:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-scale-down-full-to)",from:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-scale-down-full-from)"}},up:{sm:{to:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-scale-up-sm-to)",from:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-scale-up-sm-from)"},md:{to:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-scale-up-md-to)",from:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-scale-up-md-from)"},full:{to:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-scale-up-full-to)",from:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-scale-up-full-from)"}}},fade:{in:{sm:{to:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-fade-in-sm-to)",from:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-fade-in-sm-from)"},full:{to:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-fade-in-full-to)",from:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-fade-in-full-from)"}},out:{sm:{to:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-fade-out-sm-to)",from:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-fade-out-sm-from)"},full:{to:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-fade-out-full-to)",from:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-fade-out-full-from)"}}}},E.baseVars={cursor:{clickable:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-cursor-clickable)"},boxShadow:{xs:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-box-shadow-xs)",sm:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-box-shadow-sm)",md:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-box-shadow-md)",lg:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-box-shadow-lg)",xl:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-box-shadow-xl)"},borderRadius:{sm:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-border-radius-sm)",md:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-border-radius-md)",lg:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-border-radius-lg)",xl:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-border-radius-xl)"}},E.bodyVars={bg:{color:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-bg-color)"}},E.collectionVars={listRowHeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-list-row-height)",listCellPaddingVertical:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-list-cell-padding-vertical)",sparkleImg:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-sparkle-img)"},E.colorSchemeVars={palette:{neutral:{0:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-neutral-0)",10:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-neutral-10)",20:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-neutral-20)",30:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-neutral-30)",40:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-neutral-40)",50:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-neutral-50)",60:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-neutral-60)",70:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-neutral-70)",80:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-neutral-80)",90:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-neutral-90)",100:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-neutral-100)",110:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-neutral-110)",120:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-neutral-120)",130:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-neutral-130)",140:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-neutral-140)",150:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-neutral-150)",160:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-neutral-160)",170:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-neutral-170)",180:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-neutral-180)",190:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-neutral-190)",200:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-neutral-200)"},danger:{10:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-danger-10)",20:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-danger-20)",30:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-danger-30)",40:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-danger-40)",50:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-danger-50)",60:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-danger-60)",70:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-danger-70)",80:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-danger-80)",90:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-danger-90)",100:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-danger-100)",110:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-danger-110)",120:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-danger-120)",130:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-danger-130)",140:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-danger-140)",150:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-danger-150)",160:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-danger-160)",170:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-danger-170)",180:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-danger-180)",190:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-danger-190)"},success:{10:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-success-10)",20:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-success-20)",30:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-success-30)",40:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-success-40)",50:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-success-50)",60:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-success-60)",70:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-success-70)",80:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-success-80)",90:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-success-90)",100:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-success-100)",110:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-success-110)",120:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-success-120)",130:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-success-130)",140:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-success-140)",150:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-success-150)",160:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-success-160)",170:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-success-170)",180:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-success-180)",190:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-success-190)"},warning:{10:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-warning-10)",20:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-warning-20)",30:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-warning-30)",40:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-warning-40)",50:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-warning-50)",60:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-warning-60)",70:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-warning-70)",80:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-warning-80)",90:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-warning-90)",100:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-warning-100)",110:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-warning-110)",120:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-warning-120)",130:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-warning-130)",140:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-warning-140)",150:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-warning-150)",160:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-warning-160)",170:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-warning-170)",180:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-warning-180)",190:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-warning-190)"},info:{10:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-info-10)",20:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-info-20)",30:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-info-30)",40:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-info-40)",50:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-info-50)",60:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-info-60)",70:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-info-70)",80:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-info-80)",90:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-info-90)",100:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-info-100)",110:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-info-110)",120:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-info-120)",130:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-info-130)",140:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-info-140)",150:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-info-150)",160:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-info-160)",170:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-info-170)",180:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-info-180)",190:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-info-190)"},brand:{10:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-brand-10)",20:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-brand-20)",30:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-brand-30)",40:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-brand-40)",50:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-brand-50)",60:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-brand-60)",70:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-brand-70)",80:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-brand-80)",90:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-brand-90)",100:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-brand-100)",110:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-brand-110)",120:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-brand-120)",130:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-brand-130)",140:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-brand-140)",150:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-brand-150)",160:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-brand-160)",170:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-brand-170)",180:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-brand-180)",190:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-brand-190)"}},overlay:{hover:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-overlay-hover)",active:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-overlay-active)",dangerHover:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-overlay-danger-hover)",dangerActive:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-overlay-danger-active)",scrim:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-overlay-scrim)",inverseHover:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-overlay-inverse-hover)",inverseActive:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-overlay-inverse-active)"},pageBackground:{neutral0:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-page-background-neutral0)",neutral10:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-page-background-neutral10)",neutral20:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-page-background-neutral20)",neutral30:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-page-background-neutral30)",neutral40:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-page-background-neutral40)"},surface:{neutral0:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-surface-neutral0)",neutral10:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-surface-neutral10)",neutral20:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-surface-neutral20)",neutral30:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-surface-neutral30)",selected:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-surface-selected)",disabled:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-surface-disabled)",neutral:{low:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-surface-neutral-low)",subtle:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-surface-neutral-subtle)",strong:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-surface-neutral-strong)"},success:{low:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-surface-success-low)",subtle:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-surface-success-subtle)",strong:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-surface-success-strong)"},info:{low:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-surface-info-low)",subtle:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-surface-info-subtle)",strong:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-surface-info-strong)"},warning:{low:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-surface-warning-low)",subtle:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-surface-warning-subtle)",strong:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-surface-warning-strong)"},danger:{low:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-surface-danger-low)",subtle:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-surface-danger-subtle)",strong:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-surface-danger-strong)"}},border:{enabled:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-border-enabled)",disabled:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-border-disabled)",divider:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-border-divider)",selected:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-border-selected)",dropLine:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-border-drop-line)",selectedNeutral:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-border-selected-neutral)",warning:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-border-warning)",danger:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-border-danger)",keyboardFocus:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-border-keyboard-focus)"},boxshadow:{shadowcolor:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-boxshadow-shadowcolor)"},textIcon:{primary:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-text-icon-primary)",secondary:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-text-icon-secondary)",disabled:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-text-icon-disabled)",inverse:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-text-icon-inverse)",onColor:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-text-icon-on-color)",link:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-text-icon-link)",success:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-text-icon-success)",info:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-text-icon-info)",warning:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-text-icon-warning)",danger:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-text-icon-danger)",successLow:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-text-icon-success-low)",infoLow:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-text-icon-info-low)",warningLow:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-text-icon-warning-low)",dangerLow:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-text-icon-danger-low)"},collection:{header:{text:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-collection-header-text)",surface:{selected:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-collection-header-surface-selected)",partialSelected:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-collection-header-surface-partial-selected)"}}},collectionGrid:{cell:{surfaceEdit:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-collection-grid-cell-surface-edit)"}},measure:{track:{enabled:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-measure-track-enabled)",disabled:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-measure-track-disabled)"},fill:{enabled:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-measure-fill-enabled)",disabled:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-measure-fill-disabled)"},thumb:{surface:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-measure-thumb-surface)"},reference:{line:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-measure-reference-line)",lineContrast:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-measure-reference-line-contrast)",area:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-measure-reference-area)"}},dvt:{contrastLine:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-dvt-contrast-line)",paletteQualitative:{1:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-dvt-palette-qualitative-1)",2:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-dvt-palette-qualitative-2)",3:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-dvt-palette-qualitative-3)",4:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-dvt-palette-qualitative-4)",5:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-dvt-palette-qualitative-5)",6:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-dvt-palette-qualitative-6)",7:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-dvt-palette-qualitative-7)",8:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-dvt-palette-qualitative-8)",9:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-dvt-palette-qualitative-9)",10:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-dvt-palette-qualitative-10)",11:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-dvt-palette-qualitative-11)",12:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-dvt-palette-qualitative-12)"},threshold:{success:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-dvt-threshold-success)",warning:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-dvt-threshold-warning)",danger:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-dvt-threshold-danger)"},marquee:{border:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-dvt-marquee-border)",surface:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-dvt-marquee-surface)"},referenceObject:{area:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-dvt-reference-object-area)",line:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-dvt-reference-object-line)"},overview:{background:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-dvt-overview-background)",windowBackground:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-dvt-overview-window-background)",windowBorder:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-dvt-overview-window-border)"}}},E.dvtVars={label:{sm:{fontSize:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-label-sm-font-size)"},md:{fontSize:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-label-md-font-size)"},lg:{fontSize:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-label-lg-font-size)"}}},E.globalVars={currentBackgroundColor:"var(--globalVars_currentBackgroundColor__1xmik4z0)",gutterStart:"var(--globalVars_gutterStart__1xmik4z1)",gutterEnd:"var(--globalVars_gutterEnd__1xmik4z2)"},E.htmlVars={font:{family:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-font-family)",size:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-font-size)"}},E.scaleVars={size:{units:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-size-units)"}},E.typographyVars={heading:{xs:{lineHeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-heading-xs-line-height)",fontSize:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-heading-xs-font-size)",fontWeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-heading-xs-font-weight)"},sm:{lineHeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-heading-sm-line-height)",fontSize:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-heading-sm-font-size)",fontWeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-heading-sm-font-weight)"},md:{lineHeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-heading-md-line-height)",fontSize:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-heading-md-font-size)",fontWeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-heading-md-font-weight)"},lg:{lineHeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-heading-lg-line-height)",fontSize:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-heading-lg-font-size)",fontWeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-heading-lg-font-weight)"},xl:{lineHeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-heading-xl-line-height)",fontSize:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-heading-xl-font-size)",fontWeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-heading-xl-font-weight)"},"2xl":{lineHeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-heading-2xl-line-height)",fontSize:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-heading-2xl-font-size)",fontWeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-heading-2xl-font-weight)"}},subheader:{"2xs":{lineHeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-subheader-2xs-line-height)",fontSize:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-subheader-2xs-font-size)",fontWeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-subheader-2xs-font-weight)"},xs:{lineHeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-subheader-xs-line-height)",fontSize:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-subheader-xs-font-size)",fontWeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-subheader-xs-font-weight)"},sm:{lineHeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-subheader-sm-line-height)",fontSize:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-subheader-sm-font-size)",fontWeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-subheader-sm-font-weight)"},md:{lineHeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-subheader-md-line-height)",fontSize:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-subheader-md-font-size)",fontWeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-subheader-md-font-weight)"},lg:{lineHeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-subheader-lg-line-height)",fontSize:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-subheader-lg-font-size)",fontWeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-subheader-lg-font-weight)"},xl:{lineHeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-subheader-xl-line-height)",fontSize:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-subheader-xl-font-size)",fontWeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-subheader-xl-font-weight)"},"2xl":{lineHeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-subheader-2xl-line-height)",fontSize:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-subheader-2xl-font-size)",fontWeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-subheader-2xl-font-weight)"}},body:{"2xs":{lineHeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-body-2xs-line-height)",fontSize:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-body-2xs-font-size)",fontWeight:{regular:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-body-2xs-font-weight-regular)",semibold:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-body-2xs-font-weight-semibold)",bold:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-body-2xs-font-weight-bold)"}},xs:{lineHeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-body-xs-line-height)",fontSize:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-body-xs-font-size)",fontWeight:{regular:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-body-xs-font-weight-regular)",semibold:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-body-xs-font-weight-semibold)",bold:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-body-xs-font-weight-bold)"}},sm:{lineHeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-body-sm-line-height)",fontSize:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-body-sm-font-size)",fontWeight:{regular:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-body-sm-font-weight-regular)",semibold:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-body-sm-font-weight-semibold)",bold:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-body-sm-font-weight-bold)"}},md:{lineHeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-body-md-line-height)",fontSize:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-body-md-font-size)",fontWeight:{regular:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-body-md-font-weight-regular)",semibold:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-body-md-font-weight-semibold)",bold:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-body-md-font-weight-bold)"}},lg:{lineHeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-body-lg-line-height)",fontSize:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-body-lg-font-size)",fontWeight:{regular:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-body-lg-font-weight-regular)",semibold:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-body-lg-font-weight-semibold)",bold:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-body-lg-font-weight-bold)"}},xl:{lineHeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-body-xl-line-height)",fontSize:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-body-xl-font-size)",fontWeight:{regular:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-body-xl-font-weight-regular)",semibold:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-body-xl-font-weight-semibold)",bold:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-body-xl-font-weight-bold)"}}}},E.vars={cursor:{clickable:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-cursor-clickable)"},boxShadow:{xs:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-box-shadow-xs)",sm:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-box-shadow-sm)",md:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-box-shadow-md)",lg:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-box-shadow-lg)",xl:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-box-shadow-xl)"},borderRadius:{sm:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-border-radius-sm)",md:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-border-radius-md)",lg:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-border-radius-lg)",xl:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-border-radius-xl)"},palette:{neutral:{0:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-neutral-0)",10:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-neutral-10)",20:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-neutral-20)",30:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-neutral-30)",40:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-neutral-40)",50:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-neutral-50)",60:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-neutral-60)",70:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-neutral-70)",80:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-neutral-80)",90:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-neutral-90)",100:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-neutral-100)",110:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-neutral-110)",120:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-neutral-120)",130:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-neutral-130)",140:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-neutral-140)",150:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-neutral-150)",160:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-neutral-160)",170:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-neutral-170)",180:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-neutral-180)",190:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-neutral-190)",200:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-neutral-200)"},danger:{10:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-danger-10)",20:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-danger-20)",30:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-danger-30)",40:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-danger-40)",50:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-danger-50)",60:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-danger-60)",70:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-danger-70)",80:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-danger-80)",90:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-danger-90)",100:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-danger-100)",110:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-danger-110)",120:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-danger-120)",130:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-danger-130)",140:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-danger-140)",150:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-danger-150)",160:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-danger-160)",170:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-danger-170)",180:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-danger-180)",190:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-danger-190)"},success:{10:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-success-10)",20:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-success-20)",30:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-success-30)",40:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-success-40)",50:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-success-50)",60:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-success-60)",70:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-success-70)",80:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-success-80)",90:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-success-90)",100:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-success-100)",110:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-success-110)",120:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-success-120)",130:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-success-130)",140:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-success-140)",150:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-success-150)",160:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-success-160)",170:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-success-170)",180:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-success-180)",190:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-success-190)"},warning:{10:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-warning-10)",20:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-warning-20)",30:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-warning-30)",40:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-warning-40)",50:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-warning-50)",60:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-warning-60)",70:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-warning-70)",80:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-warning-80)",90:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-warning-90)",100:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-warning-100)",110:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-warning-110)",120:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-warning-120)",130:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-warning-130)",140:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-warning-140)",150:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-warning-150)",160:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-warning-160)",170:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-warning-170)",180:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-warning-180)",190:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-warning-190)"},info:{10:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-info-10)",20:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-info-20)",30:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-info-30)",40:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-info-40)",50:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-info-50)",60:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-info-60)",70:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-info-70)",80:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-info-80)",90:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-info-90)",100:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-info-100)",110:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-info-110)",120:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-info-120)",130:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-info-130)",140:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-info-140)",150:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-info-150)",160:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-info-160)",170:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-info-170)",180:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-info-180)",190:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-info-190)"},brand:{10:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-brand-10)",20:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-brand-20)",30:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-brand-30)",40:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-brand-40)",50:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-brand-50)",60:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-brand-60)",70:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-brand-70)",80:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-brand-80)",90:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-brand-90)",100:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-brand-100)",110:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-brand-110)",120:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-brand-120)",130:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-brand-130)",140:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-brand-140)",150:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-brand-150)",160:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-brand-160)",170:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-brand-170)",180:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-brand-180)",190:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-palette-brand-190)"}},overlay:{hover:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-overlay-hover)",active:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-overlay-active)",dangerHover:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-overlay-danger-hover)",dangerActive:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-overlay-danger-active)",scrim:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-overlay-scrim)",inverseHover:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-overlay-inverse-hover)",inverseActive:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-overlay-inverse-active)"},pageBackground:{neutral0:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-page-background-neutral0)",neutral10:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-page-background-neutral10)",neutral20:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-page-background-neutral20)",neutral30:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-page-background-neutral30)",neutral40:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-page-background-neutral40)"},surface:{neutral0:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-surface-neutral0)",neutral10:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-surface-neutral10)",neutral20:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-surface-neutral20)",neutral30:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-surface-neutral30)",selected:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-surface-selected)",disabled:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-surface-disabled)",neutral:{low:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-surface-neutral-low)",subtle:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-surface-neutral-subtle)",strong:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-surface-neutral-strong)"},success:{low:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-surface-success-low)",subtle:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-surface-success-subtle)",strong:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-surface-success-strong)"},info:{low:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-surface-info-low)",subtle:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-surface-info-subtle)",strong:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-surface-info-strong)"},warning:{low:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-surface-warning-low)",subtle:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-surface-warning-subtle)",strong:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-surface-warning-strong)"},danger:{low:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-surface-danger-low)",subtle:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-surface-danger-subtle)",strong:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-surface-danger-strong)"}},border:{enabled:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-border-enabled)",disabled:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-border-disabled)",divider:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-border-divider)",selected:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-border-selected)",dropLine:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-border-drop-line)",selectedNeutral:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-border-selected-neutral)",warning:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-border-warning)",danger:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-border-danger)",keyboardFocus:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-border-keyboard-focus)"},boxshadow:{shadowcolor:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-boxshadow-shadowcolor)"},textIcon:{primary:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-text-icon-primary)",secondary:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-text-icon-secondary)",disabled:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-text-icon-disabled)",inverse:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-text-icon-inverse)",onColor:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-text-icon-on-color)",link:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-text-icon-link)",success:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-text-icon-success)",info:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-text-icon-info)",warning:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-text-icon-warning)",danger:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-text-icon-danger)",successLow:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-text-icon-success-low)",infoLow:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-text-icon-info-low)",warningLow:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-text-icon-warning-low)",dangerLow:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-text-icon-danger-low)"},collection:{header:{text:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-collection-header-text)",surface:{selected:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-collection-header-surface-selected)",partialSelected:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-collection-header-surface-partial-selected)"}}},collectionGrid:{cell:{surfaceEdit:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-collection-grid-cell-surface-edit)"}},measure:{track:{enabled:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-measure-track-enabled)",disabled:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-measure-track-disabled)"},fill:{enabled:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-measure-fill-enabled)",disabled:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-measure-fill-disabled)"},thumb:{surface:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-measure-thumb-surface)"},reference:{line:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-measure-reference-line)",lineContrast:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-measure-reference-line-contrast)",area:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-measure-reference-area)"}},dvt:{contrastLine:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-dvt-contrast-line)",paletteQualitative:{1:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-dvt-palette-qualitative-1)",2:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-dvt-palette-qualitative-2)",3:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-dvt-palette-qualitative-3)",4:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-dvt-palette-qualitative-4)",5:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-dvt-palette-qualitative-5)",6:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-dvt-palette-qualitative-6)",7:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-dvt-palette-qualitative-7)",8:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-dvt-palette-qualitative-8)",9:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-dvt-palette-qualitative-9)",10:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-dvt-palette-qualitative-10)",11:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-dvt-palette-qualitative-11)",12:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-dvt-palette-qualitative-12)"},threshold:{success:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-dvt-threshold-success)",warning:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-dvt-threshold-warning)",danger:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-dvt-threshold-danger)"},marquee:{border:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-dvt-marquee-border)",surface:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-dvt-marquee-surface)"},referenceObject:{area:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-dvt-reference-object-area)",line:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-dvt-reference-object-line)"},overview:{background:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-dvt-overview-background)",windowBackground:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-dvt-overview-window-background)",windowBorder:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-dvt-overview-window-border)"}},heading:{xs:{lineHeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-heading-xs-line-height)",fontSize:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-heading-xs-font-size)",fontWeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-heading-xs-font-weight)"},sm:{lineHeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-heading-sm-line-height)",fontSize:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-heading-sm-font-size)",fontWeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-heading-sm-font-weight)"},md:{lineHeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-heading-md-line-height)",fontSize:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-heading-md-font-size)",fontWeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-heading-md-font-weight)"},lg:{lineHeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-heading-lg-line-height)",fontSize:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-heading-lg-font-size)",fontWeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-heading-lg-font-weight)"},xl:{lineHeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-heading-xl-line-height)",fontSize:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-heading-xl-font-size)",fontWeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-heading-xl-font-weight)"},"2xl":{lineHeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-heading-2xl-line-height)",fontSize:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-heading-2xl-font-size)",fontWeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-heading-2xl-font-weight)"}},subheader:{"2xs":{lineHeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-subheader-2xs-line-height)",fontSize:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-subheader-2xs-font-size)",fontWeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-subheader-2xs-font-weight)"},xs:{lineHeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-subheader-xs-line-height)",fontSize:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-subheader-xs-font-size)",fontWeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-subheader-xs-font-weight)"},sm:{lineHeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-subheader-sm-line-height)",fontSize:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-subheader-sm-font-size)",fontWeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-subheader-sm-font-weight)"},md:{lineHeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-subheader-md-line-height)",fontSize:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-subheader-md-font-size)",fontWeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-subheader-md-font-weight)"},lg:{lineHeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-subheader-lg-line-height)",fontSize:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-subheader-lg-font-size)",fontWeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-subheader-lg-font-weight)"},xl:{lineHeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-subheader-xl-line-height)",fontSize:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-subheader-xl-font-size)",fontWeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-subheader-xl-font-weight)"},"2xl":{lineHeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-subheader-2xl-line-height)",fontSize:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-subheader-2xl-font-size)",fontWeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-subheader-2xl-font-weight)"}},body:{"2xs":{lineHeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-body-2xs-line-height)",fontSize:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-body-2xs-font-size)",fontWeight:{regular:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-body-2xs-font-weight-regular)",semibold:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-body-2xs-font-weight-semibold)",bold:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-body-2xs-font-weight-bold)"}},xs:{lineHeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-body-xs-line-height)",fontSize:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-body-xs-font-size)",fontWeight:{regular:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-body-xs-font-weight-regular)",semibold:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-body-xs-font-weight-semibold)",bold:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-body-xs-font-weight-bold)"}},sm:{lineHeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-body-sm-line-height)",fontSize:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-body-sm-font-size)",fontWeight:{regular:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-body-sm-font-weight-regular)",semibold:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-body-sm-font-weight-semibold)",bold:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-body-sm-font-weight-bold)"}},md:{lineHeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-body-md-line-height)",fontSize:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-body-md-font-size)",fontWeight:{regular:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-body-md-font-weight-regular)",semibold:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-body-md-font-weight-semibold)",bold:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-body-md-font-weight-bold)"}},lg:{lineHeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-body-lg-line-height)",fontSize:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-body-lg-font-size)",fontWeight:{regular:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-body-lg-font-weight-regular)",semibold:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-body-lg-font-weight-semibold)",bold:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-body-lg-font-weight-bold)"}},xl:{lineHeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-body-xl-line-height)",fontSize:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-body-xl-font-size)",fontWeight:{regular:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-body-xl-font-weight-regular)",semibold:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-body-xl-font-weight-semibold)",bold:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-body-xl-font-weight-bold)"}}},easing:{enter:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-easing-enter)",persist:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-easing-persist)",exit:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-easing-exit)",linear:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-easing-linear)"},anchor:{default:{vertical:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-anchor-default-vertical)",horizontal:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-anchor-default-horizontal)"},startTopCorner:{vertical:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-anchor-start-top-corner-vertical)",horizontal:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-anchor-start-top-corner-horizontal)"},top:{vertical:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-anchor-top-vertical)",horizontal:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-anchor-top-horizontal)"},endTopCorner:{vertical:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-anchor-end-top-corner-vertical)",horizontal:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-anchor-end-top-corner-horizontal)"},start:{vertical:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-anchor-start-vertical)",horizontal:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-anchor-start-horizontal)"},end:{vertical:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-anchor-end-vertical)",horizontal:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-anchor-end-horizontal)"},startBottomCorner:{vertical:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-anchor-start-bottom-corner-vertical)",horizontal:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-anchor-start-bottom-corner-horizontal)"},bottom:{vertical:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-anchor-bottom-vertical)",horizontal:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-anchor-bottom-horizontal)"},endBottomCorner:{vertical:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-anchor-end-bottom-corner-vertical)",horizontal:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-anchor-end-bottom-corner-horizontal)"}},duration:{"2xs":"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-duration-2xs)",xs:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-duration-xs)",sm:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-duration-sm)",md:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-duration-md)",lg:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-duration-lg)",xl:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-duration-xl)","2xl":"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-duration-2xl)"},delay:{none:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-delay-none)",sm:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-delay-sm)",md:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-delay-md)",lg:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-delay-lg)"},slide:{up:{sm:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-slide-up-sm)",md:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-slide-up-md)",lg:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-slide-up-lg)",xl:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-slide-up-xl)"},down:{sm:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-slide-down-sm)",md:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-slide-down-md)",lg:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-slide-down-lg)",xl:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-slide-down-xl)"},start:{sm:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-slide-start-sm)",md:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-slide-start-md)",lg:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-slide-start-lg)",xl:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-slide-start-xl)"},end:{sm:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-slide-end-sm)",md:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-slide-end-md)",lg:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-slide-end-lg)",xl:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-slide-end-xl)"}},scale:{down:{sm:{to:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-scale-down-sm-to)",from:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-scale-down-sm-from)"},md:{to:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-scale-down-md-to)",from:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-scale-down-md-from)"},full:{to:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-scale-down-full-to)",from:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-scale-down-full-from)"}},up:{sm:{to:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-scale-up-sm-to)",from:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-scale-up-sm-from)"},md:{to:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-scale-up-md-to)",from:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-scale-up-md-from)"},full:{to:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-scale-up-full-to)",from:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-scale-up-full-from)"}}},fade:{in:{sm:{to:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-fade-in-sm-to)",from:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-fade-in-sm-from)"},full:{to:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-fade-in-full-to)",from:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-fade-in-full-from)"}},out:{sm:{to:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-fade-out-sm-to)",from:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-fade-out-sm-from)"},full:{to:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-fade-out-full-to)",from:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-fade-out-full-from)"}}},size:{units:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-size-units)"},font:{family:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-font-family)",size:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-font-size)"},bg:{color:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-bg-color)"},listRowHeight:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-list-row-height)",listCellPaddingVertical:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-list-cell-padding-vertical)",sparkleImg:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-sparkle-img)",label:{sm:{fontSize:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-label-sm-font-size)"},md:{fontSize:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-label-md-font-size)"},lg:{fontSize:"var(--oj-c-EXPERIMENTAL-DO-NOT-USE-label-lg-font-size)"}}},Object.defineProperty(E,"__esModule",{value:!0})}));
//# sourceMappingURL=themeContract.css.js.map
;
define('@oracle/oraclejet-preact/Common/themes/redwood/theme',['exports', '../themeContract.css'], (function(e,o){"use strict";const s={name:"redwood",base:o.baseVars,colorScheme:o.colorSchemeVars,scale:o.scaleVars};e.Redwood=s,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=theme.js.map
;
define('@oracle/oraclejet-preact/Common/themes',['exports', './themes/redwood/theme', './themes/themeContract.css'], (function(e,t,o){"use strict";e.Redwood=t.Redwood,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=themes.js.map
;
define('@oracle/oraclejet-preact/Common',['exports', './Common/themes', './Common/themes/redwood/theme', './Common/themes/themeContract.css'], (function(e,o,t,m){"use strict";e.Redwood=t.Redwood,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=Common.js.map
;
define('@oracle/oraclejet-preact/index-141968fe',['exports', 'preact', './Common', './Common/themes/redwood/theme', 'preact/jsx-runtime', 'preact/hooks', 'preact/compat'], (function(e,t,r,o,n,c,s){"use strict";const i={user:{locale:document.documentElement.getAttribute("lang")||"en",direction:"rtl"===document.documentElement.getAttribute("dir")?.toLowerCase()?"rtl":"ltr",forcedColors:window.matchMedia?.("(forced-colors: active)")?.matches?"active":"none"},theme:o.Redwood,colorScheme:"light",scale:"lg",currentBgColor:void 0},a=t.createContext(i),l=t.createContext({}),u=s.forwardRef(((e,t)=>n.jsx("div",{id:"__oj_layerhost_container",ref:t})));function d({children:e}){const[t,r]=s.useState(),o=s.useCallback((e=>{null!==e&&r(e)}),[]);return n.jsx(l.Consumer,{children:r=>{const c=t?{getHost:()=>t}:{},s=r.getHost?r:c;return n.jsxs(l.Provider,{value:s,children:[e,!r.getHost&&n.jsx(u,{ref:o})]})}})}function m(e,t){const r=Object.assign({},e.user,t?.user),o=Object.assign({},e.theme,t?.theme),n=Object.assign({},e.translations),c=t?.translations||{};return Object.keys(c).forEach((e=>{let t=c[e];n[e]&&(t=Object.assign({},n[e],t)),n[e]=t})),{user:r,theme:o,translations:n,colorScheme:t?.colorScheme??e.colorScheme,scale:t?.scale??e.scale,currentBgColor:t?.currentBgColor??e.currentBgColor}}u.displayName="Forwarded<LayerHost>",e.DefaultEnvironment=i,e.EnvironmentContext=a,e.EnvironmentProvider=function({children:e,environment:t}){const r=c.useContext(a),o=c.useMemo((()=>m(r,t)),[r,t]);return n.jsx(a.Provider,{value:o,children:e})},e.LayerContext=l,e.LayerManager=d,e.RootEnvironmentProvider=function({children:e,environment:t}){const r=c.useMemo((()=>m(i,t)),[t]);return n.jsx(a.Provider,{value:r,children:n.jsx(d,{children:e})})}}));
//# sourceMappingURL=index-141968fe.js.map
;
define('@oracle/oraclejet-preact/UNSAFE_Environment',['exports', './index-141968fe', 'preact', './Common', './Common/themes', './Common/themes/redwood/theme', './Common/themes/themeContract.css', 'preact/jsx-runtime', 'preact/hooks', 'preact/compat'], (function(e,o,n,t,r,m,i,s,v,c){"use strict";e.EnvironmentContext=o.EnvironmentContext,e.EnvironmentProvider=o.EnvironmentProvider,e.RootEnvironmentProvider=o.RootEnvironmentProvider,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=UNSAFE_Environment.js.map
;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojpreact-patch',["exports"],function(e){"use strict";Symbol();const t=Symbol(),n=Symbol();const o=Symbol();e.OJ_POPUP=t,e.OJ_SLOT_REMOVE=n,e.patchPopupParent=function(e){e[o]||(e[o]=!0,Object.defineProperty(e,"firstChild",{get(){let n=e.childNodes[0];return n?n[t]||n:null},enumerable:!0}))},e.patchSlotParent=function(e){if(!e[o]){e[o]=!0;const t=e.removeChild;e.removeChild=o=>{const l=o[n];return l?(l(),null):t.call(e,o)}}},Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojpreact-patch.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojmetadatautils',["exports","ojs/ojcore-base","ojs/ojcustomelement-utils"],function(e,t,r){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;const o={};o.getDefaultValue=function(e,r){let n=e.value;if(void 0===n){const t=e.properties;if(t){const r={},l=Object.keys(t);for(let e=0;e<l.length;e++){const n=o.getDefaultValue(t[l[e]]);void 0!==n&&(r[l[e]]=n)}Object.keys(r).length>0&&(e.value=r,n=r)}}return void 0!==n&&(Array.isArray(n)?n=r?o.deepFreeze(n):n.slice():null!==n&&"object"==typeof n&&(n=r?o.deepFreeze(n):t.CollectionUtils.copyInto({},n,void 0,!0))),n},o.getDefaultValues=function(e,t){const r={},n=Object.keys(e);let l=!1;return n.forEach(function(n){const u=o.getDefaultValue(e[n],t);void 0!==u&&(r[n]=u,l=!0)}),l?r:null},o.deepFreeze=function(e){if(Object.isFrozen(e))return e;if(Array.isArray(e))e=e.map(e=>o.deepFreeze(e)),Object.freeze(e);else if(null!==e&&"object"==typeof e){const r=Object.getPrototypeOf(e);null!==r&&r!==Object.prototype||(t=e,Object.prototype.hasOwnProperty.call(t,"$$typeof"))||(Object.keys(e).forEach(function(t){e[t]=o.deepFreeze(e[t])}),Object.freeze(e))}var t;return e},o.getPropertyMetadata=function(e,t){const{subProp:r}=o.getComplexPropertyMetadata(e,t);return r},o.getComplexPropertyMetadata=function(e,t){let r=t,o=t;if(r&&e){const t=e.split(".");for(let e=0;e<t.length&&(r=r[t[e]],0===e&&(o=r),r&&1!==t.length&&e!==t.length-1&&r.properties);e++)r=r.properties}return{prop:o,subProp:r}},o.checkEnumValues=function(e,t,r,o){if("string"==typeof r&&o){const e=o.enumValues;if(e&&-1===e.indexOf(r))throw new Error(`Invalid value '${r}' found for property '${t}'.Expected one of the following '${e.toString()}'.`)}},o.getFlattenedAttributes=function(e){const t=[];return o._getAttributesFromProperties("",e,t),t},o._getAttributesFromProperties=function(e,t,n){if(t){Object.keys(t).forEach(l=>{const u=t[l],a=e+l;n.push(r.AttributeUtils.propertyNameToAttribute(a)),u.properties&&o._getAttributesFromProperties(a+".",u.properties,n)})}};const n=o.getDefaultValue,l=o.getDefaultValues,u=o.deepFreeze,a=o.getPropertyMetadata,s=o.getComplexPropertyMetadata,p=o.checkEnumValues,i=o.getFlattenedAttributes;e.checkEnumValues=p,e.deepFreeze=u,e.getComplexPropertyMetadata=s,e.getDefaultValue=n,e.getDefaultValues=l,e.getFlattenedAttributes=i,e.getPropertyMetadata=a,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojmetadatautils.js.map;
define('@oracle/oraclejet-preact/hooks/UNSAFE_useColorScheme',['exports', 'preact/hooks', '../index-141968fe', 'preact', '../Common', '../Common/themes', '../Common/themes/redwood/theme', '../Common/themes/themeContract.css', 'preact/jsx-runtime', 'preact/compat'], (function(e,o,t,n,m,r,c,s,u,h){"use strict";e.useColorScheme=function(){return o.useContext(t.EnvironmentContext).colorScheme},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=UNSAFE_useColorScheme.js.map
;
define('@oracle/oraclejet-preact/hooks/UNSAFE_useScale',['exports', 'preact/hooks', '../index-141968fe', 'preact', '../Common', '../Common/themes', '../Common/themes/redwood/theme', '../Common/themes/themeContract.css', 'preact/jsx-runtime', 'preact/compat'], (function(e,t,o,n,m,r,s,c,a,u){"use strict";e.useScale=function(){return t.useContext(o.EnvironmentContext).scale},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=UNSAFE_useScale.js.map
;
define('@oracle/oraclejet-preact/utils-a63364c4',['exports', './Common/themes/themeContract.css'], (function(e,r){"use strict";const a=(...e)=>e.reverse().reduce(((e,r)=>{if(""===e)e=String(r);else{if("string"!=typeof r||!/^var\(--.*\)$/.test(r))throw new Error(`Invalid variable name: ${r}`);e=r.replace(/\)$/,`, ${e})`)}return e}),"");e.fallbackVar=a,e.max=(e,r)=>`max(${e},${r})`,e.min=(e,r)=>`min(${e},${r})`,e.rgb=e=>`rgb(${e})`,e.rgba=(e,r)=>`rgba(${e}, ${r})`,e.xUnits=e=>1===e?a(r.scaleVars.size.units,"var(--oj-core-spacing-1x)"):`calc(${e} * ${a(r.scaleVars.size.units,"var(--oj-core-spacing-1x)")})`}));
//# sourceMappingURL=utils-a63364c4.js.map
;
define('@oracle/oraclejet-preact/UNSAFE_Theme',['exports', './utils-a63364c4', './Common/themes/themeContract.css'], (function(S,o,e){"use strict";const E="oj-scale-sm",L=`.${E}, :root.${E}`,C="oj-scale-md",_=`.${C}, :root.${C}`,c="oj-scale-lg",t=`.${c}`,r="oj-scale-dependent",s=`.${r}, :root.${E}, :root.${C}`;S.fallbackVar=o.fallbackVar,S.max=o.max,S.min=o.min,S.rgb=o.rgb,S.rgba=o.rgba,S.xUnits=o.xUnits,S.COLORSCHEME_DEPENDENT_CLASS="oj-c-colorscheme-dependent",S.DARK_CLASS="oj-c-colorscheme-dark",S.INVERT_CLASS="oj-color-invert",S.LIGHT_CLASS="oj-c-colorscheme-light",S.SCALE_DEFAULT_SELECTORS=":root",S.SCALE_DEPENDENT_CLASS=r,S.SCALE_DEPENDENT_SELECTORS=s,S.SCALE_LG_CLASS=c,S.SCALE_LG_SELECTORS=t,S.SCALE_MD_CLASS=C,S.SCALE_MD_SELECTORS=_,S.SCALE_SM_CLASS=E,S.SCALE_SM_SELECTORS=L,Object.defineProperty(S,"__esModule",{value:!0})}));
//# sourceMappingURL=UNSAFE_Theme.js.map
;
define('@oracle/oraclejet-preact/utils/UNSAFE_interpolations/theme',['exports', '../../UNSAFE_Theme', '../../utils-a63364c4', '../../Common/themes/themeContract.css'], (function(e,S,s,o){"use strict";const C=`${S.DARK_CLASS} ${S.INVERT_CLASS}`,_={colorScheme:({colorScheme:e})=>void 0===e?{}:{class:`${"dark"===e?C:S.LIGHT_CLASS} ${S.COLORSCHEME_DEPENDENT_CLASS}`},scale:({scale:e})=>void 0===e?{}:{class:`${"sm"===e?S.SCALE_SM_CLASS:"md"===e?S.SCALE_MD_CLASS:S.SCALE_LG_CLASS} ${S.SCALE_DEPENDENT_CLASS}`}};e.themeInterpolations=_,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=theme.js.map
;
define('@oracle/oraclejet-preact/classNames-111575ef',['exports'], (function(e){"use strict";e.classNames=function(e){return e.filter(Boolean).join(" ")}}));
//# sourceMappingURL=classNames-111575ef.js.map
;
define('@oracle/oraclejet-preact/utils/UNSAFE_classNames',['exports', '../classNames-111575ef'], (function(e,s){"use strict";e.classNames=s.classNames,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=UNSAFE_classNames.js.map
;
define('@oracle/oraclejet-preact/_curry1-cf4f4dfb',['exports'], (function(e){"use strict";"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var n=function(e){return null!=e&&"object"==typeof e&&!0===e["@@functional/placeholder"]},o=n;var l=function(e){return function n(l){return 0===arguments.length||o(l)?n:e.apply(this,arguments)}};e._curry1_1=l,e._isPlaceholder_1=n}));
//# sourceMappingURL=_curry1-cf4f4dfb.js.map
;
define('@oracle/oraclejet-preact/_curry2-d6142db1',['exports', './_curry1-cf4f4dfb'], (function(r,n){"use strict";var t=n._curry1_1,u=n._isPlaceholder_1;var e=function(r){return function n(e,c){switch(arguments.length){case 0:return n;case 1:return u(e)?n:t((function(n){return r(e,n)}));default:return u(e)&&u(c)?n:u(e)?t((function(n){return r(n,c)})):u(c)?t((function(n){return r(e,n)})):r(e,c)}}};r._curry2_1=e}));
//# sourceMappingURL=_curry2-d6142db1.js.map
;
define('@oracle/oraclejet-preact/_curry3-eba4f206',['exports', './_curry1-cf4f4dfb', './_curry2-d6142db1'], (function(r,n,u){"use strict";var t=n._curry1_1,e=u._curry2_1,c=n._isPlaceholder_1;var f=function(r){return function n(u,f,i){switch(arguments.length){case 0:return n;case 1:return c(u)?n:e((function(n,t){return r(u,n,t)}));case 2:return c(u)&&c(f)?n:c(u)?e((function(n,u){return r(n,f,u)})):c(f)?e((function(n,t){return r(u,n,t)})):t((function(n){return r(u,f,n)}));default:return c(u)&&c(f)&&c(i)?n:c(u)&&c(f)?e((function(n,u){return r(n,u,i)})):c(u)&&c(i)?e((function(n,u){return r(n,f,u)})):c(f)&&c(i)?e((function(n,t){return r(u,n,t)})):c(u)?t((function(n){return r(n,f,i)})):c(f)?t((function(n){return r(u,n,i)})):c(i)?t((function(n){return r(u,f,n)})):r(u,f,i)}}};r._curry3_1=f}));
//# sourceMappingURL=_curry3-eba4f206.js.map
;
define('@oracle/oraclejet-preact/_has-5b389985',['exports', './_curry1-cf4f4dfb'], (function(r,t){"use strict";var e=function(r,t){return Object.prototype.hasOwnProperty.call(t,r)};r._has_1=e}));
//# sourceMappingURL=_has-5b389985.js.map
;
define('@oracle/oraclejet-preact/utils/UNSAFE_mergeInterpolations',['exports', './UNSAFE_classNames', '../_curry1-cf4f4dfb', '../_curry3-eba4f206', '../_has-5b389985', '../classNames-111575ef', '../_curry2-d6142db1'], (function(r,e,t,c,n,s,u){"use strict";var o=function(r){return"[object Object]"===Object.prototype.toString.call(r)},a=c._curry3_1,f=n._has_1,_=a((function(r,e,t){var c,n={};for(c in e)f(c,e)&&(n[c]=f(c,t)?r(c,e[c],t[c]):e[c]);for(c in t)f(c,t)&&!f(c,n)&&(n[c]=t[c]);return n})),i=c._curry3_1,l=o,b=_,d=i((function r(e,t,c){return b((function(t,c,n){return l(c)&&l(n)?r(e,c,n):e(t,c,n)}),t,c)}));const y=(r,e,t)=>"class"===r?s.classNames([e,t]):t;r.mergeInterpolations=r=>e=>r.reduce(((r,t)=>d(y,r,t(e))),{}),Object.defineProperty(r,"__esModule",{value:!0})}));
//# sourceMappingURL=UNSAFE_mergeInterpolations.js.map
;
define('@oracle/oraclejet-preact/useThemeInterpolations-dd5434dc',['exports', './hooks/UNSAFE_useColorScheme', './hooks/UNSAFE_useScale', './utils/UNSAFE_interpolations/theme', './utils/UNSAFE_mergeInterpolations', './index-141968fe'], (function(e,o,t,s,n,l){"use strict";e.useThemeInterpolations=function(){const e=o.useColorScheme(),i=t.useScale(),r=i!==l.DefaultEnvironment.scale?i:void 0,c=n.mergeInterpolations([...Object.values(s.themeInterpolations)]),{class:u}=c({colorScheme:e,scale:r});return u}}));
//# sourceMappingURL=useThemeInterpolations-dd5434dc.js.map
;
define('@oracle/oraclejet-preact/UNSAFE_Layer',['exports', 'preact/compat', './index-141968fe', './useThemeInterpolations-dd5434dc', 'preact', './Common', './Common/themes', './Common/themes/redwood/theme', './Common/themes/themeContract.css', 'preact/jsx-runtime', 'preact/hooks', './hooks/UNSAFE_useColorScheme', './hooks/UNSAFE_useScale', './utils/UNSAFE_interpolations/theme', './UNSAFE_Theme', './utils-a63364c4', './utils/UNSAFE_mergeInterpolations', './utils/UNSAFE_classNames', './classNames-111575ef', './_curry1-cf4f4dfb', './_curry3-eba4f206', './_curry2-d6142db1', './_has-5b389985'], (function(e,t,o,r,n,a,s,c,l,m,u,i,d,h,_,f,p,C,y,N,S,E,g){"use strict";const x="__oj_logical_parent";e.LayerContext=o.LayerContext,e.LayerManager=o.LayerManager,e.Layer=e=>{const n=t.useContext(o.LayerContext),a=n.getHost?.(),s=t.useMemo((()=>a),[a]),[c,l]=t.useState(null),m=r.useThemeInterpolations();return t.useLayoutEffect((()=>{if(!s)return;const t=(s.ownerDocument??document).createElement("div");return e.logicalParentRef&&(t[x]=e.logicalParentRef.current),s.appendChild(t),l(t),()=>{s&&t&&s.contains(t)&&(delete t[x],s.removeChild(t)),l(null)}}),[s]),c&&(c.className=m),c&&t.createPortal(e.children,c)},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=UNSAFE_Layer.js.map
;
/*! jQuery v3.6.4 | (c) OpenJS Foundation and other contributors | jquery.org/license */
!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(C,e){"use strict";var t=[],r=Object.getPrototypeOf,s=t.slice,g=t.flat?function(e){return t.flat.call(e)}:function(e){return t.concat.apply([],e)},u=t.push,i=t.indexOf,n={},o=n.toString,y=n.hasOwnProperty,a=y.toString,l=a.call(Object),v={},m=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},x=function(e){return null!=e&&e===e.window},E=C.document,c={type:!0,src:!0,nonce:!0,noModule:!0};function b(e,t,n){var r,i,o=(n=n||E).createElement("script");if(o.text=e,t)for(r in c)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function w(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[o.call(e)]||"object":typeof e}var f="3.6.4",S=function(e,t){return new S.fn.init(e,t)};function p(e){var t=!!e&&"length"in e&&e.length,n=w(e);return!m(e)&&!x(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}S.fn=S.prototype={jquery:f,constructor:S,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=S.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return S.each(this,e)},map:function(n){return this.pushStack(S.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(S.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(S.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:t.sort,splice:t.splice},S.extend=S.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||m(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(l&&r&&(S.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||S.isPlainObject(n)?n:{},i=!1,a[t]=S.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},S.extend({expando:"jQuery"+(f+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==o.call(e))&&(!(t=r(e))||"function"==typeof(n=y.call(t,"constructor")&&t.constructor)&&a.call(n)===l)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){b(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(p(e)){for(n=e.length;r<n;r++)if(!1===t.call(e[r],r,e[r]))break}else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(p(Object(e))?S.merge(n,"string"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:i.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(p(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return g(a)},guid:1,support:v}),"function"==typeof Symbol&&(S.fn[Symbol.iterator]=t[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var d=function(n){var e,d,b,o,i,h,f,g,w,u,l,T,C,a,E,y,s,c,v,S="sizzle"+1*new Date,p=n.document,k=0,r=0,m=ue(),x=ue(),A=ue(),N=ue(),j=function(e,t){return e===t&&(l=!0),0},D={}.hasOwnProperty,t=[],q=t.pop,L=t.push,H=t.push,O=t.slice,P=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",I="(?:\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",W="\\["+M+"*("+I+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+I+"))|)"+M+"*\\]",F=":("+I+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+W+")*)|.*)\\)|)",$=new RegExp(M+"+","g"),B=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),_=new RegExp("^"+M+"*,"+M+"*"),z=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),U=new RegExp(M+"|>"),X=new RegExp(F),V=new RegExp("^"+I+"$"),G={ID:new RegExp("^#("+I+")"),CLASS:new RegExp("^\\.("+I+")"),TAG:new RegExp("^("+I+"|[*])"),ATTR:new RegExp("^"+W),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Y=/HTML$/i,Q=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){T()},ae=be(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{H.apply(t=O.call(p.childNodes),p.childNodes),t[p.childNodes.length].nodeType}catch(e){H={apply:t.length?function(e,t){L.apply(e,O.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}function se(t,e,n,r){var i,o,a,s,u,l,c,f=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!r&&(T(e),e=e||C,E)){if(11!==p&&(u=Z.exec(t)))if(i=u[1]){if(9===p){if(!(a=e.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(f&&(a=f.getElementById(i))&&v(e,a)&&a.id===i)return n.push(a),n}else{if(u[2])return H.apply(n,e.getElementsByTagName(t)),n;if((i=u[3])&&d.getElementsByClassName&&e.getElementsByClassName)return H.apply(n,e.getElementsByClassName(i)),n}if(d.qsa&&!N[t+" "]&&(!y||!y.test(t))&&(1!==p||"object"!==e.nodeName.toLowerCase())){if(c=t,f=e,1===p&&(U.test(t)||z.test(t))){(f=ee.test(t)&&ve(e.parentNode)||e)===e&&d.scope||((s=e.getAttribute("id"))?s=s.replace(re,ie):e.setAttribute("id",s=S)),o=(l=h(t)).length;while(o--)l[o]=(s?"#"+s:":scope")+" "+xe(l[o]);c=l.join(",")}try{return H.apply(n,f.querySelectorAll(c)),n}catch(e){N(t,!0)}finally{s===S&&e.removeAttribute("id")}}}return g(t.replace(B,"$1"),e,n,r)}function ue(){var r=[];return function e(t,n){return r.push(t+" ")>b.cacheLength&&delete e[r.shift()],e[t+" "]=n}}function le(e){return e[S]=!0,e}function ce(e){var t=C.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function fe(e,t){var n=e.split("|"),r=n.length;while(r--)b.attrHandle[n[r]]=t}function pe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function de(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function he(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function ge(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ae(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function ye(a){return le(function(o){return o=+o,le(function(e,t){var n,r=a([],e.length,o),i=r.length;while(i--)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function ve(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}for(e in d=se.support={},i=se.isXML=function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!Y.test(t||n&&n.nodeName||"HTML")},T=se.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:p;return r!=C&&9===r.nodeType&&r.documentElement&&(a=(C=r).documentElement,E=!i(C),p!=C&&(n=C.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",oe,!1):n.attachEvent&&n.attachEvent("onunload",oe)),d.scope=ce(function(e){return a.appendChild(e).appendChild(C.createElement("div")),"undefined"!=typeof e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),d.cssHas=ce(function(){try{return C.querySelector(":has(*,:jqfake)"),!1}catch(e){return!0}}),d.attributes=ce(function(e){return e.className="i",!e.getAttribute("className")}),d.getElementsByTagName=ce(function(e){return e.appendChild(C.createComment("")),!e.getElementsByTagName("*").length}),d.getElementsByClassName=K.test(C.getElementsByClassName),d.getById=ce(function(e){return a.appendChild(e).id=S,!C.getElementsByName||!C.getElementsByName(S).length}),d.getById?(b.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&E){var n=t.getElementById(e);return n?[n]:[]}}):(b.filter.ID=function(e){var n=e.replace(te,ne);return function(e){var t="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&E){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];i=t.getElementsByName(e),r=0;while(o=i[r++])if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),b.find.TAG=d.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):d.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},b.find.CLASS=d.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&E)return t.getElementsByClassName(e)},s=[],y=[],(d.qsa=K.test(C.querySelectorAll))&&(ce(function(e){var t;a.appendChild(e).innerHTML="<a id='"+S+"'></a><select id='"+S+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&y.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||y.push("\\["+M+"*(?:value|"+R+")"),e.querySelectorAll("[id~="+S+"-]").length||y.push("~="),(t=C.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||y.push("\\["+M+"*name"+M+"*="+M+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||y.push(":checked"),e.querySelectorAll("a#"+S+"+*").length||y.push(".#.+[+~]"),e.querySelectorAll("\\\f"),y.push("[\\r\\n\\f]")}),ce(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=C.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&y.push("name"+M+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&y.push(":enabled",":disabled"),a.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&y.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),y.push(",.*:")})),(d.matchesSelector=K.test(c=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&ce(function(e){d.disconnectedMatch=c.call(e,"*"),c.call(e,"[s!='']:x"),s.push("!=",F)}),d.cssHas||y.push(":has"),y=y.length&&new RegExp(y.join("|")),s=s.length&&new RegExp(s.join("|")),t=K.test(a.compareDocumentPosition),v=t||K.test(a.contains)?function(e,t){var n=9===e.nodeType&&e.documentElement||e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},j=t?function(e,t){if(e===t)return l=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!d.sortDetached&&t.compareDocumentPosition(e)===n?e==C||e.ownerDocument==p&&v(p,e)?-1:t==C||t.ownerDocument==p&&v(p,t)?1:u?P(u,e)-P(u,t):0:4&n?-1:1)}:function(e,t){if(e===t)return l=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e==C?-1:t==C?1:i?-1:o?1:u?P(u,e)-P(u,t):0;if(i===o)return pe(e,t);n=e;while(n=n.parentNode)a.unshift(n);n=t;while(n=n.parentNode)s.unshift(n);while(a[r]===s[r])r++;return r?pe(a[r],s[r]):a[r]==p?-1:s[r]==p?1:0}),C},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(T(e),d.matchesSelector&&E&&!N[t+" "]&&(!s||!s.test(t))&&(!y||!y.test(t)))try{var n=c.call(e,t);if(n||d.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){N(t,!0)}return 0<se(t,C,null,[e]).length},se.contains=function(e,t){return(e.ownerDocument||e)!=C&&T(e),v(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=C&&T(e);var n=b.attrHandle[t.toLowerCase()],r=n&&D.call(b.attrHandle,t.toLowerCase())?n(e,t,!E):void 0;return void 0!==r?r:d.attributes||!E?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},se.escape=function(e){return(e+"").replace(re,ie)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,n=[],r=0,i=0;if(l=!d.detectDuplicates,u=!d.sortStable&&e.slice(0),e.sort(j),l){while(t=e[i++])t===e[i]&&(r=n.push(i));while(r--)e.splice(n[r],1)}return u=null,e},o=se.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else while(t=e[r++])n+=o(t);return n},(b=se.selectors={cacheLength:50,createPseudo:le,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&X.test(n)&&(t=h(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=m[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&m(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,r,i){return function(e){var t=se.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===i:"!="===r?t!==i:"^="===r?i&&0===t.indexOf(i):"*="===r?i&&-1<t.indexOf(i):"$="===r?i&&t.slice(-i.length)===i:"~="===r?-1<(" "+t.replace($," ")+" ").indexOf(i):"|="===r&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(h,e,t,g,y){var v="nth"!==h.slice(0,3),m="last"!==h.slice(-4),x="of-type"===e;return 1===g&&0===y?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,a,s,u,l=v!==m?"nextSibling":"previousSibling",c=e.parentNode,f=x&&e.nodeName.toLowerCase(),p=!n&&!x,d=!1;if(c){if(v){while(l){a=e;while(a=a[l])if(x?a.nodeName.toLowerCase()===f:1===a.nodeType)return!1;u=l="only"===h&&!u&&"nextSibling"}return!0}if(u=[m?c.firstChild:c.lastChild],m&&p){d=(s=(r=(i=(o=(a=c)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&&r[1])&&r[2],a=s&&c.childNodes[s];while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if(1===a.nodeType&&++d&&a===e){i[h]=[k,s,d];break}}else if(p&&(d=s=(r=(i=(o=(a=e)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&&r[1]),!1===d)while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if((x?a.nodeName.toLowerCase()===f:1===a.nodeType)&&++d&&(p&&((i=(o=a[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]=[k,d]),a===e))break;return(d-=y)===g||d%g==0&&0<=d/g}}},PSEUDO:function(e,o){var t,a=b.pseudos[e]||b.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return a[S]?a(o):1<a.length?(t=[e,e,"",o],b.setFilters.hasOwnProperty(e.toLowerCase())?le(function(e,t){var n,r=a(e,o),i=r.length;while(i--)e[n=P(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:le(function(e){var r=[],i=[],s=f(e.replace(B,"$1"));return s[S]?le(function(e,t,n,r){var i,o=s(e,null,r,[]),a=e.length;while(a--)(i=o[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,s(r,null,n,i),r[0]=null,!i.pop()}}),has:le(function(t){return function(e){return 0<se(t,e).length}}),contains:le(function(t){return t=t.replace(te,ne),function(e){return-1<(e.textContent||o(e)).indexOf(t)}}),lang:le(function(n){return V.test(n||"")||se.error("unsupported lang: "+n),n=n.replace(te,ne).toLowerCase(),function(e){var t;do{if(t=E?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===a},focus:function(e){return e===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ye(function(){return[0]}),last:ye(function(e,t){return[t-1]}),eq:ye(function(e,t,n){return[n<0?n+t:n]}),even:ye(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:ye(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:ye(function(e,t,n){for(var r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:ye(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[e]=de(e);for(e in{submit:!0,reset:!0})b.pseudos[e]=he(e);function me(){}function xe(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function be(s,e,t){var u=e.dir,l=e.next,c=l||u,f=t&&"parentNode"===c,p=r++;return e.first?function(e,t,n){while(e=e[u])if(1===e.nodeType||f)return s(e,t,n);return!1}:function(e,t,n){var r,i,o,a=[k,p];if(n){while(e=e[u])if((1===e.nodeType||f)&&s(e,t,n))return!0}else while(e=e[u])if(1===e.nodeType||f)if(i=(o=e[S]||(e[S]={}))[e.uniqueID]||(o[e.uniqueID]={}),l&&l===e.nodeName.toLowerCase())e=e[u]||e;else{if((r=i[c])&&r[0]===k&&r[1]===p)return a[2]=r[2];if((i[c]=a)[2]=s(e,t,n))return!0}return!1}}function we(i){return 1<i.length?function(e,t,n){var r=i.length;while(r--)if(!i[r](e,t,n))return!1;return!0}:i[0]}function Te(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function Ce(d,h,g,y,v,e){return y&&!y[S]&&(y=Ce(y)),v&&!v[S]&&(v=Ce(v,e)),le(function(e,t,n,r){var i,o,a,s=[],u=[],l=t.length,c=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)se(e,t[r],n);return n}(h||"*",n.nodeType?[n]:n,[]),f=!d||!e&&h?c:Te(c,s,d,n,r),p=g?v||(e?d:l||y)?[]:t:f;if(g&&g(f,p,n,r),y){i=Te(p,u),y(i,[],n,r),o=i.length;while(o--)(a=i[o])&&(p[u[o]]=!(f[u[o]]=a))}if(e){if(v||d){if(v){i=[],o=p.length;while(o--)(a=p[o])&&i.push(f[o]=a);v(null,p=[],i,r)}o=p.length;while(o--)(a=p[o])&&-1<(i=v?P(e,a):s[o])&&(e[i]=!(t[i]=a))}}else p=Te(p===t?p.splice(l,p.length):p),v?v(null,t,p,r):H.apply(t,p)})}function Ee(e){for(var i,t,n,r=e.length,o=b.relative[e[0].type],a=o||b.relative[" "],s=o?1:0,u=be(function(e){return e===i},a,!0),l=be(function(e){return-1<P(i,e)},a,!0),c=[function(e,t,n){var r=!o&&(n||t!==w)||((i=t).nodeType?u(e,t,n):l(e,t,n));return i=null,r}];s<r;s++)if(t=b.relative[e[s].type])c=[be(we(c),t)];else{if((t=b.filter[e[s].type].apply(null,e[s].matches))[S]){for(n=++s;n<r;n++)if(b.relative[e[n].type])break;return Ce(1<s&&we(c),1<s&&xe(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(B,"$1"),t,s<n&&Ee(e.slice(s,n)),n<r&&Ee(e=e.slice(n)),n<r&&xe(e))}c.push(t)}return we(c)}return me.prototype=b.filters=b.pseudos,b.setFilters=new me,h=se.tokenize=function(e,t){var n,r,i,o,a,s,u,l=x[e+" "];if(l)return t?0:l.slice(0);a=e,s=[],u=b.preFilter;while(a){for(o in n&&!(r=_.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=z.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace(B," ")}),a=a.slice(n.length)),b.filter)!(r=G[o].exec(a))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?se.error(e):x(e,s).slice(0)},f=se.compile=function(e,t){var n,y,v,m,x,r,i=[],o=[],a=A[e+" "];if(!a){t||(t=h(e)),n=t.length;while(n--)(a=Ee(t[n]))[S]?i.push(a):o.push(a);(a=A(e,(y=o,m=0<(v=i).length,x=0<y.length,r=function(e,t,n,r,i){var o,a,s,u=0,l="0",c=e&&[],f=[],p=w,d=e||x&&b.find.TAG("*",i),h=k+=null==p?1:Math.random()||.1,g=d.length;for(i&&(w=t==C||t||i);l!==g&&null!=(o=d[l]);l++){if(x&&o){a=0,t||o.ownerDocument==C||(T(o),n=!E);while(s=y[a++])if(s(o,t||C,n)){r.push(o);break}i&&(k=h)}m&&((o=!s&&o)&&u--,e&&c.push(o))}if(u+=l,m&&l!==u){a=0;while(s=v[a++])s(c,f,t,n);if(e){if(0<u)while(l--)c[l]||f[l]||(f[l]=q.call(r));f=Te(f)}H.apply(r,f),i&&!e&&0<f.length&&1<u+v.length&&se.uniqueSort(r)}return i&&(k=h,w=p),c},m?le(r):r))).selector=e}return a},g=se.select=function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,c=!r&&h(e=l.selector||e);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(a=o[0]).type&&9===t.nodeType&&E&&b.relative[o[1].type]){if(!(t=(b.find.ID(a.matches[0].replace(te,ne),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}i=G.needsContext.test(e)?0:o.length;while(i--){if(a=o[i],b.relative[s=a.type])break;if((u=b.find[s])&&(r=u(a.matches[0].replace(te,ne),ee.test(o[0].type)&&ve(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&xe(o)))return H.apply(n,r),n;break}}}return(l||f(e,c))(r,t,!E,n,!t||ee.test(e)&&ve(t.parentNode)||t),n},d.sortStable=S.split("").sort(j).join("")===S,d.detectDuplicates=!!l,T(),d.sortDetached=ce(function(e){return 1&e.compareDocumentPosition(C.createElement("fieldset"))}),ce(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||fe("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),d.attributes&&ce(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||fe("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ce(function(e){return null==e.getAttribute("disabled")})||fe(R,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),se}(C);S.find=d,S.expr=d.selectors,S.expr[":"]=S.expr.pseudos,S.uniqueSort=S.unique=d.uniqueSort,S.text=d.getText,S.isXMLDoc=d.isXML,S.contains=d.contains,S.escapeSelector=d.escape;var h=function(e,t,n){var r=[],i=void 0!==n;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&S(e).is(n))break;r.push(e)}return r},T=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},k=S.expr.match.needsContext;function A(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var N=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function j(e,n,r){return m(n)?S.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?S.grep(e,function(e){return e===n!==r}):"string"!=typeof n?S.grep(e,function(e){return-1<i.call(n,e)!==r}):S.filter(n,e,r)}S.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?S.find.matchesSelector(r,e)?[r]:[]:S.find.matches(e,S.grep(t,function(e){return 1===e.nodeType}))},S.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(S(e).filter(function(){for(t=0;t<r;t++)if(S.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)S.find(e,i[t],n);return 1<r?S.uniqueSort(n):n},filter:function(e){return this.pushStack(j(this,e||[],!1))},not:function(e){return this.pushStack(j(this,e||[],!0))},is:function(e){return!!j(this,"string"==typeof e&&k.test(e)?S(e):e||[],!1).length}});var D,q=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(S.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||D,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:q.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof S?t[0]:t,S.merge(this,S.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:E,!0)),N.test(r[1])&&S.isPlainObject(t))for(r in t)m(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=E.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):m(e)?void 0!==n.ready?n.ready(e):e(S):S.makeArray(e,this)}).prototype=S.fn,D=S(E);var L=/^(?:parents|prev(?:Until|All))/,H={children:!0,contents:!0,next:!0,prev:!0};function O(e,t){while((e=e[t])&&1!==e.nodeType);return e}S.fn.extend({has:function(e){var t=S(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(S.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&S(e);if(!k.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&S.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?S.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?i.call(S(e),this[0]):i.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),S.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return h(e,"parentNode")},parentsUntil:function(e,t,n){return h(e,"parentNode",n)},next:function(e){return O(e,"nextSibling")},prev:function(e){return O(e,"previousSibling")},nextAll:function(e){return h(e,"nextSibling")},prevAll:function(e){return h(e,"previousSibling")},nextUntil:function(e,t,n){return h(e,"nextSibling",n)},prevUntil:function(e,t,n){return h(e,"previousSibling",n)},siblings:function(e){return T((e.parentNode||{}).firstChild,e)},children:function(e){return T(e.firstChild)},contents:function(e){return null!=e.contentDocument&&r(e.contentDocument)?e.contentDocument:(A(e,"template")&&(e=e.content||e),S.merge([],e.childNodes))}},function(r,i){S.fn[r]=function(e,t){var n=S.map(this,i,e);return"Until"!==r.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=S.filter(t,n)),1<this.length&&(H[r]||S.uniqueSort(n),L.test(r)&&n.reverse()),this.pushStack(n)}});var P=/[^\x20\t\r\n\f]+/g;function R(e){return e}function M(e){throw e}function I(e,t,n,r){var i;try{e&&m(i=e.promise)?i.call(e).done(t).fail(n):e&&m(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}S.Callbacks=function(r){var e,n;r="string"==typeof r?(e=r,n={},S.each(e.match(P)||[],function(e,t){n[t]=!0}),n):S.extend({},r);var i,t,o,a,s=[],u=[],l=-1,c=function(){for(a=a||r.once,o=i=!0;u.length;l=-1){t=u.shift();while(++l<s.length)!1===s[l].apply(t[0],t[1])&&r.stopOnFalse&&(l=s.length,t=!1)}r.memory||(t=!1),i=!1,a&&(s=t?[]:"")},f={add:function(){return s&&(t&&!i&&(l=s.length-1,u.push(t)),function n(e){S.each(e,function(e,t){m(t)?r.unique&&f.has(t)||s.push(t):t&&t.length&&"string"!==w(t)&&n(t)})}(arguments),t&&!i&&c()),this},remove:function(){return S.each(arguments,function(e,t){var n;while(-1<(n=S.inArray(t,s,n)))s.splice(n,1),n<=l&&l--}),this},has:function(e){return e?-1<S.inArray(e,s):0<s.length},empty:function(){return s&&(s=[]),this},disable:function(){return a=u=[],s=t="",this},disabled:function(){return!s},lock:function(){return a=u=[],t||i||(s=t=""),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],u.push(t),i||c()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!o}};return f},S.extend({Deferred:function(e){var o=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],i="pending",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},"catch":function(e){return a.then(null,e)},pipe:function(){var i=arguments;return S.Deferred(function(r){S.each(o,function(e,t){var n=m(i[t[4]])&&i[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&m(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this,n?[e]:arguments)})}),i=null}).promise()},then:function(t,n,r){var u=0;function l(i,o,a,s){return function(){var n=this,r=arguments,e=function(){var e,t;if(!(i<u)){if((e=a.apply(n,r))===o.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,m(t)?s?t.call(e,l(u,o,R,s),l(u,o,M,s)):(u++,t.call(e,l(u,o,R,s),l(u,o,M,s),l(u,o,R,o.notifyWith))):(a!==R&&(n=void 0,r=[e]),(s||o.resolveWith)(n,r))}},t=s?e:function(){try{e()}catch(e){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(e,t.stackTrace),u<=i+1&&(a!==M&&(n=void 0,r=[e]),o.rejectWith(n,r))}};i?t():(S.Deferred.getStackHook&&(t.stackTrace=S.Deferred.getStackHook()),C.setTimeout(t))}}return S.Deferred(function(e){o[0][3].add(l(0,e,m(r)?r:R,e.notifyWith)),o[1][3].add(l(0,e,m(t)?t:R)),o[2][3].add(l(0,e,m(n)?n:M))}).promise()},promise:function(e){return null!=e?S.extend(e,a):a}},s={};return S.each(o,function(e,t){var n=t[2],r=t[5];a[t[1]]=n.add,r&&n.add(function(){i=r},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var n=arguments.length,t=n,r=Array(t),i=s.call(arguments),o=S.Deferred(),a=function(t){return function(e){r[t]=this,i[t]=1<arguments.length?s.call(arguments):e,--n||o.resolveWith(r,i)}};if(n<=1&&(I(e,o.done(a(t)).resolve,o.reject,!n),"pending"===o.state()||m(i[t]&&i[t].then)))return o.then();while(t--)I(i[t],a(t),o.reject);return o.promise()}});var W=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;S.Deferred.exceptionHook=function(e,t){C.console&&C.console.warn&&e&&W.test(e.name)&&C.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},S.readyException=function(e){C.setTimeout(function(){throw e})};var F=S.Deferred();function $(){E.removeEventListener("DOMContentLoaded",$),C.removeEventListener("load",$),S.ready()}S.fn.ready=function(e){return F.then(e)["catch"](function(e){S.readyException(e)}),this},S.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--S.readyWait:S.isReady)||(S.isReady=!0)!==e&&0<--S.readyWait||F.resolveWith(E,[S])}}),S.ready.then=F.then,"complete"===E.readyState||"loading"!==E.readyState&&!E.documentElement.doScroll?C.setTimeout(S.ready):(E.addEventListener("DOMContentLoaded",$),C.addEventListener("load",$));var B=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===w(n))for(s in i=!0,n)B(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,m(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(S(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},_=/^-ms-/,z=/-([a-z])/g;function U(e,t){return t.toUpperCase()}function X(e){return e.replace(_,"ms-").replace(z,U)}var V=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function G(){this.expando=S.expando+G.uid++}G.uid=1,G.prototype={cache:function(e){var t=e[this.expando];return t||(t={},V(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[X(t)]=n;else for(r in t)i[X(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][X(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(X):(t=X(t))in r?[t]:t.match(P)||[]).length;while(n--)delete r[t[n]]}(void 0===t||S.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!S.isEmptyObject(t)}};var Y=new G,Q=new G,J=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,K=/[A-Z]/g;function Z(e,t,n){var r,i;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(K,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===(i=n)||"false"!==i&&("null"===i?null:i===+i+""?+i:J.test(i)?JSON.parse(i):i)}catch(e){}Q.set(e,t,n)}else n=void 0;return n}S.extend({hasData:function(e){return Q.hasData(e)||Y.hasData(e)},data:function(e,t,n){return Q.access(e,t,n)},removeData:function(e,t){Q.remove(e,t)},_data:function(e,t,n){return Y.access(e,t,n)},_removeData:function(e,t){Y.remove(e,t)}}),S.fn.extend({data:function(n,e){var t,r,i,o=this[0],a=o&&o.attributes;if(void 0===n){if(this.length&&(i=Q.get(o),1===o.nodeType&&!Y.get(o,"hasDataAttrs"))){t=a.length;while(t--)a[t]&&0===(r=a[t].name).indexOf("data-")&&(r=X(r.slice(5)),Z(o,r,i[r]));Y.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof n?this.each(function(){Q.set(this,n)}):B(this,function(e){var t;if(o&&void 0===e)return void 0!==(t=Q.get(o,n))?t:void 0!==(t=Z(o,n))?t:void 0;this.each(function(){Q.set(this,n,e)})},null,e,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){Q.remove(this,e)})}}),S.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Y.get(e,t),n&&(!r||Array.isArray(n)?r=Y.access(e,t,S.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=S.queue(e,t),r=n.length,i=n.shift(),o=S._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){S.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Y.get(e,n)||Y.access(e,n,{empty:S.Callbacks("once memory").add(function(){Y.remove(e,[t+"queue",n])})})}}),S.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?S.queue(this[0],t):void 0===n?this:this.each(function(){var e=S.queue(this,t,n);S._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&S.dequeue(this,t)})},dequeue:function(e){return this.each(function(){S.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=S.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};"string"!=typeof e&&(t=e,e=void 0),e=e||"fx";while(a--)(n=Y.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i"),ne=["Top","Right","Bottom","Left"],re=E.documentElement,ie=function(e){return S.contains(e.ownerDocument,e)},oe={composed:!0};re.getRootNode&&(ie=function(e){return S.contains(e.ownerDocument,e)||e.getRootNode(oe)===e.ownerDocument});var ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ie(e)&&"none"===S.css(e,"display")};function se(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return S.css(e,t,"")},u=s(),l=n&&n[3]||(S.cssNumber[t]?"":"px"),c=e.nodeType&&(S.cssNumber[t]||"px"!==l&&+u)&&te.exec(S.css(e,t));if(c&&c[3]!==l){u/=2,l=l||c[3],c=+u||1;while(a--)S.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,S.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var ue={};function le(e,t){for(var n,r,i,o,a,s,u,l=[],c=0,f=e.length;c<f;c++)(r=e[c]).style&&(n=r.style.display,t?("none"===n&&(l[c]=Y.get(r,"display")||null,l[c]||(r.style.display="")),""===r.style.display&&ae(r)&&(l[c]=(u=a=o=void 0,a=(i=r).ownerDocument,s=i.nodeName,(u=ue[s])||(o=a.body.appendChild(a.createElement(s)),u=S.css(o,"display"),o.parentNode.removeChild(o),"none"===u&&(u="block"),ue[s]=u)))):"none"!==n&&(l[c]="none",Y.set(r,"display",n)));for(c=0;c<f;c++)null!=l[c]&&(e[c].style.display=l[c]);return e}S.fn.extend({show:function(){return le(this,!0)},hide:function(){return le(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ae(this)?S(this).show():S(this).hide()})}});var ce,fe,pe=/^(?:checkbox|radio)$/i,de=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,he=/^$|^module$|\/(?:java|ecma)script/i;ce=E.createDocumentFragment().appendChild(E.createElement("div")),(fe=E.createElement("input")).setAttribute("type","radio"),fe.setAttribute("checked","checked"),fe.setAttribute("name","t"),ce.appendChild(fe),v.checkClone=ce.cloneNode(!0).cloneNode(!0).lastChild.checked,ce.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!ce.cloneNode(!0).lastChild.defaultValue,ce.innerHTML="<option></option>",v.option=!!ce.lastChild;var ge={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ye(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&A(e,t)?S.merge([e],n):n}function ve(e,t){for(var n=0,r=e.length;n<r;n++)Y.set(e[n],"globalEval",!t||Y.get(t[n],"globalEval"))}ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td,v.option||(ge.optgroup=ge.option=[1,"<select multiple='multiple'>","</select>"]);var me=/<|&#?\w+;/;function xe(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if("object"===w(o))S.merge(p,o.nodeType?[o]:o);else if(me.test(o)){a=a||f.appendChild(t.createElement("div")),s=(de.exec(o)||["",""])[1].toLowerCase(),u=ge[s]||ge._default,a.innerHTML=u[1]+S.htmlPrefilter(o)+u[2],c=u[0];while(c--)a=a.lastChild;S.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(o));f.textContent="",d=0;while(o=p[d++])if(r&&-1<S.inArray(o,r))i&&i.push(o);else if(l=ie(o),a=ye(f.appendChild(o),"script"),l&&ve(a),n){c=0;while(o=a[c++])he.test(o.type||"")&&n.push(o)}return f}var be=/^([^.]*)(?:\.(.+)|)/;function we(){return!0}function Te(){return!1}function Ce(e,t){return e===function(){try{return E.activeElement}catch(e){}}()==("focus"===t)}function Ee(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)Ee(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Te;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return S().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=S.guid++)),e.each(function(){S.event.add(this,t,i,r,n)})}function Se(e,i,o){o?(Y.set(e,i,!1),S.event.add(e,i,{namespace:!1,handler:function(e){var t,n,r=Y.get(this,i);if(1&e.isTrigger&&this[i]){if(r.length)(S.event.special[i]||{}).delegateType&&e.stopPropagation();else if(r=s.call(arguments),Y.set(this,i,r),t=o(this,i),this[i](),r!==(n=Y.get(this,i))||t?Y.set(this,i,!1):n={},r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n&&n.value}else r.length&&(Y.set(this,i,{value:S.event.trigger(S.extend(r[0],S.Event.prototype),r.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Y.get(e,i)&&S.event.add(e,i,we)}S.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,y=Y.get(t);if(V(t)){n.handler&&(n=(o=n).handler,i=o.selector),i&&S.find.matchesSelector(re,i),n.guid||(n.guid=S.guid++),(u=y.events)||(u=y.events=Object.create(null)),(a=y.handle)||(a=y.handle=function(e){return"undefined"!=typeof S&&S.event.triggered!==e.type?S.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(P)||[""]).length;while(l--)d=g=(s=be.exec(e[l])||[])[1],h=(s[2]||"").split(".").sort(),d&&(f=S.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=S.event.special[d]||{},c=S.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&S.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,h,a)||t.addEventListener&&t.addEventListener(d,a)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),S.event.global[d]=!0)}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,y=Y.hasData(e)&&Y.get(e);if(y&&(u=y.events)){l=(t=(t||"").match(P)||[""]).length;while(l--)if(d=g=(s=be.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d){f=S.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;while(o--)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,y.handle)||S.removeEvent(e,d,y.handle),delete u[d])}else for(d in u)S.event.remove(e,d+t[l],n,r,!0);S.isEmptyObject(u)&&Y.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=new Array(arguments.length),u=S.event.fix(e),l=(Y.get(this,"events")||Object.create(null))[u.type]||[],c=S.event.special[u.type]||{};for(s[0]=u,t=1;t<arguments.length;t++)s[t]=arguments[t];if(u.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,u)){a=S.event.handlers.call(this,u,l),t=0;while((i=a[t++])&&!u.isPropagationStopped()){u.currentTarget=i.elem,n=0;while((o=i.handlers[n++])&&!u.isImmediatePropagationStopped())u.rnamespace&&!1!==o.namespace&&!u.rnamespace.test(o.namespace)||(u.handleObj=o,u.data=o.data,void 0!==(r=((S.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(u.result=r)&&(u.preventDefault(),u.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,u),u.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&1<=e.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?-1<S(i,this).index(l):S.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(t,e){Object.defineProperty(S.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[S.expando]?e:new S.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&Se(t,"click",we),!1},trigger:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&Se(t,"click"),!0},_default:function(e){var t=e.target;return pe.test(t.type)&&t.click&&A(t,"input")&&Y.get(t,"click")||A(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},S.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},S.Event=function(e,t){if(!(this instanceof S.Event))return new S.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?we:Te,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&S.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:Te,isPropagationStopped:Te,isImmediatePropagationStopped:Te,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=we,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=we,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=we,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},S.event.addProp),S.each({focus:"focusin",blur:"focusout"},function(t,e){S.event.special[t]={setup:function(){return Se(this,t,Ce),!1},trigger:function(){return Se(this,t),!0},_default:function(e){return Y.get(e.target,t)},delegateType:e}}),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){S.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||S.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=i),t}}}),S.fn.extend({on:function(e,t,n,r){return Ee(this,e,t,n,r)},one:function(e,t,n,r){return Ee(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,S(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Te),this.each(function(){S.event.remove(this,e,n,t)})}});var ke=/<script|<style|<link/i,Ae=/checked\s*(?:[^=]|=\s*.checked.)/i,Ne=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function je(e,t){return A(e,"table")&&A(11!==t.nodeType?t:t.firstChild,"tr")&&S(e).children("tbody")[0]||e}function De(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function qe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Le(e,t){var n,r,i,o,a,s;if(1===t.nodeType){if(Y.hasData(e)&&(s=Y.get(e).events))for(i in Y.remove(t,"handle events"),s)for(n=0,r=s[i].length;n<r;n++)S.event.add(t,i,s[i][n]);Q.hasData(e)&&(o=Q.access(e),a=S.extend({},o),Q.set(t,a))}}function He(n,r,i,o){r=g(r);var e,t,a,s,u,l,c=0,f=n.length,p=f-1,d=r[0],h=m(d);if(h||1<f&&"string"==typeof d&&!v.checkClone&&Ae.test(d))return n.each(function(e){var t=n.eq(e);h&&(r[0]=d.call(this,e,t.html())),He(t,r,i,o)});if(f&&(t=(e=xe(r,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(s=(a=S.map(ye(e,"script"),De)).length;c<f;c++)u=e,c!==p&&(u=S.clone(u,!0,!0),s&&S.merge(a,ye(u,"script"))),i.call(n[c],u,c);if(s)for(l=a[a.length-1].ownerDocument,S.map(a,qe),c=0;c<s;c++)u=a[c],he.test(u.type||"")&&!Y.access(u,"globalEval")&&S.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?S._evalUrl&&!u.noModule&&S._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},l):b(u.textContent.replace(Ne,""),u,l))}return n}function Oe(e,t,n){for(var r,i=t?S.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||S.cleanData(ye(r)),r.parentNode&&(n&&ie(r)&&ve(ye(r,"script")),r.parentNode.removeChild(r));return e}S.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,a,s,u,l,c=e.cloneNode(!0),f=ie(e);if(!(v.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||S.isXMLDoc(e)))for(a=ye(c),r=0,i=(o=ye(e)).length;r<i;r++)s=o[r],u=a[r],void 0,"input"===(l=u.nodeName.toLowerCase())&&pe.test(s.type)?u.checked=s.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=s.defaultValue);if(t)if(n)for(o=o||ye(e),a=a||ye(c),r=0,i=o.length;r<i;r++)Le(o[r],a[r]);else Le(e,c);return 0<(a=ye(c,"script")).length&&ve(a,!f&&ye(e,"script")),c},cleanData:function(e){for(var t,n,r,i=S.event.special,o=0;void 0!==(n=e[o]);o++)if(V(n)){if(t=n[Y.expando]){if(t.events)for(r in t.events)i[r]?S.event.remove(n,r):S.removeEvent(n,r,t.handle);n[Y.expando]=void 0}n[Q.expando]&&(n[Q.expando]=void 0)}}}),S.fn.extend({detach:function(e){return Oe(this,e,!0)},remove:function(e){return Oe(this,e)},text:function(e){return B(this,function(e){return void 0===e?S.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return He(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||je(this,e).appendChild(e)})},prepend:function(){return He(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=je(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return He(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return He(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(S.cleanData(ye(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return S.clone(this,e,t)})},html:function(e){return B(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ke.test(e)&&!ge[(de.exec(e)||["",""])[1].toLowerCase()]){e=S.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(S.cleanData(ye(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return He(this,arguments,function(e){var t=this.parentNode;S.inArray(this,n)<0&&(S.cleanData(ye(this)),t&&t.replaceChild(e,this))},n)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){S.fn[e]=function(e){for(var t,n=[],r=S(e),i=r.length-1,o=0;o<=i;o++)t=o===i?this:this.clone(!0),S(r[o])[a](t),u.apply(n,t.get());return this.pushStack(n)}});var Pe=new RegExp("^("+ee+")(?!px)[a-z%]+$","i"),Re=/^--/,Me=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=C),t.getComputedStyle(e)},Ie=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r},We=new RegExp(ne.join("|"),"i"),Fe="[\\x20\\t\\r\\n\\f]",$e=new RegExp("^"+Fe+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Fe+"+$","g");function Be(e,t,n){var r,i,o,a,s=Re.test(t),u=e.style;return(n=n||Me(e))&&(a=n.getPropertyValue(t)||n[t],s&&a&&(a=a.replace($e,"$1")||void 0),""!==a||ie(e)||(a=S.style(e,t)),!v.pixelBoxStyles()&&Pe.test(a)&&We.test(t)&&(r=u.width,i=u.minWidth,o=u.maxWidth,u.minWidth=u.maxWidth=u.width=a,a=n.width,u.width=r,u.minWidth=i,u.maxWidth=o)),void 0!==a?a+"":a}function _e(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(l){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",re.appendChild(u).appendChild(l);var e=C.getComputedStyle(l);n="1%"!==e.top,s=12===t(e.marginLeft),l.style.right="60%",o=36===t(e.right),r=36===t(e.width),l.style.position="absolute",i=12===t(l.offsetWidth/3),re.removeChild(u),l=null}}function t(e){return Math.round(parseFloat(e))}var n,r,i,o,a,s,u=E.createElement("div"),l=E.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===l.style.backgroundClip,S.extend(v,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),s},scrollboxSize:function(){return e(),i},reliableTrDimensions:function(){var e,t,n,r;return null==a&&(e=E.createElement("table"),t=E.createElement("tr"),n=E.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",re.appendChild(e).appendChild(t).appendChild(n),r=C.getComputedStyle(t),a=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===t.offsetHeight,re.removeChild(e)),a}}))}();var ze=["Webkit","Moz","ms"],Ue=E.createElement("div").style,Xe={};function Ve(e){var t=S.cssProps[e]||Xe[e];return t||(e in Ue?e:Xe[e]=function(e){var t=e[0].toUpperCase()+e.slice(1),n=ze.length;while(n--)if((e=ze[n]+t)in Ue)return e}(e)||e)}var Ge=/^(none|table(?!-c[ea]).+)/,Ye={position:"absolute",visibility:"hidden",display:"block"},Qe={letterSpacing:"0",fontWeight:"400"};function Je(e,t,n){var r=te.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Ke(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=S.css(e,n+ne[a],!0,i)),r?("content"===n&&(u-=S.css(e,"padding"+ne[a],!0,i)),"margin"!==n&&(u-=S.css(e,"border"+ne[a]+"Width",!0,i))):(u+=S.css(e,"padding"+ne[a],!0,i),"padding"!==n?u+=S.css(e,"border"+ne[a]+"Width",!0,i):s+=S.css(e,"border"+ne[a]+"Width",!0,i));return!r&&0<=o&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u}function Ze(e,t,n){var r=Me(e),i=(!v.boxSizingReliable()||n)&&"border-box"===S.css(e,"boxSizing",!1,r),o=i,a=Be(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(Pe.test(a)){if(!n)return a;a="auto"}return(!v.boxSizingReliable()&&i||!v.reliableTrDimensions()&&A(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===S.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===S.css(e,"boxSizing",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+Ke(e,t,n||(i?"border":"content"),o,r,a)+"px"}function et(e,t,n,r,i){return new et.prototype.init(e,t,n,r,i)}S.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Be(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=X(t),u=Re.test(t),l=e.style;if(u||(t=Ve(s)),a=S.cssHooks[t]||S.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"===(o=typeof n)&&(i=te.exec(n))&&i[1]&&(n=se(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=i&&i[3]||(S.cssNumber[s]?"":"px")),v.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=X(t);return Re.test(t)||(t=Ve(s)),(a=S.cssHooks[t]||S.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=Be(e,t,r)),"normal"===i&&t in Qe&&(i=Qe[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),S.each(["height","width"],function(e,u){S.cssHooks[u]={get:function(e,t,n){if(t)return!Ge.test(S.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Ze(e,u,n):Ie(e,Ye,function(){return Ze(e,u,n)})},set:function(e,t,n){var r,i=Me(e),o=!v.scrollboxSize()&&"absolute"===i.position,a=(o||n)&&"border-box"===S.css(e,"boxSizing",!1,i),s=n?Ke(e,u,n,a,i):0;return a&&o&&(s-=Math.ceil(e["offset"+u[0].toUpperCase()+u.slice(1)]-parseFloat(i[u])-Ke(e,u,"border",!1,i)-.5)),s&&(r=te.exec(t))&&"px"!==(r[3]||"px")&&(e.style[u]=t,t=S.css(e,u)),Je(0,t,s)}}}),S.cssHooks.marginLeft=_e(v.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Be(e,"marginLeft"))||e.getBoundingClientRect().left-Ie(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),S.each({margin:"",padding:"",border:"Width"},function(i,o){S.cssHooks[i+o]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[i+ne[t]+o]=r[t]||r[t-2]||r[0];return n}},"margin"!==i&&(S.cssHooks[i+o].set=Je)}),S.fn.extend({css:function(e,t){return B(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Me(e),i=t.length;a<i;a++)o[t[a]]=S.css(e,t[a],!1,r);return o}return void 0!==n?S.style(e,t,n):S.css(e,t)},e,t,1<arguments.length)}}),((S.Tween=et).prototype={constructor:et,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||S.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(S.cssNumber[n]?"":"px")},cur:function(){var e=et.propHooks[this.prop];return e&&e.get?e.get(this):et.propHooks._default.get(this)},run:function(e){var t,n=et.propHooks[this.prop];return this.options.duration?this.pos=t=S.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):et.propHooks._default.set(this),this}}).init.prototype=et.prototype,(et.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=S.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){S.fx.step[e.prop]?S.fx.step[e.prop](e):1!==e.elem.nodeType||!S.cssHooks[e.prop]&&null==e.elem.style[Ve(e.prop)]?e.elem[e.prop]=e.now:S.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=et.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},S.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},S.fx=et.prototype.init,S.fx.step={};var tt,nt,rt,it,ot=/^(?:toggle|show|hide)$/,at=/queueHooks$/;function st(){nt&&(!1===E.hidden&&C.requestAnimationFrame?C.requestAnimationFrame(st):C.setTimeout(st,S.fx.interval),S.fx.tick())}function ut(){return C.setTimeout(function(){tt=void 0}),tt=Date.now()}function lt(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=ne[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function ct(e,t,n){for(var r,i=(ft.tweeners[t]||[]).concat(ft.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function ft(o,e,t){var n,a,r=0,i=ft.prefilters.length,s=S.Deferred().always(function(){delete u.elem}),u=function(){if(a)return!1;for(var e=tt||ut(),t=Math.max(0,l.startTime+l.duration-e),n=1-(t/l.duration||0),r=0,i=l.tweens.length;r<i;r++)l.tweens[r].run(n);return s.notifyWith(o,[l,n,t]),n<1&&i?t:(i||s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l]),!1)},l=s.promise({elem:o,props:S.extend({},e),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},t),originalProperties:e,originalOptions:t,startTime:tt||ut(),duration:t.duration,tweens:[],createTween:function(e,t){var n=S.Tween(o,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var t=0,n=e?l.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)l.tweens[t].run(1);return e?(s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l,e])):s.rejectWith(o,[l,e]),this}}),c=l.props;for(!function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=X(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=S.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,l.opts.specialEasing);r<i;r++)if(n=ft.prefilters[r].call(l,o,c,l.opts))return m(n.stop)&&(S._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n;return S.map(c,ct,l),m(l.opts.start)&&l.opts.start.call(o,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),S.fx.timer(S.extend(u,{elem:o,anim:l,queue:l.opts.queue})),l}S.Animation=S.extend(ft,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return se(n.elem,e,te.exec(t),n),n}]},tweener:function(e,t){m(e)?(t=e,e=["*"]):e=e.match(P);for(var n,r=0,i=e.length;r<i;r++)n=e[r],ft.tweeners[n]=ft.tweeners[n]||[],ft.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&ae(e),y=Y.get(e,"fxshow");for(r in n.queue||(null==(a=S._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,S.queue(e,"fx").length||a.empty.fire()})})),t)if(i=t[r],ot.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!y||void 0===y[r])continue;g=!0}d[r]=y&&y[r]||S.style(e,r)}if((u=!S.isEmptyObject(t))||!S.isEmptyObject(d))for(r in f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=y&&y.display)&&(l=Y.get(e,"display")),"none"===(c=S.css(e,"display"))&&(l?c=l:(le([e],!0),l=e.style.display||l,c=S.css(e,"display"),le([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===S.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1,d)u||(y?"hidden"in y&&(g=y.hidden):y=Y.access(e,"fxshow",{display:l}),o&&(y.hidden=!g),g&&le([e],!0),p.done(function(){for(r in g||le([e]),Y.remove(e,"fxshow"),d)S.style(e,r,d[r])})),u=ct(g?y[r]:0,r,p),r in y||(y[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?ft.prefilters.unshift(e):ft.prefilters.push(e)}}),S.speed=function(e,t,n){var r=e&&"object"==typeof e?S.extend({},e):{complete:n||!n&&t||m(e)&&e,duration:e,easing:n&&t||t&&!m(t)&&t};return S.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in S.fx.speeds?r.duration=S.fx.speeds[r.duration]:r.duration=S.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){m(r.old)&&r.old.call(this),r.queue&&S.dequeue(this,r.queue)},r},S.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var i=S.isEmptyObject(t),o=S.speed(e,n,r),a=function(){var e=ft(this,S.extend({},t),o);(i||Y.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(i,e,o){var a=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof i&&(o=e,e=i,i=void 0),e&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=S.timers,r=Y.get(this);if(t)r[t]&&r[t].stop&&a(r[t]);else for(t in r)r[t]&&r[t].stop&&at.test(t)&&a(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||S.dequeue(this,i)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=Y.get(this),n=t[a+"queue"],r=t[a+"queueHooks"],i=S.timers,o=n?n.length:0;for(t.finish=!0,S.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===a&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),S.each(["toggle","show","hide"],function(e,r){var i=S.fn[r];S.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(lt(r,!0),e,t,n)}}),S.each({slideDown:lt("show"),slideUp:lt("hide"),slideToggle:lt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){S.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),S.timers=[],S.fx.tick=function(){var e,t=0,n=S.timers;for(tt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||S.fx.stop(),tt=void 0},S.fx.timer=function(e){S.timers.push(e),S.fx.start()},S.fx.interval=13,S.fx.start=function(){nt||(nt=!0,st())},S.fx.stop=function(){nt=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(r,e){return r=S.fx&&S.fx.speeds[r]||r,e=e||"fx",this.queue(e,function(e,t){var n=C.setTimeout(e,r);t.stop=function(){C.clearTimeout(n)}})},rt=E.createElement("input"),it=E.createElement("select").appendChild(E.createElement("option")),rt.type="checkbox",v.checkOn=""!==rt.value,v.optSelected=it.selected,(rt=E.createElement("input")).value="t",rt.type="radio",v.radioValue="t"===rt.value;var pt,dt=S.expr.attrHandle;S.fn.extend({attr:function(e,t){return B(this,S.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){S.removeAttr(this,e)})}}),S.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?S.prop(e,t,n):(1===o&&S.isXMLDoc(e)||(i=S.attrHooks[t.toLowerCase()]||(S.expr.match.bool.test(t)?pt:void 0)),void 0!==n?null===n?void S.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=S.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!v.radioValue&&"radio"===t&&A(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(P);if(i&&1===e.nodeType)while(n=i[r++])e.removeAttribute(n)}}),pt={set:function(e,t,n){return!1===t?S.removeAttr(e,n):e.setAttribute(n,n),n}},S.each(S.expr.match.bool.source.match(/\w+/g),function(e,t){var a=dt[t]||S.find.attr;dt[t]=function(e,t,n){var r,i,o=t.toLowerCase();return n||(i=dt[o],dt[o]=r,r=null!=a(e,t,n)?o:null,dt[o]=i),r}});var ht=/^(?:input|select|textarea|button)$/i,gt=/^(?:a|area)$/i;function yt(e){return(e.match(P)||[]).join(" ")}function vt(e){return e.getAttribute&&e.getAttribute("class")||""}function mt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(P)||[]}S.fn.extend({prop:function(e,t){return B(this,S.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[S.propFix[e]||e]})}}),S.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&S.isXMLDoc(e)||(t=S.propFix[t]||t,i=S.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=S.find.attr(e,"tabindex");return t?parseInt(t,10):ht.test(e.nodeName)||gt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),v.optSelected||(S.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){S.propFix[this.toLowerCase()]=this}),S.fn.extend({addClass:function(t){var e,n,r,i,o,a;return m(t)?this.each(function(e){S(this).addClass(t.call(this,e,vt(this)))}):(e=mt(t)).length?this.each(function(){if(r=vt(this),n=1===this.nodeType&&" "+yt(r)+" "){for(o=0;o<e.length;o++)i=e[o],n.indexOf(" "+i+" ")<0&&(n+=i+" ");a=yt(n),r!==a&&this.setAttribute("class",a)}}):this},removeClass:function(t){var e,n,r,i,o,a;return m(t)?this.each(function(e){S(this).removeClass(t.call(this,e,vt(this)))}):arguments.length?(e=mt(t)).length?this.each(function(){if(r=vt(this),n=1===this.nodeType&&" "+yt(r)+" "){for(o=0;o<e.length;o++){i=e[o];while(-1<n.indexOf(" "+i+" "))n=n.replace(" "+i+" "," ")}a=yt(n),r!==a&&this.setAttribute("class",a)}}):this:this.attr("class","")},toggleClass:function(t,n){var e,r,i,o,a=typeof t,s="string"===a||Array.isArray(t);return m(t)?this.each(function(e){S(this).toggleClass(t.call(this,e,vt(this),n),n)}):"boolean"==typeof n&&s?n?this.addClass(t):this.removeClass(t):(e=mt(t),this.each(function(){if(s)for(o=S(this),i=0;i<e.length;i++)r=e[i],o.hasClass(r)?o.removeClass(r):o.addClass(r);else void 0!==t&&"boolean"!==a||((r=vt(this))&&Y.set(this,"__className__",r),this.setAttribute&&this.setAttribute("class",r||!1===t?"":Y.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,r=0;t=" "+e+" ";while(n=this[r++])if(1===n.nodeType&&-1<(" "+yt(vt(n))+" ").indexOf(t))return!0;return!1}});var xt=/\r/g;S.fn.extend({val:function(n){var r,e,i,t=this[0];return arguments.length?(i=m(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=i?n.call(this,e,S(this).val()):n)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=S.map(t,function(e){return null==e?"":e+""})),(r=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,t,"value")||(this.value=t))})):t?(r=S.valHooks[t.type]||S.valHooks[t.nodeName.toLowerCase()])&&"get"in r&&void 0!==(e=r.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(xt,""):null==e?"":e:void 0}}),S.extend({valHooks:{option:{get:function(e){var t=S.find.attr(e,"value");return null!=t?t:yt(S.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!A(n.parentNode,"optgroup"))){if(t=S(n).val(),a)return t;s.push(t)}return s},set:function(e,t){var n,r,i=e.options,o=S.makeArray(t),a=i.length;while(a--)((r=i[a]).selected=-1<S.inArray(S.valHooks.option.get(r),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),S.each(["radio","checkbox"],function(){S.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<S.inArray(S(e).val(),t)}},v.checkOn||(S.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),v.focusin="onfocusin"in C;var bt=/^(?:focusinfocus|focusoutblur)$/,wt=function(e){e.stopPropagation()};S.extend(S.event,{trigger:function(e,t,n,r){var i,o,a,s,u,l,c,f,p=[n||E],d=y.call(e,"type")?e.type:e,h=y.call(e,"namespace")?e.namespace.split("."):[];if(o=f=a=n=n||E,3!==n.nodeType&&8!==n.nodeType&&!bt.test(d+S.event.triggered)&&(-1<d.indexOf(".")&&(d=(h=d.split(".")).shift(),h.sort()),u=d.indexOf(":")<0&&"on"+d,(e=e[S.expando]?e:new S.Event(d,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:S.makeArray(t,[e]),c=S.event.special[d]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&&!c.noBubble&&!x(n)){for(s=c.delegateType||d,bt.test(s+d)||(o=o.parentNode);o;o=o.parentNode)p.push(o),a=o;a===(n.ownerDocument||E)&&p.push(a.defaultView||a.parentWindow||C)}i=0;while((o=p[i++])&&!e.isPropagationStopped())f=o,e.type=1<i?s:c.bindType||d,(l=(Y.get(o,"events")||Object.create(null))[e.type]&&Y.get(o,"handle"))&&l.apply(o,t),(l=u&&o[u])&&l.apply&&V(o)&&(e.result=l.apply(o,t),!1===e.result&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(p.pop(),t)||!V(n)||u&&m(n[d])&&!x(n)&&((a=n[u])&&(n[u]=null),S.event.triggered=d,e.isPropagationStopped()&&f.addEventListener(d,wt),n[d](),e.isPropagationStopped()&&f.removeEventListener(d,wt),S.event.triggered=void 0,a&&(n[u]=a)),e.result}},simulate:function(e,t,n){var r=S.extend(new S.Event,n,{type:e,isSimulated:!0});S.event.trigger(r,null,t)}}),S.fn.extend({trigger:function(e,t){return this.each(function(){S.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return S.event.trigger(e,t,n,!0)}}),v.focusin||S.each({focus:"focusin",blur:"focusout"},function(n,r){var i=function(e){S.event.simulate(r,e.target,S.event.fix(e))};S.event.special[r]={setup:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,r);t||e.addEventListener(n,i,!0),Y.access(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,r)-1;t?Y.access(e,r,t):(e.removeEventListener(n,i,!0),Y.remove(e,r))}}});var Tt=C.location,Ct={guid:Date.now()},Et=/\?/;S.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new C.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||S.error("Invalid XML: "+(n?S.map(n.childNodes,function(e){return e.textContent}).join("\n"):e)),t};var St=/\[\]$/,kt=/\r?\n/g,At=/^(?:submit|button|image|reset|file)$/i,Nt=/^(?:input|select|textarea|keygen)/i;function jt(n,e,r,i){var t;if(Array.isArray(e))S.each(e,function(e,t){r||St.test(n)?i(n,t):jt(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,r,i)});else if(r||"object"!==w(e))i(n,e);else for(t in e)jt(n+"["+t+"]",e[t],r,i)}S.param=function(e,t){var n,r=[],i=function(e,t){var n=m(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!S.isPlainObject(e))S.each(e,function(){i(this.name,this.value)});else for(n in e)jt(n,e[n],t,i);return r.join("&")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=S.prop(this,"elements");return e?S.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!S(this).is(":disabled")&&Nt.test(this.nodeName)&&!At.test(e)&&(this.checked||!pe.test(e))}).map(function(e,t){var n=S(this).val();return null==n?null:Array.isArray(n)?S.map(n,function(e){return{name:t.name,value:e.replace(kt,"\r\n")}}):{name:t.name,value:n.replace(kt,"\r\n")}}).get()}});var Dt=/%20/g,qt=/#.*$/,Lt=/([?&])_=[^&]*/,Ht=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ot=/^(?:GET|HEAD)$/,Pt=/^\/\//,Rt={},Mt={},It="*/".concat("*"),Wt=E.createElement("a");function Ft(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,i=e.toLowerCase().match(P)||[];if(m(t))while(n=i[r++])"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function $t(t,i,o,a){var s={},u=t===Mt;function l(e){var r;return s[e]=!0,S.each(t[e]||[],function(e,t){var n=t(i,o,a);return"string"!=typeof n||u||s[n]?u?!(r=n):void 0:(i.dataTypes.unshift(n),l(n),!1)}),r}return l(i.dataTypes[0])||!s["*"]&&l("*")}function Bt(e,t){var n,r,i=S.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&S.extend(!0,e,r),e}Wt.href=Tt.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Tt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Tt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":It,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Bt(Bt(e,S.ajaxSettings),t):Bt(S.ajaxSettings,e)},ajaxPrefilter:Ft(Rt),ajaxTransport:Ft(Mt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var c,f,p,n,d,r,h,g,i,o,y=S.ajaxSetup({},t),v=y.context||y,m=y.context&&(v.nodeType||v.jquery)?S(v):S.event,x=S.Deferred(),b=S.Callbacks("once memory"),w=y.statusCode||{},a={},s={},u="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(h){if(!n){n={};while(t=Ht.exec(p))n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2])}t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return h?p:null},setRequestHeader:function(e,t){return null==h&&(e=s[e.toLowerCase()]=s[e.toLowerCase()]||e,a[e]=t),this},overrideMimeType:function(e){return null==h&&(y.mimeType=e),this},statusCode:function(e){var t;if(e)if(h)T.always(e[T.status]);else for(t in e)w[t]=[w[t],e[t]];return this},abort:function(e){var t=e||u;return c&&c.abort(t),l(0,t),this}};if(x.promise(T),y.url=((e||y.url||Tt.href)+"").replace(Pt,Tt.protocol+"//"),y.type=t.method||t.type||y.method||y.type,y.dataTypes=(y.dataType||"*").toLowerCase().match(P)||[""],null==y.crossDomain){r=E.createElement("a");try{r.href=y.url,r.href=r.href,y.crossDomain=Wt.protocol+"//"+Wt.host!=r.protocol+"//"+r.host}catch(e){y.crossDomain=!0}}if(y.data&&y.processData&&"string"!=typeof y.data&&(y.data=S.param(y.data,y.traditional)),$t(Rt,y,t,T),h)return T;for(i in(g=S.event&&y.global)&&0==S.active++&&S.event.trigger("ajaxStart"),y.type=y.type.toUpperCase(),y.hasContent=!Ot.test(y.type),f=y.url.replace(qt,""),y.hasContent?y.data&&y.processData&&0===(y.contentType||"").indexOf("application/x-www-form-urlencoded")&&(y.data=y.data.replace(Dt,"+")):(o=y.url.slice(f.length),y.data&&(y.processData||"string"==typeof y.data)&&(f+=(Et.test(f)?"&":"?")+y.data,delete y.data),!1===y.cache&&(f=f.replace(Lt,"$1"),o=(Et.test(f)?"&":"?")+"_="+Ct.guid+++o),y.url=f+o),y.ifModified&&(S.lastModified[f]&&T.setRequestHeader("If-Modified-Since",S.lastModified[f]),S.etag[f]&&T.setRequestHeader("If-None-Match",S.etag[f])),(y.data&&y.hasContent&&!1!==y.contentType||t.contentType)&&T.setRequestHeader("Content-Type",y.contentType),T.setRequestHeader("Accept",y.dataTypes[0]&&y.accepts[y.dataTypes[0]]?y.accepts[y.dataTypes[0]]+("*"!==y.dataTypes[0]?", "+It+"; q=0.01":""):y.accepts["*"]),y.headers)T.setRequestHeader(i,y.headers[i]);if(y.beforeSend&&(!1===y.beforeSend.call(v,T,y)||h))return T.abort();if(u="abort",b.add(y.complete),T.done(y.success),T.fail(y.error),c=$t(Mt,y,t,T)){if(T.readyState=1,g&&m.trigger("ajaxSend",[T,y]),h)return T;y.async&&0<y.timeout&&(d=C.setTimeout(function(){T.abort("timeout")},y.timeout));try{h=!1,c.send(a,l)}catch(e){if(h)throw e;l(-1,e)}}else l(-1,"No Transport");function l(e,t,n,r){var i,o,a,s,u,l=t;h||(h=!0,d&&C.clearTimeout(d),c=void 0,p=r||"",T.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(s=function(e,t,n){var r,i,o,a,s=e.contents,u=e.dataTypes;while("*"===u[0])u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(y,T,n)),!i&&-1<S.inArray("script",y.dataTypes)&&S.inArray("json",y.dataTypes)<0&&(y.converters["text script"]=function(){}),s=function(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(y,s,T,i),i?(y.ifModified&&((u=T.getResponseHeader("Last-Modified"))&&(S.lastModified[f]=u),(u=T.getResponseHeader("etag"))&&(S.etag[f]=u)),204===e||"HEAD"===y.type?l="nocontent":304===e?l="notmodified":(l=s.state,o=s.data,i=!(a=s.error))):(a=l,!e&&l||(l="error",e<0&&(e=0))),T.status=e,T.statusText=(t||l)+"",i?x.resolveWith(v,[o,l,T]):x.rejectWith(v,[T,l,a]),T.statusCode(w),w=void 0,g&&m.trigger(i?"ajaxSuccess":"ajaxError",[T,y,i?o:a]),b.fireWith(v,[T,l]),g&&(m.trigger("ajaxComplete",[T,y]),--S.active||S.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return S.get(e,t,n,"json")},getScript:function(e,t){return S.get(e,void 0,t,"script")}}),S.each(["get","post"],function(e,i){S[i]=function(e,t,n,r){return m(t)&&(r=r||n,n=t,t=void 0),S.ajax(S.extend({url:e,type:i,dataType:r,data:t,success:n},S.isPlainObject(e)&&e))}}),S.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),S._evalUrl=function(e,t,n){return S.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){S.globalEval(e,t,n)}})},S.fn.extend({wrapAll:function(e){var t;return this[0]&&(m(e)&&(e=e.call(this[0])),t=S(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return m(n)?this.each(function(e){S(this).wrapInner(n.call(this,e))}):this.each(function(){var e=S(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=m(t);return this.each(function(e){S(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){S(this).replaceWith(this.childNodes)}),this}}),S.expr.pseudos.hidden=function(e){return!S.expr.pseudos.visible(e)},S.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new C.XMLHttpRequest}catch(e){}};var _t={0:200,1223:204},zt=S.ajaxSettings.xhr();v.cors=!!zt&&"withCredentials"in zt,v.ajax=zt=!!zt,S.ajaxTransport(function(i){var o,a;if(v.cors||zt&&!i.crossDomain)return{send:function(e,t){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)r.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=a=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?t(0,"error"):t(r.status,r.statusText):t(_t[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=o(),a=r.onerror=r.ontimeout=o("error"),void 0!==r.onabort?r.onabort=a:r.onreadystatechange=function(){4===r.readyState&&C.setTimeout(function(){o&&a()})},o=o("abort");try{r.send(i.hasContent&&i.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),S.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return S.globalEval(e),e}}}),S.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),S.ajaxTransport("script",function(n){var r,i;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){r=S("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(e){r.remove(),i=null,e&&t("error"===e.type?404:200,e.type)}),E.head.appendChild(r[0])},abort:function(){i&&i()}}});var Ut,Xt=[],Vt=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Xt.pop()||S.expando+"_"+Ct.guid++;return this[e]=!0,e}}),S.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,o,a=!1!==e.jsonp&&(Vt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Vt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=m(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Vt,"$1"+r):!1!==e.jsonp&&(e.url+=(Et.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||S.error(r+" was not called"),o[0]},e.dataTypes[0]="json",i=C[r],C[r]=function(){o=arguments},n.always(function(){void 0===i?S(C).removeProp(r):C[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,Xt.push(r)),o&&m(i)&&i(o[0]),o=i=void 0}),"script"}),v.createHTMLDocument=((Ut=E.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ut.childNodes.length),S.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(v.createHTMLDocument?((r=(t=E.implementation.createHTMLDocument("")).createElement("base")).href=E.location.href,t.head.appendChild(r)):t=E),o=!n&&[],(i=N.exec(e))?[t.createElement(i[1])]:(i=xe([e],t,o),o&&o.length&&S(o).remove(),S.merge([],i.childNodes)));var r,i,o},S.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return-1<s&&(r=yt(e.slice(s)),e=e.slice(0,s)),m(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<a.length&&S.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?S("<div>").append(S.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},S.expr.pseudos.animated=function(t){return S.grep(S.timers,function(e){return t===e.elem}).length},S.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l=S.css(e,"position"),c=S(e),f={};"static"===l&&(e.style.position="relative"),s=c.offset(),o=S.css(e,"top"),u=S.css(e,"left"),("absolute"===l||"fixed"===l)&&-1<(o+u).indexOf("auto")?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),m(t)&&(t=t.call(e,n,S.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):c.css(f)}},S.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){S.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===S.css(r,"position"))t=r.getBoundingClientRect();else{t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;while(e&&(e===n.body||e===n.documentElement)&&"static"===S.css(e,"position"))e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=S(e).offset()).top+=S.css(e,"borderTopWidth",!0),i.left+=S.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-S.css(r,"marginTop",!0),left:t.left-i.left-S.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&"static"===S.css(e,"position"))e=e.offsetParent;return e||re})}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var o="pageYOffset"===i;S.fn[t]=function(e){return B(this,function(e,t,n){var r;if(x(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n)return r?r[i]:e[t];r?r.scrollTo(o?r.pageXOffset:n,o?n:r.pageYOffset):e[t]=n},t,e,arguments.length)}}),S.each(["top","left"],function(e,n){S.cssHooks[n]=_e(v.pixelPosition,function(e,t){if(t)return t=Be(e,n),Pe.test(t)?S(e).position()[n]+"px":t})}),S.each({Height:"height",Width:"width"},function(a,s){S.each({padding:"inner"+a,content:s,"":"outer"+a},function(r,o){S.fn[o]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),i=r||(!0===e||!0===t?"margin":"border");return B(this,function(e,t,n){var r;return x(e)?0===o.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+a],r["scroll"+a],e.body["offset"+a],r["offset"+a],r["client"+a])):void 0===n?S.css(e,t,i):S.style(e,t,n,i)},s,n?e:void 0,n)}})}),S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){S.fn[t]=function(e){return this.on(t,e)}}),S.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){S.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}});var Gt=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;S.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),m(e))return r=s.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(s.call(arguments)))}).guid=e.guid=e.guid||S.guid++,i},S.holdReady=function(e){e?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=A,S.isFunction=m,S.isWindow=x,S.camelCase=X,S.type=w,S.now=Date.now,S.isNumeric=function(e){var t=S.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},S.trim=function(e){return null==e?"":(e+"").replace(Gt,"$1")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return S});var Yt=C.jQuery,Qt=C.$;return S.noConflict=function(e){return C.$===S&&(C.$=Qt),e&&C.jQuery===S&&(C.jQuery=Yt),S},"undefined"==typeof e&&(C.jQuery=C.$=S),S});

!function(e){"use strict";"function"==typeof define&&define.amd?define('jqueryui-amd/version',["jquery"],e):e(jQuery)}((function(e){"use strict";return e.ui=e.ui||{},e.ui.version="1.13.2"}));
/*!
 * jQuery UI Widget 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(t){"use strict";"function"==typeof define&&define.amd?define('jqueryui-amd/widget',["jquery","./version"],t):t(jQuery)}((function(t){"use strict";var e,i=0,s=Array.prototype.hasOwnProperty,n=Array.prototype.slice;return t.cleanData=(e=t.cleanData,function(i){var s,n,o;for(o=0;null!=(n=i[o]);o++)(s=t._data(n,"events"))&&s.remove&&t(n).triggerHandler("remove");e(i)}),t.widget=function(e,i,s){var n,o,a,r={},l=e.split(".")[0],u=l+"-"+(e=e.split(".")[1]);return s||(s=i,i=t.Widget),Array.isArray(s)&&(s=t.extend.apply(null,[{}].concat(s))),t.expr.pseudos[u.toLowerCase()]=function(e){return!!t.data(e,u)},t[l]=t[l]||{},n=t[l][e],o=t[l][e]=function(t,e){if(!this||!this._createWidget)return new o(t,e);arguments.length&&this._createWidget(t,e)},t.extend(o,n,{version:s.version,_proto:t.extend({},s),_childConstructors:[]}),(a=new i).options=t.widget.extend({},a.options),t.each(s,(function(t,e){r[t]="function"==typeof e?function(){function s(){return i.prototype[t].apply(this,arguments)}function n(e){return i.prototype[t].apply(this,e)}return function(){var t,i=this._super,o=this._superApply;return this._super=s,this._superApply=n,t=e.apply(this,arguments),this._super=i,this._superApply=o,t}}():e})),o.prototype=t.widget.extend(a,{widgetEventPrefix:n&&a.widgetEventPrefix||e},r,{constructor:o,namespace:l,widgetName:e,widgetFullName:u}),n?(t.each(n._childConstructors,(function(e,i){var s=i.prototype;t.widget(s.namespace+"."+s.widgetName,o,i._proto)})),delete n._childConstructors):i._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var i,o,a=n.call(arguments,1),r=0,l=a.length;r<l;r++)for(i in a[r])o=a[r][i],s.call(a[r],i)&&void 0!==o&&(t.isPlainObject(o)?e[i]=t.isPlainObject(e[i])?t.widget.extend({},e[i],o):t.widget.extend({},o):e[i]=o);return e},t.widget.bridge=function(e,i){var s=i.prototype.widgetFullName||e;t.fn[e]=function(o){var a="string"==typeof o,r=n.call(arguments,1),l=this;return a?this.length||"instance"!==o?this.each((function(){var i,n=t.data(this,s);return"instance"===o?(l=n,!1):n?"function"!=typeof n[o]||"_"===o.charAt(0)?t.error("no such method '"+o+"' for "+e+" widget instance"):(i=n[o].apply(n,r))!==n&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0:t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+o+"'")})):l=void 0:(r.length&&(o=t.widget.extend.apply(null,[o].concat(r))),this.each((function(){var e=t.data(this,s);e?(e.option(o||{}),e._init&&e._init()):t.data(this,s,new i(o,this))}))),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,s){s=t(s||this.defaultElement||this)[0],this.element=t(s),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},s!==this&&(t.data(s,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===s&&this.destroy()}}),this.document=t(s.style?s.ownerDocument:s.document||s),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,(function(t,i){e._removeClass(i,t)})),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var s,n,o,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(a={},s=e.split("."),e=s.shift(),s.length){for(n=a[e]=t.widget.extend({},this.options[e]),o=0;o<s.length-1;o++)n[s[o]]=n[s[o]]||{},n=n[s[o]];if(e=s.pop(),1===arguments.length)return void 0===n[e]?null:n[e];n[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];a[e]=i}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var i,s,n;for(i in e)n=this.classesElementLookup[i],e[i]!==this.options.classes[i]&&n&&n.length&&(s=t(n.get()),this._removeClass(n,i),s.addClass(this._classes({element:s,keys:i,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){var i=[],s=this;function n(){var i=[];e.element.each((function(e,n){t.map(s.classesElementLookup,(function(t){return t})).some((function(t){return t.is(n)}))||i.push(n)})),s._on(t(i),{remove:"_untrackClassesElement"})}function o(o,a){var r,l;for(l=0;l<o.length;l++)r=s.classesElementLookup[o[l]]||t(),e.add?(n(),r=t(t.uniqueSort(r.get().concat(e.element.get())))):r=t(r.not(e.element).get()),s.classesElementLookup[o[l]]=r,i.push(o[l]),a&&e.classes[o[l]]&&i.push(e.classes[o[l]])}return(e=t.extend({element:this.element,classes:this.options.classes||{}},e)).keys&&o(e.keys.match(/\S+/g)||[],!0),e.extra&&o(e.extra.match(/\S+/g)||[]),i.join(" ")},_untrackClassesElement:function(e){var i=this;t.each(i.classesElementLookup,(function(s,n){-1!==t.inArray(e.target,n)&&(i.classesElementLookup[s]=t(n.not(e.target).get()))})),this._off(t(e.target))},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,!1)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,!0)},_toggleClass:function(t,e,i,s){s="boolean"==typeof s?s:i;var n="string"==typeof t||null===t,o={extra:n?e:i,keys:n?t:e,element:n?this.element:t,add:s};return o.element.toggleClass(this._classes(o),s),this},_on:function(e,i,s){var n,o=this;"boolean"!=typeof e&&(s=i,i=e,e=!1),s?(i=n=t(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),t.each(s,(function(s,a){function r(){if(e||!0!==o.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof a?o[a]:a).apply(o,arguments)}"string"!=typeof a&&(r.guid=a.guid=a.guid||r.guid||t.guid++);var l=s.match(/^([\w:-]*)\s*(.*)$/),u=l[1]+o.eventNamespace,h=l[2];h?n.on(u,h,r):i.on(u,r)}))},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){var i=this;return setTimeout((function(){return("string"==typeof t?i[t]:t).apply(i,arguments)}),e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,i,s){var n,o,a=this.options[e];if(s=s||{},(i=t.Event(i)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(n in o)n in i||(i[n]=o[n]);return this.element.trigger(i,s),!("function"==typeof a&&!1===a.apply(this.element[0],[i].concat(s))||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},(function(e,i){t.Widget.prototype["_"+e]=function(s,n,o){var a;"string"==typeof n&&(n={effect:n});var r=n?!0===n||"number"==typeof n?i:n.effect||i:e;"number"==typeof(n=n||{})?n={duration:n}:!0===n&&(n={}),a=!t.isEmptyObject(n),n.complete=o,n.delay&&s.delay(n.delay),a&&t.effects&&t.effects.effect[r]?s[e](n):r!==e&&s[r]?s[r](n.duration,n.easing,o):s.queue((function(i){t(this)[e](),o&&o.call(s[0]),i()}))}})),t.widget}));
/*!
 * jQuery UI Unique ID 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(i){"use strict";"function"==typeof define&&define.amd?define('jqueryui-amd/unique-id',["jquery","./version"],i):i(jQuery)}((function(i){"use strict";return i.fn.extend({uniqueId:(e=0,function(){return this.each((function(){this.id||(this.id="ui-id-"+ ++e)}))}),removeUniqueId:function(){return this.each((function(){/^ui-id-\d+$/.test(this.id)&&i(this).removeAttr("id")}))}});var e}));
/*!
 * jQuery UI Keycode 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(e){"use strict";"function"==typeof define&&define.amd?define('jqueryui-amd/keycode',["jquery","./version"],e):e(jQuery)}((function(e){"use strict";return e.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}));
/*!
 * jQuery UI Focusable 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(e){"use strict";"function"==typeof define&&define.amd?define('jqueryui-amd/focusable',["jquery","./version"],e):e(jQuery)}((function(e){"use strict";return e.ui.focusable=function(i,t){var n,s,r,u,a,o=i.nodeName.toLowerCase();return"area"===o?(s=(n=i.parentNode).name,!(!i.href||!s||"map"!==n.nodeName.toLowerCase())&&((r=e("img[usemap='#"+s+"']")).length>0&&r.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(o)?(u=!i.disabled)&&(a=e(i).closest("fieldset")[0])&&(u=!a.disabled):u="a"===o&&i.href||t,u&&e(i).is(":visible")&&function(e){var i=e.css("visibility");for(;"inherit"===i;)i=(e=e.parent()).css("visibility");return"visible"===i}(e(i)))},e.extend(e.expr.pseudos,{focusable:function(i){return e.ui.focusable(i,null!=e.attr(i,"tabindex"))}}),e.ui.focusable}));
/*!
 * jQuery UI Tabbable 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(e){"use strict";"function"==typeof define&&define.amd?define('jqueryui-amd/tabbable',["jquery","./version","./focusable"],e):e(jQuery)}((function(e){"use strict";return e.extend(e.expr.pseudos,{tabbable:function(n){var t=e.attr(n,"tabindex"),u=null!=t;return(!u||t>=0)&&e.ui.focusable(n,u)}})}));
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 *
 * This is a fork of the i18n Require.js plugin.
 * It makes minor chnages to the way the default locale is determined and to the way bundles are merged
 *
 * @license RequireJS i18n 2.0.2 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/i18n for details
 */
!function(){"use strict";var e=/(^.*(^|\/)nls(\/|$))([^/]*)\/?([^/]*)/;function n(e,n,o,a,r,t,l){if(n[e]||(e=e.replace(/^zh-(Hans|Hant)-([^-]+)$/,"zh-$2")),n[e]){if(o.push(e),!0===n[e]||1===n[e]){var u=l?l+e:e;a.push(r+u+"/"+t)}return!0}return!1}function o(e){return"object"==typeof e}function a(e,n){for(var r=Object.keys(n),t=0;t<r.length;t++){var l=r[t];null==e[l]?e[l]=n[l]:o(n[l])&&o(e[l])&&a(e[l],n[l])}}define('ojL10n',["module"],function(o){var r=o.config?o.config():{};return{version:"2.0.1+",load:function(o,t,l,u){var c;(u=u||{}).locale&&(r.locale=u.locale);var i,f,s,v,g,h,p,d,y,m,L,O=e.exec(o),_=O[1],b=O[5],j=[],H={},k="";O[5]?(c=(_=O[1])+b,i=O[4]):(c=o,b=O[4],i=r.locale,"undefined"!=typeof document?(i||(i=u.isBuild?"root":document.documentElement.lang)||(i=void 0===navigator?"root":navigator.systemLanguage||navigator.language||navigator.userLanguage||"root"),r.locale=i):i="root"),f=function(e){var n,o=e.toLowerCase().split(/-|_/),a=[o[0]],r=1;for(n=1;n<o.length;n++){var t=o[n],l=t.length;if(1===l)break;switch(r){case 1:if(r=2,4===l){a.push(t.charAt(0).toUpperCase()+t.slice(1));break}case 2:r=3,a.push(t.toUpperCase());break;default:a.push(t)}}return function(e){if(!("zh"!==e[0]||e.length>1&&4===e[1].length)){var n="Hans",o=e.length>1?e[1]:null;"TW"!==o&&"MO"!==o&&"HK"!==o||(n="Hant"),e.splice(1,0,n)}}(a),a}(i),v=r.noOverlay,g=r.defaultNoOverlayLocale;var x=r.localePrefix;for((y=r.merge)&&(h=y[_+b])&&(O=e.exec(h),p=O[1],d=O[4]),m=[],s=0;s<f.length;s++)k+=(k?"-":"")+f[s],m.push(k);u.isBuild?(j.push(c),h&&j.push(h),t(j,function(){l()})):("query"===r.includeLocale&&(c=t.toUrl(c+".js"),c+=(-1===c.indexOf("?")?"?":"&")+"loc="+i),L=[c],h&&L.push(h),t(L,function(e,o){var r=[],u=function(e,o,a){for(var t=v||!0===e.__noOverlay,l=g||e.__defaultNoOverlayLocale,u=!1,c=m.length-1;c>=0&&(!u||!t);c--)u=n(m[c],e,r,j,o,a,x);var i=1===m.length&&"root"===m[0];t&&(i||!u)&&l&&n(l,e,r,j,o,a,x),i||n("root",e,r,j,o,a,x)};u(e,_,b);var c=r.length;o&&u(o,p,d),t(j,function(){var n=function(e,n,o,l,u){for(var c=n;c<o&&r[c];c++){var i=r[c],f=x?x+i:i,s=e[i];!0!==s&&1!==s||(s=t(l+f+"/"+u)),a(H,s||{})}};n(o,c,r.length,p,d),n(e,0,c,_,b),H._ojLocale_=f.join("-"),l(H)})}))}}})}();
define('ojtranslations/nls/ojtranslations',{root:{"oj-message":{fatal:"Fatal",error:"Error",warning:"Warning",info:"Info",confirmation:"Confirmation","compact-type-summary":"{0}: {1}"},"oj-converter":{summary:"Value is not in the expected format.",detail:"Enter a value in the expected format.","plural-separator":", ",hint:{summary:"Example: {exampleValue}",detail:"Try again using a format like this: '{exampleValue}'.","detail-plural":"Enter a value in these formats: '{exampleValue}'."},optionHint:{detail:"An accepted value for option '{propertyName}' is '{propertyValueValid}'.","detail-plural":"Accepted values for option '{propertyName}' are '{propertyValueValid}'."},optionTypesMismatch:{summary:"A value for the option '{requiredPropertyName}' is required when the option '{propertyName}' is set to '{propertyValue}'."},optionTypeInvalid:{summary:"A value of the expected type was not provided for option '{propertyName}'."},optionOutOfRange:{summary:"Value {propertyValue} is out of range for the option '{propertyName}'."},optionValueInvalid:{summary:"An invalid value '{propertyValue}' was specified for the option '{propertyName}'."},number:{decimalFormatMismatch:{summary:"The provided value is not in the expected number format."},shortLongUnsupportedParse:{summary:"'short' and 'long' are not supported for converter parsing.",detail:"Change component to readonly. readonly fields do not call the converter's parse function."},currencyFormatMismatch:{summary:"The provided value is not in the expected currency format."},percentFormatMismatch:{summary:"The provided value is not in the expected percent format."},invalidNumberFormat:{summary:"The provided value is not a valid number.",detail:"Please provide valid number."}},color:{invalidFormat:{summary:"Invalid color format.",detail:"Invalid color format option specification."},invalidSyntax:{summary:"Invalid color specification.",detail:"Enter a color value that conforms to the CSS3 standard."}},datetime:{datetimeOutOfRange:{summary:"Value '{value}' is out of range for the '{propertyName}'.",detail:"Enter a value between '{minValue}' and '{maxValue}'.",hour:"hour",minute:"minute",second:"second",millisec:"millisec",month:"month",day:"day",year:"year","month name":"month name",weekday:"weekday"},dateFormatMismatch:{summary:"The provided value is not in the expected date format."},invalidTimeZoneID:{summary:"Invalid timezone id {timeZoneID} provided."},nonExistingTime:{summary:"The input time does not exist because it falls during the transition to daylight saving time."},missingTimeZoneData:{summary:"TimeZone data is missing. Please call require 'ojs/ojtimezonedata' in order to load the TimeZone data."},timeFormatMismatch:{summary:"The provided value is not in the expected time format."},datetimeFormatMismatch:{summary:"The provided value is not in the expected date and time format."},dateToWeekdayMismatch:{summary:"Day '{date}' does not fall on a '{weekday}'.",detail:"Enter a weekday that corresponds with the date."},invalidISOString:{invalidRangeSummary:"The value '{value}' is out of range for the '{propertyName}' field in the ISO 8601 string '{isoStr}'.",summary:"The provided '{isoStr}' is not a valid ISO 8601 string.",detail:"Please provide valid ISO 8601 string."}}},"oj-validator":{length:{hint:{min:"Enter {min} or more characters.",max:"Enter {max} or fewer characters.",inRange:"Enter {min} to {max} characters.",exact:"Enter {length} characters."},messageDetail:{tooShort:"Enter {min} or more characters.",tooLong:"Enter no more than {max} characters."},messageSummary:{tooShort:"There are too few characters.",tooLong:"There are too many characters."}},range:{number:{hint:{min:"Enter a number greater than or equal to {min}.",max:"Enter a number less than or equal to {max}.",inRange:"Enter a number between {min} and {max}.",exact:"Enter the number {num}."},messageDetail:{rangeUnderflow:"Enter {min} or a higher number.",rangeOverflow:"Enter {max} or a lower number.",exact:"Enter the number {num}."},messageSummary:{rangeUnderflow:"The number is too low.",rangeOverflow:"The number is too high."}},datetime:{hint:{min:"Enter a date and time on or after {min}.",max:"Enter a date and time on or before {max}.",inRange:"Enter a date and time between {min} and {max}."},messageDetail:{rangeUnderflow:"Enter a date on or after {min}.",rangeOverflow:"Enter a date on or before {max}."},messageSummary:{rangeUnderflow:"Date and time is earlier than the minimum date and time.",rangeOverflow:"Date and time is later than the maximum date and time."}},date:{hint:{min:"Enter a date on or after {min}.",max:"Enter a date on or before {max}.",inRange:"Enter a date between {min} and {max}."},messageDetail:{rangeUnderflow:"Enter a date on or after {min}.",rangeOverflow:"Enter a date on or before {max}."},messageSummary:{rangeUnderflow:"Date is earlier than the minimum date.",rangeOverflow:"Date is later than the maximum date."}},time:{hint:{min:"Enter a time on or after {min}.",max:"Enter a time on or before {max}.",inRange:"Enter a time between {min} and {max}."},messageDetail:{rangeUnderflow:"Enter a time at or after {min}.",rangeOverflow:"Enter a time at or before {max}."},messageSummary:{rangeUnderflow:"Time is earlier than the minimum time.",rangeOverflow:"Time is later than the maximum time."}}},restriction:{date:{messageSummary:"Date {value} is of a disabled entry.",messageDetail:"The date you selected isn't available. Try another date."}},regExp:{summary:"Format is incorrect.",detail:"Enter allowable values described in this regular expression: '{pattern}'."},required:{summary:"Value is required.",detail:"Enter a value."}},"oj-ojEditableValue":{loading:"Loading",requiredText:"Required",helpSourceText:"Learn more..."},"oj-ojInputDate":{done:"Done",cancel:"Cancel",time:"Time",accessibleClearIconAltText:"Clear input",prevText:"Previous",nextText:"Next",currentText:"Today",weekHeader:"Wk",tooltipCalendar:"Select Date.",tooltipCalendarTime:"Select Date Time.",tooltipCalendarDisabled:"Select Date Disabled.",tooltipCalendarTimeDisabled:"Select Date Time Disabled.",picker:"Picker",weekText:"Week",datePicker:"Date Picker",inputHelp:"Press Key down or Key up for access to Calendar.",inputHelpBoth:"Press Key down or Key up for access to Calendar and Shift + Key down or Shift Key up for access to time drop down.",dateTimeRange:{hint:{min:"",max:"",inRange:""},messageDetail:{rangeUnderflow:"",rangeOverflow:""},messageSummary:{rangeUnderflow:"",rangeOverflow:""}},dateRestriction:{hint:"",messageSummary:"",messageDetail:""}},"oj-ojInputTime":{accessibleClearIconAltText:"Clear input",cancelText:"Cancel",okText:"OK",currentTimeText:"Now",hourWheelLabel:"Hour",minuteWheelLabel:"Minute",ampmWheelLabel:"AMPM",tooltipTime:"Select Time.",tooltipTimeDisabled:"Select Time Disabled.",inputHelp:"Press Key down or Key up for access to time drop down.",dateTimeRange:{hint:{min:"",max:"",inRange:""},messageDetail:{rangeUnderflow:"",rangeOverflow:""},messageSummary:{rangeUnderflow:"",rangeOverflow:""}}},"oj-inputBase":{required:{hint:"",messageSummary:"",messageDetail:""},regexp:{messageSummary:"",messageDetail:""},accessibleMaxLengthExceeded:"Maximum length {len} exceeded.",accessibleMaxLengthRemaining:"{chars} characters left."},"oj-ojInputText":{accessibleClearIcon:"Clear"},"oj-ojInputPassword":{regexp:{messageDetail:"Value must match this pattern: '{pattern}'."},accessibleShowPassword:"Show password.",accessibleHidePassword:"Hide password."},"oj-ojFilmStrip":{labelAccFilmStrip:"Displaying page {pageIndex} of {pageCount}",labelAccArrowNextPage:"Select Next to display next page",labelAccArrowPreviousPage:"Select Previous to display previous page",tipArrowNextPage:"Next",tipArrowPreviousPage:"Previous"},"oj-ojDataGrid":{accessibleSortAscending:"{id} sorted in ascending order",accessibleSortDescending:"{id} sorted in descending order",accessibleSortable:"{id} sortable",accessibleActionableMode:"Enter actionable mode.",accessibleNavigationMode:"Enter navigation mode, press F2 to enter edit or actionable mode.",accessibleEditableMode:"Enter editable mode, press escape to navigate outside the data grid.",accessibleSummaryExact:"This is a data grid with {rownum} rows and {colnum} columns",accessibleSummaryEstimate:"This is a data grid with unknown number of rows and columns",accessibleSummaryExpanded:"There are currently {num} rows expanded",accessibleRowExpanded:"Row expanded",accessibleExpanded:"Expanded",accessibleRowCollapsed:"Row collapsed",accessibleCollapsed:"Collapsed",accessibleRowSelected:"Row {row} selected",accessibleColumnSelected:"Column {column} selected",accessibleStateSelected:"selected",accessibleMultiCellSelected:"{num} cells selected",accessibleColumnSpanContext:"{extent} wide",accessibleRowSpanContext:"{extent} high",accessibleRowContext:"Row {index}",accessibleColumnContext:"Column {index}",accessibleRowHeaderContext:"Row Header {index}",accessibleColumnHeaderContext:"Column Header {index}",accessibleRowEndHeaderContext:"Row End Header {index}",accessibleColumnEndHeaderContext:"Column End Header {index}",accessibleRowHeaderLabelContext:"Row Header Label {level}",accessibleColumnHeaderLabelContext:"Column Header Label {level}",accessibleRowEndHeaderLabelContext:"Row End Header Label {level}",accessibleColumnEndHeaderLabelContext:"Column End Header Label {level}",accessibleLevelContext:"Level {level}",accessibleRangeSelectModeOn:"Add selected range of cells mode on.",accessibleRangeSelectModeOff:"Add selected range of cells mode off.",accessibleFirstRow:"You have reached the first row.",accessibleLastRow:"You have reached the last row.",accessibleFirstColumn:"You have reached the first column",accessibleLastColumn:"You have reached the last column.",accessibleSelectionAffordanceTop:"Top selection handle.",accessibleSelectionAffordanceBottom:"Bottom selection handle.",accessibleLevelHierarchicalContext:"Level {level}",accessibleRowHierarchicalFull:"Row {posInSet} of {setSize} rows",accessibleRowHierarchicalPartial:"Row {posInSet} of at least {setSize} rows",accessibleRowHierarchicalUnknown:"At least row {posInSet} of at least {setSize} rows",accessibleColumnHierarchicalFull:"Column {posInSet} of {setSize} columns",accessibleColumnHierarchicalPartial:"Column {posInSet} of at least {setSize} columns",accessibleColumnHierarchicalUnknown:"At least column {posInSet} of at least {setSize} columns",msgFetchingData:"Fetching Data...",msgNoData:"No items to display.",labelHideColumns:"Hide Columns",labelUnhideColumns:"Unhide Columns",labelResize:"Resize",labelResizeWidth:"Resize Width",labelResizeHeight:"Resize Height",labelSortAsc:"Sort Ascending",labelSortDsc:"Sort Descending",labelSortRow:"Sort Row",labelSortRowAsc:"Sort Row Ascending",labelSortRowDsc:"Sort Row Descending",labelSortCol:"Sort Column",labelSortColAsc:"Sort Column Ascending",labelSortColDsc:"Sort Column Descending",labelCut:"Cut",labelPaste:"Paste",labelCutCells:"Cut",labelPasteCells:"Paste",labelCopyCells:"Copy",labelAutoFill:"Autofill",labelEnableNonContiguous:"Enable Non-Contiguous Selection",labelDisableNonContiguous:"Disable Non-Contiguous Selection",labelResizeDialogSubmit:"OK",labelResizeDialogCancel:"Cancel",accessibleContainsControls:"Contains Controls",labelSelectMultiple:"Select Multiple",labelResizeDialogApply:"Apply",labelResizeFitToContent:"Resize to Fit",columnWidth:"Width in Pixels",rowHeight:"Height in Pixels",labelResizeColumn:"Resize Column",labelResizeRow:"Resize Row",resizeColumnDialog:"Resize column",resizeRowDialog:"Resize row",labelFreezeRow:"Freeze Rows",labelFreezeCol:"Freeze Columns",labelUnfreezeRow:"Unfreeze Rows",labelUnfreezeCol:"Unfreeze Columns",collapsedText:"Collapse",expandedText:"Expand",tooltipRequired:"Required"},"oj-ojRowExpander":{accessibleLevelDescription:"Level {level}",accessibleRowDescription:"Level {level}, Row {num} of {total}",accessibleRowExpanded:"Row expanded",accessibleRowCollapsed:"Row collapsed",accessibleStateExpanded:"expanded",accessibleStateCollapsed:"collapsed"},"oj-ojStreamList":{msgFetchingData:"Fetching Data..."},"oj-ojListView":{msgFetchingData:"Fetching Data...",msgNoData:"No items to display.",msgItemsAppended:"{count} items appended to the end.",msgFetchCompleted:"All items are fetched.",indexerCharacters:"A|B|C|D|E|F|G|H|I|J|K|L|M|N|O|P|Q|R|S|T|U|V|W|X|Y|Z",accessibleExpandCollapseInstructionText:"Use arrow keys to expand and collapse.",accessibleGroupExpand:"Expanded",accessibleGroupCollapse:"Collapsed",accessibleReorderTouchInstructionText:"Double tap and hold.  Wait for the sound then drag to rearrange.",accessibleReorderBeforeItem:"Before {item}",accessibleReorderAfterItem:"After {item}",accessibleReorderInsideItem:"Into {item}",accessibleNavigateSkipItems:"Skipping {numSkip} items",accessibleSuggestion:"Suggestion",labelCut:"Cut",labelCopy:"Copy",labelPaste:"Paste",labelPasteBefore:"Paste Before",labelPasteAfter:"Paste After"},"oj-ojWaterfallLayout":{msgFetchingData:"Fetching Data..."},"oj-_ojLabel":{tooltipHelp:"Help",tooltipRequired:"Required"},"oj-ojLabel":{tooltipHelp:"Help",tooltipRequired:"Required"},"oj-ojInputNumber":{required:{hint:"",messageSummary:"",messageDetail:""},numberRange:{hint:{min:"",max:"",inRange:"",exact:""},messageDetail:{rangeUnderflow:"",rangeOverflow:"",exact:""},messageSummary:{rangeUnderflow:"",rangeOverflow:""}},tooltipDecrement:"Decrement",tooltipIncrement:"Increment"},"oj-ojTable":{accessibleAddRow:"Enter data to add a new row.",accessibleColumnContext:"Column {index}",accessibleColumnFooterContext:"Column Footer {index}",accessibleColumnHeaderContext:"Column Header {index}",accessibleContainsControls:"Contains Controls",accessibleColumnsSpan:"Spans {count} Columns",accessibleEditableSummary:"Press F2 to focus read only controls or enter to begin editing",accessibleRowContext:"Row {index}",accessibleSortable:"{id} sortable",accessibleSortAscending:"{id} sorted in ascending order",accessibleSortDescending:"{id} sorted in descending order",accessibleStateSelected:"selected",accessibleStateUnselected:"unselected",accessibleSummaryEstimate:"Table with {colnum} columns and more than {rownum} rows",accessibleSummaryExact:"Table with {colnum} columns and {rownum} rows",labelAccSelectionAffordanceTop:"Top selection handle",labelAccSelectionAffordanceBottom:"Bottom selection handle",labelEnableNonContiguousSelection:"Enable Non-Contiguous Selection",labelDisableNonContiguousSelection:"Disable Non-Contiguous Selection",labelResize:"Resize",labelResizeColumn:"Resize Column",labelResizePopupSubmit:"OK",labelResizePopupCancel:"Cancel",labelResizePopupSpinner:"Resize Column",labelResizeColumnDialog:"Resize column",labelColumnWidth:"Width in Pixels",labelResizeDialogApply:"Apply",labelSelectRow:"Select Row",labelSelectAllRows:"Select All Rows",labelEditRow:"Edit Row",labelSelectAndEditRow:"Select And Edit Row",labelSelectColumn:"Select Column",labelSort:"Sort",labelSortAsc:"Sort Ascending",labelSortDsc:"Sort Descending",msgFetchingData:"Fetching Data...",msgNoData:"No data to display.",msgInitializing:"Initializing...",msgColumnResizeWidthValidation:"Width value must be an integer.",msgScrollPolicyMaxCountSummary:"Exceeded maximum rows for table scrolling.",msgScrollPolicyMaxCountDetail:"Please reload with smaller data set.",msgStatusSortAscending:"{0} sorted in ascending order.",msgStatusSortDescending:"{0} sorted in descending order.",tooltipRequired:"Required"},"oj-ojTabs":{labelCut:"Cut",labelPasteBefore:"Paste Before",labelPasteAfter:"Paste After",labelRemove:"Remove",labelReorder:"Reorder",removeCueText:"Removable"},"oj-ojCheckboxset":{readonlyNoValue:"",required:{hint:"",messageSummary:"",messageDetail:"Select a value."}},"oj-ojRadioset":{readonlyNoValue:"",required:{hint:"",messageSummary:"",messageDetail:"Select a value."}},"oj-ojSelect":{required:{hint:"",messageSummary:"",messageDetail:"Select a value."},searchField:"Search field",noMatchesFound:"No matches found",noMoreResults:"No more results",oneMatchesFound:"One match found",moreMatchesFound:"{num} matches found",filterFurther:"More results available, please filter further."},"oj-ojSwitch":{SwitchON:"On",SwitchOFF:"Off"},"oj-ojCombobox":{required:{hint:"",messageSummary:"",messageDetail:""},noMatchesFound:"No matches found",noMoreResults:"No more results",oneMatchesFound:"One match found",moreMatchesFound:"{num} matches found",filterFurther:"More results available, please filter further."},"oj-ojSelectSingle":{required:{hint:"",messageSummary:"",messageDetail:"Select a value."},noMatchesFound:"No matches found",oneMatchFound:"One match found",multipleMatchesFound:"{num} matches found",nOrMoreMatchesFound:"{num} or more matches found",cancel:"Cancel",labelAccOpenDropdown:"expand",labelAccClearValue:"clear value",noResultsLine1:"No results found",noResultsLine2:"We can't find anything matching your search."},"oj-ojInputSearch2":{cancel:"Cancel",noSuggestionsFound:"No suggestions found"},"oj-ojInputSearch":{required:{hint:"",messageSummary:"",messageDetail:""},noMatchesFound:"No matches found",oneMatchesFound:"One match found",moreMatchesFound:"{num} matches found"},"oj-ojTreeView":{treeViewSelectorAria:"TreeView Selector {rowKey}",retrievingDataAria:"Retrieving data for node: {nodeText}",receivedDataAria:"Received data for node: {nodeText}"},"oj-ojTree":{stateLoading:"Loading...",labelNewNode:"New Node",labelMultiSelection:"Multiple Selection",labelEdit:"Edit",labelCreate:"Create",labelCut:"Cut",labelCopy:"Copy",labelPaste:"Paste",labelPasteAfter:"Paste After",labelPasteBefore:"Paste Before",labelRemove:"Remove",labelRename:"Rename",labelNoData:"No data"},"oj-ojPagingControl":{labelAccPaging:"Pagination",labelAccPageNumber:"Page {pageNum} content loaded",labelAccNavFirstPage:"First Page",labelAccNavLastPage:"Last Page",labelAccNavNextPage:"Next Page",labelAccNavPreviousPage:"Previous Page",labelAccNavPage:"Page",labelLoadMore:"Show More...",labelLoadMoreMaxRows:"Reached Maximum Limit of {maxRows} rows",labelNavInputPage:"Page",labelNavInputPageMax:"of {pageMax}",fullMsgItemRange:"{pageFrom}-{pageTo} of {pageMax} items",fullMsgItemRangeAtLeast:"{pageFrom}-{pageTo} of at least {pageMax} items",fullMsgItemRangeApprox:"{pageFrom}-{pageTo} of approx {pageMax} items",msgItemRangeNoTotal:"{pageFrom}-{pageTo} items",fullMsgItem:"{pageTo} of {pageMax} items",fullMsgItemAtLeast:"{pageTo} of at least {pageMax} items",fullMsgItemApprox:"{pageTo} of approx {pageMax} items",msgItemNoTotal:"{pageTo} items",msgItemRangeCurrent:"{pageFrom}-{pageTo}",msgItemRangeCurrentSingle:"{pageFrom}",msgItemRangeOf:"of",msgItemRangeOfAtLeast:"of at least",msgItemRangeOfApprox:"of approx.",msgItemRangeItems:"items",tipNavInputPage:"Go To Page",tipNavPageLink:"Go To Page {pageNum}",tipNavNextPage:"Next",tipNavPreviousPage:"Previous",tipNavFirstPage:"First",tipNavLastPage:"Last",pageInvalid:{summary:"The page value entered is invalid.",detail:"Please enter a value greater than 0."},maxPageLinksInvalid:{summary:"Value for maxPageLinks is invalid.",detail:"Please enter a value greater than 4."}},"oj-ojMasonryLayout":{labelCut:"Cut",labelPasteBefore:"Paste Before",labelPasteAfter:"Paste After"},"oj-panel":{labelAccButtonExpand:"Expand",labelAccButtonCollapse:"Collapse",labelAccButtonRemove:"Remove",labelAccFlipForward:"Flip forward",labelAccFlipBack:"Flip back",tipDragToReorder:"Drag to reorder",labelAccDragToReorder:"Drag to reorder, context menu available"},"oj-ojChart":{labelDefaultGroupName:"Group {0}",labelSeries:"Series",labelGroup:"Group",labelDate:"Date",labelValue:"Value",labelTargetValue:"Target",labelX:"X",labelY:"Y",labelZ:"Z",labelPercentage:"Percentage",labelLow:"Low",labelHigh:"High",labelOpen:"Open",labelClose:"Close",labelVolume:"Volume",labelQ1:"Q1",labelQ2:"Q2",labelQ3:"Q3",labelMin:"Min",labelMax:"Max",labelOther:"Other",tooltipPan:"Pan",tooltipSelect:"Marquee select",tooltipZoom:"Marquee zoom",componentName:"Chart"},"oj-dvtBaseGauge":{componentName:"Gauge"},"oj-ojDiagram":{promotedLink:"{0} link",promotedLinks:"{0} links",promotedLinkAriaDesc:"Indirect",componentName:"Diagram"},"oj-ojGantt":{componentName:"Gantt",accessibleDurationDays:"{0} days",accessibleDurationHours:"{0} hours",accessibleTaskInfo:"Start time is {0}, end time is {1}, duration is {2}",accessibleMilestoneInfo:"Time is {0}",accessibleRowInfo:"Row {0}",accessibleTaskTypeMilestone:"Milestone",accessibleTaskTypeSummary:"Summary",accessiblePredecessorInfo:"{0} predecessors",accessibleSuccessorInfo:"{0} successors",accessibleDependencyInfo:"Dependency type {0}, connects {1} to {2}",startStartDependencyAriaDesc:"start to start",startFinishDependencyAriaDesc:"start to finish",finishStartDependencyAriaDesc:"finish to start",finishFinishDependencyAriaDesc:"finish to finish",tooltipZoomIn:"Zoom In",tooltipZoomOut:"Zoom Out",labelLevel:"Level",labelRow:"Row",labelStart:"Start",labelEnd:"End",labelDate:"Date",labelBaselineStart:"Baseline Start",labelBaselineEnd:"Baseline End",labelBaselineDate:"Baseline Date",labelDowntimeStart:"Downtime Start",labelDowntimeEnd:"Downtime End",labelOvertimeStart:"Overtime Start",labelOvertimeEnd:"Overtime End",labelAttribute:"Attribute",labelLabel:"Label",labelProgress:"Progress",labelMoveBy:"Move By",labelResizeBy:"Resize By",taskMoveInitiated:"Task move initiated",taskResizeEndInitiated:"Task resize end initiated",taskResizeStartInitiated:"Task resize start initiated",taskMoveSelectionInfo:"{0} others selected",taskResizeSelectionInfo:"{0} others selected",taskMoveInitiatedInstruction:"Use the arrow keys to move",taskResizeInitiatedInstruction:"Use the arrow keys to resize",taskMoveFinalized:"Task move finalized",taskResizeFinalized:"Task resize finalized",taskMoveCancelled:"Task move cancelled",taskResizeCancelled:"Task resize cancelled",taskResizeStartHandle:"Task resize start handle",taskResizeEndHandle:"Task resize end handle"},"oj-ojLegend":{componentName:"Legend",tooltipExpand:"Expand",tooltipCollapse:"Collapse",labelInvalidData:"Invalid data",labelNoData:"No data to display",labelClearSelection:"Clear Selection",stateSelected:"Selected",stateUnselected:"Unselected",stateMaximized:"Maximized",stateMinimized:"Minimized",stateIsolated:"Isolated",labelCountWithTotal:"{0} of {1}",accessibleContainsControls:"Contains Controls"},"oj-ojNBox":{highlightedCount:"{0}/{1}",labelOther:"Other",labelGroup:"Group",labelSize:"Size",labelAdditionalData:"Additional Data",componentName:"{0} Box"},"oj-ojPictoChart":{componentName:"Picture Chart"},"oj-ojSparkChart":{componentName:"Chart"},"oj-ojSunburst":{labelColor:"Color",labelSize:"Size",tooltipExpand:"Expand",tooltipCollapse:"Collapse",componentName:"Sunburst"},"oj-ojTagCloud":{componentName:"Tag Cloud",accessibleContainsControls:"Contains Controls",labelCountWithTotal:"{0} of {1}",labelInvalidData:"Invalid data",stateCollapsed:"Collapsed",stateDrillable:"Drillable",stateExpanded:"Expanded",stateIsolated:"Isolated",stateHidden:"Hidden",stateMaximized:"Maximized",stateMinimized:"Minimized",stateVisible:"Visible"},"oj-ojThematicMap":{componentName:"Thematic Map",areasRegion:"Areas",linksRegion:"Links",markersRegion:"Markers"},"oj-ojTimeAxis":{componentName:"Time Axis"},"oj-ojTimeline":{componentName:"Timeline",stateMinimized:"Minimized",stateMaximized:"Maximized",stateIsolated:"Isolated",stateHidden:"Hidden",stateExpanded:"Expanded",stateVisible:"Visible",stateDrillable:"Drillable",stateCollapsed:"Collapsed",labelCountWithTotal:"{0} of {1}",accessibleItemDesc:"Description is {0}.",accessibleItemEnd:"End time is {0}.",accessibleItemStart:"Start time is {0}.",accessibleItemTitle:"Title is {0}.",labelSeries:"Series",tooltipZoomIn:"Zoom In",tooltipZoomOut:"Zoom Out",labelStart:"Start",labelEnd:"End",labelAccNavNextPage:"Next Page",labelAccNavPreviousPage:"Previous Page",tipArrowNextPage:"Next",tipArrowPreviousPage:"Previous",navArrowDisabledState:"Disabled",labelDate:"Date",labelTitle:"Title",labelDescription:"Description",labelMoveBy:"Move By",labelResizeBy:"Resize By",itemMoveInitiated:"Event move initiated",itemResizeEndInitiated:"Event resize end initiated",itemResizeStartInitiated:"Event resize start initiated",itemMoveSelectionInfo:"{0} others selected",itemResizeSelectionInfo:"{0} others selected",itemMoveInitiatedInstruction:"Use the arrow keys to move",itemResizeInitiatedInstruction:"Use the arrow keys to resize",itemMoveFinalized:"Event move finalized",itemResizeFinalized:"Event resize finalized",itemMoveCancelled:"Event move cancelled",itemResizeCancelled:"Event resize cancelled",itemResizeStartHandle:"Event resize start handle",itemResizeEndHandle:"Event resize end handle"},"oj-ojTreemap":{labelColor:"Color",labelSize:"Size",tooltipIsolate:"Isolate",tooltipRestore:"Restore",componentName:"Treemap"},"oj-dvtBaseComponent":{labelScalingSuffixThousand:"K",labelScalingSuffixMillion:"M",labelScalingSuffixBillion:"B",labelScalingSuffixTrillion:"T",labelScalingSuffixQuadrillion:"Q",labelInvalidData:"Invalid data",labelNoData:"No data to display",labelClearSelection:"Clear Selection",labelDataVisualization:"Data Visualization",stateSelected:"Selected",stateUnselected:"Unselected",stateMaximized:"Maximized",stateMinimized:"Minimized",stateExpanded:"Expanded",stateCollapsed:"Collapsed",stateIsolated:"Isolated",stateHidden:"Hidden",stateVisible:"Visible",stateDrillable:"Drillable",labelAndValue:"{0}: {1}",labelCountWithTotal:"{0} of {1}",accessibleContainsControls:"Contains Controls"},"oj-ojRatingGauge":{labelClearSelection:"Clear Selection",stateSelected:"Selected",stateUnselected:"Unselected",stateMaximized:"Maximized",stateMinimized:"Minimized",stateExpanded:"Expanded",stateCollapsed:"Collapsed",stateIsolated:"Isolated",stateHidden:"Hidden",stateVisible:"Visible",stateDrillable:"Drillable",labelCountWithTotal:"{0} of {1}",accessibleContainsControls:"Contains Controls"},"oj-ojStatusMeterGauge":{labelClearSelection:"Clear Selection",stateSelected:"Selected",stateUnselected:"Unselected",stateMaximized:"Maximized",stateMinimized:"Minimized",stateExpanded:"Expanded",stateCollapsed:"Collapsed",stateIsolated:"Isolated",stateHidden:"Hidden",stateVisible:"Visible",stateDrillable:"Drillable",labelCountWithTotal:"{0} of {1}",accessibleContainsControls:"Contains Controls"},"oj-ojNavigationList":{defaultRootLabel:"Navigation List",hierMenuBtnLabel:"Hierarchical Menu button",selectedLabel:"selected",previousIcon:"Previous",msgFetchingData:"Fetching Data...",msgNoData:"No items to display.",overflowItemLabel:"More",accessibleReorderTouchInstructionText:"Double tap and hold.  Wait for the sound then drag to rearrange.",accessibleReorderBeforeItem:"Before {item}",accessibleReorderAfterItem:"After {item}",labelCut:"Cut",labelPasteBefore:"Paste Before",labelPasteAfter:"Paste After",labelRemove:"Remove",removeCueText:"Removable"},"oj-ojSlider":{noValue:"ojSlider has no value",maxMin:"Max must not be less than or equal to min",startEnd:"value.start must not be greater than value.end",valueRange:"Value must be within min to max range",optionNum:"{option} option is not a number",invalidStep:"Invalid step; step must be > 0",lowerValueThumb:"lower value thumb",higherValueThumb:"higher value thumb"},"oj-ojDialog":{labelCloseIcon:"Close"},"oj-ojPopup":{ariaLiveRegionInitialFocusFirstFocusable:"Entering pop-up. Press F6 to navigate between the pop-up and associated control.",ariaLiveRegionInitialFocusNone:"Pop-up opened. Press F6 to navigate between the pop-up and associated control.",ariaLiveRegionInitialFocusFirstFocusableTouch:"Entering pop-up. Pop-up can be closed by navigating to the last link within the pop-up.",ariaLiveRegionInitialFocusNoneTouch:"Pop-up opened. Navigate to the next link to establish focus within the pop-up.",ariaFocusSkipLink:"Double tap to navigate to the open pop-up.",ariaCloseSkipLink:"Double tap to close the open pop-up."},"oj-ojRefresher":{ariaRefreshLink:"Activate link to refresh content",ariaRefreshingLink:"Refreshing content",ariaRefreshCompleteLink:"Refresh complete"},"oj-ojSwipeActions":{ariaShowStartActionsDescription:"Show start actions",ariaShowEndActionsDescription:"Show end actions",ariaHideActionsDescription:"Hide actions"},"oj-ojIndexer":{indexerCharacters:"A|B|C|D|E|F|G|H|I|J|K|L|M|N|O|P|Q|R|S|T|U|V|W|X|Y|Z",indexerOthers:"#",ariaDisabledLabel:"No matching group header",ariaOthersLabel:"number",ariaInBetweenText:"Between {first} and {second}",ariaKeyboardInstructionText:"Press enter to select value.",ariaTouchInstructionText:"Double tap and hold to enter gesture mode, then drag up or down to adjust value."},"oj-ojMenu":{labelCancel:"Cancel",ariaFocusSkipLink:"Focus is within the menu, double tap or swipe to move focus to the first menu item."},"oj-ojColorSpectrum":{labelHue:"Hue",labelOpacity:"Opacity",labelSatLum:"Saturation/Luminance",labelThumbDesc:"Color spectrum four way slider."},"oj-ojColorPalette":{labelNone:"None"},"oj-ojColorPicker":{labelSwatches:"Swatches",labelCustomColors:"Custom Colors",labelPrevColor:"Previous Color",labelDefColor:"Default Color",labelDelete:"Delete",labelDeleteQ:"Delete?",labelAdd:"Add",labelAddColor:"Add color",labelMenuHex:"HEX",labelMenuRgba:"RGBa",labelMenuHsla:"HSLa",labelSliderHue:"Hue",labelSliderSaturation:"Saturation",labelSliderSat:"Sat",labelSliderLightness:"Lightness",labelSliderLum:"Luminosity",labelSliderAlpha:"Alpha",labelOpacity:"Opacity",labelSliderRed:"Red",labelSliderGreen:"Green",labelSliderBlue:"Blue"},"oj-ojFilePicker":{dropzoneText:"Drop files here or click to upload",singleFileUploadError:"Upload one file at a time.",singleFileTypeUploadError:"You can't upload files of type {fileType}.",multipleFileTypeUploadError:"You can't upload files of type: {fileTypes}.",dropzonePrimaryText:"Drag and Drop",secondaryDropzoneText:"Select a file or drop one here.",secondaryDropzoneTextMultiple:"Select or drop files here.",unknownFileType:"unknown"},"oj-ojProgressbar":{ariaIndeterminateProgressText:"In Progress"},"oj-ojMessage":{labelCloseIcon:"Close",categories:{error:"Error",warning:"Warning",info:"Information",confirmation:"Confirmation",none:"None"}},"oj-ojSelector":{checkboxAriaLabel:"Checkbox Select {rowKey}",checkboxAriaLabelSelected:" selected",checkboxAriaLabelUnselected:" unselected"},"oj-ojMessages":{labelLandmark:"Messages",ariaLiveRegion:{navigationFromKeyboard:"Entering messages region. Press F6 to navigate back to prior focused element.",navigationToTouch:"Messages region has new messages. Use the voice-over rotor to navigate to the messages landmark.",navigationToKeyboard:"Messages region has new messages.  Press F6 to navigate to the most recent message region.",newMessage:"Message category {category}. {summary}. {detail}.",noDetail:"Detail is not available"}},"oj-ojMessageBanner":{close:"Close",navigationFromMessagesRegion:"Entering messages region. Press F6 to navigate back to prior focused element.",navigationToMessagesRegion:"Messages region has new messages. Press F6 to navigate to the most recent message region.",error:"Error",warning:"Warning",info:"Information",confirmation:"Confirmation"},"oj-ojConveyorBelt":{tipArrowNext:"Next",tipArrowPrevious:"Previous"},"oj-ojTrain":{stepInfo:"Step {index} out of {count}.",stepStatus:"Status: {status}.",stepCurrent:"Current",stepVisited:"Visited",stepNotVisited:"Not visited",stepDisabled:"Disabled",stepMessageType:"Message type: {messageType}.",stepMessageConfirmation:"Confirmed",stepMessageInfo:"Info",stepMessageWarning:"Warning",stepMessageError:"Error"}},ar:1,"ar-XB":1,bg:1,bs:1,"bs-Cyrl":1,cs:1,da:1,de:1,el:1,"en-XA":1,"en-XC":1,es:1,et:1,fi:1,fr:1,"fr-CA":1,he:1,hr:1,hu:1,is:1,it:1,ja:1,ko:1,lt:1,lv:1,ms:1,nl:1,no:1,pl:1,pseudo:1,pt:1,"pt-PT":1,ro:1,ru:1,sk:1,sl:1,sr:1,"sr-Latn":1,sv:1,th:1,tr:1,uk:1,vi:1,"zh-Hans":1,"zh-Hant":1});

/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojconfig',["require","exports","ojs/ojcore-base","ojL10n!ojtranslations/nls/ojtranslations","ojs/ojcustomelement-utils"],function(e,n,t,o,r){"use strict";function i(e){if(e&&e.__esModule)return e;var n={};return e&&Object.keys(e).forEach(function(t){var o=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,o.get?o:{enumerable:!0,get:function(){return e[t]}})}),n.default=e,n}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o;const a={},s=Symbol(),u=Symbol(),l=Symbol();let c=o;a.getDeviceRenderMode=function(){return document.body.getAttribute("data-oj-device-render-mode")||a.getDeviceType()},a.getDeviceType=function(){return t.AgentUtils.getAgentInfo().deviceType},a.getLocale=function(){const e=c._ojLocale_;return"root"===e?"en":e},a.setLocale=function(n,o){var r="ojL10n!ojtranslations/nls/",a=r+n+"/ojtranslations";var s=[new Promise(function(n,t){e([a],function(e){n(i(e))},t)}).then(e=>{c=e})];if(t.LocaleData){var u=r+n+"/localeElements";const o=new Promise(function(n,t){e([u],function(e){n(i(e))},t)}).then(e=>{e&&t.LocaleData.__updateBundle(Object.assign({},e.default))});if(s.push(o),t.TimezoneData){var l=t.TimezoneData.__getBundleNames().map(t=>new Promise(function(o,a){e([`${r}${n}${t}`],function(e){o(i(e))},a)}));s.push(Promise.all(l).then(e=>{e.forEach(t.TimezoneData.__mergeIntoLocaleElements)}))}}Promise.all(s).then(()=>{o&&o()})},a.getResourceUrl=function(e){if(null==e||/^\/|:/.test(e))return e;var n=a._resourceBaseUrl;null==n&&(n=a._getOjBaseUrl()||"");var t=n.length;return n+(0===t||"/"===n.charAt(t-1)?"":"/")+e},a.setResourceBaseUrl=function(e){a._resourceBaseUrl=e},a.setAutomationMode=function(e){a._automationMode=e},a.getAutomationMode=function(){return a._automationMode},a.getVersionInfo=function(){var e="Oracle JET Version: "+t.version+"\n";e+="Oracle JET Revision: "+t.revision+"\n";var n="undefined"!=typeof window;return n&&window.navigator&&(e+="Browser: "+window.navigator.userAgent+"\n",e+="Browser Platform: "+window.navigator.platform+"\n"),$&&($.fn&&(e+="jQuery Version: "+$.fn.jquery+"\n"),$.ui&&$.ui.version&&(e+="jQuery UI Version: "+$.ui.version+"\n")),t.ComponentBinding&&(e+="Knockout Version: "+t.ComponentBinding.__getKnockoutVersion()+"\n"),n&&window.require&&(e+="Require Version: "+window.require.version+"\n"),e},a.logVersionInfo=function(){},a._getOjBaseUrl=function(){var n=null;void 0!==e&&e.toUrl&&(n=e.toUrl("ojs/_foo_").replace(/[^/]*$/,"../"));return n},a._getEngineByType=function(n){if(!a[n]){let t;switch(n){case u:t=new Promise(function(n,t){e(["ojs/ojtemplateengine-preact-ko"],function(e){n(i(e))},t)});break;case l:t=new Promise(function(n,t){e(["ojs/ojtemplateengine-preact"],function(e){n(i(e))},t)});break;default:t=new Promise(function(n,t){e(["ojs/ojtemplateengine-ko"],function(e){n(i(e))},t)})}a[n]=t.then(e=>e.default)}return a[n]},a.__getTemplateEngine=function(e){let n;const t=r.CustomElementUtils.getElementState(e.customElement);return n="preact"!==t.getBindingProviderType()?a._getEngineByType(s):e.needsTrackableProperties||t.getUseKoFlag()?a._getEngineByType(u):a._getEngineByType(l),n},a.getConfigBundle=function(){return c},a.getExpressionEvaluator=function(){return a._expressionEvaluator},a.setExpressionEvaluator=function(e){if(a._expressionEvaluator)throw new Error("JET Expression evaluator can't be set more than once.");a._expressionEvaluator=e};const g=a.getDeviceRenderMode,f=a.getDeviceType,d=a.getLocale,p=a.setLocale,m=a.getResourceUrl,v=a.setResourceBaseUrl,_=a.setAutomationMode,E=a.getAutomationMode,j=a.getVersionInfo,y=a.logVersionInfo,w=a.setExpressionEvaluator,B=a.getExpressionEvaluator,T=a.getConfigBundle,b=a.__getTemplateEngine;n.__getTemplateEngine=b,n.getAutomationMode=E,n.getConfigBundle=T,n.getDeviceRenderMode=g,n.getDeviceType=f,n.getExpressionEvaluator=B,n.getLocale=d,n.getResourceUrl=m,n.getVersionInfo=j,n.logVersionInfo=y,n.setAutomationMode=_,n.setExpressionEvaluator=w,n.setLocale=p,n.setResourceBaseUrl=v,Object.defineProperty(n,"__esModule",{value:!0})});
//# sourceMappingURL=ojconfig.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojresponsiveutils',["exports","ojs/ojcore-base","ojs/ojlogger"],function(e,o,t){"use strict";o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o;const r={};o._registerLegacyNamespaceProp("ResponsiveUtils",r),r.SCREEN_RANGE={SM:"sm",MD:"md",LG:"lg",XL:"xl",XXL:"xxl"},r.FRAMEWORK_QUERY_KEY={SM_UP:"sm-up",MD_UP:"md-up",LG_UP:"lg-up",XL_UP:"xl-up",XXL_UP:"xxl-up",SM_ONLY:"sm-only",MD_ONLY:"md-only",LG_ONLY:"lg-only",XL_ONLY:"xl-only",MD_DOWN:"md-down",LG_DOWN:"lg-down",XL_DOWN:"xl-down",HIGH_RESOLUTION:"high-resolution"},r._RANGE={},r._RANGE[r.SCREEN_RANGE.SM]=0,r._RANGE[r.SCREEN_RANGE.MD]=1,r._RANGE[r.SCREEN_RANGE.LG]=2,r._RANGE[r.SCREEN_RANGE.XL]=3,r._RANGE[r.SCREEN_RANGE.XXL]=4,r._getMediaQueryFromClass=function(e){var o=document.getElementsByClassName(e).item(0);return null===o&&((o=document.createElement("meta")).className=e,document.head.appendChild(o)),window.getComputedStyle(o).getPropertyValue("font-family").replace(/^[/\\'"]+|(;\s?})+|[/\\'"]+$/g,"")},r.getFrameworkQuery=function(e){var o="oj-mq-"+e,s=r._getMediaQueryFromClass(o);return"null"===s?(t.warn("Framework query not found. Please check that the value of the theming variable$includeResponsiveMediaQueryClasses is set to true, if itis set to false the media queries are not sent down to the browser."),null):s},r.compare=function(e,o){var t=r._RANGE[e],s=r._RANGE[o];if(null==t)throw new Error("size1 param "+e+" illegal, please use one of the screen size constants like oj.ResponsiveUtils.SCREEN_RANGE.MD");if(null==s)throw new Error("size2 param "+o+" illegal, please use one of the screen size constants like oj.ResponsiveUtils.SCREEN_RANGE.MD");return t-s};const s=r.compare,l=r.getFrameworkQuery,n=r.SCREEN_RANGE,a=r.FRAMEWORK_QUERY_KEY;e.FRAMEWORK_QUERY_KEY=a,e.SCREEN_RANGE=n,e.compare=s,e.getFrameworkQuery=l,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojresponsiveutils.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojtimerutils',["exports"],function(e){"use strict";const n={};function t(){}t.prototype.getPromise=function(){},t.prototype.clear=function(){},n.getTimer=function(e){return new n._TimerImpl(e)},n._TimerImpl=function(e){var n,t,i;function o(e){i=null,t(e)}this.getPromise=function(){return n},this.clear=function(){window.clearTimeout(i),i=null,o(!1)},n="undefined"==typeof window?Promise.reject():new Promise(function(n){t=n,i=window.setTimeout(o.bind(null,!0),e)})};const i=n.getTimer;e.getTimer=i,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojtimerutils.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojtranslation',["exports","ojs/ojcore-base","ojs/ojconfig"],function(e,t,n){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;const r={setBundle:function(e){r._bundle=e},getResource:function(e){return r._getResourceString(e)},applyParameters:function(e,t){return null==e?"":r._format(e,t)},getTranslatedString:function(e,t){var n=r._getResourceString(e);if(null==n)return e;var a={};return arguments.length>2?a=Array.prototype.slice.call(arguments,1):2===arguments.length&&("object"==typeof(a=arguments[1])||a instanceof Array||(a=[a])),r.applyParameters(n,a)},getComponentTranslations:function(e){var t=r._getBundle()[e];if(null==t)return{};for(var n={},a=Object.keys(t),l=0;l<a.length;l++){var o=a[l];n[o]=t[o]}return n},_getResourceString:function(e){var n=e?e.split("."):[],a=r._getBundle();t.Assert.assertObject(a);for(var l=0;l<n.length&&null!=a;l++){a=a[n[l]]}return null!=a?a:null},_format:function(e,t){var n,r,a=e.length,l=[],o=null,u=!1,s=!1,c=!1,i=!1;for(r=0;r<a;r++){var g=e.charAt(r),f=!1;if(u)f=!0,u=!1;else switch(g){case"$":u=!0;break;case"{":i||(s||(n=!1,o=[]),s=!0);break;case"}":if(s&&o.length>0){var p=t[o.join("")];l.push(void 0===p?"null":p)}s=!1;break;case"[":s||(c?i=!0:c=!0);break;case"]":i?i=!1:c=!1;break;default:f=!0}f&&(s?","===g||" "===g?n=!0:n||o.push(g):i||l.push(g))}return l.join("")},_getBundle:function(){var e=r._bundle;return e||n.getConfigBundle()}},a=r.setBundle,l=r.getResource,o=r.applyParameters,u=r.getTranslatedString,s=r.getComponentTranslations;e.applyParameters=o,e.getComponentTranslations=s,e.getResource=l,e.getTranslatedString=u,e.setBundle=a,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojtranslation.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojcore',["ojs/ojcore-base","ojs/ojlogger","ojs/ojcontext","ojs/ojconfig","ojs/ojresponsiveutils","ojs/ojthemeutils","ojs/ojtimerutils","ojs/ojtranslation"],function(e,o,s,r,t,a,i,c){"use strict";return e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,s=s&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s,e._registerLegacyNamespaceProp("Logger",o),e._registerLegacyNamespaceProp("Context",s),e._registerLegacyNamespaceProp("Config",r),e._registerLegacyNamespaceProp("ResponsiveUtils",t),e._registerLegacyNamespaceProp("ThemeUtils",a),e._registerLegacyNamespaceProp("TimerUtils",i),e._registerLegacyNamespaceProp("Translations",c),e});
//# sourceMappingURL=ojcore.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojmessaging',["ojs/ojcore-base","jquery"],function(t,e){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;const E=function(t,e,E){this.Init(t,e,E)};t._registerLegacyNamespaceProp("Message",E),E.SEVERITY_TYPE={CONFIRMATION:"confirmation",INFO:"info",WARNING:"warning",ERROR:"error",FATAL:"fatal"},E.SEVERITY_LEVEL={FATAL:5,ERROR:4,WARNING:3,INFO:2,CONFIRMATION:1},t.Object.createSubclass(E,t.Object,"Message"),E.prototype.Init=function(t,e,n){E.superclass.Init.call(this),this.summary=t,this.detail=e,this.severity=n||E.SEVERITY_TYPE.ERROR},E.getSeverityLevel=function(t){var e=t;if(e)if("string"==typeof t){var n=E._LEVEL_TO_TYPE.indexOf(e,1);e=-1===n?E.SEVERITY_LEVEL.ERROR:n}else"number"==typeof e&&(e<E.SEVERITY_LEVEL.CONFIRMATION||e>E.SEVERITY_LEVEL.FATAL)&&(e=E.SEVERITY_LEVEL.ERROR);return e||E.SEVERITY_LEVEL.ERROR},E.getSeverityType=function(t){var e=t;e&&("string"==typeof e?-1===E._LEVEL_TO_TYPE.indexOf(e,1)&&(e=E.SEVERITY_TYPE.ERROR):"number"==typeof e&&(e=e<E.SEVERITY_LEVEL.CONFIRMATION||e>E.SEVERITY_LEVEL.FATAL?E.SEVERITY_TYPE.ERROR:E._LEVEL_TO_TYPE[t]));return e||E.SEVERITY_TYPE.ERROR},E.getMaxSeverity=function(t){var n=-1;return t&&t.length>0&&e.each(t,function(t,e){var i=E.getSeverityLevel(e.severity);n=n<i?i:n}),n},E.isValid=function(t){return!(E.getMaxSeverity(t)>=E.SEVERITY_LEVEL.ERROR)},E._LEVEL_TO_TYPE=["none",E.SEVERITY_TYPE.CONFIRMATION,E.SEVERITY_TYPE.INFO,E.SEVERITY_TYPE.WARNING,E.SEVERITY_TYPE.ERROR,E.SEVERITY_TYPE.FATAL];const n=function(t,e,E,n){this.Init(t,e,E,n)};return t.Object.createSubclass(n,E,"ComponentMessage"),n._DEFAULT_OPTIONS={display:(n.DISPLAY={SHOWN:"shown",HIDDEN:"hidden"}).SHOWN,context:""},n.prototype.Init=function(t,E,i,o){n.superclass.Init.call(this,t,E,i),this._options=e.extend({},n._DEFAULT_OPTIONS,o)},n.prototype.clone=function(){return new n(this.summary,this.detail,this.severity,this._options)},n.prototype.canDisplay=function(){return!(this._options&&this._options.display&&this._options.display===n.DISPLAY.HIDDEN)},n.prototype._forceDisplayToShown=function(){return!(!this._options||n.DISPLAY.HIDDEN!==this._options.display)&&(this._options.display=n.DISPLAY.SHOWN,!0)},n.prototype._isMessageAddedByComponent=function(){return!(!this._options||!this._options.context)},E.ComponentMessage=n,E});
//# sourceMappingURL=ojmessaging.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojdomutils',["exports","ojs/ojthemeutils","ojs/ojcore-base","jquery"],function(e,t,n,i){"use strict";n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i;const o={_HTML_START_TAG:"<html>",_HTML_END_TAG:"</html>",_LEGAL_ELEMENTS:{SPAN:1,B:1,I:1,EM:1,BR:1,HR:1,LI:1,OL:1,UL:1,P:1,TT:1,BIG:1,SMALL:1,PRE:1},_LEGAL_ATTRIBUTES:{class:1,style:1}};var r,a,s,l,c,u,f,d;o.isHTMLContent=function(e){return 0===e.indexOf(o._HTML_START_TAG)&&e.lastIndexOf(o._HTML_END_TAG)===e.length-7},o.cleanHtml=function(e){var t=i(document.createElement("span")).get(0);return t.innerHTML=e,e&&e.indexOf("<")>=0&&o._cleanElementHtml(t),t},o._cleanElementHtml=function(e){for(var t=e.childNodes,n=t.length-1;n>=0;n--){var r=t.item(n);if(r&&1===r.nodeType)if(o._LEGAL_ELEMENTS[r.nodeName]){for(var a=r.attributes,s=a.length-1;s>=0;s--){var l=a[s];void 0!==i(r).attr(l.name)&&(o._LEGAL_ATTRIBUTES[l.name]||r.removeAttribute(l.nodeName))}o._cleanElementHtml(r)}else r&&e.removeChild(r)}},o.isAncestor=function(e,t){for(var n=t.parentNode;n;){if(n===e)return!0;n=n.parentNode}return!1},o.isAncestorOrSelf=function(e,t){return t===e||o.isAncestor(e,t)},o.addResizeListener=function(e,t,n,i){let r=o._RSZ_TRKR;i&&(r=o._RSZ_TRKR_OBS,o._OBS_BASED.set(t,!0));let a=r.get(e);null==a&&(a=new o._ResizeTracker(e,i),r.set(e,a),a.start()),a.addListener(t,n)},o.removeResizeListener=function(e,t){const n=o._OBS_BASED.get(t)?o._RSZ_TRKR_OBS:o._RSZ_TRKR,i=n.get(e);null!=i&&(i.removeListener(t),i.isEmpty()&&(i.stop(),n.delete(e)))},o.fixResizeListeners=function(e){i(e).find(".oj-helper-detect-expansion").parent().each(function(e,t){var n=o._RSZ_TRKR.get(t);null!=n&&n.init(!0)})},o.isMetaKeyPressed=function(e){var t=n.AgentUtils.getAgentInfo();return n.AgentUtils.OS.MAC===t.os?e.metaKey:e.ctrlKey},o.dispatchEvent=function(e,t){var n="disabled",i=e[n];try{e[n]=!1,e.dispatchEvent(t)}finally{e[n]=i}},o._invokeAfterPaint=(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,0)}).bind(window),o._cancelInvokeAfterPaint=(window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||function(e){return window.clearTimeout(e)}).bind(window),o._ResizeTracker=function(e,t){e instanceof i&&(e=e[0]);var n=e.hasAttribute("data-oj-resize-notify"),r=i.Callbacks(),a=[],s=[],l=2,c=0,u=null,f=null,d=null,g=null,h=null,v=null,m=null;function L(e){var t=!1;if(null!=g.offsetParent){var n=g.offsetWidth,i=g.offsetHeight;f===n&&d===i||(c=l,A(n,i),t=!0,e&&E(!0))}return t}function p(t){const n=t[0].borderBoxSize;E(!1,[n?(n[0]||n).inlineSize:e.offsetWidth,n?(n[0]||n).blockSize:e.offsetHeight])}function E(t,i){var s=i?i[0]:e.offsetWidth,l=i?i[1]:e.offsetHeight,c=(t,i)=>{r.fire(t,i),n&&e.dispatchEvent(new Event("oj-resize"))};r.has()&&(t?(null!==u&&o._cancelInvokeAfterPaint(u),u=o._invokeAfterPaint(function(){u=null,c(s,l)})):c(s,l));for(var f=0;f<a.length;f++)a[f].getCallback()(s,l)}function S(e){e.stopPropagation(),L(!0)||c>0&&null!=g.offsetParent&&(0===g.scrollLeft||0===g.scrollTop)&&(c-=1,A(f,d))}function A(e,t){f=e,d=t;var n=g.firstChild.style,i=1;do{n.width=e+i+"px",n.height=t+i+"px",g.scrollLeft=i,g.scrollTop=i,i+=1}while((0===g.scrollTop||0===g.scrollLeft)&&i<=5);h.scrollLeft=e,h.scrollTop=t}this.addListener=function(t,i){if(void 0===i||isNaN(i)||0===i)r.add(t);else{a.push(new o._collapsingListenerManager(n?()=>{t.apply(null,arguments),e.dispatchEvent(new Event("oj-resize"))}:t,i)),s.push(t)}},this.removeListener=function(e){var t=s.indexOf(e);t>=0?(s.splice(t,1),a.splice(t,1)[0].stop()):r.remove(e)},this.isEmpty=function(){return!r.has()&&0===s.length},this.start=function(){if(t&&window.ResizeObserver instanceof Function)(m=new ResizeObserver(p)).observe(e,{box:"border-box"});else{v=S;var n=e.childNodes[0];(g=document.createElement("div")).className="oj-helper-detect-expansion";var i=document.createElement("div");g.appendChild(i),null!=n?e.insertBefore(g,n):e.appendChild(g),g.addEventListener("scroll",v,!1),(h=document.createElement("div")).className="oj-helper-detect-contraction";var o=document.createElement("div");o.style.width="200%",o.style.height="200%",h.appendChild(o),e.insertBefore(h,g),h.addEventListener("scroll",v,!1),this.init(!1)}},this.stop=function(){null!=u&&(o._cancelInvokeAfterPaint(u),u=null),null!=m?(m.disconnect(),m=null):null!=g&&(g.removeEventListener("scroll",v),h.removeEventListener("scroll",v),g.parentNode&&e.removeChild(g),h.parentNode&&e.removeChild(h))},this.init=function(e){if(g){var t=L(e);e&&!t&&null!=g.offsetParent&&A(f,d)}}},o._RSZ_TRKR=new WeakMap,o._RSZ_TRKR_OBS=new WeakMap,o._OBS_BASED=new WeakMap,o.isValidIdentifier=function(e){return/^[A-Za-z][0-9A-Z_a-z-]*$/.test(e)},o._collapsingListenerManager=function(e,t){var n=null,i=null,o=function(){e.apply(null,n),i=null},r=function(){n=Array.prototype.slice.call(arguments),null==i&&(i=window.setTimeout(o,t))};this.getCallback=function(){return r},this.stop=function(){null!=i&&(window.clearTimeout(i),i=null)}},o.isTouchSupported=function(){return"ontouchstart"in window||navigator.msMaxTouchPoints>0||navigator.maxTouchPoints>0},o.setInKoCleanExternal=function(e){o._koCleanNode=e},o.unwrap=function(e,t){var n=o._koCleanNode;n&&e.get(0)===n||(t?t.replaceWith(e):e.unwrap())},o.isChromeEvent=function(e){if(!("clientX"in e)||!("clientY"in e))return!1;var t=n.AgentUtils.getAgentInfo();if(n.AgentUtils.OS.ANDROID===t.os||n.AgentUtils.OS.IOS===t.os)return!1;if(t.engine!==n.AgentUtils.ENGINE.GECKO&&t.engine!==n.AgentUtils.ENGINE.WEBKIT&&t.engine!==n.AgentUtils.ENGINE.BLINK&&t.browser!==n.AgentUtils.BROWSER.IE)return!1;var r="ltr"===o.getReadingDirection(),a=!r&&t.browser===n.AgentUtils.BROWSER.SAFARI,s=e.target,l=i(s),c=s.getBoundingClientRect(),u=o.getScrollBarWidth();return!(!r||"HTML"!==s.nodeName&&"visible"===l.css("overflow-x")||!(e.clientX>c.right-u))||(!r&&!a&&"HTML"===s.nodeName&&e.clientX>c.right-u||(!r&&"visible"!==l.css("overflow-x")&&e.clientX<c.left+u||("HTML"===s.nodeName||"visible"!==l.css("overflow-y"))&&e.clientY>c.bottom-u))},o.getScrollBarWidth=function(){return i.position.scrollbarWidth()},o.getReadingDirection=function(){var e=document.documentElement.getAttribute("dir");return e&&(e=e.toLowerCase()),"rtl"===e?"rtl":"ltr"},o.setScrollLeft=function(e,t){e.scrollLeft=o.calculateScrollLeft(t)},o.calculateScrollLeft=function(e){var t=e;if("rtl"===o.getReadingDirection()){var i=n.AgentUtils.getAgentInfo().browser;i!==n.AgentUtils.BROWSER.IE&&i!==n.AgentUtils.BROWSER.EDGE&&(t=-e)}return t},o.getCSSLengthAsInt=function(e){if(!isNaN(e))return parseInt(e,10);if(e&&e.length>0&&"auto"!==e){var t=parseInt(e,10);return isNaN(t)&&(t=0),t}return 0},o.getCSSLengthAsFloat=function(e){if(!isNaN(e))return parseFloat(e);if(e&&e.length>0){var t=parseFloat(e);return isNaN(t)&&(t=0),t}return 0},o.getCSSTimeUnitAsMillis=function(e){if(!isNaN(e))return parseInt(e,10);if(e&&e.length>0){var t=parseFloat(e);if(isNaN(t))t=0;else{var n,i=e+"";i.length>2&&i.endsWith("ms")?n=i.slice(-3,-2):i.length>1&&i.endsWith("s")&&(n=i.slice(-2,-1)),isNaN(n)?t=0:!i.endsWith("ms")&&i.endsWith("s")&&(t*=1e3)}return t}return 0},o._LOGICAL_PARENT_DATA="oj-logical-parent",o.getLogicalParent=function(e){if(e)return e.data(o._LOGICAL_PARENT_DATA)},o.setLogicalParent=function(e,t){e&&(null===t?e.removeData(o._LOGICAL_PARENT_DATA):e.data(o._LOGICAL_PARENT_DATA,t))},o.isLogicalAncestorOrSelf=function(e,t){n.Assert.assertDomElement(e),n.Assert.assertDomElement(t);for(var r=t;r;){if(r===e)return!0;var a=o.getLogicalParent(i(r));r=a?a[0]:r.parentNode}return!1},o.validateURL=function(e,t){var n=t||["http:","https:"],i=document.createElement("a");i.href=e;var o=i.protocol;if(null!=o&&(o=o.toLowerCase()),n.indexOf(o)<0&&""!==o)throw new Error(o+" is not a valid URL protocol")},o._suppressNativeContextMenu=function(){i(document.body).hasClass("oj-hybrid")&&!i(document.body).hasClass("oj-hybrid-show-context-menu")&&document.body.addEventListener("contextmenu",function(e){"INPUT"!==e.target.nodeName&&"TEXTAREA"!==e.target.nodeName&&e.preventDefault()},!0)},o._suppressNativeContextMenu(),o.PRESS_HOLD_THRESHOLD=750,o.recentTouchEnd=function(){var e=0;function t(){e=Date.now()}return document.addEventListener("touchend",t,!0),document.addEventListener("touchcancel",t,!0),function(){return Date.now()-e<500}}(),o.recentTouchStart=(r=0,a=o.PRESS_HOLD_THRESHOLD+50,document.addEventListener("touchstart",function(){r=Date.now()},{passive:!0,capture:!0}),function(){return Date.now()-r<a}),o.recentPointer=(l=0,c=o.PRESS_HOLD_THRESHOLD+600,document.addEventListener("mousedown",function(){var e=Date.now();(!s||e>l+o.PRESS_HOLD_THRESHOLD)&&(l=e,s=!1)},!0),document.addEventListener("touchstart",function(){l=Date.now(),s=!0},{passive:!0,capture:!0}),document.addEventListener("mouseup",function(){l=Date.now(),s=!1},!0),document.addEventListener("touchend",function(){l=Date.now(),s=!1},!0),function(){return Date.now()-l<(s?c:600)}),o.makeFocusable=(u=0,f=(t.parseJSONFromFontFamily("oj-focus-config")||{}).focusHighlightPolicy,d=function(e,t){switch(e?e():f){case"all":return!0;case"none":return!1;default:return!(o.recentPointer()||t&&t())}},function(e){var t=e.element,n="ojFocusable",o="."+n,r=" "+o;if(e.remove){t.removeClass("oj-focus oj-focus-highlight");var a=t.data(n);if(null==a)return;var s=o+(""+a).split(",").join(r);t.off(s).removeData(n)}else{var l=e.afterToggle||i.noop,c=e.applyHighlight?function(t){t.addClass("oj-focus"),d(e.getFocusHighlightPolicy,e.recentPointer)&&t.addClass("oj-focus-highlight"),l("focusin")}:function(e){e.addClass("oj-focus"),l("focusin")},f=!1;(e.setupHandlers||function(r,a){var s=e.component,l=function(e){r(i(e.currentTarget)),f=!0},c=function(e){f&&(a(i(e.currentTarget)),f=!1)};if(s)s._on(t,{focusin:l,focusout:c});else{var d=u;u+=1;var g=t.data(n);t.data(n,null==g?d:g+","+d);var h={},v=o+d;h["focusin"+v]=l,h["focusout"+v]=c,t.on(h)}})(c,function(e){e.removeClass("oj-focus oj-focus-highlight"),l("focusout")})}}),o.getNoJQFocusHandlers=function(e,t){return{focusIn:function(t){return e(i(t))},focusOut:function(e){return t(i(e))}}};const g=o.isHTMLContent,h=o.cleanHtml,v=o.isAncestor,m=o.isAncestorOrSelf,L=o.addResizeListener,p=o.removeResizeListener,E=o.fixResizeListeners,S=o.isMetaKeyPressed,A=o.dispatchEvent,_=o.isValidIdentifier,T=o.isTouchSupported,R=o.setInKoCleanExternal,w=o.unwrap,N=o.isChromeEvent,O=o.getScrollBarWidth,C=o.getReadingDirection,H=o.setScrollLeft,P=o.calculateScrollLeft,D=o.getCSSLengthAsInt,b=o.getCSSLengthAsFloat,I=o.getCSSTimeUnitAsMillis,y=o.getLogicalParent,M=o.setLogicalParent,B=o.isLogicalAncestorOrSelf,j=o.validateURL,x=o.PRESS_HOLD_THRESHOLD,F=o.recentTouchEnd,U=o.recentTouchStart,z=o.recentPointer,k=o.getNoJQFocusHandlers,W=o.makeFocusable;e.PRESS_HOLD_THRESHOLD=x,e.addResizeListener=L,e.calculateScrollLeft=P,e.cleanHtml=h,e.dispatchEvent=A,e.fixResizeListeners=E,e.getCSSLengthAsFloat=b,e.getCSSLengthAsInt=D,e.getCSSTimeUnitAsMillis=I,e.getLogicalParent=y,e.getNoJQFocusHandlers=k,e.getReadingDirection=C,e.getScrollBarWidth=O,e.isAncestor=v,e.isAncestorOrSelf=m,e.isChromeEvent=N,e.isHTMLContent=g,e.isLogicalAncestorOrSelf=B,e.isMetaKeyPressed=S,e.isTouchSupported=T,e.isValidIdentifier=_,e.makeFocusable=W,e.recentPointer=z,e.recentTouchEnd=F,e.recentTouchStart=U,e.removeResizeListener=p,e.setInKoCleanExternal=R,e.setLogicalParent=M,e.setScrollLeft=H,e.unwrap=w,e.validateURL=j,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojdomutils.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojbootstrap',["exports"],function(e){"use strict";var n;const t={whenDocumentReady:function(){return n||(n="loading"===document.readyState?new Promise(function(e){var n=function(){document.removeEventListener("DOMContentLoaded",n),e()};document.addEventListener("DOMContentLoaded",n)}):Promise.resolve()),n}}.whenDocumentReady;e.whenDocumentReady=t,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojbootstrap.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojcustomelement',["ojs/ojcore","ojs/ojlogger","ojs/ojcustomelement-utils","ojs/ojcustomelement-registry","ojs/ojmetadatautils","ojs/ojbootstrap","ojs/ojcore-base"],function(e,t,r,n,i,o,a){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a;const s={};s.proto={getClass:function(e){var t=Object.create(HTMLElement.prototype);this.InitializePrototype(t);var n=this.GetMetadata(e);s._enumerateMetadataForKey(t,n,"properties",this.DefinePropertyCallback.bind(this)),s._enumerateMetadataForKey(t,n,"methods",this.DefineMethodCallback.bind(this)),this.AddComponentMethods(t),t.setProperties=function(e){r.CustomElementUtils.getElementBridge(this)._setProperties(this,e)},Object.defineProperty(t,"set",{value:function(e,t){this.setProperty(e,t)}}),Object.defineProperty(t,"unset",{value:function(e){this.setProperty(e,void 0)}}),t.attributeChangedCallback=this.AttributeChangedCallback,t.connectedCallback=this._connectedCallback,t.disconnectedCallback=this._detachedCallback;const i=t.appendChild;t.appendChild=function(e){return r.CustomElementUtils.canRelocateNode(this,e)?i.call(this,e):e};const o=t.insertBefore;t.insertBefore=function(e,t){return r.CustomElementUtils.canRelocateNode(this,e)?o.call(this,e,t):e},t.setAttribute=function(e,t){if("class"===e){const e=r.CustomElementUtils.getClassSet(t);r.CustomElementUtils.getElementState(this).setOuterClasses(e)}else HTMLElement.prototype.setAttribute.call(this,e,t)},t.removeAttribute=function(e){"class"===e?this.setAttribute("class",""):HTMLElement.prototype.removeAttribute.call(this,e)};var a=function(){var e=window.Reflect;return void 0!==e?e.construct(HTMLElement,[],this.constructor):HTMLElement.call(this)},l=this;return Object.defineProperty(a,"observedAttributes",{get:function(){return l.GetAttributes(n)}}),Object.defineProperty(t,"constructor",{value:a,writable:!0,configurable:!0}),a.prototype=t,Object.setPrototypeOf(a,HTMLElement),a},initializeBridge:function(e,t){this.METADATA=this.GetMetadata(t),this._eventListeners={},this.State=r.CustomElementUtils.getElementState(e)},AddComponentMethods:function(e){},AttributeChangedCallback:function(e,o,a){const l=r.AttributeUtils.attributeToPropertyName(e),u=r.CustomElementUtils.getElementBridge(this);if(o!==a||u.State.dirtyProps.has(l)){if(u.State.dirtyProps.delete(l.split(".")[0]),"disabled"===e&&u.ShouldRemoveDisabled()&&u._isDisabledAttributeRemoved())return void(null!=a&&(t.warn("Ignoring 'disabled' attribute change after component initialization. Use element property setter instead."),u._removeDisabledAttribute(this)));if(u.ShouldHandleAttributeChanged(this)){s.__CheckOverlappingAttribute(this,e),null===a&&(a=void 0);var c={detail:{attribute:e,value:a,previousValue:o}};if(this.dispatchEvent(new CustomEvent("attribute-changed",c)),!r.AttributeUtils.getExpressionInfo(a).expr){const t=i.getPropertyMetadata(l,n.getElementProperties(this));t&&this.setProperty(l,s.__ParseAttrValue(this,e,l,a,t)),u.HandleAttributeChanged(this,e,o,a)}}}},CreateComponent:function(e){},DefineMethodCallback:function(e,t,r){},DefinePropertyCallback:function(e,t,r){},GetAttributes:function(e){return e?i.getFlattenedAttributes(e.properties):[]},GetMetadata:function(e){return e[s.DESC_KEY_META]||{}},GetAliasForProperty:function(e){return e},ShouldHandleAttributeChanged:function(e){return this.State.canHandleAttributes()},ShouldCallHandleAttributeChanged:function(e){return this.ShouldHandleAttributeChanged()},HandleAttributeChanged:function(e,t,r,n){},HandleBindingsApplied:function(e,t){},HandleAttached:function(e){},HandleDetached:function(e){},HandleReattached:function(e){},InitializeElement:function(e){},InitializePrototype:function(e){},BatchedPropertySet:function(e,t){for(var r=Object.keys(t),n=0;n<r.length;n++){var i=r[n];e.setProperty(i,t[i])}},GetEventListenerProperty:function(e){var t=r.AttributeUtils.eventListenerPropertyToEventType(e),n=this._eventListeners[t];if(n)return n.getListener()},GetProperty:function(e,t,o){var a=i.getPropertyMetadata(t,n.getElementProperties(e));return r.AttributeUtils.isEventListenerProperty(t)||!a||-1===t.indexOf(".")?o[t]:r.CustomElementUtils.getPropertyValue(o,t)},HandlePropertyChanged:function(e,t,r,n,i,o){var a=i?"external":"internal";s.__FirePropertyChangeEvent(e,t,r,n,a,o)},PlaybackEarlyPropertySets:function(e){if(this._earlySets){const t=n.getElementDescriptor(e.tagName),i=this.GetMetadata(t);for(;this._earlySets.length;){const t=this._earlySets.shift(),n=r.transformPreactValue(e,i.properties[t.property],t.value);e.setProperty(t.property,n)}}},SaveEarlyPropertySet:function(e,t,r){return!this.State.allowPropertySets()&&(this._earlySets||(this._earlySets=[]),this._earlySets.push({property:t,value:r}),!0)},SetEventListenerProperty:function(e,t,n){var i=r.AttributeUtils.eventListenerPropertyToEventType(t),o=this._eventListeners[i];o||(o=this._createEventListenerWrapper(),this._eventListeners[i]=o,e.addEventListener(i,o)),null==n||n instanceof Function?o.setListener(n):s.__ThrowTypeError(e,t,n,"function")},SetProperty:function(t,o,a,l,u){var c=i.getPropertyMetadata(o,n.getElementProperties(t));if(r.AttributeUtils.isEventListenerProperty(o)||!c)t[o]=a;else{var p=t.getProperty(o),d=o.split("."),h=d[0],y=l[h];e.CollectionUtils.isPlainObject(y)&&(y=e.CollectionUtils.copyInto({},y,void 0,!0));var f=void 0===a&&1===d.length?c.value:a;if(!r.ElementUtils.comparePropertyValues(c.writeback,f,p)){var b=-1!==o.indexOf(".");if(b&&(this._SKIP_PROP_CHANGE_EVENT=!0),u?this.ValidateAndSetProperty(this.GetAliasForProperty.bind(this),l,o,a,t):s.__SetProperty(this.GetAliasForProperty.bind(this),l,o,a),this._SKIP_PROP_CHANGE_EVENT=!1,b){var m={path:o,value:a,previousValue:p};this.HandlePropertyChanged(t,h,l[h],y,u,m)}return this.State.dirtyProps.add(h),{property:h,propertySet:!0,isSubproperty:b}}}return{property:null,propertySet:!1,isSubproperty:!1}},ShouldRemoveDisabled:function(){return!0},ValidateAndSetProperty:function(e,t,r,n,i){var o=this.ValidatePropertySet(i,r,n);s.__SetProperty(e,t,r,o)},ValidatePropertySet:function(e,o,a){var l=n.getElementProperties(e),u=i.getPropertyMetadata(o,l),c=o.split(".");if(u){if(l[c[0]].readOnly)throw new r.JetElementError(e,`Read-only property '${o}' cannot be set.`);try{i.checkEnumValues(e,o,a,u)}catch(t){throw new r.JetElementError(e,t.message)}return null!=a?s.checkType(e,o,a,u):a}t.warn(r.CustomElementUtils.getElementInfo(e)+": Ignoring property set for undefined property '"+o+"'.")},PostCreate:function(e){e.hasAttribute("disabled")&&this.ShouldRemoveDisabled()&&!this._isDisabledAttributeRemoved()&&this._removeDisabledAttribute(e)},_connected:function(e){const t=this.State;if(t.isComplete())this.HandleReattached(e);else if(t.startCreationCycle(),t.isCreating()){this.InitializeElement(e),t.setBindingProviderCallback(this.PlaybackEarlyPropertySets.bind(this,e));const r=()=>{try{t.getSlotMap(!0);return(this.CreateComponent(e)||Promise.resolve()).then(this.PostCreate.bind(this,e))}catch(e){return Promise.reject(e)}};t.setCreateCallback(r)}},_connectedCallback:function(){r.CustomElementUtils.getElementBridge(this)._connected(this)},_detachedCallback:function(){const e=r.CustomElementUtils.getElementBridge(this),t=e.State;t.isComplete()?e.HandleDetached(this):t.pauseCreationCycle()},_createEventListenerWrapper:function(){var e,t=function(t){e&&e(t)};return t.setListener=function(t){e=t},t.getListener=function(){return e},t},_setProperties:function(e,t){for(var r=[],n={},i=!1,o=Object.keys(t),a=0;a<o.length;a++){var s=o[a];s.indexOf(".")>=0?r.push(s):(n[s]=t[s],i=!0)}i&&this.BatchedPropertySet(e,n);for(var l=0;l<r.length;l++){var u=r[l];e.setProperty(u,t[u])}},_isDisabledAttributeRemoved:function(){return!0===this._disabledProcessed},_removeDisabledAttribute:function(e){this._disabledProcessed=!0,e.removeAttribute("disabled")}},s._enumerateMetadataForKey=function(e,t,r,n){if(t&&t[r]){var i=t[r];Object.keys(i).forEach(function(t){n(e,t,i[t])})}},s.checkType=function(e,t,n,i){const o=i.type,a=r.ElementUtils.getSupportedTypes(o);if(1===a.typeCount&&!a.any&&!a.other){const r=typeof n;if(a.array&&!Array.isArray(n)||a.object&&"object"!==r||a.string&&"string"!==r||a.number&&("number"!==r||!isFinite(n)))s.__ThrowTypeError(e,t,n,o);else if(a.boolean)return!!n}return n},s.__ThrowTypeError=function(e,t,n,i){throw new r.JetElementError(e,`Invalid type '${typeof n}' found for property '${t}'. Expected value of type '${i}'.`)},s.__CheckOverlappingAttribute=function(e,t){var n=t.split(".");if(n.length>1)for(n.pop();n.length;){var i=n.join(".");if(e.hasAttribute(i))throw new r.JetElementError(e,`Cannot set overlapping attributes '${t}' and '${i}'.`);n.pop()}},s.__InitProperties=function(e,t){const o=r.CustomElementUtils.getElementBridge(e);var a=n.getElementProperties(e);if(a)for(var l=e.attributes,u=0;u<l.length;u++){var c=l[u],p=r.AttributeUtils.attributeToPropertyName(c.nodeName),d=i.getPropertyMetadata(p,a);if(d&&!d.readOnly)if(s.__CheckOverlappingAttribute(e,c.nodeName),!r.AttributeUtils.getExpressionInfo(c.value).expr){var h=s.__ParseAttrValue(e,c.nodeName,p,c.value,d);o.ValidateAndSetProperty(o.GetAliasForProperty.bind(o),t,p,h,e)}}},s.__SetProperty=function(e,t,r,n){var i,o=t,a=r.split("."),s=e(a[0]);a.length>1&&!t[s]&&(o=i={});for(var l=0;l<a.length;l++){var u=e(a[l]);l===a.length-1?o[u]=n:o[u]||(o[u]={}),o=o[u]}i&&(t[s]=i[s])},s.__ParseAttrValue=function(e,t,i,o,a){if(null==o)return o;function s(n){return r.AttributeUtils.attributeToPropertyValue(e,t,n,a)}var l=n.getElementDescriptor(e.tagName).parseFunction;return l?l(o,i,a,function(e){return s(e)}):s(o)},s.__ProcessEventListeners=function(t){var n=e.CollectionUtils.copyInto({},t,void 0,!0,1);return n.properties=n.properties||{},s._enumerateMetadataForKey(null,n,"properties",function(e,t){var i=r.AttributeUtils.propertyNameToChangeEventType(t),o=r.AttributeUtils.eventTypeToEventListenerProperty(i);n.properties[o]={_derived:!0,_eventListener:!0}}),s._enumerateMetadataForKey(null,n,"events",function(e,t){var i=r.AttributeUtils.eventTypeToEventListenerProperty(t);n.properties[i]={_derived:!0,_eventListener:!0}}),n},s.__FirePropertyChangeEvent=function(e,t,n,i,o,a){var s=r.CustomElementUtils.getElementBridge(e);if(!s._SKIP_PROP_CHANGE_EVENT){var l={};a&&(l.subproperty=a),l.value=n,l.previousValue=i,l.updatedFrom=o,s.beforePropertyChangedEvent&&s.beforePropertyChangedEvent(e,t,l),("external"!==o||s.State.isComplete())&&e.dispatchEvent(new CustomEvent(t+"Changed",{detail:l}))}},s.__DefineDynamicObjectProperty=function(e,t,r,n){Object.defineProperty(e,t,{enumerable:!0,get:r,set:n})},s.DESC_KEY_META="metadata",e._registerLegacyNamespaceProp("BaseCustomElementBridge",s),o.whenDocumentReady().then(function(){!function(){var e=document.createElement("div");e.style.border="1px solid",e.style.borderColor="red green",e.style.position="absolute",e.style.top="-999px",e.style.backgroundImage="url(data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACwAAAAAAQABAAACAkQBADs=)";var t=document.body;t.appendChild(e);var r=window.getComputedStyle(e),n=r.backgroundImage;r.borderTopColor!==r.borderRightColor&&(null==n||"none"!==n&&"url (invalid-url:)"!==n)||t.classList.add("oj-hicontrast"),t.removeChild(e)}()}),o.whenDocumentReady().then(function(){!function(){let e=[];const t=a.AgentUtils.getAgentInfo();e.push(`oj-agent-os-${t.os.toLowerCase()}`),e.push(`oj-agent-browser-${t.browser.toLowerCase()}`),document.documentElement.classList.add(...e)}()})});
//# sourceMappingURL=ojcustomelement.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojdefaultsutils',["exports","ojs/ojmetadatautils"],function(e,t){"use strict";function n(e,t,n){let s=e._defaults;if(void 0===s){const f=a(e,t,n);s=Object.create(f),i(e,s),e._defaults=s}return s}function a(e,n,a){let i=e._staticDefaults;if(void 0===i){if(i=null,n){const e=n.properties,s=n.extension?._DEFAULTS;if(s){const e=new s;i=Object.create(e)}else e&&(i=Object.create(t.getDefaultValues(e,a)))}e._staticDefaults=i}return i}function i(e,t){if(e.getDynamicDefaults){const n=e.getDynamicDefaults();if(n)for(let e in n)void 0===t[e]&&(t[e]=n[e])}}var s=Object.freeze({__proto__:null,getFrozenDefault:function(e,a,i){const s=n(a,i,!0);return t.deepFreeze(s[e])},getDefaults:n,getStaticDefaults:a,applyDynamicDefaults:i});e.DefaultsUtils=s,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojdefaultsutils.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojfocusutils',["jquery","ojs/ojcore-base","ojs/ojdomutils"],function(t,e,n){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;const r={_TABBABLE:":tabbable,iframe",containsFocus:function(t){var e=document.activeElement;return!(!t||!e)&&n.isAncestorOrSelf(t,e)},focusElement:function(t){t.focus()},focusFirstTabStop:function(t){var e=r.getFirstTabStop(t);return e&&r.focusElement(e),e},isFirstActiveElement:function(e){var n=t(e).find(r._TABBABLE);if(null==n||0===n.length)return!1;var i=n[0];return document.activeElement===i||i.name===document.activeElement.name&&"radio"===i.type&&"radio"===document.activeElement.type},isLastActiveElement:function(e){var n=t(e).find(r._TABBABLE);if(null==n||0===n.length)return!1;var i=n[n.length-1];return document.activeElement===i||i.name===document.activeElement.name&&"radio"===i.type&&"radio"===document.activeElement.type},getFirstTabStop:function(e){var n=t(e);if(n.is(r._TABBABLE))return e;var i=n.find(r._TABBABLE);if(i&&i.length>0){if(i[0].classList.contains("oj-radio")){var o=i.filter(".oj-selected.oj-radio");return o&&o.length?o[0]:i[0]}return i[0]}return null},getLastTabStop:function(e){var n=t(e).find(r._TABBABLE);if(n&&n.length>0){if(n[n.length-1].classList.contains("oj-radio")){var i=n.filter(".oj-selected.oj-radio");return i&&i.length?i[i.length-1]:n[n.length-1]}return n[n.length-1]}return null},isFocusable:function(n){return!!t(n).is(":focusable")&&!("A"===n.nodeName&&!n.hasAttribute("tabindex")&&e.AgentUtils.getAgentInfo().browser===e.AgentUtils.BROWSER.SAFARI)}};return r});
//# sourceMappingURL=ojfocusutils.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojgestureutils',["exports","jquery","ojs/ojdomutils"],function(e,t,n){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;const o={_EVENT_NAMESPACE:".contextMenu",stopDetectContextMenuGesture:function(e){e._clickListener&&(t(e).off(o._EVENT_NAMESPACE).removeClass("oj-menu-context-menu-launcher")[0].removeEventListener("click",e._clickListener,!0),clearTimeout(e._contextMenuPressHoldTimer),delete e._clickListener,delete e._contextMenuPressHoldTimer),e._touchStartAndMouseDownListener&&(e.removeEventListener("touchstart",e._touchStartAndMouseDownListener,{passive:!1}),delete e._touchStartAndMouseDownListener),e._touchMoveListener&&(e.removeEventListener("touchmove",e._touchMoveListener,{passive:!0}),delete e._touchMoveListener)},startDetectContextMenuGesture:function(e,u){var r,s,c,i,a=n.PRESS_HOLD_THRESHOLD,d=!1,l=!1,v=300,p=null,h=o._EVENT_NAMESPACE,m=!1;function f(n,o,r){if((d=r)&&t(e).one("touchend"+h,function(){m=!0,setTimeout(function(){m=!1},50)}),"touchstart"===p&&"contextmenu"===n.type||"contextmenu"===p&&"touchstart"===n.type||"keydown"===p&&"contextmenu"===n.type)return"keydown"===p&&"contextmenu"===n.type&&n.preventDefault(),p=null,void clearTimeout(i);n.isDefaultPrevented&&n.isDefaultPrevented()||n.originalEvent&&n.originalEvent.defaultPrevented||n.defaultPrevented||("touchstart"!==n.type&&"touchmove"!==n.type||(n.originalEvent=n),u(n,o),(n.isDefaultPrevented&&n.isDefaultPrevented()||n.defaultPrevented)&&("touchstart"!==n.type&&"contextmenu"!==n.type&&"keydown"!==n.type||(p=n.type,i=setTimeout(function(){p=null},v))))}var y=function(e){d&&(e.preventDefault(),e.stopPropagation(),d=!1)};e._clickListener=y,e.addEventListener("click",y,!0);var _=function(t){if("mousedown"!==t.type||!m){if(d=!1,"touchstart"===t.type&&1===t.touches.length){var n=t.touches[0];s=n.pageX,c=n.pageY,l=!0,r=setTimeout(f.bind(void 0,t,"touch",!0),a),e._contextMenuPressHoldTimer=r}return!0}};e._touchStartAndMouseDownListener=_,e.addEventListener("touchstart",_,{passive:!1});var M=function(e){var t=e.touches[0];return(Math.abs(s-t.pageX)>5||Math.abs(c-t.pageY)>5)&&(l=!1,clearTimeout(r)),!0};e._touchMoveListener=M,e.addEventListener("touchmove",M,{passive:!0}),t(e).on("mousedown"+h,_).on("touchend"+h+" touchcancel"+h,function(){return l=!1,clearTimeout(r),!0}).on("keydown"+h+" contextmenu"+h,function(e){("contextmenu"===e.type||121===e.keyCode&&e.shiftKey)&&f(e,l?"touch":"keydown"===e.type?"keyboard":"mouse",!1);return!0}),n.isTouchSupported()&&t(e).addClass("oj-menu-context-menu-launcher")}},u=o.startDetectContextMenuGesture,r=o.stopDetectContextMenuGesture;e.startDetectContextMenuGesture=u,e.stopDetectContextMenuGesture=r,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojgestureutils.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojcomponentcore',["exports","jqueryui-amd/widget","jqueryui-amd/unique-id","jqueryui-amd/keycode","jqueryui-amd/focusable","jqueryui-amd/tabbable","ojs/ojcore","jquery","ojs/ojmessaging","ojs/ojmetadatautils","ojs/ojcore-base","ojs/ojdomutils","ojs/ojcustomelement","ojs/ojcustomelement-utils","ojs/ojcustomelement-registry","ojs/ojlogger","ojs/ojdefaultsutils","ojs/ojtranslation","ojs/ojfocusutils","ojs/ojgestureutils"],function(t,e,n,i,o,s,r,a,l,u,c,_,h,p,d,E,f,g,m,v){"use strict";r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r,a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a,l=l&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l,c=c&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c;
/**
   * @preserve Copyright 2013 jQuery Foundation and other contributors
   * Released under the MIT license.
   * http://jquery.org/license
   */
const y=function(t){this.Init(t)};r.Object.createSubclass(y,r.Object,"oj.ComponentMessaging"),r._registerLegacyNamespaceProp("ComponentMessaging",y),y._STRATEGY_TYPE={NONE:"none",NOTEWINDOW:"notewindow",PLACEHOLDER:"placeholder",INLINE:"inline",LABEL_EDGE_INSIDE:"inside",LABEL_EDGE_INSIDE_FORM_CNTRL:"insideformcontrol",USER_ASSISTANCE_INLINE:"userassistanceinline"},y._STRATEGY_TYPE_TO_CALLBACK={};const T="aria-describedby";y.registerMessagingStrategy=function(t,e){t&&"function"==typeof e&&(y._STRATEGY_TYPE_TO_CALLBACK[t]=e)},y.prototype.Init=function(t){y.superclass.Init.call(this),this._component=t,this._activated=!1,this._initializeMessagingStrategies()},y.prototype.activate=function(t,e,n){var i=this;r.Assert.assertObject(n),this._launcher=t,this._contentElement=e,this._messagingContent=r.CollectionUtils.copyInto(this._messagingContent||{},n),this._isActive()?this._reactivate():(a.each(this._strategies,function(t,e){e.activate(i)}),this._activated=!0)},y.prototype.update=function(t){r.Assert.assertObject(t),r.Assert.assertBoolean(this._activated),this._messagingContent=r.CollectionUtils.copyInto(this._messagingContent||{},t),this._activated&&a.each(this._strategies,function(e,n){n.shouldUpdate(t)&&n.update()})},y.prototype.deactivate=function(){a.each(this._strategies,function(t,e){e.deactivate()}),this._activated=!1,this._component=null,this._launcher=null,this._contentElement=null,this._strategies={}},y.prototype.close=function(){this._activated&&a.each(this._strategies,function(t,e){e.close()})},y.prototype.releaseResources=function(){this._activated&&a.each(this._strategies,function(t,e){e.releaseResources()})},y.prototype.setupResources=function(){this._activated&&a.each(this._strategies,function(t,e){e.setupResources()})},y.prototype._createMessagingStrategy=function(t,e){return new(y._STRATEGY_TYPE_TO_CALLBACK[t]||y._STRATEGY_TYPE_TO_CALLBACK[y._STRATEGY_TYPE.NONE])(e)},y.prototype._getComponent=function(){return this._component||null},y.prototype._getLauncher=function(){return this._launcher||null},y.prototype._getContentElement=function(){return this._contentElement||null},y.prototype._getMessagingContent=function(){return this._messagingContent||{}},y.prototype._setMessagingContent=function(t){r.Assert.assertObject(t),this._messagingContent=r.CollectionUtils.copyInto(this._messagingContent||{},t)},y.prototype._isActive=function(){return this._activated},y.prototype._getResolvedMessagingDisplayOptions=function(t){for(var e={},n=!1,i=this._component.options,o={},s=this,r=Object.keys(t),l=0;l<r.length;l++){var u=r[l],c=t[u];n=!1;var _=u+"";if(Array.isArray(c))for(var h=0;h<c.length;h++){var p=c[h];n||(n=s._resolveStrategyTypeForArtifact(_,p,i,o))}else"string"==typeof c&&(n||(n=s._resolveStrategyTypeForArtifact(_,c,i,o)));n||(o[_]=y._STRATEGY_TYPE.NONE)}return s._addLabelStrategy(o),a.each(y._STRATEGY_TYPE,function(t,n){e[n]=[]}),a.each(o,function(t,n){e[n].push(t)}),e},y.prototype._getUserAssistanceStrategyToArtifactsObj=function(){var t={},e=this._component.options.displayOptions||{},n={},i=Object.keys(e);for(let t=0;t<i.length;t++){let o=i[t],s=e[o],r=o+"";n[r]="string"==typeof s&&"none"===s?y._STRATEGY_TYPE.NONE:y._STRATEGY_TYPE.USER_ASSISTANCE_INLINE}return this._addLabelStrategy(n),Object.keys(y._STRATEGY_TYPE).forEach(function(e){let n=y._STRATEGY_TYPE[e];t[n]=[]}),Object.keys(n).forEach(function(e){let i=n[e];t[i].push(e)}),t},y.prototype._addLabelStrategy=function(t){var e="labelEdge",n=this._component._ResolveLabelEdgeStrategyType();this._resolveStrategyTypeForArtifact(e,n,this._component.options,t)||(t[e]=y._STRATEGY_TYPE.NONE)},y.prototype._resolveStrategyTypeForArtifact=function(t,e,n,i){var o=!1,s=n.placeholder;switch(e){case y._STRATEGY_TYPE.PLACEHOLDER:"converterHint"===t&&(o||s||(i[t]=e,o=!0));break;case y._STRATEGY_TYPE.INLINE:"messages"===t&&(o||(i[t]=e,o=!0));break;case y._STRATEGY_TYPE.LABEL_EDGE_INSIDE:case y._STRATEGY_TYPE.LABEL_EDGE_INSIDE_FORM_CNTRL:"labelEdge"!==t||o||r.StringUtils.isEmptyOrUndefined(n.labelHint)||(i[t]=e,o=!0);break;default:o||"labelEdge"===t||(i[t]=e,o=!0)}return o},y.prototype._initializeMessagingStrategies=function(){var t=this._strategyToArtifacts(),e=t[y._STRATEGY_TYPE.NOTEWINDOW],n=t[y._STRATEGY_TYPE.NONE],i=t[y._STRATEGY_TYPE.PLACEHOLDER],o=t[y._STRATEGY_TYPE.INLINE],s=t[y._STRATEGY_TYPE.LABEL_EDGE_INSIDE],r=t[y._STRATEGY_TYPE.LABEL_EDGE_INSIDE_FORM_CNTRL],a=t[y._STRATEGY_TYPE.USER_ASSISTANCE_INLINE],l={};e.length>0&&(l[y._STRATEGY_TYPE.NOTEWINDOW]=this._createMessagingStrategy(y._STRATEGY_TYPE.NOTEWINDOW,e)),i.length>0&&0===s.length&&(l[y._STRATEGY_TYPE.PLACEHOLDER]=this._createMessagingStrategy(y._STRATEGY_TYPE.PLACEHOLDER,i)),o.length>0&&(l[y._STRATEGY_TYPE.INLINE]=this._createMessagingStrategy(y._STRATEGY_TYPE.INLINE,o)),a.length>0&&(l[y._STRATEGY_TYPE.USER_ASSISTANCE_INLINE]=this._createMessagingStrategy(y._STRATEGY_TYPE.USER_ASSISTANCE_INLINE,a)),s.length>0?l[y._STRATEGY_TYPE.LABEL_EDGE_INSIDE]=this._createMessagingStrategy(y._STRATEGY_TYPE.LABEL_EDGE_INSIDE,s):r.length>0&&(l[y._STRATEGY_TYPE.LABEL_EDGE_INSIDE_FORM_CNTRL]=this._createMessagingStrategy(y._STRATEGY_TYPE.LABEL_EDGE_INSIDE_FORM_CNTRL,r)),l[y._STRATEGY_TYPE.NONE]=this._createMessagingStrategy(y._STRATEGY_TYPE.NONE,n),this._strategies=l},y.prototype._reactivate=function(){var t,e=this._strategyToArtifacts(),n=this;a.each(e,function(e,i){e+="",t=n._strategies[e],i&&i.length>0?t?t&&t.reactivate(i):(t=n._createMessagingStrategy(e,i),n._strategies[e]=t,t.activate(n)):t&&y._STRATEGY_TYPE.NONE!==e&&(t.deactivate(),delete n._strategies[e])})},y.prototype._strategyToArtifacts=function(){let t,e=this._component._getResolvedUserAssistance();if("compact"!==e&&"displayOptions"!==e)t=this._getUserAssistanceStrategyToArtifactsObj();else{let n=this._component.options.displayOptions||{};"compact"===e?(n.messages="notewindow",n.validatorHint="notewindow",n.converterHint="notewindow",t=this._getResolvedMessagingDisplayOptions(n)):t=this._getResolvedMessagingDisplayOptions(n)}return t};const C=function(t){this.Init(t)};r.Object.createSubclass(C,r.Object,"oj.MessagingStrategy"),r._registerLegacyNamespaceProp("MessagingStrategy",C),C.prototype.Init=function(t){r.Assert.assertArray(t),C.superclass.Init.call(this),this._displayOptions=t},C.prototype.activate=function(t){this._componentMessaging=t},C.prototype.deactivate=function(){},C.prototype.close=function(){},C.prototype.setupResources=function(){},C.prototype.releaseResources=function(){},C.prototype.reactivate=function(t){this.Init(t)},C.prototype.shouldUpdate=function(t){return!0},C.prototype.update=function(){},C.prototype.GetLauncher=function(){return this._componentMessaging._getLauncher()},C.prototype.GetContentElement=function(){return this._componentMessaging._getContentElement()},C.prototype.GetComponent=function(){return this._componentMessaging._getComponent()},C.prototype.setHasValidatorHints=function(t){this._hasValidatorHints=t},C.prototype.getHasValidatorHints=function(){return!0===this._hasValidatorHints},C.prototype.GenerateIdIfNeeded=function(t){isNaN(C._uidCounter)&&(C._uidCounter=0);var e=t;e.id||(e.id="ojms_"+C._uidCounter,C._uidCounter+=1)},C.prototype.GetMessages=function(){return this.GetValidityState().getMessages()},C.prototype.GetMaxSeverity=function(){return this.GetValidityState().getMaxSeverity()},C.prototype.GetConverterHint=function(){var t=[],e=this._getMessagingContent(),n=e&&e.converterHint;return n&&t.push(n),t},C.prototype.GetValidatorHints=function(){if(!this.getHasValidatorHints()){this.setHasValidatorHints(!0);let t=this.GetComponent();this._setMessagingContent(t._getValidatorHintsMC()),t._initAsyncValidatorMessagingHint()}var t=this._getMessagingContent();return t&&t.validatorHint||[]},C.prototype.GetTitle=function(){var t=this._getMessagingContent();return t&&t.title||""},C.prototype.GetValidityState=function(){var t=this._getMessagingContent();return t&&t.validityState||null},C.prototype.HasMessages=function(){var t=this.GetMessages();return!!(t&&t.length>0)},C.prototype.ShowMessages=function(){return-1!==this._displayOptions.indexOf("messages")},C.prototype.ShowConverterHint=function(){return-1!==this._displayOptions.indexOf("converterHint")},C.prototype.ShowValidatorHint=function(){return-1!==this._displayOptions.indexOf("validatorHint")},C.prototype.ShowTitle=function(){return-1!==this._displayOptions.indexOf("title")||-1!==this._displayOptions.indexOf("helpInstruction")},C.prototype.IsInvalid=function(){return this.GetValidityState().isInvalid()},C.prototype.AddAriaDescribedByForInlineMessaging=function(t){let e=this.GetContentElement();r.Assert.assertPrototype(e,a);let n=a(t).uniqueId()[0].getAttribute("id");e.each(function(){let t=this.getAttribute(T),e=t?t.split(/\s+/):[];-1===e.indexOf(n)&&e.push(n);let i=e.join(" ").trim();this.setAttribute(T,i)})},C.prototype.AddDescribedByToElement=function(t,e){const n="described-by",i=t.getAttribute(n);let o,s=i?i.split(/\s+/):[];-1===s.indexOf(e)&&s.push(e),o=s.join(" ").trim(),t.setAttribute(n,o)},C.prototype.RemoveDescribedByFromElement=function(t,e){const n="described-by",i=t.getAttribute(n);let o=(i?i.split(/\s+/):[]).filter(t=>t!==e).join(" ").trim();o?t.setAttribute(n,o):t.removeAttribute(n)},C.prototype.RemoveAriaDescribedByForInlineMessaging=function(t){let e=this.GetContentElement();r.Assert.assertPrototype(e,a);let n=t.getAttribute("id");e.each(function(){let t=this.getAttribute(T),e=t?t.split(/\s+/):[],i=e.indexOf(n);-1!==i&&e.splice(i,1);let o=e.join(" ").trim();o?this.setAttribute(T,o):this.removeAttribute(T)})},C.prototype._getMessagingContent=function(){return this._componentMessaging?this._componentMessaging._getMessagingContent():{}},C.prototype._setMessagingContent=function(t){return this._componentMessaging?this._componentMessaging._setMessagingContent(t):{}};const S=function(t){this.Init(t)};y.registerMessagingStrategy(y._STRATEGY_TYPE.NONE,S),S._SELECTOR_STATE_INVALID="oj-invalid",S._SELECTOR_STATE_WARNING="oj-warning",r.Object.createSubclass(S,C,"oj.DefaultMessagingStrategy"),r._registerLegacyNamespaceProp("DefaultMessagingStrategy",S),S.prototype.update=function(){S.superclass.update.call(this);var t=this.GetLauncher(),e=this.GetMaxSeverity(),n=[],i=[],o=!1,s=this.GetComponent().widget();t&&(this.IsInvalid()?(n.push(S._SELECTOR_STATE_WARNING),i.push(S._SELECTOR_STATE_INVALID),o=!0):this.HasMessages()&&e===l.SEVERITY_LEVEL.WARNING?(n.push(S._SELECTOR_STATE_INVALID),i.push(S._SELECTOR_STATE_WARNING)):(n.push(S._SELECTOR_STATE_INVALID),n.push(S._SELECTOR_STATE_WARNING)),s.removeClass(n.join(" ")).addClass(i.join(" ")),this.GetContentElement().attr({"aria-invalid":o}))},S.prototype.deactivate=function(){this.GetComponent().widget().removeClass(S._SELECTOR_STATE_INVALID).removeClass(S._SELECTOR_STATE_WARNING),this.GetContentElement().removeAttr("aria-invalid"),S.superclass.deactivate.call(this)};const A=function(t){this.Init(t)};y.registerMessagingStrategy(y._STRATEGY_TYPE.PLACEHOLDER,A),r.Object.createSubclass(A,C,"oj.PlaceholderMessagingStrategy"),r._registerLegacyNamespaceProp("PlaceholderMessagingStrategy",A),A.prototype.Init=function(t){A.superclass.Init.call(this,t)},A.prototype.activate=function(t){A.superclass.activate.call(this,t),this._refreshPlaceholder()},A.prototype.reactivate=function(t){A.superclass.reactivate.call(this,t),this._refreshPlaceholder()},A.prototype.shouldUpdate=function(t){return!(!t||void 0===t.converterHint)},A.prototype.update=function(){A.superclass.update.call(this),this._refreshPlaceholder()},A.prototype._refreshPlaceholder=function(){var t=this.GetLauncher();if(this.ShowPlaceholderContent()&&t){var e=this.GetConverterHint(),n=e.length?e[0]:"";if(r.StringUtils.isEmptyOrUndefined(n))return;this.GetComponent().option({placeholder:n},{_context:{internalMessagingSet:!0}})}},A.prototype.ShowPlaceholderContent=function(){return this.ShowConverterHint()};const N=function(t,e){this.Init(t,e)};N.isInvalid=function(t){return l.getMaxSeverity(t)>=l.SEVERITY_LEVEL.ERROR},r.Object.createSubclass(N,r.Object,"oj.ComponentValidity"),r._registerLegacyNamespaceProp("ComponentValidity",N),N.prototype.Init=function(t,e){N.superclass.Init.call(this),this._initialize(t,e)},N.prototype.isInvalid=function(){return this._invalid},N.prototype.getMessages=function(){return this._messages},N.prototype.getMaxSeverity=function(){return this._maxSeverity},N.prototype.update=function(t,e){this._initialize(t,e)},N.prototype._initialize=function(t,e){this._compValid=t,this._compMessages=e,this._messages=this._getImmediateMessages(),this._maxSeverity=l.getMaxSeverity(this._messages),this._invalid=N.isInvalid(this._messages)},N.prototype._getImmediateMessages=function(){for(var t=this._compMessages||[],e=[],n=0;n<t.length;n++){var i=t[n];i instanceof l.ComponentMessage&&!i.canDisplay()||e.push(i)}return e};const O={};c._registerLegacyNamespaceProp("Components",O),O._OJ_CONTAINER_ATTR="data-oj-container";const b="oj-component-names",P="oj-component-initnode";var I="oj-subtree-hidden",R="oj-pending-subtree-hidden";const D="node is not a component element";function M(t,e){if(null==t)return null;var n=1===t.nodeType,i=c.Composite&&!e?c.Composite.getContainingComposite(t):null;if(i)return i;if(n&&t.hasAttribute("data-oj-internal"))return t.parentNode instanceof Element&&t.parentNode.hasAttribute("data-oj-surrogate-id")?M(t=document.querySelector("[data-oj-popup-"+t.id+"-parent]"),e):M(t.parentNode,e);if(Y(t))return t;if(n&&t.classList.contains("oj-component")){if(x(t=t.querySelector(".oj-component-initnode:not([data-oj-internal])")||t))return t}else if(n&&t.hasAttribute("data-oj-containerid"))return M(t=document.getElementById(t.getAttribute("data-oj-containerid")),e);return M(t.parentNode,e)}function G(t,e){var n=function(){var t=a(this),n=t.data(b);if(null!=n)for(var i=0;i<n.length;i++){var o=t.data("oj-"+n[i]);null!=o&&e(o)}},i=a(t);i.hasClass(P)&&n.call(t),i.find("."+P).each(n)}function L(t,e,n){const i="oj-defer";function o(t){if(e&&t.classList.contains(P)){var o=a(t),s=o.data(b);if(null!=s)for(var r=0;r<s.length;r++){var l=o.data("oj-"+s[r]);null!=l&&e(l)}}if(n&&t.tagName.toLowerCase()===i){if(!t._activate)throw new Error("subtreeShown called before module ojs/ojdefer was loaded");t._activate()}}if(!function(t){for(var e=t;e;){if(e.nodeType===Node.DOCUMENT_NODE)return!1;if(e.nodeType===Node.ELEMENT_NODE&&e.classList.contains(I))return!0;e=e.parentNode}return!0}(t)){o(t);var s=[`.${P}`];n&&s.push(i);var r=[];s.forEach(function(t){r.push(`.${I} ${t}`),r.push(`.${R} ${t}`)}),n&&r.push(`${i}.${I}`);for(var l=s.join(","),u=r.join(","),c=function(t,e){for(var n=[],i=0,o=0;o<e.length;o++){for(var s=e[o];i<t.length&&t[i]!==s;)n.push(t[i]),i+=1;i+=1}for(;i<t.length;)n.push(t[i]),i+=1;return n}(t.querySelectorAll(l),t.querySelectorAll(u)),_=0;_<c.length;_++)o(c[_])}}function j(t){this.getCallback=function(){return t}}function B(t,e,n){return Object.keys(e).forEach(function(i){var o=t[i]||[],s=e[i];n?o=o.concat(s):o.push(s),t[i]=o}),t}function w(t){return d.isElementRegistered(t.tagName)}function x(t){return!!O.__GetWidgetConstructor(t)}function Y(t){return w(t)||x(t)}O.setDefaultOptions=function(t){var e=O._defaultProperties||{};Object.keys(t).forEach(function(n){var i=t[n];if(!c.CollectionUtils.isPlainObject(i))throw new Error("Invalid default options");e[n]=B(e[n]||{},i,!1)}),O._defaultProperties=e},O.getDefaultOptions=function(){return O._defaultProperties||{}},O.createDynamicPropertyGetter=function(t){return new j(t)},O.getWidgetConstructor=function(t,e){return t&&!d.isElementRegistered(t.tagName)?O.__GetWidgetConstructor(t,e):null},O.__GetWidgetConstructor=function(t,e){var n=a(t),i=n.data(b);if(i&&(null==e?e=i[0]:i.indexOf(e)<0&&(e=void 0),null!=e)){var o=n[e];if("function"==typeof o)return o.bind(n)}return null},O.subtreeAttached=function(t){_.fixResizeListeners(t),G(t,function(t){t.__handleSubtreeAttached()})},O.subtreeDetached=function(t){G(t,function(t){t.__handleSubtreeDetached()})},O.subtreeShown=function(t,e){var n=a(t)[0];if(n.nodeType===Node.ELEMENT_NODE){var i=(e||{}).initialRender;i||_.fixResizeListeners(n),n.classList.remove(I),L(n,function(t){p.CustomElementUtils.allowSlotRelocation(!0);try{i?t._NotifyInitShown():t._NotifyShown()}finally{p.CustomElementUtils.allowSlotRelocation(!1)}},!0)}},O.subtreeHidden=function(t){var e=a(t)[0];e.nodeType===Node.ELEMENT_NODE&&(L(e,function(t){p.CustomElementUtils.allowSlotRelocation(!0);try{t._NotifyHidden()}finally{p.CustomElementUtils.allowSlotRelocation(!1)}},!1),e.classList.add(I))},O.markPendingSubtreeHidden=function(t){t.classList.add(R)},O.unmarkPendingSubtreeHidden=function(t){t.classList.remove(R)},O.isComponentInitialized=function(t,e){var n=t.data(b);return!!(a.isArray(n)&&n.indexOf(e)>-1&&t.is("."+P))},O.__getDefaultOptions=function(t){for(var e={},n=O.getDefaultOptions(),i=t.length-1;i>=0;i--){var o=n[t[i]];void 0!==o&&(e=B(e,o,!0))}return e},O.getComponentElementByNode=function(t){return M(t,!!(arguments.length>1&&arguments[1]))},O.getSubIdByNode=function(t,e){return O.callComponentMethod(t,"getSubIdByNode",e)},O.getNodeBySubId=function(t,e){return O.callComponentMethod(t,"getNodeBySubId",e)},O.getComponentOption=function(t,e){if(!Y(t))throw new Error(D);return w(t)?t.getProperty?t.getProperty.call(t,e):void 0:O.__GetWidgetConstructor(t)("option",e)},O.setComponentOption=function(t,e,n){if(!Y(t))throw new Error(D);w(t)?t.setProperty&&t.setProperty.call(t,e,n):O.__GetWidgetConstructor(t)("option",e,n)},O.callComponentMethod=function(t,e,n){if(!Y(t))throw new Error(D);return w(t)?t[e]?t[e].apply(t,[].slice.call(arguments,2)):void 0:O.__GetWidgetConstructor(t).apply(a(t),[].slice.call(arguments,1))};const U={};U.proto=Object.create(r.BaseCustomElementBridge.proto),r.CollectionUtils.copyInto(U.proto,{beforePropertyChangedEvent:function(t,e,n){var i=e,o=n.value;n.subproperty&&(i=n.subproperty.path,o=n.subproperty.value),this._partialRender(t,i,o)},AddComponentMethods:function(t){t.refresh=function(){p.CustomElementUtils.getElementBridge(this)._fullRender(this)},t.setProperty=function(t,e){var n=p.CustomElementUtils.getElementBridge(this);n.SaveEarlyPropertySet(this,t,e)||n.SetProperty(this,t,e,this,!0)},t.getProperty=function(t){return p.CustomElementUtils.getElementBridge(this).GetProperty(this,t,this)},t._propsProto.setProperty=function(t,e){this._BRIDGE.SetProperty(this._ELEMENT,t,e,this,!1)},t._propsProto.getProperty=function(t){return this._BRIDGE.GetProperty(this,t,this)}},CreateComponent:function(t){if(O.unmarkPendingSubtreeHidden(t),!this._INSTANCE&&this._EXTENSION._CONSTRUCTOR){var e=p.ElementUtils.getUniqueId();if(this._CONTEXT={element:t,props:this._PROPS_PROXY,unique:e},this._CONTEXT.uniqueId=t.id?t.id:e,this._INSTANCE=new this._EXTENSION._CONSTRUCTOR(this._CONTEXT),this._INSTANCE.createDOM&&this._INSTANCE.createDOM(),this._INSTANCE.updateDOM){p.CustomElementUtils.allowSlotRelocation(!0);try{this._INSTANCE.updateDOM()}finally{p.CustomElementUtils.allowSlotRelocation(!1)}}}},DefineMethodCallback:function(t,e,n){t[e]=function(){var t=p.CustomElementUtils.getElementBridge(this);if(t._INSTANCE){var i=n.internalName||e;return t._INSTANCE[i].apply(t._INSTANCE,arguments)}}},DefinePropertyCallback:function(t,e,n){function i(t,i){if(!this._BRIDGE.SaveEarlyPropertySet(this._ELEMENT,e,t)){i&&(t=p.transformPreactValue(this._ELEMENT,n,t));var o=this._BRIDGE._PROPS[e];p.ElementUtils.comparePropertyValues(n.writeback,t,o)?E.info(p.CustomElementUtils.getElementInfo(this._ELEMENT)+": Ignoring property set for property '"+e+"' with same value."):(i&&(t=this._BRIDGE.ValidatePropertySet(this._ELEMENT,e,t)),n._eventListener?(this._BRIDGE.SetEventListenerProperty(this._ELEMENT,e,t),this._BRIDGE._PROPS[e]=t):(this._BRIDGE._PROPS[e]=t,r.BaseCustomElementBridge.__FirePropertyChangeEvent(this._ELEMENT,e,t,o,i?"external":"internal"),this._BRIDGE.State.dirtyProps.add(e)))}}function o(){var t=this._BRIDGE._PROPS[e];return void 0===t&&(t=this._BRIDGE._getDefaultValue(e,n),this._BRIDGE._PROPS[e]=t),t}n._derived||r.BaseCustomElementBridge.__DefineDynamicObjectProperty(t._propsProto,e,function(){return o.bind(this)()},function(t){i.bind(this)(t,!1)}),r.BaseCustomElementBridge.__DefineDynamicObjectProperty(t,e,function(){var t=p.CustomElementUtils.getElementBridge(this);return o.bind(t._PROPS_PROXY)()},function(t){var e=p.CustomElementUtils.getElementBridge(this);i.bind(e._PROPS_PROXY)(t,!0)})},InitializeElement:function(t){r.BaseCustomElementBridge.proto.InitializeElement.call(this,t),this._EXTENSION._CONTROLS_SUBTREE_HIDDEN&&O.markPendingSubtreeHidden(t),r.BaseCustomElementBridge.__InitProperties(t,t)},InitializePrototype:function(t){r.BaseCustomElementBridge.proto.InitializePrototype.call(this,t),Object.defineProperty(t,"_propsProto",{value:{}})},initializeBridge:function(t,e){r.BaseCustomElementBridge.proto.initializeBridge.call(this,t,e),this._EXTENSION=this.METADATA.extension||{},this._PROPS={},t._propsProto&&(this._PROPS_PROXY=Object.create(t._propsProto),this._PROPS_PROXY._BRIDGE=this,this._PROPS_PROXY._ELEMENT=t)},ShouldRemoveDisabled:function(){return!0===this._EXTENSION._SHOULD_REMOVE_DISABLED},_fullRender:function(t){if(this._INSTANCE&&this._INSTANCE.updateDOM){p.CustomElementUtils.allowSlotRelocation(!0);try{this._INSTANCE.updateDOM()}finally{p.CustomElementUtils.allowSlotRelocation(!1)}}},_partialRender:function(t,e,n){if(this._INSTANCE){var i=this._INSTANCE.handlePropertyChanged;if((!i||!i(e,n))&&this._INSTANCE.updateDOM){p.CustomElementUtils.allowSlotRelocation(!0);try{this._INSTANCE.updateDOM()}finally{p.CustomElementUtils.allowSlotRelocation(!1)}}}},_getDefaultValue:function(t,e){return this._EXTENSION._CONSTRUCTOR?f.DefaultsUtils.getDefaults(this._EXTENSION._CONSTRUCTOR,this.METADATA,!1)[t]:u.getDefaultValue(e)}}),r._registerLegacyNamespaceProp("DefinitionElementBridge",U);class W extends p.ElementState{IsTransferAttribute(t){const e=p.CustomElementUtils.getElementBridge(this.Element),n=e._EXTENSION._GLOBAL_TRANSFER_ATTRS;return e._WIDGET_ELEM&&n&&n.includes(t)}GetDescriptiveTransferAttributeValue(t){return p.CustomElementUtils.getElementBridge(this.Element)._WIDGET_ELEM.getAttribute(t)}}const H={};H.proto=Object.create(r.BaseCustomElementBridge.proto),r._registerLegacyNamespaceProp("CustomElementBridge",H);const k=function(t,e){return function(n){t.dispatchEvent(new FocusEvent(e,{relatedTarget:n.relatedTarget}))}};r.CollectionUtils.copyInto(H.proto,{getThrottlePromise:function(){var t=this.State.getBindingProviderPromise();return t=t.then(function(t){return t?t.__GetThrottlePromise():null})},AddComponentMethods:function(t){t.setProperty=function(t,e){var n=p.CustomElementUtils.getElementBridge(this);if(!n.SaveEarlyPropertySet(this,t,e)&&!n._setEventProperty(this,t,e)&&!n._validateAndSetCopyProperty(this,t,e,null)){var i=u.getPropertyMetadata(t,d.getElementProperties(this));i?(n._setOption(t,e,i,this),n.State.dirtyProps.add(t.split(".")[0])):this[t]=e}},t.getProperty=function(t){var e=p.CustomElementUtils.getElementBridge(this),n=u.getPropertyMetadata(t,d.getElementProperties(this));if(p.AttributeUtils.isEventListenerProperty(t)||!n)return this[t];var i=n?n.extension:null;return i&&i._COPY_TO_INNER_ELEM?e._getCopyProperty(this,t,n):H._getPropertyAccessor(this,t)()},t.focus=function(){var t=p.CustomElementUtils.getElementBridge(this);if(t._WIDGET_INSTANCE){var e=t._WIDGET_INSTANCE.__getFocusElement();e&&(e!==this?e.focus():HTMLElement.prototype.focus.call(this))}else HTMLElement.prototype.focus.call(this)},t.blur=function(){var t=p.CustomElementUtils.getElementBridge(this);if(t._WIDGET_INSTANCE){var e=t._WIDGET_INSTANCE.__getFocusElement();e&&(e!==this?e.blur():HTMLElement.prototype.blur.call(this))}else HTMLElement.prototype.blur.call(this)}},BatchedPropertySet:function(t,e){var n,i=Object.keys(e),o={};for(n=0;n<i.length;n++){var s=i[n],r=e[s];this._setEventProperty(t,s,r)||this._validateAndSetCopyProperty(t,s,r,null)||(r=this.ValidatePropertySet(t,s,r),o[s=this.GetAliasForProperty(s)]=r)}var a=O.__GetWidgetConstructor(this._WIDGET_ELEM);if(a)a("option",o);else for(n=0;n<i.length;n++){var l=i[n];t.setProperty(l,e[l])}},CreateComponent:function(t){var e=this._INNER_DOM_FUNCTION;if(this._WIDGET_ELEM=H._getWidgetElement(t,e?e(t):this._EXTENSION._INNER_ELEM),this._WIDGET_ELEM!==t){for(var n=this._EXTENSION._GLOBAL_TRANSFER_ATTRS||[],i=0;i<n.length;i++){var o=n[i];t.hasAttribute(o)&&(this._WIDGET_ELEM.setAttribute(o,t.getAttribute(o)),this._removingTransfer=!0,t.removeAttribute(o))}this._copyProperties()}O.unmarkPendingSubtreeHidden(t);var s=a(this._WIDGET_ELEM),r=a(this._WIDGET_ELEM)[this._EXTENSION._WIDGET_NAME].bind(s);r(this._PROPS),this._WIDGET=r,this._WIDGET_INSTANCE=r("instance"),this._WRITEBACK_PROPS&&this._WIDGET_INSTANCE.__saveWritebackOptions(this._WRITEBACK_PROPS),this._setupFocusPropagation(t)},DefineMethodCallback:function(t,e,n){t[e]=function(){var t=p.CustomElementUtils.getElementBridge(this),i=n.internalName||e;p.CustomElementUtils.allowSlotRelocation(!0);try{return t._WIDGET.apply(null,[i].concat([].slice.call(arguments)))}finally{p.CustomElementUtils.allowSlotRelocation(!1)}}},DefinePropertyCallback:function(t,e,n){var i=n.extension;Object.defineProperty(t,e,{enumerable:!0,get:function(){var t=p.CustomElementUtils.getElementBridge(this);return n._eventListener?t.GetEventListenerProperty(e):i&&i._COPY_TO_INNER_ELEM?t._getCopyProperty(this,e,n):H._getPropertyAccessor(this,e)()},set:function(t){var i=p.CustomElementUtils.getElementBridge(this);i.SaveEarlyPropertySet(this,e,t)||(t=p.transformPreactValue(this,n,t),n._eventListener?i.SetEventListenerProperty(this,e,t):i._validateAndSetCopyProperty(this,e,t,n)||(i._setOption(e,t,n,this),i.State.dirtyProps.add(e)))}})},GetAttributes:function(t){var e=u.getFlattenedAttributes(t.properties);return t.extension._GLOBAL_TRANSFER_ATTRS&&(e=e.concat(t.extension._GLOBAL_TRANSFER_ATTRS)),t.extension._WATCHED_ATTRS&&(e=e.concat(t.extension._WATCHED_ATTRS)),e},GetAliasForProperty:function(t){var e=this._EXTENSION._ALIASED_PROPS;return e&&e[t]?e[t]:t},InitializeElement:function(t){r.BaseCustomElementBridge.proto.InitializeElement.call(this,t),this._EXTENSION._CONTROLS_SUBTREE_HIDDEN&&O.markPendingSubtreeHidden(t),r.BaseCustomElementBridge.__InitProperties(t,this._PROPS)},HandleAttributeChanged:function(t,e,n,i){var o=this._EXTENSION._GLOBAL_TRANSFER_ATTRS,s=o&&-1!==o.indexOf(e),r=this._EXTENSION._WATCHED_ATTRS,a=r&&-1!==r.indexOf(e);s&&this._WIDGET_ELEM?this._removingTransfer?this._removingTransfer&&(this._removingTransfer=!1):(this._WIDGET_ELEM.setAttribute(e,i),this._removingTransfer=!0,t.removeAttribute(e)):a&&n!==i&&this._WIDGET_INSTANCE&&this._WIDGET_INSTANCE.__handleWatchedAttribute(e,n,i)},HandleDetached:function(t){r.BaseCustomElementBridge.proto.HandleDetached.call(this,t),O.__GetWidgetConstructor(this._WIDGET_ELEM)&&this._WIDGET_INSTANCE&&this._WIDGET_INSTANCE.__handleDisconnected(),this._teardownFocusPropagation(t)},HandleReattached:function(t){r.BaseCustomElementBridge.proto.HandleReattached.call(this,t),this._setupFocusPropagation(t),this._WIDGET_INSTANCE&&this._WIDGET_INSTANCE.__handleConnected()},initializeBridge:function(t,e){r.BaseCustomElementBridge.proto.initializeBridge.call(this,t,e),this._INNER_DOM_FUNCTION=e.innerDomFunction,this._EXTENSION=this.METADATA.extension||{},this._PROPS=this._EXTENSION._INNER_ELEM||this._INNER_DOM_FUNCTION?{_wrapper:t}:{},this._setupPropertyAccumulator(t,this._PROPS),this._processProperties(t)},_setOption:function(t,e,n,i){let o={};if(void 0===e&&-1===t.indexOf(".")&&(o={_context:{skipEvent:!0}},e=u.getDefaultValue(n),this.State.isComplete())){const e=i[t];r.BaseCustomElementBridge.__FirePropertyChangeEvent(i,t,void 0,e,"external")}H._getPropertyAccessor(i,t,o)(e)},_copyProperties:function(){if(this._COPY_ATTRS)for(var t=0;t<this._COPY_ATTRS.length;t++){var e=this._COPY_ATTRS[t],n=p.AttributeUtils.attributeToPropertyName(e);if(Object.prototype.hasOwnProperty.call(this._PROPS,n)){var i=this._PROPS[n];this._setCopyProperty(e,i),delete this._PROPS[n]}}},_getCopyProperty:function(t,e,n){var i=p.AttributeUtils.propertyNameToAttribute(e);if(n.extension._ATTRIBUTE_ONLY){if(this._WIDGET_ELEM.hasAttribute(i)){var o=this._WIDGET_ELEM.getAttribute(i);return p.AttributeUtils.attributeToPropertyValue(t,i,o,n)}return null}return this._WIDGET_ELEM[e]},_processProperties:function(t){var e=d.getElementProperties(t);if(e)for(var n=Object.keys(e),i=0;i<n.length;i++){var o=n[i],s=e[o];s.writeback&&(this._WRITEBACK_PROPS||(this._WRITEBACK_PROPS={}),this._WRITEBACK_PROPS[o]=!0);var r=s.extension;r&&r._COPY_TO_INNER_ELEM&&(this._COPY_ATTRS||(this._COPY_ATTRS=[]),this._COPY_ATTRS.push(o))}},_setCopyProperty:function(t,e){null==e||!1===e?this._WIDGET_ELEM.removeAttribute(t):!0===e?this._WIDGET_ELEM.setAttribute(t,""):this._WIDGET_ELEM.setAttribute(t,e)},_setupPropertyAccumulator:function(t,e){this._WIDGET=function(n,i,o){if("option"===n)return r.BaseCustomElementBridge.__SetProperty(this.GetAliasForProperty.bind(this),e,i,o),e[i];throw new p.JetElementError(t,"Cannot access methods before element is upgraded.")}},_validateAndSetCopyProperty:function(t,e,n,i){var o=p.AttributeUtils.propertyNameToAttribute(e),s=this._COPY_ATTRS&&-1!==this._COPY_ATTRS.indexOf(o);if(s)if(n=this.ValidatePropertySet(t,e,n),this._WIDGET_ELEM){i||(i=u.getPropertyMetadata(e,d.getElementProperties(t)));var a=this._getCopyProperty(t,e,i);this._setCopyProperty(o,n),r.BaseCustomElementBridge.__FirePropertyChangeEvent(t,e,this._getCopyProperty(t,e,i),a,"external")}else this._PROPS[o]=n;return s},_setEventProperty:function(t,e,n){var i=p.AttributeUtils.isEventListenerProperty(e);return i&&(t[e]=n),i},_setupFocusPropagation:function(t){const e=this._WIDGET_INSTANCE.__getFocusElement();if(e&&e!==t){const n=k(t,"focus"),i=k(t,"blur");e.addEventListener("focus",n),e.addEventListener("blur",i),this._teardownFocus=function(t,e,n){return function(){t.removeEventListener("focus",e),t.removeEventListener("blur",n)}}(e,n,i)}},_teardownFocusPropagation:function(){this._teardownFocus&&(this._teardownFocus(),this._teardownFocus=null)}}),H.getMetadata=function(t){return H._METADATA_MAP[t.toLowerCase()]},H.isKnownEvent=function(t,e){var n=p.CustomElementUtils.getElementBridge(t);return null!=(n.METADATA.events&&n.METADATA.events[e])},H.isKnownProperty=function(t,e){var n=p.CustomElementUtils.getElementBridge(t);return null!=(n.METADATA.properties&&n.METADATA.properties[e])},H.getPropertyForAlias=function(t,e){var n=p.CustomElementUtils.getElementBridge(t)._EXTENSION._COMPONENT_TO_ELEMENT_ALIASES;return n&&n[e]?n[e]:e},H.register=function(t,e){var n=e[r.BaseCustomElementBridge.DESC_KEY_META];n=r.BaseCustomElementBridge.__ProcessEventListeners(n),e[r.BaseCustomElementBridge.DESC_KEY_META]=n,H._METADATA_MAP[t.toLowerCase()]=n;var i=n.extension,o=i&&i._WIDGET_NAME?H.proto:U.proto;const s=i&&i._WIDGET_NAME?W:p.ElementState;var a=i._ALIASED_PROPS;a&&(i._COMPONENT_TO_ELEMENT_ALIASES={},Object.keys(a).forEach(function(t){i._COMPONENT_TO_ELEMENT_ALIASES[a[t]]=t}));const l={descriptor:e,bridgeProto:o,stateClass:s};d.registerElement(t,l,o.getClass(e))},H._getPropertyAccessor=function(t,e,n){return function(i){var o=p.CustomElementUtils.getElementBridge(t);return 1===arguments.length?(i=o.ValidatePropertySet(t,e,i),e=o.GetAliasForProperty(e),void o._WIDGET("option",e,i,n)):(e=o.GetAliasForProperty(e),o._WIDGET("option",e))}.bind(t)},H._getWidgetElement=function(t,e){var n=t;if(e){var i=t.firstElementChild;if(i&&i.tagName.toLowerCase()===e)n=i;else{n=document.createElement(e);for(var o=[],s=t.childNodes,r=0;r<s.length;r++)o.push(s[r]);for(t.appendChild(n);o.length;){var a=o.shift();p.CustomElementUtils.getSlotAssignment(a)||n.appendChild(a)}}n.setAttribute("data-oj-internal","")}return n},H._METADATA_MAP={};class F{static isDataProvider(t){return!(!t||!t.fetchFirst)}static isTreeDataProvider(t){return!(!t||!t.getChildDataProvider)}}c._registerLegacyNamespaceProp("DataProviderFeatureChecker",F);var V="translations",X=V+".";const K="oj-disabled",z="start bottom";var q,J,$,Z={isDefaultPrevented:function(){return!1},preventDefault:function(){this.isDefaultPrevented=it},stopPropagation:function(){this.isPropagationStopped=it},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=it}};function Q(t,e,n,i,o,s,r){var a=n,l=!1,u={};delete i[o],Object.defineProperty(i,o,{get:function(){if(l)return a;if(null!=t._settingNestedKey)return a;var n=s(r?r():o);return et([e,n,a],u)},set:function(e){a=e,null!=t._settingNestedKey?u[t._settingNestedKey]=!0:l=!0},enumerable:!0})}function tt(t){if(1===t.length){var e=t[0];return e instanceof j?e.getCallback():null}for(var n=!1,i=0;i<t.length&&!n;i++){var o=t[i];null!=o&&o instanceof j&&(n=!0)}return n?function(e){var n=[];return t.forEach(function(t){null!=t&&t instanceof j?n.push(t.getCallback()(e)):n.push(t)}),et(n)}:null}function et(t,e){for(var n,i=0;i<t.length;i++){var o=t[i];if(void 0!==o)if(a.isPlainObject(o))n=nt({},a.isPlainObject(n)?[n,o]:[o],i===t.length-1?null:e,null);else n=o}return n}function nt(t,e,n,i){for(var o=e.length,s=0;s<o;s++)for(var r=e[s],l=Object.keys(r),u=0;u<l.length;u++){var c,_=l[u];if(c=null==n?null:null==i?_:i+"."+_,null==n||!n[c]){var h=r[_];if(void 0!==h)if(a.isPlainObject(h)){var p=a.isPlainObject(t[_])?[t[_],h]:[h];t[_]=nt({},p,n,c)}else t[_]=h}}return t}function it(){return!0}function ot(t){return t.getAttribute&&t.getAttribute("class")||""}J="baseComponent",a.widget("oj."+J,{options:{contextMenu:null,rootAttributes:null,optionChange:void 0,destroy:void 0},refresh:function(){this._propertyContext=null,this._SetupContextMenu()},_createWidget:function(t,e){t&&(this.OuterWrapper=t._wrapper),this._originalDefaults=this.options||{},this._constructorOptions=t||{},this._super(t,e),this._AfterCreateEvent()},_SetRootAttributes:function(){var t=this.options.rootAttributes;if(t){var e=this.widget();if(null==e)return;var n=t.class;n&&e.addClass(n),t.style&&E.error("The rootAttributes.style option violates the recommended\n          Content Security Policy which disallows inline styles and is therefore ignored.\n          Use the rootAttributes.class option instead."),delete(t=a.extend({},t)).class,delete t.style,e.attr(t),delete t.id;var i=Object.keys(t);if(i.length)throw new Error("Unsupported values passed to rootAttributes option: "+i.toString())}},_create:function(){this._SaveAttributes(this.element),this._InitOptions(this._originalDefaults,this._constructorOptions),delete this._originalDefaults,delete this._constructorOptions,this._ComponentCreate(),this._AfterCreate(),this._SetupResources(),this.element.addClass(P)},_InitOptions:function(t,e){this._setupDefaultOptions(t,e),this._initContextMenuOption(e)},_ComponentCreate:function(){var t,e,n;t=this.element,e=this.widgetName,(n=t.data(b))||(n=[],t.data(b,n)),n.indexOf(e)<0&&n.push(e),this.activeableEventNamespace=this.eventNamespace+"activeable",this.hoverableEventNamespace=this.eventNamespace+"hoverable"},_AfterCreate:function(){this._SetRootAttributes(),this.contextMenuEventNamespace=this.eventNamespace+"contextMenu",this.activeableEventNamespace=this.eventNamespace+"activeable",this.hoverableEventNamespace=this.eventNamespace+"hoverable"},_AfterCreateEvent:a.noop,_setOptionClasses:function(){},_setOptionDisabled:function(){},_classes:function(){return""},_removeClass:function(){return this},_addClass:function(){return this},_toggleClass:function(){return this},_SaveAttributes:function(t){},_SaveAllAttributes:function(t){var e=this;this._savedAttributes=[],a.each(t,function(t,n){var i={},o={element:n,attributes:i},s=n.attributes;e._savedAttributes.push(o),a.each(s,function(t,e){var n=e.name;i[n]={attr:e.value}})})},_GetSavedAttributes:function(t){var e=this._savedAttributes;if(void 0===e)return null;for(var n=t[0],i=0,o=e.length;i<o;i++){var s=e[i];if(s.element===n)return s.attributes}return{}},_RestoreAttributes:function(){},_RestoreAllAttributes:function(){a.each(this._savedAttributes,function(t,e){var n=a(e.element),i=e.attributes;if(1===n.length){var o,s,r=e.element.attributes,l=[];for(o=0,s=r.length;o<s;o++)r[o].name in i||l.push(r[o].name);for(o=0,s=l.length;o<s;o++)"style"===l[o]?n[0].style=null:n.removeAttr(l[o]);var u=Object.keys(i);for(o=0;o<u.length;o++){var c=u[o];"style"===c&&""===i[c].attr?n[0].style=null:n.attr(c,i[c].attr)}}})},_GetTranslationsSectionName:function(){return this.widgetFullName},_CompareOptionValues:function(t,e,n){return this._IsCustomElement()&&this._getWritebackOption(t)?r.Object.compareValues(e,n):e===n},getTranslatedString:function(t,e){var n={};arguments.length>2?n=Array.prototype.slice.call(arguments,1):2===arguments.length&&("object"==typeof(n=arguments[1])||n instanceof Array||(n=[n]));var i=this.option(X+t);return null==i?t:g.applyParameters(i.toString(),n)},getNodeBySubId:function(t){return null!=t&&null!=t.subId||!this.element?null:this.element[0]},getSubIdByNode:function(t){return null},destroy:function(){if(this._IsCustomElement())throw new Error("destroy cannot be called on a custom element");this._trigger("destroy"),_.dispatchEvent(this.element[0],new CustomEvent("_ojDestroy")),this._ReleaseResources(),this._super(),this.element.removeClass(P),this.widget().removeClass(K),this._removeStateClasses(this.element),function(t,e){var n=t.data(b);if(n){var i=n.indexOf(e);i>=0&&(n.splice(i,1),0===n.length&&t.removeData(b))}}(this.element,this.widgetName),this._RestoreAttributes(),this._initialCmDomAttr?this.element.attr("contextmenu",this._initialCmDomAttr):this.element.removeAttr("contextmenu"),this._propertyContext=null},option:function(t,e){if(0===arguments.length)return a.widget.extend({},this.options);var n,i=arguments[0],o=i,s=null,r={};if("string"==typeof i){o={};var l=i.split(".");if(i=l.shift(),l.length){var u;s=l.join(".");try{arguments.length>1&&(this._settingNestedKey=s),u=a.widget.extend({},this.options[i]),o[i]=u}finally{this._settingNestedKey=null}for(n=0;n<l.length-1;n++)u[l[n]]=u[l[n]]||{},u=u[l[n]];if(i=l.pop(),1===arguments.length)return void 0===u[i]?null:u[i];u[i]=e}else{if(1===arguments.length)return void 0===this.options[i]?null:this.options[i];o[i]=e}r=arguments[2]||r}else r=arguments[1]||r;if(null!=s){var c={path:t,value:e};r=a.widget.extend({},r,{subkey:s,subproperty:c})}var _=r?r._context:null,h=!!_&&_.internalSet,d={},f=Object.keys(o);for(n=0;n<f.length;n++){var g=f[n],m=o[g],v=this.options[g];r&&r.changed||!this._CompareOptionValues(g,v,m)?d[g]=m:this._IsCustomElement()&&E.info(p.CustomElementUtils.getElementInfo(this.element[0])+": Ignoring property set for property '"+g+"' with same value.")}if(Object.keys(d).length>0){p.CustomElementUtils.allowSlotRelocation(!0);try{h?this._internalSetOptions(d,r):this._setOptions(d,r)}finally{p.CustomElementUtils.allowSlotRelocation(!1)}}return this},_internalSetOptions:function(t,e){for(var n=Object.keys(t),i=0;i<n.length;i++){var o=n[i],s=t[o],r=this.options[o];this.options[o]=s,this._optionChanged(o,s,r,e)}},_setOptions:function(t,e){p.CustomElementUtils.allowSlotRelocation(!0);try{for(var n=Object.keys(t),i=0;i<n.length;i++){var o=n[i],s=t[o];this._setOption(o,s,e)}}finally{p.CustomElementUtils.allowSlotRelocation(!1)}return this},_setOption:function(t,e,n){var i=this.options[t];if("disabled"===t)this.options[t]=e,this.widget().toggleClass(K,!!e).attr("aria-disabled",e),e&&this._removeStateClasses(this.widget());else{try{var o=null==n?null:n.subkey;null!=o&&(this._settingNestedKey=o),this._super(t,e)}finally{this._settingNestedKey=null}"contextMenu"===t&&this._SetupContextMenu()}return this._optionChanged(t,e,i,n),this},_optionChanged:function(t,e,n,i){var o,s=null,r=!1,l=!1,u=null,c="external",_=null;if(i&&(s=i._context)){if(s.skipEvent)return;u=s.originalEvent,r=void 0===s.writeback?null!=u:s.writeback,l=s.readOnly,_=s.optionMetadata,o=s.extraData,s.internalSet&&(c="internal")}(_=_||{}).writeback=r?"shouldWrite":"shouldNotWrite",l&&(_.readOnly=!0);var h={option:t,previousValue:n,value:e,optionMetadata:_,updatedFrom:c},p=null==i?null:i.subkey;if(p){var d=p.split("."),E=n;d.forEach(function(t){E&&(E=E[t])});var f=i.subproperty;f.previousValue=E,h.subproperty=f}null!=o&&(h=a.extend({},o,h)),this._trigger("optionChange",u,h)},_SetupResources:function(){this._SetupContextMenu()},_ReleaseResources:function(){this._ReleaseContextMenu()},_trigger:function(t,e,n){return this._trigger2(t,e,n).proceed},_trigger2:function(t,e,n){var i=n||{};if(this._IsCustomElement())return this._triggerCustomEvent(t,e,i);var o=this.options[t],s=a.Event(e,Z);return s.type=(this.widgetEventPrefix+t).toLowerCase(),s.target=this.element[0],this.element.trigger(s,i),{proceed:!(a.isFunction(o)&&!1===o.apply(this.element[0],[s].concat(i))||s.isDefaultPrevented()),event:s}},_triggerCustomEvent:function(t,e,n){var i,o,s,r={},l=this._getRootElement();if("optionChange"===t){var u=H.getPropertyForAlias(l,n.option);if(!H.isKnownProperty(l,u))return{proceed:!0,event:null};i=p.AttributeUtils.propertyNameToChangeEventType(u);for(var c=Object.keys(n),_=0;_<c.length;_++){var h=c[_];if("option"!==h)if("optionMetadata"===h)for(var d=Object.keys(n[h]),E=0;E<d.length;E++){var f=d[E];"writeback"!==f&&"component"!==f&&(r[f]=n[h][f])}else r[h]=n[h]}}else{if(i=p.AttributeUtils.eventTriggerToEventType(t),!H.isKnownEvent(l,i))return{proceed:!0,event:null};o=!0,s=!0,r=this._resolveJQueryObjects(n)}e&&(r.originalEvent=e instanceof a.Event?e.originalEvent:e);var g={detail:r};o&&(g.bubbles=!0),s&&(g.cancelable=!0);var m=new CustomEvent(i,g);return l.dispatchEvent(m),{proceed:!m.defaultPrevented,event:m}},_resolveJQueryObjects:function(t){for(var e=r.CollectionUtils.copyInto({},t),n=Object.keys(e),i=0;i<n.length;i++){var o=n[i],s=e[o];s&&s instanceof a&&(0===s.length?e[o]=null:1===s.length?e[o]=s[0]:e=s.toArray())}return e},_initContextMenuOption:function(t){var e=this.element.attr("contextmenu");this._initialCmDomAttr=e,e&&!("contextMenu"in t)&&this.option("contextMenu",document.getElementById(e),{_context:{internalSet:!0}})},_handleContextMenuGesture:function(t,e,n){if(!this._IsEffectivelyDisabled()){var i;if("OJ-MENU"===t.tagName)i=t;else{var o=O.__GetWidgetConstructor(t,"ojMenu");if(!(i=o&&o("instance")))throw new Error("Invalid JET Menu.")}this._NotifyContextMenuGesture(i,e,n),a(t).is(":visible")&&e.preventDefault()}},_SetupContextMenu:function(){var t=this._GetContextMenu();if(t||(t=this._GetDefaultContextMenu()),t&&void 0===this._contextMenuGestureInit){this._contextMenuGestureInit=t;var e=this;v.startDetectContextMenuGesture(this.widget()[0],function(n,i){e._handleContextMenuGesture(t,n,i)})}},_ReleaseContextMenu:function(){this._contextMenuGestureInit=void 0,v.stopDetectContextMenuGesture(this.widget()[0])},_GetContextMenu:function(){if(this._IsCustomElement()){var t=p.CustomElementUtils.getSlotMap(this._getRootElement()).contextMenu;if(t&&t.length>0)return t[0]}else if(this.options.contextMenu)return a(this.options.contextMenu).first()[0];return null},_NotifyContextMenuGesture:function(t,e,n){this._OpenContextMenu(e,n)},_OpenContextMenu:function(t,e,n,i,o){var s=this._GetContextMenu();if(s||(s=this._contextMenuGestureInit&&a(this._contextMenuGestureInit).is(":visible")?this._contextMenuGestureInit:this._GetDefaultContextMenu()),s){var r={mouse:{my:"start top",at:z,of:t,collision:"flipfit"},touch:{my:"start>40 center",at:z,of:t,collision:"flipfit"},keyboard:{my:"start top",at:z,of:"launcher",collision:"flipfit"}},l={launcher:this.element,position:r[e]},u={initialFocus:"menu"},c=o?a.extend(l,n,u):a.extend(!0,l,n,u);if(s.__openingContextMenu=!0,"OJ-MENU"===s.tagName)s.open(t,c,i);else{var _=O.__GetWidgetConstructor(s,"ojMenu");(_&&_("instance")).open(t,c,i);var h=function(t){t.preventDefault()};s.addEventListener("contextmenu",h),window.setTimeout(function(){s.removeEventListener("contextmenu",h)},50)}s.__openingContextMenu=!1}},_GetDefaultContextMenu:function(){return null},_removeStateClasses:function(t){t.removeClass("oj-hover oj-focus oj-focus-highlight oj-active"),t.find(".oj-hover").removeClass("oj-hover"),t.find(".oj-focus").removeClass("oj-focus"),t.find(".oj-focus-highlight").removeClass("oj-focus-highlight"),t.find(".oj-active").removeClass("oj-active")},_isRealMouseEvent:function(){return!_.recentTouchEnd()},_AddHoverable:function(t){var e;a.isPlainObject(t)?e=t.element:(e=t,t={});var n=t.afterToggle||a.noop;e.on("mouseenter"+this.hoverableEventNamespace,this._hoverStartHandler.bind(this,n)).on("mouseleave"+this.hoverableEventNamespace,this._hoverAndActiveEndHandler.bind(this,"oj-hover",n))},_RemoveHoverable:function(t){t&&t.off(this.hoverableEventNamespace)},_AddActiveable:function(t){var e;a.isPlainObject(t)?e=t.element:(e=t,t={});var n=t.afterToggle||a.noop,i="oj-active";_.isTouchSupported()&&(e[0]&&(this._touchstartListener=this._activeStartHandler.bind(this,n),e[0].addEventListener("touchstart",this._touchstartListener,{passive:!0})),e.on("touchend"+this.activeableEventNamespace+" touchcancel"+this.activeableEventNamespace,this._hoverAndActiveEndHandler.bind(this,i,n))),e.on("mousedown"+this.activeableEventNamespace,this._activeStartHandler.bind(this,n)).on("mouseup"+this.activeableEventNamespace,this._hoverAndActiveEndHandler.bind(this,i,n)).on("mouseenter"+this.activeableEventNamespace,this._activeStartHandler.bind(this,n)).on("mouseleave"+this.activeableEventNamespace,this._hoverAndActiveEndHandler.bind(this,i,n))},_RemoveActiveable:function(t){t&&(t[0]&&(t[0].removeEventListener("touchstart",this._touchstartListener,{passive:!0}),delete this._touchstartListener),t.off(this.activeableEventNamespace),q=null)},_activeStartHandler:function(t,e){var n=a(e.currentTarget);("mouseenter"!==e.type||this._isTargetInActiveElement(e.currentTarget))&&(n.hasClass(K)||"touchstart"!==e.type&&!this._isRealMouseEvent(e)||(n.addClass("oj-active"),t(e.type),"mousedown"===e.type&&(q=e.currentTarget,this.document.one("mouseup",function(){q=null}))))},_hoverStartHandler:function(t,e){var n=a(e.currentTarget);!n.hasClass(K)&&this._isRealMouseEvent(e)&&(n.addClass("oj-hover"),t(e.type))},_hoverAndActiveEndHandler:function(t,e,n){("oj-active"!==t||"mouseleave"!==n.type||this._isTargetInActiveElement(n.currentTarget))&&(a(n.currentTarget).removeClass(t),e(n.type))},_isTargetInActiveElement:function(t){return q===t||null!=q&&a.contains(q,t)},_hoverable:function(){},_focusable:function(t){a.isPlainObject(t)||(t={element:t}),t.component=this,_.makeFocusable(t)},_UnregisterChildNode:function(t){if(t){a(t).off(this.eventNamespace);var e=this.bindings;e&&(this.bindings=a(e.not(t)))}},_GetReadingDirection:function(){return _.getReadingDirection()},_NotifyAttached:function(){this._propertyContext=null},_NotifyDetached:function(){this._propertyContext=null,this._removeStateClasses(this.widget())},_NotifyInitShown:function(){},_NotifyShown:function(){},_NotifyHidden:function(){},_IsEffectivelyDisabled:function(){return!(!this.options.disabled&&!this._ancestorDisabled)},__setAncestorComponentDisabled:function(t){this._ancestorDisabled=t},_getTranslationSectionLoader:function(){var t=[],e=this,n=0;this._traverseWidgetHierarchy(function(i){var o=0===n?e._GetTranslationsSectionName():i.widgetFullName;n+=1;var s=g.getComponentTranslations(o);null==s||a.isEmptyObject(s)||t.push(o)});var i=t.length;return i>0?function(){if(1===i)return g.getComponentTranslations(t[0]);for(var e={},n=i-1;n>=0;n--)a.widget.extend(e,g.getComponentTranslations(t[n]));return e}:null},_getDynamicPropertyContext:function(){if(!this._propertyContext){var t={};this._propertyContext=t;var e=this.element[0];t.containers=function(t){for(var e=t,n=[];e;){var i=e.getAttribute,o=i?i.call(e,O._OJ_CONTAINER_ATTR):null;null!=o&&n.push(o),e=e.parentNode}return n}(e),t.element=e,t.isCustomElement=this._IsCustomElement(),t.isCustomElement&&(t.customElement=this._getRootElement())}return this._propertyContext},_setupDefaultOptions:function(t,e){var n=this.options,i=this._getTranslationSectionLoader(),o=e[V];null==i||void 0!==o&&!a.isPlainObject(o)||Q(this,void 0,e[V],n,V,i),this._loadGlobalDefaultOptions(t,e)},_loadGlobalDefaultOptions:function(t,e){var n=this.options,i=[];this._traverseWidgetHierarchy(function(t){i.push(t.widgetName)}),i.push("default");var o=O.__getDefaultOptions(i);if(!a.isEmptyObject(o))for(var s=this,r=function(){return s._getDynamicPropertyContext()},l=Object.keys(o),u=0;u<l.length;u++){var c=l[u],_=e[c];if(void 0===_||a.isPlainObject(_)){var h=o[c];if(h){var p=tt(h);if(p)Q(this,t[c],_,n,c,p,r);else{var d=[t[c]].concat(h);d.push(_),n[c]=et(d)}}}}},_traverseWidgetHierarchy:function(t){for(var e=this.constructor.prototype;null!=e&&"oj"===e.namespace;)t(e),e=Object.getPrototypeOf(e)},_getRootElement:function(){return this.OuterWrapper||this.element[0]},_IsCustomElement:function(){return d.isElementRegistered(this._getRootElement().tagName)},_GetThrottlePromise:function(){if(this._IsCustomElement()){var t=this._getRootElement();return p.CustomElementUtils.getElementBridge(t).getThrottlePromise()}return Promise.resolve(null)},_FixRendererContext:function(t){if(this._IsCustomElement()){var e=r.CollectionUtils.copyInto({},t);return delete e.component,e.componentElement=this._getRootElement(),e}return t},_GetCustomElement:function(){return this._getRootElement()},_WrapCustomElementRenderer:function(t){return this._IsCustomElement()&&"function"==typeof t?function(e){var n=t(e);return n&&n.insert?n.insert:null}:t},__saveWritebackOptions:function(t){this._writebackOptions=t},_getWritebackOption:function(t){return!(!this._writebackOptions||!this._writebackOptions[t])},__handleSubtreeAttached:function(){this._IsCustomElement()||this._NotifyAttached()},__handleSubtreeDetached:function(){this._IsCustomElement()||this._NotifyDetached()},_VerifyConnectedForSetup:function(){return!1},__handleConnected:function(){this._NotifyAttached(),this.__delayConnectDisconnect(0)||this._SetupResources()},__handleDisconnected:function(){this.__delayConnectDisconnect(1)||this._ReleaseResources(),this._NotifyDetached()},__delayConnectDisconnect:function(t){return!!this._VerifyConnectedForSetup()&&(void 0===this.connectedState&&window.queueMicrotask(function(){this.connectedState===t&&(0===t?this._SetupResources():this._ReleaseResources()),this.connectedState=void 0}.bind(this)),this.connectedState=t,!0)},__handleWatchedAttribute:function(t,e,n){this._WatchedAttributeChanged(t,e,n)},_WatchedAttributeChanged:function(t,e,n){},__getFocusElement:function(){return this.GetFocusElement()},GetFocusElement:function(){return this.element[0]}}),delete a.fn[J],r.__registerWidget=function(t,e,n,i){if(a.widget(t,e,n),i){var o=t.split(".")[1];delete a.fn[o]}if("oj.oj"===t.substring(0,5)||"oj._oj"===t.substring(0,6)){var s,r=t.split("."),l=r[0],u=r[1],c=l+"-"+u;s="_"===u.substring(0,1)?"_"+l+"-"+u.substring(3):l+"-"+u.substring(2),a.expr.pseudos[s.toLowerCase()]=function(t){return!!a.data(t,c)}}},a.cleanData=($=a.cleanData,function(t){const e=[],n=[];for(var i=0;i<t.length;i++){var o=t[i];if(null==o)break;var s=!1,r=O.__GetWidgetConstructor(o);if(r&&!(s=r("instance")._IsCustomElement())){var a=O.getComponentElementByNode(o);s=a&&d.isElementRegistered(a.tagName)}s?o.$$cleanElement&&n.push(o):e.push(o)}e.length>0&&$(e),n.forEach(t=>t.$$cleanElement())}),a.fn.addClass=function(t){if("function"==typeof t)return this.each(function(e){a(this).addClass(t.call(this,e,ot(this)))});const e=Array.isArray(t)?t:p.CustomElementUtils.getClassSet(t);return this.each(function(){1===this.nodeType&&this.classList.add(...e)}),this},a.fn.removeClass=function(t){if("function"==typeof t)return this.each(function(e){a(this).removeClass(t.call(this,e,ot(this)))});if(!arguments.length)return this.attr("class","");const e=Array.isArray(t)?t:p.CustomElementUtils.getClassSet(t);return this.each(function(){1===this.nodeType&&this.classList.remove(...e)}),this};const st={};r._registerLegacyNamespaceProp("Test",st),st.ready=!1,st.domNodeForLocator=function(t){var e=t;if(r.StringUtils.isString(t)){var n=t;try{e=JSON.parse(n)}catch(t){return null}}if(e&&e.element){var i=a(e.element);if(i&&i.length>0){delete e.element;var o=e;return O.getNodeBySubId(i[0],o)}}return null},st.getOpenPopupCount=function(){return r.ZOrderUtils.getOpenPopupCount()},st.findOpenPopups=function(){return r.ZOrderUtils.findOpenPopups()},st.compareStackingContexts=function(t,e){return r.ZOrderUtils.compareStackingContexts(t,e)};const rt=O.subtreeAttached,at=O.subtreeDetached,lt=O.subtreeHidden,ut=O.subtreeShown,ct=O.createDynamicPropertyGetter,_t=O.setDefaultOptions,ht=O.getDefaultOptions,pt=O.__GetWidgetConstructor,dt=O.setComponentOption,Et=O.getComponentOption,ft=O.getWidgetConstructor,gt=O.isComponentInitialized,mt=O.markPendingSubtreeHidden,vt=O.unmarkPendingSubtreeHidden,yt=O.__getDefaultOptions,Tt=O.getComponentElementByNode,Ct=O.getSubIdByNode,St=O.getNodeBySubId,At=O.callComponentMethod,Nt=O._OJ_CONTAINER_ATTR;t.DataProviderFeatureChecker=F,t._OJ_CONTAINER_ATTR=Nt,t.__GetWidgetConstructor=pt,t.__getDefaultOptions=yt,t.callComponentMethod=At,t.createDynamicPropertyGetter=ct,t.getComponentElementByNode=Tt,t.getComponentOption=Et,t.getDefaultOptions=ht,t.getNodeBySubId=St,t.getSubIdByNode=Ct,t.getWidgetConstructor=ft,t.isComponentInitialized=gt,t.markPendingSubtreeHidden=mt,t.setComponentOption=dt,t.setDefaultOptions=_t,t.subtreeAttached=rt,t.subtreeDetached=at,t.subtreeHidden=lt,t.subtreeShown=ut,t.unmarkPendingSubtreeHidden=vt,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ojcomponentcore.js.map;
/*!
 * jQuery UI Position 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */
!function(t){"use strict";"function"==typeof define&&define.amd?define('jqueryui-amd/position',["jquery","./version"],t):t(jQuery)}((function(t){"use strict";return function(){var i,o=Math.max,e=Math.abs,n=/left|center|right/,l=/top|center|bottom/,f=/[\+\-]\d+(\.[\d]+)?%?/,s=/^\w+/,h=/%$/,r=t.fn.position;function c(t,i,o){return[parseFloat(t[0])*(h.test(t[0])?i/100:1),parseFloat(t[1])*(h.test(t[1])?o/100:1)]}function p(i,o){return parseInt(t.css(i,o),10)||0}function a(t){return null!=t&&t===t.window}function d(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:a(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}t.position={scrollbarWidth:function(){if(void 0!==i)return i;var o,e,n=t("<div style='display:block;position:absolute;width:200px;height:200px;overflow:hidden;'><div style='height:300px;width:auto;'></div></div>"),l=n.children()[0];return t("body").append(n),o=l.offsetWidth,n.css("overflow","scroll"),o===(e=l.offsetWidth)&&(e=n[0].clientWidth),n.remove(),i=o-e},getScrollInfo:function(i){var o=i.isWindow||i.isDocument?"":i.element.css("overflow-x"),e=i.isWindow||i.isDocument?"":i.element.css("overflow-y"),n="scroll"===o||"auto"===o&&i.width<i.element[0].scrollWidth;return{width:"scroll"===e||"auto"===e&&i.height<i.element[0].scrollHeight?t.position.scrollbarWidth():0,height:n?t.position.scrollbarWidth():0}},getWithinInfo:function(i){var o=t(i||window),e=a(o[0]),n=!!o[0]&&9===o[0].nodeType;return{element:o,isWindow:e,isDocument:n,offset:!e&&!n?t(i).offset():{left:0,top:0},scrollLeft:o.scrollLeft(),scrollTop:o.scrollTop(),width:o.outerWidth(),height:o.outerHeight()}}},t.fn.position=function(i){if(!i||!i.of)return r.apply(this,arguments);var h,a,g,u,m,w,W="string"==typeof(i=t.extend({},i)).of?t(document).find(i.of):t(i.of),v=t.position.getWithinInfo(i.within),y=t.position.getScrollInfo(v),H=(i.collision||"flip").split(" "),b={};return w=d(W),W[0].preventDefault&&(i.at="left top"),a=w.width,g=w.height,u=w.offset,m=t.extend({},u),t.each(["my","at"],(function(){var t,o,e=(i[this]||"").split(" ");1===e.length&&(e=n.test(e[0])?e.concat(["center"]):l.test(e[0])?["center"].concat(e):["center","center"]),e[0]=n.test(e[0])?e[0]:"center",e[1]=l.test(e[1])?e[1]:"center",t=f.exec(e[0]),o=f.exec(e[1]),b[this]=[t?t[0]:0,o?o[0]:0],i[this]=[s.exec(e[0])[0],s.exec(e[1])[0]]})),1===H.length&&(H[1]=H[0]),"right"===i.at[0]?m.left+=a:"center"===i.at[0]&&(m.left+=a/2),"bottom"===i.at[1]?m.top+=g:"center"===i.at[1]&&(m.top+=g/2),h=c(b.at,a,g),m.left+=h[0],m.top+=h[1],this.each((function(){var n,l,f=t(this),s=f.outerWidth(),r=f.outerHeight(),d=p(this,"marginLeft"),w=p(this,"marginTop"),x=s+d+p(this,"marginRight")+y.width,T=r+w+p(this,"marginBottom")+y.height,L=t.extend({},m),P=c(b.my,f.outerWidth(),f.outerHeight());"right"===i.my[0]?L.left-=s:"center"===i.my[0]&&(L.left-=s/2),"bottom"===i.my[1]?L.top-=r:"center"===i.my[1]&&(L.top-=r/2),L.left+=P[0],L.top+=P[1],n={marginLeft:d,marginTop:w},t.each(["left","top"],(function(o,e){t.ui.position[H[o]]&&t.ui.position[H[o]][e](L,{targetWidth:a,targetHeight:g,elemWidth:s,elemHeight:r,collisionPosition:n,collisionWidth:x,collisionHeight:T,offset:[h[0]+P[0],h[1]+P[1]],my:i.my,at:i.at,within:v,elem:f})})),i.using&&(l=function(t){var n=u.left-L.left,l=n+a-s,h=u.top-L.top,c=h+g-r,p={target:{element:W,left:u.left,top:u.top,width:a,height:g},element:{element:f,left:L.left,top:L.top,width:s,height:r},horizontal:l<0?"left":n>0?"right":"center",vertical:c<0?"top":h>0?"bottom":"middle"};a<s&&e(n+l)<a&&(p.horizontal="center"),g<r&&e(h+c)<g&&(p.vertical="middle"),o(e(n),e(l))>o(e(h),e(c))?p.important="horizontal":p.important="vertical",i.using.call(this,t,p)}),f.offset(t.extend(L,{using:l}))}))},t.ui.position={fit:{left:function(t,i){var e,n=i.within,l=n.isWindow?n.scrollLeft:n.offset.left,f=n.width,s=t.left-i.collisionPosition.marginLeft,h=l-s,r=s+i.collisionWidth-f-l;i.collisionWidth>f?h>0&&r<=0?(e=t.left+h+i.collisionWidth-f-l,t.left+=h-e):t.left=r>0&&h<=0?l:h>r?l+f-i.collisionWidth:l:h>0?t.left+=h:r>0?t.left-=r:t.left=o(t.left-s,t.left)},top:function(t,i){var e,n=i.within,l=n.isWindow?n.scrollTop:n.offset.top,f=i.within.height,s=t.top-i.collisionPosition.marginTop,h=l-s,r=s+i.collisionHeight-f-l;i.collisionHeight>f?h>0&&r<=0?(e=t.top+h+i.collisionHeight-f-l,t.top+=h-e):t.top=r>0&&h<=0?l:h>r?l+f-i.collisionHeight:l:h>0?t.top+=h:r>0?t.top-=r:t.top=o(t.top-s,t.top)}},flip:{left:function(t,i){var o,n,l=i.within,f=l.offset.left+l.scrollLeft,s=l.width,h=l.isWindow?l.scrollLeft:l.offset.left,r=t.left-i.collisionPosition.marginLeft,c=r-h,p=r+i.collisionWidth-s-h,a="left"===i.my[0]?-i.elemWidth:"right"===i.my[0]?i.elemWidth:0,d="left"===i.at[0]?i.targetWidth:"right"===i.at[0]?-i.targetWidth:0,g=-2*i.offset[0];c<0?((o=t.left+a+d+g+i.collisionWidth-s-f)<0||o<e(c))&&(t.left+=a+d+g):p>0&&((n=t.left-i.collisionPosition.marginLeft+a+d+g-h)>0||e(n)<p)&&(t.left+=a+d+g)},top:function(t,i){var o,n,l=i.within,f=l.offset.top+l.scrollTop,s=l.height,h=l.isWindow?l.scrollTop:l.offset.top,r=t.top-i.collisionPosition.marginTop,c=r-h,p=r+i.collisionHeight-s-h,a="top"===i.my[1]?-i.elemHeight:"bottom"===i.my[1]?i.elemHeight:0,d="top"===i.at[1]?i.targetHeight:"bottom"===i.at[1]?-i.targetHeight:0,g=-2*i.offset[1];c<0?((n=t.top+a+d+g+i.collisionHeight-s-f)<0||n<e(c))&&(t.top+=a+d+g):p>0&&((o=t.top-i.collisionPosition.marginTop+a+d+g-h)>0||e(o)<p)&&(t.top+=a+d+g)}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}}(),t.ui.position}));
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojpopupcore',["exports","ojs/ojcore-base","jquery","ojs/ojcomponentcore","ojs/ojlogger","ojs/ojdomutils","ojs/ojpreact-patch","jqueryui-amd/position","ojs/ojcontext","preact/jsx-runtime","preact","ojs/ojcustomelement-utils"],function(t,e,o,i,n,r,s,a,l,c,p,u){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o,l=l&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l;const f=function(t){this._tapCallback=t,this.Init()};e._registerLegacyNamespaceProp("SimpleTapRecognizer",f),e.Object.createSubclass(f,e.Object,"oj.SimpleTapRecognizer"),f.prototype.Init=function(){f.superclass.Init.call(this);var t=this._eventHandler.bind(this);this._eventHandlerCallback=t;for(var e,o=document.documentElement,i=0;i<f._TOUCHEVENTS.length;i++)"touchstart"===(e=f._TOUCHEVENTS[i])||"touchmove"===e?o.addEventListener(e,t,{passive:!1,capture:!0}):o.addEventListener(e,t,!0)},f.prototype._eventHandler=function(t){var e=this._tapCallback,o=t.type;if("touchstart"===o)this._touchStartEvent=t,this._touchStartEvent._tapStart=(new Date).getTime();else if("touchmove"===o||"touchcancel"===o)this._touchStartEvent=null;else if("touchend"===o){if(this._touchStartEvent){var i=this._touchStartEvent._tapStart;if(isNaN(i))e(this._touchStartEvent);else(new Date).getTime()-i<f._PRESSHOLDTHRESSHOLD&&e(this._touchStartEvent)}this._touchStartEvent=null}},f.prototype.destroy=function(){this._tapCallback=null;var t=this._eventHandlerCallback;this._eventHandlerCallback=null;for(var e,o=document.documentElement,i=0;i<f._TOUCHEVENTS.length;i++)"touchstart"===(e=f._TOUCHEVENTS[i])||"touchmove"===e?o.removeEventListener(e,t,{passive:!1,capture:!0}):o.removeEventListener(e,t,!0)},f._TOUCHEVENTS=["touchstart","touchmove","touchcancel","touchend"],f._PRESSHOLDTHRESSHOLD=700;const _=function(){this.Init()};e._registerLegacyNamespaceProp("PopupService",_),e.Object.createSubclass(_,e.Object,"oj.PopupService");const d=function(){this.Init()},h={};_.prototype.Init=function(){_.superclass.Init.call(this)},_.getInstance=function(t){return _._popupService||(_._popupService=new d),_._popupService},_.prototype.open=function(t){e.Assert.failedInAbstractFunction()},_.prototype.close=function(t){e.Assert.failedInAbstractFunction()},_.prototype.changeOptions=function(t){e.Assert.failedInAbstractFunction()},_.prototype.triggerOnDescendents=function(t,o,i){e.Assert.failedInAbstractFunction()},_.prototype.destroy=function(){_._popupService=null},_.MODALITY={NONE:"none",MODAL:"modal",MODELESS:"modeless"},_.EVENT={POPUP_REMOVE:"ojPopupRemove",POPUP_CLOSE:"ojPopupClose",POPUP_REFRESH:"ojPopupRefresh",POPUP_AUTODISMISS:"ojPopupAutoDismiss",POPUP_BEFORE_OPEN:"ojPopupBeforeOpen",POPUP_AFTER_OPEN:"ojPopupAfterOpen",POPUP_BEFORE_CLOSE:"ojPopupBeforeClose",POPUP_AFTER_CLOSE:"ojPopupAfterClose"},_.LAYER_LEVEL={TOP_LEVEL:"topLevel",NEAREST_ANCESTOR:"nearestAncestor"},_.OPTION={POPUP:"popup",EVENTS:"events",MODALITY:"modality",LAUNCHER:"launcher",POSITION:"position",LAYER_SELECTORS:"layerSelectors",LAYER_LEVEL:"layerLevel",CONTEXT:"context",CUSTOM_ELEMENT:"customElement"},e.__registerWidget("oj.ojSurrogate",o.oj.baseComponent,{version:"1.0.0",widgetEventPrefix:"oj",options:{beforeDestroy:null},_ComponentCreate:function(){this._super(),this.element.uniqueId()},_invokeBeforeDestroy:function(){var t=this.options.beforeDestroy;this.options.beforeDestroy=null,t&&t()},_destroy:function(){this._invokeBeforeDestroy(),this.element.removeUniqueId(),this._super()},_NotifyDetached:function(){this._invokeBeforeDestroy(),this._super()},$$cleanElement:function(){this._invokeBeforeDestroy()}});e.CustomElementBridge.register("oj-surrogate",{metadata:{properties:{beforeDestroy:{type:"function"}},methods:{$$cleanElement:{}},extension:{_WIDGET_NAME:"ojSurrogate"}}}),e._registerLegacyNamespaceProp("PopupServiceImpl",d),e.Object.createSubclass(d,_,"oj.PopupServiceImpl"),d.prototype.open=function(t){e.Assert.assertObject(t);var s=o(t[_.OPTION.POPUP]);e.Assert.assertPrototype(s,o);var a=h.getStatus(s);if(a===h.STATUS.UNKNOWN||a===h.STATUS.BEFORE_OPEN||a===h.STATUS.CLOSE){var l=o(t[_.OPTION.LAUNCHER]);e.Assert.assertPrototype(l,o);var c=t[_.OPTION.POSITION];e.Assert.assertObjectOrNull(c);var p=t[_.OPTION.EVENTS];e.Assert.assertObject(p);var u=t[_.OPTION.MODALITY];(!u||_.MODALITY.MODELESS!==u&&_.MODALITY.MODAL!==u)&&(u=_.MODALITY.NONE);var f=t[_.OPTION.LAYER_SELECTORS];e.Assert.assertString(f);var E=t[_.OPTION.CUSTOM_ELEMENT],g=t[_.OPTION.LAYER_LEVEL];(!g||_.LAYER_LEVEL.TOP_LEVEL!==g&&_.LAYER_LEVEL.NEAREST_ANCESTOR!==g)&&(g=_.LAYER_LEVEL.NEAREST_ANCESTOR);var v=p[_.EVENT.POPUP_BEFORE_OPEN];v&&o.isFunction(v)||(v=d._defaultBeforeOpenCallback);var O=p[_.EVENT.POPUP_AFTER_OPEN];h.setStatus(s,h.STATUS.OPENING),r.setLogicalParent(s,l),h.addToAncestorLayer(s,l,u,f,g,E);var T,S=function(){try{s.removeAttr("aria-hidden"),this._assertEventSink(),i.subtreeShown(s[0])}catch(t){n.error("Error opening popup:\n%o",t)}finally{h.setStatus(s,h.STATUS.OPEN),O&&O(t);var r=h.getFirstAncestorLayer(s);if(e.Assert.assertPrototype(r,o),h.applyEvents(r,p),!h._getSurrogate(r)&&o.isFunction(p[_.EVENT.POPUP_REMOVE]))(0,p[_.EVENT.POPUP_REMOVE])()}};S=S.bind(this);try{T=v(t)}catch(t){n.error("Error before open popup:\n%o",t)}finally{T&&T instanceof Promise?T.then(S):S()}}else this._assertEventSink()},d._defaultBeforeOpenCallback=function(t){var i=o(t[_.OPTION.POPUP]);e.Assert.assertPrototype(i,o);var n=t[_.OPTION.POSITION];i.show(),n&&i.position(n)},d.prototype.close=function(t){e.Assert.assertObject(t);var s=o(t[_.OPTION.POPUP]);e.Assert.assertPrototype(s,o);var a=h.getOpenPopupLayer(s);e.Assert.assertPrototype(a,o);var l=t[_.OPTION.EVENTS];l?l=o.extend(h.getEvents(a),l):(l=h.getEvents(a),t[_.OPTION.EVENTS]=l);var c=h.getStatus(s);if(c!==h.STATUS.OPEN&&c!==h.STATUS.BEFORE_CLOSE||!l)this._assertEventSink();else{var p=l[_.EVENT.POPUP_BEFORE_CLOSE];p&&o.isFunction(p)||(p=d._defaultBeforeCloseCallback);var u=l[_.EVENT.POPUP_AFTER_CLOSE];h.setStatus(s,h.STATUS.CLOSING),h.applyEvents(a,{}),s.attr("aria-hidden","true");var f,E=function(){try{s.hide(),null!==t[_.OPTION.POSITION]&&s.css({top:"auto",bottom:"auto",left:"auto",right:"auto"}),h.removeFromAncestorLayer(s),r.setLogicalParent(s,null),this._assertEventSink(),i.subtreeHidden(s[0])}catch(t){n.error("Error closing popup:\n%o",t)}finally{h.setStatus(s,h.STATUS.CLOSE),u&&o.isFunction(u)&&u(t)}};E=E.bind(this);try{f=p(t)}catch(t){n.error("Error before close popup:\n%o",t)}finally{f&&f instanceof Promise?f.then(E):E()}}},d._defaultBeforeCloseCallback=function(t){var i=o(t[_.OPTION.POPUP]);e.Assert.assertPrototype(i,o),i.hide()},d.prototype.changeOptions=function(t){e.Assert.assertObject(t);var i=o(t[_.OPTION.POPUP]);if(e.Assert.assertPrototype(i,o),h.getStatus(i)===h.STATUS.OPEN){var n=h.getOpenPopupLayer(i);e.Assert.assertPrototype(n,o);var r=t[_.OPTION.EVENTS];r&&h.applyEvents(n,r);var s=t[_.OPTION.MODALITY];s&&h.applyModality(n,s);var a=t[_.OPTION.LAYER_SELECTORS];e.StringUtils.isEmptyOrUndefined(a)||n.attr("class",a)}},d.prototype.triggerOnDescendents=function(t,e,o){if(h.isPopupOpen(t)){var i={};i.event=e,i.argsArray=o;var n=h.getFirstAncestorLayer(t);h.postOrderVisit(n,this._triggerOnDescendentsVisitCallback,i)}},d.prototype._triggerOnDescendentsVisitCallback=function(t,e){var i=e.event,n=e.argsArray,r=h.getEvents(t);return r&&o.isFunction(r[i])&&r[i].apply(this,n),h.VISIT_RESULT.ACCEPT},d.prototype._assertEventSink=function(){var t,e,o,i=h.hasPopupsOpen(),n=this._callbackEventFilter;if(!i&&n){for(window.removeEventListener("resize",d._refreshCallback,!0),window.removeEventListener("scroll",d._refreshCallback,!0),(e=document.documentElement).removeEventListener("mousewheel",d._refreshCallback,{passive:!0,capture:!0}),e.removeEventListener("DOMMouseScroll",d._refreshCallback,!0),this._callbackEventFilter=null,t=0;t<d._REDISTRIBUTE_EVENTS.length;t++)o=d._REDISTRIBUTE_EVENTS[t],e.removeEventListener(o,n,!0);var s=this._simpleTapRecognizer;s&&(s.destroy(),this._simpleTapRecognizer=null)}else if(i&&!n){for(window.addEventListener("resize",d._refreshCallback,!0),window.addEventListener("scroll",d._refreshCallback,!0),(e=document.documentElement).addEventListener("mousewheel",d._refreshCallback,{passive:!0,capture:!0}),e.addEventListener("DOMMouseScroll",d._refreshCallback,!0),n=this._eventFilterCallback.bind(this),this._callbackEventFilter=n,t=0;t<d._REDISTRIBUTE_EVENTS.length;t++)o=d._REDISTRIBUTE_EVENTS[t],e.addEventListener(o,n,!0);r.isTouchSupported()&&(this._simpleTapRecognizer=new f(n))}},d.prototype._eventFilterCallback=function(t){var e=o(t.target);if(h.hasPopupsOpen()){if(!r.isChromeEvent(t)&&("focus"!==t.type||e.is(":focusable"))){var i=h.getDefaultLayer();if("keydown"!==t.type||!h.hasModalDialogOpen()||r.isAncestor(i[0],e[0])){var n=h.getFirstAncestorLayer(e),s=i.find("."+d._FOCUS_WITHIN_SELECTOR).first(),a=t.target.classList.contains(h._OVERLAY_SELECTOR);if(i[0]!==n[0]?n.hasClass(d._FOCUS_WITHIN_SELECTOR)||(s.length&&s.removeClass(d._FOCUS_WITHIN_SELECTOR),n.addClass(d._FOCUS_WITHIN_SELECTOR)):s.length&&!a&&s.removeClass(d._FOCUS_WITHIN_SELECTOR),"focus"!==t.type||"-1"!==e.attr("tabindex")){var l={};l.targetIsOverlay=a;for(var c=d._COPY_SAFE_EVENT_PROPERTIES,p={},u=0;u<c.length;u++){var f=c[u],_=t[f];void 0===_||o.isFunction(_)||(p[f]=_)}l.event=o.Event(t,p),h.postOrderVisit(i,d._redistributeVisitCallback,l)}}else h.eatEvent(t)}}else this._assertEventSink()},d._redistributeVisitCallback=function(t,e){var i=h.getEvents(t),n=e.event;return i&&o.isFunction(i[_.EVENT.POPUP_AUTODISMISS])?i[_.EVENT.POPUP_AUTODISMISS](n):"mousedown"===n.type&&e.targetIsOverlay&&n.preventDefault(),h.VISIT_RESULT.ACCEPT},d._refreshCallback=function(t){isNaN(d._refreshTimerId)&&(d._refreshTimerId=window.setTimeout(function(){d._refreshTimerId=Number.NaN;var t=h.getDefaultLayer();o.isFunction(window.requestAnimationFrame)?d._afRequestId=window.requestAnimationFrame(function(){d._afRequestId=null,h.postOrderVisit(t,d._refreshVisitCallback)}):h.postOrderVisit(t,d._refreshVisitCallback)},d._REFRESH_DELAY))},d._refreshVisitCallback=function(t,e){if(e.level>0)return h.VISIT_RESULT.REJECT;var i=h.getEvents(t);return i&&o.isFunction(i[_.EVENT.POPUP_REFRESH])&&i[_.EVENT.POPUP_REFRESH](),h.VISIT_RESULT.ACCEPT},d.prototype.destroy=function(){d.superclass.destroy.call(this)},d._FOCUS_WITHIN_SELECTOR="oj-focus-within",d._REDISTRIBUTE_EVENTS=["focus","mousedown","keydown"],d._COPY_SAFE_EVENT_PROPERTIES=["altKey","bubbles","cancelable","ctrlKey","currentTarget","eventPhase","metaKey","relatedTarget","shiftKey","target","timeStamp","view","which","button","buttons","clientX","clientY","offsetX","offsetY","pageX","pageY","screenX","screenY","toElement","char","charCode","key","keyCode"],d._REFRESH_DELAY=10,e._registerLegacyNamespaceProp("ZOrderUtils",h),h.STATUS={UNKNOWN:0,BEFORE_OPEN:.5,OPENING:1,OPEN:2,BEFORE_CLOSE:2.5,CLOSING:3,CLOSE:4},h._STATUS_DATA="oj-popup-status",h.getStatus=function(t){t instanceof Element&&(t=o(t));var e=t.data(h._STATUS_DATA);return isNaN(e)?h.STATUS.UNKNOWN:e},h.setStatus=function(t,e){t instanceof Element&&(t=o(t)),e>=h.STATUS.UNKNOWN&&e<=h.STATUS.CLOSE&&t.data(h._STATUS_DATA,e)},h.getFirstAncestorLayer=function(t){if(!t)return h.getDefaultLayer();for(var e=t;e&&e.length>0&&e.attr(h._SURROGATE_ATTR)!==h._DEFAULT_LAYER_ID;){if(h._hasSurrogate(e[0]))return e;e=e.parent()}return h.getDefaultLayer()},h.getDefaultLayer=function(){var t=o(document.getElementById(h._DEFAULT_LAYER_ID));return t.length>0||((t=o("<div>")).attr("role","presentation"),t.attr("id",h._DEFAULT_LAYER_ID),t.prependTo(o(document.body))),t},h.addToAncestorLayer=function(t,n,r,s,a,l){var c=t[0];if(h._hasSurrogate(c.parentNode))throw new Error("JET Popup is already open - id: "+c.getAttribute("id"));var p=h.getFirstAncestorLayer(a===_.LAYER_LEVEL.TOP_LEVEL?null:n),u=o("<div>"),f=t.attr("id");e.StringUtils.isEmptyOrUndefined(f)?u.uniqueId():u.attr("id",[f,"layer"].join("_")),u.attr("role","presentation"),u.addClass(s),t.after(u);const d=h._createSurrogate(u,l);i.subtreeDetached(c),t.appendTo(u),t.data(h._LAYER_ID_DATA,u.attr("id")),u.appendTo(p),i.subtreeAttached(c),h._applyVDomPatch(d[0],c),h.applyModality(u,r)},h._applyVDomPatch=function(t,e){t[s.OJ_POPUP]=e,s.patchPopupParent(t.parentElement)},h._getSurrogate=function(t){var e=t.attr(h._SURROGATE_ATTR);if(e)return document.getElementById(e)},h.applyEvents=function(t,e,n){n||(n=o(h._getSurrogate(t))),t.data(h._EVENTS_DATA,e),n.length>0&&e&&o.isFunction(e[_.EVENT.POPUP_REMOVE])&&i.setComponentOption(n[0],"beforeDestroy",e[_.EVENT.POPUP_REMOVE])},h.getEvents=function(t){return t.data(h._EVENTS_DATA)},h._createSurrogate=function(t,i){var n="script";i&&(n="oj-surrogate");var r=o(document.createElement(n)),s=t.attr("id");e.StringUtils.isEmptyOrUndefined(s)||r.attr("id",[s,"surrogate"].join("_")),i&&r.attr("data-oj-binding-provider","none"),r.insertBefore(t),i||r.ojSurrogate();var a=r.attr("id");return t.attr(h._SURROGATE_ATTR,a),r},h._removeSurrogate=function(t){var e=t.attr(h._SURROGATE_ATTR);t.removeAttr(h._SURROGATE_ATTR);var n=o(document.getElementById(e)),r=n.length>0;return r&&(t.insertAfter(n),i.setComponentOption(n[0],"beforeDestroy",null),n.remove()),r},h.getOpenPopupLayer=function(t){var e=t.parent();if(!e||0===e.length){var i=t.data(h._LAYER_ID_DATA);e=o(document.getElementById(i))}return e},h.removeFromAncestorLayer=function(t){var e=h.getOpenPopupLayer(t);h.preOrderVisit(e,h._closeDescendantPopupsCallback),h._removeOverlayFromAncestorLayer(e),h._resetAriaHiddenOnBackround(e),h._restoreBodyOverflow(),e.removeData(h._EVENTS_DATA),e.removeData(h._MODALITY_DATA),t.removeData(h._LAYER_ID_DATA);var o=t[0];i.subtreeDetached(o),h._removeSurrogate(e)&&o&&o.parentElement?(r.unwrap(t,e),i.subtreeAttached(o)):e.remove()},h._closeDescendantPopupsCallback=function(t,e){if(e.level>0)return h.VISIT_RESULT.REJECT;var i=t.data(h._EVENTS_DATA);return i&&o.isFunction(i[_.EVENT.POPUP_CLOSE])&&i[_.EVENT.POPUP_CLOSE](),h.VISIT_RESULT.ACCEPT},h._disableBodyOverflow=function(t){const i=document.body,n=t.children()[0];if(o(n).width()<=window.innerWidth&&o(n).height()<=window.innerHeight)if(e.AgentUtils.getAgentInfo().os===e.AgentUtils.OS.IOS){if(this._iosScrollLockBackup)return;const t=window.visualViewport.offsetLeft,e=window.visualViewport.offsetTop,o=window.pageXOffset,n=window.pageYOffset;this._iosScrollLockBackup={windowScrollX:o,windowScrollY:n,bodyPosition:i.style.position,bodyOverflow:i.style.overflow,bodyTop:i.style.top,bodyLeft:i.style.left,bodyRight:i.style.right},i.style.position="fixed",i.style.overflow="hidden",i.style.top=-(n-Math.floor(e))+"px",i.style.left=-(o-Math.floor(t))+"px",i.style.right="0"}else i.classList.add("oj-component-modal-open")},h._restoreBodyOverflow=function(){if(!h.hasModalDialogOpen()){const t=document.body;if(e.AgentUtils.getAgentInfo().os===e.AgentUtils.OS.IOS){if(!this._iosScrollLockBackup)return;const e=this._iosScrollLockBackup;t.style.position=e.bodyPosition,t.style.overflow=e.bodyOverflow,t.style.top=e.bodyTop,t.style.left=e.bodyLeft,t.style.right=e.bodyRight,window.scrollTo(e.windowScrollX,e.windowScrollY),delete this._iosScrollLockBackup}else t.classList.remove("oj-component-modal-open")}},h._removeFocusWithinFromOverlayedContent=function(){var t=h.getDefaultLayer().find("."+d._FOCUS_WITHIN_SELECTOR).first();t.length&&t.removeClass(d._FOCUS_WITHIN_SELECTOR)},h.applyModality=function(t,o){var i=t.data(h._MODALITY_DATA);t.data(h._MODALITY_DATA,o),e.StringUtils.isEmptyOrUndefined(i)?_.MODALITY.MODAL===o?(h._addOverlayToAncestorLayer(t),h._disableBodyOverflow(t),h._removeFocusWithinFromOverlayedContent(),h._setAriaHiddenOnBackround(t)):h._removeOverlayFromAncestorLayer(t):i!==o&&(o===_.MODALITY.MODAL?(h._addOverlayToAncestorLayer(t),h._disableBodyOverflow(t),h._removeFocusWithinFromOverlayedContent(),h._setAriaHiddenOnBackround(t)):(h._removeOverlayFromAncestorLayer(t),h._restoreBodyOverflow(),h._resetAriaHiddenOnBackround(t))),o===_.MODALITY.MODAL?t.attr("aria-modal","true"):t.removeAttr("aria-modal")},h._setAriaHiddenOnBackround=function(t){var e=t,i=o();do{i=i.add(e.siblings(':not(script):not([aria-hidden="true"])')),e=e.parent()}while("body"!==e[0].tagName.toLowerCase());i.attr("aria-hidden",!0),t.data(h._ARIA_HIDDEN_ELEMS,i)},h._resetAriaHiddenOnBackround=function(t){var e=t.data(h._ARIA_HIDDEN_ELEMS);e&&(e.removeAttr("aria-hidden"),t.removeData(h._ARIA_HIDDEN_ELEMS))},h.hasModalDialogOpen=function(){for(var t=h.getDefaultLayer().children(),e=t.length-1;e>-1;e--){if(o(t[e]).hasClass(h._OVERLAY_SELECTOR))return!0}return!1},h._addOverlayToAncestorLayer=function(t){var i=o("<div>");i.addClass(h._OVERLAY_SELECTOR),i.addClass(t[0].className),i.attr("role","presentation");var n=t.attr("id");e.StringUtils.isEmptyOrUndefined(n)?i.uniqueId():i.attr("id",[n,"overlay"].join("_")),t.before(i);var r=i.attr("id");t.attr(h._OVERLAY_ATTR,r)},h._removeOverlayFromAncestorLayer=function(t){var i=t.attr(h._OVERLAY_ATTR);e.StringUtils.isEmptyOrUndefined(i)||(t.removeAttr(h._OVERLAY_ATTR),o(document.getElementById(i)).remove())},h.VISIT_RESULT={ACCEPT:0,REJECT:1,COMPLETE:2},h._VISIT_TRAVERSAL={PRE_ORDER:0,POST_ORDER:1},h.postOrderVisit=function(t,e,o){var i=o;o||(i={}),i.level=0,i.type=h._VISIT_TRAVERSAL.POST_ORDER,h._visitTree(t,e,i)},h.preOrderVisit=function(t,e,o){var i=o;o||(i={}),i.level=0,i.type=h._VISIT_TRAVERSAL.PRE_ORDER,h._visitTree(t,e,i)},h._visitTree=function(t,e,i){for(var n=i.level,r=t.children(),s=r.length-1;s>-1;s--){var a=o(r[s]);if(h._hasSurrogate(a[0])){var l;if(i.type===h._VISIT_TRAVERSAL.PRE_ORDER){if((l=e(a,i))===h.VISIT_RESULT.COMPLETE)return l;if(l===h.VISIT_RESULT.REJECT)break}if(i.level=n+1,l=h._visitTree(a,e,i),i.level=n,l===h.VISIT_RESULT.COMPLETE)return l;if(i.type===h._VISIT_TRAVERSAL.POST_ORDER){if((l=e(a,i))===h.VISIT_RESULT.COMPLETE)return l;if(l===h.VISIT_RESULT.REJECT)break}}}return h.VISIT_RESULT.ACCEPT},h._hasSurrogate=function(t){return!(!t||1!==t.nodeType||!t.hasAttribute(h._SURROGATE_ATTR))},h.hasPopupsOpen=function(){return h.getDefaultLayer().children().length>0},h.getOpenPopupCount=function(){var t={popupCount:0},e=h.getDefaultLayer();return h.preOrderVisit(e,h._openPopupCountCallback,t),t.popupCount},h._openPopupCountCallback=function(t,e){return e.popupCount+=1,h.VISIT_RESULT.ACCEPT},h.findOpenPopups=function(){var t={},e=[];t.popups=e;var i=h.getDefaultLayer();return h.preOrderVisit(i,h._openPopupsCallback,t),e=t.popups,o(e)},h._openPopupsCallback=function(t,e){return e.popups.push(t[0]),h.VISIT_RESULT.ACCEPT},h.isAboveTopModalLayer=function(t){if(!t||!h.hasPopupsOpen())return!0;var e=function(){var t={topLayer:null},e=h.getDefaultLayer();if(h.preOrderVisit(e,function(t,e){if(e.level>0)return h.VISIT_RESULT.REJECT;var i=e.topLayer;return i?h.compareStackingContexts(o(t),o(i))>0&&(e.topLayer=t):e.topLayer=t,h.VISIT_RESULT.ACCEPT},t),t.topLayer)return t.topLayer[0]}();if(!e)return!0;var i=function(t){var e={topModalPopup:null};if(t.hasAttribute(h._OVERLAY_ATTR)&&(e.topModalPopup=o(t)),h.postOrderVisit(o(t),function(t,e){return t[0].hasAttribute(h._OVERLAY_ATTR)?(e.topModalPopup=t,h.VISIT_RESULT.COMPLETE):h.VISIT_RESULT.ACCEPT},e),e.topModalPopup)return e.topModalPopup[0]}(e);return!i||(r.isAncestorOrSelf(i,t)||h.compareStackingContexts(o(i),o(t))<0)},h.compareStackingContexts=function(t,i){function n(t,e){var i,n=["absolute","relative","fixed"],s=t.parents(),a=[];for(i=s.length-1;i>-1;i--)a.push(o(s[i]));(s=a).push(t);var l=[],c=0;for(i=0;i<s.length;i++){var p=s[i],u=p.css("position"),f=r.getCSSLengthAsFloat(p.css("opacity")),_=r.getCSSLengthAsInt(p.css("z-index")),d=o.inArray(p[0],p.parent().children());o.inArray(u,n)>-1&&_>0?(l.push({weight:[c,_,d],order:[d]}),c+=1):f<1?(l.push({weight:[c,1,d],order:[d]}),c+=1):e&&l.push({weight:[0,0,d],order:[d]})}return l}function s(t,e){for(var o=Math.max(t.length,e.length),i=0;i<o;i++){var n=i<t.length?t[i]:0,r=i<e.length?e[i]:0;if(n!==r)return n<r?-1:1}return 0}e.Assert.assertPrototype(t,o),e.Assert.assertPrototype(i,o);var a,l,c=n(t,!1),p=n(i,!1),u=Math.max(c.length,p.length);for(a=0;a<u;a++)if(0!==(l=s(a<c.length?c[a].weight:[-1],a<p.length?p[a].weight:[-1])))return l;for(c=n(t,!0),p=n(i,!0),u=Math.max(c.length,p.length),a=0;a<u;a++)if(0!==(l=s(a<c.length?c[a].order:[-1],a<p.length?p[a].order:[-1])))return l;return 0},h.eatEvent=function(t){t.stopPropagation(),t.preventDefault()},h.isPopupOpen=function(t){var e=t.parent();return!(!e||1!==e.length||!h._hasSurrogate(e[0]))},h._EVENTS_DATA="oj-popup-events",h._MODALITY_DATA="oj-popup-modality",h._ARIA_HIDDEN_ELEMS="oj-aria-hidden-elems",h._DEFAULT_LAYER_ID="__oj_zorder_container",h._SURROGATE_ATTR="data-oj-surrogate-id",h._LAYER_ID_DATA="oj-popup-layer-id",h._OVERLAY_ATTR="data-oj-overlayid",h._OVERLAY_SELECTOR="oj-component-overlay";const E={};e._registerLegacyNamespaceProp("PositionUtils",E),E.normalizeHorizontalAlignment=function(t,i){for(var n=o.extend({},t),r=0;r<E._ALIGN_RULE_PROPERTIES.length;r++){var s=E._ALIGN_RULE_PROPERTIES[r],a=n[s];if(a)if(e.StringUtils.isString(a))n[s]=a.replace("start",i?"right":"left").replace("end",i?"left":"right").replace("<",i?"+":"-").replace(">",i?"-":"+");else for(var l=0;l<E._SUB_ALIGN_RULE_PROPERTIES.length;l++){var c=E._SUB_ALIGN_RULE_PROPERTIES[l],p=a[c];e.StringUtils.isString(p)&&(a[c]=p.replace("start",i?"right":"left").replace("end",i?"left":"right").replace("<",i?"+":"-").replace(">",i?"-":"+"))}}return n},E.normalizePositionOf=function(t,e,o){return"event"===t?o:null==t||"launcher"===t?e:t},E._normalizeEventForPosition=function(t){o.each(["pageX","pageY"],function(e,o){if(t&&void 0===t[o]&&t.originalEvent){var i,n=t.originalEvent,r=n.type;if(i="touchstart"===r||"touchmove"===r?"touches":"touchend"===r?"changedTouches":null){var s=n[i][0];s&&(t[o]=s[o])}}})},E._ALIGN_RULE_PROPERTIES=["my","at"],E._SUB_ALIGN_RULE_PROPERTIES=["vertical","horizontal"],E.isAligningPositionClipped=function(t){if(t.target&&t.target.height>0&&t.target.width>0){var e=t.target.element;return!E.isWithinViewport(e)}return!1},E.isWithinViewport=function(t){function e(t,e){var o;if(["hidden","scroll","auto"].indexOf(e.overflowY)>-1){if(t.bottom-e.top<-1)return!1;if(o="auto"===e.overflowX&&e.scrollWidth>e.innerWidth||"scroll"===e.overflowX?r.getScrollBarWidth():0,e.bottom-o-t.top<1)return!1}return!(["hidden","scroll","auto"].indexOf(e.overflowX)>-1&&(o="auto"===e.overflowY&&e.scrollHeight>e.innerHeight||"scroll"===e.overflowY?r.getScrollBarWidth():0,t.right-(e.left+("rtl"===r.getReadingDirection()?o:0))<-1||t.left-(e.right-("ltr"===r.getReadingDirection()?o:0))>-1))}function i(t){var e=t[0];if(1===e.nodeType){var i=o.extend({},e.getBoundingClientRect());return i.overflowX=t.css("overflow-x"),i.overflowY=t.css("overflow-y"),i.innerHeight=t.innerHeight(),i.innerWidth=t.innerWidth(),i.scrollHeight=e.scrollHeight,i.scrollWidth=e.scrollWidth,i}return{height:0,width:0}}function n(t){return["fixed","absolute","relative","sticky"].indexOf(t.css("position"))>-1&&(!isNaN(parseInt(t.css("top"),10))||!isNaN(parseInt(t.css("bottom"),10))||!isNaN(parseInt(t.css("left"),10))||!isNaN(parseInt(t.css("right"),10)))}if(!t)return!1;if(o.isWindow(t[0])||n(t))return!0;for(var s,a=i(t),l=!0,c=t.parent();l&&c&&c.length>0&&"BODY"!==c[0].nodeName&&1===c[0].nodeType&&!n(c);){if("visible"!==(s=c).css("overflow-x")||"visible"!==s.css("overflow-y")){var p=i(c);p.height>0&&p.width>0&&(l=e(a,p))}c=c.parent()}return l},E._ANIMATION_TRANSFORM_ORIGIN_RULES={"right-top":"right top","right-middle":"right center","right-bottom":"right bottom","left-top":"left top","left-middle":"left center","left-bottom":"left bottom","center-top":"center top","center-middle":"center center","center-bottom":"center bottom"},E._ALIGN_MNEMONIC_DATA="oj-popup-align-mnemonic",E.captureTransformOriginAnimationEffectsOption=function(t,e){var o=[e.horizontal,e.vertical].join("-");t.data(E._ALIGN_MNEMONIC_DATA,o)},E.addTransformOriginAnimationEffectsOption=function(t,o){var i,n;e.StringUtils.isString(o)?(n=!0,i=o):(n=!1,i=JSON.stringify(o));var r=/#myPosition/g;if(i.match(r)){var s=t.data(E._ALIGN_MNEMONIC_DATA);e.StringUtils.isEmptyOrUndefined(s)&&(s="center-middle");var a=E._ANIMATION_TRANSFORM_ORIGIN_RULES[s];i=i.replace(r,a),o=n?i:JSON.parse(i)}return o},E._JQUI_MNEMONIC_GRP_REGX=/^(\w+)(\+|-)?(\d+)?/,E._VERTICAL_ENUM_TST_REGX=/^top$|^center$|^bottom$/,E._HORIZONTAL_ENUM_TST_REGX=/^start$|^left$|^center$|^end$|^right$/,E._COLLISION_ENUM_TST_REGX=/^none$|^flip$|^flipfit$|^fit$|^flipcenter$/,E._parsePositionNmnemonic=function(t,e){var o=[null,Number.NaN],i=E._JQUI_MNEMONIC_GRP_REGX.exec(t);if(i[1]&&e.test(i[1])&&(o[0]=i[1],i[2])){var n=parseInt(i[3],10);isNaN(n)||(n*="-"===i[2]?-1:1,o[1]=n)}return o},E._parseJSON=function(t){if(e.StringUtils.isString(t)&&/^{/.test(t)&&/}$/.test(t))try{return JSON.parse(t)}catch(t){}return null},E._coerceMyAtToJet=function(t,i,n,s){var a=E._parseJSON(i);a&&(i=a),(a=E._parseJSON(n))&&(n=a),s||(s={});var l,c=o.extend({},s),p={x:0,y:0};if(n&&"x"in n&&"y"in n&&(p.x=r.getCSSLengthAsInt(n.x),p.y=r.getCSSLengthAsInt(n.y)),e.StringUtils.isString(i)){var u=i.split(/\s/);u.length>0&&!e.StringUtils.isEmpty(u[0])&&(l=E._parsePositionNmnemonic(u[0],E._HORIZONTAL_ENUM_TST_REGX))[0]&&(c.horizontal=l[0],isNaN(l[1])||(p.x=l[1])),u.length>1&&!e.StringUtils.isEmpty(u[1])&&(l=E._parsePositionNmnemonic(u[1],E._VERTICAL_ENUM_TST_REGX))[0]&&(c.vertical=l[0],isNaN(l[1])||(p.y=l[1]))}else i&&("horizontal"in i&&(l=E._parsePositionNmnemonic(i.horizontal,E._HORIZONTAL_ENUM_TST_REGX))[0]&&(c.horizontal=l[0],isNaN(l[1])||(p.x=l[1])),"vertical"in i&&(l=E._parsePositionNmnemonic(i.vertical,E._VERTICAL_ENUM_TST_REGX))[0]&&(c.vertical=l[0],isNaN(l[1])||(p.y=l[1])));var f={};return f[t]=c,f.offset=p,f},E._coerceCollisionToJet=function(t,e){var o=e;return E._COLLISION_ENUM_TST_REGX.test(t)&&(o=t),{collision:o}},E._coerceOfToJet=function(t,i){var n=E._parseJSON(t);n&&(t=n);var s=i;if(e.StringUtils.isString(t))s=t;else if(o.isWindow(t))s="window";else if(t instanceof Element||t instanceof o){(t=o(t)).uniqueId(),s="#"+function(t){for(var e=[],o=/\w|_|-/,i=0;i<t.length;i++){var n=t.substring(i,i+1);o.test(n)?e.push(n):e.push("\\"+n)}return e.join("")}(t.attr("id"))}else t instanceof Event||t instanceof o.Event?("pageX"in t||"pageY"in t)&&((s={}).x=r.getCSSLengthAsFloat(t.pageX),s.y=r.getCSSLengthAsFloat(t.pageY)):t&&("x"in t||"y"in t)&&((s={}).x=r.getCSSLengthAsFloat(t.x),s.y=r.getCSSLengthAsFloat(t.y));return{of:s}},E.coerceToJet=function(t,e){t||(t={});var i=E._parseJSON(t);i&&(t=i),e||(e={});var n=e.my,r=e.at,s=e.collision,a=e.of,l=E._coerceMyAtToJet("my",t.my,t.offset,n),c=E._coerceMyAtToJet("at",t.at,null,r),p={offset:{x:l.offset.x+c.offset.x,y:l.offset.y+c.offset.y}};delete l.offset,delete c.offset;var u=o.extend({},l,c,p,E._coerceCollisionToJet(t.collision,s),E._coerceOfToJet(t.of,a),function(t,e){return{using:o.isFunction(t)?t:e}}(t.using,undefined));return u},E.coerceToJqUi=function(t){function i(e,o){var i=[];if(t[e][o]?i.push(t[e][o]):i.push("center"),"my"===e&&t.offset){var n="horizontal"===o?"x":"y",r=t.offset[n];isNaN(r)||0===r||(i.push(r>0?"+":""),i.push(Math.floor(r).toString()))}return i.join("")}var n={};["my","at"].forEach(function(e){if(t[e]){var o=[];o.push(i(e,"horizontal")),o.push(" "),o.push(i(e,"vertical")),n[e]=o.join("")}});var r=t.of;if(e.StringUtils.isString(r))n.of="window"===r?window:r;else if(r&&!e.StringUtils.isString(r)&&"x"in r&&"y"in r){var s=r.x,a=r.y,l=document.createEvent("MouseEvents");l.initMouseEvent("click",!0,!0,window,1,s,a,s,a,!1,!1,!1,!1,0,null),n.of=o.Event(l,{pageX:s,pageY:a})}else n.of=r;return t.collision&&(n.collision=t.collision),t.using&&(n.using=t.using),n},E.calcAvailablePopupSize=function(t,e,i){var n,s,a,l,c=o.position.getWithinInfo(i||window),p=o.position.getScrollInfo(c),u="rtl"===r.getReadingDirection(),f=u?p.width:0,_=u?0:p.width,d=e.element,h=e.target,E=c.isWindow?c.scrollLeft:0,g=c.isWindow?c.scrollTop:0,v=d.left,O=d.left+d.width,T=d.top,S=d.top+d.height,P=h.left,m=h.left+h.width,y=h.top,A=h.top+h.height,I=c.offset.left+E+f,L=c.offset.left+c.width+E-_,R=c.offset.top+g,N=c.offset.top+c.height+g-p.height;return v<P?(n=I,s=O<=P?P:O<=m?Math.min(m,L):L):v===P?P-I>L-m?(n=I,s=m):(n=P,s=L):v<m?(n=P,s=O<=m?m:L):(n=m,s=L),T<y?(a=R,l=S<=y?y:S<=A?Math.min(A,N):N):T===y?(a=y,l=N):T<A?(a=y,l=S<=A?A:N):(a=A,l=N),{width:s-n,height:l-a}},function(){var t,i=Math.max,n=Math.abs;const s=/left|center|right/,a=/top|center|bottom/,l=/[+-]\d+(\.[\d]+)?%?/,c=/^\w+/,p=/%$/;var u=o.fn.position,f=o.position.getWithinInfo;function _(t,e,o){return[parseFloat(t[0])*(p.test(t[0])?e/100:1),parseFloat(t[1])*(p.test(t[1])?o/100:1)]}function d(t,e){return parseInt(o.css(t,e),10)||0}o.position={getWithinInfo:f.bind(this),scrollbarWidth:function(){if(void 0!==t)return t;var e,i,n=document.createElement("div");n.style.display="block",n.style.position="absolute",n.style.width="50px",n.style.height="50px",n.style.overflow="hidden";var r=document.createElement("div");return r.style.height="100px",r.style.width="auto",n.appendChild(r),o("body").append(o(n)),e=r.offsetWidth,n.style.overflow="scroll",e===(i=r.offsetWidth)&&(i=n.clientWidth),o(n).remove(),t=e-i},getScrollInfo:function(t){var e=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),i=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),n="scroll"===e||"auto"===e&&t.width<t.element[0].scrollWidth;return{width:"scroll"===i||"auto"===i&&t.height<t.element[0].scrollHeight?o.position.scrollbarWidth():0,height:n?o.position.scrollbarWidth():0}}},o.fn.position=function(t){if(!t||!t.of)return u.apply(this,arguments);var r,p,f,h,E,g,v="string"==typeof(t=o.extend({},t)).of?o(document).find(t.of):o(t.of),O=o.position.getWithinInfo(t.within),T=o.position.getScrollInfo(O),S=(t.collision||"flip").split(" "),P={};return g=function(t){var o,i=t[0];if(9===i.nodeType)return{width:t.width(),height:t.height(),offset:{top:0,left:0}};if(null!=(o=i)&&o===o.window){var n=e.AgentUtils.getAgentInfo(),r=e.AgentUtils.OS.ANDROID===n.os||e.AgentUtils.OS.IOS===n.os;return{width:t.width(),height:r?i.innerHeight:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}}return i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}(v),v[0].preventDefault&&(t.at="left top"),p=g.width,f=g.height,h=g.offset,E=o.extend({},h),o.each(["my","at"],function(){var e,o,i=(t[this]||"").split(" ");1===i.length&&(i=s.test(i[0])?i.concat(["center"]):a.test(i[0])?["center"].concat(i):["center","center"]),i[0]=s.test(i[0])?i[0]:"center",i[1]=a.test(i[1])?i[1]:"center",e=l.exec(i[0]),o=l.exec(i[1]),P[this]=[e?e[0]:0,o?o[0]:0],t[this]=[c.exec(i[0])[0],c.exec(i[1])[0]]}),1===S.length&&(S[1]=S[0]),"right"===t.at[0]?E.left+=p:"center"===t.at[0]&&(E.left+=p/2),"bottom"===t.at[1]?E.top+=f:"center"===t.at[1]&&(E.top+=f/2),r=_(P.at,p,f),E.left+=r[0],E.top+=r[1],this.each(function(){var e,s,a=o(this),l=a.outerWidth(),c=a.outerHeight(),u=d(this,"marginLeft"),g=d(this,"marginTop"),m=l+u+d(this,"marginRight")+T.width,y=c+g+d(this,"marginBottom")+T.height,A=o.extend({},E),I=_(P.my,a.outerWidth(),a.outerHeight());"right"===t.my[0]?A.left-=l:"center"===t.my[0]&&(A.left-=l/2),"bottom"===t.my[1]?A.top-=c:"center"===t.my[1]&&(A.top-=c/2),A.left+=I[0],A.top+=I[1],e={marginLeft:u,marginTop:g},o.each(["left","top"],function(i,n){o.ui.position[S[i]]&&o.ui.position[S[i]][n](A,{targetWidth:p,targetHeight:f,elemWidth:l,elemHeight:c,collisionPosition:e,collisionWidth:m,collisionHeight:y,offset:[r[0]+I[0],r[1]+I[1]],my:t.my,at:t.at,within:O,elem:a})}),A.left=Math.round(A.left),A.top=Math.round(A.top),t.using&&(s=function(e){var o=h.left-A.left,r=o+p-l,s=h.top-A.top,u=s+f-c,_={target:{element:v,left:h.left,top:h.top,width:p,height:f},element:{element:a,left:A.left,top:A.top,width:l,height:c},horizontal:r<0?"left":o>0?"right":"center",vertical:u<0?"top":s>0?"bottom":"middle"};p<l&&Math.abs(o+r)<p&&(_.horizontal="center"),f<c&&Math.abs(s+u)<f&&(_.vertical="middle"),i(n(o),n(r))>i(n(s),n(u))?_.important="horizontal":_.important="vertical",t.using.call(this,e,_)}),a.offset(o.extend(A,{using:s}))})};var h=o.ui.position.flip.left;o.ui.position.flip={left:h.bind(this),top:function(t,e){var o,i,n=e.within,r=n.offset.top+n.scrollTop,s=n.height,a=n.isWindow?n.scrollTop:n.offset.top,l=t.top-e.collisionPosition.marginTop,c=l-a,p=l+e.collisionHeight-s-a;o="top"===e.my[1]?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,i="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0;var u,f,_=-2*e.offset[1];c<0?((u=t.top+o+i+_+e.collisionHeight-s-r)<0||u<Math.abs(c))&&p<0&&c>p&&(t.top+=o+i+_):p>0&&((f=t.top-e.collisionPosition.marginTop+o+i+_-a)>0||Math.abs(f)<p)&&(t.top+=o+i+_)}},o.ui.position.fit={left:function(t,e){var o,i=e.within,n=i.isWindow?i.scrollLeft:i.offset.left,r=i.width,s=t.left-e.collisionPosition.marginLeft,a=n-s,l=s+e.collisionWidth-r-n;e.collisionWidth>r?a>0&&l<=0?(o=t.left+a+e.collisionWidth-r-n,t.left+=a-o):t.left=l>0&&a<=0?n:a>l?n+r-e.collisionWidth:n:a>0?t.left+=a:l>0?t.left-=l:t.left=Math.max(t.left-s,t.left),t.left<0&&(t.left=0)},top:function(t,e){var o,i=e.within,n=i.isWindow?i.scrollTop:i.offset.top,r=e.within.height,s=t.top-e.collisionPosition.marginTop,a=n-s,l=s+e.collisionHeight-r-n;e.collisionHeight>r?a>0&&l<=0?(o=t.top+a+e.collisionHeight-r-n,t.top+=a-o):t.top=l>0&&a<=0?n:a>l?n+r-e.collisionHeight:n:a>0?t.top+=a:l>0?t.top-=l:t.top=Math.max(t.top-s,t.top),t.top<0&&(t.top=0)}},o.ui.position.flipcenter={left:function(t,e){var i=t.left;o.ui.position.flip.left.call(this,t,e);var n=e.within,s=n.isWindow?n.scrollLeft:n.offset.left,a=n.width,l=t.left-e.collisionPosition.marginLeft,c=s-l,p=l+e.collisionWidth-a-s;(c>0||p>0)&&("right"===e.at[0]?i-=e.targetWidth/2:"left"===e.at[0]&&(i+=e.targetWidth/2),((i-=("rtl"===r.getReadingDirection()?-1:1)*(e.elemWidth/2))<s||i+e.elemWidth>a-s)&&(o.ui.position.fit.left.call(this,t,e),i=t.left),t.left=Math.max(0,i))},top:function(t,e){var i=t.top;o.ui.position.flip.top.call(this,t,e);var n=e.within,r=n.isWindow?n.scrollTop:n.offset.top,s=e.within.height,a=t.top-e.collisionPosition.marginTop,l=r-a,c=a+e.collisionHeight-s-r;(l>0||c>0)&&("top"===e.at[1]?i+=e.targetHeight/2:"bottom"===e.at[1]&&(i-=e.targetHeight/2),i+=e.elemHeight/2,t.top=Math.max(0,i))}}}();const g=function(){this.Init()};e._registerLegacyNamespaceProp("PopupLiveRegion",g),e.Object.createSubclass(g,e.Object,"oj.PopupLiveRegion"),g.prototype.Init=function(){g.superclass.Init.call(this),isNaN(g._refCounter)?g._refCounter=1:g._refCounter+=1},g.prototype.destroy=function(){if(!isNaN(g._refCounter)&&(g._refCounter-=1)<1){var t=o(document.getElementById(g._POPUP_LIVE_REGION_ID));t.length>0&&t.remove()}},g.prototype.announce=function(t){if(!e.StringUtils.isEmpty(t)){var i=g._getLiveRegion();i.children().remove(),setTimeout(function(){o("<div>").text(t).appendTo(i)},250)}},g._getLiveRegion=function(){var t=o(document.getElementById(g._POPUP_LIVE_REGION_ID));return 0===t.length&&((t=o("<div>")).attr({id:g._POPUP_LIVE_REGION_ID,role:"log","aria-live":"polite","aria-relevant":"additions"}),t.addClass("oj-helper-hidden-accessible"),t.appendTo(document.body)),t},g._POPUP_LIVE_REGION_ID="__oj_popup_arialiveregion";const v=function(t,i,n,r,s){e.Assert.assertPrototype(t,o),e.Assert.assertString(i),e.Assert.assertFunction(n),e.Assert.assertStringOrNull(r),this._options={insertBefore:!1,preventKeyEvents:!0},s&&(this._options=Object.assign({},this._options,s)),this._sibling=t,this._message=i,this._callback=n,this._id=r,this.Init()};e._registerLegacyNamespaceProp("PopupSkipLink",v),e.Object.createSubclass(v,e.Object,"oj.PopupSkipLink"),v.prototype.Init=function(){v.superclass.Init.call(this);var t=this._sibling,e=this._callback,i=this._message,n=this._options.insertBefore,r=this._options.preventKeyEvents;this._message=null;var s=this._id;this._id=null;var a=o(document.getElementById(s));a.length<1&&(a=o("<a>").attr({tabindex:"-1",href:"#",role:"link"})),a.attr("id",s),a.addClass("oj-helper-hidden-accessible"),a.text(i),n?a.insertBefore(t):a.insertAfter(t),a.on("click",v._activateHandler.bind(this,e)),r&&a.on("keydown keyup keypress",v._keyHandler),t.data(v._SKIPLINK_ATTR,a)},v._activateHandler=function(t,e){h.eatEvent(e),window.setImmediate(t)},v._keyHandler=function(t){t.keyCode===o.ui.keyCode.ENTER&&h.eatEvent(t)},v.prototype.destroy=function(){var t=this._sibling;if(delete this._sibling,delete this._callback,t){var e=t.data(v._SKIPLINK_ATTR);t.removeData(v._SKIPLINK_ATTR),e&&(e.off("click keydown keyup keypress"),e.remove())}},v.prototype.getLink=function(){var t,e=this._sibling;return e&&(t=e.data(v._SKIPLINK_ATTR)),t},v._SKIPLINK_ATTR="oj-skiplink";const O=function(t,e,o,i){this._element=t,this._operation=e,this._widgetName=o,this._isCustomElement=!!i,this.Init()};e._registerLegacyNamespaceProp("PopupWhenReadyMediator",O),e.Object.createSubclass(O,e.Object,"oj.PopupWhenReadyMediator"),O.prototype.Init=function(){O.superclass.Init.call(this),this._resolvedQueue=[],this._callback=this._eventHandler.bind(this);var t=this._operation,e=["oj"];this._isCustomElement?(e.push(t.charAt(0).toUpperCase()),e.push(t.slice(1))):e.push(t);var o=e.join("");this._eventType=o,this._element.on(o,this._callback);var i=l.getContext(this._element[0]).getBusyContext(),n={description:this._getBusyStateDescription.bind(this,this._element,this._operation,this._widgetName)},r=i.addBusyState(n);this.AddPromiseExecutor(r),this._whenReadyPromise=new Promise(this.AddPromiseExecutor.bind(this))},O.prototype._getBusyStateDescription=function(t,e,o){return o+" identified by '"+t.attr("id")+"' is busy animating on the '"+e+"' operation."},O.prototype._deliverResolved=function(t){var e=this._resolvedQueue;this._resolvedQueue=null;var o=t||this._operation;this._operation=null;for(var i=0;i<e.length;i++)try{e[i](o)}catch(t){n.error("Error resolving whenReady promises:\n%o",t)}this._whenReadyPromise=Promise.resolve("none")},O.prototype.destroy=function(){if(this._resolvedQueue&&this._deliverResolved("none"),this._callback){var t=this._eventType;this._element.off(t,this._callback)}this._callback=null,this._element=null,this._operation=null,this._whenReadyPromise=null,this._widgetName=null,this._eventType=null},O.prototype.getWhenReadyPromise=function(){return this._whenReadyPromise},O.prototype._eventHandler=function(t){t.target===this._element[0]&&(this._element.off(t.type,this._callback),this._deliverResolved(),this._callback=null)},O.prototype._getPendingOperation=function(){return this._operation?this._operation:"none"},O.prototype.AddPromiseExecutor=function(t,e){this._resolvedQueue&&this._resolvedQueue.push(t)},O.prototype.isOperationPending=function(t,e,o,i){var r=!1,s=this._widgetName,a=this._getPendingOperation();if(e===a)n.info("An %s instance invoked a '%s' operation while pending animation of the same type of operation.  The second request will be ignored.",s,e),r=!0;else if("none"!==a){n.info("An %s instance invoked a '%s' operation while pending animation of a '%s' operation. The second request will be invoked after the pending operation completes.",s,e,a),new Promise(this.AddPromiseExecutor.bind(this)).then(function(){this[o].apply(this,i)}.bind(t)),r=!0}return r};class T extends p.Component{constructor(){super(...arguments),this._setRootRef=t=>{this._rootRef=t}}render(t){return c.jsx("div",{style:{display:"none"},ref:this._setRootRef,children:t.children})}componentDidMount(){this._popup=o(this._rootRef.firstChild);const t={[_.OPTION.POPUP]:this._popup,[_.OPTION.EVENTS]:{[_.EVENT.POPUP_AUTODISMISS]:this.props.autoDismiss,[_.EVENT.POPUP_REFRESH]:function(){this._popup.position(this._getPosition())}.bind(this)},[_.OPTION.LAYER_SELECTORS]:this.props.layerSelectors,[_.OPTION.CUSTOM_ELEMENT]:!0,[_.OPTION.LAUNCHER]:o(this._rootRef),[_.OPTION.POSITION]:this._getPosition()};_.getInstance().open(t)}componentWillUnmount(){_.getInstance().close({[_.OPTION.POPUP]:this._popup})}componentDidUpdate(){this._popup.position(this._getPosition())}_getPosition(){return E.normalizeHorizontalAlignment(this.props.position,"rtl"===r.getReadingDirection())}}T.defaultProps={autoDismiss:null,layerSelectors:"",position:{}};const S="__oj_zorder_container",P="__root_layer_host",m=u.ElementUtils.getUniqueId.bind(null,null),y=Symbol();function A(t,o){const i={},n=e.PopupService.OPTION;i[n.POPUP]=t,i[n.LAUNCHER]=o,i[n.LAYER_SELECTORS]="oj-v-layer-host-layer";const r=e.PopupService.EVENT;return i[n.EVENTS]={[r.POPUP_BEFORE_OPEN]:()=>{},[r.POPUP_AFTER_OPEN]:()=>{},[r.POPUP_BEFORE_CLOSE]:()=>{},[r.POPUP_AFTER_CLOSE]:()=>{},[r.POPUP_AUTODISMISS]:()=>{},[r.POPUP_REFRESH]:()=>{},[r.POPUP_CLOSE]:()=>{!function(t,o){if(!t)return;const i=e.PopupService.getInstance(),n=A(t,o);i.close(n),t.remove()}(t,o)},[r.POPUP_REMOVE]:()=>{}},i}function I(){let t=document.getElementById(P);if(!t){t=document.createElement("div"),t.setAttribute("id",P),t.setAttribute("data-oj-binding-provider","preact"),t.classList.add("oj-root-layer-host");let e=document.getElementById(S);e?e.after(t):document.body.prepend(t)}return t}t.PopupLiveRegion=g,t.PopupService=_,t.PopupSkipLink=v,t.PopupWhenReadyMediator=O,t.PositionUtils=E,t.VPopup=T,t.findOpenVPopups=function(){const t=I();return[].slice.call(t.children)},t.getLayerHost=function(t){const o=t.anchorRef;let i;if(t[y]?i=document.getElementById(t[y]):t[y]=`__v_layer_host_${m()}`,i)return i;let n,r=!1;n=null!=o?o.current:t;let s=t.closest(`#${S}`);return s?r=!0:o&&o.current&&!o.current.x&&(s=o.current.closest(`#${S}`),s&&(r=!0)),r?function(t,o){if(!t)return;let i=document.getElementById(t);i||(i=document.createElement("div"),i.setAttribute("id",t),i.setAttribute("data-oj-binding-provider","preact"),document.body.appendChild(i));const n=e.PopupService.getInstance(),r=A(i,o);return n.open(r),i}(t[y],n):I()},Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ojpopupcore.js.map;
define('@oracle/oraclejet-preact/utils/UNSAFE_matchTranslationBundle',['exports'], (function(n){"use strict";function t(n,t){let e=null;const l=n.split("-");for(;null===e&&l.length>1;){l.pop();const n=l.join("-");t.has(n)&&(e=n)}return e}n.matchTranslationBundle=function(n,e){let l=null;for(let o=0;null===l&&o<n.length;o++){const u=n[o];l=e.has(u)?u:t(u,e)}return l},Object.defineProperty(n,"__esModule",{value:!0})}));
//# sourceMappingURL=UNSAFE_matchTranslationBundle.js.map
;
define('@oracle/oraclejet-preact/resources/nls/supportedLocales',['exports'], (function(e){"use strict";e.default=["ar","ar-XB","bg","bs","bs-Cyrl","cs","da","de","el","en","en-XA","en-XC","es","et","fi","fr","fr-CA","he","hr","hu","is","it","ja","ko","lt","lv","ms","nl","no","pl","pt","pt-PT","ro","ru","sk","sl","sr","sr-Latn","sv","th","tr","uk","vi","zh-Hans","zh-Hant"],Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=supportedLocales.js.map
;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojvcomponent',["require","exports","preact/compat","preact/jsx-runtime","preact","ojs/ojcustomelement-utils","ojs/ojcustomelement-registry","preact/hooks","@oracle/oraclejet-preact/UNSAFE_Environment","ojs/ojcore-base","ojs/ojpreact-patch","ojs/ojmetadatautils","@oracle/oraclejet-preact/UNSAFE_Layer","ojs/ojpopupcore","ojs/ojconfig","ojs/ojcontext","@oracle/oraclejet-preact/utils/UNSAFE_matchTranslationBundle","@oracle/oraclejet-preact/resources/nls/supportedLocales","ojs/ojlogger"],function(e,t,s,r,n,o,i,a,l,c,p,u,h,d,m,_,f,y,g){"use strict";c=c&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c,_=_&&Object.prototype.hasOwnProperty.call(_,"default")?_.default:_,y=y&&Object.prototype.hasOwnProperty.call(y,"default")?y.default:y;let P,v=0;const b=new Map,C=Symbol(),E="@oj_s";function S(e,t,s,r){const i=function(e){let t=e[C];void 0===t&&(t=E+v++,e[C]=t);return t}(t),l=function(e,t,s){let r,n=0;const i=()=>{0===n&&r.remove()};return a=>{if(null!=a){n++,r=a,r[p.OJ_SLOT_REMOVE]=i;const e=a.parentElement;p.patchSlotParent(e),t(a)}else{if(n--,n<0)throw new o.JetElementError(e,"Slot replacer count underflow");0===n&&window.queueMicrotask(()=>{0===n&&s(r)})}}}(e,s,r);return n.h(()=>(function(e,t){0===b.size&&(P=document.createElement,document.createElement=j);b.set(e,t)}(i,t),a.useLayoutEffect(()=>{return e=i,b.delete(e),void(0===b.size&&(document.createElement=P));var e}),n.h(i,{ref:l,key:i})),null)}function j(e,t){return e.startsWith(E)?b.get(e):P.call(document,e,t)}class x{parkNode(e){this._getLot().appendChild(e),c.Components&&c.Components.subtreeHidden(e)}disposeNodes(e,t){x._iterateSlots(e,e=>{const s=e.parentElement;this._lot===s?(t(e),this._lot.removeChild(e)):s||t(e)})}disconnectNodes(e){x._iterateSlots(e,e=>{this._lot===e.parentElement&&this._lot.removeChild(e)})}reconnectNodes(e){x._iterateSlots(e,e=>{e.parentElement||this._lot.appendChild(e)})}isParked(e){return e?.parentElement===this._lot}_getLot(){if(!this._lot){const e=document.createElement("div");e.style.display="none",document.body.appendChild(e),this._lot=e}return this._lot}static _iterateSlots(e,t){Object.keys(e).forEach(s=>{e[s].forEach(e=>{t(e)})})}}const w=new x,k=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function A(e,t,s){"-"===t[0]?e.setProperty(t,s):null==s?e[t]="":"number"!=typeof s||k.test(t)?e[t]=s:e[t]=s+"px"}function R(e,t,s,r,n){let o;e:if("style"===t)if("string"==typeof s)e.style.cssText=s;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)s&&t in s||A(e.style,t,"");if(s)for(t in s)r&&s[t]===r[t]||A(e.style,t,s[t])}else if("o"===t[0]&&"n"===t[1])if(o=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e._listeners||(e._listeners={}),e._listeners[t+o]=s,s){if(!r){const s=o?O:T;e.addEventListener(t,s,o)}}else{const s=o?O:T;e.removeEventListener(t,s,o)}else if("dangerouslySetInnerHTML"!==t){if(n)t=t.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==s?"":s;break e}catch(e){}"function"==typeof s||(null!=s&&(!1!==s||"a"===t[0]&&"r"===t[1])?e.setAttribute(t,s):e.removeAttribute(t))}}function T(e){this._listeners[e.type+!1](n.options.event?n.options.event(e):e)}function O(e){this._listeners[e.type+!0](n.options.event?n.options.event(e):e)}const M=Symbol(),L=Symbol();class N extends n.Component{constructor(e){super(e),this.getEnvironmentContextObj=(e,t,s,r,n)=>{let o=e;return o?t&&t!==o?(o=t,this.extendTranslationBundleMap(o,n)):(s&&s!==o.colorScheme||r&&r!==o.scale)&&(o=Object.assign({},o,s&&{colorScheme:s},r&&{scale:r})):(o=t||{colorScheme:s,scale:r,user:{locale:m.getLocale()}},this.extendTranslationBundleMap(o,n)),o},this.extendTranslationBundleMap=(e,t)=>{e.translations?e.translations!==t&&Object.keys(t).forEach(s=>{e.translations[s]||(e.translations[s]=t[s])}):e.translations=t},this.state={compProps:e.initialCompProps},this._layerContext={getHost:d.getLayerHost.bind(null,e.baseElem)}}render(e){const t=this.state.compProps,s=e.baseComp,n=r.jsx(s,{...t}),o=U(this.getEnvironmentContextObj,[e.baseElem.__oj_private_contexts?.get(l.EnvironmentContext),e.baseElem.__oj_private_color_scheme,e.baseElem.__oj_private_scale,e.translationBundleMap]),i=e.baseElem.__oj_private_contexts,a=i?Array.from(i).reduce((e,[t,s])=>{if(t===l.EnvironmentContext)return e;return r.jsx(t.Provider,{value:s,children:e})},n):n,c=n.props;return c[M]=e.baseElem,c[L]=e.rootPatchCallback,r.jsx(h.LayerContext.Provider,{value:this._layerContext,children:r.jsx(l.RootEnvironmentProvider,{environment:o,children:a})})}}const U=(e,t)=>(e.memoState||(e.memoState={value:void 0,prevArgs:void 0}),B(e.memoState.prevArgs,t)&&(e.memoState.value=e(e.memoState.value,...t),e.memoState.prevArgs=t),e.memoState.value),B=(e,t)=>!e||e.length!==t.length||t.some((t,s)=>t!==e[s]),H=(e,t)=>{e&&("function"==typeof e?e(t):e.current=t)},D=new Set,V=Symbol(),I=Symbol(),q="subproperty",F="propChange";class z{constructor(e,t,s,r,i,a){this.ref=n.createRef(),this._compWithContextsRef=n.createRef(),this._initialized=!1,this._isPatching=!1,this._props={ref:this.ref},this._verifyingState=$.Unset,this._earlySets=[],this._eventQueue=[],this._isRenderQueued=!1,this._state=o.CustomElementUtils.getElementState(e),this._element=e,this._metadata=s,this._component=t,this._controlledProps=i?.length>0?new Set(i):D,this._controlledAttrs=r?.length>0?new Set(r):D,this._defaultProps=a,this._rootPatchCallback=this._patchRootElement.bind(this)}connectedCallback(){this._verifyConnectDisconnect($.Connect)}disconnectedCallback(){this._verifyConnectDisconnect($.Disconnect)}attributeChangedCallback(e,t,s){if(!this._isPatching&&this._state.canHandleAttributes()){const r=o.AttributeUtils.attributeToPropertyName(e),n=r.split(".")[0];if(this._state.dirtyProps.has(n))this._state.dirtyProps.delete(n);else if(t===s)return;null===s&&(s=void 0),"knockout"===this._state.getBindingProviderType()&&(o.AttributeUtils.isGlobalOrData(r)||this._element.dispatchEvent(new CustomEvent("attribute-changed",{detail:{attribute:e,value:s,previousValue:t}})));const{propPath:i,propValue:a,propMeta:l,subPropMeta:c}=this._getPropValueInfo(e,s);i&&this._updatePropsAndQueueRenderAsNeeded(i,a,l,c)}}getProperty(e){if(u.getPropertyMetadata(e,this._metadata?.properties)){let t=o.CustomElementUtils.getPropertyValue(this._props,e);return void 0===t&&this._defaultProps&&(t=o.CustomElementUtils.getPropertyValue(this._defaultProps,e)),t}return this._element[e]}setProperty(e,t){if(this._isPatching)return;const{prop:s,subProp:r}=u.getComplexPropertyMetadata(e,this._metadata?.properties);s?this._state.allowPropertySets()?(t=o.transformPreactValue(this._element,r,t),this._updatePropsAndQueueRenderAsNeeded(e,t,s,r)):this._earlySets.push({property:e,value:t}):this._element[e]=t}setProperties(e){this._isPatching||Object.keys(e).forEach(t=>{this.setProperty(t,e[t])})}getProps(){return this._props}isInitialized(){return!!this._vdom}appendChildHelper(e,t){return o.CustomElementUtils.canRelocateNode(e,t)?HTMLElement.prototype.appendChild.call(e,t):t}insertBeforeHelper(e,t,s){return o.CustomElementUtils.canRelocateNode(e,t)?HTMLElement.prototype.insertBefore.call(e,t,s):t}_render(){if(!this._initialized){this._initialized=!0,this._initializePropsFromDom();const e=this._metadata.events;e&&this._initializeActionCallbacks(e);const t=this._metadata.extension?._WRITEBACK_PROPS;t&&this._initializeWritebackCallbacks(t),this._playbackEarlyPropertySets()}if(this._vdom)throw new Error(`Unexpected render call for already rendered component ${this._element.tagName}`);this._vdom=r.jsx(N,{ref:this._compWithContextsRef,baseComp:this._component,baseElem:this._element,initialCompProps:this._props,rootPatchCallback:this._rootPatchCallback,translationBundleMap:this._state.getTranslationBundleMap()}),n.render(this._vdom,this._element)}_getPropValueInfo(e,t){if("knockout"!==this._state.getBindingProviderType()||!o.AttributeUtils.getExpressionInfo(t).expr){const s=o.AttributeUtils.attributeToPropertyName(e),{prop:r,subProp:n}=u.getComplexPropertyMetadata(s,this._metadata?.properties);if(r)return r.readOnly?{}:{propPath:s,propValue:o.AttributeUtils.attributeToPropertyValue(this._element,e,t,n),propMeta:r,subPropMeta:n};const i=o.AttributeUtils.getGlobalPropForAttr(e);if(this._controlledProps.has(i))return{propPath:i,propValue:this._element[o.AttributeUtils.getGlobalValuePropForAttr(e)]??t}}return{}}_updatePropsAndQueueRenderAsNeeded(e,t,s,r,n=!0){const i=this.getProperty(e),a=void 0===t?o.CustomElementUtils.getPropertyValue(this._defaultProps,e):t;if(s&&o.ElementUtils.comparePropertyValues(s.writeback,a,i))return;const l=e.split("."),p=l[0],u=l.length>1;let h=this.getProperty(p);if(c.CollectionUtils.isPlainObject(h)&&(h=c.CollectionUtils.copyInto({},h,void 0,!0)),n&&this._verifyProps(e,t,s,r),this._updateProps(l,t),!n||this._state.allowPropertyChangedEvents()&&!o.AttributeUtils.isGlobalOrData(e)){this._state.dirtyProps.add(p);const s=n?"external":"internal",r={value:this.getProperty(p),previousValue:h,updatedFrom:s};u&&(r[q]={path:e,value:t,previousValue:i});const o=p+"Changed",a=u?null:e=>{if(e.kind!==F||e.type!==o||e.detail[q])return null;const t=Object.assign({},r,{previousValue:e.detail.previousValue});return{type:o,detail:t,collapse:a,kind:F}};this._queueFireEventsTask({type:o,detail:r,collapse:a,kind:F})}const d=this._oldRootProps;d&&this._controlledProps.has(e)&&(d[e]=t),this._vdom&&!s?.readOnly&&(this._compWithContextsRef?.current?this._queueRender():window.queueMicrotask(()=>{this._queueRender()}))}_queueRender(){if(!this._compWithContextsRef?.current)throw new Error(`Render requested for a disconnected component ${this._element.tagName}`);this._compWithContextsRef.current.setState({compProps:this._props})}_verifyProps(e,t,s,r){if(s){if(s.readOnly)throw new o.JetElementError(this._element,`Read-only property '${e}' cannot be set.`);try{u.checkEnumValues(this._element,e,t,r)}catch(e){throw new o.JetElementError(this._element,e.message)}}}_updateProps(e,t){const s=e[0];let r=this._props;if(e.length>1){const e=this._props[s]??this._defaultProps?.[s];e&&c.CollectionUtils.isPlainObject(e)?r[s]=c.CollectionUtils.copyInto({},e,void 0,!0):r[s]={}}for(;e.length;){const s=e.shift();0===e.length?r[s]=t:r[s]||(r[s]={}),r=r[s]}}_queueFireEventsTask(e){let t=e;const s=this._getEventCollapseInfo(e,this._eventQueue);if(s){const[e,r]=s;this._eventQueue.splice(e,1),t=r}return this._eventQueue.push(t),this._queuedEvents||(this._queuedEvents=new Promise(e=>{window.queueMicrotask(()=>{try{for(;this._eventQueue.length;){const e=this._eventQueue.shift(),t=e.kind===F?new CustomEvent(e.type,{detail:e.detail}):e.event;this._element.dispatchEvent(t)}}finally{e(),this._queuedEvents=null}})})),this._queuedEvents}_getEventCollapseInfo(e,t){if(e.kind!==F)return null;for(let s=0;s<t.length;s++){const r=e.collapse?.(t[s]);if(r)return[s,r]}return null}_verifyConnectDisconnect(e){this._verifyingState===$.Unset&&window.queueMicrotask(()=>{this._verifyingState===e&&(this._verifyingState===$.Connect?this._verifiedConnect():this._verifiedDisconnect()),this._verifyingState=$.Unset}),this._verifyingState=e}_verifiedConnect(){if(this._state.isComplete())this._reconnectSlots();else if(this._state.startCreationCycle(),this._state.isCreating()){const e=()=>{this._element[o.CHILD_BINDING_PROVIDER]="preact";let e=this._state.getSlotMap();if(e)this._reconnectSlots();else{e=this._state.getSlotMap(!0);const t=this._removeAndConvertSlotsToProps(e);Object.assign(this._props,t)}this._render()};this._state.setCreateCallback(e),this._state.setBindingsDisposedCallback(()=>this._handleBindingsDisposed())}this._state.executeLifecycleCallbacks(!0)}_verifiedDisconnect(){this._state.executeLifecycleCallbacks(!1),this._state.isComplete()?(this._disconnectSlots(),this._state.resetCreationCycle(),n.render(null,this._element),H(this.ref,null),H(this._compWithContextsRef,null),H(this._oldRootRef,null),this._oldRootRef=void 0,this._vdom=null):this._state.pauseCreationCycle()}_initializePropsFromDom(){const e=this._element.attributes;for(let t=0;t<e.length;t++){const{name:s,value:r}=e[t],{propPath:n,propValue:o,propMeta:i,subPropMeta:a}=this._getPropValueInfo(s,r);n&&(this._verifyProps(n,o,i,a),this._updateProps(n.split("."),o))}}_playbackEarlyPropertySets(){for(;this._earlySets.length;){const e=this._earlySets.shift(),t=u.getPropertyMetadata(e.property,this._metadata?.properties),s=o.transformPreactValue(this._element,t,e.value);this.setProperty(e.property,s)}}_patchRootElement(e){const t=this._oldRootProps||this._getInitialRootProps(),s=e.props;this._isPatching=!0;try{!function(e,t,s,r,n,o){let i;for(i in s)"children"===i||"key"===i||i in t||o(e,i,null,s[i],r)||R(e,i,null,s[i],r);for(i in t)n&&"function"!=typeof t[i]||"children"===i||"key"===i||"value"===i||"checked"===i||s[i]===t[i]||o(e,i,t[i],s[i],r)||R(e,i,t[i],s[i],r)}(this._element,s,t,!1,!1,z._setPropertyOverrides)}finally{this._isPatching=!1}const r=e.ref;this._oldRootRef!==r&&(H(r,this._element),r&&this._oldRootRef?.(null)),this._oldRootProps=s,this._oldRootRef=r}static _setPropertyOverrides(e,t,s,r){if("style"===t&&"string"==typeof s)throw new Error("CSS style must be an object. CSS text is not supported");if("class"===t||"className"===t){const t=null==r?D:o.CustomElementUtils.getClassSet(r),n=null==s?D:o.CustomElementUtils.getClassSet(s);for(const s of t.values())n.has(s)||e.classList.remove(s);for(const s of n.values())t.has(s)||e.classList.add(s);return!0}if("o"===t[0]&&"n"===t[1]){const n=t!==(t=t.replace(/Capture$/,"")),o=t.toLowerCase();o in e&&(t=o),t=t.slice(2),z._getRootListeners(e,n)[t]=s;const i=n?z._eventProxyCapture:z._eventProxy;return s?r||e.addEventListener(t,i,n):e.removeEventListener(t,i,n),!0}return"role"===t&&(s?e.setAttribute(t,s):e.removeAttribute(t),!0)}static _getRootListeners(e,t){const s=t?I:V;let r=e[s];return r||(r=e[s]={}),r}_getInitialRootProps(){const e={};for(const t of this._controlledProps.values())t in this._props&&(e[t]=this._props[t]);return e}_removeAndConvertSlotsToProps(e){const t=this._metadata.extension?._DYNAMIC_SLOT,s=t?.prop,r=this._metadata?.slots,n=Object.keys(e),o={};if(n.length>0&&n.forEach(n=>{const i=e[n];i.forEach(e=>{w.parkNode(e)});const a=u.getPropertyMetadata(n,r);if(a){const e=!!a?.data,t=e||""!==n?n:"children";this._assignSlotProperty(o,t,void 0,n,e,i)}else{if(!s)return;o[s]||(o[s]={});const e=t.isTemplate;this._assignSlotProperty(o,n,s,n,e,i)}}),"knockout"===this._state.getBindingProviderType()){let e;for(;e=this._element.firstChild;)this._state.getBindingProviderCleanNode()(e),e.remove()}return o}_assignSlotProperty(e,t,s,r,n,i){const a=s?e[s]:e;if(n){if("TEMPLATE"!==i[0]?.nodeName)throw new o.JetElementError(this._element,`Slot content for template slot ${r} must be a template element.`);{const e=i[0];let r=e.render;r?(a[t]=r,Object.defineProperties(e,{render:{enumerable:!0,get:()=>r,set:e=>{r=e,e&&(this._updateProps([t],e),this._queueRender())}}})):a[t]=this._getSlotRenderer(e,t,s)}}else{const e=i.map((e,t)=>S(this._element,e,this._handleSlotMount.bind(this),this._handleSlotUnmount.bind(this)));a[t]=e}}_getSlotRenderer(e,t,s){const r=this._state.getBindingProvider(),n=r?()=>{(s?this._props[s]:this._props)[t]=this._getSlotRenderer(e,t,s),this._queueRender()}:null;return t=>{const s=this._state.getTemplateEngine();if(!s)throw new o.JetElementError(this._element,"Unexpected call to render a template slot");return s.execute(this._element,e,t,r,n)}}_handleBindingsDisposed(){w.disposeNodes(this._state.getSlotMap(),this._state.getBindingProviderCleanNode()),this._state.disposeTemplateCache()}_disconnectSlots(){w.disconnectNodes(this._state.getSlotMap())}_reconnectSlots(){w.reconnectNodes(this._state.getSlotMap())}_handleSlotUnmount(e){this._state.isComplete()&&w.parkNode(e)}_handleSlotMount(e){const t=c.Components?.subtreeShown;t&&(e.isConnected?t(e):window.queueMicrotask(()=>t(e)))}static _eventProxy(e){this[V][e.type](n.options.event?n.options.event(e):e)}static _eventProxyCapture(e){this[I][e.type](n.options.event?n.options.event(e):e)}_initializeActionCallbacks(e){Object.keys(e).forEach(t=>{const s=e[t],r=o.AttributeUtils.eventTypeToEventListenerProperty(t);this._props[r]=e=>{const r=Object.assign({},e),n=!!s.cancelable,o=[];n&&(r.accept=e=>{o.push(e)});const i={detail:r,bubbles:!!s.bubbles,cancelable:n},a=new CustomEvent(t,i),l=this._queueFireEventsTask({event:a,kind:"action"});if(n)return l.then(()=>a.defaultPrevented?Promise.reject():Promise.all(o).then(()=>Promise.resolve(),e=>Promise.reject(e)))}})}_initializeWritebackCallbacks(e){e.forEach(e=>{const t=o.AttributeUtils.propertyNameToChangedCallback(e),{prop:s,subProp:r}=u.getComplexPropertyMetadata(e,this._metadata?.properties);this._props[t]=t=>{this._updatePropsAndQueueRenderAsNeeded(e,t,s,r,!1)}})}}var $;!function(e){e[e.Connect=0]="Connect",e[e.Disconnect=1]="Disconnect",e[e.Unset=2]="Unset"}($||($={}));const W=s.forwardRef((e,t)=>{const s=e.children,o=i.getElementRegistration(s.type).cache.contexts,c=[l.EnvironmentContext,...o??[]],p=c.map(e=>{const t=a.useContext(e),r=s.props.__oj_private_contexts?.get(e);return void 0===r?t:r}),u=a.useMemo(()=>{const e=new Map;for(let t=0;t<c.length;t++)e.set(c[t],p[t]);return e},p);if(s.props.__oj_private_contexts=u,t)if(s.ref){const e=s.ref;s.ref=s=>{H(e,s),H(t,s)}}else s.ref=t;return r.jsx(n.Fragment,{children:s})});W.__ojIsEnvironmentWrapper=!0;const G=(e,t)=>{Object.prototype.hasOwnProperty.call(e,t)&&(e[t]=o.toSymbolizedValue(e[t]))},Q=n.options.vnode;let J=!1;n.options.vnode=e=>{const t=e.type;if("string"==typeof t&&i.isElementRegistered(t)){const t=e.props;G(t,"value"),G(t,"checked")}if("string"==typeof t&&!J&&i.isVComponent(t)){J=!0;try{const t=n.cloneElement(e),s=r.jsx(W,{children:t});Object.assign(e,s)}finally{J=!1}}Q?.(e)};const Y=100,Z=n.options.requestAnimationFrame;n.options.requestAnimationFrame=function(e){const t=new Promise(s=>{const r=()=>{s(),_.__removePreactPromise(t),e()};if(Z)Z(r);else{const e=()=>{clearTimeout(t),cancelAnimationFrame(s),setTimeout(r)},t=setTimeout(e,Y),s=requestAnimationFrame(e)}});_.__addPreactPromise(t,"Preact requestAnimationFrame")};const K=new class{constructor(){this.appendChildHelper=(e,t)=>HTMLElement.prototype.appendChild.call(e,t),this.insertBeforeHelper=(e,t,s)=>HTMLElement.prototype.insertBefore.call(e,t,s)}connectedCallback(){}disconnectedCallback(){}attributeChangedCallback(e,t,s){}getProperty(e){}setProperty(e,t){}setProperties(e){}};class X extends HTMLElement{static get observedAttributes(){let e=[];return this.metadata.properties&&(e=e.concat(u.getFlattenedAttributes(this.metadata.properties))),this.rootObservedAttributes&&(e=e.concat(this.rootObservedAttributes)),e}connectedCallback(){this._getHelper().connectedCallback()}disconnectedCallback(){this._helper?.disconnectedCallback()}attributeChangedCallback(e,t,s){this._helper?.attributeChangedCallback(e,t,s)}getProperty(e){return this._getHelper().getProperty(e)}setProperty(e,t){this._getHelper().setProperty(e,t)}setProperties(e){this._getHelper().setProperties(e)}appendChild(e){return this._getHelper().appendChildHelper(this,e)}insertBefore(e,t){return this._getHelper().insertBeforeHelper(this,e,t)}setAttribute(e,t){if("class"===e){const e=o.CustomElementUtils.getClassSet(t);o.CustomElementUtils.getElementState(this).setOuterClasses(e)}else HTMLElement.prototype.setAttribute.call(this,e,t)}removeAttribute(e){"class"===e?this.setAttribute("class",""):HTMLElement.prototype.removeAttribute.call(this,e)}_getHelper(){return this._helper||(this.hasAttribute("data-oj-jsx")?(this.removeAttribute("data-oj-jsx"),this.classList.add("oj-complete"),this._helper=K):this._helper=new z(this,this.constructor.component,this.constructor.metadata,this.constructor.rootObservedAttributes,this.constructor.rootObservedProperties,this.constructor.defaultProps)),this._helper}}const ee=n.createContext(null);function te(e,t){return"className"===e||o.AttributeUtils.isGlobalOrData(e)||function(e,t){if(t?.properties?.[e])return!1;const s=e.match(se);if(s){const e=s[1].toLowerCase()+s[2];return!t?.events?.[e]}return!1}(e,t)}const se=/^on(?!.*Changed$)([A-Za-z])([A-Za-z]*)$/;const re=({children:e})=>{const{tagName:t,metadata:s,isElementFirst:n,vcompProps:i}=a.useContext(ee);if(n)return e;const l=Object.keys(i).filter(e=>te(e,s)).reduce((e,t)=>(e[t]=i[t],e),{}),c=r.jsx("div",{ref:function(e){e&&(e[o.CustomElementUtils.VCOMP_INSTANCE]={props:i})},"data-oj-jsx":"",...l,children:e});return c.type=t,c},ne="class",oe=s.forwardRef((e,t)=>{const{tagName:s,metadata:o,isElementFirst:i,vcompProps:l,observedPropsSet:c}=a.useContext(ee);if(i){const o=r.jsx("div",{...e,ref:t});return o.type=s,l[L](o),r.jsx(n.Fragment,{children:e.children})}const p={};l.style&&e.style&&(p.style=Object.assign({},l.style,e.style));const u=l[ne];if(u){const t=e[ne]||"";p[ne]=`${u} ${t}`}const h=Object.keys(l).filter(t=>!(t in e)&&!c.has(t)&&te(t,o)).reduce((e,t)=>(e[t]=l[t],e),{}),d=r.jsx("div",{...e,...p,...h,ref:t,"data-oj-jsx":""});return d.type=s,d}),ie=new Set(y);class ae extends o.LifecycleElementState{constructor(e){super(e),this._translationBundleMap={}}getTranslationBundleMap(){return this._translationBundleMap}getTemplateEngine(){return ae._cachedTemplateEngine}getTrackChildrenOption(){return"immediate"}allowPropertyChangedEvents(){return super.allowPropertyChangedEvents()&&(e=>{const t=e._getHelper();return!!t.isInitialized?.()})(this.Element)}allowPropertySets(){return this._allowPropertySets||super.allowPropertySets()}resetCreationCycle(){this._allowPropertySets=super.allowPropertySets(),super.resetCreationCycle()}disposeTemplateCache(){const e=this.getSlotMap(),t=Object.keys(e),s=i.getElementDescriptor(this.Element.tagName).metadata,r=s?.extension?._DYNAMIC_SLOT,n=!!r?.isTemplate;t.filter(e=>{const t=u.getPropertyMetadata(e,s?.slots);if(t){if(t.data)return!0}else if(n)return!0;return!1}).forEach(t=>{const s=e[t];"TEMPLATE"===s[0]?.nodeName&&this.getTemplateEngine().cleanupTemplateCache(s[0])})}GetPreCreatedPromise(){let e=super.GetPreCreatedPromise();return this.Element.constructor.translationBundleMap&&(e=e.then(()=>this._getTranslationBundlesPromise())),!ae._cachedTemplateEngine&&this._hasDirectTemplateChildren()?e.then(()=>this._getTemplateEnginePromise()):e}IsTransferAttribute(e){return this.Element.constructor.rootObservedAttrSet.has(e)}GetDescriptiveTransferAttributeValue(e){return((e,t)=>{const s=e.getAttribute(t);if(s)return s;const r=e._getHelper();return(r.getProps?.()||{})[t]})(this.Element,e)}_getTranslationBundlesPromise(){void 0===ae._translationBundleLocale&&(ae._translationBundleLocale=f.matchTranslationBundle([m.getLocale()],ie));const e=this.Element.constructor.translationBundleMap,t=Object.keys(e),s=[];return t.forEach(t=>{if(!ae._bundlePromiseCache[t]){const s=e[t];ae._bundlePromiseCache[t]=s(ae._translationBundleLocale)}s.push(ae._bundlePromiseCache[t])}),Promise.all(s).then(e=>{t.forEach((t,s)=>{this._translationBundleMap[t]=e[s]})})}_getTemplateEnginePromise(){return new Promise(function(t,s){e(["ojs/ojvcomponent-template"],function(e){t(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(s){var r=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(t,s,r.get?r:{enumerable:!0,get:function(){return e[s]}})}),t.default=e,t}(e))},s)}).then(e=>{ae._cachedTemplateEngine=e})}_hasDirectTemplateChildren(){const e=this.Element.childNodes;for(let t=0;t<e.length;t++){if("template"===e[t].localName)return!0}return!1}}ae._bundlePromiseCache={};const le=Symbol("functional component");function ce(e){return function(t){const a=t._metadata||t.metadata||{};!function(e){e.properties||(e.properties={});e.properties.__oj_private_color_scheme={type:"string",binding:{consume:{name:"colorScheme"}}},e.properties.__oj_private_scale={type:"string",binding:{consume:{name:"scale"}}},e.properties.__oj_private_contexts={type:"object"}}(a);const l=a?.extension?._OBSERVED_GLOBAL_PROPS||[],c=l.map(e=>o.AttributeUtils.getGlobalAttrForProp(e));!function(e,t,i,a){const l=t.prototype.render;t.prototype.render=function(t,c,p){const u=i?.extension?._READ_ONLY_PROPS;u&&u.forEach(e=>delete t[e]);const h=t[M],d=!!h;d&&o.CustomElementUtils.getElementState(h).disposeTemplateCache();let m=l.call(this,t,c,p);if(m?.type?.__ojIsEnvironmentWrapper&&m.props.children.type===e){const t=m.props.children;t.type=oe;try{m=n.cloneElement(t)}finally{t.type=e}}const _=m?.type;return _!==oe&&(pe(_)===(ue||(ue=pe(s.forwardRef(()=>null))),ue)&&_[le]&&0!==Object.keys(i.methods||{}).length||(m=r.jsx(re,{children:m}))),r.jsx(ee.Provider,{value:{tagName:e,metadata:i,isElementFirst:d,vcompProps:t,observedPropsSet:a},children:m})}}(e,t,a,new Set(l)),function(e,t,s,r,n,a){class l extends X{}l.metadata=t,l.component=s,l.rootObservedAttributes=n,l.rootObservedAttrSet=new Set(n),l.rootObservedProperties=r,l.defaultProps=s.defaultProps?u.deepFreeze(s.defaultProps):null,l.translationBundleMap=a,function(e,t){if(!t)return;for(let s in t)Object.defineProperty(e,s,{get(){return this.getProperty(s)},set(e){this.setProperty(s,e)}})}(l.prototype,t?.properties),function(e,t){if(!t)return;for(let s in t)e[s]=function(){if(this._helper===K)throw new o.JetElementError(this,"Cannot access element methods when rendered as a value based element.");const e=this._helper.ref.current;if(!e)throw new o.JetElementError(this,"Cannot access methods before element is upgraded.");return e[s].apply(e,arguments)}}(l.prototype,t?.methods),i.registerElement(e,{descriptor:{metadata:t},stateClass:ae,vcomp:!0,cache:{contexts:s._consumedContexts}},l)}(e,a,t,l,c,t._translationBundleMap||t.translationBundleMap),!t._metadata&&t.metadata&&g.warn(`Component ${e} is compiled with JET version prior to 14.0.0`)}}function pe(e){return e?.$$typeof}let ue;"undefined"!=typeof window&&(HTMLTemplateElement.prototype.hasOwnProperty("render")||Object.defineProperty(HTMLTemplateElement.prototype,"render",{value:null,writable:!0}));const he=o.ElementUtils.getUniqueId.bind(null,null);t.Root=oe,t.consumedContexts=function(e){return function(e){}},t.customElement=ce,t.getUniqueId=he,t.method=function(e,t,s){},t.registerCustomElement=function(e,t,o){class i extends n.Component{constructor(){if(super(),this.__refCallback=e=>{this.__vcompRef&&(this.__vcompRef.current=e);const t=this.props.innerRef;H(t,e)},i._metadata?.methods){this.__vcompRef=n.createRef();const e=i._metadata.methods,t=this;for(let s in e)t[s]=(...e)=>this.__vcompRef.current?.[s].apply(this.__vcompRef.current,e)}}render(){return arguments[0].ref=this.__refCallback,t(arguments[0])}}return i.displayName=arguments[2],arguments.length>=4&&arguments[3]&&(i._metadata=arguments[3],arguments.length>=5&&arguments[4]&&(i.defaultProps=arguments[4])),arguments.length>=6&&(i._translationBundleMap=arguments[5]),arguments.length>=7&&(i._consumedContexts=arguments[6].consume),i[le]=!0,ce(e)(i),s.forwardRef((e,t)=>r.jsx(i,{...e,innerRef:t}))},Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ojvcomponent.js.map;
define('@preact/signals-core',['require','exports','module'],function (require, exports, module) {function i(){throw new Error("Cycle detected")}var t=Symbol.for("preact-signals");function r(){if(!(h>1)){var i,t=!1;while(void 0!==s){var r=s;s=void 0;f++;while(void 0!==r){var o=r.o;r.o=void 0;r.f&=-3;if(!(8&r.f)&&c(r))try{r.c()}catch(r){if(!t){i=r;t=!0}}r=o}}f=0;h--;if(t)throw i}else h--}var o=void 0,n=0,s=void 0,h=0,f=0,v=0;function e(i){if(void 0!==o){var t=i.n;if(void 0===t||t.t!==o){t={i:0,S:i,p:o.s,n:void 0,t:o,e:void 0,x:void 0,r:t};if(void 0!==o.s)o.s.n=t;o.s=t;i.n=t;if(32&o.f)i.S(t);return t}else if(-1===t.i){t.i=0;if(void 0!==t.n){t.n.p=t.p;if(void 0!==t.p)t.p.n=t.n;t.p=o.s;t.n=void 0;o.s.n=t;o.s=t}return t}}}function u(i){this.v=i;this.i=0;this.n=void 0;this.t=void 0}u.prototype.brand=t;u.prototype.h=function(){return!0};u.prototype.S=function(i){if(this.t!==i&&void 0===i.e){i.x=this.t;if(void 0!==this.t)this.t.e=i;this.t=i}};u.prototype.U=function(i){if(void 0!==this.t){var t=i.e,r=i.x;if(void 0!==t){t.x=r;i.e=void 0}if(void 0!==r){r.e=t;i.x=void 0}if(i===this.t)this.t=r}};u.prototype.subscribe=function(i){var t=this;return _(function(){var r=t.value,o=32&this.f;this.f&=-33;try{i(r)}finally{this.f|=o}})};u.prototype.valueOf=function(){return this.value};u.prototype.toString=function(){return this.value+""};u.prototype.toJSON=function(){return this.value};u.prototype.peek=function(){return this.v};Object.defineProperty(u.prototype,"value",{get:function(){var i=e(this);if(void 0!==i)i.i=this.i;return this.v},set:function(t){if(o instanceof l)!function(){throw new Error("Computed cannot have side-effects")}();if(t!==this.v){if(f>100)i();this.v=t;this.i++;v++;h++;try{for(var n=this.t;void 0!==n;n=n.x)n.t.N()}finally{r()}}}});function c(i){for(var t=i.s;void 0!==t;t=t.n)if(t.S.i!==t.i||!t.S.h()||t.S.i!==t.i)return!0;return!1}function d(i){for(var t=i.s;void 0!==t;t=t.n){var r=t.S.n;if(void 0!==r)t.r=r;t.S.n=t;t.i=-1;if(void 0===t.n){i.s=t;break}}}function a(i){var t=i.s,r=void 0;while(void 0!==t){var o=t.p;if(-1===t.i){t.S.U(t);if(void 0!==o)o.n=t.n;if(void 0!==t.n)t.n.p=o}else r=t;t.S.n=t.r;if(void 0!==t.r)t.r=void 0;t=o}i.s=r}function l(i){u.call(this,void 0);this.x=i;this.s=void 0;this.g=v-1;this.f=4}(l.prototype=new u).h=function(){this.f&=-3;if(1&this.f)return!1;if(32==(36&this.f))return!0;this.f&=-5;if(this.g===v)return!0;this.g=v;this.f|=1;if(this.i>0&&!c(this)){this.f&=-2;return!0}var i=o;try{d(this);o=this;var t=this.x();if(16&this.f||this.v!==t||0===this.i){this.v=t;this.f&=-17;this.i++}}catch(i){this.v=i;this.f|=16;this.i++}o=i;a(this);this.f&=-2;return!0};l.prototype.S=function(i){if(void 0===this.t){this.f|=36;for(var t=this.s;void 0!==t;t=t.n)t.S.S(t)}u.prototype.S.call(this,i)};l.prototype.U=function(i){if(void 0!==this.t){u.prototype.U.call(this,i);if(void 0===this.t){this.f&=-33;for(var t=this.s;void 0!==t;t=t.n)t.S.U(t)}}};l.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var i=this.t;void 0!==i;i=i.x)i.t.N()}};l.prototype.peek=function(){if(!this.h())i();if(16&this.f)throw this.v;return this.v};Object.defineProperty(l.prototype,"value",{get:function(){if(1&this.f)i();var t=e(this);this.h();if(void 0!==t)t.i=this.i;if(16&this.f)throw this.v;return this.v}});function y(i){var t=i.u;i.u=void 0;if("function"==typeof t){h++;var n=o;o=void 0;try{t()}catch(t){i.f&=-2;i.f|=8;w(i);throw t}finally{o=n;r()}}}function w(i){for(var t=i.s;void 0!==t;t=t.n)t.S.U(t);i.x=void 0;i.s=void 0;y(i)}function p(i){if(o!==this)throw new Error("Out-of-order effect");a(this);o=i;this.f&=-2;if(8&this.f)w(this);r()}function x(i){this.x=i;this.u=void 0;this.s=void 0;this.o=void 0;this.f=32}x.prototype.c=function(){var i=this.S();try{if(8&this.f)return;if(void 0===this.x)return;var t=this.x();if("function"==typeof t)this.u=t}finally{i()}};x.prototype.S=function(){if(1&this.f)i();this.f|=1;this.f&=-9;y(this);d(this);h++;var t=o;o=this;return p.bind(this,t)};x.prototype.N=function(){if(!(2&this.f)){this.f|=2;this.o=s;s=this}};x.prototype.d=function(){this.f|=8;if(!(1&this.f))w(this)};function _(i){var t=new x(i);try{t.c()}catch(i){t.d();throw i}return t.d.bind(t)}exports.Signal=u;exports.batch=function(i){if(h>0)return i();h++;try{return i()}finally{r()}};exports.computed=function(i){return new l(i)};exports.effect=_;exports.signal=function(i){return new u(i)};exports.untracked=function(i){if(n>0)return i();var t=o;o=void 0;n++;try{return i()}finally{n--;o=t}};//# sourceMappingURL=signals-core.js.map

});

define('@preact/signals',['require','exports','module','preact','preact/hooks','@preact/signals-core'],function (require, exports, module) {var r,i,n=require("preact"),t=require("preact/hooks"),f=require("@preact/signals-core");function o(r,i){n.options[r]=i.bind(null,n.options[r]||function(){})}function e(r){if(i)i();i=r&&r.S()}function u(r){var i=this,o=r.data,e=useSignal(o);e.value=o;var u=t.useMemo(function(){var r=i.__v;while(r=r.__)if(r.__c){r.__c.__$f|=4;break}i.__$u.c=function(){var r;if(!n.isValidElement(u.peek())&&3===(null==(r=i.base)?void 0:r.nodeType))i.base.data=u.peek();else{i.__$f|=1;i.setState({})}};return f.computed(function(){var r=e.value.value;return 0===r?0:!0===r?"":r||""})},[]);return u.value}u.displayName="_st";Object.defineProperties(f.Signal.prototype,{constructor:{configurable:!0,value:void 0},type:{configurable:!0,value:u},props:{configurable:!0,get:function(){return{data:this}}},__b:{configurable:!0,value:1}});o("__b",function(r,i){if("string"==typeof i.type){var n,t=i.props;for(var o in t)if("children"!==o){var e=t[o];if(e instanceof f.Signal){if(!n)i.__np=n={};n[o]=e;t[o]=e.peek()}}}r(i)});o("__r",function(i,n){e();var t,o=n.__c;if(o){o.__$f&=-2;if(void 0===(t=o.__$u))o.__$u=t=function(r){var i;f.effect(function(){i=this});i.c=function(){o.__$f|=1;o.setState({})};return i}()}r=o;e(t);i(n)});o("__e",function(i,n,t,f){e();r=void 0;i(n,t,f)});o("diffed",function(i,n){e();r=void 0;var t;if("string"==typeof n.type&&(t=n.__e)){var f=n.__np,o=n.props;if(f){var u=t.U;if(u)for(var v in u){var c=u[v];if(void 0!==c&&!(v in f)){c.d();u[v]=void 0}}else t.U=u={};for(var s in f){var l=u[s],p=f[s];if(void 0===l){l=a(t,s,p,o);u[s]=l}else l.o(p,o)}}}i(n)});function a(r,i,n,t){var o=i in r&&void 0===r.ownerSVGElement,e=f.signal(n);return{o:function(r,i){e.value=r;t=i},d:f.effect(function(){var n=e.value.value;if(t[i]!==n){t[i]=n;if(o)r[i]=n;else if(n)r.setAttribute(i,n);else r.removeAttribute(i)}})}}o("unmount",function(r,i){if("string"==typeof i.type){var n=i.__e;if(n){var t=n.U;if(t){n.U=void 0;for(var f in t){var o=t[f];if(o)o.d()}}}}else{var e=i.__c;if(e){var u=e.__$u;if(u){e.__$u=void 0;u.d()}}}r(i)});o("__h",function(r,i,n,t){if(t<3||9===t)i.__$f|=2;r(i,n,t)});n.Component.prototype.shouldComponentUpdate=function(r,i){var n=this.__$u;if(!(n&&void 0!==n.s||4&this.__$f))return!0;if(3&this.__$f)return!0;for(var t in i)return!0;for(var f in r)if("__source"!==f&&r[f]!==this.props[f])return!0;for(var o in this.props)if(!(o in r))return!0;return!1};function useSignal(r){return t.useMemo(function(){return f.signal(r)},[])}exports.Signal=f.Signal;exports.batch=f.batch;exports.computed=f.computed;exports.effect=f.effect;exports.signal=f.signal;exports.untracked=f.untracked;exports.useComputed=function(i){var n=t.useRef(i);n.current=i;r.__$f|=4;return t.useMemo(function(){return f.computed(function(){return n.current()})},[])};exports.useSignal=useSignal;exports.useSignalEffect=function(r){var i=t.useRef(r);i.current=r;t.useEffect(function(){return f.effect(function(){return i.current()})},[])};//# sourceMappingURL=signals.js.map

});

/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojcolor',["ojs/ojcore-base"],function(e){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;var l=/^\s+/,r=/\s+$/,t=Math.round,n=Math.min,a=Math.max;function b(e){var t;t=function(e){var t={r:0,g:0,b:0},b=1,i=null,f=null,c=null,R=!1;"string"==typeof e&&(e=function(e){if(e=e.replace(l,"").replace(r,"").toLowerCase(),"transparent"===e)return{r:0,g:0,b:0,a:0};var t=o.rgb.exec(e);if(t)return{r:t[1],g:t[2],b:t[3]};if(t=o.rgba.exec(e),t)return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=o.hsl.exec(e),t)return{h:t[1],s:t[2],l:t[3]};if(t=o.hsla.exec(e),t)return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=o.hsv.exec(e),t)return{h:t[1],s:t[2],v:t[3]};if(t=o.hsva.exec(e),t)return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=o.hex6.exec(e),t)return{r:w(t[1]),g:w(t[2]),b:w(t[3])};if(t=o.hex3.exec(e),t)return{r:w(t[1]+""+t[1]),g:w(t[2]+""+t[2]),b:w(t[3]+""+t[3])};return!1}(e));"object"==typeof e&&(d(e.r)&&d(e.g)&&d(e.b)?(A=e.r,L=e.g,P=e.b,t={r:255*E(A,255),g:255*E(L,255),b:255*E(P,255)},R=!0):d(e.h)&&d(e.s)&&d(e.v)?(i=O(e.s),f=O(e.v),t=function(e,l,r){e=6*E(e,360),l=E(l,100),r=E(r,100);var t=Math.floor(e),n=e-t,a=r*(1-l),b=r*(1-n*l),i=r*(1-(1-n)*l),f=t%6,u=[r,b,a,a,i,r][f],w=[i,r,r,b,a,a][f],O=[a,a,i,r,r,b][f];return{r:255*u,g:255*w,b:255*O}}(e.h,i,f),R=!0):d(e.h)&&d(e.s)&&d(e.l)&&(i=O(e.s),c=O(e.l),t=function(e,l,r){var t,n,a;function b(e,l,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(l-e)*r:r<.5?l:r<2/3?e+(l-e)*(2/3-r)*6:e}if(e=E(e,360),l=E(l,100),r=E(r,100),0===l)t=r,n=r,a=r;else{var i=r<.5?r*(1+l):r+l-r*l,f=2*r-i;t=b(f,i,e+1/3),n=b(f,i,e),a=b(f,i,e-1/3)}return{r:255*t,g:255*n,b:255*a}}(e.h,i,c),R=!0),void 0!==e.a&&(b=e.a));var A,L,P;if(!R)throw new Error("Invalid Color format");return b=u(b),{r:n(255,a(t.r,0)),g:n(255,a(t.g,0)),b:n(255,a(t.b,0)),a:b}}(e=e||""),this._r=t.r,this._g=t.g,this._b=t.b,this._a=Math.round(100*t.a)/100,Object.defineProperty(this,"rgba",{writable:!1,value:{r:t.r,g:t.g,b:t.b,a:Math.round(100*t.a)/100}}),Object.defineProperty(this,"hsla",{writable:!1,value:i(this.rgba)}),Object.defineProperty(this,"hsva",{writable:!1,value:f(this.rgba)})}function i(e){let l=255*E(e.r,255),r=255*E(e.g,255),t=255*E(e.b,255),b=u(e.a);var i,f,w=a(l,r,t),O=n(l,r,t),c=(w+O)/2;if(w===O)i=f=0;else{var R=w-O;switch(f=c>.5?R/(2-w-O):R/(w+O),w){case l:i=(r-t)/R+(r<t?6:0);break;case r:i=(t-l)/R+2;break;case t:i=(l-r)/R+4}i/=6}return{h:i,s:f,l:c,a:b}}function f(e){let l=0,r=e.r/255,t=e.g/255,n=e.b/255,a=0,b=Math.max(r,t,n),i=b-Math.min(r,t,n),f=e=>(b-e)/6/i+.5;if(0===i)l=0,a=0;else{a=i/b;let e=f(r),u=f(t),E=f(n);r===b?l=E-u:t===b?l=1/3+e-E:n===b&&(l=2/3+u-e),l<0?l+=1:l>1&&(l-=1)}return{h:6*E(l,360),s:E(a,100),v:E(b,100),a:u(e.a)}}function u(e){var l=parseFloat(e);return(isNaN(l)||l<0||l>1)&&(l=1),l}function E(e,l){var r=e;(function(e){return"string"==typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)})(r)&&(r="100%");var t=function(e){return"string"==typeof e&&-1!==e.indexOf("%")}(r);return r=n(l,a(0,parseFloat(r))),t&&(r=parseInt(r*l,10)/100),Math.abs(r-l)<1e-6?1:r%l/parseFloat(l)}function w(e){return parseInt(e,16)}function O(e){var l=e;return l<=1&&(l=100*l+"%"),l}b.prototype.getRGBA=function(){return this.rgba},b.prototype.getHSLA=function(){return this.hsla},b.prototype.getHSVA=function(){return this.hsva},b.prototype.getRed=function(e){return e?this._r:t(this._r)},b.prototype.getGreen=function(e){return e?this._g:t(this._g)},b.prototype.getBlue=function(e){return e?this._b:t(this._b)},b.prototype.getAlpha=function(){return this._a},b.prototype.toString=function(){return"rgb"+((l=(e=this)._a<1)?"a(":"(")+t(e._r)+", "+t(e._g)+", "+t(e._b)+(l?", "+e._a:"")+")";var e,l},b.prototype.isEqual=function(e){var l=!1;return e instanceof b&&(l=this._r===e._r&&this._g===e._g&&this._b===e._b&&this._a===e._a),l},b.ALICEBLUE=null,b.ANTIQUEWHITE=null,b.AQUA=null,b.AQUAMARINE=null,b.AZURE=null,b.BEIGE=null,b.BISQUE=null,b.BLACK=null,b.BLANCHEDALMOND=null,b.BLUE=null,b.BLUEVIOLET=null,b.BROWN=null,b.BURLYWOOD=null,b.CADETBLUE=null,b.CHARTREUSE=null,b.CHOCOLATE=null,b.CORAL=null,b.CORNFLOWERBLUE=null,b.CORNSILK=null,b.CRIMSON=null,b.CYAN=null,b.DARKBLUE=null,b.DARKCYAN=null,b.DARKGOLDENROD=null,b.DARKGRAY=null,b.DARKGREY=null,b.DARKGREEN=null,b.DARKKHAKI=null,b.DARKMAGENTA=null,b.DARKOLIVEGREEN=null,b.DARKORANGE=null,b.DARKORCHID=null,b.DARKRED=null,b.DARKSALMON=null,b.DARKSEAGREEN=null,b.DARKSLATEBLUE=null,b.DARKSLATEGRAY=null,b.DARKSLATEGREY=null,b.DARKTURQUOISE=null,b.DARKVIOLET=null,b.DEEPPINK=null,b.DEEPSKYBLUE=null,b.DIMGRAY=null,b.DIMGREY=null,b.DODGERBLUE=null,b.FIREBRICK=null,b.FLORALWHITE=null,b.FORESTGREEN=null,b.FUCHSIA=null,b.GAINSBORO=null,b.GHOSTWHITE=null,b.GOLD=null,b.GOLDENROD=null,b.GRAY=null,b.GREEN=null,b.GREENYELLOW=null,b.GREY=null,b.HONEYDEW=null,b.HOTPINK=null,b.INDIANRED=null,b.INDIGO=null,b.IVORY=null,b.KHAKI=null,b.LAVENDER=null,b.LAVENDERBLUSH=null,b.LAWNGREEN=null,b.LEMONCHIFFON=null,b.LIGHTBLUE=null,b.LIGHTCORAL=null,b.LIGHTCYAN=null,b.LIGHTGOLDENRODYELLOW=null,b.LIGHTGRAY=null,b.LIGHTGREEN=null,b.LIGHTGREY=null,b.LIGHTPINK=null,b.LIGHTSALMON=null,b.LIGHTSEAGREEN=null,b.LIGHTSKYBLUE=null,b.LIGHTSLATEGRAY=null,b.LIGHTSLATEGREY=null,b.LIGHTSTEELBLUE=null,b.LIGHTYELLOW=null,b.LIME=null,b.LIMEGREEN=null,b.LINEN=null,b.MAGENTA=null,b.MAROON=null,b.MEDIUMAQUAMARINE=null,b.MEDIUMBLUE=null,b.MEDIUMORCHID=null,b.MEDIUMPURPLE=null,b.MEDIUMSEAGREEN=null,b.MEDIUMSLATEBLUE=null,b.MEDIUMSPRINGGREEN=null,b.MEDIUMTURQUOISE=null,b.MEDIUMVIOLETRED=null,b.MIDNIGHTBLUE=null,b.MINTCREAM=null,b.MISTYROSE=null,b.MOCCASIN=null,b.NAVAJOWHITE=null,b.NAVY=null,b.OLDLACE=null,b.OLIVE=null,b.OLIVEDRAB=null,b.ORANGE=null,b.ORANGERED=null,b.ORCHID=null,b.PALEGOLDENROD=null,b.PALEGREEN=null,b.PALETURQUOISE=null,b.PALEVIOLETRED=null,b.PAPAYAWHIP=null,b.PEACHPUFF=null,b.PERU=null,b.PINK=null,b.PLUM=null,b.POWDERBLUE=null,b.PURPLE=null,b.REBECCAPURPLE=null,b.RED=null,b.ROSYBROWN=null,b.ROYALBLUE=null,b.SADDLEBROWN=null,b.SALMON=null,b.SANDYBROWN=null,b.SEAGREEN=null,b.SEASHELL=null,b.SIENNA=null,b.SILVER=null,b.SKYBLUE=null,b.SLATEBLUE=null,b.SLATEGRAY=null,b.SLATEGREY=null,b.SNOW=null,b.SPRINGGREEN=null,b.STEELBLUE=null,b.TAN=null,b.TEAL=null,b.THISTLE=null,b.TOMATO=null,b.TURQUOISE=null,b.VIOLET=null,b.WHEAT=null,b.WHITE=null,b.WHITESMOKE=null,b.YELLOW=null,b.YELLOWGREEN=null,b.TRANSPARENT=null;var c,R,A,o=(R="[\\s|\\(]+("+(c="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+c+")[,|\\s]+("+c+")\\s*\\)?",A="[\\s|\\(]+("+c+")[,|\\s]+("+c+")[,|\\s]+("+c+")[,|\\s]+("+c+")\\s*\\)?",{CSS_UNIT:new RegExp(c),rgb:new RegExp("rgb"+R),rgba:new RegExp("rgba"+A),hsl:new RegExp("hsl"+R),hsla:new RegExp("hsla"+A),hsv:new RegExp("hsv"+R),hsva:new RegExp("hsva"+A),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function d(e){return!!o.CSS_UNIT.exec(e)}return Object.defineProperty(b,"ALICEBLUE",{writable:!1,value:new b("f0f8ff")}),Object.defineProperty(b,"ANTIQUEWHITE",{writable:!1,value:new b("faebd7")}),Object.defineProperty(b,"AQUA",{writable:!1,value:new b("0ff")}),Object.defineProperty(b,"AQUAMARINE",{writable:!1,value:new b("7fffd4")}),Object.defineProperty(b,"AZURE",{writable:!1,value:new b("f0ffff")}),Object.defineProperty(b,"BEIGE",{writable:!1,value:new b("f5f5dc")}),Object.defineProperty(b,"BISQUE",{writable:!1,value:new b("ffe4c4")}),Object.defineProperty(b,"BLACK",{writable:!1,value:new b("000")}),Object.defineProperty(b,"BLANCHEDALMOND",{writable:!1,value:new b("ffebcd")}),Object.defineProperty(b,"BLUE",{writable:!1,value:new b("00f")}),Object.defineProperty(b,"BLUEVIOLET",{writable:!1,value:new b("8a2be2")}),Object.defineProperty(b,"BROWN",{writable:!1,value:new b("a52a2a")}),Object.defineProperty(b,"BURLYWOOD",{writable:!1,value:new b("deb887")}),Object.defineProperty(b,"CADETBLUE",{writable:!1,value:new b("5f9ea0")}),Object.defineProperty(b,"CHARTREUSE",{writable:!1,value:new b("7fff00")}),Object.defineProperty(b,"CHOCOLATE",{writable:!1,value:new b("d2691e")}),Object.defineProperty(b,"CORAL",{writable:!1,value:new b("ff7f50")}),Object.defineProperty(b,"CORNFLOWERBLUE",{writable:!1,value:new b("6495ed")}),Object.defineProperty(b,"CORNSILK",{writable:!1,value:new b("fff8dc")}),Object.defineProperty(b,"CRIMSON",{writable:!1,value:new b("dc143c")}),Object.defineProperty(b,"CYAN",{writable:!1,value:new b("0ff")}),Object.defineProperty(b,"DARKBLUE",{writable:!1,value:new b("00008b")}),Object.defineProperty(b,"DARKCYAN",{writable:!1,value:new b("008b8b")}),Object.defineProperty(b,"DARKGOLDENROD",{writable:!1,value:new b("b8860b")}),Object.defineProperty(b,"DARKGRAY",{writable:!1,value:new b("a9a9a9")}),Object.defineProperty(b,"DARKGREY",{writable:!1,value:new b("a9a9a9")}),Object.defineProperty(b,"DARKGREEN",{writable:!1,value:new b("006400")}),Object.defineProperty(b,"DARKKHAKI",{writable:!1,value:new b("bdb76b")}),Object.defineProperty(b,"DARKMAGENTA",{writable:!1,value:new b("8b008b")}),Object.defineProperty(b,"DARKOLIVEGREEN",{writable:!1,value:new b("556b2f")}),Object.defineProperty(b,"DARKORANGE",{writable:!1,value:new b("ff8c00")}),Object.defineProperty(b,"DARKORCHID",{writable:!1,value:new b("9932cc")}),Object.defineProperty(b,"DARKRED",{writable:!1,value:new b("8b0000")}),Object.defineProperty(b,"DARKSALMON",{writable:!1,value:new b("e9967a")}),Object.defineProperty(b,"DARKSEAGREEN",{writable:!1,value:new b("8fbc8f")}),Object.defineProperty(b,"DARKSLATEBLUE",{writable:!1,value:new b("483d8b")}),Object.defineProperty(b,"DARKSLATEGRAY",{writable:!1,value:new b("2f4f4f")}),Object.defineProperty(b,"DARKSLATEGREY",{writable:!1,value:new b("2f4f4f")}),Object.defineProperty(b,"DARKTURQUOISE",{writable:!1,value:new b("00ced1")}),Object.defineProperty(b,"DARKVIOLET",{writable:!1,value:new b("9400d3")}),Object.defineProperty(b,"DEEPPINK",{writable:!1,value:new b("ff1493")}),Object.defineProperty(b,"DEEPSKYBLUE",{writable:!1,value:new b("00bfff")}),Object.defineProperty(b,"DIMGRAY",{writable:!1,value:new b("696969")}),Object.defineProperty(b,"DIMGREY",{writable:!1,value:new b("696969")}),Object.defineProperty(b,"DODGERBLUE",{writable:!1,value:new b("1e90ff")}),Object.defineProperty(b,"FIREBRICK",{writable:!1,value:new b("b22222")}),Object.defineProperty(b,"FLORALWHITE",{writable:!1,value:new b("fffaf0")}),Object.defineProperty(b,"FORESTGREEN",{writable:!1,value:new b("228b22")}),Object.defineProperty(b,"FUCHSIA",{writable:!1,value:new b("f0f")}),Object.defineProperty(b,"GAINSBORO",{writable:!1,value:new b("dcdcdc")}),Object.defineProperty(b,"GHOSTWHITE",{writable:!1,value:new b("f8f8ff")}),Object.defineProperty(b,"GOLD",{writable:!1,value:new b("ffd700")}),Object.defineProperty(b,"GOLDENROD",{writable:!1,value:new b("daa520")}),Object.defineProperty(b,"GRAY",{writable:!1,value:new b("808080")}),Object.defineProperty(b,"GREY",{writable:!1,value:new b("808080")}),Object.defineProperty(b,"GREEN",{writable:!1,value:new b("008000")}),Object.defineProperty(b,"GREENYELLOW",{writable:!1,value:new b("adff2f")}),Object.defineProperty(b,"HONEYDEW",{writable:!1,value:new b("f0fff0")}),Object.defineProperty(b,"HOTPINK",{writable:!1,value:new b("ff69b4")}),Object.defineProperty(b,"INDIANRED",{writable:!1,value:new b("cd5c5c")}),Object.defineProperty(b,"INDIGO",{writable:!1,value:new b("4b0082")}),Object.defineProperty(b,"IVORY",{writable:!1,value:new b("fffff0")}),Object.defineProperty(b,"KHAKI",{writable:!1,value:new b("f0e68c")}),Object.defineProperty(b,"LAVENDER",{writable:!1,value:new b("e6e6fa")}),Object.defineProperty(b,"LAVENDERBLUSH",{writable:!1,value:new b("fff0f5")}),Object.defineProperty(b,"LAWNGREEN",{writable:!1,value:new b("7cfc00")}),Object.defineProperty(b,"LEMONCHIFFON",{writable:!1,value:new b("fffacd")}),Object.defineProperty(b,"LIGHTBLUE",{writable:!1,value:new b("add8e6")}),Object.defineProperty(b,"LIGHTCORAL",{writable:!1,value:new b("f08080")}),Object.defineProperty(b,"LIGHTCYAN",{writable:!1,value:new b("e0ffff")}),Object.defineProperty(b,"LIGHTGOLDENRODYELLOW",{writable:!1,value:new b("fafad2")}),Object.defineProperty(b,"LIGHTGRAY",{writable:!1,value:new b("d3d3d3")}),Object.defineProperty(b,"LIGHTGREY",{writable:!1,value:new b("d3d3d3")}),Object.defineProperty(b,"LIGHTGREEN",{writable:!1,value:new b("90ee90")}),Object.defineProperty(b,"LIGHTPINK",{writable:!1,value:new b("ffb6c1")}),Object.defineProperty(b,"LIGHTSALMON",{writable:!1,value:new b("ffa07a")}),Object.defineProperty(b,"LIGHTSEAGREEN",{writable:!1,value:new b("20b2aa")}),Object.defineProperty(b,"LIGHTSKYBLUE",{writable:!1,value:new b("87cefa")}),Object.defineProperty(b,"LIGHTSLATEGRAY",{writable:!1,value:new b("789")}),Object.defineProperty(b,"LIGHTSLATEGREY",{writable:!1,value:new b("789")}),Object.defineProperty(b,"LIGHTSTEELBLUE",{writable:!1,value:new b("b0c4de")}),Object.defineProperty(b,"LIGHTYELLOW",{writable:!1,value:new b("ffffe0")}),Object.defineProperty(b,"LIME",{writable:!1,value:new b("0f0")}),Object.defineProperty(b,"LIMEGREEN",{writable:!1,value:new b("32cd32")}),Object.defineProperty(b,"LINEN",{writable:!1,value:new b("faf0e6")}),Object.defineProperty(b,"MAGENTA",{writable:!1,value:new b("f0f")}),Object.defineProperty(b,"MAROON",{writable:!1,value:new b("800000")}),Object.defineProperty(b,"MEDIUMAQUAMARINE",{writable:!1,value:new b("66cdaa")}),Object.defineProperty(b,"MEDIUMBLUE",{writable:!1,value:new b("0000cd")}),Object.defineProperty(b,"MEDIUMORCHID",{writable:!1,value:new b("ba55d3")}),Object.defineProperty(b,"MEDIUMPURPLE",{writable:!1,value:new b("9370db")}),Object.defineProperty(b,"MEDIUMSEAGREEN",{writable:!1,value:new b("3cb371")}),Object.defineProperty(b,"MEDIUMSLATEBLUE",{writable:!1,value:new b("7b68ee")}),Object.defineProperty(b,"MEDIUMSPRINGGREEN",{writable:!1,value:new b("00fa9a")}),Object.defineProperty(b,"MEDIUMTURQUOISE",{writable:!1,value:new b("48d1cc")}),Object.defineProperty(b,"MEDIUMVIOLETRED",{writable:!1,value:new b("c71585")}),Object.defineProperty(b,"MIDNIGHTBLUE",{writable:!1,value:new b("191970")}),Object.defineProperty(b,"MINTCREAM",{writable:!1,value:new b("f5fffa")}),Object.defineProperty(b,"MISTYROSE",{writable:!1,value:new b("ffe4e1")}),Object.defineProperty(b,"MOCCASIN",{writable:!1,value:new b("ffe4b5")}),Object.defineProperty(b,"NAVAJOWHITE",{writable:!1,value:new b("ffdead")}),Object.defineProperty(b,"NAVY",{writable:!1,value:new b("000080")}),Object.defineProperty(b,"OLDLACE",{writable:!1,value:new b("fdf5e6")}),Object.defineProperty(b,"OLIVE",{writable:!1,value:new b("808000")}),Object.defineProperty(b,"OLIVEDRAB",{writable:!1,value:new b("6b8e23")}),Object.defineProperty(b,"ORANGE",{writable:!1,value:new b("ffa500")}),Object.defineProperty(b,"ORANGERED",{writable:!1,value:new b("ff4500")}),Object.defineProperty(b,"ORCHID",{writable:!1,value:new b("da70d6")}),Object.defineProperty(b,"PALEGOLDENROD",{writable:!1,value:new b("eee8aa")}),Object.defineProperty(b,"PALEGREEN",{writable:!1,value:new b("98fb98")}),Object.defineProperty(b,"PALETURQUOISE",{writable:!1,value:new b("afeeee")}),Object.defineProperty(b,"PALEVIOLETRED",{writable:!1,value:new b("db7093")}),Object.defineProperty(b,"PAPAYAWHIP",{writable:!1,value:new b("ffefd5")}),Object.defineProperty(b,"PEACHPUFF",{writable:!1,value:new b("ffdab9")}),Object.defineProperty(b,"PERU",{writable:!1,value:new b("cd853f")}),Object.defineProperty(b,"PINK",{writable:!1,value:new b("ffc0cb")}),Object.defineProperty(b,"PLUM",{writable:!1,value:new b("dda0dd")}),Object.defineProperty(b,"POWDERBLUE",{writable:!1,value:new b("b0e0e6")}),Object.defineProperty(b,"PURPLE",{writable:!1,value:new b("800080")}),Object.defineProperty(b,"REBECCAPURPLE",{writable:!1,value:new b("663399")}),Object.defineProperty(b,"RED",{writable:!1,value:new b("f00")}),Object.defineProperty(b,"ROSYBROWN",{writable:!1,value:new b("bc8f8f")}),Object.defineProperty(b,"ROYALBLUE",{writable:!1,value:new b("4169e1")}),Object.defineProperty(b,"SADDLEBROWN",{writable:!1,value:new b("8b4513")}),Object.defineProperty(b,"SALMON",{writable:!1,value:new b("fa8072")}),Object.defineProperty(b,"SANDYBROWN",{writable:!1,value:new b("f4a460")}),Object.defineProperty(b,"SEAGREEN",{writable:!1,value:new b("2e8b57")}),Object.defineProperty(b,"SEASHELL",{writable:!1,value:new b("fff5ee")}),Object.defineProperty(b,"SIENNA",{writable:!1,value:new b("a0522d")}),Object.defineProperty(b,"SILVER",{writable:!1,value:new b("c0c0c0")}),Object.defineProperty(b,"SKYBLUE",{writable:!1,value:new b("87ceeb")}),Object.defineProperty(b,"SLATEBLUE",{writable:!1,value:new b("6a5acd")}),Object.defineProperty(b,"SLATEGRAY",{writable:!1,value:new b("708090")}),Object.defineProperty(b,"SLATEGREY",{writable:!1,value:new b("708090")}),Object.defineProperty(b,"SNOW",{writable:!1,value:new b("fffafa")}),Object.defineProperty(b,"SPRINGGREEN",{writable:!1,value:new b("00ff7f")}),Object.defineProperty(b,"STEELBLUE",{writable:!1,value:new b("4682b4")}),Object.defineProperty(b,"TAN",{writable:!1,value:new b("d2b48c")}),Object.defineProperty(b,"TEAL",{writable:!1,value:new b("008080")}),Object.defineProperty(b,"THISTLE",{writable:!1,value:new b("d8bfd8")}),Object.defineProperty(b,"TOMATO",{writable:!1,value:new b("ff6347")}),Object.defineProperty(b,"TURQUOISE",{writable:!1,value:new b("40e0d0")}),Object.defineProperty(b,"VIOLET",{writable:!1,value:new b("ee82ee")}),Object.defineProperty(b,"WHEAT",{writable:!1,value:new b("f5deb3")}),Object.defineProperty(b,"WHITE",{writable:!1,value:new b("fff")}),Object.defineProperty(b,"WHITESMOKE",{writable:!1,value:new b("f5f5f5")}),Object.defineProperty(b,"YELLOW",{writable:!1,value:new b("ff0")}),Object.defineProperty(b,"YELLOWGREEN",{writable:!1,value:new b("9acd32")}),Object.defineProperty(b,"TRANSPARENT",{writable:!1,value:new b("rgba(0,0,0,0)")}),e._registerLegacyNamespaceProp("Color",b),b});
//# sourceMappingURL=ojcolor.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojconverterutils',["ojs/ojcore-base","ojs/ojlogger"],function(e,t){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;class o{}return o.getConverterInstance=function(o){let r="",a={},n=null;if(o&&("object"==typeof o&&(o.parse&&"function"==typeof o.parse||o.format&&"function"==typeof o.format?n=o:(r=o.type,a=o.options||{})),!n&&(r=r||o,r&&"string"==typeof r))){if(e.Validation&&e.Validation.converterFactory)return e.Validation.converterFactory(r).createConverter(a);t.error('oj.Validation.converterFactory is not available and it is needed to support the deprecated json format for the converters property. Please include the backward compatibility "ojvalidation-base" module.')}return n},o});
//# sourceMappingURL=ojconverterutils.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojvalidation-error',["exports","ojs/ojcore","ojs/ojmessaging"],function(e,r,t){"use strict";r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r,t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;const o=function(e,r){var o={summary:e,detail:r,severity:t.SEVERITY_LEVEL.ERROR};this.Init(o)};o.prototype=new Error,r._registerLegacyNamespaceProp("ValidatorError",o),o.prototype.Init=function(e){var r=e.detail,t=e.summary;this._message=e,this.name="Validator Error",this.message=r||t},o.prototype.getMessage=function(){return this._message};const s=function(e,r){var o={summary:e,detail:r,severity:t.SEVERITY_LEVEL.ERROR};this.Init(o)};s.prototype=new Error,r._registerLegacyNamespaceProp("ConverterError",s),s.prototype.Init=function(e){var r=e.detail,t=e.summary;this._message=e,this.name="Converter Error",this.message=r||t},s.prototype.getMessage=function(){return this._message},e.ConverterError=s,e.ValidatorError=o,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojvalidation-error.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojconverterutils-i18n',["exports","ojs/ojcore-base","ojs/ojtranslation","jquery","ojs/ojconverterutils","ojs/ojvalidation-error"],function(e,t,r,n,o,a){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n,o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o;const i={numeringSystems:{latn:"0123456789",arab:"٠١٢٣٤٥٦٧٨٩",thai:"๐๑๒๓๔๕๖๗๘๙"},regexTrim:/^\s+|\s+$|\u200f|\u200e/g,regexTrimNumber:/\s+|\u200f|\u200e/g,regexTrimRightZeros:/0+$/g,zeros:["0","00","000"],_ISO_DATE_REGEXP:/^[+-]?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{1,3})?)?(Z|[+-]\d{2}(?::?\d{2})?)?)?$|^T\d{2}:\d{2}(?::\d{2}(?:\.\d{1,3})?)?(Z|[+-]\d{2}(?::?\d{2})?)?$/,getLocalTimeZoneOffset:function(e){var t=(e||new Date).getTimezoneOffset();return 0!==t?i.getTimeStringFromOffset("Etc/GMT",t,!1,!1):"Etc/GMT+0"},dateToLocalIso:function(e){var t=e;"number"==typeof t&&(t=new Date(t));var r=i.padZeros(t.getFullYear(),4)+"-"+i.padZeros(t.getMonth()+1,2)+"-"+i.padZeros(t.getDate(),2)+"T"+i.padZeros(t.getHours(),2)+":"+i.padZeros(t.getMinutes(),2)+":"+i.padZeros(t.getSeconds(),2);return t.getMilliseconds()>0&&(r+="."+i.trimRightZeros(i.padZeros(t.getMilliseconds(),3))),r},dateToLocalIsoDateString:function(e){return i.dateToLocalIso(e).split("T")[0]},partsToIsoString:function(e){var t=i.padZeros(e[0],4)+"-"+i.padZeros(e[1],2)+"-"+i.padZeros(e[2],2)+"T"+i.padZeros(e[3],2)+":"+i.padZeros(e[4],2)+":"+i.padZeros(e[5],2);return e[6]>0&&(t+="."+i.trimRightZeros(i.padZeros(e[6],3))),t},isoToLocalDate:function(e){return e&&"string"==typeof e?this._isoToLocalDateIgnoreTimezone(e):null},_isoToLocalDateIgnoreTimezone:function(e){var t=i._IsoStrParts(e),r=new Date(t[0],t[1]-1,t[2],t[3],t[4],t[5],t[6]);return r.setFullYear(t[0]),r},_IsoStrParts:function(e){!1===i._ISO_DATE_REGEXP.test(e)&&i._throwInvalidISOStringSyntax(e);var t,r=e.split("T"),n=e.indexOf("T"),o=new Date,a=!1,s=[o.getFullYear(),o.getMonth()+1,o.getDate(),0,0,0,0];if(""!==r[0]){i.startsWith(r[0],"-")&&(r[0]=r[0].substr(1),a=!0);var u=r[0].split("-");for(t=0;t<u.length;t++){var l=parseInt(u[t],10);if(1===t&&(l<1||l>12)&&i._throwInvalidISOStringRange(e,"month",l,1,12),2===t){var g=i._getDaysInMonth(s[0],s[1]-1);(l<1||l>g)&&i._throwInvalidISOStringRange(e,"day",l,1,g)}s[t]=l}a&&(s[0]=-s[0])}if(-1!==n){var c=r[1].split("."),d=c[0].split(":");for(t=0;t<d.length;t++){var p=parseInt(d[t],10);0===t&&(p<0||p>24)&&i._throwInvalidISOStringRange(e,"hour",p,0,24),1===t&&(p<0||p>59)&&i._throwInvalidISOStringRange(e,"minute",p,0,59),2===t&&(p<0||p>59)&&i._throwInvalidISOStringRange(e,"second",p,0,59),s[3+t]=p}2===c.length&&c[1]&&(s[6]=parseInt(i.zeroPad(c[1],3,!1),10))}return s},getISOStrFormatInfo:function(e){var t={format:null,dateTime:null,timeZone:"",isoStrParts:null},r=i._ISO_DATE_REGEXP.exec(e);if(null===r&&i._throwInvalidISOStringSyntax(e),r&&void 0===r[1]&&void 0===r[2])return t.format="local",t.dateTime=e,t.isoStrParts=i._IsoStrParts(t.dateTime),t;t.timeZone=void 0!==r[1]?r[1]:r[2],"Z"===t.timeZone?t.format="zulu":t.format="offset";var n=e.length,o=t.timeZone.length;return t.dateTime=e.substring(0,n-o),t.isoStrParts=i._IsoStrParts(t.dateTime),t},getISOStrFormatType:function(e){let t;const r=i._ISO_DATE_REGEXP.exec(e);if(null===r&&i._throwInvalidISOStringSyntax(e),r&&void 0===r[1]&&void 0===r[2])return t="local",t;return t="Z"===(void 0!==r[1]?r[1]:r[2])?"zulu":"offset",t},_isLeapYear:function(e){return e%400==0||e%100!=0&&e%4==0},_getDaysInMonth:function(e,t){switch(t){case 0:case 2:case 4:case 6:case 7:case 9:case 11:return 31;case 1:return i._isLeapYear(e)?29:28;default:return 30}},_throwInvalidISOStringRange:function(e,t,r,n,o){throw new RangeError("The string "+e+" is not a valid ISO 8601 string: "+r+" is out of range.  Enter a value between "+n+" and "+o+" for "+t,{cause:{code:"isoStringOutOfRange",parameterMap:{isoStr:e,value:r,minValue:n,maxValue:o,propertyName:t}}})},_throwInvalidISOStringSyntax:function(e){throw new Error("The string "+e+" is not a valid ISO 8601 string syntax.",{cause:{code:"invalidISOString",parameterMap:{isoStr:e}}})},trim:function(e){return(e+"").replace(i.regexTrim,"")},trimRightZeros:function(e){return(e+"").replace(i.regexTrimRightZeros,"")},trimNumber:function(e){return(e+"").replace(i.regexTrimNumber,"")},startsWith:function(e,t){return 0===e.indexOf(t)},toUpper:function(e){return e.split(" ").join(" ").toUpperCase()},padZeros:function(e,t){var r=e+"",n=!1;return e<0&&(r=r.substr(1),n=!0),t>1&&r.length<t&&(r=(r=i.zeros[t-2]+r).substr(r.length-t,t)),n&&(r="-"+r),r},zeroPad:function(e,t,r){for(var n=""+e,o=n.length;o<t;o+=1)n=r?"0"+n:n+"0";return n},getTimeStringFromOffset:function(e,t,r,n){var o=r?t>0:t<0,a=Math.abs(t),s=Math.floor(a/60),u=a%60,l=o?"-":"+";n&&(s=i.zeroPad(s,2,!0));var g=e+l+s;return(u>0||n)&&(g+=":"+i.zeroPad(u,2,!0)),g},getNumberingSystemKey:function(e,t){if(void 0===t)return"latn";var r=i.getNumberingExtension(t),n="symbols-numberSystem-"+r;return void 0===e.numbers[n]&&(r="latn"),r},getBCP47Lang:function(e){return e.split("-")[0]},getBCP47Region:function(e){var t=e.split("-");return 3===t.length?t[2]:2===t.length&&2===t[1].length?t[1]:"001"},getNumberingExtension:function(e){var t=e||"en-US",r=t.indexOf("-u-nu-"),n="latn";return-1!==r&&(n=t.substr(r+6,4)),n},haveSamePropertiesLength:function(e){return Object.keys(e).length},getLocaleElementsMainNode:function(e){var t=e.main;return t[Object.keys(t)[0]]},getLocaleElementsMainNodeKey:function(e){var t=e.main;return Object.keys(t)[0]},_toBoolean:function(e){if("string"==typeof e)switch(e.toLowerCase().trim()){case"true":case"1":return!0;case"false":case"0":return!1;default:return e}return e},getGetOption:function(e,t){if(void 0===e)throw new Error("Internal "+t+" error. Default options missing.");return function(r,n,o,a){if(void 0!==e[r]){var s=e[r];switch(n){case"boolean":s=i._toBoolean(s);break;case"string":s=String(s);break;case"number":s=Number(s);break;default:throw new Error("Internal error. Wrong value type.")}if(void 0!==o&&-1===o.indexOf(s)){for(var u=[],l=0;l<o.length;l++)u.push(o[l]);var g="The value '"+e[r]+"' is out of range for '"+t+"' options property '"+r+"'. Valid values: "+u,c=new RangeError(g),d={errorCode:"optionOutOfRange",parameterMap:{propertyName:r,propertyValue:e[r],propertyValueValid:u,caller:t}};throw c.errorInfo=d,c}return s}return a}},matchString:function(e,t,r,n){void 0===n&&(n={sensitivity:"base",usage:"sort"});var o=i.getGetOption(n,"OraI18nUtils.matchString");n.usage=o("usage","string",["sort","search"],"sort"),n.sensitivity=o("sensitivity","string",["base","accent","case","variant"],"base");for(var a=e.length,s=t.length-1,u=0;u<a;u++)for(var l=0;l<3;l++){var g=a-u;if(g=Math.min(g,s+l),0===e.substr(u,g).localeCompare(t,r,n))return[u,u+(g-1)]}return null}};var s="T00:00:00.000",u={fullYear:{pos:0,pad:4},month:{pos:1,pad:2},date:{pos:2,pad:2},hours:{pos:3,pad:2},minutes:{pos:4,pad:2},seconds:{pos:5,pad:2},milliseconds:{pos:6,pad:3},timeZone:{pos:7}};i.isoToDate=function(e){return new Date(this._normalizeIsoString(e))},i._copyTimeOver=function(e,t){if(!e||!t)throw new Error("Provided invalid arguments");var r=this._normalizeIsoString(t),n=e.indexOf("T"),o=r.indexOf("T");return r.substring(0,o)+(-1!==n?e.substring(n):s)},i._clearTime=function(e){return this._dateTime(e,{hours:0,minutes:0,seconds:0,milliseconds:0})},i._dateTime=function(e,t,r){if(!e||!t)throw new Error("Invalid argument invocation");var o,a,i=null,s=u,l=this.padZeros,g=this._normalizeIsoString(e),c=/(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):?(\d{2})?\.?(\d{3})?(.*)?/.exec(g);if(!c)throw new Error("Unable to capture anything");if(c=c.slice(1),Array.isArray(t)){i={};for(var d=0,p=t.length;d<p;d++){var f=t[d];if(f in s){if(a=c[o=s[f].pos],r&&"timeZone"===f)throw new Error("Dude you tried to ask timezone to be parsed");if(r){var m=parseInt(a,10);i[f]=1===o?m-1:m}else i[f]=a}}}else if(n.isPlainObject(t)){for(var v=Object.keys(t),h=0;h<v.length;h++){var T=v[h],S=s[T];o=S.pos,a=t[T],1===o&&"number"==typeof a&&(a+=1),c[o]=S.pad?l(a,S.pad):a}i=c[0]+"-"+c[1]+"-"+c[2]+"T"+c[3]+":"+c[4]+":"+c[5]+(c.length>6&&c[6]?"."+c[6]+(8===c.length&&c[7]?c[7]:""):"")}return i},i._normalizeIsoString=function(e){if(!e)throw new Error("Provided invalid arguments");var t,r=(new Date).toISOString(),n=r.substring(0,r.indexOf("T")),o=e.indexOf("T"),a=-1===o?e:e.substring(0,o);return(a=a||n)+(-1!==o?(t=e.substring(o)).split(":").length>1?t:t+":00":s)},i.formatString=function(e,t){for(var r=t.length,n=e,o=0;o<r;o++){var a="{"+o+"}";n=n.replace(a,t[o])}return n},i.convertISOString=function(e,t){var r,n=e;if("offset"===t)r=e.startsWith("T")?(new Date).getTimezoneOffset():new Date(e).getTimezoneOffset(),n+=r=i.getTimeStringFromOffset("",r,!0,!0);else if("zulu"===t){var o=i._IsoStrParts(e),a=new Date(o[0],o[1]-1,o[2],o[3],o[4],o[5],o[6]);n=i.padZeros(a.getUTCFullYear(),4)+"-"+i.padZeros(a.getUTCMonth()+1,2)+"-"+i.padZeros(a.getUTCDate(),2)+"T"+i.padZeros(a.getUTCHours(),2)+":"+i.padZeros(a.getUTCMinutes(),2)+":"+i.padZeros(a.getUTCSeconds(),2),a.getMilliseconds()>0&&(n+="."+i.trimRightZeros(i.padZeros(a.getUTCMilliseconds(),3))),n+="Z"}return n},i.getInitials=function(e,t){var r,n=0,o=0;if(void 0!==e&&e.length>0&&(n=e.charCodeAt(0)),n>=1536&&n<=1791)return"";if(n>=2304&&n<=2431)return e.charAt(0);if(n>=3584&&n<=3711)return e.charAt(0);if(n>=4352&&n<=4607||n>=12592&&n<=12687||n>=43360&&n<=43391||n>=44032&&n<=55295)return e;if(void 0!==t&&t.length>0&&(n=t.charCodeAt(0)),n>=11904&&n<=12255||n>=12288&&n<=12591||n>=12688&&n<=12799||n>=13056&&n<=19903||n>=19968&&n<=40959||n>=63744&&n<=64255)return t;if(n>=55296&&n<=56319){if(t&&t.length<2)return"";if((o=t.charCodeAt(1))<56320||o>57343)return"";if((r=1024*(n-55296)+(o-56320)+65536)>=110592&&r<=110847||r>=127488&&r<=127743||r>=131072&&r<=173791||r>=173824&&r<=177983||r>=177984&&r<=178207||r>=178208&&r<=183983||r>=194560&&r<=195103)return t}return n="",o="",void 0!==e&&e.length>0&&(n=e.charAt(0).toUpperCase()),void 0!==t&&t.length>0&&(o=t.charAt(0).toUpperCase()),n+o};const l={isoToDate:function(e){return i.isoToDate(e)},isoToLocalDate:function(e){return i.isoToLocalDate(e)},dateToLocalIso:function(e){return i.dateToLocalIso(e)},dateToLocalIsoDateString:function(e){return i.dateToLocalIsoDateString(e)},getLocalTimeZoneOffset:function(e){return i.getLocalTimeZoneOffset(e)},getConverterInstance:function(e){return o.getConverterInstance(e)},_minMaxIsoString:function(e,t){if(e){var r=(t=t||this.dateToLocalIso(new Date)).indexOf("T");0===e.indexOf("T")&&r>0&&(e=t.substring(0,r)+e)}return e},_getISOStrFormatType:function(e){return i.getISOStrFormatType(e)},_verifyValueMinMax:function(e,t,r){Object.entries({value:e,min:t,max:r}).forEach(([e,t])=>{if(t)try{l._getISOStrFormatType(t)}catch(t){throw new Error(`${e} must be an iso string: ${t}`)}})},_getTodaysDateIsoStr:function(){const e=new Date;return i.padZeros(e.getFullYear(),4)+"-"+i.padZeros(e.getMonth()+1,2)+"-"+i.padZeros(e.getDate(),2)},_makeIsoDateStringsDateComparable:function(e,t){const r=e.startsWith("T"),n=t.startsWith("T"),o=!e.includes("T"),a=!t.includes("T");let i=e,s=t;if(r||n){const o=l._getTodaysDateIsoStr();r&&(i=o+e),n&&(s=o+t)}return o&&a||(o&&(i=`${e}T00:00:00`),a&&(s=`${t}T00:00:00`)),[i,s]},_compareISODates:function(e,t){const r=l._makeIsoDateStringsDateComparable(e,t);return new Date(r[0])-new Date(r[1])},__getConverterOptionError:function(e,n){t.Assert.assertObject(n);var o,i="",s="",u=n.propertyName;if("optionTypesMismatch"===e){var g=n.requiredPropertyName;o=n.requiredPropertyValueValid,i=r.getTranslatedString("oj-converter.optionTypesMismatch.summary",{propertyName:u,propertyValue:n.propertyValue,requiredPropertyName:g}),s=l._getOptionValueDetailMessage(g,o)}else"optionTypeInvalid"===e?(u=n.propertyName,o=n.propertyValueValid,i=r.getTranslatedString("oj-converter.optionTypeInvalid.summary",{propertyName:u}),s=l._getOptionValueDetailMessage(u,o)):"optionOutOfRange"===e?(i=r.getTranslatedString("oj-converter.optionOutOfRange.summary",{propertyName:u,propertyValue:n.propertyValue}),o=n.propertyValueValid,s=l._getOptionValueDetailMessage(u,o)):"optionValueInvalid"===e&&(i=r.getTranslatedString("oj-converter.optionValueInvalid.summary",{propertyName:u,propertyValue:n.propertyValue}),o=n.propertyValueHint,s=l._getOptionValueDetailMessage(u,o));return new a.ConverterError(i,s)},__getConverterError:function(e,t){return new a.ConverterError(e,t)},_getOptionValueDetailMessage:function(e,t){var n;return t?("string"==typeof t?n="oj-converter.optionHint.detail":(n="oj-converter.optionHint.detail-plural",t=t.join(r.getTranslatedString("oj-converter.plural-separator"))),r.getTranslatedString(n,{propertyName:e,propertyValueValid:t})):""},_copyTimeOver:function(e,t){return i._copyTimeOver(e,t)},_clearTime:function(e){return i._clearTime(e)},_dateTime:function(e,t,r){return i._dateTime(e,t,r)},_normalizeIsoString:function(e){return i._normalizeIsoString(e)},getInitials:function(e,t){return i.getInitials(e,t)}};e.IntlConverterUtils=l,e.OraI18nUtils=i,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojconverterutils-i18n.js.map;
define('ojtranslations/nls/localeElements',{root:{supplemental:{defaultRegion:{ar:"001",as:"IN",be:"BY",bg:"BG",bn:"BD",bo:"CN",brx:"IN",bs:"BA",ca:"ES",cs:"CZ",da:"DK",de:"DE",el:"GR",en:"US",es:"ES",et:"EE",fi:"FI",fr:"FR",ga:"IE",gu:"IN",he:"IL",hi:"IN",hr:"HR",hu:"HU",id:"ID",is:"IS",it:"IT",ja:"JP",kn:"IN",ko:"KR",kok:"IN",ks:"IN","ks-Arab":"IN",lt:"LT",lv:"LV",mk:"MK",ml:"IN",mr:"IN",ms:"MY",mt:"MT",nb:"NO",ne:"NP",nl:"NL",nn:"NO",no:"NO",or:"IN",pa:"IN","pa-Guru":"IN","pa-Arab":"PK",pl:"PL",pt:"BR",ro:"RO",ru:"RU",sk:"SK",sl:"SI",sq:"AL",sr:"RS","sr-Cyrl":"RS","sr-Latn":"RS",sv:"SE",ta:"IN",te:"IN",th:"TH",tr:"TR",uk:"UA",ur:"PK",vi:"VN",zh:"CN","zh-Hans":"CN","zh-Hant":"TW"},weekData:{firstDay:{"001":1,AE:6,BH:6,BR:0,DZ:6,EG:6,IQ:6,JO:6,KW:6,LB:1,LY:6,MA:6,OM:6,QA:6,SA:0,SD:6,SY:6,TN:0,YE:0,BY:1,BG:1,ES:1,CZ:1,DK:1,AT:1,CH:1,DE:1,LU:1,CY:1,GR:1,AU:0,CA:0,GB:1,IE:0,IN:0,MT:0,NZ:0,PH:0,SG:0,US:0,ZA:0,AR:0,CL:1,CO:0,CR:1,DO:0,EC:1,GT:0,HN:0,MX:0,NI:0,PA:0,PE:0,PR:0,PY:0,SV:0,UY:1,VE:0,EE:1,FI:1,BE:1,FR:1,IL:0,HR:1,HU:1,ID:0,IS:1,IT:1,JP:0,KR:0,LT:1,LV:1,MK:1,MY:1,NO:1,NL:1,PL:1,PT:1,RO:1,RU:1,SK:1,SI:1,AL:1,BA:1,ME:1,RS:1,SE:1,TH:0,TR:1,UA:1,VN:1,CN:0,HK:0,MO:0,TW:0},weekendStart:{"001":6,AE:5,BH:5,DZ:5,EG:5,IQ:5,JO:5,KW:5,LY:5,MA:5,OM:5,QA:5,SA:5,SD:5,SY:5,TN:5,YE:5,IN:0,IL:5},weekendEnd:{"001":0,AE:6,BH:6,DZ:6,EG:6,IQ:6,JO:6,KW:6,LY:6,MA:6,OM:6,QA:6,SA:6,SD:6,SY:6,TN:6,YE:6,IL:6}},prefferedHours:{"001":"H",AE:"h",BH:"h",DZ:"h",EG:"h",IQ:"h",JO:"h",KW:"h",LB:"h",LY:"h",MA:"H",OM:"h",QA:"h",SA:"h",SD:"h",SY:"h",TN:"h",YE:"h",BG:"H",ES:"H",CZ:"H",DK:"H",AT:"H",CH:"H",DE:"H",LU:"H",CY:"h",GR:"h",AU:"h",CA:"h",GB:"H",IE:"H",IN:"h",NZ:"h",PH:"h",SG:"h",US:"h",ZA:"h",AR:"H",BO:"H",CL:"H",CO:"h",CR:"H",CU:"H",DO:"h",EC:"H",GT:"H",HN:"H",MX:"H",NI:"H",PA:"h",PE:"H",PR:"h",SV:"H",UY:"H",VE:"h",EE:"H",FI:"H",BE:"H",FR:"H",IL:"H",HR:"H",ID:"H",IS:"H",IT:"H",JP:"H",KR:"h",LT:"H",LV:"H",MK:"H",MY:"h",NL:"H",PT:"H",RO:"H",RU:"H",SK:"H",SI:"H",AL:"h",BA:"H",ME:"H",RS:"H",SE:"H",TR:"H",UA:"H",CN:"h",HK:"h",MO:"h",TW:"h"},currencyData:{fractions:{IDR:{_digits:"0"},JPY:{_digits:"0"},KRW:{_digits:"0"},AFN:{_digits:"0"},ADP:{_digits:"0"},BHD:{_digits:"3"},BYR:{_digits:"0"},BIF:{_digits:"0"},XOF:{_digits:"0"},XAF:{_digits:"0"},XPF:{_digits:"0"},CLP:{_digits:"0"},KMF:{_digits:"0"},DJF:{_digits:"0"},STD:{_digits:"0"},PYG:{_digits:"0"},GNF:{_digits:"0"},ISK:{_digits:"0"},IQD:{_digits:"0"},ITL:{_digits:"0"},LAK:{_digits:"0"},KWD:{_digits:"3"},MMK:{_digits:"0"},LBP:{_digits:"0"},ALL:{_digits:"0"},SLL:{_digits:"0"},LUF:{_digits:"0"},LYD:{_digits:"3"},MGF:{_digits:"0"},TMM:{_digits:"0"},KPW:{_digits:"0"},MRO:{_digits:"0"},IDR:{_digits:"2"},RWF:{_digits:"0"},RSD:{_digits:"0"},SOS:{_digits:"0"},ESP:{_digits:"0"},SYP:{_digits:"0"},TND:{_digits:"3"},TRL:{_digits:"0"},UYW:{_digits:"4"},CLF:{_digits:"4"},UYI:{_digits:"0"},VUV:{_digits:"0"},YER:{_digits:"0"},ZMK:{_digits:"0"},ZWD:{_digits:"0"},VND:{_digits:"0"}}}}},ar:1,"ar-AE":1,"ar-BH":1,"ar-DZ":1,"ar-EG":1,"ar-IQ":1,"ar-JO":1,"ar-KW":1,"ar-LB":1,"ar-LY":1,"ar-MA":1,"ar-OM":1,"ar-QA":1,"ar-SA":1,"ar-SD":1,"ar-SY":1,"ar-TN":1,"ar-YE":1,as:1,be:1,"be-BY":1,bg:1,"bg-BG":1,bn:1,bo:1,"bo-IN":1,brx:1,bs:1,"bs-Cyrl":1,"bs-Cyrl-BA":1,"bs-Latn":1,"bs-Latn-BA":1,ca:1,"ca-ES":1,cs:1,"cs-CZ":1,da:1,"da-DK":1,de:1,"de-AT":1,"de-CH":1,"de-DE":1,"de-LU":1,el:1,"el-CY":1,"el-GR":1,en:1,"en-AU":1,"en-CA":1,"en-GB":1,"en-IE":1,"en-IN":1,"en-MT":1,"en-NZ":1,"en-PH":1,"en-SG":1,"en-US":1,"en-ZA":1,es:1,"es-AR":1,"es-BO":1,"es-CL":1,"es-CO":1,"es-CR":1,"es-CU":1,"es-DO":1,"es-EC":1,"es-ES":1,"es-GT":1,"es-HN":1,"es-MX":1,"es-NI":1,"es-PA":1,"es-PE":1,"es-PR":1,"es-PY":1,"es-SV":1,"es-US":1,"es-UY":1,"es-VE":1,et:1,"et-EE":1,fi:1,"fi-FI":1,fr:1,"fr-BE":1,"fr-CA":1,"fr-CH":1,"fr-FR":1,"fr-LU":1,ga:1,"ga-IE":1,gu:1,he:1,"he-IL":1,hi:1,"hi-IN":1,hr:1,"hr-HR":1,hu:1,"hu-HU":1,id:1,"id-ID":1,is:1,"is-IS":1,it:1,"it-CH":1,"it-IT":1,ja:1,"ja-JP":1,kn:1,ko:1,"ko-KR":1,kok:1,ks:1,lt:1,"lt-LT":1,lv:1,"lv-LV":1,mk:1,"mk-MK":1,ml:1,mr:1,ms:1,"ms-MY":1,mt:1,"mt-MT":1,nb:1,"nb-NO":1,ne:1,"ne-IN":1,nl:1,"nl-BE":1,"nl-NL":1,nn:1,"nn-NO":1,no:1,"no-NO":1,or:1,pa:1,pl:1,"pl-PL":1,pt:1,"pt-BR":1,"pt-PT":1,ro:1,"ro-RO":1,ru:1,"ru-RU":1,sk:1,"sk-SK":1,sl:1,"sl-SI":1,sq:1,"sq-AL":1,sr:1,"sr-Cyrl":1,"sr-Cyrl-BA":1,"sr-Cyrl-ME":1,"sr-Cyrl-RS":1,"sr-Latn":1,"sr-Latn-BA":1,"sr-Latn-ME":1,"sr-Latn-RS":1,sv:1,"sv-SE":1,ta:1,te:1,th:1,"th-TH":1,tr:1,"tr-TR":1,uk:1,"uk-UA":1,ur:1,"ur-IN":1,vi:1,"vi-VN":1,zh:1,"zh-Hans":1,"zh-Hans-CN":1,"zh-Hans-SG":1,"zh-Hant":1,"zh-Hant-HK":1,"zh-Hant-MO":1,"zh-Hant-TW":1,__noOverlay:!0,__defaultNoOverlayLocale:"en-US"});

define('@oracle/oraclejet-preact/UNSAFE_IntlFormatParse',['exports'], (function(e){"use strict";class t extends Error{constructor(e,r){super(e),Object.setPrototypeOf(this,t.prototype),this.cause=r?.cause}}e.FormatParseError=t,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=UNSAFE_IntlFormatParse.js.map
;
define('@oracle/oraclejet-preact/utils/UNSAFE_logger',['exports', '../_curry1-cf4f4dfb', '../_curry2-d6142db1'], (function(r,e,n){"use strict";const o=(0,n._curry2_1)((function(r,e){for(var n={},o=0;o<r.length;)r[o]in e&&(n[r[o]]=e[r[o]]),o+=1;return n}))(["error","warn","info","log"],console);r.Logger=o,Object.defineProperty(r,"__esModule",{value:!0})}));
//# sourceMappingURL=UNSAFE_logger.js.map
;
define('@oracle/oraclejet-preact/_arity-73192938',['exports', './_curry1-cf4f4dfb'], (function(t,r){"use strict";var n=function(t,r){switch(t){case 0:return function(){return r.apply(this,arguments)};case 1:return function(t){return r.apply(this,arguments)};case 2:return function(t,n){return r.apply(this,arguments)};case 3:return function(t,n,e){return r.apply(this,arguments)};case 4:return function(t,n,e,u){return r.apply(this,arguments)};case 5:return function(t,n,e,u,i){return r.apply(this,arguments)};case 6:return function(t,n,e,u,i,a){return r.apply(this,arguments)};case 7:return function(t,n,e,u,i,a,c){return r.apply(this,arguments)};case 8:return function(t,n,e,u,i,a,c,s){return r.apply(this,arguments)};case 9:return function(t,n,e,u,i,a,c,s,p){return r.apply(this,arguments)};case 10:return function(t,n,e,u,i,a,c,s,p,o){return r.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}};t._arity_1=n}));
//# sourceMappingURL=_arity-73192938.js.map
;
define('@oracle/oraclejet-preact/UNSAFE_IntlDateTime',['exports', './UNSAFE_IntlFormatParse', './utils/UNSAFE_logger', './_curry1-cf4f4dfb', './_arity-73192938', './_curry2-d6142db1'], (function(e,t,a,n,r,o){"use strict";class s{static _getDayPeriods(e,t){const a=new Date(2019,0,1,0,0,0);function n(e){const t=e.formatToParts(a).find((e=>"dayPeriod"===e.type));return t?t.value:""}const r=s.getFormatterLocale(e,t),o=new Intl.DateTimeFormat(r,{hour:"numeric",hour12:!0}),i=n(o);a.setHours(20);return{format:{wide:{am:i,pm:n(o)}}}}static getFormatterLocale(e,t){return e+"-u-ca-"+t}static _getEras(e,t){const a=[{era:"0",start:"2000-02-11T00:00:00"}],n={eraNarrow:{0:"",1:""},eraAbbr:{0:"",1:""},eraName:{0:"",1:""}};function r(e,t){const a=e.formatToParts(t).find((e=>"era"===e.type));return a?a.value:""}const o=["narrow","short","long"],i=s.getFormatterLocale(e,t),l={narrow:"eraNarrow",short:"eraAbbr",long:"eraName"};for(let e=0;e<a.length;e++){const t=new Date(a[e].start);for(let e=0;e<o.length;e++){const a=o[e],s={year:"numeric",month:"numeric",day:"numeric",era:a},d=r(new Intl.DateTimeFormat(i,s),t),m={0:d,1:d};n[l[a]]=m}}return n}static _fillMonthAndDays(e,t,a,n,r){const o=[[2020,0,5],[2020,1,3],[2020,2,3],[2020,3,1],[2020,4,7],[2020,5,5],[2020,6,4],[2020,7,1],[2020,8,1],[2020,9,1],[2020,10,1],[2020,11,1]];function i(e){const t=e.find((e=>"month"===e.type));return t?t.value:null}function l(e){const t=e.find((e=>"weekday"===e.type));return t?t.value:null}const d=s.getFormatterLocale(e,t),m=new Intl.DateTimeFormat(d,n),h={},u={};for(let e=0;e<o.length;e++){const t=e+1,n=s._weekdaysFormatMap[t],d=new Date(o[e][0],o[e][1],o[e][2]),c=m.formatToParts(d);let _,y;r?(_=m.format(d),y=m.format(d)):(_=i(c),y=l(c)),void 0===h[a]&&(h[a]={}),h[a][t]=_,t<=7&&(void 0===u[a]&&(u[a]={}),u[a][n]=y)}return{monthFormat:h,dayFormat:u}}static _getFormatMonthAndDays(e,t){const a=[],n=[],r=["short","narrow","long"];for(let o=0;o<r.length;o++){const i={month:r[o],weekday:r[o],year:"numeric",day:"numeric"},l=s._monthNamesFormatMap[r[o]],d=s._fillMonthAndDays(e,t,l,i,!1);a[o]=d.monthFormat,n[o]=d.dayFormat}const o=Object.assign({},...a),i=Object.assign({},...n),l={};l.format=o;const d={};return d.format=i,l["stand-alone"]=l.format,d["stand-alone"]=d.format,{monthsNode:l,daysNode:d}}static _getStandAloneDays(e,t){const a=[],n=["short","narrow","long"];for(let r=0;r<n.length;r++){const o={weekday:n[r]},i=s._monthNamesFormatMap[n[r]],l=s._fillMonthAndDays(e,t,i,o,!0);a[r]=l.dayFormat}const r=Object.assign({},...a),o={"stand-alone":{}};return o["stand-alone"]=r,{daysNode:o}}static _getStandAloneMonths(e,t){const a=[],n=["short","narrow","long"];for(let r=0;r<n.length;r++){const o={month:n[r]},i=s._monthNamesFormatMap[n[r]],l=s._fillMonthAndDays(e,t,i,o,!0);a[r]=l.monthFormat}const r=Object.assign({},...a),o={"stand-alone":{}};return o["stand-alone"]=r,{monthsNode:o}}static getCalendar(e,t){if(s.calendars=s.calendars??{},s.calendars[e]=s.calendars[e]??{},void 0===s.calendars[e][t]){const a=s._getDayPeriods(e,t),n=s._getEras(e,t);let r,o;const i=s._getStandAloneMonths(e,t),l=s._getStandAloneDays(e,t);if(s.exceptionLocales.includes(e))r=i.monthsNode["stand-alone"],o=l.daysNode["stand-alone"];else{const a=s._getFormatMonthAndDays(e,t);r=a.monthsNode.format,o=a.daysNode.format}const d={format:r,"stand-alone":i.monthsNode["stand-alone"]},m={format:o,"stand-alone":l.daysNode["stand-alone"]};s.calendars[e][t]={dayPeriods:a,months:d,days:m,eras:n,locale:e}}return s.calendars[e][t]}}s._monthNamesFormatMap={short:"abbreviated",narrow:"narrow",long:"wide"},s._weekdaysFormatMap={1:"sun",2:"mon",3:"tue",4:"wed",5:"thu",6:"fri",7:"sat"},s.exceptionLocales=["ja","ja-JP","zh","zh-Hans","zh-Hans-CN","zh-Hans-HK","zh-Hans-MO","zh-Hans-SG","zh-Hant","zh-Hant-HK","zh-Hant-MO","zh-Hant-TW"];const i=new Map;function l(e,t){const a=new Date(Date.UTC(e.year,e.month-1,e.date,e.hours,e.minutes)),n=function(e,t){let a=60*e.hours+e.minutes,n=60*t.hours+t.minutes,r=e.year-t.year;0==r&&(r=e.month-t.month,0===r&&(r=e.date-t.date));r>0?a+=1440:r<0&&(n+=1440);return n-a}(e,d(a,t));let r=0;a.setTime(a.getTime()-6e4*n),m(d(a,t),e)||(r=-60,a.setTime(a.getTime()+36e5),m(d(a,t),e)||(r=60,a.setTime(a.getTime()-72e5)));return n+r}function d(e,t){const a=function(e){let t=i.get(e);t||(t=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hourCycle:"h23",timeZone:e}),i.set(e,t));return t}(t).format(e),[n,r]=a.split(","),[o,s,l]=n.split("/"),[d,m]=r.trim().split(":");return{year:parseInt(l),month:parseInt(o),date:parseInt(s),hours:parseInt(d),minutes:parseInt(m)}}function m(e,t){return e.year===t.year&&e.month===t.month&&e.hours===t.hours&&e.minutes===t.minutes}class h{}h._YEAR_AND_DATE_REGEXP=/(\d{1,4})\D+?(\d{1,4})/g,h._YMD_REGEXP=/(\d{1,4})\D+?(\d{1,4})\D+?(\d{1,4})/g,h._TIME_REGEXP=/(\d{1,2})(?:\D(\d{1,2}))?(?:\D(\d{1,2}))?(?:\D(\d{1,3}))?/g,h._TIME_FORMAT_REGEXP=/h|H|K|k/g,h._YEAR_REGEXP=/y{1,4}/,h._MONTH_REGEXP=/M{1,5}/,h._DAY_REGEXP=/d{1,2}/,h._WEEK_DAY_REGEXP=/E{1,5}/,h._HOUR_REGEXP=/h{1,2}|k{1,2}/i,h._MINUTE_REGEXP=/m{1,2}/,h._SECOND_REGEXP=/s{1,2}/,h._FRACTIONAL_SECOND_REGEXP=/S{1,3}/,h._AMPM_REGEXP=/a{1,2}/,h._WORD_REGEXP="(\\D+?\\s*)",h._ESCAPE_REGEXP=/([\^$.*+?|\[\](){}])/g,h._TOKEN_REGEXP=/ccccc|cccc|ccc|cc|c|EEEEE|EEEE|EEE|EE|E|dd|d|MMMMM|MMMM|MMM|MM|M|LLLLL|LLLL|LLL|LL|L|yyyy|yy|y|hh|h|HH|H|KK|K|kk|k|mm|m|ss|s|aa|a|SSS|SS|S|zzzz|zzz|zz|z|v|ZZZ|ZZ|Z|XXX|XX|X|VV|GGGGG|GGGG|GGG|GG|G/g,h._ZULU="zulu",h._LOCAL="local",h._AUTO="auto",h._INVARIANT="invariant",h._OFFSET="offset",h._ALNUM_REGEXP="(\\D+|\\d\\d?\\D|\\d\\d?|\\D+\\d\\d?)",h._NON_DIGIT_REGEXP="(\\D+|\\D+\\d\\d?)",h._NON_DIGIT_OPT_REGEXP="(\\D*)",h._STR_REGEXP="(.+?)",h._TWO_DIGITS_REGEXP="(\\d\\d?)",h._THREE_DIGITS_REGEXP="(\\d{1,3})",h._FOUR_DIGITS_REGEXP="(\\d{1,4})",h._SLASH_REGEXP="(\\/)",h._PROPERTIES_MAP={MMM:{token:"months",style:"format",mLen:"abbreviated",matchIndex:0,key:"month",value:"short",regExp:h._ALNUM_REGEXP},MMMM:{token:"months",style:"format",mLen:"wide",matchIndex:0,key:"month",value:"long",regExp:h._ALNUM_REGEXP},MMMMM:{token:"months",style:"format",mLen:"narrow",matchIndex:0,key:"month",value:"narrow",regExp:h._ALNUM_REGEXP},LLL:{token:"months",style:"stand-alone",mLen:"abbreviated",matchIndex:1,key:"month",value:"short",regExp:h._ALNUM_REGEXP},LLLL:{token:"months",style:"stand-alone",mLen:"wide",matchIndex:1,key:"month",value:"long",regExp:h._ALNUM_REGEXP},LLLLL:{token:"months",style:"stand-alone",mLen:"narrow",matchIndex:1,key:"month",value:"narrow",regExp:h._ALNUM_REGEXP},E:{token:"days",style:"format",dLen:"abbreviated",matchIndex:0,key:"weekday",value:"short",regExp:h._NON_DIGIT_REGEXP},EE:{token:"days",style:"format",dLen:"abbreviated",matchIndex:0,key:"weekday",value:"short",regExp:h._NON_DIGIT_REGEXP},EEE:{token:"days",style:"format",dLen:"abbreviated",matchIndex:0,key:"weekday",value:"short",regExp:h._NON_DIGIT_REGEXP},EEEE:{token:"days",style:"format",dLen:"wide",matchIndex:0,key:"weekday",value:"long",regExp:h._NON_DIGIT_REGEXP},EEEEE:{token:"days",style:"format",dLen:"narrow",matchIndex:0,key:"weekday",value:"narrow",regExp:h._NON_DIGIT_REGEXP},c:{token:"days",style:"stand-alone",dLen:"abbreviated",matchIndex:1,key:"weekday",value:"short",regExp:h._NON_DIGIT_REGEXP},cc:{token:"days",style:"stand-alone",dLen:"abbreviated",matchIndex:1,key:"weekday",value:"short",regExp:h._NON_DIGIT_REGEXP},ccc:{token:"days",style:"stand-alone",dLen:"abbreviated",matchIndex:1,key:"weekday",value:"short",regExp:h._NON_DIGIT_REGEXP},cccc:{token:"days",style:"stand-alone",dLen:"wide",matchIndex:1,key:"weekday",value:"long",regExp:h._NON_DIGIT_REGEXP},ccccc:{token:"days",style:"stand-alone",dLen:"narrow",matchIndex:1,key:"weekday",value:"narrow",regExp:h._NON_DIGIT_REGEXP},h:{token:"time",timePart:"hour",start1:0,end1:11,start2:1,end2:12,key:"hour",value:"numeric",regExp:h._TWO_DIGITS_REGEXP},hh:{token:"time",timePart:"hour",start1:0,end1:11,start2:1,end2:12,key:"hour",value:"2-digit",regExp:h._TWO_DIGITS_REGEXP},K:{token:"time",timePart:"hour",start1:0,end1:12,start2:0,end2:12,key:"hour",value:"numeric",regExp:h._TWO_DIGITS_REGEXP},KK:{token:"time",timePart:"hour",start1:0,end1:12,start2:0,end2:12,key:"hour",value:"2-digit",regExp:h._TWO_DIGITS_REGEXP},H:{token:"time",timePart:"hour",start1:0,end1:23,start2:0,end2:23,key:"hour",value:"numeric",regExp:h._TWO_DIGITS_REGEXP},HH:{token:"time",timePart:"hour",start1:0,end1:23,start2:0,end2:23,key:"hour",value:"2-digit",regExp:h._TWO_DIGITS_REGEXP},k:{token:"time",timePart:"hour",start1:0,end1:24,start2:0,end2:24,key:"hour",value:"numeric",regExp:h._TWO_DIGITS_REGEXP},kk:{token:"time",timePart:"hour",start1:0,end1:24,start2:0,end2:24,key:"hour",value:"2-digit",regExp:h._TWO_DIGITS_REGEXP},m:{token:"time",timePart:"minute",start1:0,end1:59,start2:0,end2:59,key:"minute",value:"numeric",regExp:h._TWO_DIGITS_REGEXP},mm:{token:"time",timePart:"minute",start1:0,end1:59,start2:0,end2:59,key:"minute",value:"2-digit",regExp:h._TWO_DIGITS_REGEXP},s:{token:"time",timePart:"second",start1:0,end1:59,start2:0,end2:59,key:"second",value:"numeric",regExp:h._TWO_DIGITS_REGEXP},ss:{token:"time",timePart:"second",start1:0,end1:59,start2:0,end2:59,key:"second",value:"2-digit",regExp:h._TWO_DIGITS_REGEXP},S:{token:"time",timePart:"millisec",start1:0,end1:999,start2:0,end2:999,key:"millisecond",value:"numeric",regExp:h._THREE_DIGITS_REGEXP},SS:{token:"time",timePart:"millisec",start1:0,end1:999,start2:0,end2:999,key:"millisecond",value:"numeric",regExp:h._THREE_DIGITS_REGEXP},SSS:{token:"time",timePart:"millisec",start1:0,end1:999,start2:0,end2:999,key:"millisecond",value:"numeric",regExp:h._THREE_DIGITS_REGEXP},d:{token:"dayOfMonth",key:"day",value:"numeric",getPartIdx:2,regExp:h._TWO_DIGITS_REGEXP},dd:{token:"dayOfMonth",key:"day",value:"2-digit",getPartIdx:2,regExp:h._TWO_DIGITS_REGEXP},M:{token:"monthIndex",key:"month",value:"numeric",getPartIdx:1,regExp:h._TWO_DIGITS_REGEXP},MM:{token:"monthIndex",key:"month",value:"2-digit",getPartIdx:1,regExp:h._TWO_DIGITS_REGEXP},L:{token:"monthIndex",key:"month",value:"numeric",getPartIdx:1,regExp:h._TWO_DIGITS_REGEXP},LL:{token:"monthIndex",key:"month",value:"2-digit",getPartIdx:1,regExp:h._TWO_DIGITS_REGEXP},y:{token:"year",key:"year",value:"numeric",regExp:h._FOUR_DIGITS_REGEXP},yy:{token:"year",key:"year",value:"2-digit",regExp:h._TWO_DIGITS_REGEXP},yyyy:{token:"year",key:"year",value:"numeric",regExp:h._FOUR_DIGITS_REGEXP},a:{token:"ampm",key:"dayPeriod",value:void 0,regExp:h._WORD_REGEXP},z:{token:"tzAbbrev",key:"timeZoneName",value:"short",regExp:h._STR_REGEXP},v:{token:"tzAbbrev",key:"timeZoneName",value:"short",regExp:h._STR_REGEXP},zz:{token:"tzAbbrev",key:"timeZoneName",value:"short",regExp:h._STR_REGEXP},zzz:{token:"tzAbbrev",key:"timeZoneName",value:"short",regExp:h._STR_REGEXP},zzzz:{token:"tzFull",key:"timeZoneName",value:"long",regExp:h._STR_REGEXP},Z:{token:"tzhm",key:"tzhm",value:"short",regExp:h._STR_REGEXP,type:"tzOffset"},ZZ:{token:"tzhm",key:"tzhm",value:"short",regExp:h._STR_REGEXP,type:"tzOffset"},ZZZ:{token:"tzhm",key:"tzhm",value:"short",regExp:h._STR_REGEXP,type:"tzOffset"},X:{token:"tzh",key:"tzh",value:"short",regExp:h._STR_REGEXP,type:"tzOffset"},XX:{token:"tzhm",key:"tzhm",value:"short",regExp:h._STR_REGEXP,type:"tzOffset"},XXX:{token:"tzhsepm",key:"tzhsepm",value:"short",regExp:h._STR_REGEXP,type:"tzOffset"},VV:{token:"tzid",key:"tzid",value:"short",regExp:h._STR_REGEXP,type:"tzOffset"},G:{token:"era",key:"era",value:"eraAbbr",regExp:h._NON_DIGIT_REGEXP},GG:{token:"era",key:"era",value:"eraAbbr",regExp:h._NON_DIGIT_REGEXP},GGG:{token:"era",key:"era",value:"eraAbbr",regExp:h._NON_DIGIT_REGEXP},GGGG:{token:"era",key:"era",value:"eraName",regExp:h._NON_DIGIT_REGEXP},GGGGG:{token:"era",key:"era",value:"eraNarrow",regExp:h._NON_DIGIT_REGEXP},"/":{token:"slash",regExp:h._SLASH_REGEXP}},h.FRACTIONAL_SECOND_MAP={a:{key:"dayPeriod",token:"dayPeriod",value:"narrow"},SSS:{key:"fractionalSecondDigits",token:"fractionalSecond",value:3},SS:{key:"fractionalSecondDigits",token:"fractionalSecond",value:2},S:{key:"fractionalSecondDigits",token:"fractionalSecond",value:1}},h._tokenMap={era:{short:"GGG",long:"GGGG",narrow:"GGGGG"},month:{short:"MMM",long:"MMMM",narrow:"MMMMM",numeric:"M","2-digit":"MM"},weekday:{short:"EEE",long:"EEEE",narrow:"EEEEE"},year:{numeric:"y","2-digit":"yy"},day:{numeric:"d","2-digit":"dd"},hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},fractionalSecond:{1:"S",2:"SS",3:"SSS"},timeZoneName:{short:"z",long:"zzzz"}},h._dateTimeFormats={dateStyle:{full:{year:"y",month_s:"MM",month_m:"MMMM",weekday:"EEEE",day:"d"},long:{year:"y",month_s:"MM",month_m:"MMMM",day:"d"},medium:{year:"y",month_s:"MM",month_m:"MMM",day:"d"},short:{year:"y",month_s:"M",month_m:"MMM",day:"d"}},timeStyle:{full:{hour:"h",minute:"mm",second:"ss",timeZoneName:"zzzz"},long:{hour:"h",minute:"mm",second:"ss",timeZoneName:"z"},medium:{hour:"h",minute:"mm",second:"ss"},short:{hour:"h",minute:"mm"}}},h._ALPHA_REGEXP=/([a-zA-Z]+)/,h._HOUR12_REGEXP=/h/g,h._hourCycleMap={h12:"h",h23:"H",h11:"K",h24:"k"},h._zh_tw_locales=["zh-TW","zh-Hant","zh-Hant-TW"],h._zh_tw_pm_symbols=["中午","下午","晚上"];const u=/^\s+|\s+$|\u200f|\u200e/g,c=/\s+|\u200f|\u200e/g,_=/0+$/g,y=["0","00","000"],g=/^[+-]?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{1,3})?)?(Z|[+-]\d{2}(?::?\d{2})?)?)?$|^T\d{2}:\d{2}(?::\d{2}(?:\.\d{1,3})?)?(Z|[+-]\d{2}(?::?\d{2})?)?$/,E=/^[+-]?\d{4}-\d{2}-\d{2}$/;function p(e,t){return 0===e.indexOf(t)}function f(e){return(e+"").replace(u,"")}function T(e){return(e+"").replace(_,"")}function k(e){return(e+"").replace(c,"")}function I(e){return e.split(" ").join(" ").toUpperCase()}function v(e,t){let a=e+"",n=!1;return e<0&&(a=a.substr(1),n=!0),t>1&&a.length<t&&(a=y[t-2]+a,a=a.substr(a.length-t,t)),n&&(a="-"+a),a}function P(e,t,a){let n=""+e;for(let e=n.length;e<t;e+=1)n=a?"0"+n:n+"0";return n}function w(e,t,a,n,r){throw new RangeError("The string "+e+" is not a valid ISO 8601 string: "+a+" is out of range.  Enter a value between "+n+" and "+r+" for "+t,{cause:{code:"isoStringOutOfRange",parameterMap:{isoStr:e,value:a,minValue:n,maxValue:r,propertyName:t}}})}function M(e){throw new Error("The string "+e+" is not a valid ISO 8601 string syntax.",{cause:{code:"invalidISOString",parameterMap:{isoStr:e}}})}function G(e){let t=e;"number"==typeof t&&(t=new Date(t));let a=v(t.getFullYear(),4)+"-"+v(t.getMonth()+1,2)+"-"+v(t.getDate(),2)+"T"+v(t.getHours(),2)+":"+v(t.getMinutes(),2)+":"+v(t.getSeconds(),2);return t.getMilliseconds()>0&&(a+="."+T(v(t.getMilliseconds(),3))),a}function S(e){return e%400==0||e%100!=0&&e%4==0}function x(e,t){switch(t){case 0:case 2:case 4:case 6:case 7:case 9:case 11:return 31;case 1:return S(e)?29:28;default:return 30}}function R(e){!1===g.test(e)&&M(e);const t=e.split("T"),a=e.indexOf("T"),n=new Date;let r,o=!1;const s=[n.getFullYear(),n.getMonth()+1,n.getDate(),0,0,0,0];if(""!==t[0]){p(t[0],"-")&&(t[0]=t[0].slice(1),o=!0);const a=t[0].split("-");for(r=0;r<a.length;r++){const t=parseInt(a[r],10);if(1===r&&(t<1||t>12)&&w(e,"month",t,1,12),2===r){const a=x(s[0],s[1]-1);(t<1||t>a)&&w(e,"day",t,1,a)}s[r]=t}o&&(s[0]=-s[0])}if(-1!==a){const a=t[1].split("."),n=a[0].split(":");for(r=0;r<n.length;r++){const t=parseInt(n[r],10);0===r&&(t<0||t>24)&&w(e,"hour",t,0,24),1===r&&(t<0||t>59)&&w(e,"minute",t,0,59),2===r&&(t<0||t>59)&&w(e,"second",t,0,59),s[3+r]=t}2===a.length&&a[1]&&(s[6]=parseInt(P(a[1],3,!1),10))}return s}function O(e,t){if(void 0===e)throw new Error("Internal "+t+" error. Default options missing.");return function(a,n,r,o){if(void 0!==e[a]){let o=e[a];switch(n){case"boolean":o=function(e){if("string"==typeof e)switch(e.toLowerCase().trim()){case"true":case"1":return!0;case"false":case"0":return!1;default:return e}return e}(o);break;case"string":o=String(o);break;case"number":o=Number(o);break;default:throw new Error("Internal error. Wrong value type.")}if(void 0!==r&&-1===r.indexOf(o)){const n=[];for(let e=0;e<r.length;e++)n.push(r[e]);const o="The value '"+e[a]+"' is out of range for '"+t+"' options property '"+a+"'. Valid values: "+n,s=new RangeError(o),i={errorCode:"optionOutOfRange",parameterMap:{propertyName:a,propertyValue:e[a],propertyValueValid:n,caller:t}};throw s.errorInfo=i,s}return o}return o}}function D(e){let t=v(e[0],4)+"-"+v(e[1],2)+"-"+v(e[2],2)+"T"+v(e[3],2)+":"+v(e[4],2)+":"+v(e[5],2);return e[6]>0&&(t+="."+T(v(e[6],3))),t}function b(e){return e&&"string"==typeof e?function(e){const t=R(e),a=new Date(t[0],t[1]-1,t[2],t[3],t[4],t[5],t[6]);return a.setFullYear(t[0]),a}(e):null}function L(e){const t={format:null,dateTime:null,timeZone:"",isoStrParts:null},a=g.exec(e);if(null===a&&M(e),a&&void 0===a[1]&&void 0===a[2])return t.format="local",t.dateTime=e,t.isoStrParts=R(t.dateTime),t;t.timeZone=void 0!==a[1]?a[1]:a[2],"Z"===t.timeZone?t.format="zulu":t.format="offset";const n=e.length,r=t.timeZone.length;return t.dateTime=e.substring(0,n-r),t.isoStrParts=R(t.dateTime),t}function N(e,t,a,n){const r=a?t>0:t<0,o=Math.abs(t);let s=Math.floor(o/60);const i=o%60,l=r?"-":"+";n&&(s=P(s,2,!0));let d=e+l+s;return(i>0||n)&&(d+=":"+P(i,2,!0)),d}var X={__proto__:null,_ISO_DATE_REGEXP:g,isDateOnlyIsoString:function(e){return null==e||e.trim().length>0&&E.test(e.trim())},startsWith:p,trim:f,trimRightZeros:T,trimNumber:k,toUpper:I,padZeros:v,zeroPad:P,dateToLocalIso:G,isLeapYear:S,getDaysInMonth:x,IsoStrParts:R,getGetOption:O,partsToIsoString:D,isoToLocalDate:b,getISOStrFormatInfo:L,getTimeStringFromOffset:N};let A=null;class z{static parseImpl(e,t,a,n){let r=0;let o,s="",i=null;return!0===g.test(e)?(s=e,r=this._isoStrDateTimeStyle(e)):(r=this._dateTimeStyle(a),o=this._parseExact(e,t,a,n),s=o.value),i=L(s),void 0!==a.timeZone&&i.format!==h._LOCAL&&this._adjustHours(i,a),s=this._createParseISOStringFromDate(r,i,a),void 0===o?o={value:s,warning:null}:(o.value=s,o.warning=null),2===r&&(a.isoStrFormat,h._LOCAL),o}static _appendPreOrPostMatch(e,t){let a=0,n=!1;for(let r=0,o=e.length;r<o;r++){const o=e.charAt(r);switch(o){case"'":n?t.push("'"):a+=1,n=!1;break;case"\\":n&&t.push("\\"),n=!n;break;default:t.push(o),n=!1}}return a}static _validateRange(e){if(e.value<e.low||e.value>e.high){const t=e.displayValue+" is out of range.  Enter a value between "+e.displayLow+" and "+e.displayHigh+" for "+e.name,a={cause:{code:"datetimeOutOfRange",parameterMap:{value:e.displayValue,minValue:e.displayLow,maxValue:e.displayHigh,propertyName:e.name}}};throw new RangeError(t,a)}}static _throwInvalidDateFormat(e,t,a){const n=void 0!==t.year||void 0!==t.month||void 0!==t.weekday||void 0!==t.day,r=void 0!==t.hour||void 0!==t.minute||void 0!==t.second;let o="";o=n&&r?"MM/dd/yy hh:mm:ss a":n?"MM/dd/yy":"hh:mm:ss a";throw new SyntaxError("Unexpected character(s) "+a+' encountered in the pattern "'+e+' An example of a valid pattern is "'+o+'".',{cause:{code:"optionValueInvalid",parameterMap:{propertyName:"pattern",propertyValue:e}}})}static _throwWeekdayMismatch(e,a){const n="The weekday "+e+" does not match the date "+a,r={cause:{code:"dateToWeekdayMismatch",parameterMap:{weekday:e,date:a}}};throw new t.FormatParseError(n,r)}static _throwDateFormatMismatch(e,a,n){let r="",o="";2===n?(r='The value "'+e+'" does not match the expected date-time format "'+a+'"',o="datetimeFormatMismatch"):0===n?(r='The value "'+e+'" does not match the expected date format "'+a+'"',o="dateFormatMismatch"):(r='The value "'+e+'" does not match the expected time format "'+a+'"',o="timeFormatMismatch");const s={cause:{code:o,parameterMap:{value:e,format:a}}};throw new t.FormatParseError(r,s)}static _parseTimezoneOffset(e){const t=e.split(":"),a=new Array(2);return 2===t.length?(a[0]=parseInt(t[0],10),a[1]=parseInt(t[1],10)):2===e.length||3===e.length?(a[0]=parseInt(e,10),a[1]=0):(a[0]=parseInt(e.substr(0,3),10),a[1]=parseInt(e.substr(3),10)),a}static _expandYear(e,t){if((t=Number(t))<100){const a=e%100;t+=100*Math.floor(e/100)+(t<a?100:0)}return t}static _arrayIndexOfMonthOrDay(e,t,a){const n=z.toUpperTrimmedNoPeriod(t),r=Object.keys(e);for(let t=0;t<r.length;t++){const o=e[r[t]],s=z.toUpperTrimmedNoPeriod(o);if(n===s)return t;if("months"===a){const e=Number(n),a=parseInt(s);if(Number.isInteger(a)&&Number.isInteger(e)&&a===e)return t}}return-1}static toUpperTrimmedNoPeriod(e){let t=I(e);return t=f(t),t=t.replace(/\.$/,""),t}static _getDayIndex(e,t){let a=0,n=[];const r=e.days.format,o=e.days["stand-alone"];n=[r.abbreviated,r.wide,o.abbreviated,o.wide];for(let e=0;e<n.length;e++)if(a=this._arrayIndexOfMonthOrDay(n[e],t,"days"),-1!==a)return a;return a}static _getMonthIndex(e,t){let a=-1;const n=e.months.format,r=e.months["stand-alone"],o=[n.wide,n.abbreviated,r.wide,r.abbreviated];for(let e=0;e<o.length;e++)if(a=this._arrayIndexOfMonthOrDay(o[e],t,"months"),-1!==a)return a;return a}static _getParseRegExp(e,t){const a=e.replace(h._ESCAPE_REGEXP,"\\\\$1"),n=["^"],r=[];let o=0,s=0,i=h._TOKEN_REGEXP.exec(a);for(;null!==i;){const l=a.slice(o,i.index);if(o=h._TOKEN_REGEXP.lastIndex,s+=this._appendPreOrPostMatch(l,n),s%2)n.push(i[0]);else{const a=i[0];let o="";void 0!==h._PROPERTIES_MAP[a]?o=h._PROPERTIES_MAP[a].regExp:this._throwInvalidDateFormat(e,t,a),o&&n.push(o),r.push(i[0])}i=h._TOKEN_REGEXP.exec(a)}this._appendPreOrPostMatch(a.slice(o),n),n.push("$");return{regExp:n.join("").replace(/\s+/g,"\\s+"),groups:r}}static _getTokenIndex(e,t){for(let a=0;a<e.length;a++)if(void 0!==e[a][t])return a;return 0}static _parseLenienthms(e,t,a,n,r){h._TIME_REGEXP.lastIndex=0;let o,s,i=0,l=0,d=0,m=0,u=h._TIME_REGEXP.exec(t);switch(null===u&&this._throwDateFormatMismatch(t,a,n),void 0!==u[1]&&(i=parseInt(u[1],10)),void 0!==u[2]&&(l=parseInt(u[2],10)),void 0!==u[3]&&(d=parseInt(u[3],10)),void 0!==u[4]&&(m=parseInt(u[4],10)),h._TIME_FORMAT_REGEXP.lastIndex=0,u=h._TIME_FORMAT_REGEXP.exec(a),u[0]){case"h":12===i&&(i=0),s={name:"hour",value:i,low:0,high:11,displayValue:i,displayLow:1,displayHigh:12},this._validateRange(s),o=this._matchPMSymbol(r,t),o&&i<12&&(i+=12);break;case"K":s={name:"hour",value:i,low:0,high:11,displayValue:i,displayLow:0,displayHigh:11},this._validateRange(s),o=this._matchPMSymbol(r,t),o&&i<12&&(i+=12);break;case"H":s={name:"hour",value:i,low:0,high:23,displayValue:i,displayLow:0,displayHigh:23},this._validateRange(s);break;case"k":24===i&&(i=0),s={name:"hour",value:i,low:0,high:23,displayValue:i,displayLow:1,displayHigh:24}}s={name:"minute",value:l,low:0,high:59,displayValue:l,displayLow:0,displayHigh:59},this._validateRange(s),s={name:"second",value:d,low:0,high:59,displayValue:d,displayLow:0,displayHigh:59},this._validateRange(s),s={name:"farctionalSecond",value:m,low:0,high:999,displayValue:m,displayLow:0,displayHigh:999},this._validateRange(s),e.setHours(i,l,d,m)}static _getWeekdayName(e,t){const a=t.days.format,n=t.days["stand-alone"],r=[a.wide,a.abbreviated,n.wide,n.abbreviated];for(let t=0;t<r.length;t++){const a=Object.keys(r[t]);for(let n=0;n<a.length;n++){const o=r[t][a[n]];if(new RegExp(o+"\\b","i").test(e))return o}}return null}static _parseLenientyMEd(e,t,a,n,r){h._YMD_REGEXP.lastIndex=0;const o=h._YMD_REGEXP.exec(e);let s=0;null===o&&(s=r?2:0,this._throwDateFormatMismatch(e,t,s));const i=[{y:t.indexOf("y")},{M:t.indexOf("M")},{d:t.indexOf("d")}];i.sort((function(e,t){const a=Object.keys(e)[0],n=Object.keys(t)[0];return e[a]-t[n]}));let l=0,d=0,m=0,u=0,c=0,_=0;const y=this._getTokenIndex(i,"d");let g=!1,E=!1;for(_=1;_<=3;_++){const e=o[_],t=parseInt(e);(e.length>2||t>31)&&(l=t,g=!0,u=_-1)}for(g||(u=this._getTokenIndex(i,"y"),l=o[this._getTokenIndex(i,"y")+1]),_=0;_<3;_++)if(_!==u&&o[_+1]>12){m=o[_+1],E=!0,c=_;break}if(E){for(_=0;_<3;_++)if(_!==c&&_!==u){d=o[_+1];break}void 0===d&&(d=o[this._getTokenIndex(i,"M")+1])}else u===this._getTokenIndex(i,"d")?(m=o[this._getTokenIndex(i,"y")+1],d=o[this._getTokenIndex(i,"M")+1]):u===this._getTokenIndex(i,"M")?(m=o[this._getTokenIndex(i,"d")+1],d=o[this._getTokenIndex(i,"y")+1]):(m=o[this._getTokenIndex(i,"d")+1],d=o[this._getTokenIndex(i,"M")+1]);d-=1;const p=x(l,d);let f;E&&y!==c&&d>12&&(f={name:"month",value:m,low:0,high:11,displayValue:m,displayLow:1,displayHigh:12},this._validateRange(f)),f={name:"month",value:d,low:0,high:11,displayValue:d+1,displayLow:1,displayHigh:12},this._validateRange(f),f={name:"day",value:m,low:1,high:p,displayValue:m,displayLow:1,displayHigh:p},this._validateRange(f);const T=a.twoDigitYearStart||1950;l=this._expandYear(T,l),f={name:"year",value:l,low:0,high:9999,displayValue:l,displayLow:0,displayHigh:9999},this._validateRange(f);const k=new Date(l,d,m),I=this._getWeekdayName(e,n);if(null!==I){const e=this._getDayIndex(n,I);k.getDay()!==e&&this._throwWeekdayMismatch(I,k.getDate())}if(r){const a=e.substr(h._YMD_REGEXP.lastIndex);0===a.length?k.setHours(0,0,0,0):this._parseLenienthms(k,a,t,2,n)}return{value:G(k),warning:"lenient parsing was used"}}static _parseLenientyMMMEd(e,t,a,n,r){const o=e;e=I(e);const s=n.months.format,i=n.months["stand-alone"],l=[s.wide,s.abbreviated,i.wide,i.abbreviated];let d=!1,m=[],u=0,c="";for(u=0;u<l.length;u++){m=[];const t=Object.keys(l[u]);let a=0;for(a=0;a<t.length;a++)c=I(l[u][t[a]]),m.unshift({idx:a,name:c});for(m.sort((function(e,t){return t.idx-e.idx})),a=0;a<m.length;a++)if(c=m[a].name,-1!==e.indexOf(c)){d=!0,e=e.replace(c,"");break}if(d)break}if(!d)return this._parseLenientyMEd(o,t,a,n,r);const _=this._getMonthIndex(n,c);let y={name:"month",value:_,low:0,high:11,displayValue:_,displayLow:1,displayHigh:12};this._validateRange(y);const g=this._getWeekdayName(o,n),E=new RegExp(g+"\\W","i");null!==g&&(e=e.replace(E,"")),h._YEAR_AND_DATE_REGEXP.lastIndex=0;const p=h._YEAR_AND_DATE_REGEXP.exec(e);if(null===p){const e=r?2:0;this._throwDateFormatMismatch(o,t,e)}const f=[{y:t.indexOf("y")},{d:t.indexOf("d")}];f.sort((function(e,t){const a=Object.keys(e)[0],n=Object.keys(t)[0];return e[a]-t[n]}));let T=0,k=0,v=0,P=!1;for(u=1;u<=2;u++){const e=p[u],t=parseInt(e);(e.length>2||t>31)&&(T=t,P=!0,v=u-1)}P||(v=this._getTokenIndex(f,"y"),T=parseInt(p[this._getTokenIndex(f,"y")+1],10)),k=v===this._getTokenIndex(f,"d")?parseInt(p[this._getTokenIndex(f,"y")+1],10):parseInt(p[this._getTokenIndex(f,"d")+1],10);const w=a.twoDigitYearStart||1950;T=this._expandYear(w,T),y={name:"year",value:T,low:0,high:9999,displayValue:T,displayLow:0,displayHigh:9999},this._validateRange(y);const M=new Date(T,_,k);if(null!==g){const e=this._getDayIndex(n,g);M.getDay()!==e&&this._throwWeekdayMismatch(g,M.getDate())}const S=x(T,_);if(y={name:"day",value:k,low:1,high:S,displayValue:k,displayLow:1,displayHigh:S},this._validateRange(y),r){const a=e.substr(h._YEAR_AND_DATE_REGEXP.lastIndex);0===a.length?M.setHours(0,0,0,0):this._parseLenienthms(M,a,t,2,n)}return{value:G(M),warning:"lenient parsing was used"}}static _parseLenient(e,t,a,n){let r;switch(this._dateTimeStyle(a)){case 0:r=this._parseLenientyMMMEd(e,t,a,n,!1);break;case 1:const o=new Date;this._parseLenienthms(o,e,t,1,n);r={value:G(o),warning:"lenient parsing was used"};break;case 2:r=this._parseLenientyMMMEd(e,t,a,n,!0);break;default:r={value:"",warning:"lenient parsing was used"}}const o=R(r.value),s=[o[0],o[1],o[2]],i=r.value.split("T");return r.value=v(s[0],4)+"-"+v(s[1],2)+"-"+v(s[2],2)+"T"+i[1],r}static _getNameIndex(e,t,a,n,r,o,s,i,l,d,m){let h=0;const u=e[t][r];h="months"===t?this._getMonthIndex(e,a):this._getDayIndex(e,a);const c=u[n][l],_=u[n][d],y={name:m,value:h,low:s,high:i,displayValue:parseInt(a),displayLow:c,displayHigh:_};return this._validateRange(y),h}static _validateTimePart(e,t,a,n){const r=t;r[a.timePart]=e,"h"===n||"hh"===n?12===e&&(r[a.timePart]=0):"k"===n||"kk"===n?(r.htoken=n,24===e&&(r[a.timePart]=0)):"K"!==n&&"KK"!==n||12===e&&(r[a.timePart]=0);const o={name:a.timePart,value:r[a.timePart],low:a.start1,high:a.end1,displayValue:e,displayLow:a.start2,displayHigh:a.end2};this._validateRange(o)}static _dateTimeStyle(e){const t=void 0!==e.hour||void 0!==e.minute||void 0!==e.second||void 0!==e.fractionalSecondDigits,a=void 0!==e.year||void 0!==e.month||void 0!==e.day||void 0!==e.weekday;return a&&t?2:t?1:a?0:void 0!==e.dateStyle&&void 0!==e.timeStyle?2:void 0!==e.timeStyle?1:0}static _matchPMSymbol(e,t){const a=e.locale;let n=!1,r=0;if(h._zh_tw_locales.includes(a)){const e=h._zh_tw_pm_symbols;for(r=0;r<e.length;r++){const a=e[r];if(-1!==t.indexOf(a))return!0}}else{const a=e.dayPeriods.format.wide.pm;n=-1!==I(t).indexOf(I(a))}return n}static _parseExact(e,t,a,n){const r=n.eras.eraAbbr[1],o=k(r);e=e.replace(r,o);const s=O(a,"NativeDateTimeConverter.parse")("lenientParse","string",["none","full"],"full"),i=this._dateTimeStyle(a),l=this._getParseRegExp(t,a),d=new RegExp(l.regExp).exec(e);if(null===d){if("full"===s)return this._parseLenient(e,t,a,n);this._throwDateFormatMismatch(e,t,i)}const m=l.groups;let u,c,_=null,y=null,g=null,E=null,p="",f=null,T="";const I={hour:0,minute:0,second:0,millisec:0,htoken:""},v=a.twoDigitYearStart||1950;for(let r=0,o=m.length;r<o;r++){const o=d[r+1];if(o){const i=m[r],l=parseInt(o,10),d=h._PROPERTIES_MAP[i];switch(d.token){case"months":y=this._getNameIndex(n,d.token,o,d.mLen,d.style,d.matchIndex,0,11,"1","12","month name");break;case"days":T=o,E=this._getNameIndex(n,d.token,o,d.dLen,d.style,d.matchIndex,0,6,"sun","sat","weekday");break;case"time":this._validateTimePart(l,I,d,i);break;case"dayOfMonth":g=l;break;case"monthIndex":if(y=l-1,y>11&&"full"===s)try{return this._parseLenient(e,t,a,n)}catch(e){c={name:"month",value:y,low:0,high:11,displayValue:y+1,displayLow:1,displayHigh:12},this._validateRange(c)}break;case"year":_=this._expandYear(v,l);break;case"ampm":u=this._matchPMSymbol(n,o);break;case"tzhm":p=o.substr(-2),p=o.substr(0,3)+":"+p;break;case"tzhsepm":p=o;break;case"tzh":p=o+":00";break;case"tzid":f=o}}}const P=new Date;null===_&&(_=P.getFullYear()),null===y&&null===g?(y=P.getMonth(),g=P.getDate()):null===g&&(g=1),P.setFullYear(_,y,g);const w=x(_,y);c={name:"day",value:g,low:1,high:w,displayValue:g,displayLow:1,displayHigh:w},this._validateRange(c),1==u&&I.hour<12&&(I.hour+=12),0!=u||12!=I.hour||"k"!=I.htoken&&"kk"!=I.htoken||(I.hour=0);const M=[_,y+1,g];M[3]=I.hour,M[4]=I.minute,M[5]=I.second,M[6]=I.millisec;let G=D(M);if(null!==f){p=N("",this._getTimeZoneOffset(M,f),!1,!0)}""!==p&&(G+=p),c={name:"year",value:_,low:0,high:9999,displayValue:_,displayLow:0,displayHigh:9999},this._validateRange(c),c={name:"month",value:y,low:0,high:11,displayValue:y+1,displayLow:1,displayHigh:12},this._validateRange(c);const S=x(M[0],M[1]-1);if(c={name:"day",value:M[2],low:1,high:S,displayValue:M[2],displayLow:1,displayHigh:S},this._validateRange(c),null!==E){const e=b(G);e&&e.getDay()!==E&&this._throwWeekdayMismatch(T,e.getDate())}return{value:G}}static _isoStrDateTimeStyle(e){const t=e.indexOf("T");return-1===t?0:t>0?2:1}static _getTimeZoneOffset(e,t){if(this.getLocalSystemTimeZone()===t){return-new Date(e[0],e[1]-1,e[2],e[3],e[4],e[5]).getTimezoneOffset()}return l({year:e[0],month:e[1],date:e[2],hours:e[3],minutes:e[4]},t)}static _getAdjustedOffset(e,t){const a=t.isoStrParts;return this._getTimeZoneOffset(a,e)}static _adjustHours(e,t){const a=e.isoStrParts;let n=0;switch(e.format){case h._OFFSET:const t=this._parseTimezoneOffset(e.timeZone),a=t[0],r=t[1];n=60*a+(a<0?-r:r);break;case h._ZULU:n=0}let r=this._getAdjustedOffset(t.timeZone,e);r-=n;const o=new Date(a[0],a[1]-1,a[2],a[3],a[4],a[4]);o.setHours(a[3]+(r/60<<0),r%60);const s=L(G(o));r=this._getAdjustedOffset(t.timeZone,s),r-=n;const i=new Date(Date.UTC(a[0],a[1]-1,a[2],a[3],a[4],a[5])),l=i.getUTCMinutes()+r;i.setUTCHours(i.getUTCHours()+(l/60<<0),l%60),a[0]=i.getUTCFullYear(),a[1]=i.getUTCMonth()+1,a[2]=i.getUTCDate(),a[3]=i.getUTCHours(),a[4]=i.getUTCMinutes(),a[5]=i.getUTCSeconds()}static _createISOStrParts(e,t){let a=0,n="";switch(e){case 0:n=v(t[0],4)+"-"+v(t[1],2)+"-"+v(t[2],2);break;case 1:n="T"+v(t[3],2)+":"+v(t[4],2)+":"+v(t[5],2),a=t[6],a>0&&(n+="."+T(a));break;default:n=v(t[0],4)+"-"+v(t[1],2)+"-"+v(t[2],2)+"T"+v(t[3],2)+":"+v(t[4],2)+":"+v(t[5],2),a=t[6],a>0&&(n+="."+T(a))}return n}static _getParseISOStringOffset(e,t){return N("",this._getTimeZoneOffset(t,e),!1,!0)}static _createParseISOStringFromDate(e,t,a){const n=O(a,"NativeDateTimeConverter.parse")("isoStrFormat","string",[h._ZULU,h._OFFSET,h._INVARIANT,h._LOCAL,h._AUTO],h._AUTO),r=t.isoStrParts,o=a.timeZone;let s=this._createISOStrParts(e,r);if(0===e)return s;switch(n){case h._OFFSET:case h._AUTO:s+=this._getParseISOStringOffset(o,r);break;case h._LOCAL:2===e&&(s+=this._getParseISOStringOffset(o,r));break;case h._ZULU:let t=0;if(t=-this._getTimeZoneOffset(r,o),0!==t){const a=new Date(Date.UTC(r[0],r[1]-1,r[2],r[3],r[4],r[5],r[6]));t=a.getUTCMinutes()+t,a.setUTCHours(a.getUTCHours()+(t/60<<0),t%60),r[0]=a.getUTCFullYear(),r[1]=a.getUTCMonth()+1,r[2]=a.getUTCDate(),r[3]=a.getUTCHours(),r[4]=a.getUTCMinutes(),r[5]=a.getUTCSeconds(),s=this._createISOStrParts(e,r)}s+="Z"}return s}static getTimeZoneCurrentDate(e){const t={year:"numeric",day:"2-digit",month:"2-digit"};e&&(t.timeZone=e);const a=Intl.DateTimeFormat("en-US",t).format(new Date).split("/");return a[2]+"-"+a[0]+"-"+a[1]}static getTimeZoneCurrentOffset(e){const t=L(G(new Date));return this._getAdjustedOffset(e,t)}static getLocalSystemTimeZone(){if(!A){const e=new Intl.DateTimeFormat("en-US");A=e.resolvedOptions().timeZone}return A}}const F=e=>new Intl.DateTimeFormat(e.locale,e),H=(e,t)=>{const a=e.resolvedOptions(),n=t.isoStrFormat??"auto",r=t.twoDigitYearStart??1950,o=t.lenientParse??"full",s=Y(e,a);return{...a,isoStrFormat:n,twoDigitYearStart:r,lenientParse:o,patternFromOptions:s}},U=(e,t)=>{let a=null;return"short"===e.dateStyle&&e.dateStyleShortYear&&(a=new Intl.DateTimeFormat(e.locale,{year:e.dateStyleShortYear,numberingSystem:t.numberingSystem,calendar:t.calendar})),a},Z=(e,t,a)=>{const n=t.formatToParts(a),r=n.find((e=>"year"===e.type))?.value;return e.formatToParts(a).reduce(((e,t)=>"year"===t.type?e+(r??t.value):e+t.value),"")},C=(e,t,a,n)=>{const r=W(a,n),o=new Date(r);return t?Z(e,t,o):e.format(o)},V=(e,n,r,o)=>{if(null==o||""===o)throw new t.FormatParseError("The parse value cannot be empty.",{cause:{code:"emptyParseValue"}});const i=s.getCalendar(e,r.calendar),l=Y(n,r),d=z.parseImpl(o,l,r,i),m=d.value;return m&&d.warning&&a.Logger.warn("The value "+o+" was leniently parsed to represent a date "+m),m},W=(e,a)=>{if(null==a||""===a)throw new t.FormatParseError("The format value cannot be empty.",{cause:{code:"emptyFormatValue"}});if(a.startsWith("T")){let t="";t=e?z.getTimeZoneCurrentDate(e):G(new Date).split("T")[0],a=t+a}else-1===a.indexOf("T")&&(a+="T00:00:00");if(!g.exec(a)){throw new t.FormatParseError("The format value must be a valid iso string.",{cause:{code:"invalidISOString",parameterMap:{isoStr:a}}})}if(e){let t=!1;z.getLocalSystemTimeZone()===e&&(t=!0);const n=a.substring(a.indexOf("T"));if(-1===n.indexOf("Z")&&-1===n.indexOf("+")&&-1===n.indexOf("-")&&!t){const t=R(a);a+=N("",l({year:t[0],month:t[1],date:t[2],hours:t[3],minutes:t[4]},e),!1,!0)}}return a=a.replace(/(T.*?[+-]..$)/,"$1:00")},Y=(e,t)=>{const a=new Date("2000-01-02T00:00:00");let n="",r="",o=null,s=null,i=null,l=!1,d=!1;void 0!==t.dateStyle&&(s=h._dateTimeFormats.dateStyle,s=s[t.dateStyle],l=!0),void 0!==t.timeStyle&&(i=h._dateTimeFormats.timeStyle,i=i[t.timeStyle],d=!0);const m=h._tokenMap;return e.formatToParts(a).map((({type:e,value:a})=>{switch(e){case"literal":o=a.replace(h._ALPHA_REGEXP,"'$1'");break;case"dayPeriod":o="a";break;case"hour":d?o=i[e]:(r=t[e],o=m[e][r]);let n=t.hour12;void 0===n&&(n=!1),t.hourCycle&&(o=o.replace(h._HOUR12_REGEXP,h._hourCycleMap[t.hourCycle])),!0===n&&(o=o.replace(h._HOUR12_REGEXP,"h"));break;case"month":l?o=isNaN(+a)?s.month_m:s.month_s:(r=t[e],o=m[e][r]);break;case"year":case"day":case"weekday":l?o=s[e]:(r=t[e],o=m[e][r]);break;case"minute":case"second":case"timeZoneName":d?o=i[e]:(r=t[e],o=m[e][r]);break;case"era":r=t[e]||"short",o=m[e][r];break;case"fractionalSecond":o=t.fractionalSecondDigits,o=m[e][o]}n+=o})),n};var j=r._arity_1,K=n._isPlaceholder_1;var $=function e(t,a,n){return function(){for(var r=[],o=0,s=t,i=0;i<a.length||o<arguments.length;){var l;i<a.length&&(!K(a[i])||o>=arguments.length)?l=a[i]:(l=arguments[o],o+=1),r[i]=l,K(l)||(s-=1),i+=1}return s<=0?n.apply(this,r):j(s,e(t,r,n))}},J=r._arity_1,q=n._curry1_1,B=o._curry2_1,Q=$,ee=B((function(e,t){return 1===e?q(t):J(e,Q(e,[],t))}));e.CalendarUtils=s,e.DateTimeUtils=X,e.NativeDateTimeConstants=h,e.NativeParserImpl=z,e.formatWithYearFormat=Z,e.getFormatParse=function(e){const t=F(e),a=H(t,e),n=U(e,a);return{format:ee(4,C)(t,n,a.timeZone),parse:ee(4,V)(e.locale,t,a),resolvedOptions:a,formatter:t}},e.getISODateOffset=l,e.normalizeIsoString=W,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=UNSAFE_IntlDateTime.js.map
;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojcalendarutils',["exports","@oracle/oraclejet-preact/UNSAFE_IntlDateTime"],function(e,t){"use strict";Object.defineProperty(e,"CalendarUtils",{enumerable:!0,get:function(){return t.CalendarUtils}}),Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojcalendarutils.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojlocaledata',["exports","ojs/ojcore-base","ojs/ojconfig","ojL10n!ojtranslations/nls/localeElements","ojs/ojcalendarutils"],function(e,t,n,a,r){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var o=a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a;const l={};t._registerLegacyNamespaceProp("LocaleData",l),l.setBundle=function(e){l._bundle=e},l.getFirstDayOfWeek=function(){return l._getWeekData("firstDay")},l.getWeekendStart=function(){return l._getWeekData("weekendStart")},l.getWeekendEnd=function(){return l._getWeekData("weekendEnd")},l.getDayNames=function(e){(null==e||"abbreviated"!==e&&"narrow"!==e)&&(e="wide");var t=l._getCalendarData().days["stand-alone"][e];return[t.sun,t.mon,t.tue,t.wed,t.thu,t.fri,t.sat]},l.getMonthNames=function(e){(null==e||"abbreviated"!==e&&"narrow"!==e)&&(e="wide");var t=l._getCalendarData().months["stand-alone"][e];return[t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12]]},l.isMonthPriorToYear=function(){var e=n.getLocale(),t=new Date,a=new Intl.DateTimeFormat(e,{dateStyle:"long"}).formatToParts(t);return a.findIndex(e=>"month"===e.type)<a.findIndex(e=>"year"===e.type)},l._getWeekData=function(e){var t=l.__getBundle(),n=l._getRegion()||"001",a=t.supplemental.weekData[e],r=a[n];return void 0===r&&(r=a["001"]),r},l._getCalendarData=function(){var e=n.getLocale();return r.CalendarUtils.getCalendar(e,"gregory")},l._getRegion=function(){var e=n.getLocale();if(e){var t=e.toUpperCase().split(/-|_/);if(t.length>=2){var a=t[1];if(4!==a.length)return a;if(t.length>=3)return t[2]}}return l.__getBundle().supplemental.defaultRegion[e]},l.__getBundle=function(){var e=l._bundle;return e||o},l.__updateBundle=function(e){o=e};const d=l.getDayNames,u=l.getFirstDayOfWeek,i=l.getMonthNames,g=l.getWeekendEnd,s=l.getWeekendStart,f=l.isMonthPriorToYear,c=l.setBundle,_=l.__getBundle,p=l._getCalendarData;e.__getBundle=_,e._getCalendarData=p,e.getDayNames=d,e.getFirstDayOfWeek=u,e.getMonthNames=i,e.getWeekendEnd=g,e.getWeekendStart=s,e.isMonthPriorToYear=f,e.setBundle=c,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojlocaledata.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojconverter',["ojs/ojcore-base","jquery"],function(t,e){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;const o=function(t){this.Init(t)};return t.Object.createSubclass(o,t.Object,"oj.Converter"),o.prototype.Init=function(t){o.superclass.Init.call(this),this._options=t},o.prototype.getOptions=function(){return this._options||{}},o.prototype.resolvedOptions=function(){var t={};return e.extend(t,this._options),t},o});
//# sourceMappingURL=ojconverter.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojconverter-preferences',["exports","ojs/ojlogger","ojs/ojthemeutils","@oracle/oraclejet-preact/UNSAFE_IntlDateTime"],function(e,t,r,s){"use strict";let o={};const n=()=>(c(),o),a=e=>{const r=e.timeStyle?.short?.pattern,s=e.dateStyle?.short?.pattern;return r&&!s||s&&!r?(t.error("timeStyle.short.pattern and dateStyle.short.pattern must be set together."),!1):!l(e)||(t.error("setDateTimePreferences options must not be empty."),!1)},c=()=>{Object.isFrozen(o)||(l(o.dateStyle)&&l(o.timeStyle)&&(o.dateStyle=i()),Object.freeze(o))},i=()=>{const e=r.parseJSONFromFontFamily("oj-inputdatetime-option-defaults")||{};let t;return t="numeric"===e.converterYear||"2-digit"===e.converterYear?e.converterYear:"numeric",{short:{year:t}}},l=e=>!e||0===Object.keys(e).length;let y={};const m=()=>y,u=e=>{const r=e.style?.currency,s=e.style?.decimal;let o=!0;return r&&!d(r.separators)&&(t.error("style.currency.separators group and decimal must be set together."),o=!1),s&&!d(s.separators)&&(t.error("style.decimal.separators group and decimal must be set together."),o=!1),(p(e)||p(r)&&p(s))&&(t.error("setNumberPreferences options must not be empty."),o=!1),o},d=e=>!!e&&!(!e.decimal||!e.group),p=e=>!e||0===Object.keys(e).length,h=(e,t)=>{let r={};const s={separators:e};return Object.assign(r,s,t),r},b=e=>!e||0===Object.keys(e).length,g=(e,t)=>{if(!t||0===Object.keys(t).length)return f(e);if("short"!==t.dateStyle&&"short"!==t.timeStyle)return;let r,s;"short"===t.dateStyle&&e.dateStyle?.short?.pattern&&(r=j(e.dateStyle)),"short"===t.timeStyle&&(s=j(e.timeStyle));const o=S(r,s);return o?{pattern:o}:void 0},f=e=>{const t=j(e.dateStyle);return t?{pattern:t}:void 0},j=e=>e?.short?.pattern,S=(e,t)=>e&&t?`${e} ${t}`:t||e||void 0;e.formatWithYearFormat=(e,t,r)=>s.formatWithYearFormat(e,t,r),e.getDateTimePreferences=n,e.getMergedDateTimePreferencesWithOptions=e=>{const t=n();if(!t||0===Object.keys(t).length)return e;const r=g(t,e),s=t?.dateStyle?.short?.year,o=void 0===r&&s?{dateStyleShortYear:s}:void 0,a=t.timeZone,c=a?{timeZone:a}:{};let i={};return Object.assign(i,r??o,c,e),i},e.getMergedNumberPreferencesWithOptions=e=>{const t=m();if(!t||0===Object.keys(t).length)return e;if(!b(e?.separators))return e;const r=t.style?.currency?.separators,s=t.style?.decimal?.separators,o=!b(r),n=!b(s);return o||n?void 0!==e?.style&&"decimal"!==e.style||!n?"currency"===e?.style&&o?h(r,e):e:h(s,e):e},e.getNumberPreferences=m,e.setDateTimePreferences=e=>{Object.isFrozen(o)||a(e)&&(o=e,c())},e.setNumberPreferences=e=>{Object.isFrozen(y)||u(e)&&(y=e,Object.freeze(y))},Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojconverter-preferences.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojconverter-number',["exports","ojs/ojlogger","ojs/ojconverterutils-i18n","ojs/ojlocaledata","ojs/ojconverter","ojs/ojtranslation","ojs/ojconfig","ojs/ojcore-base","ojs/ojvalidation-error","ojs/ojconverter-preferences"],function(e,r,t,n,i,a,o,s,u,l){"use strict";i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i,s=s&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s;const c=function(){var e,n=/^[+-]?infinity$/i,i=/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,a=/([^+-.0-9]*)([+-]?\d*\.?\d*(E[+-]?\d+)?).*$/,o=/([\^$.*+?|\[\](){}])/g,s=/(^0\.0*)([^0].*$)/,u=/^0+$/,l={trillion:[1e14,1e13,1e12],billion:[1e11,1e10,1e9],million:[1e8,1e7,1e6],thousand:[1e5,1e4,1e3]},c={trillion:1e12,billion:1e9,million:1e6,thousand:1e3},m={HALF_UP:"ceil",CEILING:"ceil",UP:"ceil",HALF_DOWN:"floor",FLOOR:"floor",DOWN:"floor",DEFAULT:"round"},p=1024,g=1048576,v=1073741824,f=1099511627776;function d(e,r,t){var n;for(n=e.length;n<r;n+=1)e=t?"0"+e:e+"0";return e}function y(e,r,t,n,i){var a=e[r];return void 0!==a?(a=Number(a),(isNaN(a)||a<t||a>n)&&function(e,r,t,n){var i=new RangeError(e+" is out of range.  Enter a value between "+r+" and "+t+" for "+n),a={errorCode:"numberOptionOutOfRange",parameterMap:{value:e,minValue:r,maxValue:t,propertyName:n}};throw i.errorInfo=a,i}(a,t,n,r),Math.floor(a)):i}function h(e){var r=e||"en-US",t=r.indexOf("-u-nu-"),n="latn";return-1!==t&&(n=r.substr(t+6,4)),n}function b(e,n,i,a){var o,s=n,u=t.OraI18nUtils.getLocaleElementsMainNode(e),l=function(e,r){if(void 0===r)return"latn";var t=h(r),n="symbols-numberSystem-"+t;return void 0===e.numbers[n]&&(t="latn"),t}(u,a);s.numberingSystemKey=l,s.numberingSystem="symbols-numberSystem-"+l;var c=i.lenientParse;if(s.lenientParse=c||"full",s.style=i.style,void 0!==i.pattern&&i.pattern.length>0)o=i.pattern;else{var m;switch(s.style){case"decimal":default:m="decimalFormats-numberSystem-";break;case"currency":m="currencyFormats-numberSystem-";break;case"percent":m="percentFormats-numberSystem-"}m+=s.numberingSystemKey,o=u.numbers[m].standard}var p=i.decimalFormat;void 0===p&&(p=i.currencyFormat),void 0===p||"decimal"!==s.style&&"currency"!==s.style||(s.shortDecimalFormat=u.numbers["decimalFormats-numberSystem-latn"][p].decimalFormat);var g=u.numbers[s.numberingSystem].decimal,v=u.numbers[s.numberingSystem].group,f=i.separators;if(void 0!==f){s.separators=f;var d=f.decimal,b=f.group;void 0!==d&&""!==d&&(g=f.decimal),void 0!==b&&(v=f.group)}var S=t.OraI18nUtils.getLocaleElementsMainNodeKey(e),x=S.split("-")[0];if(s.lang=x,s.pat=o,s.minusSign=u.numbers[s.numberingSystem].minusSign,s.decimalSeparator=g,s.exponential=u.numbers[s.numberingSystem].exponential,s.groupingSeparator=v,s.currencyDisplay=i.currencyDisplay,void 0!==i.currency&&(s.currencyCode=i.currency.toUpperCase()),void 0!==i.unit&&(s.unit=i.unit.toLowerCase()),function(e,r,t,n){for(var i,a=n,o=!1,s=!1,u=0,l=0,c=!0,m=1;m>=0&&l<r.length;--m){var p=!1,g="",v="",f=-1,d=1,y=0,h=0,b=0,S=-1,x=-1,D=0;c=!0;for(var O=l;O<r.length;++O){var I=r.charAt(O);switch(D){case 0:case 2:if(p){if(I===W){O+1<r.length&&r.charAt(O+1)===W?(O+=1,c?g=g.concat("''"):v=v.concat("''")):p=!1;continue}}else{if(I===$||I===_||I===C||I===L){D=1,O-=1;continue}if(I===k){void 0===e.currency&&F("style"),a.style="currency";var N=O+1<r.length&&r.charAt(O+1)===k;N&&(O+=1),c?g=g.concat(N?"'¤¤":"'¤"):v=v.concat(N?"'¤¤":"'¤");continue}if(I===W){if(I===W){O+1<r.length&&r.charAt(O+1)===W?(O+=1,c?g=g.concat("''"):v=v.concat("''")):p=!0;continue}}else{if(I===R){0!==D&&0!==m||q(r),l=O+1,O=r.length;continue}if(I===A){a.style="percent",1!==d&&q(r),a.isPercent=!0,d=100,c?g=g.concat("'%"):v=v.concat("'%");continue}if(I===T){1!==d&&q(r),a.style="perMill",a.isPerMill=!0,d=1e3,c?g=g.concat("'‰"):v=v.concat("'‰");continue}if(I===H){c?g=g.concat("'-"):v=v.concat("'-");continue}}}c?g=g.concat(I):v=v.concat(I);break;case 1:if(1!==m){0===(u-=1)&&(D=2,c=!1);continue}if(u+=1,I===$)h>0?b+=1:y+=1,S>=0&&f<0&&(S+=1);else if(I===_)b>0&&q(r),h+=1,S>=0&&f<0&&(S+=1);else if(I===C)x=S,S=0;else{if(I!==L){if(z(r,O,V)){for(s&&q(r),s=!0,i=0,O+=V.length;O<r.length&&r.charAt(O)===_;)i+=1,u+=1,O+=1;(y+h<1||i<1)&&q(r),D=2,c=!1,O-=1;continue}D=2,c=!1,O-=1,u-=1;continue}f>=0&&q(r),f=y+h+b}}}if(0===h&&y>0&&f>=0){var U=f;0===U&&(U+=1),b=y-U,y=U-1,h=1}if((f<0&&b>0||f>=0&&(f<y||f>y+h)||0===S||p)&&q(r),1===m){P=E=g,j=w=v;var M=y+h+b,Z=f>=0?f:M;a.minimumIntegerDigits=Z-y,a.maximumIntegerDigits=s?y+a.minimumIntegerDigits:G,a.maximumFractionDigits=f>=0?M-f:0,a.minimumFractionDigits=f>=0?y+h-f:0,a.groupingSize=S>0?S:0,a.groupingSize0=x}else P=g,j=v,o=!0}0===r.length&&(E="",w="",a.minimumIntegerDigits=0,a.maximumIntegerDigits=G,a.minimumFractionDigits=0,a.maximumFractionDigits=K);a.useExponentialNotation=s,a.minExponentDigits=i,(!o||0===P.localeCompare(E)&&0===j.localeCompare(w))&&("currency"===a.style&&"ar"===a.lang?(j=w+"'‏-",P=E):(j=w,P="'-"+E));!function(e,r){var t=r,n={};null!==E&&(t.positivePrefix=B(E,e,t,n));null!==w&&(t.positiveSuffix=B(w,e,t,n));null!==P&&(t.negativePrefix=B(P,e,t,n));null!==j&&(t.negativeSuffix=B(j,e,t,n));void 0!==n.name&&(t.positiveSuffix=" "+n.name,t.positivePrefix="","ar"===t.lang?(t.negativeSuffix=e.numbers[t.numberingSystem].minusSign+" "+n.name,t.negativePrefix=""):(t.negativeSuffix=" "+n.name,t.negativePrefix=e.numbers[t.numberingSystem].minusSign))}(t,a)}(i,o,u,s),void 0===i.pattern&&(s.minimumIntegerDigits=y(i,"minimumIntegerDigits",1,21,s.minimumIntegerDigits),void 0!==i.maximumFractionDigits&&(s.maximumFractionDigits=y(i,"maximumFractionDigits",0,20,s.maximumFractionDigits),s.maximumFractionDigits<s.minimumFractionDigits&&(s.minimumFractionDigits=s.maximumFractionDigits)),void 0!==i.minimumFractionDigits&&(s.minimumFractionDigits=y(i,"minimumFractionDigits",0,20,s.minimumFractionDigits)),s.maximumFractionDigits<s.minimumFractionDigits&&(s.maximumFractionDigits=s.minimumFractionDigits,r.info("maximumFractionDigits is less than minimumFractionDigits, so maximumFractionDigits will be set to minimumFractionDigits")),"currency"===s.style&&void 0===i.minimumFractionDigits&&(void 0===p||"standard"===p))){var D=e.supplemental.currencyData.fractions[i.currency];if(void 0!==D){var O=parseInt(D._digits,10);s.minimumFractionDigits=O,s.maximumFractionDigits=O}}}function F(e){var r=new TypeError('The property "currency" is required when the property "'+e+'" is "currency". An accepted value is a three-letter ISO 4217 currency code.'),t={errorCode:"optionTypesMismatch",parameterMap:{propertyName:e,propertyValue:"currency",requiredPropertyName:"currency",requiredPropertyValueValid:"a three-letter ISO 4217 currency code"}};throw r.errorInfo=t,r}function S(e,r){var n=t.OraI18nUtils.getGetOption(e,r),i=n("style","string",["currency","decimal","percent","unit","perMill"],"decimal");if("decimal"===i||"currency"===i){var a="decimal"===i?"decimalFormat":"currencyFormat";i=n(a,"string",["standard","short","long"]),"OraNumberConverter.parse"===r&&void 0!==i&&"standard"!==i&&function(e){var r=new Error("long and short "+e+" are not supported for parsing"),t={errorCode:"unsupportedParseFormat",parameterMap:{shortFormats:e}};throw r.errorInfo=t,r}(a)}var o=n("currency","string");"currency"===i&&void 0===o&&F("style"),o=n("unit","string"),"unit"===i&&void 0===o&&function(e){var r=new TypeError('The property "unit" is required when the property "'+e+'" is "unit". An accepted value is "byte" or "bit".'),t={errorCode:"optionTypesMismatch",parameterMap:{propertyName:e,propertyValue:"unit",requiredPropertyName:"unit",requiredPropertyValueValid:"byte or bit"}};throw r.errorInfo=t,r}("style"),i=n("roundingMode","string",["UP","DOWN","FLOOR","CEILING","HALF_UP","HALF_DOWN","HALF_EVEN"])}function x(e,r,n){var i=n.groupingSize,a=n.groupingSize0,o=n.decimalSeparator,s=e+"",l=s.split(/e/i),c=l.length>1?parseInt(l[1],10):0,m=(l=(s=l[0]).split(".")).length>1?l[1]:"",p=Math.min(n.maximumFractionDigits,m.length-c);l.length>1&&m.length>c&&(e=D(e,p,r.roundingMode||"DEFAULT"));c=(l=(s=Math.abs(e)+"").split(/e/i)).length>1?parseInt(l[1],10):0,l=(s=l[0]).split("."),s=l[0],m=l.length>1?l[1]:"",c>0?(s+=(m=d(m,c,!1)).slice(0,c),m=m.substr(c)):c<0&&(m=(s=d(s,(c=-c)+1,!0)).slice(-c,s.length)+m,s=s.slice(0,-c)),p>0&&m.length>0?(m=m.length>p?m.slice(0,p):d(m,p,!1),!0===u.test(m)&&(m=m.slice(0,n.minimumFractionDigits)),m=o+m):m=n.minimumFractionDigits>0?o:"",m=d(m=t.OraI18nUtils.trimRightZeros(m),o.length+n.minimumFractionDigits,!1);var g=n.groupingSeparator,v="";!1===r.useGrouping&&void 0===r.pattern&&(g="");var f=(s=d(s,n.minimumIntegerDigits,!0)).length-1;for(m=m.length>1?m:"";f>=0;){if(0===i||i>f)return s.slice(0,f+1)+(v.length?g+v+m:m);v=s.slice(f-i+1,f+1)+(v.length?g+v:""),f-=i,a>0&&(i=a)}return s.slice(0,f+1)+g+v+m}function D(e,r,t){var n,i=t,a=function(e){var r=e.toString(),t=!1;"-"===(r=r.replace("E","e")).charAt(0)&&(t=!0,r=r.substring(1));var n=r.split("e"),i=n[0],a=Number(n[1]);if(a>0)if((r=i.substr(0,1)+i.substr(2)).length-1<a)for(var o=a+1-r.length;o>0;)r+="0",o-=1;else r.length-1>a&&(r=r.substr(0,a+1)+"."+r.substr(a+1));else if(a<0){var s=i.substr(0,1)+i.substr(2);r="0.";for(var u=a;u<-1;u++)r+="0";r+=s}return t&&(r="-"+r),r}(e);if(void 0===(a=a.split("."))[1])return Math.abs(e);if("DEFAULT"!==t){if("HALF_UP"===t||"HALF_EVEN"===t||"HALF_DOWN"===t){if("5"===a[1][r]){var o=a[1].substr(r);(o=parseInt(o,10))>5&&(i="HALF_UP")}else i="DEFAULT";e=Math.abs(e)}i=function(e,r,t,n){var i=m[r];if("HALF_EVEN"===r){var a;if(0===t){var o=e[0].length;a=parseInt(e[0][o-1],10)}else a=parseInt(e[1][t-1],10);i=a%2==0?m.HALF_DOWN:m.HALF_UP}else"UP"===r&&n<0?i=m.DOWN:"DOWN"===r&&n<0&&(i=m.UP);return i}(a,i,r,e),n=function(e,r,t){if(0===r)return Math[t](e);var n=e.toString().split("e"),i=n[0],a=n[1],o=i+"e"+(a?parseInt(a,10)-r:-r),s=parseFloat(o),u=Math[t](s);return n=u.toString().split("e"),i=n[0],a=n[1],o=i+"e"+(a?parseInt(a,10)+r:r),s=parseFloat(o)}(e,-r,i)}else{var s=Math.pow(10,r);if(n=Math.round(e*s)/s,!isFinite(n))return e}return Math.abs(n)}function O(e,r,n,i,a){var o=t.OraI18nUtils.getLocaleElementsMainNode(n);if(!isFinite(e))return e===1/0||e===-1/0?o.numbers[i.numberingSystem].infinity:"NaN";var u=e;!0===i.isPercent||"percent"===i.style?u*=100:!0===i.isPerMill&&(u*=1e3);var m=r.decimalFormat;void 0===m&&(m=r.currencyFormat);var y=i.style;u="decimal"!==y&&"currency"!==y||void 0===m||"standard"===m?!0===i.useExponentialNotation?function(e,r){var t=e+"",n=0,i=t.split(/e/i),a=i[0];s.lastIndex=0;var o=s.exec(a);null!==o?(n=o[1].length-1,a=o[2]):a=a.replace(".","");var u=i.length>1?parseInt(i[1],10):0,l=parseInt(a,10),c=r.minimumIntegerDigits+r.maximumFractionDigits;if(a.length>c){c-=a.length;var m=Math.pow(10,c);l=Math.round(l*m)}var p=r.minimumIntegerDigits+r.minimumFractionDigits;l=d(l+="",p,!1),-1!==t.indexOf(".")?u-=r.minimumIntegerDigits-t.indexOf(".")+n:u-=p-a.length-r.minimumFractionDigits;var g=Math.abs(u);g=d(g+"",r.minExponentDigits,!0),u<0&&(g=r.minusSign+g);var v=l.slice(0,r.minimumIntegerDigits);return l.slice(r.minimumIntegerDigits).length>0?v+=r.decimalSeparator+l.slice(r.minimumIntegerDigits)+r.exponential+g:v+=r.exponential+g,v}(u,i):"unit"===y?function(e,r,n,i){var a,o,s=Math.abs(e);s>=f?(a="digital-tera",o=s/f):s>=v?(a="digital-giga",o=s/v):s>=g?(a="digital-mega",o=s/g):s>=p?(a="digital-kilo",o=s/p):(a="digital-",o=s),a+=n.unit;var u=n.lang,l=new Intl.PluralRules(u).select(o);l="unitPattern-count-"+l,e<0&&(o=-o);var c=x(o,r,n),m=i.units.narrow[a][l];return t.OraI18nUtils.formatString(m,[c])}(u,r,i,o):x(u,r,i):function(e,r,t){var n,i,a,o=Math.abs(e),s=function(e){for(var r=Object.keys(l),t=0;t<r.length;t++)for(var n=r[t],i=l[n].length,a=0;a<i;a++)if(l[n][a]<=e)return[n,l[n][a]];return[e,null]}(o),u="";if(null!==s[1]){var m=t.lang,p=new Intl.PluralRules(m).select(Math.floor(o/c[s[0]]));if(n=s[1]+"-count-"+p,void 0===(n=t.shortDecimalFormat[n])&&(p="other",n=s[1]+"-count-"+p,n=t.shortDecimalFormat[n]),i=function(e){var r=0,t=0,n=0,i="";if("0"!==e[0]){for(;"0"!==e[r]&&r<e.length;)r+=1;i=e.substr(0,r),n=r}for(r=n;r<e.length&&"0"===e[r];r++)t+=1;return[i,t]}(n),a=i[1],u=i[0],a<n.length){var g=1*Math.pow(10,a);o/=g=s[1]/g*10}}var v="";return void 0!==n&&(v=n.substr(a+i[0].length)),e<0&&(o=-o),v=u+x(o,r,t)+(v=v.replace(/'\.'/g,"."))}(u,r,i);var b="";b+=e<0&&u-0!=0?i.negativePrefix+u+i.negativeSuffix:i.positivePrefix+u+i.positiveSuffix;var F=h(a);if(void 0===t.OraI18nUtils.numeringSystems[F]&&(F="latn"),"latn"!==F){var S,D=[];for(S=0;S<b.length;S++)b[S]>="0"&&b[S]<="9"?D.push(t.OraI18nUtils.numeringSystems[F][b[S]]):D.push(b[S]);return D.join("")}return b}function I(e,r){var n=r.groupingSeparator,i=r.decimalSeparator,o=r.minusSign,s="",u="",l=t.OraI18nUtils.toUpper(r.exponential),c=t.OraI18nUtils.toUpper(e),m=n;c=(c=c.split(l).join("E")).split(m).join("");var p=m.replace(/\u00A0/g," ");m!==p&&(c=c.split(p).join("")),"."===(c=c.split(i).join(".")).charAt(0)&&(c=c.substr(1),u="."),c=c.replace(o,"-");var g=u+a.exec(c)[2];return t.OraI18nUtils.startsWith(g,"-")?(g=g.substr("-".length),s="-"):t.OraI18nUtils.startsWith(c,"+")&&(g=g.substr("+".length),s="+"),[s,g]}function N(e,r,n,i){return isNaN(e)&&U(n.style,n,i),!0===n.isPercent||"percent"===n.style?e/=100:!0===n.isPerMill&&(e/=1e3),t.OraI18nUtils.getGetOption(r,"OraNumberConverter.parse")("roundDuringParse","boolean",[!0,!1],!1)&&(e=function(e,r,t){var n=r.maximumFractionDigits,i=e<0,a=t.roundingMode||"DEFAULT",o=D(e,n,a);return i?-o:o}(e,n,r)),e}function U(e,r,t){var n,i="Enter a number in this format:"+r.pat;switch(e){case"decimal":n="decimalFormatMismatch";break;case"currency":n="currencyFormatMismatch";break;case"percent":n="percentFormatMismatch"}var a=new Error(i),o={errorCode:n,parameterMap:{value:t,format:r.pat}};throw a.errorInfo=o,a}function M(e,r,a,s){var u=t.OraI18nUtils.getLocaleElementsMainNode(r),l={},c=function(e,r){var n,i=h(r);if(void 0===t.OraI18nUtils.numeringSystems[i])return e;var a=[];for(n=0;n<e.length;n++){var o=t.OraI18nUtils.numeringSystems[i].indexOf(e[n]);-1!==o?a.push(o):a.push(e[n])}return a.join("")}(e,s);b(r,l,a,s);var m=NaN,p=c.replace(/ /g,"");if(n.test(p))return m=parseFloat(c);var g=function(e,r,n,i){var a,s=t.OraI18nUtils.trimNumber(e),u="",l=!1,c=i.numbers[n.numberingSystem].plusSign,m=new RegExp("^"+c.replace(o,"\\$1"));s=s.replace(m,"");var p=t.OraI18nUtils.trimNumber(n.positivePrefix),g=t.OraI18nUtils.trimNumber(n.positiveSuffix),v=t.OraI18nUtils.trimNumber(n.negativePrefix),f=t.OraI18nUtils.trimNumber(n.negativeSuffix),d=new RegExp("^"+(p||"").replace(o,"\\$1")),y=new RegExp((g||"").replace(o,"\\$1")+"$"),h=new RegExp("^"+(v||"").replace(o,"\\$1")),b=new RegExp((f||"").replace(o,"\\$1")+"$");if(!0===h.test(s)&&!0===b.test(s))s=(s=s.replace(h,"")).replace(b,""),u="-",l=!0;else if(!0===d.test(s)&&!0===y.test(s))s=(s=s.replace(d,"")).replace(y,""),u="+",l=!0;else if("currency"===n.style){var F,S=n.currencyCode,x=S;if(void 0!==i.numbers.currencies[S]&&(x=i.numbers.currencies[S].symbol),void 0===n.currencyDisplay||"symbol"===n.currencyDisplay?F=x:"code"===n.currencyDisplay&&(F=S),void 0!==F){var D=(p||"").replace(F,""),O=(g||"").replace(F,""),N=(v||"").replace(F,""),M=(f||"").replace(F,"");d=new RegExp("^"+D.replace(o,"\\$1")),y=new RegExp(O.replace(o,"\\$1")+"$"),h=new RegExp("^"+N.replace(o,"\\$1")),b=new RegExp(M.replace(o,"\\$1")+"$"),!0===h.test(s)&&!0===b.test(s)?(s=(s=s.replace(h,"")).replace(b,""),u="-",l=!0):!0===d.test(s)&&!0===y.test(s)&&(s=(s=s.replace(d,"")).replace(y,""),u="+",l=!0)}}return l?a=[u,s]:"full"===n.lenientParse?(a=I(s,n))[2]=!0:U(n.style,n,e),a}(c,0,l,u),v=g[0],f=g[1];if(v=v||"+",g[2])return N(m=parseFloat(v+f),a,l,e);var d=function(e,r){var n,i,a={},o=r.decimalSeparator,s=r.groupingSeparator,u=e.replace(/ /g,""),l=r.exponential,c=u.indexOf(l.toLowerCase());c<0&&(c=u.indexOf(t.OraI18nUtils.toUpper(l))),c<0?(i=u,a.exponent=null):(i=u.substr(0,c),a.exponent=u.substr(c+l.length));var m=o,p=i.indexOf(m);p<0?(n=i,a.fraction=null):(n=i.substr(0,p),a.fraction=i.substr(p+m.length)),n=n.split(s).join("");var g=s.replace(/\u00A0/g," ");return s!==g&&(n=n.split(g).join("")),a.integer=n,a}(f,l),y=d.integer,F=d.fraction,S=d.exponent,x=v+y;if(null!==F&&(x+="."+F),null!==S){var D=function(e,r){var n,i=r.minusSign,a=r.plusSign,o=t.OraI18nUtils.trimNumber(e);return i=t.OraI18nUtils.trimNumber(i),a=t.OraI18nUtils.trimNumber(a),t.OraI18nUtils.startsWith(o,i)?n=["-",o.substr(i.length)]:t.OraI18nUtils.startsWith(o,t.OraI18nUtils.trimNumber(a))&&(n=["+",o.substr(a.length)]),n||["",o]}(S,l);x+="e"+(D[0]||"+")+D[1]}return i.test(x)?m=parseFloat(x):"full"===l.lenientParse?(x=I(c,l),m=parseFloat(x[0]+x[1])):U(l.style,l,e),N(m,a,l,e)}var E,w,P,j,_="0",C=",",L=".",A="%",T="‰",$="#",R=";",V="E",H="-",W="'",k="¤",G=2147483647,K=2147483647;function q(e){var r="#,##0.###",t=new SyntaxError('Unexpected character(s) encountered in the pattern "'+e+' An example of a valid pattern is "'+r+'".'),n={errorCode:"optionValueInvalid",parameterMap:{propertyName:"pattern",propertyValue:e,propertyValueHint:r}};throw t.errorInfo=n,t}function z(e,r,t){var n=e.substr(r,t.length);return null!==new RegExp(t,"i").exec(n)}function B(e,r,t,n){for(var i="",a=0;a<e.length;){var o=e.charAt(a);if(a+=1,o!==W){switch(o){case k:var s=t.currencyCode,u=s,l=s;void 0!==r.numbers.currencies[s]&&(u=r.numbers.currencies[s].displayName,l=r.numbers.currencies[s].symbol),void 0===t.currencyDisplay||"symbol"===t.currencyDisplay?o=l:"code"===t.currencyDisplay?o=s+" ":(o=u,n.name=o);break;case A:o=r.numbers[t.numberingSystem].percentSign;break;case T:o=r.numbers[t.numberingSystem].perMille;break;case H:o=r.numbers[t.numberingSystem].minusSign}i=i.concat(o)}}return i}function Z(e,r,t){var n={locale:t,style:void 0===e.style?"decimal":e.style,useGrouping:void 0===r.useGrouping||r.useGrouping,numberingSystem:e.numberingSystemKey};n.minimumIntegerDigits=e.minimumIntegerDigits,n.minimumFractionDigits=e.minimumFractionDigits,n.maximumFractionDigits=e.maximumFractionDigits,"decimal"===e.style&&void 0!==r.decimalFormat&&(n.decimalFormat=r.decimalFormat),"currency"===e.style&&void 0!==r.currencyFormat&&(n.currencyFormat=r.currencyFormat),"currency"===e.style&&(n.currency=r.currency,n.currencyDisplay=void 0===r.currencyDisplay?"symbol":r.currencyDisplay),void 0!==r.unit&&(n.unit=r.unit),void 0!==r.pattern&&(n.pattern=r.pattern);var i=r.roundingMode,a=r.roundDuringParse;void 0!==i&&(n.roundingMode=i),void 0!==a&&(n.roundDuringParse=a);var o=e.lenientParse;void 0!==o&&(n.lenientParse=o);var s=e.separators;return void 0!==s&&(n.separators=s),n.virtualKeyboardHint=function(e,r){var t="text";switch(r.style){case"unit":t="text";break;case"currency":case"percent":t=void 0===r.pattern?"text":J(e,r);break;default:t=void 0===r.pattern?"short"===r.decimalFormat||"long"===r.decimalFormat?"text":function(e,r){if(void 0===r.useGrouping||r.useGrouping){if("."===e.decimalSeparator&&""===e.groupingSeparator)return"number"}else if("."===e.decimalSeparator)return"number";return"text"}(e,r):J(e,r)}return t}(e,r),n}function J(e,r){var t;if(t=r.pattern,/[^0-9.#]/i.test(t))return"text";var n=function(e){if(-1!==e.indexOf(","))return!0;return!1}(r.pattern),i=function(e){if(-1!==e.indexOf("."))return!0;return!1}(r.pattern);if(n&&i){if(""!==e.groupingSeparator||"."!==e.decimalSeparator)return"text";if(e.groupingSeparator===e.decimalSeparator)return"text"}return i&&!n&&"."!==e.decimalSeparator||!i&&n&&""!==e.groupingSeparator?"text":"number"}function Q(){return{format:function(e,r,t,n){(arguments.length<=2||void 0===t)&&(t={useGrouping:!0,style:"decimal"}),S(t,"OraNumberConverter.format");var i={};return b(r,i,t,n),O(e,t,r,i,n)},parse:function(e,r,t,n){return"number"==typeof e?e:"[object Number]"===Object.prototype.toString.call(e)?Number(e):((arguments.length<=2||void 0===t)&&(t={useGrouping:!0,style:"decimal"}),S(t,"OraNumberConverter.parse"),M(e,r,t,n))},resolvedOptions:function(e,r,n){(arguments.length<3||void 0===n)&&(n=t.OraI18nUtils.getLocaleElementsMainNodeKey(e)),(arguments.length<2||void 0===r)&&(r={useGrouping:!0,style:"decimal"});var i=function(e,r,n){var i={};return S(r,"OraNumberConverter.resolvedOptions"),b(e,i,r,n),i.numberingSystemKey=h(n),void 0===t.OraI18nUtils.numeringSystems[i.numberingSystemKey]&&(i.numberingSystemKey="latn"),i}(e,r,n);return Z(i,r,n)}}}return{getInstance:function(){return e||(e=Q()),e}}}(),m=function(){this.Init()};oj.Object.createSubclass(m,i,"oj.NumberConverter"),m.prototype.Init=function(e){m.superclass.Init.call(this,e)},m.prototype.format=function(e){return m.superclass.format.call(this,e)},m.prototype.parse=function(e){return m.superclass.parse.call(this,e)};const p=function(e){const r=l.getMergedNumberPreferencesWithOptions(e);this.Init(r)};s.Object.createSubclass(p,m,"oj.IntlNumberConverter"),p.prototype.Init=function(e){p.superclass.Init.call(this,e)},p.prototype._getWrapped=function(){return this._wrapped||(this._wrapped=c.getInstance()),this._wrapped},p.prototype.format=function(e){if(null==e||"string"==typeof e&&0===s.StringUtils.trim(""+e).length||"number"==typeof e&&isNaN(e))return"";var t,i=o.getLocale(),u=n.__getBundle(),l=this.resolvedOptions();try{t=this._getWrapped().format(e,u,l,i)}catch(r){throw this._processConverterError(r,e)}if("NaN"===t){var c=a.getTranslatedString("oj-converter.number.invalidNumberFormat.summary",{value:e}),m=a.getTranslatedString("oj-converter.number.invalidNumberFormat.detail");r.error(c+" "+m)}return t},p.prototype.getHint=function(){return null},p.prototype.getOptions=function(){return p.superclass.getOptions.call(this)},p.prototype.parse=function(e){var r,t,i;if(null==e||""===e)return null;r=o.getLocale(),t=n.__getBundle(),i=this.resolvedOptions();try{return this._getWrapped().parse(s.StringUtils.trim(e),t,i,r)}catch(r){throw this._processConverterError(r,e)}},p.prototype.resolvedOptions=function(){var e,t=o.getLocale();if(t!==this._locale||!this._resolvedOptions){e=n.__getBundle();try{if(!e)return r.error("locale bundle for the current locale %s is unavailable",t),{};this._resolvedOptions=this._getWrapped().resolvedOptions(e,this.getOptions(),t),this._locale=t}catch(e){throw this._processConverterError(e)}}return this._resolvedOptions},p.prototype._processConverterError=function(e,r){var n,i,o,l,c=e.errorInfo;if(c){var m=c.errorCode,p=c.parameterMap;switch(s.Assert.assertObject(p),m){case"optionTypesMismatch":case"optionTypeInvalid":case"optionOutOfRange":case"optionValueInvalid":n=t.IntlConverterUtils.__getConverterOptionError(m,p);break;case"decimalFormatMismatch":o="oj-converter.number.decimalFormatMismatch.summary";break;case"currencyFormatMismatch":o="oj-converter.number.currencyFormatMismatch.summary";break;case"percentFormatMismatch":o="oj-converter.number.percentFormatMismatch.summary";break;case"unsupportedParseFormat":l=a.getTranslatedString("oj-converter.number.shortLongUnsupportedParse.summary"),i=a.getTranslatedString("oj-converter.number.shortLongUnsupportedParse.detail"),n=new u.ConverterError(l,i)}o&&(l=a.getTranslatedString(o,{value:r||p.value,format:p.format}),i=a.getTranslatedString("oj-converter.hint.detail",{exampleValue:this._getHintValue()}),n=new u.ConverterError(l,i))}return n||(l=e.message,i=e.message,n=new u.ConverterError(l,i)),n},p.prototype._getHintValue=function(){var e="";try{e=this.format(12345.98765)}catch(t){t instanceof u.ConverterError&&(e="",r.error("error retrieving hint value in format"))}return e},e.IntlNumberConverter=p,e.NumberConverter=m,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojconverter-number.js.map;
define('css',[],function(){if("undefined"==typeof window)return{load:function(a,b,c){c()}};var a=document.getElementsByTagName("head")[0],b=window.navigator.userAgent.match(/Trident\/([^ ;]*)|AppleWebKit\/([^ ;]*)|Opera\/([^ ;]*)|rv\:([^ ;]*)(.*?)Gecko\/([^ ;]*)|MSIE\s([^ ;]*)|AndroidWebKit\/([^ ;]*)/)||0,c=!1,d=!0;b[1]||b[7]?c=parseInt(b[1])<6||parseInt(b[7])<=9:b[2]||b[8]?d=!1:b[4]&&(c=parseInt(b[4])<18);var e={};e.pluginBuilder="./css-builder";var f,g,h,i=function(){f=document.createElement("style"),a.appendChild(f),g=f.styleSheet||f.sheet},j=0,k=[],l=function(a){g.addImport(a),f.onload=function(){m()},j++,31==j&&(i(),j=0)},m=function(){h();var a=k.shift();return a?(h=a[1],void l(a[0])):void(h=null)},n=function(a,b){if(g&&g.addImport||i(),g&&g.addImport)h?k.push([a,b]):(l(a),h=b);else{f.textContent='@import "'+a+'";';var c=setInterval(function(){try{f.sheet.cssRules,clearInterval(c),b()}catch(a){}},10)}},o=function(b,c){var e=document.createElement("link");if(e.type="text/css",e.rel="stylesheet",d)e.onload=function(){e.onload=function(){},setTimeout(c,7)};else var f=setInterval(function(){for(var a=0;a<document.styleSheets.length;a++){var b=document.styleSheets[a];if(b.href==e.href)return clearInterval(f),c()}},10);e.href=b,a.appendChild(e)};return e.normalize=function(a,b){return".css"==a.substr(a.length-4,4)&&(a=a.substr(0,a.length-4)),b(a)},e.load=function(a,b,d,e){(c?n:o)(b.toUrl(a+".css"),d)},e});

define('css!dashboard/wallet-manager/wallet-manager-styles',[],function(){});
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojoption',["ojs/ojcore-base","ojs/ojcomponentcore","jquery","ojs/ojcustomelement","ojs/ojcustomelement-utils"],function(e,t,o,n,r){"use strict";function i(e){function t(e){var t=r.CustomElementUtils.getSlotMap(e),n=["startIcon","","endIcon"];o.each(t,function(t,r){-1===n.indexOf(t)&&function(e,t){o.each(t,function(t,o){e.removeChild(o)})}(e,r)}),o.each(n,function(n,r){t[r]&&function(e,t){o.each(t,function(t,o){e.appendChild(o)})}(e,t[r])})}this.updateDOM=function(){var o=e.element.customOptionRenderer;t(e.element),o&&"function"==typeof o&&o(e.element)}}var s;e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o,(s={properties:{disabled:{type:"boolean",value:!1},value:{type:"any"}},methods:{getProperty:{},refresh:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},extension:{}}).properties.customOptionRenderer={},s.extension._CONSTRUCTOR=i,e.CustomElementBridge.register("oj-option",{metadata:s})});
//# sourceMappingURL=ojoption.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojchildmutationobserver',["ojs/ojcustomelement","ojs/ojcustomelement-utils","ojs/ojcustomelement-registry"],function(e,t,n){"use strict";return function(e,r){var o=e,s=r,i=n.isElementRegistered(e.tagName)?t.CustomElementUtils.getElementState(e).getTrackChildrenOption():"none",a=function(e){var n=function(e){for(var n=[],r=0;r<e.length;r++)for(var s=e[r],a="childList"===s.type?s.target:s.target.parentNode;a;)a===o?(n.push(s),a=null):a="nearestCustomElement"!==i||t.ElementUtils.isValidCustomElementName(a.localName)?null:a.parentNode;return n}(e);n.length>0&&s(n)},l=new MutationObserver(a);return{observe:function(){"none"!==i&&l.observe(o,{attributes:!0,childList:!0,subtree:!0,characterData:!0})},disconnect:function(){var e=l.takeRecords();e&&e.length>0&&a(e),l.disconnect()}}}});
//# sourceMappingURL=ojchildmutationobserver.js.map;
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
!function(a,b,c,d){"use strict";function e(a,b,c){return setTimeout(j(a,c),b)}function f(a,b,c){return Array.isArray(a)?(g(a,c[b],c),!0):!1}function g(a,b,c){var e;if(a)if(a.forEach)a.forEach(b,c);else if(a.length!==d)for(e=0;e<a.length;)b.call(c,a[e],e,a),e++;else for(e in a)a.hasOwnProperty(e)&&b.call(c,a[e],e,a)}function h(b,c,d){var e="DEPRECATED METHOD: "+c+"\n"+d+" AT \n";return function(){var c=new Error("get-stack-trace"),d=c&&c.stack?c.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",f=a.console&&(a.console.warn||a.console.log);return f&&f.call(a.console,e,d),b.apply(this,arguments)}}function i(a,b,c){var d,e=b.prototype;d=a.prototype=Object.create(e),d.constructor=a,d._super=e,c&&la(d,c)}function j(a,b){return function(){return a.apply(b,arguments)}}function k(a,b){return typeof a==oa?a.apply(b?b[0]||d:d,b):a}function l(a,b){return a===d?b:a}function m(a,b,c){g(q(b),function(b){a.addEventListener(b,c,!1)})}function n(a,b,c){g(q(b),function(b){a.removeEventListener(b,c,!1)})}function o(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1}function p(a,b){return a.indexOf(b)>-1}function q(a){return a.trim().split(/\s+/g)}function r(a,b,c){if(a.indexOf&&!c)return a.indexOf(b);for(var d=0;d<a.length;){if(c&&a[d][c]==b||!c&&a[d]===b)return d;d++}return-1}function s(a){return Array.prototype.slice.call(a,0)}function t(a,b,c){for(var d=[],e=[],f=0;f<a.length;){var g=b?a[f][b]:a[f];r(e,g)<0&&d.push(a[f]),e[f]=g,f++}return c&&(d=b?d.sort(function(a,c){return a[b]>c[b]}):d.sort()),d}function u(a,b){for(var c,e,f=b[0].toUpperCase()+b.slice(1),g=0;g<ma.length;){if(c=ma[g],e=c?c+f:b,e in a)return e;g++}return d}function v(){return ua++}function w(b){var c=b.ownerDocument||b;return c.defaultView||c.parentWindow||a}function x(a,b){var c=this;this.manager=a,this.callback=b,this.element=a.element,this.target=a.options.inputTarget,this.domHandler=function(b){k(a.options.enable,[a])&&c.handler(b)},this.init()}function y(a){var b,c=a.options.inputClass;return new(b=c?c:xa?M:ya?P:wa?R:L)(a,z)}function z(a,b,c){var d=c.pointers.length,e=c.changedPointers.length,f=b&Ea&&d-e===0,g=b&(Ga|Ha)&&d-e===0;c.isFirst=!!f,c.isFinal=!!g,f&&(a.session={}),c.eventType=b,A(a,c),a.emit("hammer.input",c),a.recognize(c),a.session.prevInput=c}function A(a,b){var c=a.session,d=b.pointers,e=d.length;c.firstInput||(c.firstInput=D(b)),e>1&&!c.firstMultiple?c.firstMultiple=D(b):1===e&&(c.firstMultiple=!1);var f=c.firstInput,g=c.firstMultiple,h=g?g.center:f.center,i=b.center=E(d);b.timeStamp=ra(),b.deltaTime=b.timeStamp-f.timeStamp,b.angle=I(h,i),b.distance=H(h,i),B(c,b),b.offsetDirection=G(b.deltaX,b.deltaY);var j=F(b.deltaTime,b.deltaX,b.deltaY);b.overallVelocityX=j.x,b.overallVelocityY=j.y,b.overallVelocity=qa(j.x)>qa(j.y)?j.x:j.y,b.scale=g?K(g.pointers,d):1,b.rotation=g?J(g.pointers,d):0,b.maxPointers=c.prevInput?b.pointers.length>c.prevInput.maxPointers?b.pointers.length:c.prevInput.maxPointers:b.pointers.length,C(c,b);var k=a.element;o(b.srcEvent.target,k)&&(k=b.srcEvent.target),b.target=k}function B(a,b){var c=b.center,d=a.offsetDelta||{},e=a.prevDelta||{},f=a.prevInput||{};b.eventType!==Ea&&f.eventType!==Ga||(e=a.prevDelta={x:f.deltaX||0,y:f.deltaY||0},d=a.offsetDelta={x:c.x,y:c.y}),b.deltaX=e.x+(c.x-d.x),b.deltaY=e.y+(c.y-d.y)}function C(a,b){var c,e,f,g,h=a.lastInterval||b,i=b.timeStamp-h.timeStamp;if(b.eventType!=Ha&&(i>Da||h.velocity===d)){var j=b.deltaX-h.deltaX,k=b.deltaY-h.deltaY,l=F(i,j,k);e=l.x,f=l.y,c=qa(l.x)>qa(l.y)?l.x:l.y,g=G(j,k),a.lastInterval=b}else c=h.velocity,e=h.velocityX,f=h.velocityY,g=h.direction;b.velocity=c,b.velocityX=e,b.velocityY=f,b.direction=g}function D(a){for(var b=[],c=0;c<a.pointers.length;)b[c]={clientX:pa(a.pointers[c].clientX),clientY:pa(a.pointers[c].clientY)},c++;return{timeStamp:ra(),pointers:b,center:E(b),deltaX:a.deltaX,deltaY:a.deltaY}}function E(a){var b=a.length;if(1===b)return{x:pa(a[0].clientX),y:pa(a[0].clientY)};for(var c=0,d=0,e=0;b>e;)c+=a[e].clientX,d+=a[e].clientY,e++;return{x:pa(c/b),y:pa(d/b)}}function F(a,b,c){return{x:b/a||0,y:c/a||0}}function G(a,b){return a===b?Ia:qa(a)>=qa(b)?0>a?Ja:Ka:0>b?La:Ma}function H(a,b,c){c||(c=Qa);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return Math.sqrt(d*d+e*e)}function I(a,b,c){c||(c=Qa);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return 180*Math.atan2(e,d)/Math.PI}function J(a,b){return I(b[1],b[0],Ra)+I(a[1],a[0],Ra)}function K(a,b){return H(b[0],b[1],Ra)/H(a[0],a[1],Ra)}function L(){this.evEl=Ta,this.evWin=Ua,this.pressed=!1,x.apply(this,arguments)}function M(){this.evEl=Xa,this.evWin=Ya,x.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function N(){this.evTarget=$a,this.evWin=_a,this.started=!1,x.apply(this,arguments)}function O(a,b){var c=s(a.touches),d=s(a.changedTouches);return b&(Ga|Ha)&&(c=t(c.concat(d),"identifier",!0)),[c,d]}function P(){this.evTarget=bb,this.targetIds={},x.apply(this,arguments)}function Q(a,b){var c=s(a.touches),d=this.targetIds;if(b&(Ea|Fa)&&1===c.length)return d[c[0].identifier]=!0,[c,c];var e,f,g=s(a.changedTouches),h=[],i=this.target;if(f=c.filter(function(a){return o(a.target,i)}),b===Ea)for(e=0;e<f.length;)d[f[e].identifier]=!0,e++;for(e=0;e<g.length;)d[g[e].identifier]&&h.push(g[e]),b&(Ga|Ha)&&delete d[g[e].identifier],e++;return h.length?[t(f.concat(h),"identifier",!0),h]:void 0}function R(){x.apply(this,arguments);var a=j(this.handler,this);this.touch=new P(this.manager,a),this.mouse=new L(this.manager,a),this.primaryTouch=null,this.lastTouches=[]}function S(a,b){a&Ea?(this.primaryTouch=b.changedPointers[0].identifier,T.call(this,b)):a&(Ga|Ha)&&T.call(this,b)}function T(a){var b=a.changedPointers[0];if(b.identifier===this.primaryTouch){var c={x:b.clientX,y:b.clientY};this.lastTouches.push(c);var d=this.lastTouches,e=function(){var a=d.indexOf(c);a>-1&&d.splice(a,1)};setTimeout(e,cb)}}function U(a){for(var b=a.srcEvent.clientX,c=a.srcEvent.clientY,d=0;d<this.lastTouches.length;d++){var e=this.lastTouches[d],f=Math.abs(b-e.x),g=Math.abs(c-e.y);if(db>=f&&db>=g)return!0}return!1}function V(a,b){this.manager=a,this.set(b)}function W(a){if(p(a,jb))return jb;var b=p(a,kb),c=p(a,lb);return b&&c?jb:b||c?b?kb:lb:p(a,ib)?ib:hb}function X(){if(!fb)return!1;var b={},c=a.CSS&&a.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(d){b[d]=c?a.CSS.supports("touch-action",d):!0}),b}function Y(a){this.options=la({},this.defaults,a||{}),this.id=v(),this.manager=null,this.options.enable=l(this.options.enable,!0),this.state=nb,this.simultaneous={},this.requireFail=[]}function Z(a){return a&sb?"cancel":a&qb?"end":a&pb?"move":a&ob?"start":""}function $(a){return a==Ma?"down":a==La?"up":a==Ja?"left":a==Ka?"right":""}function _(a,b){var c=b.manager;return c?c.get(a):a}function aa(){Y.apply(this,arguments)}function ba(){aa.apply(this,arguments),this.pX=null,this.pY=null}function ca(){aa.apply(this,arguments)}function da(){Y.apply(this,arguments),this._timer=null,this._input=null}function ea(){aa.apply(this,arguments)}function fa(){aa.apply(this,arguments)}function ga(){Y.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ha(a,b){return b=b||{},b.recognizers=l(b.recognizers,ha.defaults.preset),new ia(a,b)}function ia(a,b){this.options=la({},ha.defaults,b||{}),this.options.inputTarget=this.options.inputTarget||a,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=a,this.input=y(this),this.touchAction=new V(this,this.options.touchAction),ja(this,!0),g(this.options.recognizers,function(a){var b=this.add(new a[0](a[1]));a[2]&&b.recognizeWith(a[2]),a[3]&&b.requireFailure(a[3])},this)}function ja(a,b){var c=a.element;if(c.style){var d;g(a.options.cssProps,function(e,f){d=u(c.style,f),b?(a.oldCssProps[d]=c.style[d],c.style[d]=e):c.style[d]=a.oldCssProps[d]||""}),b||(a.oldCssProps={})}}function ka(a,c){var d=b.createEvent("Event");d.initEvent(a,!0,!0),d.gesture=c,c.target.dispatchEvent(d)}var la,ma=["","webkit","Moz","MS","ms","o"],na=b.createElement("div"),oa="function",pa=Math.round,qa=Math.abs,ra=Date.now;la="function"!=typeof Object.assign?function(a){if(a===d||null===a)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(a),c=1;c<arguments.length;c++){var e=arguments[c];if(e!==d&&null!==e)for(var f in e)e.hasOwnProperty(f)&&(b[f]=e[f])}return b}:Object.assign;var sa=h(function(a,b,c){for(var e=Object.keys(b),f=0;f<e.length;)(!c||c&&a[e[f]]===d)&&(a[e[f]]=b[e[f]]),f++;return a},"extend","Use `assign`."),ta=h(function(a,b){return sa(a,b,!0)},"merge","Use `assign`."),ua=1,va=/mobile|tablet|ip(ad|hone|od)|android/i,wa="ontouchstart"in a,xa=u(a,"PointerEvent")!==d,ya=wa&&va.test(navigator.userAgent),za="touch",Aa="pen",Ba="mouse",Ca="kinect",Da=25,Ea=1,Fa=2,Ga=4,Ha=8,Ia=1,Ja=2,Ka=4,La=8,Ma=16,Na=Ja|Ka,Oa=La|Ma,Pa=Na|Oa,Qa=["x","y"],Ra=["clientX","clientY"];x.prototype={handler:function(){},init:function(){this.evEl&&m(this.element,this.evEl,this.domHandler),this.evTarget&&m(this.target,this.evTarget,this.domHandler),this.evWin&&m(w(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&n(this.element,this.evEl,this.domHandler),this.evTarget&&n(this.target,this.evTarget,this.domHandler),this.evWin&&n(w(this.element),this.evWin,this.domHandler)}};var Sa={mousedown:Ea,mousemove:Fa,mouseup:Ga},Ta="mousedown",Ua="mousemove mouseup";i(L,x,{handler:function(a){var b=Sa[a.type];b&Ea&&0===a.button&&(this.pressed=!0),b&Fa&&1!==a.which&&(b=Ga),this.pressed&&(b&Ga&&(this.pressed=!1),this.callback(this.manager,b,{pointers:[a],changedPointers:[a],pointerType:Ba,srcEvent:a}))}});var Va={pointerdown:Ea,pointermove:Fa,pointerup:Ga,pointercancel:Ha,pointerout:Ha},Wa={2:za,3:Aa,4:Ba,5:Ca},Xa="pointerdown",Ya="pointermove pointerup pointercancel";a.MSPointerEvent&&!a.PointerEvent&&(Xa="MSPointerDown",Ya="MSPointerMove MSPointerUp MSPointerCancel"),i(M,x,{handler:function(a){var b=this.store,c=!1,d=a.type.toLowerCase().replace("ms",""),e=Va[d],f=Wa[a.pointerType]||a.pointerType,g=f==za,h=r(b,a.pointerId,"pointerId");e&Ea&&(0===a.button||g)?0>h&&(b.push(a),h=b.length-1):e&(Ga|Ha)&&(c=!0),0>h||(b[h]=a,this.callback(this.manager,e,{pointers:b,changedPointers:[a],pointerType:f,srcEvent:a}),c&&b.splice(h,1))}});var Za={touchstart:Ea,touchmove:Fa,touchend:Ga,touchcancel:Ha},$a="touchstart",_a="touchstart touchmove touchend touchcancel";i(N,x,{handler:function(a){var b=Za[a.type];if(b===Ea&&(this.started=!0),this.started){var c=O.call(this,a,b);b&(Ga|Ha)&&c[0].length-c[1].length===0&&(this.started=!1),this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:za,srcEvent:a})}}});var ab={touchstart:Ea,touchmove:Fa,touchend:Ga,touchcancel:Ha},bb="touchstart touchmove touchend touchcancel";i(P,x,{handler:function(a){var b=ab[a.type],c=Q.call(this,a,b);c&&this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:za,srcEvent:a})}});var cb=2500,db=25;i(R,x,{handler:function(a,b,c){var d=c.pointerType==za,e=c.pointerType==Ba;if(!(e&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(d)S.call(this,b,c);else if(e&&U.call(this,c))return;this.callback(a,b,c)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var eb=u(na.style,"touchAction"),fb=eb!==d,gb="compute",hb="auto",ib="manipulation",jb="none",kb="pan-x",lb="pan-y",mb=X();V.prototype={set:function(a){a==gb&&(a=this.compute()),fb&&this.manager.element.style&&mb[a]&&(this.manager.element.style[eb]=a),this.actions=a.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var a=[];return g(this.manager.recognizers,function(b){k(b.options.enable,[b])&&(a=a.concat(b.getTouchAction()))}),W(a.join(" "))},preventDefaults:function(a){var b=a.srcEvent,c=a.offsetDirection;if(this.manager.session.prevented)return void b.preventDefault();var d=this.actions,e=p(d,jb)&&!mb[jb],f=p(d,lb)&&!mb[lb],g=p(d,kb)&&!mb[kb];if(e){var h=1===a.pointers.length,i=a.distance<2,j=a.deltaTime<250;if(h&&i&&j)return}return g&&f?void 0:e||f&&c&Na||g&&c&Oa?this.preventSrc(b):void 0},preventSrc:function(a){this.manager.session.prevented=!0,a.preventDefault()}};var nb=1,ob=2,pb=4,qb=8,rb=qb,sb=16,tb=32;Y.prototype={defaults:{},set:function(a){return la(this.options,a),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(a){if(f(a,"recognizeWith",this))return this;var b=this.simultaneous;return a=_(a,this),b[a.id]||(b[a.id]=a,a.recognizeWith(this)),this},dropRecognizeWith:function(a){return f(a,"dropRecognizeWith",this)?this:(a=_(a,this),delete this.simultaneous[a.id],this)},requireFailure:function(a){if(f(a,"requireFailure",this))return this;var b=this.requireFail;return a=_(a,this),-1===r(b,a)&&(b.push(a),a.requireFailure(this)),this},dropRequireFailure:function(a){if(f(a,"dropRequireFailure",this))return this;a=_(a,this);var b=r(this.requireFail,a);return b>-1&&this.requireFail.splice(b,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(a){return!!this.simultaneous[a.id]},emit:function(a){function b(b){c.manager.emit(b,a)}var c=this,d=this.state;qb>d&&b(c.options.event+Z(d)),b(c.options.event),a.additionalEvent&&b(a.additionalEvent),d>=qb&&b(c.options.event+Z(d))},tryEmit:function(a){return this.canEmit()?this.emit(a):void(this.state=tb)},canEmit:function(){for(var a=0;a<this.requireFail.length;){if(!(this.requireFail[a].state&(tb|nb)))return!1;a++}return!0},recognize:function(a){var b=la({},a);return k(this.options.enable,[this,b])?(this.state&(rb|sb|tb)&&(this.state=nb),this.state=this.process(b),void(this.state&(ob|pb|qb|sb)&&this.tryEmit(b))):(this.reset(),void(this.state=tb))},process:function(a){},getTouchAction:function(){},reset:function(){}},i(aa,Y,{defaults:{pointers:1},attrTest:function(a){var b=this.options.pointers;return 0===b||a.pointers.length===b},process:function(a){var b=this.state,c=a.eventType,d=b&(ob|pb),e=this.attrTest(a);return d&&(c&Ha||!e)?b|sb:d||e?c&Ga?b|qb:b&ob?b|pb:ob:tb}}),i(ba,aa,{defaults:{event:"pan",threshold:10,pointers:1,direction:Pa},getTouchAction:function(){var a=this.options.direction,b=[];return a&Na&&b.push(lb),a&Oa&&b.push(kb),b},directionTest:function(a){var b=this.options,c=!0,d=a.distance,e=a.direction,f=a.deltaX,g=a.deltaY;return e&b.direction||(b.direction&Na?(e=0===f?Ia:0>f?Ja:Ka,c=f!=this.pX,d=Math.abs(a.deltaX)):(e=0===g?Ia:0>g?La:Ma,c=g!=this.pY,d=Math.abs(a.deltaY))),a.direction=e,c&&d>b.threshold&&e&b.direction},attrTest:function(a){return aa.prototype.attrTest.call(this,a)&&(this.state&ob||!(this.state&ob)&&this.directionTest(a))},emit:function(a){this.pX=a.deltaX,this.pY=a.deltaY;var b=$(a.direction);b&&(a.additionalEvent=this.options.event+b),this._super.emit.call(this,a)}}),i(ca,aa,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[jb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.scale-1)>this.options.threshold||this.state&ob)},emit:function(a){if(1!==a.scale){var b=a.scale<1?"in":"out";a.additionalEvent=this.options.event+b}this._super.emit.call(this,a)}}),i(da,Y,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[hb]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime>b.time;if(this._input=a,!d||!c||a.eventType&(Ga|Ha)&&!f)this.reset();else if(a.eventType&Ea)this.reset(),this._timer=e(function(){this.state=rb,this.tryEmit()},b.time,this);else if(a.eventType&Ga)return rb;return tb},reset:function(){clearTimeout(this._timer)},emit:function(a){this.state===rb&&(a&&a.eventType&Ga?this.manager.emit(this.options.event+"up",a):(this._input.timeStamp=ra(),this.manager.emit(this.options.event,this._input)))}}),i(ea,aa,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[jb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.rotation)>this.options.threshold||this.state&ob)}}),i(fa,aa,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Na|Oa,pointers:1},getTouchAction:function(){return ba.prototype.getTouchAction.call(this)},attrTest:function(a){var b,c=this.options.direction;return c&(Na|Oa)?b=a.overallVelocity:c&Na?b=a.overallVelocityX:c&Oa&&(b=a.overallVelocityY),this._super.attrTest.call(this,a)&&c&a.offsetDirection&&a.distance>this.options.threshold&&a.maxPointers==this.options.pointers&&qa(b)>this.options.velocity&&a.eventType&Ga},emit:function(a){var b=$(a.offsetDirection);b&&this.manager.emit(this.options.event+b,a),this.manager.emit(this.options.event,a)}}),i(ga,Y,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ib]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime<b.time;if(this.reset(),a.eventType&Ea&&0===this.count)return this.failTimeout();if(d&&f&&c){if(a.eventType!=Ga)return this.failTimeout();var g=this.pTime?a.timeStamp-this.pTime<b.interval:!0,h=!this.pCenter||H(this.pCenter,a.center)<b.posThreshold;this.pTime=a.timeStamp,this.pCenter=a.center,h&&g?this.count+=1:this.count=1,this._input=a;var i=this.count%b.taps;if(0===i)return this.hasRequireFailures()?(this._timer=e(function(){this.state=rb,this.tryEmit()},b.interval,this),ob):rb}return tb},failTimeout:function(){return this._timer=e(function(){this.state=tb},this.options.interval,this),tb},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==rb&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ha.VERSION="2.0.7",ha.defaults={domEvents:!1,touchAction:gb,enable:!0,inputTarget:null,inputClass:null,preset:[[ea,{enable:!1}],[ca,{enable:!1},["rotate"]],[fa,{direction:Na}],[ba,{direction:Na},["swipe"]],[ga],[ga,{event:"doubletap",taps:2},["tap"]],[da]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var ub=1,vb=2;ia.prototype={set:function(a){return la(this.options,a),a.touchAction&&this.touchAction.update(),a.inputTarget&&(this.input.destroy(),this.input.target=a.inputTarget,this.input.init()),this},stop:function(a){this.session.stopped=a?vb:ub},recognize:function(a){var b=this.session;if(!b.stopped){this.touchAction.preventDefaults(a);var c,d=this.recognizers,e=b.curRecognizer;(!e||e&&e.state&rb)&&(e=b.curRecognizer=null);for(var f=0;f<d.length;)c=d[f],b.stopped===vb||e&&c!=e&&!c.canRecognizeWith(e)?c.reset():c.recognize(a),!e&&c.state&(ob|pb|qb)&&(e=b.curRecognizer=c),f++}},get:function(a){if(a instanceof Y)return a;for(var b=this.recognizers,c=0;c<b.length;c++)if(b[c].options.event==a)return b[c];return null},add:function(a){if(f(a,"add",this))return this;var b=this.get(a.options.event);return b&&this.remove(b),this.recognizers.push(a),a.manager=this,this.touchAction.update(),a},remove:function(a){if(f(a,"remove",this))return this;if(a=this.get(a)){var b=this.recognizers,c=r(b,a);-1!==c&&(b.splice(c,1),this.touchAction.update())}return this},on:function(a,b){if(a!==d&&b!==d){var c=this.handlers;return g(q(a),function(a){c[a]=c[a]||[],c[a].push(b)}),this}},off:function(a,b){if(a!==d){var c=this.handlers;return g(q(a),function(a){b?c[a]&&c[a].splice(r(c[a],b),1):delete c[a]}),this}},emit:function(a,b){this.options.domEvents&&ka(a,b);var c=this.handlers[a]&&this.handlers[a].slice();if(c&&c.length){b.type=a,b.preventDefault=function(){b.srcEvent.preventDefault()};for(var d=0;d<c.length;)c[d](b),d++}},destroy:function(){this.element&&ja(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},la(ha,{INPUT_START:Ea,INPUT_MOVE:Fa,INPUT_END:Ga,INPUT_CANCEL:Ha,STATE_POSSIBLE:nb,STATE_BEGAN:ob,STATE_CHANGED:pb,STATE_ENDED:qb,STATE_RECOGNIZED:rb,STATE_CANCELLED:sb,STATE_FAILED:tb,DIRECTION_NONE:Ia,DIRECTION_LEFT:Ja,DIRECTION_RIGHT:Ka,DIRECTION_UP:La,DIRECTION_DOWN:Ma,DIRECTION_HORIZONTAL:Na,DIRECTION_VERTICAL:Oa,DIRECTION_ALL:Pa,Manager:ia,Input:x,TouchAction:V,TouchInput:P,MouseInput:L,PointerEventInput:M,TouchMouseInput:R,SingleTouchInput:N,Recognizer:Y,AttrRecognizer:aa,Tap:ga,Pan:ba,Swipe:fa,Pinch:ca,Rotate:ea,Press:da,on:m,off:n,each:g,merge:ta,extend:sa,assign:la,inherit:i,bindFn:j,prefixed:u});var wb="undefined"!=typeof a?a:"undefined"!=typeof self?self:{};wb.Hammer=ha,"function"==typeof define&&define.amd?define('hammerjs',[],function(){return ha}):"undefined"!=typeof module&&module.exports?module.exports=ha:a[c]=ha}(window,document,"Hammer");
//# sourceMappingURL=hammer.min.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojjquery-hammer',["ojs/ojlogger","hammerjs","jquery"],function(e,t,a){"use strict";var r;a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a,t?(a.fn.ojHammer=function(e){switch(e){case"instance":return this.data("ojHammer");case"destroy":return this.each(function(){var e=a(this),t=e.data("ojHammer");t&&(t.destroy(),e.removeData("ojHammer")),e.off("remove.ojHammer")});default:return this.each(function(){var r=a(this);if(!r.data("ojHammer")){const a=new t.Manager(r[0],e);r.on("remove.ojHammer",e=>{e.target===r[0]&&a.destroy()}),r.data("ojHammer",a)}})}},t.Manager.prototype.emit=(r=t.Manager.prototype.emit,function(e,t){r.call(this,e,t),a(this.element).trigger({type:e,gesture:t})})):e.warn("Hammer jQuery extension loaded without Hammer.")});
//# sourceMappingURL=ojjquery-hammer.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojanimation',["exports","ojs/ojcore-base","jquery","ojs/ojdomutils","ojs/ojthemeutils","ojs/ojlogger"],function(e,t,n,i,a,o){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;const r="translate(",s=") translateZ(0)",l={};t._registerLegacyNamespaceProp("AnimationUtils",l),l._getName=function(e,t){if(!l._nameMap){l._nameMap={};var n=l._nameMap,i=e.style;n.backfaceVisibility=void 0!==i.webkitBackfaceVisibility?"webkitBackfaceVisibility":"backfaceVisibility",n.transform=void 0!==i.webkitTransform?"webkitTransform":"transform",n.transformOrigin=void 0!==i.webkitTransformOrigin?"webkitTransformOrigin":"transformOrigin",n.transition=void 0!==i.webkitTransition?"webkitTransition":"transition",n.transitionend=void 0!==i.webkitTransition?"webkitTransitionEnd":"transitionend"}return l._nameMap[t]||t},l._getElementStyle=function(e,t){return e.style[l._getName(e,t)]},l._setElementStyle=function(e,t,n){e.style[l._getName(e,t)]=n},l._animate=function(e,t,i,a,o,r){var s=[].concat(o),f=function(n,f){var d=function(e){var t=0===e.propertyName.indexOf("-webkit-")?e.propertyName.substr(8):e.propertyName;t=l._getCamelCasePropName(t);var n=s.indexOf(t);n>-1&&(s.length>1?s.splice(n,1):m())},c=0,u=!1;function m(){u||(c&&(window.cancelAnimationFrame(c),c=0),e.removeEventListener(l._getName(e,"transitionend"),d),n&&n(!0),u=!0)}null==i&&(i={}),null==i.css&&(i.css={}),i.css.transition=l._createTransitionValue(e,o,a);var p=l._saveStyle(e,t,i,a,r||o);l._applyState(e,t,p>1),e.addEventListener(l._getName(e,"transitionend"),d);var g=a.duration,h=a.delay,v=a._skipPromise;function _(){c=0,l._applyState(e,i,p>1)}null==t?_():(a._noReflow||(l._x=e.offsetWidth),c=window.requestAnimationFrame(_));var y=l._getTotalTiming(g,h);v||setTimeout(m,y+100)};return a._skipPromise?(f(null),null):new Promise(f).then(function(){t&&t.addClass&&n(e).removeClass(t.addClass),i&&i.addClass&&n(e).removeClass(i.addClass),l._restoreStyle(e)})},l._saveCssValues=function(e,t,n,i){for(var a=Object.keys(t),o=Object.prototype.hasOwnProperty,r=0;r<a.length;r++){var s=a[r];o.call(n,s)||i&&-1!==i.indexOf(s)||(n[s]=l._getElementStyle(e,s))}},l._saveStyle=function(e,t,n,i,a){var o=e._ojSavedStyle||{},r=t&&t.css?t.css:{},s=n&&n.css?n.css:{},f=a;i&&"all"===i.persist||(f=null),l._saveCssValues(e,r,o,f),l._saveCssValues(e,s,o,f),e._ojSavedStyle=o;var d=e._ojEffectCount||0;return d+=1,e._ojEffectCount=d,d},l._restoreStyle=function(e){var t=e,n=t._ojEffectCount;if(n>1)t._ojEffectCount=n-1;else{var i=t._ojSavedStyle;if(i){for(var a=Object.keys(i),o=0;o<a.length;o++){var r=a[o];l._setElementStyle(t,r,i[r])}delete t._ojSavedStyle,delete t._ojEffectCount}}},l._getCamelCasePropName=function(e){if(e.indexOf("-")>=0){for(var t="",n=e.split("-"),i=0;i<n.length;i++){var a=n[i];a&&(t?t+=a.charAt(0).toUpperCase()+a.slice(1):t=a)}return t}return e},l._getHyphenatedPropName=function(e){var t=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return 0===t.indexOf("webkit")&&(t="-"+t),t},l._concatMultiValue=function(e,t,n,i,a){if(t.css[n]){var o=l._getElementStyle(e,n);o&&0!==o.indexOf(i)&&(t.css[n]=o+a+t.css[n])}},l._splitTransform=function(e){var t=[];if(e&&"none"!==e)for(var n=e,i=n.indexOf(")");i>0;){var a=n.substr(0,i+1);t.push(a.trim()),i=(n=n.slice(i+1)).indexOf(")")}return t},l._getTransformFuncName=function(e){var t=e.indexOf("(");return t>=1?e.substr(0,t):e},l._applyTransform=function(e,t){for(var n=l._getElementStyle(e,"transform"),i=l._splitTransform(n),a=l._splitTransform(t),o=[],r=0;r<a.length;r++){var s=l._getTransformFuncName(a[r]),f=!1;if(s)for(var d=0;d<i.length;d++)0===i[d].indexOf(s+"(")&&(i[d]=a[r],f=!0);f||o.push(a[r])}return(i=i.concat(o)).join(" ")},l._applyState=function(e,t,i){if(t){if(t.css){var a="transform";i&&l._concatMultiValue(e,t,"transition","all",", "),t.css[a]&&(t.css[a]=l._applyTransform(e,t.css[a]));for(var o=t.css,r=Object.keys(o),s=0;s<r.length;s++){var f=r[s];l._setElementStyle(e,f,o[f])}}t.addClass&&n(e).addClass(t.addClass),t.removeClass&&n(e).removeClass(t.removeClass)}},l._getTimingValue=function(e){var t=parseFloat(e);return isNaN(t)?0:e.indexOf("ms")>-1?t:1e3*t},l._getTotalTiming=function(e,t){var n=l._getTimingValue(e);return n>0?n+(t?l._getTimingValue(t):0):0},l._calcCssTime=function(e,t,n){for(var i=e.split(","),a=t.split(","),o=n.split(","),r=i.length,s=a.length,f=o.length,d=0,c=0;c<r;c++){var u=o[c%f],m=a[c%s],p=l._getTotalTiming(u,m);d=Math.max(d,p)}return d},l._calcEffectTime=function(e){var t,n,i,a=window.getComputedStyle(e);t=a.animationName||a.webkitAnimationName,n=a.animationDelay||a.webkitAnimationDelay,i=a.animationDuration||a.webkitAnimationDuration;var o=l._calcCssTime(t,n,i);t=a.transitionProperty||a.webkitTransitionProperty,n=a.transitionDelay||a.webkitTransitionDelay,i=a.transitionDuration||a.webkitTransitionDuration;var r=l._calcCssTime(t,n,i);return Math.max(o,r)},l._fillEmptyOptions=function(e,t){e.delay=e.delay||t.delay,e.duration=e.duration||t.duration,e.timingFunction=e.timingFunction||t.timingFunction,e.persist=e.persist||t.persist},l._triggerEvent=function(e,t,n,i){var a;if(i&&i._trigger)a=!i._trigger(t,null,n);else{var o="oj"+t.substr(0,1).toUpperCase()+t.substr(1),r=new CustomEvent(o,{detail:n,bubbles:!0,cancelable:!0}),s=i||e;s.dispatchEvent&&s.dispatchEvent(r),a=r.defaultPrevented}return a},l.startAnimation=function(e,t,i,a){return e=n(e)[0],new Promise(function(o,r){var s=n(e),f="oj-animate-"+t,d=f+"-active",c=!1,u=!1,m=function(){if(c&&u){s.removeClass(f),s.removeClass(d),l._restoreStyle(e),o(!0);var n={action:t,element:e};l._triggerEvent(e,"animateEnd",n,a)}},p=function(){c=!0,m()},g=function(){u=!0,m()};l._saveStyle(e,null,null,null,null);var h={action:t,element:e,endCallback:p};if(!l._triggerEvent(e,"animateStart",h,a)){for(var v=[].concat(i),_=[],y={},x=0;x<v.length;x++){var b,C=v[x],O="";null!=C&&"none"!==C&&("string"==typeof C?(O=C,b={}):"object"==typeof C&&(O=C.effect,b=n.extend({},C)),l._fillEmptyOptions(b,y),y=n.extend({},b)),O&&l[O]&&_.push(l[O](e,b))}_.length?Promise.all(_).then(p):p()}s.addClass(f);var w=window.requestAnimationFrame(function(){w=0,s.addClass(d);var t=l._calcEffectTime(e);t>0?setTimeout(g,t+100):g()});setTimeout(function(){w&&(window.cancelAnimationFrame(w),w=0,g())},1e3)})},l._mergeOptions=function(e,t){return null==l._defaultOptions&&(l._defaultOptions=a.parseJSONFromFontFamily("oj-animation-effect-default-options")),n.extend({duration:"400ms"},l._defaultOptions?l._defaultOptions[e]:null,t)},l._createTransitionValue=function(e,t,n){var i="";if(t)for(var a=0;a<t.length;a++){var o=l._getName(e,t[a]);i+=(a>0?", ":"")+l._getHyphenatedPropName(o)+" "+n.duration,n.timingFunction&&(i+=" "+n.timingFunction),n.delay&&(i+=" "+n.delay)}return i},l._fade=function(e,t,n,i,a){var o=l._mergeOptions(n,t),r={css:{opacity:i}},s={css:{opacity:a}};return o&&(o.startOpacity&&(r.css.opacity=o.startOpacity),o.endOpacity&&(s.css.opacity=o.endOpacity)),l._animate(e,r,s,o,["opacity"])},l.fadeIn=function(e,t){return l._fade(e,t,"fadeIn",0,1)},l.fadeOut=function(e,t){return l._fade(e,t,"fadeOut",1,0)},l.expand=function(e,t){return l._expandCollapse(e,t,!0)},l.collapse=function(e,t){return l._expandCollapse(e,t,!1)},l._wrapRowContent=function(e,t){var n,i,a=[],o=e.children,r=[],s=[];for(e._ojSavedHeight=e.style.height,i=0;i<o.length;i++){n=o[i];var l=window.getComputedStyle(n);r.push(l.padding),s.push(l.textAlign),n._ojSavedPadding=n.style.padding}for(i=0;i<o.length;i++){n=o[i];var f=document.createElement("div");f.style.overflow="hidden;";var d=document.createElement("div");for(d.style.display="table-cell",d.style.verticalAlign="middle",d.style.boxSizing="border-box",d.style.height=t,d.style.padding=r[i],d.style.textAlign=s[i],f.appendChild(d);n.firstChild;)d.appendChild(n.firstChild);n.appendChild(f),n.style.padding="0",a.push(f)}return e.style.height="0",a},l._unwrapRowContent=function(e){for(var t=e.children,n=0;n<t.length;n++){var i=t[n],a=i.children[0];if(a){var o=a.children[0];if(o)for(;o.firstChild;)i.appendChild(o.firstChild);i.removeChild(a)}i.style.padding=i._ojSavedPadding,delete i._ojSavedPadding}e.style.height=e._ojSavedHeight,delete e._ojSavedHeight},l._expandCollapseRow=function(e,t,i){var a=Promise.resolve(),o=e.offsetHeight+"px",r=l._wrapRowContent(e,o),s=n.extend({},t);if(i?s.endMaxHeight||(s.endMaxHeight=o):s.startMaxHeight||(s.startMaxHeight=o),s.persist="all",s._noReflow=!0,r.length)for(var f=0;f<r.length;f++)0===f?(s._skipPromise=!1,a=l._expandCollapse(r[f],s,i)):(s._skipPromise=!0,l._expandCollapse(r[f],s,i));return a.then(function(){null!=t&&"all"===t.persist||l._unwrapRowContent(e)})},l._getSizeLimit=function(e,t,n,i,a){var o=n;if(!o)if(i)o="0";else{var r=a?t.maxWidth:t.maxHeight;o="none"!==r?r:(a?e.offsetWidth:e.offsetHeight)+"px"}return o},l._expandCollapse=function(e,t,n){if(e&&"TR"===e.tagName)return l._expandCollapseRow(e,t,n);var i=l._mergeOptions(n?"expand":"collapse",t),a={css:{}},o={css:{}},r=i.direction||"height",s=a.css,f=o.css,d=window.getComputedStyle(e),c=[];if("both"===r||"height"===r){var u=l._getSizeLimit(e,d,i.startMaxHeight,n,!1),m=l._getSizeLimit(e,d,i.endMaxHeight,!n,!1);s.maxHeight=u,f.maxHeight=m,c.push("maxHeight")}if("both"===r||"width"===r){var p=l._getSizeLimit(e,d,i.startMaxWidth,n,!0),g=l._getSizeLimit(e,d,i.endMaxWidth,!n,!0);s.maxWidth=p,f.maxWidth=g,c.push("maxWidth")}s.overflow=i.overflow?i.overflow:"hidden";var h=[].concat(c);return h.push("overflow"),l._animate(e,a,o,i,c,h)},l.zoomIn=function(e,t){return l._zoom(e,t,!0)},l.zoomOut=function(e,t){return l._zoom(e,t,!1)},l._zoom=function(e,t,n){var i,a=l._mergeOptions(n?"zoomIn":"zoomOut",t),o={css:{}},r={css:{}},f=a.axis||"both";i="both"===f?"scale":"x"===f?"scaleX":"scaleY";var d=o.css,c=r.css,u="transform";return d[u]=i+"("+(n?0:1)+s,c[u]=i+"("+(n?1:0)+s,d.transformOrigin=a.transformOrigin||"center",l._animate(e,o,r,a,[u])},l.slideIn=function(e,t){return l._slide(e,t,!0)},l.slideOut=function(e,t){return l._slide(e,t,!1)},l._slide=function(e,t,n){var a=l._mergeOptions(n?"slideIn":"slideOut",t),o={css:{}},f={css:{}},d=a.direction||"start",c="0",u="0",m=o.css,p=f.css;if(a.offsetX||a.offsetY)a.offsetX&&(c=a.offsetX),a.offsetY&&(u=a.offsetY);else{var g="rtl"===i.getReadingDirection();switch(d){case"left":c=(n?e.offsetWidth:-e.offsetWidth)+"px";break;case"right":c=(n?-e.offsetWidth:e.offsetWidth)+"px";break;case"top":u=(n?e.offsetHeight:-e.offsetHeight)+"px";break;case"bottom":u=(n?-e.offsetHeight:e.offsetHeight)+"px";break;case"end":c=(n?-e.offsetWidth:e.offsetWidth)*(g?-1:1)+"px";break;default:c=(n?e.offsetWidth:-e.offsetWidth)*(g?-1:1)+"px"}}var h="transform";return n?(m[h]=r+c+","+u+s,p[h]="translate(0,0) translateZ(0)"):(m[h]="translate(0,0) translateZ(0)",p[h]=r+c+","+u+s),l._animate(e,o,f,a,[h])},l.ripple=function(e,t){var i=l._mergeOptions("ripple",t),a={css:{}},o={css:{}},r=e.offsetWidth,s=e.offsetHeight,f=n("<div>").css({position:"absolute",overflow:"hidden"}),d=n("<div class='oj-animation-effect-ripple oj-animation-rippler'>"),c="static"===window.getComputedStyle(e).position?{left:e.offsetLeft,top:e.offsetTop}:{left:0,top:0};e.insertBefore(f[0],e.firstChild),f.css({left:c.left+"px",top:c.top+"px",width:r+"px",height:s+"px"}),f.prepend(d);var u=a.css,m=o.css,p="transform";return l._setRippleOptions(u,d,f,i),u[p]="scale(0) translateZ(0)",u.opacity=i.startOpacity||d.css("opacity"),m[p]="scale(1) translateZ(0)",m.opacity=i.endOpacity||0,i.persist="all",l._animate(d[0],a,o,i,[p,"opacity"]).then(function(){f.remove()})},l._setRippleOptions=function(e,t,n,i){var a=e,o=t.width(),r=n.width(),s=n.height();if(i.diameter){var f=i.diameter,d=parseInt(f,10);isNaN(d)||(o="%"===f.charAt(f.length-1)?Math.floor(Math.min(r,s)*(d/100)):d,a.width=o+"px",a.height=o+"px")}var c,u="static"===n.css("position")?n.position():{left:0,top:0};null!=(c=l._calcRippleOffset(i.offsetX,o,r,u.left))&&(a.left=c+"px"),null!=(c=l._calcRippleOffset(i.offsetY,o,s,u.top))&&(a.top=c+"px"),i.color&&(a.backgroundColor=i.color)},l._calcRippleOffset=function(e,t,n,i){var a,o=e||"50%",r=parseInt(o,10);return isNaN(r)||(a="%"===o.charAt(o.length-1)?n*(r/100)-t/2:r-t/2,a=Math.floor(a+i)),a},l._removeRipple=function(e,t){var i=t||{},a=i.removeEffect||"fadeOut",r=n(".oj-animation-rippler",e);if(0!==r.length)return a in{fadeOut:1,collapse:1,zoomOut:1,slideOut:1}?l[a](r,i).then(function(){r.remove()}):r.remove();o.warn("No rippler so returning")},l._calcBackfaceAngle=function(e){var t,n=e.match(/^([+-]?\d*\.?\d*)(.*)$/),i=parseFloat(n[1]),a=n[2];switch(a){case"deg":t=i-180+a;break;case"grad":t=i-200+a;break;case"rad":t=i-3.1416+a;break;case"turn":t=i-.5+a;break;default:o.error("Unknown angle unit in flip animation: "+a)}return t},l._flip=function(e,t,i,a,o){if(t&&"children"===t.flipTarget){var r,s=[],f=n(e).children(),d=n.extend({},t);delete d.flipTarget;var c=n.extend({},d);c.startAngle=l._calcBackfaceAngle(t.startAngle||a),c.endAngle=l._calcBackfaceAngle(t.endAngle||o);for(var u=0;u<f.length;u++)r=n(f[u]).hasClass("oj-animation-backface")?c:d,s.push(l._flip(f[u],r,i,a,o));return Promise.all(s)}var m,p={},g={},h={css:p},v={css:g},_="rotateY(",y="2000px",x="hidden",b="center";(t=l._mergeOptions(i,t))&&("x"===t.axis&&(_="rotateX("),t.startAngle&&(a=t.startAngle),t.endAngle&&(o=t.endAngle),t.perspective&&(y=t.perspective),t.backfaceVisibility&&(x=t.backfaceVisibility),t.transformOrigin&&(b=t.transformOrigin)),m="perspective("+y+") "+_;var C="backfaceVisibility",O="transform",w="transformOrigin";return p[O]=m+a+")",p[C]=x,p[w]=b,g[O]=m+o+")",l._animate(e,h,v,t,[O],[O,C,w])},l.flipIn=function(e,t){return l._flip(e,t,"flipIn","-180deg","0deg")},l.flipOut=function(e,t){return l._flip(e,t,"flipOut","0deg","180deg")},l.addTransition=function(e,t){var n=l._mergeOptions("addTransition",t);return l._animate(e,null,null,n,n.transitionProperties)},l._createHeroParent=function(){var e=document.createElement("div"),t=document.body;t.appendChild(e),e.style.position="absolute",e.style.height=t.offsetHeight+"px",e.style.width=t.offsetWidth+"px",e.style.left=t.offsetLeft+"px",e.style.top=t.offsetTop+"px",e.style.zIndex=2e3,e.className="oj-animation-host-viewport";var n=document.createElement("div");return n.className="oj-animation-host",e.appendChild(n),n},l._removeHeroParent=function(e){if(e){var t=e.parentNode;t&&t.parentNode&&t.parentNode.removeChild(t)}},l._defaultHeroCreateClonedElement=function(e){return e.fromElement.cloneNode(!0)},l._defaultHeroHideFromAndToElements=function(e){var t=e.fromElement,n=e.toElement;t.style.visibility="hidden",n.style.visibility="hidden"},l._defaultHeroAnimateClonedElement=function(e){return new Promise(function(t){var n=e.clonedElement.style;n.transformOrigin="left top",n.transform="translate(0, 0) scale(1, 1)",requestAnimationFrame(function(){n.transitionDelay=e.delay,n.transitionDuration=e.duration,n.transitionTimingFunction=e.timingFunction,n.transitionProperty="transform";var i=r+e.translateX+"px,"+e.translateY+"px)";i+=" scale("+e.scaleX.toFixed(2)+","+e.scaleY.toFixed(2)+")",n.transform=i;var a=l._getTimingValue(e.delay)+l._getTimingValue(e.duration);setTimeout(function(){t()},a)})})},l._defaultHeroShowToElement=function(e){e.toElement.style.visibility="visible"},l._doAnimateHero=function(e,t,n,i,a,o){var r=document.querySelector(t);if(null!=r){var s=e.getBoundingClientRect(),f=r.getBoundingClientRect(),d=f.left-s.left,c=f.top-s.top,u=f.width/s.width,m=f.height/s.height,p={fromElement:e,toElement:r,clonedElement:null,translateX:d,translateY:c,scaleX:u,scaleY:m,toElementElapsedTime:i,delay:n.delay,duration:n.duration,timingFunction:n.timingFunction},g=n.createClonedElement(p);p.clonedElement=g;var h=l._createHeroParent(),v=h.getBoundingClientRect();h.appendChild(g),g.style.position="absolute",g.style.left=s.left-v.left+"px",g.style.top=s.top-v.top+"px",n.hideFromAndToElements(p),g.style.visibility="visible",n.animateClonedElement(p).then(function(){_(),a()}).catch(function(e){_(),o(e)})}else{i+100>n.toElementWaitTime?o("toElement not found in DOM after toElementWaitTime has expired"):setTimeout(function(){l._doAnimateHero(e,t,n,i+100,a,o)},100)}function _(){n.showToElement(p),l._removeHeroParent(h)}},l.animateHero=function(e,t){var n=e,i={toElementWaitTime:5e3,createClonedElement:l._defaultHeroCreateClonedElement,hideFromAndToElements:l._defaultHeroHideFromAndToElements,animateClonedElement:l._defaultHeroAnimateClonedElement,showToElement:l._defaultHeroShowToElement,delay:"0s",duration:"400ms",timingFunction:"ease"};return Object.assign(i,t),new Promise(function(e,a){n?t.toElementSelector?l._doAnimateHero(n,t.toElementSelector,i,0,e,a):a("No options.toElementSelector specified"):a("No element specified")})};const f=l.startAnimation,d=l.fadeIn,c=l.fadeOut,u=l.expand,m=l.collapse,p=l.zoomIn,g=l.zoomOut,h=l.slideIn,v=l.slideOut,_=l.ripple,y=l.flipIn,x=l.flipOut,b=l.addTransition,C=l.animateHero;e.addTransition=b,e.animateHero=C,e.collapse=m,e.expand=u,e.fadeIn=d,e.fadeOut=c,e.flipIn=y,e.flipOut=x,e.ripple=_,e.slideIn=h,e.slideOut=v,e.startAnimation=f,e.zoomIn=p,e.zoomOut=g,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojanimation.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojpopup',["ojs/ojpopupcore","ojs/ojcore-base","jquery","ojs/ojcontext","ojs/ojdomutils","ojs/ojthemeutils","ojs/ojcomponentcore","ojs/ojanimation","ojs/ojfocusutils","ojs/ojcustomelement-utils"],function(e,t,i,s,o,n,r,a,l,u){"use strict";var c;t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i,s=s&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s,l=l&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l,function(){var c=["oj-left","oj-center","oj-right","oj-top","oj-middle","oj-bottom"],h={"right-top":"oj-right oj-top","right-middle":"oj-right oj-middle","right-bottom":"oj-right oj-bottom","left-top":"oj-left oj-top","left-middle":"oj-left oj-middle","left-bottom":"oj-left oj-bottom","center-top":"oj-center oj-top","center-middle":"oj-left oj-middle","center-bottom":"oj-center oj-bottom"};t.__registerWidget("oj.ojPopup",i.oj.baseComponent,{widgetEventPrefix:"oj",options:{animation:null,autoDismiss:"focusLoss",chrome:"default",initialFocus:"auto",position:{my:{horizontal:"start",vertical:"top"},offset:{x:0,y:0},at:{horizontal:"start",vertical:"bottom"},of:void 0,collision:"flip"},tail:"none",modality:"modeless",role:"tooltip",beforeOpen:null,open:null,beforeClose:null,close:null,focus:null,animateStart:null,animateEnd:null},_ComponentCreate:function(){this._super();var e=this._getRootStyle(),s=this.element;s.hide().addClass(e).attr("aria-hidden","true"),s.addClass("oj-component");var o=i("<div>");o.addClass([e,"content"].join("-")),o.attr("role","presentation"),o.append(s[0].childNodes),o.appendTo(s),this._content=o,this._setChrome(),this._setupFocus(s);var n=this.options;n.position=t.PositionUtils.coerceToJet(n.position)},_AfterCreate:function(){this._super(),this.element.uniqueId(),this._createTail()},_destroy:function(){t.ZOrderUtils.getStatus(this.element)===t.ZOrderUtils.STATUS.OPEN&&this._closeImplicitly(),this._setWhenReady("none"),this._destroyTail(),delete this._popupServiceEvents;var e=this.element;e.hide().attr("aria-hidden","true").removeUniqueId();var i=this._content;delete this._content,e.append(i[0].childNodes),i.remove();var s=this._closeDelayTimer;s&&(delete this._closeDelayTimer,s()),this._super()},open:function(e,i){if(!this._isOperationPending("open",[e,i])){t.ZOrderUtils.getStatus(this.element)===t.ZOrderUtils.STATUS.OPEN&&this._closeImplicitly();var s=this.element,o=t.ZOrderUtils.getStatus(s);if(o===t.ZOrderUtils.STATUS.CLOSE||o===t.ZOrderUtils.STATUS.UNKNOWN)if(t.ZOrderUtils.setStatus(s,t.ZOrderUtils.STATUS.BEFORE_OPEN),!1!==this._trigger("beforeOpen")){this._setWhenReady("open"),this._setLauncher(e);var n=this._launcher,r=this.options;(i=i||r.position).of||(this._hasPositionOfLauncherOverride=!0,i.of=n),this._setPosition(i),this._setAutoDismiss(r.autoDismiss),"modal"!==r.modality&&this._addDescribedBy(),this._IsCustomElement()&&s[0].hasAttribute("role")||s.attr("role",r.role);var a=this._getPositionAsJqUi(),l=this._getRootStyle(),u=[l,"layer"].join("-"),c=r.tail;"none"!==c&&(u+=" "+[l,"tail",c].join("-"));var h={};h[t.PopupService.OPTION.POPUP]=s,h[t.PopupService.OPTION.LAUNCHER]=n,h[t.PopupService.OPTION.POSITION]=a,h[t.PopupService.OPTION.EVENTS]=this._getPopupServiceEvents(),h[t.PopupService.OPTION.LAYER_SELECTORS]=u,h[t.PopupService.OPTION.MODALITY]=r.modality,h[t.PopupService.OPTION.CUSTOM_ELEMENT]=this._IsCustomElement(),t.PopupService.getInstance().open(h)}else t.ZOrderUtils.setStatus(this.element,o)}},_beforeOpenHandler:function(e){var i=e[t.PopupService.OPTION.POPUP],s=e[t.PopupService.OPTION.POSITION];i.show(),i.position(s),this.initialWidth=i.width(),this.initialHeight=i.height();var o=this.options.animation;if(o&&o.open){var n=o.actionPrefix,r=n?[n,"open"].join("-"):"open";return a.startAnimation(i[0],r,t.PositionUtils.addTransformOriginAnimationEffectsOption(i,o.open),this)}},_afterOpenHandler:function(e){var i=e[t.PopupService.OPTION.POPUP],s=e[t.PopupService.OPTION.LAUNCHER];this.initialWidth===i.width()&&this.initialHeight===i.height()||this._reposition(),delete this.initialWidth,delete this.initialHeight,this._registerResizeListener(i[0]),this._initVoiceOverAssist(),this._trigger("open"),this._intialFocus(),this._on(i,{keydown:this._keyHandler}),s&&s.length>0&&this._on(s,{keydown:this._keyHandler})},_GetContextMenu:function(){if(!this._IsCustomElement())return this._super();var e=u.CustomElementUtils.getSlotMap(this._content[0]).contextMenu;return e&&e.length>0?e[0]:void 0},close:function(){if(!this._isOperationPending("close",[])){var e=this.element,i=t.ZOrderUtils.getStatus(e);if(i===t.ZOrderUtils.STATUS.OPEN)if(t.ZOrderUtils.setStatus(e,t.ZOrderUtils.STATUS.BEFORE_CLOSE),!1!==this._trigger("beforeClose")||this._ignoreBeforeCloseResultant){this._setWhenReady("close");var s=this._launcher;this._off(e,"keydown"),s&&s.length>0&&this._off(s,"keydown"),this._restoreFocus(),this._destroyVoiceOverAssist();var o={};o[t.PopupService.OPTION.POPUP]=e,t.PopupService.getInstance().close(o)}else t.ZOrderUtils.setStatus(e,i)}},_beforeCloseHandler:function(e){var i=e[t.PopupService.OPTION.POPUP];this._unregisterResizeListener(i[0]);var s=this.options.animation;if(!this._ignoreBeforeCloseResultant&&s&&s.close){var o=s.actionPrefix,n=o?[o,"close"].join("-"):"close";return a.startAnimation(i[0],n,t.PositionUtils.addTransformOriginAnimationEffectsOption(i,s.close),this).then(function(){i.hide()})}i.hide()},_afterCloseHandler:function(e){(this._removeDescribedBy(),this._setAutoDismiss(),delete this._launcher,this._trigger("close"),this._hasPositionOfLauncherOverride)&&(this.options.position.of=null,delete this._hasPositionOfLauncherOverride)},isOpen:function(){var e=t.ZOrderUtils.getStatus(this.element);return e===t.ZOrderUtils.STATUS.OPENING||e===t.ZOrderUtils.STATUS.OPEN||e===t.ZOrderUtils.STATUS.BEFORE_CLOSE||e===t.ZOrderUtils.STATUS.CLOSING},refresh:function(){if(this._super(),t.ZOrderUtils.getStatus(this.element)===t.ZOrderUtils.STATUS.OPEN&&this._reposition()){var e=this.element;t.PopupService.getInstance().triggerOnDescendents(e,t.PopupService.EVENT.POPUP_REFRESH)}},_setOption:function(e,i){var s=this.options;switch(e){case"tail":i!==s.tail&&this._setTail(i);break;case"chrome":i!==s.chrome&&this._setChrome(i);break;case"position":return this._setPosition(i),void this.refresh();case"autoDismiss":t.ZOrderUtils.getStatus(this.element)===t.ZOrderUtils.STATUS.OPEN&&i!==s.autoDismiss&&this._setAutoDismiss(i);break;case"modality":if(t.ZOrderUtils.getStatus(this.element)===t.ZOrderUtils.STATUS.OPEN){var o=this.element,n={};n[t.PopupService.OPTION.POPUP]=o,n[t.PopupService.OPTION.MODALITY]=i,t.PopupService.getInstance().changeOptions(n)}}this._superApply(arguments)},_getRootStyle:function(){return"oj-popup"},_setTail:function(e){this._destroyTail(),this._createTail(e),this._reposition()},_createTail:function(e){var s=e||this.options.tail;if("none"!==s){var o=this._getRootStyle(),n=[o,"tail"].join("-"),r=[n,s].join("-"),a=i("<div>").hide();a.addClass(n).addClass(r),a.attr("role","presentation"),this._tailId=a.attr("id",this._getSubId("tail")).attr("id");var l=this.element;if(a.appendTo(l),l.addClass(r),t.ZOrderUtils.getStatus(this.element)===t.ZOrderUtils.STATUS.OPEN){var u=[o,"layer"].join("-");u+=" "+r;var c={};c[t.PopupService.OPTION.POPUP]=l,c[t.PopupService.OPTION.LAYER_SELECTORS]=u,t.PopupService.getInstance().changeOptions(c)}}},_getTail:function(){var e=this._tailId;return e?i(document.getElementById(e)):null},_destroyTail:function(){var e=this._getTail();e&&e.remove(),delete this._tailId;var i=this.options.tail,s=this._getRootStyle(),o=[s,"tail",i].join("-"),n=this.element;if(n.removeClass(o),t.ZOrderUtils.getStatus(this.element)===t.ZOrderUtils.STATUS.OPEN){var r=[s,"layer"].join("-"),a={};a[t.PopupService.OPTION.POPUP]=n,a[t.PopupService.OPTION.LAYER_SELECTORS]=r,t.PopupService.getInstance().changeOptions(a)}},_setChrome:function(e){var t=e||this.options.chrome,i=[this._getRootStyle(),"no-chrome"].join("-"),s=this.element;"default"===t&&s.hasClass(i)?s.removeClass(i):"none"!==t||s.hasClass(i)||s.addClass(i)},_setLauncher:function(e){var t=e;if(t?("string"===i.type(t)||1===t.nodeType)&&(t=i(t)):t=i(document.activeElement),t instanceof i&&t.length>1)for(var s=this.element,n=0;n<t.length;n++){var r=t[0];if(!o.isAncestorOrSelf(s[0],r)){t=i(r);break}}else t instanceof i&&!(t instanceof i&&0===t.length)||(t=i(document.activeElement));this._launcher=t},_setPosition:function(e){var i=this.options;e&&(i.position=t.PositionUtils.coerceToJet(e,i.position))},_getPositionAsJqUi:function(){var e=this.options,s=t.PositionUtils.coerceToJqUi(e.position),o="rtl"===this._GetReadingDirection(),n=(s=t.PositionUtils.normalizeHorizontalAlignment(s,o)).using;return n=i.isFunction(n)?n:null,s.using=this._usingHandler.bind(this,n),s},_resolveBusyStateAndCloseImplicitly:function(e){e(),delete this._closeDelayTimer,this._closeImplicitly()},_resolveBusyStateAndCancelDelayedClosure:function(e,t){window.clearTimeout(e),t()},_usingHandler:function(e,i,n){var r=n.element.element;if(i.top!==r.css("top")||i.left!==r.css("left")){var a=this._getTail();if(a){a.hide();for(var l=0;l<c.length;l++)a.removeClass(c[l]),r.removeClass(c[l]);if(a.removeAttr("style"),n.target&&0===n.target.height&&0===n.target.width){var u="rtl"===this._GetReadingDirection(),p=t.PositionUtils.normalizeHorizontalAlignment(this.options.position,u).my;if(!t.StringUtils.isEmptyOrUndefined(p)){var d="center"===p.horizontal?p.horizontal:n.horizontal,f="center"===p.vertical?"middle":p.vertical;n.horizontal=d,n.vertical=f}}var _=[n.horizontal,n.vertical].join("-"),v=h[_];a.addClass(v),r.addClass(v),a.show();var m,g;if("left"===n.horizontal?(m=a.outerWidth(),m-=m+o.getCSSLengthAsInt(a.css("left")),i.left+=m-2):"right"===n.horizontal&&(m=a.outerWidth(),m-=m+o.getCSSLengthAsInt(a.css("right")),i.left-=m-2),"top"===n.vertical?(g=a.outerHeight(),g-=g+o.getCSSLengthAsInt(a.css(n.vertical)),i.top+=g-2):"bottom"===n.vertical&&(g=a.outerHeight(),g-=g+o.getCSSLengthAsInt(a.css(n.vertical)),i.top-=g-2),r.css(i),"center"===n.horizontal&&"middle"!==n.vertical){var O=r.width(),S=Math.round((O/2-a.outerWidth()/2)/O*100);a.css({left:S+"%"})}else if("middle"===n.vertical){var P=r.height(),y=Math.round((P/2-a.outerHeight()/2)/P*100);a.css({top:y+"%"})}}else r.css(i);if(t.PositionUtils.captureTransformOriginAnimationEffectsOption(r,n),e&&e(i,n),"focusLoss"===this.options.autoDismiss&&t.PositionUtils.isAligningPositionClipped(n)){this._ignoreRestoreFocus=!0;var T=s.getContext(this.element[0]).getBusyContext(),E={description:["ojPopup identified by '",this.element.attr("id"),"' is pending implicit closure."].join("")},U=T.addBusyState(E),b=window.setTimeout(this._resolveBusyStateAndCloseImplicitly.bind(this,U),0);this._closeDelayTimer=this._resolveBusyStateAndCancelDelayedClosure.bind(this,b,U)}}},_reposition:function(){var e=this.element,s=this._getPositionAsJqUi();if(t.StringUtils.isString(s.of)){var o=i(s.of);if(0===o.length)return!1;s.of=o}return!(this.element.width()>window.innerWidth||this.element.height()>window.innerHeight)&&(e.position(s),!0)},_unregisterResizeListener:function(e){e&&this._resizeHandler&&(o.removeResizeListener(e,this._resizeHandler),this._resizeHandler=null)},_registerResizeListener:function(e){e&&(null==this._resizeHandler&&(this._resizeHandler=this._handleResize.bind(this)),o.addResizeListener(e,this._resizeHandler,30,!0))},_handleResize:function(){t.ZOrderUtils.getStatus(this.element)===t.ZOrderUtils.STATUS.OPEN&&this._reposition()},_intialFocus:function(e){var t=this._deriveInitialFocus();(e||"none"!==t)&&(this.GetFocusElement().focus(),this._trigger("focus"))},GetFocusElement:function(){var e=document.activeElement;if(e&&this._isFocusInPopup(e))return e;var t,s=this._deriveInitialFocus();if("none"===s&&(s="popup"),"firstFocusable"===s){for(var o=this._content.find(":focusable"),n=0;n<o.length;n++)if(l.isFocusable(o[n])){t=i(o[n]);break}t||(s="popup")}if("popup"===s){var r=this._closeSkipLink;r?t=r.getLink():(t=this.element).attr("tabindex","-1")}return t[0]},_deriveInitialFocus:function(){var e=this.options,t=e.initialFocus;"auto"===t&&(t="modal"===e.modality?o.isTouchSupported()?"popup":"firstFocusable":"none");return t},_isFocusInPopup:function(e,t){if(e||(e=document.activeElement),!e)return!1;var i=this.element;return t&&(i=i.parent()),o.isAncestorOrSelf(i[0],e)},_isFocusInLauncher:function(e){e||(e=document.activeElement);var t=this._launcher;return o.isAncestorOrSelf(t[0],e)},_restoreFocus:function(){this._ignoreRestoreFocus?delete this._ignoreRestoreFocus:this._isFocusInPopup(null,!0)&&this._launcher.focus()},_keyHandler:function(e){if(!e.isDefaultPrevented()){var t=this._content,s=e.target;if(e.keyCode===i.ui.keyCode.ESCAPE&&(this._isFocusInPopup(s)||this._isFocusInLauncher(s)))e.preventDefault(),e.stopPropagation(),this.close();else if(117===e.keyCode||"F6"===e.key)this._isFocusInPopup(s)?"modeless"===this.options.modality?(e.preventDefault(),this._launcher.focus()):this.close():this._isFocusInLauncher(s)&&(e.preventDefault(),this._intialFocus(!0));else if(e.keyCode===i.ui.keyCode.TAB&&this._isFocusInPopup(s)){var o=t.find(":tabbable");if(o.length>0){var n=o[0],r=o[o.length-1],a=this.element;n!==s&&a[0]!==s||!e.shiftKey?r!==s||e.shiftKey||(e.preventDefault(),r===n?(a.attr("tabindex","-1"),a.focus()):i(n).focus()):(e.preventDefault(),n===r&&n===s?(a.attr("tabindex","-1"),a.focus()):i(r).focus())}else e.preventDefault(),"modeless"===this.options.modality?this._launcher.focus():this.close()}}},_setAutoDismiss:function(e){var i=this._focusLossCallback,s=this._getPopupServiceEvents();if(i&&(delete s[t.PopupService.EVENT.POPUP_AUTODISMISS],delete this._focusLossCallback),"focusLoss"===e&&(i=this._dismissalHandler.bind(this),this._focusLossCallback=i,s[t.PopupService.EVENT.POPUP_AUTODISMISS]=i),t.ZOrderUtils.getStatus(this.element)===t.ZOrderUtils.STATUS.OPEN){var o=this.element,n={};n[t.PopupService.OPTION.POPUP]=o,n[t.PopupService.OPTION.EVENTS]=s,t.PopupService.getInstance().changeOptions(n)}},_dismissalHandler:function(e){if(t.ZOrderUtils.getStatus(this.element)===t.ZOrderUtils.STATUS.OPEN){var i=this._launcher,s=this.element.parent(),n=e.target,r=this._focusSkipLink;if(r){var a=r.getLink();if(a&&o.isAncestorOrSelf(a[0],n))return}if(!o.isAncestorOrSelf(i[0],n)&&!o.isAncestorOrSelf(s[0],n)){var u=n.getAttribute("tabindex");if(l.isFocusable(n)&&"-1"!==u){if("mousedown"===e.type||"touchstart"===e.type)return;this._ignoreRestoreFocus=!0}this.close()}}},_addDescribedBy:function(){var e=this._launcher,t=this.element.attr("id"),s=e.attr("aria-describedby"),o=s?s.split(/\s+/):[];o.push(t),s=i.trim(o.join(" ")),e.attr("aria-describedby",s)},_removeDescribedBy:function(){var e=this._launcher,t=this.element;if(e&&0!==e.length){var s=t.attr("id"),o=e.attr("aria-describedby"),n=o?o.split(/\s+/):[],r=i.inArray(s,n);-1!==r&&n.splice(r,1),(o=i.trim(n.join(" ")))?e.attr("aria-describedby",o):e.removeAttr("aria-describedby")}},_initVoiceOverAssist:function(){var i,s="modal"===this.options.modality,o=t.AgentUtils.getAgentInfo().os===t.AgentUtils.OS.IOS||t.AgentUtils.getAgentInfo().os===t.AgentUtils.OS.ANDROID;if(!s){var n=this._liveRegion;n||(n=new e.PopupLiveRegion,this._liveRegion=n);var r=this._deriveInitialFocus();i=o?this.getTranslatedString("none"===r?"ariaLiveRegionInitialFocusNoneTouch":"ariaLiveRegionInitialFocusFirstFocusableTouch"):this.getTranslatedString("none"===r?"ariaLiveRegionInitialFocusNone":"ariaLiveRegionInitialFocusFirstFocusable"),n.announce(i)}if(o){var a;if(!s){var l=this._getSubId("focusSkipLink"),u=this._launcher;a=this._intialFocus.bind(this,!0),i=this.getTranslatedString("ariaFocusSkipLink"),this._focusSkipLink=new e.PopupSkipLink(u,i,a,l)}var c=this._content,h=this._getSubId("closeSkipLink");a=this._closeImplicitly.bind(this),i=this.getTranslatedString("ariaCloseSkipLink"),this._closeSkipLink=new e.PopupSkipLink(c,i,a,h)}},_destroyVoiceOverAssist:function(){var e=this._liveRegion;e&&(e.destroy(),delete this._liveRegion);var t=this._focusSkipLink;t&&(t.destroy(),delete this._focusSkipLink);var i=this._closeSkipLink;i&&(i.destroy(),delete this._closeSkipLink)},_getSubId:function(e){var i=this.element.attr("id");return t.StringUtils.isEmptyOrUndefined(i)&&(i=this.uuid),[i,e].join("_")},_surrogateRemoveHandler:function(){var e=this.element;t.ZOrderUtils.getStatus(e)===t.ZOrderUtils.STATUS.OPEN&&e.remove()},_getPopupServiceEvents:function(){if(!this._popupServiceEvents){var e={};this._popupServiceEvents=e,e[t.PopupService.EVENT.POPUP_CLOSE]=this._closeImplicitly.bind(this),e[t.PopupService.EVENT.POPUP_REMOVE]=this._surrogateRemoveHandler.bind(this),e[t.PopupService.EVENT.POPUP_REFRESH]=this.refresh.bind(this),e[t.PopupService.EVENT.POPUP_BEFORE_OPEN]=this._beforeOpenHandler.bind(this),e[t.PopupService.EVENT.POPUP_AFTER_OPEN]=this._afterOpenHandler.bind(this),e[t.PopupService.EVENT.POPUP_BEFORE_CLOSE]=this._beforeCloseHandler.bind(this),e[t.PopupService.EVENT.POPUP_AFTER_CLOSE]=this._afterCloseHandler.bind(this)}return this._popupServiceEvents},_closeImplicitly:function(){this._ignoreBeforeCloseResultant=!0,this.close(),delete this._ignoreBeforeCloseResultant},_setWhenReady:function(t){var i=this._whenReadyMediator;i&&(i.destroy(),delete this._whenReadyMediator),["open","close"].indexOf(t)<0||(this._whenReadyMediator=new e.PopupWhenReadyMediator(this.element,t,"ojPopup",this._IsCustomElement()))},_isOperationPending:function(e,t){var i=this._whenReadyMediator;return!!i&&i.isOperationPending(this,e,e,t)},_setupFocus:function(e){var t=this;this._focusable({applyHighlight:!0,setupHandlers:function(s,o){t._on(e,{focus:function(e){s(i(e.currentTarget))},blur:function(e){o(i(e.currentTarget))}})}})},_NotifyDetached:function(){t.ZOrderUtils.getStatus(this.element)===t.ZOrderUtils.STATUS.OPEN&&this._closeImplicitly(),this._super()}});const p={open:"--oj-private-popup-global-open-animation-default",close:"--oj-private-popup-global-close-animation-default"};r.setDefaultOptions({ojPopup:{modality:r.createDynamicPropertyGetter(function(){return n.getCachedCSSVarValues(["--oj-private-popup-global-modality-default"])[0]}),animation:r.createDynamicPropertyGetter(function(){const e={},t=Object.keys(p),i=t.map(e=>p[e]),s=n.getCachedCSSVarValues(i);return t.forEach((t,i)=>{e[t]=JSON.parse(s[i])}),e})}})}(),(c={properties:{autoDismiss:{type:"string",enumValues:["focusLoss","none"],value:"focusLoss"},chrome:{type:"string",enumValues:["default","none"],value:"default"},initialFocus:{type:"string",enumValues:["auto","firstFocusable","none","popup"],value:"auto"},modality:{type:"string",enumValues:["modal","modeless"],value:"modeless"},position:{type:"object",properties:{at:{type:"object",properties:{horizontal:{type:"string",enumValues:["center","end","left","right","start"],value:"start"},vertical:{type:"string",enumValues:["bottom","center","top"],value:"bottom"}}},collision:{type:"string",enumValues:["fit","flip","flipcenter","flipfit","none"],value:"flip"},my:{type:"object",properties:{horizontal:{type:"string",enumValues:["center","end","left","right","start"],value:"start"},vertical:{type:"string",enumValues:["bottom","center","top"],value:"top"}}},of:{type:"string|object"},offset:{type:"object",properties:{x:{type:"number",value:0},y:{type:"number",value:0}}}}},tail:{type:"string",enumValues:["none","simple"],value:"none"},translations:{type:"object",value:{},properties:{ariaCloseSkipLink:{type:"string"},ariaFocusSkipLink:{type:"string"},ariaLiveRegionInitialFocusFirstFocusable:{type:"string"},ariaLiveRegionInitialFocusFirstFocusableTouch:{type:"string"},ariaLiveRegionInitialFocusNone:{type:"string"},ariaLiveRegionInitialFocusNoneTouch:{type:"string"}}}},methods:{close:{},getProperty:{},isOpen:{},open:{},refresh:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAnimateEnd:{},ojAnimateStart:{},ojBeforeClose:{},ojBeforeOpen:{},ojClose:{},ojFocus:{},ojOpen:{}},extension:{}}).extension._WIDGET_NAME="ojPopup",c.extension._CONTROLS_SUBTREE_HIDDEN=!0,t.CustomElementBridge.register("oj-popup",{metadata:c})});
//# sourceMappingURL=ojpopup.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojlabel',["ojs/ojcore","ojs/ojjquery-hammer","ojs/ojcomponentcore","ojs/ojpopup","ojs/ojcore-base","jquery","hammerjs","ojs/ojlogger","ojs/ojcontext","ojs/ojdomutils"],function(e,t,i,o,s,n,r,l,p,a){"use strict";var u;s=s&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n,p=p&&Object.prototype.hasOwnProperty.call(p,"default")?p.default:p,function(){const e="described-by",t="aria-labelledby",i="labelled-by",o="data-oj-input-id",u="aria-label",h=".oj-label-help-icon";s.__registerWidget("oj.ojLabel",n.oj.baseComponent,{version:"1.0.0",defaultElement:"<label>",widgetEventPrefix:"oj",options:{for:null,help:{definition:null,source:null},labelId:null,showRequired:!1,rootAttributes:null},_BUNDLE_KEY:{_TOOLTIP_HELP:"tooltipHelp",_TOOLTIP_REQUIRED:"tooltipRequired"},widget:function(){return this.uiLabel},refresh:function(){this._super(),this._refreshRequired(),this._refreshHelp(),this._addIdsToDom()},_InitOptions:function(e,t){this._super(e,t),this._isCustomElement=this._IsCustomElement(),this._checkRequiredOption()},_ComponentCreate:function(){this._super(),this._touchEatClickNamespace=this.eventNamespace+"TouchEatClick",this._touchEatContextMenuNamespace=this.eventNamespace+"TouchEatContextMenu",this._helpDefPopupNamespace=this.eventNamespace+"HelpDefPopup",this._bTouchSupported=a.isTouchSupported(),this._drawOnCreate()},_AfterCreate:function(){var s,n,r,a=this,u=this.options.for,h=this.options.showRequired;(this.OuterWrapper&&(s=this.OuterWrapper.getAttribute(o),n=this.OuterWrapper.getAttribute("data-oj-set-id")),s)?this.element[0].setAttribute("for",s):n&&(this._targetElement=document.getElementById(n),(r=this._targetElement)&&(this._needsHelpIcon()&&a._addHelpSpanIdOnTarget(a.helpSpanId,r),a.options.showRequired&&a._addRequiredDescribedByOnCustomFormElement(r)));if(u&&this._isCustomElement){var d=p.getContext(this.OuterWrapper).getBusyContext().addBusyState({description:"The oj-label id='"+this.OuterWrapper.id+"' is looking for its form component with id "+u});Promise.resolve().then(()=>{if(a._targetElement=document.getElementById(u),a._targetElement){r=a._targetElement;var t=document.getElementById(a.helpSpanId);if(a._needsHelpIcon()?a._addHelpSpanIdOnTarget(a.helpSpanId,r):t||r.getAttribute(e)!==a.helpSpanId||a._removeHelpSpanIdOnTarget(a.helpSpanId,r),h&&a._addRequiredDescribedByOnCustomFormElement(r),!s)if(a._isElementCustomElement(r)){var o=a.OuterWrapper.id;a._addElementAttribute(r,o,i)}else a.element[0].setAttribute("for",u)}else l.info("could not find an element with forOption "+u);d()})}else this._isCustomElement&&this.options.labelId&&(this._targetElement=this._getTargetElementFromLabelledAttr(t,this.options.labelId),(r=this._targetElement)&&this._needsHelpIcon()&&this._addHelpSpanIdOnTarget(this.helpSpanId,r))},_SaveAttributes:function(e){this._IsCustomElement()||(this._savedClasses=e.attr("class"))},_RestoreAttributes:function(){this._IsCustomElement()||(this._savedClasses?this.element.attr("class",this._savedClasses):this.element.removeAttr("class"))},_NotifyDetached:function(){this._superApply(arguments),this._handleCloseHelpDefPopup()},_NotifyHidden:function(){this._superApply(arguments),this._handleCloseHelpDefPopup()},_ReleaseResources:function(){this._super(),this._removeHelpDefIconEventListeners(),this.element.off("click")},_SetupResources:function(){this._super(),this._addShowHelpDefinitionEventHandlers(),this.element.on("click",function(){this._targetElement&&this._targetElement.focus()}.bind(this))},_GetTranslationsSectionName:function(){return"oj-ojLabel"},_WatchedAttributeChanged:function(e,t,i){switch(this._superApply(arguments),e){case o:this.element[0].setAttribute("for",i);break;case"data-oj-set-id":if(t&&!i){let e=document.getElementById(t);this._removeDescribedByWithPrefix(e,this.OuterWrapper.id)}else{this._targetElement=document.getElementById(i);var s=this._targetElement,n=this._needsHelpIcon(),r=this.options.showRequired;if(n||r){var l=p.getContext(this.OuterWrapper).getBusyContext().addBusyState({description:"The oj-label is writing described-by on its target."}),a=this;Promise.resolve().then(()=>{n&&a._addHelpSpanIdOnTarget(a.helpSpanId,s),a.options.showRequired&&a._addRequiredDescribedByOnCustomFormElement(s),l()})}}}},_removeDescribedByWithPrefix:function(t,i){var o,s;s=(o=t.getAttribute(e))?o.split(/\s+/):[],(o=(s=s.filter(function(e){return-1===e.indexOf(i)})).join(" ").trim())?t.setAttribute(e,o):t.removeAttribute(e)},_drawOnCreate:function(){var e,t=null;this.OuterWrapper?(this.uiLabel=n(this.OuterWrapper).append(this.element.wrap(this._createOjLabelGroupDom()).parent()),this.uiLabel.addClass("oj-label oj-component")):this.uiLabel=this.element.wrap(this._createRootDomElement()).closest(".oj-component"),this._addIdsToDom(),e=this.element[0].id,this.helpSpanId=e+"_helpIcon",this.requiredSpanId=e+"_requiredIcon",this._isCustomElement||this._moveLabelStyleClassesToRootDom(),this.options.showRequired&&this._createRequiredIconSpanDom(),this._needsHelpIcon()&&(t=this._createIconSpan(this.helpSpanId,!0),this._createHelp(t))},_addRequiredDescribedByOnCustomFormElement:function(t){t&&this._isElementCustomElementAriaRequiredUnsupported(t)&&this._addElementAttribute(t,this.requiredSpanId,e)},_removeRequiredDescribedByOnCustomFormElement:function(t){t&&this._isElementCustomElementAriaRequiredUnsupported(t)&&this._removeElementAttribute(t,this.requiredSpanId,e)},_addHelpSpanIdOnTarget:function(e,t){var i;i=this._getAriaAttributeForTarget(t),this._addElementAttribute(t,e,i)},_removeHelpSpanIdOnTarget:function(e,t){var i;i=this._getAriaAttributeForTarget(t),this._removeElementAttribute(t,e,i)},_getAriaAttributeForTarget:function(i){return this._isElementCustomElement(i)?e:"group"===i.getAttribute("role")?t:"aria-describedby"},_getTargetElementFromLabelledAttr:function(e,t){var i;return i="["+e+"~='"+t+"']",document.querySelector(i)},_isElementCustomElement:function(e){return s.Assert.assertDomElement(e),-1!==e.tagName.indexOf("-")},_isElementCustomElementAriaRequiredUnsupported:function(e){var t;s.Assert.assertDomElement(e);var i,o=["oj-radioset","oj-checkboxset"],n=o.length,r=!1;i=e.tagName.toLowerCase();for(var l=0;l<n&&!r;l++)t=o[l],0===i.indexOf(t)&&(r=!0);return r},_addElementAttribute:function(e,t,i){var o,s,n=e.getAttribute(i);-1===(s=n?n.split(/\s+/):[]).indexOf(t)&&s.push(t),o=s.join(" ").trim(),e.setAttribute(i,o)},_removeElementAttribute:function(e,t,i){var o,s,n,r=e.getAttribute(i);-1!==(s=(n=r?r.split(/\s+/):[]).indexOf(t))&&n.splice(s,1),(o=n.join(" ").trim())?e.setAttribute(i,o):e.setAttribute(i,"")},_createHelp:function(e){var t=this.options.help.definition,i=this.options.help.source,o=this._createHelpIconAnchorDomElement(t,i);n(e).prepend(o),this._attachHelpDefToIconAnchor(),this._focusable({element:o,applyHighlight:!0})},_createRequiredIconSpanDom:function(){this._createIconSpan(this.requiredSpanId,!1).appendChild(this._createRequiredIconDomElement())},_checkRequiredOption:function(){var e=this.options.showRequired;if("boolean"!=typeof e)throw new Error("Option 'showRequired' has invalid value set: "+e)},_addIdsToDom:function(){this._isCustomElement&&(this.OuterWrapper.id||n(this.OuterWrapper).uniqueId(),this._refreshLabelId()),null==this.element.attr("id")&&this.element.uniqueId()},_moveLabelStyleClassesToRootDom:function(){var e,t,i,o=this.element.attr("class");if(o){i=(e=o.split(/\s+/)).length;for(var s=0;s<i;s++)(t=e[s]).includes("-label")&&(this.uiLabel.addClass(t),this.element.removeClass(t))}},_createIconSpan:function(e,t){var i=document.createElement("span");return i.setAttribute("id",e),t?this.uiLabel.find(".oj-label-group").prepend(i):this.element.before(i),i},_createRootDomElement:function(){var e,t,i=this.options.rootAttributes,o="oj-label oj-component";return i&&(e=i.class),e&&(o=o+" "+e),(t=document.createElement("div")).className=o,t.appendChild(this._createOjLabelGroupDom()),t},_createOjLabelGroupDom:function(){var e;return(e=document.createElement("div")).className="oj-label-group",e},_createRequiredIconDomElement:function(){var e=this.getTranslatedString(this._BUNDLE_KEY._TOOLTIP_REQUIRED),t=document.createElement("span");return t.className="oj-label-required-icon oj-component-icon",t.setAttribute("role","img"),t.setAttribute("title",e),t.setAttribute(u,e),t},_createHelpIconAnchorDomElement:function(e,t){var i;if((i=document.createElement("a")).setAttribute("tabindex","0"),i.setAttribute("target","_blank"),i.className="oj-label-help-icon-anchor oj-label-help-icon oj-component-icon oj-clickable-icon-nocontext",t)try{a.validateURL(t),i.setAttribute("href",t)}catch(e){throw new Error(e+". The source option ("+t+") is invalid.")}else i.setAttribute("role","img");return e?i.setAttribute(u,e):i.setAttribute(u,this.getTranslatedString(this._BUNDLE_KEY._TOOLTIP_HELP)),i},_attachHelpDefToIconAnchor:function(){var e,t,i,o=this;0!==(t=this.widget().find(".oj-label-help-icon-anchor")).length&&(this._bTouchSupported&&(this._eatClickOnHelpIconListener&&this.widget().off(this._touchEatClickNamespace),this._eatClickOnHelpIconListener=function(){return!1},t.on("contextmenu"+this._touchEatContextMenuNamespace,!1)),this._openPopupForHelpDefCallbackListener=function(s){null==e&&((e=o._createHelpDefPopupDiv()).on("mouseleave"+o._helpDefPopupNamespace,o._mouseleaveClosePopupForHelpDefListener),e.on("mouseenter"+o._helpDefPopupNamespace,o._clearTimeoutOnPopupMouseEnterListener),i={my:"start bottom",at:"end top",collision:"flipcenter",of:t},e.ojPopup({position:i,modality:"modeless",animation:{open:null,close:null}})),o._handleOpenHelpDefPopup(s,e,t)},this._mouseleaveClosePopupForHelpDefListener=function(i){if(null!=o._helpDefPopupDivId){const s=i.currentTarget===t[0],n=i.currentTarget===e[0];if(s||n){const t=p.getContext(o.element[0]).getBusyContext();o.helpDefClosePopupBCResolved=t.addBusyState({description:"The oj-label is closing the help popup.'"}),o.closePopupTimer=setTimeout(function(){e.ojPopup("close"),o._resolveHelpDefClosePopupTimoutBC()},200)}}},this._clearTimeoutOnPopupMouseEnterListener=function(){o.closePopupTimer&&(clearTimeout(o.closePopupTimer),o._resolveHelpDefClosePopupTimoutBC())})},_createHelpDefPopupDiv:function(){var e,t,i,o,s=this.options.help.definition;return o=s||this.getTranslatedString(this._BUNDLE_KEY._TOOLTIP_HELP),this._helpDefPopupDivId?(i=n(document.getElementById(this._helpDefPopupDivId))).length&&i.find(".oj-label-help-popup-container").first().text(o):((t=document.createElement("div")).className="oj-label-help-popup",t.style.display="none",(i=n(t)).uniqueId(),this._helpDefPopupDivId=i.prop("id"),(e=document.createElement("div")).className="oj-label-help-popup-container",t.appendChild(e),n(e).text(o),this.uiLabel.append(i)),i},_addShowHelpDefinitionEventHandlers:function(){const e=this.uiLabel.find(h);0!==e.length&&(e.on("focusin"+this._helpDefPopupNamespace+" mouseenter"+this._helpDefPopupNamespace,this._openPopupForHelpDefCallbackListener),e.on("mouseleave"+this._helpDefPopupNamespace,this._mouseleaveClosePopupForHelpDefListener),this._setupHammerEventHandlers(e))},_setupHammerEventHandlers:function(){const e=this.uiLabel.find(h);if(this._bTouchSupported&&0!==e.length)if(this.options.help.source){let t={recognizers:[[r.Press,{time:a.PRESS_HOLD_THRESHOLD}]]};e.ojHammer(t),this._on(e,{press:this._openPopupForHelpDefCallbackListener})}else{let t={recognizers:[[r.Tap],[r.Press,{time:a.PRESS_HOLD_THRESHOLD}]]};e.ojHammer(t),this._on(e,{press:this._openPopupForHelpDefCallbackListener,tap:this._openPopupForHelpDefCallbackListener})}},_releaseHammerEventHandlers:function(){const e=this.uiLabel.find(h);this._bTouchSupported&&0!==e.length&&e.ojHammer("destroy")},_resolveHelpDefClosePopupTimoutBC:function(){this.closePopupTimer=null,this.helpDefClosePopupBCResolved&&(this.helpDefClosePopupBCResolved(),delete this.helpDefClosePopupBCResolved)},_handleOpenHelpDefPopup:function(e,t,i){if(this.closePopupTimer&&(clearTimeout(this.closePopupTimer),this._resolveHelpDefClosePopupTimoutBC()),!t.ojPopup("isOpen"))if(this._bTouchSupported){if("press"===e.type){var o=this.widget();o.on("click"+this._touchEatClickNamespace,this._eatClickOnHelpIconListener);var s=this;t.on("ojclose",function(){o.off(s._touchEatClickNamespace)})}else t.off("ojclose");"press"!==e.type&&"tap"!==e.type&&(a.recentTouchStart()||"focusin"!==e.type&&"mouseenter"!==e.type)||t.ojPopup("open",i)}else t.ojPopup("open",i)},_handleCloseHelpDefPopup:function(){null!=this._helpDefPopupDivId&&n(document.getElementById(this._helpDefPopupDivId)).ojPopup("close")},_removeHelpDefIconEventListeners:function(){const e=this.uiLabel.find(h);if(this._bTouchSupported&&(this.widget().off(this._touchEatClickNamespace),e.off(this._touchEatContextMenuNamespace)),this._releaseHammerEventHandlers(),e.off(this._helpDefPopupNamespace),null!=this._helpDefPopupDivId){n(document.getElementById(this._helpDefPopupDivId)).off(this._helpDefPopupNamespace)}},_removeHelpDefPopup:function(){var e;null!=this._helpDefPopupDivId&&((e=n(document.getElementById(this._helpDefPopupDivId))).length>0&&(e.ojPopup("destroy"),e.remove()),this._helpDefPopupDivId=null)},_needsHelpIcon:function(){var e,t,i=this.options,o=i.help.source;return(t=""!==o&&null!=o)||(t=""!==(e=i.help.definition)&&null!=e),t},_refreshHelp:function(){var e,t,i=this.helpSpanId,o=this._targetElement;1===(t=this.uiLabel.find(h)).length&&(this._removeHelpDefIconEventListeners(),this._removeHelpDefPopup(),t.remove()),e=document.getElementById(i),this._needsHelpIcon()?(null==e&&(e=this._createIconSpan(i,!0)),this._createHelp(e),this._addShowHelpDefinitionEventHandlers(),this._isCustomElement&&o&&this._addHelpSpanIdOnTarget(i,o)):null!==e&&(e.parentNode.removeChild(e),this._isCustomElement&&o&&this._removeHelpSpanIdOnTarget(i,o))},_refreshRequired:function(){var e,t,i=this.requiredSpanId;e=document.getElementById(i),this.options.showRequired?e?(t=this.getTranslatedString(this._BUNDLE_KEY._TOOLTIP_REQUIRED),this.uiLabel.find(".oj-label-required-icon").attr("title",t)):(this._createRequiredIconSpanDom(),this._isCustomElement&&this._addRequiredDescribedByOnCustomFormElement(this._targetElement)):(null!==(e=document.getElementById(i))&&e.parentNode.removeChild(e),this._isCustomElement&&this._removeRequiredDescribedByOnCustomFormElement(this._targetElement))},_refreshFor:function(e,t){var s=this.element[0],n=this.OuterWrapper.id;if(e){s.removeAttribute("for"),this.OuterWrapper.removeAttribute(o);var r=document.getElementById(e);if(r){var l=r.getAttribute(i);if(l)if(l===n)r.removeAttribute(i);else{var p=l.split(/\s+/).filter(function(e){return e!==n}).join(" ");r.setAttribute(i,p)}}}if(this._targetElement=document.getElementById(this.options.for),this._targetElement){var a=this._targetElement;this._isElementCustomElement(a)?(this._addElementAttribute(a,n,i),this._needsHelpIcon()&&this._addHelpSpanIdOnTarget(this.helpSpanId,a),this.options.showRequired&&this._addRequiredDescribedByOnCustomFormElement(a)):s.setAttribute("for",t)}},_refreshLabelId:function(){var e,t;(e=this.options.labelId)?this.element.attr("id",e):(t=this.uiLabel.attr("id"))&&this.element.attr("id",t+"|label")},_setOption:function(e,t){var i=this.options[e];switch(this._superApply(arguments),e){case"showRequired":this._refreshRequired();break;case"help":this._refreshHelp();break;case"for":this._isCustomElement&&this._refreshFor(i,t);break;case"labelId":this._refreshLabelId()}},getNodeBySubId:function(e){var t;return(t=this._super(e))||"oj-label-help-icon"===e.subId&&(t=this.widget().find(h)[0]),t||null},getSubIdByNode:function(e){var t=null;return null!=e&&e===this.widget().find(h)[0]&&(t={subId:"oj-label-help-icon"}),t||this._superApply(arguments)},_destroy:function(){return this._removeHelpDefIconEventListeners(),this._removeHelpDefPopup(),this.helpSpanId=null,this.requiredSpanId=null,this._isCustomElement=null,a.unwrap(this.element,this.uiLabel),this._super()}})}(),(u={properties:{for:{type:"string"},help:{type:"object",value:{definition:null,source:null},properties:{definition:{type:"string"},source:{type:"string"}}},labelId:{type:"string"},showRequired:{type:"boolean",value:!1},translations:{type:"object",value:{},properties:{tooltipHelp:{type:"string"},tooltipRequired:{type:"string"}}}},methods:{getProperty:{},refresh:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},extension:{}}).extension._WIDGET_NAME="ojLabel",u.extension._INNER_ELEM="label",u.extension._GLOBAL_TRANSFER_ATTRS=["accesskey"],u.extension._WATCHED_ATTRS=["data-oj-input-id","data-oj-set-id"],s.CustomElementBridge.register("oj-label",{metadata:u})});
//# sourceMappingURL=ojlabel.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojlabelledbyutils',["ojs/ojlabel"],function(e){"use strict";const t={CUSTOM_LABEL_ELEMENT_ID:"|label",_labelledByUpdatedForSet:function(e,a,d,l){if((a||d)&&this._IsCustomElement()){var i={callbackAdd:function(e,a,d){const l=t.CUSTOM_LABEL_ELEMENT_ID;t._addAriaLabelledBy(e,a+l),t._addSetIdOnLabel(a,d.componentId)},callbackRemove:function(e,a,d){const l=t.CUSTOM_LABEL_ELEMENT_ID;t._removeAriaLabelledBy(e,a+l),t._removeSetIdOnLabel(a,d.componentId)},args:{componentId:e}};t._byUpdatedTemplate(a,d,l,i)}},_describedByUpdated:function(e,a,d=this._GetContentElement()){if(e||a){var l={callbackAdd:function(e,a){t._addRemoveAriaBy(e,"aria-describedby",a,!0)},callbackRemove:function(e,a){t._addRemoveAriaBy(e,"aria-describedby",a,!1)}};t._byUpdatedTemplate(e,a,d,l)}},_byUpdatedTemplate:function(e,t,a,d){var l,i,n,o;if(!e&&t)for(i=t.split(/\s+/),o=0;o<i.length;o++)l=i[o],d.callbackAdd.call(this,a,l,d.args);else if(e&&!t)for(i=e.split(/\s+/),o=0;o<i.length;o++)l=i[o],d.callbackRemove.call(this,a,l,d.args);else if(e&&t){for(i=t.split(/\s+/),n=e.split(/\s+/),o=0;o<n.length;o++)l=n[o],-1===t.indexOf(l)&&d.callbackRemove.call(this,a,l,d.args);for(o=0;o<i.length;o++)l=i[o],-1===e.indexOf(l)&&d.callbackAdd.call(this,a,l,d.args)}},_addAriaLabelledBy:function(e,a){t._addRemoveAriaBy(e,"aria-labelledby",a,!0)},_removeAriaLabelledBy:function(e,a){t._addRemoveAriaBy(e,"aria-labelledby",a,!1)},_addSetIdOnLabel:function(e,t){var a=document.getElementById(e);a&&(a.getAttribute("data-oj-set-id")||a.setAttribute("data-oj-set-id",t))},_removeSetIdOnLabel:function(e){var t=document.getElementById(e);t&&t.getAttribute("data-oj-set-id")&&t.removeAttribute("data-oj-set-id")},_addRemoveAriaBy:function(e,t,a,d){e.each(function(){let e=this.getAttribute(t),l=e?e.split(/\s+/):[],i=l.indexOf(a);d&&-1===i?l.push(a):d||-1===i||l.splice(i,1);let n=l.join(" ").trim();n?this.setAttribute(t,n):this.removeAttribute(t)})}};return t});
//# sourceMappingURL=ojlabelledbyutils.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojmenu',["jquery","ojs/ojjquery-hammer","ojs/ojpopupcore","ojs/ojoption","ojs/ojcore-base","hammerjs","ojs/ojcontext","ojs/ojthemeutils","ojs/ojcomponentcore","ojs/ojanimation","ojs/ojlogger","ojs/ojconfig","ojs/ojcustomelement-utils","ojs/ojcustomelement-registry"],function(e,t,i,n,s,o,r,a,l,u,c,h,m,d){"use strict";var p;e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,s=s&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s,r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r,function(){var t=[],n=!1,p="oj-menu-position";const f="OJ-MENU-SELECT-MANY",_=".oj-menu-item",v=".oj-focus-ancestor",g=".oj-menu-divider",O=".oj-disabled",b="oj-disabled",j="aria-expanded",y="aria-hidden",S="aria-disabled",C="aria-activedescendant",E="data-oj-default-margin",P="margin-left",I="margin-right",A="oj-menu-item-before-divider",T={dropdown:{open:"--oj-private-menu-global-drop-down-open-animation",close:"--oj-private-menu-global-drop-down-close-animation"},sheet:{open:"--oj-private-menu-global-sheet-open-animation",close:"--oj-private-menu-global-sheet-close-animation"},submenu:{open:"--oj-private-menu-global-submenu-open-animation",close:"--oj-private-menu-global-submenu-close-animation"}};var x=s.AgentUtils.getAgentInfo().os===s.AgentUtils.OS.MAC&&s.AgentUtils.getAgentInfo().browser===s.AgentUtils.BROWSER.SAFARI,w="menuItem"===a.getCachedCSSVarValues(["--oj-private-menu-global-sheet-cancel-affordance"])[0],D="dismiss"===a.getCachedCSSVarValues(["--oj-private-menu-global-sheet-swipe-down-behavior"])[0],N=a.getCachedCSSVarValues(["--oj-private-menu-global-drop-down-modality"])[0]||"modeless",k=a.getCachedCSSVarValues(["--oj-private-menu-global-sheet-modality"])[0]||"modal",M="bottom-"+(a.getCachedCSSVarValues(["oj-private-menu-global-sheet-margin-bottom"])[0]||0),U=D&&{recognizers:[[o.Swipe,{direction:o.DIRECTION_HORIZONTAL}]]},H="oj-menu-cancel-command";const R=-(.5*parseInt(window.getComputedStyle(document.documentElement).fontSize,10)+1);function B(t){var i,n=[],s=t.children("oj-defer").first();i=s.length>0?s.children(".oj-menu-item, oj-menu-select-many"):t.children(".oj-menu-item, oj-menu-select-many");for(var o=0;o<i.length;o++){var r=e(i[o]);r.is(_)?n.push(r[0]):r[0].nodeName===f&&(n=e.merge(n,r.children(_)))}return n}s.__registerWidget("oj.ojMenu",e.oj.baseComponent,{defaultElement:"<ul>",delay:300,role:"menu",widgetEventPrefix:"oj",options:{menuSelector:"ul",openOptions:{display:"auto",initialFocus:"menu",launcher:null,position:{my:{horizontal:"start",vertical:"top"},offset:{x:0,y:0},at:{horizontal:"start",vertical:"bottom"},of:void 0,collision:"flipfit"}},submenuOpenOptions:{position:{my:"start top",at:"end top",collision:"flipfit"}},animateStart:null,animateEnd:null,beforeOpen:null,close:null,open:null,action:null,menuAction:null},_ComponentCreate:function(){if(this._super(),this._focusForTesting=this._focus,this._nextForTesting=this._next,this._selectForTesting=this._select,this._IsCustomElement()){this.element.hide();var e=this.options;e.openOptions.position=s.PositionUtils.coerceToJet(e.openOptions.position);var t=this.element[0].querySelector("oj-defer");t&&t.setAttribute("data-oj-context",!0)}else this._createAsTopLevelMenu()},_preventDefault:function(e){this.options.disabled&&e.preventDefault()},_createAsTopLevelMenu:function(){var t=this;this.activeMenu=this.element,this.mouseHandled=!1,this._setupSwipeBehavior(),this.element.uniqueId().addClass("oj-menu oj-component").hide().attr({role:this.role,tabIndex:"0","aria-hidden":"true"}),this._on(!0,{"mousedown .oj-menu-item":this._preventDefault,click:this._preventDefault,keydown:function(t){this.options.disabled&&(t.keyCode!==e.ui.keyCode.ESCAPE&&t.keyCode!==e.ui.keyCode.TAB||(t.keyCode===e.ui.keyCode.TAB&&t.preventDefault(),this._focusLauncherAndDismiss(t)))}}),this.options.disabled&&this.element.addClass(b).attr(S,"true");var i=function(t){if(!this.focusHandled){this.focusHandled=!0;var i=e(t.currentTarget);try{this._focusIsFromPointer=!0,this._focus(t,i)}finally{this._focusIsFromPointer=!1}}}.bind(this),n=function(t){e(t.target).is(":visible")&&this._collapse(t,"eventSubtree")}.bind(this);this._touchStartHandler=function(t){this.focusHandled=!1;var i=e(t.currentTarget);this._focus(t,i)}.bind(this),this.element[0].addEventListener("touchstart",this._touchStartHandler,{passive:!0}),this._delegatedHandleMouseEnterMenuItem=function(t){const n=_,s=t.currentTarget,o=t.target.closest(n);o&&s.contains(o)&&i(e.Event(t,{currentTarget:o}))},this.element[0].addEventListener("touchstart",this._delegatedHandleMouseEnterMenuItem,{passive:!0}),this._on({"click .oj-disabled > a":function(e){e.preventDefault()},click:function(){this.mouseHandled=!1},mouseover:function(){this.focusHandled=!1},"click .oj-menu-item:has(a)":function(t){var i=e(t.target).closest(_);if(!this.mouseHandled&&i.not(O).length){if(this.mouseHandled=!0,t.preventDefault(),this.active&&this.active.closest(i).length&&this.active.get(0)!==i.get(0))return;i.has(".oj-menu").length?this._expand(t):(this._select(t),this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".oj-menu").length&&this._clearTimer&&this._clearTimer()))}},"mouseenter .oj-menu-item":i,mouseleave:n,"mouseleave .oj-menu":n,focus:function(t,i){if(!(i||t.target===this.element[0]||this._focusSkipLink&&t.target===this._focusSkipLink.getLink()[0])){var n=this.active||e(B(this.element)).first(0);this._focus(t,n)}},keydown:this._keydown,keyup:function(t){t.keyCode!==e.ui.keyCode.ENTER&&t.keyCode!==e.ui.keyCode.SPACE||(this.__spaceEnterDownInMenu=!1)}}),this._focusable({applyHighlight:!x,recentPointer:function(){return t._focusIsFromPointer},setupHandlers:function(e,i){t._focusInHandler=e,t._focusOutHandler=i}}),this._usingCallback=e.proxy(this._usingHandler,this),this._setup()},_createAsSubmenu:function(){this.element.attr(l._OJ_CONTAINER_ATTR,this.widgetName),this.element.uniqueId().addClass("oj-menu oj-component oj-menu-submenu oj-menu-dropdown").hide().attr({role:this.role,tabIndex:"0","aria-hidden":"true"}),this._setup()},__contextMenuPressHoldJustEnded:function(e){if(!arguments.length)return n;n=e},_processOjOptions:function(){this._maxEndIconCount=0,this._maxStartIconCount=0,this._startIconWidth=0,this._endIconWidth=0;var t=function(t){var i,n=[],s=t.children("oj-defer").first();i=s.length>0?s.children("oj-option, oj-menu-select-many"):t.children("oj-option, oj-menu-select-many");for(var o=0;o<i.length;o++){var r=e(i[o]);"OJ-OPTION"===r[0].nodeName?n.push(r[0]):r[0].nodeName===f&&(n=e.merge(n,r.children("oj-option")))}return e(n)}(this.element);this._clearOption(t);for(var i=0;i<t.length;i++){t[i].customOptionRenderer=this._customOptionRenderer.bind(this)}},_customOptionRenderer:function(t){function i(e){if(e.previousElementSibling&&"OJ-OPTION"===e.previousElementSibling.nodeName)return e.previousElementSibling;if(e.previousElementSibling&&e.previousElementSibling.nodeName===f){var t=e.previousElementSibling.lastElementChild;return"OJ-OPTION"===t.nodeName?t:t.previousElementSibling?t.previousElementSibling:i(t)}return e.previousElementSibling||e.parentElement.nodeName!==f?void 0:i(e.parentElement)}function n(e){return e.nextElementSibling&&"OJ-OPTION"===e.nextElementSibling.nodeName?e.nextElementSibling:e.nextElementSibling&&e.nextElementSibling.nodeName===f?e.nextElementSibling.firstElementChild:e.nextElementSibling&&"OJ-OPTION"===e.nextElementSibling.nodeName||e.parentElement.nodeName!==f?void 0:n(e.parentElement)}var s=e(t),o=s.parent().prop("nodeName")===f,r=this;this._hasSubmenus=!1;for(var a,l,u,c,h=s.children('a[ojmenu="opt"]'),d=0;d<h.length;d++)(a=e(h[d])).children().removeClass("oj-menu-item-icon").removeClass("oj-menu-item-end-icon"),a.replaceWith(a.contents());if(s.children('span[ojmenu="opt"]').remove(),/[^\-\u2014\u2013\s]/.test(s.text())||0!==s.children().length){this._initMenuItems(s);var p=document.createElement("a");p.setAttribute("href","#"),p.setAttribute("ojmenu","opt"),(a=e(p)).uniqueId().attr({tabIndex:"-1",role:this._itemRole(s)}),o&&(a.attr("aria-checked","false"),(l=t).previousElementSibling||i(l)||e(l).addClass("oj-top"),l.nextElementSibling&&"OJ-OPTION"===l.nextElementSibling.nodeName||n(l)||e(l).addClass("oj-bottom")),s.prepend(p);var _=m.CustomElementUtils.getSlotMap(t),v=_.startIcon;if(v||o){if(o){var g=document.createElement("span");g.setAttribute("slot","startIcon"),g.setAttribute("ojmenu","opt"),g.setAttribute("class","oj-menucheckbox-icon"),v?v.splice(0,0,g):v=[g]}var O=v.length;r._maxStartIconCount=Math.max(r._maxStartIconCount,O),e.each(v,function(t,i){e(i).addClass("oj-menu-item-icon"),a.append(i),O>1&&r._positionStartIcon(i,t,O)})}var j=0,y=_.endIcon;y&&(j=y.length,r._maxEndIconCount=Math.max(r._maxEndIconCount,j));var C=_[""];e.each(C,function(t,i){e(i).is("oj-menu")?(r._setupSubmenu(a,e(i),0===j),r._hasSubmenus=!0):a.append(i)}),y&&e.each(y,function(t,i){e(i).addClass("oj-menu-item-end-icon"),a.append(i),j>1&&r._positionEndIcon(i,t,j)}),t.disabled?(s.addClass(b),a.attr(S,"true")):(s.removeClass(b),a.removeAttr(S))}else this._initDividers(s),(c=i(u=t))&&e(c).addClass(A),(c=n(u))&&e(c).addClass("oj-menu-item-after-divider");this._updateMenuPadding(this.element)},_positionStartIcon:function(t,i,n){var s;s=this.isRtl?I:P;var o=Number(e(t).attr(E));isNaN(o)&&(o=parseInt(e(t).css(s),10),e(t).attr(E,o)),this._startIconWidth=-1*o,e(t).css(s,o*(n-i)+"px")},_positionEndIcon:function(t,i,n){var s,o;this.isRtl?(s=P,o=I):(s=I,o=P);var r=Number(e(t).attr(E));isNaN(r)&&(r=parseInt(e(t).css(s),10),e(t).attr(E,r)),this._endIconWidth=-1*parseInt(e(t).css(o),10),e(t).css(s,r+this._endIconWidth*(n-i-1)+"px")},_updateMenuPadding:function(t){var i=e(B(t)).children();i.each(function(){let t=e(this).children(".oj-menu-item-icon:not(.oj-menu-cancel-icon)").length,i=e(this).children(".oj-menu-item-end-icon").length||e(this).children(".oj-menu-submenu-icon").length;0===t&&0===i?e(this).addClass("oj-menu-option-text-only"):(t>0&&e(this).addClass("oj-menu-option-start-icon"),i>0&&e(this).addClass("oj-menu-option-end-icon"))}),this._maxStartIconCount&&this._maxStartIconCount>1&&this._applyAnchorIconPadding(i,this._startIconWidth,this._maxStartIconCount,!0),this._maxEndIconCount&&this._maxEndIconCount>1&&this._applyAnchorIconPadding(i,this._endIconWidth,this._maxEndIconCount,!1)},_applyAnchorIconPadding:function(t,i,n,s){var o;o=this.isRtl&&s||!this.isRtl&&!s?"padding-right":"padding-left",t.each(function(){var t=Number(e(this).attr("data-oj-default-padding"));isNaN(t)&&(t=parseInt(e(this).css(o),10),e(this).attr("data-oj-default-padding",t)),e(this).css(o,t+i*(n-1)+"px")})},_clickAwayHandler:function(i){if("focus"===i.type||"mousedown"===i.type||"touchstart"===i.type||121===i.keyCode&&i.shiftKey||93===i.keyCode){if("mousedown"===i.type&&n)return;var s=this,o=t.slice(0,t.length);e.each(o,function(t,n){if(!e(i.target).closest(n.element).length&&("keydown"===i.type||"mousedown"===i.type&&3===i.which||!e(i.target).closest(n._launcher).length||n._isContextMenu&&("mousedown"===i.type&&3!==i.which||"touchstart"===i.type))&&!n._dismissEvent){n._dismissEvent=i;var o=n._collapse(i,"eventSubtree");s._runOnPromise(o,function(){n.__dismiss(i),n._dismissEvent=null})}})}},_setOption:function(e,t){this._superApply(arguments),"translations"===e&&this._cancelAnchor&&this._cancelAnchor.text(this.options.translations.labelCancel)},_destroy:function(){this.element.is(":visible")&&this.__dismiss(),this._setWhenReady("none"),this._clearTimer&&this._clearTimer(),delete this._clearTimer,this.element[0].removeEventListener("touchstart",this._touchStartHandler,{passive:!0}),delete this._touchStartHandler,this.element[0].removeEventListener("touchstart",this._delegatedHandleMouseEnterMenuItem,{passive:!0}),delete this._delegatedHandleMouseEnterMenuItem,this.element.removeAttr(C).removeClass("oj-component").find(".oj-menu").addBack().removeClass("oj-menu oj-menu-submenu oj-menu-icons oj-menu-end-icons oj-menu-text-only").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr(y).removeAttr(S).removeUniqueId().show(),this.element.find(_).removeClass("oj-menu-item").removeAttr("role").children("a").removeAttr(S).removeUniqueId().removeClass("oj-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("oj-ojMenu-submenu-icon")&&t.remove()}),this.element.find("a").removeAttr(j),this.element.find(g).removeClass("oj-menu-divider").removeAttr("role"),delete this._popupServiceEvents,delete this._usingCallback;var t=this._clearCloseDelayTimer;delete this._clearCloseDelayTimer,t&&t(),this.element.ojHammer("destroy"),this._super()},_keydown:function(t){var i=!0;function n(e){return e.replace(/[-\[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}switch(t.keyCode){case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this._previous(t);break;case e.ui.keyCode.DOWN:this._next(t);break;case e.ui.keyCode.LEFT:case e.ui.keyCode.RIGHT:t.keyCode===e.ui.keyCode.RIGHT!==this.isRtl?this.active&&!this.active.is(O)&&this._expand(t):this._collapse(t,"active");break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._handleEnterSpace(t),this.__spaceEnterDownInMenu=!0;var s=this;setTimeout(function(){s.__spaceEnterDownInMenu=!1},100);break;case e.ui.keyCode.TAB:t.preventDefault(),this._focusLauncherAndDismiss(t);break;case e.ui.keyCode.ESCAPE:if(this._launcher){var o=this.element.attr(C),r=e(document.getElementById(o)).parents(".oj-menu").first();r.length>0&&r[0]!==this.element[0]?this._collapse(t,"active"):this._focusLauncherAndDismiss(t)}else this._collapse(t,"active");break;default:i=!1;var a=this.previousFilter||"",l=String.fromCharCode(t.keyCode),u=!1;clearTimeout(this.filterTimer),l===a?u=!0:l=a+l;var c=new RegExp("^"+n(l),"i"),h=e(B(this.activeMenu)).filter(function(){return c.test(e(this).children("a").text())});(h=u&&-1!==h.index(this.active.next())?this.active.nextAll(_):h).length||(l=String.fromCharCode(t.keyCode),c=new RegExp("^"+n(l),"i"),h=e(B(this.activeMenu)).filter(function(){return c.test(e(this).children("a").text())})),h.length?(this._focus(t,h),h.length>1?(this.previousFilter=l,this.filterTimer=setTimeout(function(){delete this.previousFilter}.bind(this),1e3)):delete this.previousFilter):delete this.previousFilter}i&&t.preventDefault()},_handleEnterSpace:function(e){this.active&&!this.active.is(O)&&(this.active.children("a[aria-haspopup='true']").length?this._expand(e):this._select(e))},refresh:function(){function t(t){for(var i=t.element.find("oj-menu:not(.oj-menu-submenu)"),n=0;n<i.length;n++){e(i[n]).attr(y,"true").hide(),r.getContext(i[n]).getBusyContext().whenReady().then(function(e){e.refresh()}.bind(t,i[n]))}}(this._super(),this._IsCustomElement()&&!this._wasCreated)?(this.element.parent().is("oj-option")&&(this._isSubmenu=!0,this._createAsSubmenu()),this._isSubmenu||(l.subtreeShown(this.element[0]),this._createAsTopLevelMenu(),t(this)),this._wasCreated=!0):(t(this),this._setup());s.ZOrderUtils.getStatus(this.element)===s.ZOrderUtils.STATUS.OPEN&&this._reposition()},_reposition:function(){var t=this.element;if(t.is(":visible")&&!(t[0].getBoundingClientRect().width>document.documentElement.clientWidth)){var i=t.data(p);t[0].style.maxHeight="",t[0].style.overflowY="",this._updateMenuMaxHeight(),t.position(i),t.find(".oj-menu").each(function(){var t=e(this);t.is(":visible")&&(i=t.data(p),t.position(i))})}},_setup:function(){this.isRtl="rtl"===this._GetReadingDirection(),this._IsCustomElement()?(this._processOjOptions(),this._isSubmenu&&(this.options.openOptions.launcher=this.element.parent()),this._updateMenuPadding(this.element)):this._setupWidgetMenus(),this.active&&!e.contains(this.element[0],this.active[0])&&this._blur()},_setupWidgetMenus:function(){var t=this,i=this.element.find(this.options.menuSelector),n=i.add(this.element),s=n.children();this._hasSubmenus=!!i.length,s.filter(g).has("a").removeClass("oj-menu-divider oj-menu-item").removeAttr("role");var o=s.filter(":not(.oj-menu-item):has(a)"),r=o.children("a");this._initMenuItems(o),this._initAnchors(r);var a=s.filter(function(t,i){var n=e(i);return n.is(":not(.oj-menu-item)")&&!/[^\-\u2014\u2013\s]/.test(n.text())});this._initDividers(a),this._initDividerNeighbors(s,a),s.filter(O).children("a").attr(S,"true"),s.filter(":not(.oj-disabled)").children("a").removeAttr(S),i.filter(":not(.oj-menu)").addClass("oj-menu oj-menu-submenu oj-menu-dropdown").hide().attr({role:this.role,"aria-hidden":"true"}).each(function(){var i=e(this);t._setupSubmenu(t._getSubmenuAnchor(i),i,!0)}),n.each(function(){t._updateMenuPadding(e(this))})},_setupSubmenu:function(t,i,n){var s=0!==t[0].querySelectorAll(".oj-menu-submenu-icon.oj-component-icon").length;if(t.attr("aria-haspopup","true").attr("role","menuitem").attr(j,"false"),n&&!s){var o=e("<span>");o.addClass("oj-menu-submenu-icon oj-component-icon").data("oj-ojMenu-submenu-icon",!0),t.append(o)}this._clearTimer=this._setTimer(function(){delete this._clearTimer,t[0].parentElement&&t[0].parentElement.disabled&&i.find("oj-option").attr("disabled",!0)},this._getSubmenuBusyStateDescription("enable or disable submenu"),0),i.attr("aria-labelledby",t.attr("id"))},_initMenuItems:function(e){e.addClass("oj-menu-item").attr("role","presentation")},_initAnchors:function(t){for(var i=0;i<t.length;i++){var n=e(t[i]);n.uniqueId().attr({tabIndex:"-1",role:this._itemRole(n.parent())})}},_initDividers:function(e){e.addClass("oj-menu-divider").attr("role","separator")},_initDividerNeighbors:function(e,t){e.removeClass("oj-menu-item-before-divider oj-menu-item-after-divider"),t.prev().addClass(A),t.next().addClass("oj-menu-item-after-divider")},_clearOption:function(e){e.removeClass("oj-menu-item-before-divider oj-menu-item-after-divider oj-menu-divider oj-menu-item").removeAttr("role")},_getSubmenuAnchor:function(e){return e.prev("a")},_getSubmenuWidget:function(e){return l.__GetWidgetConstructor(e,"ojMenu")("instance")},_itemRole:function(e){return e.parent().prop("nodeName")===f?"menuitemcheckbox":"menuitem"},_getAdjacentDividers:function(e,t){var i=e.prev(g).add(e.next(g));return t&&(i=i.add(e)),i},_focus:function(t,i){var n=this.active?this.active:e();if(!i.is(n)){t&&"focus"===t.type||this._clearTimer&&this._clearTimer(),i=i.first(),this._makeActive(i,t);var s=i.parents(".oj-menu").first(),o=s.closest(_);s.find(v).removeClass("oj-focus-ancestor"),this._getAdjacentDividers(o,!0).addClass("oj-focus-ancestor"),t&&"keydown"===t.type?this._close():this._clearTimer=this._setTimer(function(){return delete this._clearTimer,this._close()},this._getSubmenuBusyStateDescription("closing"),this.delay);var r=this._IsCustomElement()?i.children("oj-menu"):i.children(".oj-menu"),a=r.length>0&&n.length>0&&e.contains(r[0],n[0]);r.length&&t&&/^mouse|click/.test(t.type)&&!a&&this._startOpening(t,r),this.activeMenu=i.parents(".oj-menu").first()}},_makeActive:function(t,i){if(!t.is(this.active)){var n,s,o,r,a=this.active?this.active:e(),l=t.children("a");this.active=t,this.element.attr(C,l.attr("id")),this._focusOutHandler(a),this._focusInHandler(t),this._getAdjacentDividers(a).removeClass("oj-focus"),this._getAdjacentDividers(t).addClass("oj-focus"),this._trigger("_activeItem",i,{previousItem:a,item:t,privateNotice:"The _activeItem event is private.  Do not use."}),i&&/^key/.test(i.type)&&(n=l[0],s=n.closest("[role=menu]"),o=n.getBoundingClientRect(),r=s.getBoundingClientRect(),o.top<0||o.bottom>document.documentElement.clientHeight||r.top>o.top||r.bottom<o.bottom||o.left<0||o.right>document.documentElement.clientWidth)&&l[0].scrollIntoView()}},_removeActive:function(t){if(this.active){var i=this.active;this.active=null,this.element.removeAttr(C),this._focusOutHandler(i),this._getAdjacentDividers(i).removeClass("oj-focus"),this._trigger("_activeItem",t,{previousItem:i,item:e(),privateNotice:"The _activeItem event is private.  Do not use."})}},_blur:function(e){this._clearTimer&&this._clearTimer(),this._removeActive(e)},_focusLauncherAndDismiss:function(e,t){this._launcher&&this._launcher.focus(),this.__dismiss(e,t)},close:function(){this.__dismiss()},__dismiss:function(e,t){if(!this._isOperationPending("close","__dismiss",[e,t])&&s.ZOrderUtils.getStatus(this.element)===s.ZOrderUtils.STATUS.OPEN){var i=this.element.is(":visible");this._setWhenReady("close");var n={};n[s.PopupService.OPTION.POPUP]=this.element,n[s.PopupService.OPTION.CONTEXT]={event:e,selectUi:t,isOpen:i},s.PopupService.getInstance().close(n)}},_getDefaultAnimation:function(e,t){var i=T,n=a.getCachedCSSVarValues([i[e][t]])[0];return JSON.parse(n)},_isAnimationDisabled:function(){return!this._IsCustomElement()||this._disableAnimation},_replaceAnimationOptions:function(e,t){var i=e;if(t&&e&&"string"!=typeof e){for(var n=JSON.stringify(e),s=Object.keys(t),o=0;o<s.length;o++){var r=s[o];n=n.replace(new RegExp(r,"g"),t[r])}i=JSON.parse(n)}return i},_runOnPromise:function(e,t){return e?e.then(t):t()},_beforeCloseHandler:function(e){var t=e[s.PopupService.OPTION.POPUP];if(this._IsCustomElement()){var i=e[s.PopupService.OPTION.CONTEXT],n=i.selectUi;if(n&&n.item.length){var o={},r=n.item[0],a=i.event;o.originalEvent=a.originalEvent;var l={detail:o,cancelable:!0,bubbles:!0},c=new CustomEvent("ojAction",l);r.dispatchEvent(c),l.detail.selectedValue=r.value;var h=new CustomEvent("ojMenuAction",l);this.element[0].dispatchEvent(h),i.event=h}}if(!this._isAnimationDisabled()){var m=this._getDefaultAnimation(this._sheetMenuIsOpen?"sheet":"dropdown","close"),d=u.startAnimation(t[0],"close",s.PositionUtils.addTransformOriginAnimationEffectsOption(t,m),this);return d.then(function(){t.attr(y,"true").hide()}),d}t.attr(y,"true").hide()},_afterCloseHandler:function(e){var i=e[s.PopupService.OPTION.CONTEXT],n=i.event,o=i.selectUi,a=i.isOpen;if(this.element.removeData(p),this._launcher=null,this._sheetMenuIsOpen=!1,!this._IsCustomElement()&&o){var l=this._trigger2("select",n,o);n=l.event}if(a){var u=r.getContext(this.element[0]).getBusyContext().addBusyState({description:"close event about to be triggered"});requestAnimationFrame(()=>{u(),this._trigger("close",n,{})})}this._currentOpenOptions=null;var c=t.indexOf(this);t.splice(c,1),this._destroyVoiceOverAssist()},getCurrentOpenOptions:function(){return e.extend(!0,{},this._currentOpenOptions||this.options.openOptions)},_closeMenuIfOpen:function(e,t,i){s.ZOrderUtils.getStatus(this.element)===s.ZOrderUtils.STATUS.OPEN&&(this._disableAnimation=!0,this._currentOpenOptions=e,this.__dismiss(t.event),this._dismissEvent=null,this._currentOpenOptions=i)},open:function(i,n){var o=arguments[2];if(!this._isOperationPending("open","open",[i,n,o])){var l=function(i,n){this._IsCustomElement()&&this.refresh(),this.element.removeAttr(C),this.element.find(".oj-focus").removeClass("oj-focus"),this.focusHandled=!1,this._focusIsFromPointer=!1,this.mouseHandled=!1,this.activeMenu=this.element,this.active=null,(n=e.extend({},this.options.openOptions,n)).position=e.extend({},n.position),i&&"keydown"===i.type&&121===i.which&&(n.initialFocus="firstItem"),this._IsCustomElement()&&this._setPosition(n.position),o=e.extend({},this.options.submenuOpenOptions,o);var r=this._currentOpenOptions;this._currentOpenOptions=n,s.PositionUtils._normalizeEventForPosition(i),this._isContextMenu=this.element[0].slot&&"contextMenu"===this.element[0].slot;var l=this._trigger2("beforeOpen",i,{openOptions:n});if(!l.proceed)return this._currentOpenOptions=r,void(this._disableAnimation=!1);this._closeMenuIfOpen(r,l,n);var u=n.launcher;if(!(u=this._IsCustomElement()?"string"===e.type(u)?e(document.getElementById(u)):e(u):"string"===e.type(u)?e(u):u)||!u.length)return c.warn("When calling Menu.open(), must specify openOptions.launcher via the component option, method param, or beforeOpen listener.  Ignoring the call."),this._currentOpenOptions=null,void(this._disableAnimation=!1);var h,m,d=this._isDropDown(n.display);if(this._toggleCancelDom(d),d){this.element.addClass("oj-menu-dropdown").removeClass("oj-menu-sheet"),m=N;var f=s.PositionUtils.normalizeHorizontalAlignment(n.position,this.isRtl);if(!f.of&&f.offset&&0===f.offset.x&&0===f.offset.y){const e=a.getCachedCSSVarValues(["--oj-private-core-global-dropdown-offset"])[0]||0;f.offset={x:0,y:e}}this._IsCustomElement()?(f=s.PositionUtils.coerceToJet(f,this.options.openOptions.position),this._referenceOpenPosition=f,h=s.PositionUtils.coerceToJqUi(f)):(this._referenceOpenPosition=f,h=f),h.of=s.PositionUtils.normalizePositionOf(h.of,u,i)}else this.element.addClass("oj-menu-sheet").removeClass("oj-menu-dropdown"),m=k,h={my:"bottom",at:M,of:window,collision:"flipfit"};var _=this.element[0],v=t.slice(0,t.length);e.each(v,function(e,t){t.element[0]!==_&&(t._collapse(i,"eventSubtree"),t.__dismiss(i))}),this._submenuPosition=s.PositionUtils.normalizeHorizontalAlignment(o.position,this.isRtl);var g=this._usingCallback;e.isFunction(h.using)&&(h.origUsing=h.using),h.using=g,this.element.data(p,h),this._setWhenReady("open");var O={};O[s.PopupService.OPTION.POPUP]=this.element,O[s.PopupService.OPTION.LAUNCHER]=u,O[s.PopupService.OPTION.POSITION]=h,O[s.PopupService.OPTION.EVENTS]=this._getPopupServiceEvents(),O[s.PopupService.OPTION.LAYER_SELECTORS]="oj-menu-layer",O[s.PopupService.OPTION.MODALITY]=m,O[s.PopupService.OPTION.CONTEXT]={event:i,initialFocus:n.initialFocus,launcher:u,isDropDown:d},O[s.PopupService.OPTION.CUSTOM_ELEMENT]=this._IsCustomElement();var b=s.PopupService.getInstance(),j=b.open.bind(b,O),y=this.element[0].querySelector("oj-defer");y?s.Context.getContext(y).getBusyContext().whenReady().then(j):j();this._disableAnimation=!1}.bind(this,i,n);if(this._dismissEvent)r.getContext(this.element[0]).getBusyContext().whenReady().then(l);else l()}},_setPosition:function(e){var t=this.options;t.openOptions.position=s.PositionUtils.coerceToJet(e,t.openOptions.position)},_beforeOpenHandler:function(e){var t,i=e[s.PopupService.OPTION.POPUP],n=e[s.PopupService.OPTION.POSITION],o=e[s.PopupService.OPTION.CONTEXT],r=o.event,a=o.isDropDown,l=o.initialFocus;if(i[0].style.maxHeight="",i[0].style.overflowY="",i.show(),a&&(n=this._checkBrowserVerticalScollBar(o,n)),this.rootHeight=i[0].offsetHeight,"click"===n.of.type?this.launcherHeight=n.of.clientY:this.launcherHeight=o.launcher[0].getBoundingClientRect().bottom,this._updateMenuMaxHeight(),i.position(n),this.initialWidth=i.width(),this.initialHeight=i.height(),this._initVoiceOverAssist(l),"firstItem"===l){var c=this._getFirstItem();this._focus(r,c)}if(!this._isAnimationDisabled()){var h=this._getDefaultAnimation(a?"dropdown":"sheet","open");t=u.startAnimation(i[0],"open",s.PositionUtils.addTransformOriginAnimationEffectsOption(i,h),this)}return t},_checkBrowserVerticalScollBar:function(t,i){var n=t.launcher,o=e.position.scrollbarWidth(),r=window.innerWidth>document.documentElement.clientWidth,a=window.innerWidth-n[0].offsetLeft-this.element[0].offsetWidth<o;if(!r||!a)return i;if(this._referenceOpenPosition.offset.x=-1*o,this._IsCustomElement()){var l=s.PositionUtils.coerceToJqUi(this._referenceOpenPosition);return Object.assign(i,{my:l.my})}return Object.assign(i,{offset:{my:-1*o}})},_updateMenuMaxHeight:function(e){var t=e?e[0]:this.element[0],i=this._isDropDown(this.options.openOptions.display);if(!(t.querySelectorAll("oj-menu").length||!i||this.rootHeight<window.innerHeight)){var n=window.innerHeight-this.launcherHeight-25;n<25&&(n=25),t.style.maxHeight=n+"px",t.style.overflowY="auto"}},_afterOpenHandler:function(e){var i,n=e[s.PopupService.OPTION.POPUP],o=e[s.PopupService.OPTION.CONTEXT],r=o.event,a=o.launcher,l=o.isDropDown,u=o.initialFocus;(this._launcher=a,this._sheetMenuIsOpen=!l,t.push(this),this.initialWidth===n.width()&&this.initialHeight===n.height()&&s.AgentUtils.getAgentInfo().os!==s.AgentUtils.OS.IOS||this._reposition(),delete this.initialWidth,delete this.initialHeight,"firstItem"===u||"menu"===u)&&(i=this._focusSkipLink&&"menu"===u?this._focusSkipLink.getLink():this.element,this._IsCustomElement()?window.setImmediate(function(){i.focus()}):i.focus());this._trigger("open",r,{})},_initVoiceOverAssist:function(e){if("menu"===e&&(s.AgentUtils.getAgentInfo().os===s.AgentUtils.OS.IOS||s.AgentUtils.getAgentInfo().os===s.AgentUtils.OS.ANDROID)){var t=this._getFirstItem();if(!(t.length<1)){var n=this.element.attr("id");s.StringUtils.isEmptyOrUndefined(n)&&(n=this.uuid);var o=[n,"focusSkipLink"].join("_"),r=function(){window.setImmediate(function(e,t){t.find("a").first().focus(),e._focus(null,t)}.bind(this,this,t))}.bind(this),a=this.options.translations.ariaFocusSkipLink;this._focusSkipLink=new i.PopupSkipLink(t,a,r,o,{insertBefore:!0,preventKeyEvents:!1})}}},_destroyVoiceOverAssist:function(){this._focusSkipLink&&(this._focusSkipLink.destroy(),delete this._focusSkipLink)},_getFirstItem:function(){return this.element.find(_).first()},_startOpening:function(e,t){this._clearTimer&&this._clearTimer(),this._IsCustomElement()&&t[0].refresh(),this._clearTimer=this._setTimer(function(){return delete this._clearTimer,this._close().then(function(){this._open(e,t)}.bind(this))},this._getSubmenuBusyStateDescription("closing and opening"),this.delay)},_open:function(t,i){if("true"===i.attr(y)&&this.active){var n;if(this._IsCustomElement()){var o=this._getSubmenuWidget(i);if(!o._trigger2("beforeOpen",t).proceed)return;let e=Object.assign(o.options.openOptions.position,{offset:{x:0,y:R}});n=s.PositionUtils.coerceToJqUi(e),n=s.PositionUtils.normalizeHorizontalAlignment(n,this.isRtl)}else n=this._submenuPosition;if(n=e.extend({of:this.active},n),this._clearTimer&&this._clearTimer(),this.element.find(".oj-menu").not(i.parents(".oj-menu")).hide().attr(y,"true").removeData(p),i.show().removeAttr(y).position(n).data(p,n),this._getSubmenuAnchor(i).attr(j,"true"),!this._isAnimationDisabled()){var a=r.getContext(this.element[0]).getBusyContext().addBusyState({description:this._getSubmenuBusyStateDescription("opening")}),l=this._getDefaultAnimation("submenu","open"),c=n.my.slice();!this.isRtl&&parseFloat(i[0].style.left)<0?c="right top":this.isRtl&&parseFloat(i[0].style.left)>0&&(c="left top"),l=this._replaceAnimationOptions(l,{"#myPosition":c}),u.startAnimation(i[0],"open",l,this).then(a)}this._updateMenuMaxHeight(i)}},__collapseAll:function(t,i,n){var s;this._clearTimer&&this._clearTimer();var o=this,a=function(){delete o._clearTimer;var n=i?o.element:e(t&&t.target).closest(o.element.find(".oj-menu"));n.length||(n=o.element);var s=o._close(n);return s=o._runOnPromise(s,function(){o._blur(t),o.activeMenu=n})};if(n?this._isAnimationDisabled()?o._clearTimer=o._setTimer(a,o._getSubmenuBusyStateDescription("closing"),n):s=new Promise(function(e){o._clearTimer=o._setTimer(a,o._getSubmenuBusyStateDescription("closing"),n,function(){e(!0)})}):s=a(),s){var l=r.getContext(this.element[0]).getBusyContext().addBusyState({description:"closing submenus"});s.then(l)}return s},_close:function(t){var i;t||(t=this.active?this.active.parents(".oj-menu").first():this.element);var n=this,s=n._getDefaultAnimation("submenu","close"),o=t.find(".oj-menu"),r=function(e){e.hide().attr(y,"true").removeData(p),n._getSubmenuAnchor(e).attr(j,"false")};if(this._isAnimationDisabled())r(o),t.find(v).removeClass("oj-focus-ancestor"),i=Promise.resolve(!0);else{var a=function(t){var i=null;return e(B(t)).children(".oj-menu").each(function(t,o){var l=e(o);if(l.is(":visible")){var c=a(l);i=n._runOnPromise(c,function(){var e=l.data(p),t=n._replaceAnimationOptions(s,{"#myPosition":e.my});return u.startAnimation(o,"close",t,n).then(function(){r(l)})})}else r(l),i=Promise.resolve(!0)}),i};i=a(t),i=this._runOnPromise(i,function(){t.find(v).removeClass("oj-focus-ancestor")})}return i},_collapse:function(e,t){var i;if(null==t||"active"===t){var n=this.activeMenu&&this.activeMenu.closest(_,this.element);if(n&&n.length){var s=this;i=this._close(),i=this._runOnPromise(i,function(){s._focus(e,n)})}}else"all"===t||"eventSubtree"===t?i=this.__collapseAll(e,"all"===t,this.delay):c.warn("Invalid param "+t+" passed to Menu._collapse().  Ignoring the call.");return i},_expand:function(t){var i,n;if(this.active){var s=B(n=this.active.children(".oj-menu ").first());s.length>0&&(i=e(s[0]))}i&&i.length&&(this._open(t,n),this._clearTimer&&this._clearTimer(),this._clearTimer=this._setTimer(function(){delete this._clearTimer,this._focus(t,i)},this._getBusyStateDescription("focusing an item")))},_next:function(e){this._move("next","first",e)},_previous:function(e){this._move("prev","last",e)},_move:function(t,i,n){var s,o=B(this.activeMenu),r=o.indexOf(this.active?this.active[0]:null);r>-1?"first"===t?s=o[0]:"last"===t?s=o[o.length-1]:"next"===t?s=r+1<o.length?o[r+1]:o[0]:"prev"===t&&(s=r-1>-1?o[r-1]:o[o.length-1]):s="first"===i?o[0]:o[o.length-1],this._focus(n,e(s))},_select:function(t){if(!this.active&&t&&t.target){var i=e(t.target).closest(_);i.closest(this.element).length&&this._makeActive(i,t)}var n=this.active.is(this._cancelItem)?void 0:{item:this.active},s=this.__collapseAll(t,!0);this._runOnPromise(s,function(){this._focusLauncherAndDismiss(t,n)}.bind(this))},_surrogateRemoveHandler:function(){var e=this.element;s.ZOrderUtils.getStatus(e)===s.ZOrderUtils.STATUS.OPEN&&e.remove()},_getPopupServiceEvents:function(){if(!this._popupServiceEvents){var e={};this._popupServiceEvents=e,e[s.PopupService.EVENT.POPUP_CLOSE]=this._closeAll.bind(this),e[s.PopupService.EVENT.POPUP_REMOVE]=this._surrogateRemoveHandler.bind(this),e[s.PopupService.EVENT.POPUP_REFRESH]=this._reposition.bind(this),e[s.PopupService.EVENT.POPUP_AUTODISMISS]=this._clickAwayHandler.bind(this),e[s.PopupService.EVENT.POPUP_BEFORE_OPEN]=this._beforeOpenHandler.bind(this),e[s.PopupService.EVENT.POPUP_AFTER_OPEN]=this._afterOpenHandler.bind(this),e[s.PopupService.EVENT.POPUP_BEFORE_CLOSE]=this._beforeCloseHandler.bind(this),e[s.PopupService.EVENT.POPUP_AFTER_CLOSE]=this._afterCloseHandler.bind(this)}return this._popupServiceEvents},_closeAll:function(){this._disableAnimation=!0,this._close(this.element),this.__dismiss(null),this._setWhenReady("none")},_usingHandler:function(e,t){var i=t.element.element;i.css(e),s.PositionUtils.captureTransformOriginAnimationEffectsOption(i,t);var n=i.data(p).origUsing;n&&n(e,t),s.PositionUtils.isAligningPositionClipped(t)&&(this._clearCloseDelayTimer=this._setTimer(this._closeAll,this._getSubmenuBusyStateDescription("closing"),1))},getNodeBySubId:function(e){return e&&e.subId===H?this._cancelDomAttached?this._cancelItem[0]:null:this._super(e)},getSubIdByNode:function(t){return this._cancelItem&&this._cancelItem.is(e(t).parents().addBack(t))?{subId:H}:this._super(t)},_isDropDown:function(e){if(this._hasSubmenus)return!0;switch(e){case"dropDown":return!0;case"sheet":return!1;default:return"phone"!==h.getDeviceRenderMode()}},_toggleCancelDom:function(t){function i(t,i){var n=B(t),s=n.indexOf(i[1]);return e(n[s-1])}if(w)if(t)this._cancelDomAttached&&(i(this.element,this._getCancelDom()).removeClass(A),this._getCancelDom().detach(),this._cancelDomAttached=!1);else{var n=this._getCancelDom();n.appendTo(this.element),i(this.element,n).addClass(A),this._cancelDomAttached=!0}},_getCancelDom:function(){if(!this._cancelDom){var t=e("<li></li>",this.document[0]),i=e("<a href='#'></a>",this.document[0]).text(this.options.translations.labelCancel);e("<span class='oj-menu-item-icon oj-component-icon oj-menu-cancel-icon'></span>",this.document[0]).prependTo(i);var n=e("<li></li>",this.document[0]).addClass("oj-menu-item-cancel oj-menu-item-after-divider").append(i);this._initDividers(t),this._initAnchors(i),this._initMenuItems(n),this._cancelAnchor=i,this._cancelItem=n,this._cancelDom=e([t[0],n[0]])}return this._cancelDom},_setupSwipeBehavior:function(){D&&(this.element.ojHammer(U),this._on({swipedown:function(e){this._sheetMenuIsOpen&&"touch"===e.gesture.pointerType&&(this.__collapseAll(e,!0),this._focusLauncherAndDismiss(e))}}))},_setWhenReady:function(e){var t=this._whenReadyMediator;t&&(t.destroy(),delete this._whenReadyMediator),["open","close"].indexOf(e)<0||(this._whenReadyMediator=new i.PopupWhenReadyMediator(this.element,e,"ojMenu",this._IsCustomElement()))},_isOperationPending:function(e,t,i){var n=this._whenReadyMediator;return!!n&&n.isOperationPending(this,e,t,i)},_setTimer:function(e,t,i,n){var s=r.getContext(this.element[0]).getBusyContext().addBusyState({description:t}),o=function(){s&&(s(),s=null,n&&n())},a=this,l=setTimeout(function(){var t=e.bind(a)();t&&t instanceof Promise?t.then(o):o()},i||0);return function(){clearTimeout(l),o()}},_getBusyStateDescription:function(e){return"Menu with id '"+this.element.attr("id")+"' is busy "+e+"."},_getSubmenuBusyStateDescription:function(e){return this._getBusyStateDescription(e+" a submenu")},_NotifyDetached:function(){s.ZOrderUtils.getStatus(this.element)===s.ZOrderUtils.STATUS.OPEN&&this._closeAll(),this._super()}}),l.setDefaultOptions({ojMenu:{openOptions:l.createDynamicPropertyGetter(function(e){return{position:d.isElementRegistered(e.element.tagName)?e.containers.indexOf("ojMenu")>=0?{my:{horizontal:"start",vertical:"top"},at:{horizontal:"end",vertical:"top"},offset:{x:0,y:0},collision:"flipfit"}:{my:{horizontal:"start",vertical:"top"},at:{horizontal:"start",vertical:"bottom"},offset:{x:0,y:0},collision:"flipfit"}:{my:"start top",at:"start bottom",collision:"flipfit"}}})}})}(),(p={properties:{disabled:{type:"boolean",value:!1},openOptions:{type:"object",properties:{display:{type:"string",enumValues:["auto","dropDown","sheet"],value:"auto"},initialFocus:{type:"string",enumValues:["firstItem","menu","none"],value:"menu"},launcher:{type:"string|Element"},position:{type:"object",properties:{at:{type:"object",properties:{horizontal:{type:"string",enumValues:["center","end","left","right","start"]},vertical:{type:"string",enumValues:["bottom","center","top"]}}},collision:{type:"string",enumValues:["fit","flip","flipcenter","flipfit","none"],value:"flipfit"},my:{type:"object",properties:{horizontal:{type:"string",enumValues:["center","end","left","right","start"],value:"start"},vertical:{type:"string",enumValues:["bottom","center","top"],value:"top"}}},of:{type:"string|object"},offset:{type:"object",properties:{x:{type:"number",value:0},y:{type:"number",value:0}}}}}}},translations:{type:"object",value:{},properties:{ariaFocusSkipLink:{type:"string"},labelCancel:{type:"string"}}}},methods:{close:{},getProperty:{},open:{},refresh:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAction:{},ojAnimateEnd:{},ojAnimateStart:{},ojBeforeOpen:{},ojClose:{},ojMenuAction:{},ojOpen:{}},extension:{}}).extension._WIDGET_NAME="ojMenu",s.CustomElementBridge.register("oj-menu",{metadata:p})});
//# sourceMappingURL=ojmenu.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojvmenu',["exports","preact/jsx-runtime","ojs/ojmenu","preact"],function(e,t,n,o){"use strict";class s extends o.Component{constructor(e){super(e),this._rootRef=null}render(e){return t.jsx("div",{style:{display:"none"},ref:e=>this._rootRef=e,children:e.children})}componentDidMount(){this._menuElement||(this._menuElement=this._getMenu(),null!==this._menuElement&&this._openMenu())}_getMenu(){return this._rootRef.childNodes[0]}_openMenu(){const e=this._getOpenOptions();this._menuElement.__openingContextMenu=!0;try{this._menuElement.open(this.props.eventObj.event,e),this._addCloseListener()}catch(e){throw e}finally{this._menuElement.__openingContextMenu=!1}}_addCloseListener(){this.props.onCloseCallback&&this._menuElement.addEventListener("ojClose",this.props.onCloseCallback)}_getOpenOptions(){const e=this.props.eventObj.eventType||"keyboard";return{launcher:this.props.launcherElement,position:{...s._MENU_POSITION[e],of:"keyboard"===e?this.props.launcherElement:this.props.eventObj.event},initialFocus:"menu"}}componentWillUnmount(){this._removeCloseListener()}_removeCloseListener(){this._menuElement&&this.props.onCloseCallback&&this._menuElement.removeEventListener("ojClose",this.props.onCloseCallback)}}s._MENU_POSITION={mouse:{my:"start top",at:"start bottom",collision:"flipfit"},touch:{my:"start>40 center",at:"start bottom",collision:"flipfit"},keyboard:{my:"start top",at:"start bottom",collision:"flipfit"}},e.VMenu=s,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojvmenu.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojvcomponent-binding',["exports"],function(n){"use strict";n.consumedBindings=function(n){return function(n){}},n.providedBindings=function(n){return function(n){}},Object.defineProperty(n,"__esModule",{value:!0})});
//# sourceMappingURL=ojvcomponent-binding.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojbutton2',["exports","preact/jsx-runtime","ojs/ojdomutils","ojs/ojgestureutils","ojs/ojvcomponent","preact","ojs/ojvmenu","ojs/ojvcomponent-binding","ojs/ojthemeutils"],function(t,e,n,s,o,i,r,a,l){"use strict";var u,h=function(t,e,n,s){var o,i=arguments.length,r=i<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(i<3?o(r):i>3?o(e,n,r):o(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};t.Button2=u=class extends i.Component{constructor(t){super(t),this._rootRef=i.createRef(),this._handleContextMenuGesture=(t,e)=>{const n={event:t,eventType:e};t.preventDefault(),this.setState({contextMenuTriggerEvent:n})},this._handleTouchstart=t=>{this.setState({active:!0})},this._handleTouchend=t=>{this.setState({active:!1})},this._handleFocusIn=t=>{t.target===t.currentTarget&&this._handleFocus(t),this.setState({focus:!0}),this._rootRef.current&&this.focusInHandler(this._rootRef.current)},this._handleFocusOut=t=>{t.target===t.currentTarget&&this._handleBlur(t),this.setState({focus:!1}),this._rootRef.current&&this.focusOutHandler(this._rootRef.current)},this._handleMouseenter=t=>{n.recentTouchEnd()||(this===u._lastActive&&this.setState({active:!0}),this.setState({hover:!0}))},this._handleMouseleave=t=>{this.setState({hover:!1,active:!1})},this._handleMousedown=t=>{if(1===t.which&&!n.recentTouchEnd()){this.setState({active:!0}),u._lastActive=this;const t=()=>{u._lastActive=null,document.removeEventListener("mouseup",t,!0)};document.addEventListener("mouseup",t,!0)}},this._handleMouseup=t=>{this.setState({active:!1})},this._handleClick=t=>{t.detail<=1&&this.props.onOjAction?.({originalEvent:t})},this._handleKeydown=t=>{32!==t.keyCode&&13!==t.keyCode||this.setState({active:!0})},this._handleKeyup=t=>{this.setState({active:!1})},this._handleFocus=t=>{this._rootRef?.current?.dispatchEvent(new FocusEvent("focus",{relatedTarget:t.relatedTarget}))},this._handleBlur=t=>{this.setState({active:!1}),this._rootRef?.current.dispatchEvent(new FocusEvent("blur",{relatedTarget:t.relatedTarget}))},this._onCloseCallback=t=>{this.state.contextMenuTriggerEvent&&this.setState({contextMenuTriggerEvent:null})},this.state={},this.uniquePrefix=t.id?t.id+o.getUniqueId():o.getUniqueId()}render(t,n){const s=t.children;let i=this._processIcon(t.startIcon,"oj-button-icon oj-start"),r=this._processIcon(t.endIcon,"oj-button-icon oj-end"),a=t["aria-label"],l=t["aria-labelledby"],u=t["aria-describedby"];const h=a||l;let c=null,d=null,b=null,p=t.title;const _=t.label||s;_?(p=this.state.derivedTitle||p||t.label,"icons"===t.display&&(i||r)?t.label?(h||(a=t.label),c=e.jsx("span",{ref:t=>this._defaultSlotRef=t,children:c})):(h||(b=this.uniquePrefix+"|text",l=b),c=e.jsx("span",{ref:t=>this._defaultSlotRef=t,class:"oj-button-text oj-helper-hidden-accessible",id:b,children:_})):"label"===t.display?(t.startIcon&&(i=this._processIcon(t.startIcon,"oj-button-icon oj-helper-hidden oj-start")),t.endIcon&&(r=this._processIcon(t.endIcon,"oj-button-icon oj-helper-hidden oj-end")),h||(b=this.uniquePrefix+"|text",l=b),c=e.jsx("span",{ref:t=>this._defaultSlotRef=t,class:"oj-button-text",id:b,children:_})):(h||(b=this.uniquePrefix+"|text",l=b),c=e.jsx("span",{ref:t=>this._defaultSlotRef=t,class:"oj-button-text",id:b,children:_}))):c=e.jsx("span",{ref:t=>this._defaultSlotRef=t,children:c});const f=e.jsxs("div",{class:"oj-button-label",children:[i,c,r]});let v;t.disabled?v=e.jsx("button",{class:"oj-button-button","aria-labelledby":l,"aria-describedby":u,"aria-label":a,disabled:!0,children:f}):(d=this._handleClick,v=e.jsx("button",{class:"oj-button-button",ref:t=>this._buttonRef=t,"aria-labelledby":l,"aria-describedby":u,"aria-label":a,onTouchStart:this._handleTouchstart,onTouchEnd:this._handleTouchend,onTouchCancel:this._handleTouchend,onMouseEnter:this._handleMouseenter,onMouseLeave:this._handleMouseleave,onMouseDown:this._handleMousedown,onMouseUp:this._handleMouseup,onfocusin:this._handleFocusIn,onfocusout:this._handleFocusOut,onKeyDown:this._handleKeydown,onKeyUp:this._handleKeyup,children:f}));const j=this._getRootClasses(i,r);return e.jsxs(o.Root,{class:j,id:t.id,title:p,onClick:d,ref:this._rootRef,children:[v,this._renderContextMenu()]})}_renderContextMenu(){return this.state.contextMenuTriggerEvent&&this.props.contextMenu?e.jsx(r.VMenu,{eventObj:this.state.contextMenuTriggerEvent,launcherElement:this._buttonRef,onCloseCallback:this._onCloseCallback,children:[this.props.contextMenu]}):null}_processIcon(t,n){let s;return Array.isArray(t)?s=t.map(t=>this._processIcon(t,n)):t&&(s=e.jsx("span",{class:n,children:t})),s}_getRootClasses(t,e){let n=!0,s="oj-button "+u._chromingMap[this.props.chroming];return s+=" "+this._getDisplayOptionClass(t,e),this.props.disabled?(n=!1,s+=" oj-disabled"):(s+=" oj-enabled",this.state.hover&&(n=!1,s+=" oj-hover"),this.state.active&&(n=!1,s+=" oj-active")),n&&(s+=" oj-default"),s}_getDisplayOptionClass(t,e){const n=t&&e,s=t||e,o="icons"===this.props.display;let i;return i="label"===this.props.display?"oj-button-text-only":s?o?n?"oj-button-icons-only":"oj-button-icon-only":n?"oj-button-text-icons":t?"oj-button-text-icon-start":"oj-button-text-icon-end":"oj-button-text-only",i}_addMutationObserver(){if(this._mutationObserver)return;this._mutationObserver=new MutationObserver(()=>{const t=this._getTextContent();t!=this.state.derivedTitle&&this.setState({derivedTitle:t})}),this._mutationObserver.observe(this._defaultSlotRef,{subtree:!0,characterData:!0})}_needsContextMenuDetection(t){return t.contextMenu&&!t.disabled}componentDidMount(){this._updateDerivedTitle(),this._needsContextMenuDetection(this.props)&&s.startDetectContextMenuGesture(this._rootRef.current,this._handleContextMenuGesture),this._rootRef.current.addEventListener("touchstart",this._handleTouchstart,{passive:!0}),this._rootRef.current.addEventListener("touchend",this._handleTouchend,{passive:!1}),this._rootRef.current.addEventListener("touchcancel",this._handleTouchend,{passive:!0}),n.makeFocusable({applyHighlight:!0,setupHandlers:(t,e)=>{let s=n.getNoJQFocusHandlers(t,e);this.focusInHandler=s.focusIn,this.focusOutHandler=s.focusOut}})}componentDidUpdate(t){t.display!=this.props.display&&this._updateDerivedTitle(),this._updateContextMenuDetection(t),this.props.disabled&&t.disabled!=this.props.disabled&&this.setState({hover:!1})}_updateDerivedTitle(){const t=this.props;let e;"icons"!==t.display||!t.startIcon&&!t.endIcon||t.label||t.title||(e=this._getTextContent(),this._addMutationObserver()),e!=this.state.derivedTitle&&this.setState({derivedTitle:e})}_updateContextMenuDetection(t){const e=this._needsContextMenuDetection(t),n=this._needsContextMenuDetection(this.props);e!=n&&(n?s.startDetectContextMenuGesture(this._rootRef.current,this._handleContextMenuGesture):s.stopDetectContextMenuGesture(this._rootRef.current))}static getDerivedStateFromProps(t){return t.disabled?{contextMenuTriggerEvent:null}:null}_getTextContent(){let t=this._defaultSlotRef.textContent;return t=t.trim(),""!==t?t:null}componentWillUnmount(){this._mutationObserver&&(this._mutationObserver.disconnect(),this._mutationObserver=null),s.stopDetectContextMenuGesture(this._rootRef.current)}refresh(){this.setState({active:!1})}focus(){this._buttonRef?.focus()}blur(){this._buttonRef?.blur()}},t.Button2._chromingMap={solid:"oj-button-full-chrome",outlined:"oj-button-outlined-chrome",borderless:"oj-button-half-chrome",full:"oj-button-full-chrome",half:"oj-button-half-chrome",callToAction:"oj-button-cta-chrome",danger:"oj-button-danger-chrome oj-button-full-chrome"},t.Button2.defaultProps={disabled:!1,display:"all",chroming:l.getCachedCSSVarValues(["--oj-private-button-global-chroming-default"])[0]},t.Button2._metadata={slots:{"":{},startIcon:{},endIcon:{},contextMenu:{}},properties:{disabled:{type:"boolean"},display:{type:"string",enumValues:["all","label","icons"]},label:{type:"string"},translations:{type:"object"},chroming:{type:"string",enumValues:["full","solid","borderless","callToAction","danger","half","outlined"],binding:{consume:{name:"containerChroming"}}}},events:{ojAction:{bubbles:!0}},extension:{_OBSERVED_GLOBAL_PROPS:["id","title","aria-label","aria-labelledby","aria-describedby"]},methods:{refresh:{},focus:{},blur:{}}},t.Button2=u=h([o.customElement("oj-button")],t.Button2),Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ojbutton2.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojbutton',["ojs/ojoption","ojs/ojcore-base","jquery","ojs/ojdomutils","ojs/ojthemeutils","ojs/ojcomponentcore","ojs/ojchildmutationobserver","ojs/ojlabelledbyutils","ojs/ojcustomelement-utils","ojs/ojbutton2"],function(e,t,n,o,s,i,l,a,r,u){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n,l=l&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l,a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a;var c={properties:{chroming:{type:"string",enumValues:["borderless","full","half","outlined","solid"]},disabled:{type:"boolean",value:!1},display:{type:"string",enumValues:["all","icons","label"],value:"all"},label:{type:"string"},translations:{type:"object",value:{}}},methods:{getProperty:{},refresh:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAction:{}},extension:{}};c.extension._WIDGET_NAME="ojButton",c.extension._TRACK_CHILDREN="nearestCustomElement",c.extension._GLOBAL_TRANSFER_ATTRS=["href","aria-label","aria-labelledby","aria-describedby"],t.CustomElementBridge.register("oj-menu-button",{metadata:c,innerDomFunction:function(e){return e.getAttribute("href")?"a":"button"}});var h={properties:{chroming:{type:"string",enumValues:["borderless","full","half","outlined","solid"]},describedBy:{type:"string"},disabled:{type:"boolean",value:!1},display:{type:"string",enumValues:["all","icons","label"],value:"all"},focusManagement:{type:"string",enumValues:["none","oneTabstop"],value:"oneTabstop"},labelledBy:{type:"string"},translations:{type:"object",value:{}},value:{type:"any",writeback:!0}},methods:{getProperty:{},refresh:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},extension:{}};h.extension._WIDGET_NAME="ojButtonset",h.extension._ALIASED_PROPS={value:"checked"},t.CustomElementBridge.register("oj-buttonset-one",{metadata:h});var d={properties:{chroming:{type:"string",enumValues:["borderless","full","half","outlined","solid"]},describedBy:{type:"string"},disabled:{type:"boolean",value:!1},display:{type:"string",enumValues:["all","icons","label"],value:"all"},focusManagement:{type:"string",enumValues:["none","oneTabstop"],value:"oneTabstop"},labelledBy:{type:"string"},translations:{type:"object",value:{}},value:{type:"Array<any>",writeback:!0}},methods:{getProperty:{},refresh:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},extension:{}};if(d.extension._WIDGET_NAME="ojButtonset",d.extension._ALIASED_PROPS={value:"checked"},t.CustomElementBridge.register("oj-buttonset-many",{metadata:d}),t.ButtonLegacy){var m={properties:{chroming:{type:"string",enumValues:["borderless","callToAction","danger","full","half","outlined","solid"]},disabled:{type:"boolean",value:!1},display:{type:"string",enumValues:["all","icons","label"],value:"all"},translations:{type:"object",value:{}}},methods:{refresh:{},setProperty:{},getProperty:{},setProperties:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAction:{}},extension:{}};m.extension._WIDGET_NAME="ojButton",m.extension._TRACK_CHILDREN="nearestCustomElement",m.extension._GLOBAL_TRANSFER_ATTRS=["href","aria-label","aria-labelledby","aria-describedby"],t.CustomElementBridge.register("oj-button",{metadata:m,innerDomFunction:function(e){return e.getAttribute("href")?"a":"button"}})}!function(){var e,u,c="oj-button oj-component oj-enabled oj-default",h="oj-button-icons-only oj-button-icon-only oj-button-text-icons oj-button-text-icon-start oj-button-text-icon-end oj-button-text-only",d="oj-button-full-chrome oj-button-half-chrome oj-button-outlined-chrome oj-button-cta-chrome oj-button-danger-chrome",m={solid:"oj-button-full-chrome",outlined:"oj-button-outlined-chrome",borderless:"oj-button-half-chrome",full:"oj-button-full-chrome",half:"oj-button-half-chrome",callToAction:"oj-button-cta-chrome",danger:"oj-button-danger-chrome oj-button-full-chrome"},b={button:["ojButtonset","ojToolbar"],buttonset:["ojToolbar"]};function p(e,t){y(e,d),e.classList.add(m[t])}function f(e,t){var o,s=e.name,i=e.form;if(s){var l=":radio[name='"+(s=s.replace(/'/g,"\\'"))+"']:oj-button";o=t?t.filter(l):i?n(i).find(l):n(l,e.ownerDocument).filter(function(){return!this.form})}else o=(t?t.filter(e):n(e)).filter(":oj-button");return o}function _(e,t,n){var o=function(e,t,n){for(var o=0;o<n.length;++o){var s=n[o];if(t.indexOf(s)>=0)for(;;e=e.parentNode){var l=i.__GetWidgetConstructor(e,s);if(l)return l}}return null}(t,n,b[e]);return o?o("option","chroming"):s.getCachedCSSVarValues(["--oj-private-"+e+"-global-chroming-default"])[0]}function v(e,t){var n=e.className;if(n){for(var o=n.split(" "),s=t.split(" "),i=s.length;i>=0;i--)o.indexOf(s[i])>=0&&s.splice(i,1);s.length>0&&(e.className=n+" "+s.join(" "))}else e.className=t}function y(e,t){var n=e.className;if(n){for(var o=n.split(" "),s=t.split(" "),i=!1,l=0;l<s.length;l++){var a=o.indexOf(s[l]);a>=0&&(o.splice(a,1),i=!0)}i&&(e.className=o.join(" "))}}t.__registerWidget("oj.ojButton",n.oj.baseComponent,{defaultElement:"<button>",widgetEventPrefix:"oj",options:{chroming:"solid",disabled:!1,display:"all",label:null,icons:{start:null,end:null},menu:null,action:null},_InitOptions:function(e,t){this._super(e,t),this._IsCustomElement()&&this._processSlots(),this._initButtonTypes(),this._IsCustomElement()||"disabled"in t||this.option("disabled",!!this.element[0].disabled,{_context:{internalSet:!0}}),"label"in t||(this.keepDomLabel=!0,this.option("label","inputPush"===this.type?this.buttonElement.val():this.buttonElement[0].innerHTML,{_context:{internalSet:!0}})),this._IsCustomElement()||!this.options.menu||t.icons&&void 0!==t.icons.end||this.option("icons.end","oj-component-icon oj-button-menu-dropdown-icon",{_context:{writeback:!0,internalSet:!0}})},_ComponentCreate:function(){this._super(),this.menuEventNamespace=this.eventNamespace+"menu",this._initButtonTypes2(),this.hasTitle=!!this.rootElement.getAttribute("title");var t=this,s=this._isToggle;v(this.rootElement,c),p(this.rootElement,this.options.chroming);var i=function(){t.rootElement.classList.remove("oj-active"),t.rootElement.classList.remove("oj-hover"),t._toggleDefaultClasses()};if(this._touchStartHandler=function(){t._IsEffectivelyDisabled()||(t.rootElement.classList.add("oj-active"),t._toggleDefaultClasses(),t.document.one("touchend",i))},o.isTouchSupported()&&(this.buttonElement[0].addEventListener("touchstart",this._touchStartHandler,{passive:!0}),this.buttonElement.bind("touchend"+this.eventNamespace+" touchcancel"+this.eventNamespace,i)),this.buttonElement.bind("mouseenter"+this.eventNamespace,function(){t._IsEffectivelyDisabled()||t._isSelectedInButtonsetOne()||(t.rootElement.classList.add("oj-hover"),o.recentTouchEnd()||this===e&&t.rootElement.classList.add("oj-active"),t.rootElement.classList.remove("oj-default"),t.rootElement.classList.remove("oj-focus-only"))}).bind("mouseleave"+this.eventNamespace,function(){t.rootElement.classList.remove("oj-hover"),t._IsEffectivelyDisabled()||(t.rootElement.classList.remove("oj-active"),t._toggleDefaultClasses())}),this._disabledClickHandler=function(e){t._IsEffectivelyDisabled()&&(e.preventDefault(),e.stopImmediatePropagation())},this._ojActionClickHandler=function(e){t._trigger("action",e,{})},this._IsCustomElement()?(this.rootElement.addEventListener("click",this._disabledClickHandler,!0),this.rootElement.addEventListener("click",this._ojActionClickHandler,!1)):this.buttonElement[0].addEventListener("click",this._disabledClickHandler,!0),this._focusable({element:n(this.rootElement),applyHighlight:!0,afterToggle:function(){t._toggleDefaultClasses()}}),s&&(this.element.bind("change"+this.eventNamespace,function(e){t._applyCheckedStateFromDom(!0);var n=t._getEnclosingContainerComponent("buttonset"),o=n&&n._getCheckedFromDom(n.$buttons);n&&void 0!==o&&n.option("checked",o,{_context:{writeback:!0,originalEvent:e,internalSet:!0}})}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(){t._IsEffectivelyDisabled()||(u=this,t._isSelectedInButtonsetOne()||t.rootElement.classList.add("oj-active"),t.document.one("mouseup",function(){u=null,t.rootElement.classList.remove("oj-active")}))}).bind("mouseup"+this.eventNamespace,function(){t._IsEffectivelyDisabled()||(t.rootElement.classList.remove("oj-active"),this===u&&t.element.focus())})),"checkbox"===this.type)this.buttonElement.bind("click"+this.eventNamespace,function(){if(t._IsEffectivelyDisabled())return!1}),this.element.bind("keyup"+this.eventNamespace,function(e){e.keyCode===n.ui.keyCode.ENTER&&(t._IsEffectivelyDisabled()||t.element.click())});else if("radio"===this.type)this.buttonElement.bind("click"+this.eventNamespace,function(){if(t._IsEffectivelyDisabled())return!1}),this.element.bind("keyup"+this.eventNamespace,function(e){e.keyCode===n.ui.keyCode.ENTER&&(t.element[0].checked||t._IsEffectivelyDisabled()||(t.element[0].checked=!0,t.element.change(),t.element.click()))});else if(this.buttonElement.bind("mousedown"+this.eventNamespace,function(n){if(t._IsEffectivelyDisabled())return!1;1!==n.which||o.recentTouchEnd()||(t._isSelectedInButtonsetOne()||t.rootElement.classList.add("oj-active"),t.rootElement.classList.remove("oj-default"),t.rootElement.classList.remove("oj-focus-only"),e=this,t.document.one("mouseup",function(){e=null}))}).bind("mouseup"+this.eventNamespace,function(){if(t._IsEffectivelyDisabled())return!1;t.rootElement.classList.remove("oj-active"),t._toggleDefaultClasses()}).bind("keydown"+this.eventNamespace,function(e){if(t._IsEffectivelyDisabled())return e.keyCode===n.ui.keyCode.TAB||e.keyCode===n.ui.keyCode.LEFT||e.keyCode===n.ui.keyCode.RIGHT;var o=e.keyCode===n.ui.keyCode.SPACE,s="anchor"===t.type;s&&o&&e.preventDefault(),(o&&!s||e.keyCode===n.ui.keyCode.ENTER)&&(t._isSelectedInButtonsetOne()||t.rootElement.classList.add("oj-active"),t.rootElement.classList.remove("oj-default"),t.rootElement.classList.remove("oj-focus-only"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){t.rootElement.classList.remove("oj-active"),t._toggleDefaultClasses()}),"anchor"===this.type){var l=this.buttonElement[0].getAttribute("tabindex");(null===l||isNaN(l))&&this.buttonElement[0].setAttribute("tabindex","0")}this.options.disabled&&this._manageAnchorTabIndex(!1,!0),this._updateEffectivelyDisabled();var a=t._getEnclosingContainerComponent("buttonset");this._IsCustomElement()||a&&a._IsCustomElement()?this._setDisplayOptionOnDom():this._handleLabelAndIconsAtCreateTime(),this._setupMenuButton(null),this._toggleDefaultClasses(),this._childMutationObserver&&this._childMutationObserver.observe()},_NotifyContextMenuGesture:function(e,t,o){this._OpenContextMenu(t,o,{position:{of:"keyboard"===o?n(this.rootElement):t}})},_addMutationObserver:function(){if(!this._childMutationObserver&&this._IsCustomElement()){var e=this;this._childMutationObserver=new l(this.rootElement,function(t){t.forEach(function(t){var n;if("childList"===t.type){var o=t.addedNodes&&t.addedNodes[0],s=t.target;if(o&&3===o.nodeType&&s&&1===s.nodeType&&s.classList.contains("oj-button-label")){e._childMutationObserver.disconnect(),n=!0;var i=e.buttonElement[0].querySelector(".oj-button-text");i&&(i.textContent=o.textContent),o.parentNode.removeChild(o)}}else"characterData"===t.type&&(e._childMutationObserver.disconnect(),n=!0);n&&(e._setDisplayOptionOnDom(),e._childMutationObserver.observe())})})}},_removeMutationObserver:function(){this._childMutationObserver&&(this._childMutationObserver.disconnect(),this._childMutationObserver=null)},_processSlots:function(){var e,t=this,o=this.element[0],s=o.parentNode,i="OJ-MENU-BUTTON"===s.tagName,l=r.CustomElementUtils.getSlotMap(s);e=i?["startIcon","","endIcon","menu"]:["startIcon","","endIcon"],n.each(e,function(e,t){l[t]&&""!==t&&n.each(l[t],function(e,t){o.appendChild(t)})});for(var a=s.children,u=a.length-1;u>=0;u--){var c=a[u];c!==o&&"contextMenu"!==c.getAttribute("slot")&&s.removeChild(c)}var h=r.CustomElementUtils.getSlotMap(o);n.each(e,function(e,s){h[s]&&n.each(h[s],function(e,i){if(o.appendChild(i),""===s){var l=i,a=l;3===l.nodeType&&(a=document.createElement("span"),l.parentNode.insertBefore(a,l),a.appendChild(l)),a.classList.add("oj-button-text"),t._setTextSpanIdAndLabelledBy(a)}else if("startIcon"===s)i.classList.add("oj-button-icon"),i.classList.add("oj-start");else if("endIcon"===s)i.classList.add("oj-button-icon"),i.classList.add("oj-end");else if("menu"===s&&(n(i).uniqueId(),t.menuSlot="#"+i.id,void 0===h.endIcon)){var r=document.createElement("span"),u="oj-button-menu-dropdown-icon";void 0===h.startIcon&&"icons"===t.options.display&&(u="oj-button-menu-icon-only-dropdown-icon"),r.className="oj-button-icon oj-end oj-component-icon "+u,r.setAttribute("slot","endIcon"),o.insertBefore(r,i)}})});var d=document.createElement("div");for(d.className="oj-button-label";o.hasChildNodes();)d.appendChild(o.firstChild);o.appendChild(d)},_getMenuNode:function(){return this._IsCustomElement()?this.menuSlot:this.options.menu},_initButtonTypes:function(){var e=this.element[0];if("INPUT"===e.tagName&&"checkbox"===e.type)this.type="checkbox",this._isToggle=!0;else if("INPUT"===e.tagName&&"radio"===e.type)this.type="radio",this._isToggle=!0;else if("INPUT"!==e.tagName||"button"!==e.type&&"submit"!==e.type&&"reset"!==e.type)if("BUTTON"===e.tagName)this.type="button";else{if("A"!==e.tagName)throw new Error("JET Button not supported on this element type");this.type="anchor"}else this.type="inputPush";if(this._isToggle){var t="label[for='"+this.element[0].getAttribute("id")+"']";this.buttonElement=this.element.siblings().filter(t)}else this.buttonElement=this.element},_initButtonTypes2:function(){var e=this.element[0];if(this._isToggle){this.buttonElement[0].classList.add("oj-button-label"),e.classList.add("oj-button-input"),e.classList.add("oj-helper-hidden-accessible"),e.setAttribute("data-oj-internal","");var t=document.createElement("span");this.element[0].parentNode.insertBefore(t,this.buttonElement[0]),t.appendChild(this.buttonElement[0]),t.appendChild(this.element[0]),this.rootElement=this.element[0].parentNode,this.rootElement.classList.add("oj-button-toggle"),e.checked&&(this.rootElement.classList.add("oj-selected"),this.rootElement.classList.remove("oj-default"),this.rootElement.classList.remove("oj-focus-only"))}else this._IsCustomElement()?(this.rootElement=this.element[0].parentNode,e.classList.add("oj-button-button")):(this.rootElement=this.element[0],this._IsCustomElement()||e.classList.add("oj-button-toggle"))},widget:function(){return n(this.rootElement)},_destroy:function(){this._removeMenuBehavior(this._getMenuNode()),this.buttonElement[0].removeEventListener("click",this._disabledClickHandler,!0),this.buttonElement[0].removeEventListener("click",this._ojActionClickHandler,!1),this.buttonElement[0].removeEventListener("touchstart",this._touchStartHandler,{passive:!0}),delete this._touchStartHandler;var e=this.element[0];e.classList.remove("oj-helper-hidden-accessible"),e.removeAttribute("aria-labelledby"),e.removeAttribute("aria-describedby"),this.element.removeUniqueId(),this.options.disabled&&this._manageAnchorTabIndex(!0,!1);var t=this._isToggle;t||y(this.rootElement,c+" oj-button-toggle oj-hover oj-active oj-selected "+h+" "+d);var n=this.buttonElement[0].querySelector(".oj-button-text");n&&(this.buttonElement[0].innerHTML=n.innerHTML),t?(this.buttonElement[0].classList.remove("oj-button-label"),o.unwrap(this.element)):this.hasTitle||this.rootElement.removeAttribute("title"),u===this.buttonElement[0]&&(u=null),this.buttonElement.off("blur"),this._removeMutationObserver()},_NotifyDetached:function(){this._super(),this._toggleDefaultClasses()},__setAncestorComponentDisabled:function(e){this._super(e),this._updateEffectivelyDisabled()},_updateEffectivelyDisabled:function(){var t=this.element[0],n=this._IsEffectivelyDisabled();if(n?(this.rootElement.classList.add("oj-disabled"),this.rootElement.classList.remove("oj-enabled")):(this.rootElement.classList.remove("oj-disabled"),this.rootElement.classList.add("oj-enabled")),"anchor"!==this.type?(t.disabled=n,this.rootElement.removeAttribute("aria-disabled")):(t.setAttribute("aria-disabled",n),this._IsCustomElement()&&this.rootElement.removeAttribute("aria-disabled")),n){var o=this.widget()[0].classList;o.remove("oj-active"),o.remove("oj-default"),o.remove("oj-focus-only"),o.remove("oj-hover"),o.remove("oj-focus"),o.remove("oj-focus-highlight"),e=null,this._dismissMenu(this._getMenuNode())}else this._toggleDefaultClasses()},_setOption:function(e,t,n){var o=this.options[e];switch(this._super(e,t,n),e){case"chroming":p(this.rootElement,t);break;case"disabled":if(this._manageAnchorTabIndex(o,t),this._updateEffectivelyDisabled(),!this._IsCustomElement()){var s=this._getEnclosingContainerElement("toolbar");s.length&&s.ojToolbar("refresh")}break;case"label":this._setLabelOption();break;case"display":"inputPush"!==this.type&&this._setDisplayOptionOnDom();break;case"icons":this._setIconsOption(!0);break;case"menu":this._setupMenuButton(o)}},refresh:function(){this._super(),this._ancestorDisabled&&!this._getEnclosingContainerElement("buttonset").length&&this.__setAncestorComponentDisabled(!1),p(this.rootElement,this.options.chroming)},_applyCheckedStateFromDom:function(e){"radio"===this.type?(e?f(this.element[0]):this.element).each(function(){var e=n(this).data("oj-ojButton");this.checked?(e.rootElement.classList.add("oj-selected"),e.rootElement.classList.remove("oj-default"),e.rootElement.classList.remove("oj-focus-only")):(e.rootElement.classList.remove("oj-selected"),e._toggleDefaultClasses())}):"checkbox"===this.type&&(this.element[0].checked?(this.rootElement.classList.add("oj-selected"),this.rootElement.classList.remove("oj-default"),this.rootElement.classList.remove("oj-focus-only")):(this.rootElement.classList.remove("oj-selected"),this._toggleDefaultClasses()))},_handleLabelAndIconsAtCreateTime:function(){if("inputPush"===this.type)this._setLabelOnDomOfSpanlessButton();else{var e=this._setLabelOnDomAtCreateTime(),t=this._setIconOnDom(!0),n=this._setIconOnDom(!1);this._setDisplayOptionOnDom(e,t,n)}},_setLabelOnDomAtCreateTime:function(){var e=this.buttonElement[0],t=document.createElement("span");if(t.className="oj-button-text",this.keepDomLabel)for(;e.hasChildNodes();)t.appendChild(e.firstChild);else e.innerHTML="",t.textContent=this.options.label;if("button"===this.type){var o=document.createElement("div");o.className="oj-button-label",o.appendChild(t),this.element[0].appendChild(o)}else e.appendChild(t);return"button"!==this.type&&"anchor"!==this.type||this.element[0].hasAttribute("aria-label")||this.element[0].hasAttribute("aria-labelledby")||this._setTextSpanIdAndLabelledBy(t),n(t)},_setTextSpanIdAndLabelledBy:function(e){n(e).uniqueId(),this.element[0].hasAttribute("aria-label")||this.element[0].hasAttribute("aria-labelledby")||this.element[0].setAttribute("aria-labelledby",e.getAttribute("id"))},_setLabelOption:function(){if("inputPush"===this.type)this._setLabelOnDomOfSpanlessButton();else{var e=this.buttonElement[0].querySelector(".oj-button-text");e.textContent=this.options.label,this._setDisplayOptionOnDom(n(e))}},_setLabelOnDomOfSpanlessButton:function(){this.options.label&&this.element.val(this.options.label)},_setIconsOption:function(){if("inputPush"!==this.type){var e=this._setIconOnDom(!0),t=this._setIconOnDom(!1);this._setDisplayOptionOnDom(void 0,e,t)}},_setIconOnDom:function(e){var t,n,o,s,i=this.buttonElement[0];"button"===this.type&&(i=this.element.children("div.oj-button-label")[0]),e?(t=".oj-button-icon.oj-start",n="oj-button-icon oj-start",o=this.options.icons.start,s="_lastStartIcon"):(t=".oj-button-icon.oj-end",n="oj-button-icon oj-end",o=this.options.icons.end,s="_lastEndIcon");var l,a,r=i.querySelectorAll(t);if(o)if(r.length){var u=this[s];for(l=0;l<r.length;l++)y(a=r[l],u),v(a,o)}else{var c=document.createElement("span");c.className=n+" "+o,e?i.insertBefore(c,i.firstChild):i.appendChild(c)}else for(l=0;l<r.length;l++)(a=r[l]).parentNode.removeChild(a);return this[s]=o,!!o},_setDisplayOptionOnDom:function(e,t,o){var s=this.buttonElement.children(".oj-button-label");if(!s.length){var i=this._getEnclosingContainerComponent("buttonset");s=this._IsCustomElement()||i&&i._IsCustomElement()?this.buttonElement.children("oj-option"):this.buttonElement}void 0===e&&(e=s.children(".oj-button-text")),void 0===t&&(t=!!this.options.icons.start||s.children("[slot='startIcon']").length),void 0===o&&(o=!!this.options.icons.end||s.children("[slot='endIcon']").length);var l,a=t&&o,r=t||o,u="icons"===this.options.display,c="label"===this.options.display;if(c)s.children("[slot='startIcon']")&&s.children("[slot='startIcon']")[0].classList.add("oj-helper-hidden"),s.children("[slot='endIcon']")&&s.children("[slot='endIcon']")[0].classList.add("oj-helper-hidden");else if(r&&u){if(e[0]&&e[0].classList.add("oj-helper-hidden-accessible"),!this.hasTitle){var d=e[0]?e[0].textContent:"";this.rootElement.setAttribute("title",n.trim(d))}this._addMutationObserver()}else e[0]&&e[0].classList.remove("oj-helper-hidden-accessible"),this.hasTitle||this.rootElement.removeAttribute("title"),this._removeMutationObserver();c&&(l="oj-button-text-only"),l=r?u?a?"oj-button-icons-only":"oj-button-icon-only":a?"oj-button-text-icons":t?"oj-button-text-icon-start":"oj-button-text-icon-end":"oj-button-text-only",y(this.rootElement,h),this.rootElement.classList.add(l)},_manageAnchorTabIndex:function(e,t){if(!e!=!t&&"anchor"===this.type&&!this._getEnclosingContainerElement("buttonset").length&&!this._getEnclosingContainerElement("toolbar").length){var n=this.element[0];if(t){var o=n.getAttribute("tabindex");this._oldAnchorTabIndex=this._isInteger(Number(o))?o:null,n.setAttribute("tabindex",-1)}else null==this._oldAnchorTabIndex?n.removeAttribute("tabindex"):n.setAttribute("tabindex",this._oldAnchorTabIndex)}},_isInteger:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},_selectorMap:{buttonset:".oj-buttonset",toolbar:".oj-toolbar",buttonsetone:"oj-buttonset-one"},_constructorMap:{buttonset:"ojButtonset",toolbar:"ojToolbar"},_isSelectedInButtonsetOne:function(){return 1===this._getEnclosingContainerElement("buttonsetone").length&&this.rootElement.classList.contains("oj-selected")},_getEnclosingContainerElement:function(e){return n(this.rootElement).closest(this._selectorMap[e])},_getEnclosingContainerComponent:function(e){var t=this._getEnclosingContainerElement(e)[0],n=i.__GetWidgetConstructor(t,this._constructorMap[e]);return n&&n("instance")},_setupMenuButton:function(e){if(this._getMenuNode()&&"INPUT"===this.element[0].tagName)throw new Error("Menu Button functionality is not supported on input elements.");if(this._removeMenuBehavior(e),this._getMenuNode()){var t=this;this.element.attr("aria-haspopup",!0).attr("role","button").on("keydown"+this.menuEventNamespace,function(e){if(e.which===n.ui.keyCode.DOWN||e.which===n.ui.keyCode.ENTER||e.which===n.ui.keyCode.SPACE)return t._toggleMenu(e,"firstItem"),e.preventDefault(),!0;if(e.which===n.ui.keyCode.ESCAPE){var o=!t.rootElement.classList.contains("oj-selected");return t._dismissMenu(t._getMenuNode(),e),o}return!0}).on("click"+this.menuEventNamespace,function(e){var n=t._getMenu();return n.__spaceEnterDownInMenu||t._toggleMenu(e,"menu"),n.__spaceEnterDownInMenu=!1,e.preventDefault(),!0})}},_removeMenuBehavior:function(e){this.element.removeAttr("aria-haspopup").removeAttr("role").off(this.menuEventNamespace),this._dismissMenu(e),n(e).off(this.menuEventNamespace),this._menuListenerSet=!1},_getMenu:function(){var e=this._getMenuOnly(this._getMenuNode());if(!e)throw new Error('JET Button: "menu" option specified, but does not reference a valid JET Menu.');if(!this._menuListenerSet){var t,n=this;t=e._IsCustomElement()?"ojClose":"ojclose",e.widget().on(t+this.menuEventNamespace,function(e){n._menuDismissHandler(e)}),this._menuListenerSet=!0}return e},_getMenuOnly:function(e){var t=i.__GetWidgetConstructor(n(e)[0],"ojMenu");return t&&t("instance")},_toggleMenu:function(e,t){if(!this._IsEffectivelyDisabled()){var n=this._getMenu(),o=n.widget();this._menuVisible?this._dismissMenu(this._getMenuNode(),e):(n.open(e,{launcher:this.element,initialFocus:t}),o.is(":visible")&&(this._menuVisible=!0,o[0].getAttribute("aria-label")||o[0].getAttribute("aria-labelledby")||(this.element.uniqueId(),this._setAriaLabelledBy=!0,o[0].setAttribute("aria-labelledby",this.element[0].getAttribute("id"))),this.rootElement.classList.add("oj-selected"),this.rootElement.classList.remove("oj-default"),this.rootElement.classList.remove("oj-focus-only")))}},_dismissMenu:function(e,t){if(this._menuVisible){var n=this._getMenuOnly(e);n&&(n.__collapseAll(t,!0),n.__dismiss(t))}},_menuDismissHandler:function(){this._setAriaLabelledBy&&(n(this._getMenuNode()).removeAttr("aria-labelledby"),this._setAriaLabelledBy=!1),this.rootElement.classList.remove("oj-selected"),this._toggleDefaultClasses(),this._menuVisible=!1},_toggleDefaultClasses:function(){var e,t;if(n(this.rootElement).is(".oj-hover, .oj-active, .oj-selected, .oj-disabled"))e=!1,t=!1;else{var o=n(this.rootElement).is(".oj-focus");e=!o,t=o}e?this.rootElement.classList.add("oj-default"):this.rootElement.classList.remove("oj-default"),t?this.rootElement.classList.add("oj-focus-only"):this.rootElement.classList.remove("oj-focus-only")}}),t.__registerWidget("oj.ojButtonset",n.oj.baseComponent,{_items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a",widgetEventPrefix:"oj",options:{checked:null,chroming:"solid",display:"all",focusManagement:"oneTabstop",labelledBy:null,describedBy:null},_setCheckedOnDom:function(e,t){var o,s=n.type(e),i=this.element[0];if((o="OJ-BUTTONSET-MANY"===i.tagName||t.length>0&&t.filter("input[type=checkbox]").length===t.length)&&"array"!==s)throw new Error("Invalid 'checked' value set on JET Buttonset: "+e);if(!(this._setCheckedOnButtons(e,t,s,o)||null==e||this._IsCustomElement()&&t.length!==i.children.length))throw new Error("Invalid 'checked' value set on JET Buttonset: "+e)},_setCheckedOnButtons:function(e,t,n,o){var s=this._shallowCompare(e,t,o);return this._shouldDeepCompare(e,o,s)&&(s=this._deepCompare(e,t,o,s)),o?s===e.length:1===s},_shallowCompare:function(e,t,n){var o=this,s=0;return t.each(function(){var t=o._getInputValue(this);(n?e.indexOf(t)>-1:t===e)?(this.checked=!0,s+=1):this.checked=!1}),s},_shouldDeepCompare:function(e,t,n){return t?n!==e.length:!n},_deepCompare:function(e,t,n,o){var s=o,i=this;return t.each(function(){var t=i._getInputValue(this);if(n)for(var o=0;o<e.length;o++)i._deepCompareValues(t,e[o])&&(this.checked=!0,s+=1);else i._deepCompareValues(t,e)&&(this.checked=!0,s+=1)}),s},_deepCompareValues:function(e,o){return"object"===n.type(e)&&e.ojCompareValues?0===e.ojCompareValues(e,o):t.Object.compareValues(e,o)},_getInputValue:function(e){return this._IsCustomElement()?this._getOjOptionFromInput(e).value:e.value},_getOjOptionFromInput:function(e){return e.previousElementSibling.children[0]},_getCheckedFromDom:function(e){var t,n=null,o=null,s=this;return e.each(function(){if("input"!==this.tagName.toLowerCase())return t=void 0,!1;var e,i,l=this.type.toLowerCase();if("radio"===l)e=!0,i=this.name.toLowerCase();else{if("checkbox"!==l)return t=void 0,!1;e=!1,i=null}if(void 0!==t&&(e!==n||i!==o||n&&!o))return t=void 0,!1;var a=s._getInputValue(this);void 0===t?(t=e?this.checked?a:null:this.checked?[a]:[],n=e,o=i):this.checked&&(n?t=a:t.push(a))}),t},_CompareOptionValues:function(e,t,o){return"checked"===e?t===o||"array"===n.type(t)&&"array"===n.type(o)&&this._compareArraysAsSets(t,o):this._superApply(arguments)},_compareArraysAsSets:function(e,t){return!e.some(function(e){return t.indexOf(e)<0})&&!t.some(function(t){return e.indexOf(t)<0})},_removeNonOjOptions:function(){this.element.children(":not(oj-option)").remove()},_processOjOptions:function(){var e=this,t=this.element[0].querySelectorAll("oj-option");n.each(t,function(t,n){n.customOptionRenderer=e._customOptionRenderer.bind(e)})},_customOptionRenderer:function(e){this._removeOptionDecoration(e),this._addOptionDecoration(e)},_addOptionDecoration:function(e){this._addOptionClasses(e);var t="OJ-BUTTONSET-ONE"===this.element[0].tagName,o=t?"radio":"checkbox",s=e.value,i=e.disabled,l=document.createElement("input"),a=document.createElement("label");n(l).uniqueId(),l.value=s,l.type=o,l.disabled=i;var r=l.id;a.htmlFor=r,t&&(this._name||(this._name="_n_"+r),l.name=this._name),e.parentNode.insertBefore(a,e),a.appendChild(e),a.parentNode.insertBefore(l,a.nextElementSibling),this._setup(!1),this._setCheckedOnDom(this.options.checked,this.$buttons),this.$buttons.each(function(){n(this).data("oj-ojButton")._applyCheckedStateFromDom(!1)})},_removeOptionDecoration:function(e){var t=e.parentNode;if("LABEL"===t.tagName){this._removeOptionClasses(e);var o=n(t).siblings(".oj-button-input");o.ojButton("destroy"),o.removeUniqueId(),o.remove(),t.parentNode.insertBefore(e,t),t.parentNode.removeChild(t)}},_addOptionClasses:function(e){var t=r.CustomElementUtils.getSlotMap(e),n=t[""]?t[""]:null,o=t.startIcon?t.startIcon[0]:null,s=t.endIcon?t.endIcon[0]:null;if(o&&(o.classList.add("oj-button-icon"),o.classList.add("oj-start")),n)for(var i=0;i<n.length;i++){var l=n[i],a=l;3===l.nodeType&&(a=document.createElement("span"),l.parentNode.insertBefore(a,l),a.appendChild(l)),a.classList.add("oj-button-text")}s&&(s.classList.add("oj-button-icon"),s.classList.add("oj-end"))},_removeOptionClasses:function(e){var t=r.CustomElementUtils.getSlotMap(e),n=t[""]?t[""]:null,o=t.startIcon?t.startIcon[0]:null,s=t.endIcon?t.endIcon[0]:null;if(o&&(o.classList.remove("oj-button-icon"),o.classList.remove("oj-start")),n)for(var i=0;i<n.length;i++)n[i].classList.remove("oj-button-text");s&&(s.classList.remove("oj-button-icon"),s.classList.remove("oj-end"))},_InitOptions:function(e,t){if(this._super(e,t),this.$buttons=this.element.find(this._items),!("checked"in t)){this.initCheckedFromDom=!0;var o=this._getCheckedFromDom(this.$buttons);"array"!==n.type(o)&&"OJ-BUTTONSET-MANY"!==this.element[0].tagName||(this.options.checked=[]),void 0!==o&&this.option("checked",o,{_context:{internalSet:!0}})}},_ComponentCreate:function(){this._super();var e=this.element[0];e.setAttribute(i._OJ_CONTAINER_ATTR,this.widgetName),e.classList.add("oj-buttonset"),e.classList.add("oj-component"),this._setRole(this.options.focusManagement),this._IsCustomElement()&&(this._removeNonOjOptions(),this._processOjOptions()),this._setup(!0)},_NotifyContextMenuGesture:function(e,t,n){var o=this.element.find(":oj-button[tabindex=0]");this._OpenContextMenu(t,n,{launcher:o,position:{of:"keyboard"===n?o.ojButton("widget"):t}})},_propagateDisabled:function(e){var t=!!e;this.$buttons.each(function(){n(this).data("oj-ojButton").__setAncestorComponentDisabled(t)})},_setRole:function(e){var t=this.element[0];"oneTabstop"===e?t.setAttribute("role","toolbar"):t.removeAttribute("role")},_setOption:function(e,t,o){var s=this.options[e];if(this._superApply(arguments),"disabled"===e){if(this._propagateDisabled(t),this._refreshTabStop(),!this._IsCustomElement()){var i=n(this.element).closest(".oj-toolbar");i.length&&i.ojToolbar("refresh")}}else if("checked"===e)this._setCheckedOnDom(t,this.$buttons),this.$buttons.each(function(){n(this).data("oj-ojButton")._applyCheckedStateFromDom(!1)});else if("focusManagement"===e)this._setRole(t);else if("chroming"===e)p(this.element[0],t),this.$buttons.ojButton("refresh");else if("display"===e)this.$buttons.ojButton("option",e,t);else if("labelledBy"===e){var l=this.element;this._labelledByUpdatedForSet(l[0].id,s,t,l)}else"describedBy"===e&&this._describedByUpdated(s,t)},refresh:function(){this._super(),this._IsCustomElement()&&this._processOjOptions(),this._setup(!1)},_setup:function(e){var t=this,o=this.element[0];this.isRtl="rtl"===this._GetReadingDirection(),p(o,this.options.chroming),!e||this.initCheckedFromDom||this._IsCustomElement()||this._setCheckedOnDom(this.options.checked,this.$buttons),e||(this.$buttons=this.element.find(this._items)),this.$buttons.length>1?o.classList.add("oj-buttonset-multi"):o.classList.remove("oj-buttonset-multi"),this.$buttons.filter(":oj-button").ojButton("refresh").each(function(){n(this).data("oj-ojButton")._applyCheckedStateFromDom(!1)}).end().not(":oj-button").ojButton({display:this.options.display}).end();for(var s=0,i=this.$buttons.length;s<i;s++){var l=this.$buttons.eq(s).ojButton("widget")[0];l.classList.remove("oj-buttonset-first"),l.classList.remove("oj-buttonset-last"),0===s?l.classList.add("oj-buttonset-first"):s===i-1&&l.classList.add("oj-buttonset-last")}this._propagateDisabled(this.options.disabled),"oneTabstop"===this.options.focusManagement&&(this.$buttons.unbind("keydown"+this.eventNamespace).bind("keydown"+this.eventNamespace,function(e){t._handleKeyDown(e,n(this))}).unbind("click"+this.eventNamespace).bind("click"+this.eventNamespace,function(){n(this).data("oj-ojButton")._IsEffectivelyDisabled()||t._setTabStop(n(this))}).unbind("focus"+this.eventNamespace).bind("focus"+this.eventNamespace,function(){t._setTabStop(n(this))}),this.$enabledButtons=this.$buttons.filter(function(){return!n(this).data("oj-ojButton")._IsEffectivelyDisabled()}),this._initTabindexes(e)),this.element.uniqueId(),this._labelledByUpdatedForSet(o.id,null,this.options.labelledBy,this.element);var a=this.options.describedBy;a&&this._describedByUpdated(a)},_labelledByUpdatedForSet:a._labelledByUpdatedForSet,_describedByUpdated:a._describedByUpdated,_GetContentElement:function(){return null!=this.$buttons||(this.$buttons=this.element.find(this._items)),this.$buttons},_refreshTabStop:function(){"oneTabstop"===this.options.focusManagement&&(this.$enabledButtons=this.$buttons.filter(function(){return!n(this).data("oj-ojButton")._IsEffectivelyDisabled()}),this._initTabindexes(!1))},_initTabindexes:function(e){var t,o=n(this._lastTabStop);this._lastTabStop=void 0,this.$buttons.attr("tabindex","0"),t=e||!o.is(this.$enabledButtons)?this.$enabledButtons.first():o,this._setTabStop(t)},_mapToTabbable:function(e){var t=this.$enabledButtons;return e.map(function(e,n){if("radio"!==n.type||n.checked||""===n.name)return n;var o=f(n,t).filter(":checked");return o.length?o[0]:n})},_setTabStop:function(e){var t=(e=this._mapToTabbable(e))[0];t!==this._lastTabStop&&(e[0]&&e[0].setAttribute("tabindex","0"),this._lastTabStop=t)},_handleKeyDown:function(e,t){switch(e.which){case n.ui.keyCode.UP:case n.ui.keyCode.DOWN:if("radio"!==t[0].getAttribute("type"))break;case n.ui.keyCode.LEFT:case n.ui.keyCode.RIGHT:e.preventDefault();var o=this.$enabledButtons,s=o.length;if(s<2)break;var i=(o.index(t)+(e.which===n.ui.keyCode.DOWN||e.which===n.ui.keyCode.RIGHT!==this.isRtl?1:-1)+s)%s;o.eq(i).focus()}},_destroy:function(){var e=this.element[0];y(e,"oj-buttonset oj-component "+d),e.removeAttribute(i._OJ_CONTAINER_ATTR),e.removeAttribute("role"),"oneTabstop"===this.options.focusManagement&&this.$buttons.attr("tabindex","0"),this.$buttons.map(function(){return n(this).ojButton("widget")[0]}).removeClass("oj-buttonset-first oj-buttonset-last").end().ojButton("destroy")}}),i.setDefaultOptions({ojButton:{chroming:i.createDynamicPropertyGetter(function(e){return _("button",e.element,e.containers)})},ojButtonset:{chroming:i.createDynamicPropertyGetter(function(e){return _("buttonset",e.element,e.containers)})}})}()});
//# sourceMappingURL=ojbutton.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojkeyboardfocus-utils',["exports","jquery","ojs/ojcore-base","ojs/ojpopupcore","ojs/ojdomutils"],function(e,t,r,n,l){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r;const o="aria-readonly",a="data-oj-tabmod",i="data-oj-ariareadonlymod",u='input, select, button, a[href], textarea, object, [tabIndex]:not([tabIndex="-1"]), [tabindex]:not([tabindex="-1"])',s="["+a+"], "+u,d=function(e){return!(0===e.offsetHeight||0===e.offsetWidth||"hidden"===window.getComputedStyle(e).visibility)},f=function(e){var t=[];let r=e.querySelectorAll(s);for(var n=0;n<r.length;n++){var l=r[n];!l.disabled&&d(l)&&t.push(l)}return t},b=function(e,t){var n=[],l=r.AgentUtils.getAgentInfo(),o=!0;if(r.AgentUtils.BROWSER.IE===l.browser&&null==e.parentNode&&(o=!1),o)for(var a=e.querySelectorAll(u),i=a.length,s=0;s<i;s++){var f=a[s];if(!f.disabled&&(t||d(f)))f.tabIndex>=0&&n.push(f)}return n},c=function(e){var t=e.getAttribute(o);e.setAttribute(i,t),e.removeAttribute(o)},p=function(e){var t=e.tabIndex;e.setAttribute(a,t),e.tabIndex=-1};e.checkVisibility=d,e.disableAllFocusableElements=function(e,t,r){for(var n=[],l=b(e,!0),a=0;a<l.length;a++)t&&l[a]===document.activeElement||(p(l[a]),n.push(l[a])),r&&l[a].hasAttribute(o)&&c(l[a]);return n},e.disableElement=p,e.enableAllFocusableElements=function(e){for(var t=e.querySelectorAll("["+a+"]"),r=0;r<t.length;r++){var n=parseInt(t[r].getAttribute(a),10);if(t[r].removeAttribute(a),t[r].tabIndex=n,t[r].hasAttribute(i)){var l=t[r].getAttribute(i);t[r].removeAttribute(i),t[r].setAttribute(o,l)}}return t},e.getActionableElementsInNode=f,e.getFocusableElementsInNode=b,e.getLogicalChildPopup=function(e){for(var o=r.ZOrderUtils.findOpenPopups(),a=0;a<o.length;a++){var i=o[a].firstElementChild,u=l.getLogicalParent(t(i));if(null!=u&&t(e).has(u.get(0)).length>0&&r.ZOrderUtils.getStatus(i)===r.ZOrderUtils.STATUS.OPEN)return i}for(var s=n.findOpenVPopups(),d=0;d<s.length;d++){var f=s[d],b=f.__oj_logical_parent;if(b&&t(e).has(b).length>0)return f.firstElementChild}return null},e.isActionableElement=function(e){var t=e.parentNode;if(null!=t)for(var r=f(t),n=0;n<r.length;n++)if(r[0]===e)return!0;return!1},Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojkeyboardfocus-utils.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojdatacollection-common',["exports","ojs/ojcore-base","ojs/ojdomutils","ojs/ojlogger","ojs/ojkeyboardfocus-utils"],function(e,t,n,i,l){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;const r=function(){};r._DATA_OJ_TABMOD="data-oj-tabmod",r._FOCUSABLE_ELEMENTS_TAG=["input","select","button","a","textarea","object"],r.CHECKVIEWPORT_THRESHOLD=3,r.applyRendererContent=function(e,t,n,i){if(null!=t){if(null===t.parentNode||t.parentNode instanceof DocumentFragment)return e.appendChild(t),i&&i(t),!0;if(null!=t.parentNode)return!1;if(t.toString){if(n){var l=document.createElement("span");l.appendChild(document.createTextNode(t.toString())),e.appendChild(l)}else e.appendChild(document.createTextNode(t.toString()));return!0}}return!1},r.getFocusableElementsInNode=function(e,t){return l.getFocusableElementsInNode(e,t)},r.checkVisibility=function(e){return l.checkVisibility(e)},r.disableElement=function(e){l.disableElement(e)},r.disableAllFocusableElements=function(e,t,n){return l.disableAllFocusableElements(e,t,n)},r.enableAllFocusableElements=function(e){return l.enableAllFocusableElements(e)},r.isFromDefaultSelector=function(e){return e.target.classList.contains("oj-selectorbox")},r.getActionableElementsInNode=function(e){return l.getActionableElementsInNode(e)},r.isElementOrAncestorFocusable=function(e,t){return!(null==e||t&&t(e))&&(!!e.hasAttribute(r._DATA_OJ_TABMOD)||(e.tabIndex>=0||(r._FOCUSABLE_ELEMENTS_TAG.indexOf(e.tagName.toLowerCase())>-1||r.isElementOrAncestorFocusable(e.parentElement,t))))},r.handleActionableTab=function(e,t){var n=r.getFocusableElementsInNode(t);return 1===n.length||n.length>0&&e.target===n[n.length-1]&&(n[0].focus(),!0)},r.handleActionablePrevTab=function(e,t){var n=r.getFocusableElementsInNode(t);return 1===n.length||n.length>0&&e.target===n[0]&&(n[n.length-1].focus(),!0)},r.isEventClickthroughDisabled=function(e,t){for(var n=e.target;null!=n&&n!==t;){if(r.isClickthroughDisabled(n))return!0;n=n.parentNode}return!1},r.isClickthroughDisabled=function(e){return"disabled"===e.dataset.ojClickthrough},r.getDefaultScrollBarWidth=function(e){var t;if(e&&e.style){var n=e.style.visibility,i=e.style.position,l=e.style.overflowY,r=e.style.height,o=e.style.width;e.style.visibility="hidden",e.style.position="absolute",e.style.overflowY="hidden",e.style.height="50px",e.style.width="50px";var s=e.offsetWidth-e.clientWidth;e.style.overflowY="scroll",t=e.offsetWidth-e.clientWidth-s,e.style.width=o,e.style.height=r,e.style.overflowY=l,e.style.position=i,e.style.visibility=n}return t},r.disableDefaultBrowserStyling=function(e){e.setAttribute("x-ms-format-detection","none")},r.applyMergedInlineStyles=function(e,t,n){var i=r.convertStringToStyleObj(n),l=r.convertStringToStyleObj(t),o=Object.assign({},i,l);r.applyStyleObj(e,o)},r.convertStringToStyleObj=function(e){var t={};if(e.split)for(var n=e.split(";"),i=0;i<n.length;i++){var l=n[i];if(""!==l){var r=l.split(":");2===r.length&&(t[r[0].trim()]=r[1].trim())}}return t},r.applyStyleObj=function(e,t){for(var n=Object.keys(t),i=Object.values(t),l=0;l<n.length;l++)e.style[n[l]]=i[l]},r.isMobileTouchDevice=function(){var e=t.AgentUtils.getAgentInfo();return e.os===t.AgentUtils.OS.IOS||e.os===t.AgentUtils.OS.ANDROID||e.os===t.AgentUtils.OS.WINDOWSPHONE},r.getNoJQFocusHandlers=function(e,t){return n.getNoJQFocusHandlers(e,t)},r.areKeySetsEqual=function(e,n){if(e===n)return!0;var i,l,r=e.isAddAll();if(r!==n.isAddAll())return!1;if(r?(i=e.deletedValues(),l=n.deletedValues()):(i=e.values(),l=n.values()),i.size!==l.size)return!1;for(var o=i.values(),s=l.values(),E=o.next(),a=s.next();!E.done;){if(!t.KeyUtils.equals(E.value,a.value))return!1;E=o.next(),a=s.next()}return!0},r.KEYBOARD_KEYS={_SPACEBAR:" ",_SPACEBAR_IE:"SpaceBar",_SPACEBAR_CODE:32,_ENTER:"Enter",_ENTER_CODE:13,_UP:"ArrowUp",_UP_IE:"Up",_UP_CODE:38,_DOWN:"ArrowDown",_DOWN_IE:"Down",_DOWN_CODE:40,_LEFT:"ArrowLeft",_LEFT_IE:"Left",_LEFT_CODE:37,_RIGHT:"ArrowRight",_RIGHT_IE:"Right",_RIGHT_CODE:39,_HOME:"Home",_HOME_CODE:36,_END:"End",_END_CODE:35,_TAB:"Tab",_TAB_CODE:9,_ESCAPE:"Escape",_ESCAPE_IE:"Esc",_ESCAPE_CODE:27,_F2:"F2",_F2_CODE:113,_NUM5_KEY:"5",_NUM5_KEY_CODE:53,_LETTER_A:"a",_LETTER_A_UPPERCASE:"A",_LETTER_A_CODE:65,_META:"Meta",_META_CODE:91},r.isEnterKeyEvent=function(e){return e===r.KEYBOARD_KEYS._ENTER||e===r.KEYBOARD_KEYS._ENTER_CODE},r.isSpaceBarKeyEvent=function(e){return e===r.KEYBOARD_KEYS._SPACEBAR||e===r.KEYBOARD_KEYS._SPACEBAR_IE||e===r.KEYBOARD_KEYS._SPACEBAR_CODE},r.isEscapeKeyEvent=function(e){return e===r.KEYBOARD_KEYS._ESCAPE||e===r.KEYBOARD_KEYS._ESCAPE_IE||e===r.KEYBOARD_KEYS._ESCAPE_CODE},r.isTabKeyEvent=function(e){return e===r.KEYBOARD_KEYS._TAB||e===r.KEYBOARD_KEYS._TAB_CODE},r.isF2KeyEvent=function(e){return e===r.KEYBOARD_KEYS._F2||e===r.KEYBOARD_KEYS._F2_CODE},r.isHomeKeyEvent=function(e){return e===r.KEYBOARD_KEYS._HOME||e===r.KEYBOARD_KEYS._HOME_CODE},r.isEndKeyEvent=function(e){return e===r.KEYBOARD_KEYS._END||e===r.KEYBOARD_KEYS._END_CODE},r.isArrowUpKeyEvent=function(e){return e===r.KEYBOARD_KEYS._UP||e===r.KEYBOARD_KEYS._UP_IE||e===r.KEYBOARD_KEYS._UP_CODE},r.isArrowDownKeyEvent=function(e){return e===r.KEYBOARD_KEYS._DOWN||e===r.KEYBOARD_KEYS._DOWN_IE||e===r.KEYBOARD_KEYS._DOWN_CODE},r.isArrowLeftKeyEvent=function(e){return e===r.KEYBOARD_KEYS._LEFT||e===r.KEYBOARD_KEYS._LEFT_IE||e===r.KEYBOARD_KEYS._LEFT_CODE},r.isArrowRightKeyEvent=function(e){return e===r.KEYBOARD_KEYS._RIGHT||e===r.KEYBOARD_KEYS._RIGHT_IE||e===r.KEYBOARD_KEYS._RIGHT_CODE},r.isNumberFiveKeyEvent=function(e){return e===r.KEYBOARD_KEYS._NUM5_KEY||e===r.KEYBOARD_KEYS._NUM5_KEY_CODE},r.isLetterAKeyEvent=function(e){return e===r.KEYBOARD_KEYS._LETTER_A||e===r.KEYBOARD_KEYS._LETTER_A_UPPERCASE||e===r.KEYBOARD_KEYS._LETTER_A_CODE},r.isMetaKeyEvent=function(e){return e===r.KEYBOARD_KEYS._META||e===r.KEYBOARD_KEYS._META_CODE},r.getAddEventKeysResult=function(e,t,n){var i,l,o,s,E;function a(e,t){return{key:e,index:t}}var u=e.slice(),c=[];t.keys.forEach(function(e){c.push(e)});var A=[],d=t.addBeforeKeys?t.addBeforeKeys:t.afterKeys;null!=d&&d.forEach(function(e){A.push(e)});var f=t.indexes;if(A.length===c.length)for(var _=0;c.length!==_;)for(_=c.length,i=c.length-1;i>=0;i--)o=c[i],r.containsKey(u,o)||(null!=(l=A[i])?-1!==(E=r._indexOfKey(u,l))&&(u.splice(E,0,o),A.splice(i,1),c.splice(i,1)):n&&(u.push(o),A.splice(i,1),c.splice(i,1)));else if(null!=f&&f.length===c.length){var g=[];for(i=0;i<c.length;i++)if(o=c[i],!r.containsKey(u,o))if(null!=(s=f[i])){for(var K=!1,y=0;y<g.length;y++)if(g[y].index>s){g.splice(y,0,a(o,s)),K=!0;break}K||g.push(a(o,s))}else n&&u.push(o);for(i=0;i<g.length;i++){var O=g[i];O.index<u.length?u.splice(O.index,0,O.key):O.index===u.length&&n&&u.push(O.key)}}else n&&c.forEach(function(e){u.push(e)});return u},r.containsKey=function(e,n){for(var i=0;i<e.length;i++)if(t.KeyUtils.equals(e[i],n))return!0;return!1},r._indexOfKey=function(e,n){for(var i=0;i<e.length;i++)if(t.KeyUtils.equals(e[i],n))return i;return-1},r.calculateOffsetTop=function(e,t){for(var n=0,i=t;i&&i!==e&&e.contains(i);)n+=i.offsetTop,i=i.offsetParent;return n},r.getLogicalChildPopup=function(e){return l.getLogicalChildPopup(e)},r.isElementIntersectingScrollerBounds=function(e,t){var n,i,l,r;if(t===document.documentElement)n=0,i=document.documentElement.clientHeight,l=0,r=document.documentElement.clientWidth;else{var o=t.getBoundingClientRect();n=o.top,i=o.bottom,l=o.left,r=o.right}var s=e.getBoundingClientRect();return s.top<=i&&s.bottom>=n&&s.left<=r&&s.right>=l},r.getScrollEventElement=function(e){return e===document.body||e===document.documentElement?window:e},r.getEventDetail=function(e,t){return new Promise(n=>{if(t.data&&t.metadata)n(t);else{const l=e.getCapability("fetchByKeys");l&&"lookup"===l.implementation?e.fetchByKeys({keys:new Set(t.keys),scope:"global"}).then(e=>{t.data=[],t.metadata=[],t.keys.forEach(n=>{const i=e.results.get(n);t.data.push(i.data),t.metadata.push(i.metadata)}),n(t)},e=>{i.error("Error fetching event detail due to fetchByKeys: "+e),n(null)}):(i.error("Error fetching event detail due to fetchByKeys: capability"),n(null))}})},r.isIterateAfterDoneNotAllowed=function(e){if(e&&e.getCapability){var t=e.getCapability("fetchFirst");if(t&&"notAllowed"===t.iterateAfterDone)return!0}return!1},r.isRequestIdleCallbackSupported=function(){return null!=window.requestIdleCallback&&null!=window.cancelIdleCallback&&null!=window.IdleDeadline},r.isFetchAborted=function(e){var t=e.value.fetchParameters.signal;return null==t?(i.warn("Signal is missing from fetch parameters, which is set by collection component and should be present"),!1):t.aborted},r.isChrome=function(){return t.AgentUtils.getAgentInfo().browser===t.AgentUtils.BROWSER.CHROME},r.isFirefox=function(){return t.AgentUtils.getAgentInfo().browser===t.AgentUtils.BROWSER.FIREFOX},r.isIE=function(){return t.AgentUtils.getAgentInfo().browser===t.AgentUtils.BROWSER.IE},r.isEdge=function(){return t.AgentUtils.getAgentInfo().browser===t.AgentUtils.BROWSER.EDGE},r.isSafari=function(){return t.AgentUtils.getAgentInfo().browser===t.AgentUtils.BROWSER.SAFARI},r.isMac=function(){return t.AgentUtils.getAgentInfo().os===t.AgentUtils.OS.MAC},r.isWindows=function(){return t.AgentUtils.getAgentInfo().os===t.AgentUtils.OS.WINDOWS},r.isIos=function(){return t.AgentUtils.getAgentInfo().os===t.AgentUtils.OS.IOS},r.isAndroid=function(){return t.AgentUtils.getAgentInfo().os===t.AgentUtils.OS.ANDROID},r.isBlink=function(){return t.AgentUtils.getAgentInfo().engine===t.AgentUtils.ENGINE.BLINK};const o=r.applyMergedInlineStyles,s=r.applyRendererContent,E=r.applyStyleObj,a=r.areKeySetsEqual,u=r.containsKey,c=r.convertStringToStyleObj,A=r.disableElement,d=r.disableAllFocusableElements,f=r.disableDefaultBrowserStyling,_=r.enableAllFocusableElements,g=r.getActionableElementsInNode,K=r.getAddEventKeysResult,y=r.getDefaultScrollBarWidth,O=r.isElementOrAncestorFocusable,S=r.isIterateAfterDoneNotAllowed,b=r.getFocusableElementsInNode,D=r.getLogicalChildPopup,h=r.getNoJQFocusHandlers,v=r.handleActionablePrevTab,p=r.handleActionableTab,R=r.isArrowDownKeyEvent,m=r.isArrowLeftKeyEvent,B=r.isArrowRightKeyEvent,C=r.isArrowUpKeyEvent,Y=r.isClickthroughDisabled,I=r.isEndKeyEvent,T=r.isEnterKeyEvent,w=r.isEscapeKeyEvent,N=r.isEventClickthroughDisabled,F=r.isFetchAborted,U=r.isFromDefaultSelector,P=r.isF2KeyEvent,L=r.isHomeKeyEvent,M=r.isMobileTouchDevice,W=r.isSpaceBarKeyEvent,k=r.isTabKeyEvent,H=r.isNumberFiveKeyEvent,j=r.isLetterAKeyEvent,x=r.isMetaKeyEvent,G=r.KEYBOARD_KEYS,q=r.CHECKVIEWPORT_THRESHOLD,V=r.calculateOffsetTop,J=r.isElementIntersectingScrollerBounds,Q=r.getScrollEventElement,z=r.getEventDetail,X=r.isRequestIdleCallbackSupported,Z=r.isChrome,$=r.isFirefox,ee=r.isSafari,te=r.isEdge,ne=r.isIE,ie=r.isMac,le=r.isWindows,re=r.isIos,oe=r.isAndroid,se=r.isWebkit=function(){return t.AgentUtils.getAgentInfo().engine===t.AgentUtils.ENGINE.WEBKIT},Ee=r.isBlink,ae=r.getBrowserVersion=function(){return parseInt(t.AgentUtils.getAgentInfo().browserVersion,10)};e.CHECKVIEWPORT_THRESHOLD=q,e.KEYBOARD_KEYS=G,e.applyMergedInlineStyles=o,e.applyRendererContent=s,e.applyStyleObj=E,e.areKeySetsEqual=a,e.calculateOffsetTop=V,e.containsKey=u,e.convertStringToStyleObj=c,e.disableAllFocusableElements=d,e.disableDefaultBrowserStyling=f,e.disableElement=A,e.enableAllFocusableElements=_,e.getActionableElementsInNode=g,e.getAddEventKeysResult=K,e.getBrowserVersion=ae,e.getDefaultScrollBarWidth=y,e.getEventDetail=z,e.getFocusableElementsInNode=b,e.getLogicalChildPopup=D,e.getNoJQFocusHandlers=h,e.getScrollEventElement=Q,e.handleActionablePrevTab=v,e.handleActionableTab=p,e.isAndroid=oe,e.isArrowDownKeyEvent=R,e.isArrowLeftKeyEvent=m,e.isArrowRightKeyEvent=B,e.isArrowUpKeyEvent=C,e.isBlink=Ee,e.isChrome=Z,e.isClickthroughDisabled=Y,e.isEdge=te,e.isElementIntersectingScrollerBounds=J,e.isElementOrAncestorFocusable=O,e.isEndKeyEvent=I,e.isEnterKeyEvent=T,e.isEscapeKeyEvent=w,e.isEventClickthroughDisabled=N,e.isF2KeyEvent=P,e.isFetchAborted=F,e.isFirefox=$,e.isFromDefaultSelector=U,e.isHomeKeyEvent=L,e.isIE=ne,e.isIos=re,e.isIterateAfterDoneNotAllowed=S,e.isLetterAKeyEvent=j,e.isMac=ie,e.isMetaKeyEvent=x,e.isMobileTouchDevice=M,e.isNumberFiveKeyEvent=H,e.isRequestIdleCallbackSupported=X,e.isSafari=ee,e.isSpaceBarKeyEvent=W,e.isTabKeyEvent=k,e.isWebkit=se,e.isWindows=le,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojdatacollection-common.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojactioncard',["exports","preact/jsx-runtime","ojs/ojvcomponent","preact","ojs/ojdomutils","ojs/ojdatacollection-common"],function(t,e,o,i,n,s){"use strict";var c=function(t,e,o,i){var n,s=arguments.length,c=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var h=t.length-1;h>=0;h--)(n=t[h])&&(c=(s<3?n(c):s>3?n(e,o,c):n(e,o))||c);return s>3&&c&&Object.defineProperty(e,o,c),c};t.ActionCard=class extends i.Component{constructor(t){super(t),this._rootRef=i.createRef(),this._handleOjAction=t=>{this._isFromActiveSource(t)&&t.stopPropagation()},this._handleStart=t=>{this._isFromActiveSource(t)||this.setState({active:!0})},this._handleUpEnd=t=>{!this._isFromActiveSource(t)&&this.state.active&&this.setState({active:!1})},this._handleClick=t=>{this._isFromActiveSource(t)||this.props.onOjAction?.({originalEvent:t})},this._handleTouchcancel=t=>{this._isFromActiveSource(t)||this.setState({active:!1})},this._handleMove=t=>{this.state.active&&!this._isFromActiveSource(t)&&this.setState({active:!1})},this._handleKeydown=t=>{this._isFromActiveSource(t)||t.repeat||"Enter"!==t.key&&" "!==t.key||this.setState({active:!0})},this._handleKeyup=t=>{this._isFromActiveSource(t)||"Enter"!==t.key&&" "!==t.key||(this.setState({active:!1}),this.props.onOjAction?.({originalEvent:t}))},this._handleFocusin=t=>{this.setState({focus:!0})},this._handleFocusout=t=>{this.setState({focus:!1})},this.state={active:!1,focus:!1}}render(t,i){let s="oj-actioncard";i.active&&(s+=" oj-active"),i.focus&&!n.recentPointer()&&(s+=" oj-focus-highlight");const c=t.tabIndex??0;return e.jsx(o.Root,{tabIndex:c,class:s,role:"button",onKeyUp:this._handleKeyup,onMouseUp:this._handleUpEnd,onKeyDown:this._handleKeydown,onMouseDown:this._handleStart,onTouchStart:this._handleStart,onTouchEnd:this._handleUpEnd,onTouchCancel:this._handleTouchcancel,onTouchMove:this._handleMove,onfocusin:this._handleFocusin,onfocusout:this._handleFocusout,onClick:this._handleClick,onojAction:this._handleOjAction,ref:this._rootRef,children:this.props.children})}componentDidMount(){this._rootRef.current.addEventListener("touchstart",this._handleStart,{passive:!0}),this._rootRef.current.addEventListener("touchend",this._handleUpEnd,{passive:!1}),this._rootRef.current.addEventListener("touchcancel",this._handleTouchcancel,{passive:!0}),this._rootRef.current.addEventListener("touchmove",this._handleMove,{passive:!0})}_isFromActiveSource(t){return s.isEventClickthroughDisabled(t,this._rootRef.current)}},t.ActionCard._metadata={slots:{"":{}},events:{ojAction:{bubbles:!0}},extension:{_OBSERVED_GLOBAL_PROPS:["tabIndex","role"]}},t.ActionCard=c([o.customElement("oj-action-card")],t.ActionCard),Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ojactioncard.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojvalidator',["ojs/ojcore"],function(t){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;const e=function(t){this.Init(t)};return t.Object.createSubclass(e,t.Object,"oj.Validator"),e.prototype.Init=function(t){e.superclass.Init.call(this)},e});
//# sourceMappingURL=ojvalidator.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojvalidator-required',["ojs/ojcore","ojs/ojtranslation","ojs/ojvalidator","ojs/ojvalidation-error"],function(t,e,o,r){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o;const i=function(t){this.Init(t)};return t.Object.createSubclass(i,o,"oj.RequiredValidator"),i._BUNDLE_KEY_DETAIL="oj-validator.required.detail",i._BUNDLE_KEY_SUMMARY="oj-validator.required.summary",i.prototype.Init=function(t){i.superclass.Init.call(this),this._options=t},i.prototype.validate=function(t){var o,i,a,n,s,l="";if(null==t||("string"==typeof t||t instanceof Array)&&0===t.length)throw this._options&&(o=this._options.messageDetail||this._options.message||null,n=this._options.messageSummary||null,l=this._options.label||""),s={label:l},a=n?e.applyParameters(n,s):e.getTranslatedString(this._getSummaryKey(),s),i=o?e.applyParameters(o,s):e.getTranslatedString(this._getDetailKey(),s),new r.ValidatorError(a,i)},i.prototype.getHint=function(){var t="";return this._options&&this._options.hint&&(t=e.getTranslatedString(this._options.hint)),t},i.prototype._getSummaryKey=function(){return i._BUNDLE_KEY_SUMMARY},i.prototype._getDetailKey=function(){return i._BUNDLE_KEY_DETAIL},i});
//# sourceMappingURL=ojvalidator-required.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojeditablevalue',["exports","ojs/ojcore-base","ojs/ojcomponentcore","jquery","ojs/ojlabel","ojs/ojthemeutils","ojs/ojfocusutils","ojs/ojcontext","ojs/ojlogger","ojs/ojvalidator-required","ojs/ojlabelledbyutils","ojs/ojtranslation","ojs/ojmessaging","ojs/ojconverterutils","ojs/ojvalidation-error","ojs/ojpopup","hammerjs","ojs/ojjquery-hammer","ojs/ojdomutils","ojs/ojanimation"],function(e,t,i,n,s,o,a,r,l,u,d,h,c,_,p,g,m,f,v,C){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n,a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a,r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r,u=u&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u,d=d&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d,c=c&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c,_=_&&Object.prototype.hasOwnProperty.call(_,"default")?_.default:_;const y=function(e){this.Init(e)};t.Object.createSubclass(y,t.MessagingStrategy,"BaseInsideLabelStrategy"),y.prototype._GetFormControlLabelStyleClass=function(){return"oj-form-control-label-inside"},y.prototype._CreateLabel=function(){var e=this.GetComponent(),t=this._GetContainer(e);if(!t)return;var i=e.options,n=e._getRootElement(),s=this._GetFormControlLabelStyleClass();n.classList.add(s),this.GenerateIdIfNeeded(n),this._showUserAssistanceNotInline=e._showUserAssistanceNotInline();let o=i.required&&this._showUserAssistanceNotInline;this._createOjLabelElement(n,e,t,i.labelHint,o,i.helpHints,this._showUserAssistanceNotInline)},y.prototype._createOjLabelElement=function(e,t,i,n,s,o,a){var r=document.createElement("oj-label");r.id=y._getLabelId(e),r.setAttribute("data-oj-binding-provider","none"),r.setAttribute("data-oj-internal",""),r.setAttribute("for",e.id);var l=[t._GetDefaultStyleClass(),"label"].join("-");r.classList.add(l),s&&r.setAttribute("show-required",s),a&&o&&(r.help=o);var u=document.createElement("span");u.id=[e.id,"|hint"].join(""),u.textContent=n,r.appendChild(u),this._InsertOjLabel(r,i,t),this._CreateEventHandlers(u,e,r,t)},y.prototype._GetContainer=function(e){return e._GetFormControlContainer()},y.prototype._CreateEventHandlers=function(e,t,i,n){this._labelHintChangedCallback=y._labelHintChangedHandler.bind(this,e),t.addEventListener("labelHintChanged",this._labelHintChangedCallback),this._requiredChangedCallback=y._requiredChangedHandler.bind(this,i,n),t.addEventListener("requiredChanged",this._requiredChangedCallback),this._helpHintsChangedCallback=y._helpHintsChangedHandler.bind(this,i,n),t.addEventListener("helpHintsChanged",this._helpHintsChangedCallback)},y.prototype._DestroyLabel=function(){var e=this.GetComponent(),t=e.options,i=e._getRootElement(),n=this._GetFormControlLabelStyleClass();i.classList.remove(n);var s=y._getLabelId(i);const o=i.querySelector(`[id='${s}']`);o&&(o.for="",o.parentElement.removeChild(o)),t.labelledBy=void 0,this._DeleteEventHandlers(i)},y.prototype._DeleteEventHandlers=function(e){e.removeEventListener("labelHintChanged",this._labelHintChangedCallback),e.removeEventListener("requiredChanged",this._requiredChangedCallback),e.removeEventListener("helpHintsChanged",this._helpHintsChangedCallback),delete this._helpHintsChangedCallback,delete this._labelHintChangedCallback,delete this._requiredChangedCallback},y._getLabelId=function(e){return[e.id,"-labelled-by"].join("")},y._labelHintChangedHandler=function(e,t){e.textContent=t.detail.value},y._requiredChangedHandler=function(e,t,i){null==this._showUserAssistanceNotInline&&(this._showUserAssistanceNotInline=t._showUserAssistanceNotInline()),e.showRequired=i.detail.value&&this._showUserAssistanceNotInline},y._helpHintsChangedHandler=function(e,t,i){this._showUserAssistanceNotInline=t._showUserAssistanceNotInline(),this._showUserAssistanceNotInline&&(e.help=i.detail.value)};const E={validationContext:{COMPONENT_CREATE:1,CONVERTER_OPTION_CHANGE:2,DISABLED_OPTION_CHANGE:3,READONLY_OPTION_CHANGE:4,REFRESH_METHOD:5,REQUIRED_OPTION_CHANGE:6,RESET_METHOD:7,USER_ACTION:8,VALIDATE_METHOD:9,VALIDATORS_OPTION_CHANGE:10,VALUE_OPTION_CHANGE:11}};E.validateMethodOptions={doValueChangeCheck:!1,validationContext:E.validationContext.VALIDATE_METHOD},E.converterOptionOptions={doValueChangeCheck:!1,doNotClearMessages:!0,validationContext:E.validationContext.CONVERTER_OPTION_CHANGE},E.disabledOptionOptions={doValueChangeCheck:!1,doNotClearMessages:!0,validationContext:E.validationContext.DISABLED_OPTION_CHANGE},E.requiredOptionOptions={doValueChangeCheck:!1,doNotClearMessages:!0,validationContext:E.validationContext.REQUIRED_OPTION_CHANGE},E.readOnlyOptionOptions={doValueChangeCheck:!1,doNotClearMessages:!0,validationContext:E.validationContext.READONLY_OPTION_CHANGE},E.refreshMethodOptions={doValueChangeCheck:!1,doNotClearMessages:!0,validationContext:E.validationContext.REFRESH_METHOD},E.validatorsOptionOptions={doValueChangeCheck:!1,doNotClearMessages:!0,validationContext:E.validationContext.VALIDATORS_OPTION_CHANGE};E.VALIDATE_VALUES={VALID:"valid",INVALID:"invalid"},E.getAttributeValue=function(e,t){var i,n={};if(e&&t){var s=e[0];switch(t){case"disabled":i=s.hasAttribute("disabled")?!!s.disabled:void 0;break;case"pattern":i=s.pattern||void 0;break;case"placeholder":i=s.placeholder||void 0;break;case"readonly":i=s.hasAttribute("readonly")?!!s.readOnly:void 0;break;case"required":if(s.hasAttribute("required")){var o=s.required;i=void 0===o||!!o}else i=void 0;break;case"title":i=s.hasAttribute("title")?s.title:void 0;break;case"value":i=e.val()||void 0;break;default:i=s.getAttribute(t)||void 0}}return void 0!==i?(n.fromDom=!0,n.value=i):n.fromDom=!1,n},E.initializeOptionsFromDom=function(e,t,i,n){for(var s={},o=0;o<e.length;o++){var a,r,l=e[o],u=l.attribute,d=l.option||u,h=l.coerceDomValue,c=l.validateOption,_=i.element,p=i.options[d];void 0===t[d]&&(p=i.options[d],(r=E.getAttributeValue(_,u)).fromDom&&(a=r.value,h&&("boolean"==typeof h?a=E.coerceDomValueForOption(d,a):"function"==typeof h&&(a=h.call(i,a))),s[d]=a));var g=d in s?s[d]:p;c&&"boolean"==typeof c&&E.validateValueForOption(d,g)}null!=n&&n(s),i.option(s,{_context:{writeback:!0,internalSet:!0}})},E.validateValueForOption=function(e,t){var i=!1;switch(e){case"required":case"readOnly":case"disabled":null!==t&&"boolean"!=typeof t&&(i=!0)}if(i)throw new Error("Option '"+e+"' has invalid value set: "+t)},E.coerceDomValueForOption=function(e,t){var i=t;if("required"===e)i=!!t;return i},E.setPickerAttributes=function(e,t){if(e&&t){var i=t.class;if(i)for(var n=i.split(" "),s=0,o=n.length;s<o;++s)e[0].classList.add(n[s]);t.style&&l.error("picker-attributes.style attribute violates the recommended\n        Content Security Policy which disallows inline styles and is therefore ignored.\n        Use the picker-attributes.class attribute instead.")}},E.hasNoLabelFlag=function(e){return e[0].hasAttribute("data-oj-no-labelledby")},E._getOjLabelAriaLabelledBy=function(e,t){var i,n=E._getCustomOjLabelElements(e);if(n){i="";for(var s=0;s<n.length;s++){var o=n[s],a=o.getAttribute("label-id");if(!a){var r=o.querySelector("label");r?a=r.getAttribute("id"):(o.setAttribute("label-id",t),a=t)}i+=a,s+1<n.length&&(i+=" ")}}return i},E._getCustomOjLabelElements=function(e){var t=[];if(e)for(var i=e.split(/\s+/),n=0;n<i.length;n++){var s=i[n],o=document.getElementById(s);o?t.push(o):l.info("Cannot find oj-label with id "+o)}return t},E._initInputIdLabelForConnection=function(e,t,i){t&&(e.setAttribute("id",t+"|input"),i&&this._linkLabelForInputComp(i,e.id)),i&&this._setReadonlyDivLabelledBy(i)},E._labelledByUpdatedForInputComp=function(e,t){e&&(t&&this._linkLabelForInputComp(e,t),this._setReadonlyDivLabelledBy(e)),this._IsRequired()&&this.options.translations.required&&(this._implicitReqValidator=null,this._getImplicitRequiredValidator())},E._linkLabelForInputComp=function(e,t){var i=E._getCustomOjLabelElements(e);i&&E._setDataOjInputIdAttrOnLabel(t,i)},E._setReadonlyDivLabelledBy=function(e){t.Assert.assert(e);let i=this._getReadonlyDiv();i&&i.setAttribute("aria-labelledby",e+"|label")},E._createOrUpdateReadonlyDiv=function(e,t=!0){let i=this._getReadonlyDiv();if(!i&&t){if(i=this._createReadonlyDiv(e),!i)return;this.options.labelledBy&&this._setReadonlyDivLabelledBy(this.options.labelledBy),this._setAriaLabelFromLabelHint()}i&&(i.textContent=this._GetDisplayValue(),E._setTabIndex(e,i))},E._setTabIndex=function(e,t){let i=e.tabIndex;null!==i&&(t.tabIndex=i)},E._setDataOjInputIdAttrOnLabel=function(e,t){if(t)for(var i=0;i<t.length;i++){t[i].setAttribute("data-oj-input-id",e)}},E.validate=function(){var e;if(!1!==(e=this._SetValue(this._GetDisplayValue(),null,this._VALIDATE_METHOD_OPTIONS))||this._CanSetValue()||(e=!0),this._IsCustomElement()){if(e instanceof Promise)return e.then(function(e){return Promise.resolve(e?"valid":"invalid")});e=Promise.resolve(e?"valid":"invalid")}else if(e instanceof Promise)return e.then(function(e){return Promise.resolve(e?"valid":"invalid")});return e},E._refreshRequired=function(e){var t,i,n,s=this._AriaRequiredUnsupported();if(this._refreshTheming("required",e),s||(i=this._GetContentElement(),(n=e)&&i?i[0].setAttribute("aria-required",n):i[0].removeAttribute("aria-required")),!this._IsCustomElement()&&(this.$label||this._createOjLabel(),this.$label&&(this.$label.ojLabel("option","showRequired",e),s))){var o=this._getAriaLabelledByElement(this.element);if(null!==o&&0!==o.length&&(t=o[0].getAttribute("id")),t){let i=t+"_requiredIcon";e?this._describedByUpdated(null,i):this._describedByUpdated(i,null)}}},E._AfterSetOptionRequired=function(e){this._refreshRequired(this._IsRequired()),this._runMixedValidationAfterSetOption(E.requiredOptionOptions)},E._AfterSetOptionValidators=function(){var e;this._ResetAllValidators(),this._hasInvalidMessagesShowing()&&(this._clearComponentMessages(),e=this._GetDisplayValue(),this._SetValue(e,null,E.validatorsOptionOptions))},E._AfterSetOptionAsyncValidators=function(){this._AfterSetOptionValidators()},E._AfterSetOptionConverter=function(){this._converter=null,this._converterChangedCounter+=1;var e=this._GetConverter();if(e instanceof Promise){var t=this;this._setBusyStateAsyncConverterLoading();var i=this._converterChangedCounter;this._loadingConverter(e).then(function(){i===t._converterChangedCounter&&t._ResetConverter(),t._clearBusyStateAsyncConverterLoading()})}else this._ResetConverter()},E._AfterCreateConverterCached=function(){this._HasPlaceholderSet()&&(this._SetPlaceholder(this.options.placeholder),this._customPlaceholderSet=!0),this._initComponentMessaging(this._MESSAGING_CONTENT_UPDATE_TYPE.ALL),this._Refresh("value",this.options.value,!1),this.options.messagesShown.length>0&&this._setMessagesOption("messagesShown",this.options.messagesShown,null,!0)},E._ResetConverter=function(){var e;this._getComponentMessaging().update(this._getMessagingContent(this._MESSAGING_CONTENT_UPDATE_TYPE.CONVERTER_HINT)),this._hasInvalidMessagesShowing()?(this._clearComponentMessages(),e=this._GetDisplayValue(),this._SetValue(e,null,E.converterOptionOptions)):this._Refresh("converter",this.options.converter,!0)},E._GetNormalizedValidatorsFromOption=function(){var e,i,n,s,o,a,r=!0,u=[];if(n=this.options.validators)for(e=0;e<n.length;e++)"object"==typeof(i=n[e])?(i.validate&&"function"==typeof i.validate||(r=!1),r||(a=i.type)&&"string"==typeof a&&(t.Validation&&t.Validation.validatorFactory?o=t.Validation.validatorFactory(a):l.error('oj.Validation.validatorFactory is not available and it is needed to support the deprecated json format for validators property. Please include the backward compatibility "ojvalidation-base" module.'),o&&((s=t.CollectionUtils.copyInto({},i.options)||{}).converter=s.converter||this._GetConverter(),s.label=s.label||this._getLabelText(),i=o.createValidator(s))),u.push(i)):l.error("Unable to parse the validator provided:"+i);return u},E._GetNormalizedAsyncValidatorsFromOption=function(){var e,t,i,n=[];for(i=this.options.asyncValidators,e=0;e<i.length;e++)"object"==typeof(t=i[e])?t.validate&&"function"==typeof t.validate&&n.push(t):l.error("Unable to parse the validator provided:"+t);return n},E._GetConverter=function(){var e,t,i,n=this;if(!this._converter){if((e=this.options.converter)instanceof Promise?i=e:t=_.getConverterInstance(e),i)return i.then(function(e){return n._converter=e,n._converter||null});this._converter=t}return this._converter||null},E._SetBusyState=function(e){void 0===this._resolveBusyStateAsyncMap&&(this._resolveBusyStateAsyncMap=new Map);var t=this._resolveBusyStateAsyncMap.get(e);if(!t){var i=this.element[0],n=r.getContext(i).getBusyContext(),s="The page is waiting for async validators for displayValue "+e;i&&i.id&&(s+=' for "'+i.id+'" '),s+="to finish.",t=n.addBusyState({description:s}),this._resolveBusyStateAsyncMap.set(e,t)}},E._ClearBusyState=function(e){var t;void 0!==this._resolveBusyStateAsyncMap&&(t=this._resolveBusyStateAsyncMap.get(e))&&(t(),this._resolveBusyStateAsyncMap.delete(e))},E._SetBusyStateAsyncValidatorHint=function(e){void 0===this._resolveBusyStateAsyncValidatorHintMap&&(this._resolveBusyStateAsyncValidatorHintMap=new Map);var t=this._resolveBusyStateAsyncValidatorHintMap.get(e);if(!t){var i=this.element[0],n=r.getContext(i).getBusyContext(),s="The page is waiting for async validator hint for counter "+e;i&&i.id&&(s+=' for "'+i.id+'" '),s+="to finish.",t=n.addBusyState({description:s}),this._resolveBusyStateAsyncValidatorHintMap.set(e,t)}},E._ClearBusyStateAsyncValidatorHint=function(e){var t;void 0!==this._resolveBusyStateAsyncValidatorHintMap&&(t=this._resolveBusyStateAsyncValidatorHintMap.get(e))&&(t(),this._resolveBusyStateAsyncValidatorHintMap.delete(e))},E._SetBusyStateAsyncConverterLoading=function(){if(!this._resolveBusyStateAsyncConverterLoading){var e=this.element[0],t=r.getContext(e).getBusyContext(),i="The page is waiting for async converter loading ";e&&e.id&&(i+='for "'+e.id+'" '),i+="to finish.",this._resolveBusyStateAsyncConverterLoading=t.addBusyState({description:i})}},E._ClearBusyStateAsyncConverterLoading=function(){void 0!==this._resolveBusyStateAsyncConverterLoading&&(this._resolveBusyStateAsyncConverterLoading(),delete this._resolveBusyStateAsyncConverterLoading)},E._getShowLoadingDelay=function(){null==this._defaultOptions&&(this._defaultOptions=o.parseJSONFromFontFamily("oj-form-control-option-defaults"));var e=parseInt(this._defaultOptions.showIndicatorDelay,10);return isNaN(e)?0:e},E._SetInputType=function(e){var i="text",n=t.AgentUtils.getAgentInfo();if(n.os===t.AgentUtils.OS.ANDROID||n.os===t.AgentUtils.OS.IOS||n.os===t.AgentUtils.OS.WINDOWSPHONE)if(e.indexOf(this.options.virtualKeyboard)>=0)i=this.options.virtualKeyboard;else{var s=this._GetConverter();if(s&&s.resolvedOptions){var o=s.resolvedOptions();e.indexOf(o.virtualKeyboardHint)>=0&&(i=o.virtualKeyboardHint)}}null==i?this.element[0].removeAttribute("type"):this.element[0].setAttribute("type",i)},E._createReadonlyDiv=function(e){if(this._UseReadonlyDiv()){var t=document.createElement("div");t.classList.add("oj-text-field-readonly-div");var i=document.createElement("div");return i.classList.add("oj-text-field-readonly"),i.setAttribute("role","textbox"),i.setAttribute("aria-readonly",!0),t.appendChild(i),e.parentNode.insertBefore(t,e),i}return null},E._getReadonlyDiv=function(){return this.widget()[0].querySelector(".oj-text-field-readonly")};var S={MESSAGES:"display",VALIDATOR_HINT:"display",CONVERTER_HINT:"display"},O={MESSAGES:["inline"],VALIDATOR_HINT:["notewindow"],CONVERTER_HINT:["placeholder","notewindow"]},b="_helpIcon",A="valid",R="invalidShown",T="pending";t.__registerWidget("oj.editableValue",n.oj.baseComponent,{widgetEventPrefix:"oj",options:{describedBy:null,disabled:!1,displayOptions:{},help:void 0,helpHints:{definition:"",source:""},labelHint:"",labelEdge:void 0,messagesCustom:[],messagesHidden:void 0,messagesShown:void 0,title:"",userAssistanceDensity:"reflow",valid:void 0,value:void 0,animateStart:null,animateEnd:null},getNodeBySubId:function(e){var t;if(!(t=this._super(e))&&!this._IsCustomElement()&&"oj-label-help-icon"===e.subId){var i=this._GetLabelElement();i&&(t=i.parent().find(".oj-label-help-icon"))}return t||null},getSubIdByNode:function(e){var t,i,s,o=null;return null!=e&&null!=(t=n(e).closest("a.oj-label-help-icon"))&&null!=(i=t.closest(".oj-label"))&&(s=i.find("label")[0])&&s===this._GetLabelElement()[0]&&(o={subId:"oj-label-help-icon"}),o},isValid:function(){return void 0===this._valid&&(this._valid=!this._hasInvalidMessages()),this._valid},refresh:function(){this._super(),this._doRefresh()},reset:function(){this._clearAllMessages(),this._runDeferredValidation(this._VALIDATION_CONTEXT.RESET_METHOD),this._refreshComponentDisplayValue(this.options.value,!0)},showMessages:function(){var e,t,i,n=[],s=this.options.messagesHidden,o=s.length>0;for(e=0;e<s.length;e++)(t=s[e])instanceof c.ComponentMessage?(t._forceDisplayToShown(),i=t.clone()):i=new c(t.summary,t.detail,t.severity),n.push(i);o&&(this._clearMessages("messagesHidden"),this._updateMessagesOption("messagesShown",n),this._setValidOption(R,null))},_VALIDATION_MODE:{FULL:1,VALIDATORS_ONLY:2,REQUIRED_VALIDATOR_ONLY:3},_VALIDATION_CONTEXT:E.validationContext,_VALIDATE_METHOD_OPTIONS:E.validateMethodOptions,_InitOptions:function(e,t){this._super(e,t)},_ComponentCreate:function(){var e=this.element,t=this._GetSavedAttributes(e);if(this._super(),this.options.messagesCustom=this.options.messagesCustom||[],this.options.messagesHidden=[],this.options.messagesShown=this.options.messagesCustom.length>0?this._cloneMessagesBeforeSet(this.options.messagesCustom):[],this._SetDisabledDom(e),t&&!this._IsCustomElement()){var i=e[0].tagName.toLowerCase();"input"!==i&&"textarea"!==i||["required","title","pattern"].forEach(function(i){i in t&&e.removeAttr(i)})}},_AfterCreate:function(){var e,t=this;this._super(),this._refreshTheming("disabled",this.options.disabled),this.widget()[0].classList.add("oj-form-control"),this._IsTextFieldComponent()&&(this._IsCustomElement()?this._getRootElement().classList.add("oj-text-field"):this.widget()[0].classList.add("oj-text-field")),this._toggleOjHasNoValueClass(this.options.value),this.widget().uniqueId(),this._IsCustomElement()?this.options.labelledBy?this._labelledByUpdated(this.options.labelledBy):this._setAriaLabelFromLabelHint():this._createOjLabel(),(e=this.options.describedBy)&&this._describedByUpdated(null,e),this._runDeferredValidation(this._VALIDATION_CONTEXT.COMPONENT_CREATE);var i=this._GetConverter();this._converterChangedCounter=0,i instanceof Promise?(this._setBusyStateAsyncConverterLoading(),this._ResolveLabelEdgeStrategyType(),this._loadingConverter(i).then(function(){t._AfterCreateConverterCached(),t._clearBusyStateAsyncConverterLoading()})):(this._AfterCreateConverterCached(),this._setValidOption(this._determineValidFromMessagesOptions(),null))},_ReleaseResources:function(){this._super(),this._IsCustomElement()&&(this._getComponentMessaging().releaseResources(),this._hammerIsUnregistered=!0)},_SetupResources:function(){if(this._super(),this._IsCustomElement()&&this._hammerIsUnregistered){this._getComponentMessaging().setupResources(),this._hammerIsUnregistered=!1}},_SaveAttributes:function(e){this._IsCustomElement()||this._SaveAllAttributes(e)},_RestoreAttributes:function(e){this._IsCustomElement()||this._RestoreAllAttributes(e)},_AfterSetOption:function(e,t){switch(e){case"disabled":this._AfterSetOptionDisabledReadOnly(e,E.disabledOptionOptions);break;case"displayOptions":case"userAssistanceDensity":this._initComponentMessaging();break;case"labelEdge":this._initComponentMessaging(),this._setAriaLabelFromLabelHint();break;case"labelHint":this._setAriaLabelFromLabelHint();break;case"help":this._IsCustomElement()?this._getComponentMessaging().update(this._getMessagingContent(this._MESSAGING_CONTENT_UPDATE_TYPE.TITLE)):this._Refresh(e,this.options[e]);break;case"messagesCustom":this._messagesCustomOptionChanged(t),this._setValidOption(this._determineValidFromMessagesOptions(),null);break;case"placeholder":this._SetPlaceholder(this.options.placeholder),this._placeholderOptionChanged(t);break;case"readOnly":this._retainFocusOnReadonlyChange&&setTimeout(()=>{this.GetFocusElement().focus(),this._resolveBusyStateFocusRestore&&(this._resolveBusyStateFocusRestore(),delete this._resolveBusyStateFocusRestore)},0);break;case"title":this._IsCustomElement()||this._getComponentMessaging().update(this._getMessagingContent(this._MESSAGING_CONTENT_UPDATE_TYPE.TITLE));break;case"translations":this.refresh();break;case"value":this._AfterSetOptionValue(e,t)}},_AfterSetOptionDisabledReadOnly:function(e,t){var i=!this.options[e];this._Refresh(e,this.options[e]),i&&this._runMixedValidationAfterSetOption(t)},_AfterSetOptionValue:function(e,t){var i,n=t?t._context:null,s=!1;n&&(s=!!n.originalEvent,i=n.doNotClearMessages||!1),s||(i||this._clearAllMessages(null),this._runDeferredValidation(this._VALIDATION_CONTEXT.VALUE_OPTION_CHANGE)),this._Refresh(e,this.options[e],!0)},_CanSetValue:function(){return!(this.options.disabled||!1)},_VerifyConnectedForSetup:function(){return!0},_destroy:function(){var e,t,s=this._super();if(this._clearAllMessages(null,!0),this.widget().removeUniqueId(),this._getComponentMessaging()._isActive()&&this._getComponentMessaging().deactivate(),this.$label)for(t=this.$label.length,e=0;e<t;e++)this.$label[e]&&null!=i.__GetWidgetConstructor(this.$label[e])&&n(this.$label[e]).ojLabel("destroy");return s},GetFocusElement:function(){return!0===this.options.readOnly&&this._GetReadonlyFocusElement()||this._GetContentElement()[0]},_GetReadonlyFocusElement:function(){return this._getReadonlyDiv()},_setOption:function(e,t,i){var n,s,u,d=!1;switch(e){case"messagesHidden":case"messagesShown":case"rawValue":d=!0;break;case"describedBy":s=this.options.describedBy,u=t,this._describedByUpdated(s,u);break;case"labelledBy":t&&this._labelledByUpdated(t);break;case"readOnly":if(this._retainFocusOnReadonlyChange=a.containsFocus(this.widget()[0]),this._retainFocusOnReadonlyChange&&!this._resolveBusyStateFocusRestore){var h=this.element[0],c=r.getContext(h).getBusyContext(),_="Waiting for focus on the component ";h&&h.id&&(_+=`with id="${h.id}" `),_+="to be restored.",this._resolveBusyStateFocusRestore=c.addBusyState({description:_})}this._addRemoveOjReadOnlyClassOnLabel(document.getElementById(this.options.labelledBy),t);break;case"displayOptions":var p=t;if(null!==t&&(void 0===t.validatorHint||void 0===t.converterHint||void 0===t.messages)){const e="use"===(o.parseJSONFromFontFamily("oj-form-control-option-defaults")||{}).useUserAssistanceOptionDefault?S:O;void 0===t.validatorHint&&(p.validatorHint=e.VALIDATOR_HINT),void 0===t.converterHint&&(p.converterHint=e.CONVERTER_HINT),void 0===t.messages&&(p.messages=e.MESSAGES)}}return d?(l.error(e+" option cannot be set"),this):(n=this._superApply(arguments),this._AfterSetOption(e,i),n)},_GetContentElement:function(){return this.element},_GetLabelElement:function(){if(this._IsCustomElement())return null;var e;if(this.$label)return this.$label;if(E.hasNoLabelFlag(this.widget()))return null;var t=this._getAriaLabelledByElement(this.element);if(null!==t&&0!==t.length)return t;var i=this.element[0].id;return void 0!==i&&0!==(t=n("label[for='"+i+"']")).length||0!==(e=this.element.closest("[aria-labelledby]")).length&&null!==(t=this._getAriaLabelledByElement(e))&&0!==t.length?t:null},_GetElementValue:function(){return this.element.val()},_GetMessagingLauncherElement:function(){return this._GetContentElement()},_GetMessagingPositionElement:function(){let e=this._GetFormControlContainer();return e||this._GetMessagingLauncherElement()[0]},_GetConverter:function(){return null},_GetImplicitValidators:function(){return this._implicitSyncValidators||(this._implicitSyncValidators={}),this._implicitSyncValidators},_GetDisplayValue:function(e){return this._GetContentElement().val()},_GetNormalizedValidatorsFromOption:function(){return[]},_GetNormalizedAsyncValidatorsFromOption:function(){return[]},_GetAllValidatorsFromValidatorsOptionAndImplicit:function(){var e,t,i,n,s=[];if(!this._allValidators){t=this._GetImplicitValidators(),i=[];var o,a=Object.keys(t),r=a.length;if(r>0){for(e=0;e<r;e++)o=a[e],i.push(t[o]);s=s.concat(i)}(n=this._GetNormalizedValidatorsFromOption()).length>0&&n.forEach(function(e){s.push(e)}),this._allValidators=s}return this._allValidators},_ResetAllValidators:function(){this._allValidators&&(this._allValidators.length=0),this._allValidators=null,this._IsCustomElement()?this._updateValidatorMessagingHint():this._getComponentMessaging().update(this._getValidatorHintsMC())},_GetAriaLabelElement:function(){return this._getRootElement()},_addRemoveOjReadOnlyClassOnLabel:function(e,t){if(e&&void 0!==t){const i="oj-read-only";t?e.classList.add(i):e.classList.remove(i)}},_setAriaLabelFromLabelHint:function(){if(this._IsCustomElement()){var e=this._GetAriaLabelElement(),t=e.getAttribute("aria-label");let i=this._getReadonlyDiv();this.options.labelledBy||!this.options.labelHint||"none"!==this.options.labelEdge||t&&t!==this._ariaLabelFromHint||this._getRootElement().getAttribute("aria-labelledby")?this._ariaLabelFromHint&&this._ariaLabelFromHint===t?(e.removeAttribute("aria-label"),i&&i.removeAttribute("aria-label")):t?i&&i.setAttribute("aria-label",t):i&&i.removeAttribute("aria-label"):(e.setAttribute("aria-label",this.options.labelHint),i&&i.setAttribute("aria-label",this.options.labelHint),this._ariaLabelFromHint=this.options.labelHint)}},_getAllAsyncValidatorsWithHint:function(){var e,t,i=this._GetNormalizedAsyncValidatorsFromOption(),n=[];if(this._IsRequired()&&"hint"in(t=this._getImplicitRequiredValidator())&&n.push(t),i.length>0)for(e=0;e<i.length;e++)"hint"in(t=i[e])&&n.push(t);var s=this._GetAllValidatorsFromValidatorsOptionAndImplicit();if(s.length>0)for(e=0;e<s.length;e++)"hint"in(t=s[e])&&n.push(t);return n},_initAsyncValidatorMessagingHint:function(){var e,t,i=this._getAllAsyncValidatorsWithHint(),n=this;this._asyncValidatorHintCounter=0,i.length>0&&(t=this._getValidatorHintsMC(),e=this._asyncValidatorHintCounter,this._setBusyStateAsyncValidatorHint(e),this._addAsyncValidatorsHintsMessagingContent(i,t).then(function(){n._clearBusyStateAsyncValidatorHint(e)}))},_getValidatorHintsMC:function(){return this._getMessagingContent(this._MESSAGING_CONTENT_UPDATE_TYPE.VALIDATOR_HINTS)},_updateValidatorMessagingHint:function(){var e,t=this._getAllAsyncValidatorsWithHint(),i=this._getComponentMessaging(),n=this,s=this._getValidatorHintsMC();t.length>0?(this._asyncValidatorHintCounter+=1,e=this._asyncValidatorHintCounter,this._setBusyStateAsyncValidatorHint(e),this._addAsyncValidatorsHintsMessagingContent(t,s).then(function(){n._clearBusyStateAsyncValidatorHint(e)})):i.update(s)},_addAsyncValidatorsHintsMessagingContent:function(e,t){var i,n=this._asyncValidatorHintCounter,s=this._getComponentMessaging(),o=[],a=this,r=[];for(i=0;i<e.length;i++)r.push(e[i].hint);function l(e){return e.then(function(e){var i,r={};return a._asyncValidatorHintCounter===n?(null!==e&&(o.push(e),r.validatorHint=t.validatorHint.concat(o),s.update(r)),i="resolved"):i="ignore",{v:e,status:i}},function(e){return{e:e,status:"rejected"}})}return new Promise(function(e){Promise.all(r.map(l)).then(function(){e(o)})})},_IsRequired:function(){return!1},_HandleChangeEvent:function(e){var t=this._GetDisplayValue();this._SetValue(t,e)},_SetRawValue:function(e,t){var i={};i._context={originalEvent:t,writeback:!0,internalSet:!0,readOnly:!0},this._CompareOptionValues("rawValue",this.options.rawValue,e)||this.option("rawValue",e,i)},_IsValueEmpty:function(e){return null==e||("string"==typeof e?t.StringUtils.isEmptyOrUndefined(e):"number"==typeof e?isNaN(e):!!Array.isArray(e)&&(0===e.length||1===e.length&&(null===e[0]||void 0===e[0])))},_toggleOjHasNoValueClass:function(e){let t=this._getRootElement();const i="oj-has-no-value",n=t.classList.contains(i),s=this._IsValueEmpty(e),o=s&&!n,a=!s&&n;o?t.classList.add(i):a&&t.classList.remove(i),this.options.required&&(o||a)&&this._getComponentMessaging().update({hasNoValueToggled:!0})},_Refresh:function(e,t,i){var n,s;switch(e){case"converter":var o=this.options.value;this._refreshComponentDisplayValue(o,i);break;case"disabled":this._refreshTheming("disabled",this.options.disabled);break;case"help":if(!this._IsCustomElement()&&this.$label){n=this.options.help.definition,s=this.options.help.source,this.$label.ojLabel("option","help",{definition:n,source:s});var a=this.$label[0];if(a){let e=a.id;if(e){let t=e+b;null!=s||null!=n?this._describedByUpdated(null,t):this._describedByUpdated(t,null)}}}break;case"value":this._refreshComponentDisplayValue(t,i)}},_NotifyHidden:function(){this._superApply(arguments),this._getComponentMessaging().close()},_NotifyDetached:function(){this._superApply(arguments),this._getComponentMessaging().close()},_ResetComponentState:function(){this.$label&&this.$label.ojLabel("refresh"),this._implicitReqValidator=null,this._converter=null,this._ResetAllValidators()},_SetDisplayValue:function(e){var t=this._GetContentElement();t.val()!==e&&t.val(e)},_SetDisabledDom:function(e){"boolean"==typeof this.options.disabled&&(e[0].disabled=this.options.disabled)},_SetPlaceholder:function(e){var t=this._GetContentElement()[0];t&&(null==e?t.removeAttribute("placeholder"):t.setAttribute("placeholder",e))},_SetPlaceholderOption:function(e){this.options.placeholder=e},_HasPlaceholderSet:function(){return this.options.placeholder},_ClearPlaceholder:function(){this._SetPlaceholderOption(""),this._SetPlaceholder("")},_SetValue:function(e,t,i){var n,s,o,a=!i||"boolean"!=typeof i.doValueChangeCheck||i.doValueChangeCheck,r=this,u=!1;return this._toggleOjHasNoValueClass(e),void 0===e?(l.warn("Attempt to set a value of undefined"),!1):(a&&e===r._getLastDisplayValue()||(n=e+"_"+(this._asyncValidatorValidateCounter+1),(s=this._AsyncValidate(e,t,i,n))instanceof Promise?u=s.then(function(e){return o=e,r._afterAsyncValidateUpdateValue(e,t,i)}).then(function(){return r._clearBusyState(n),void 0!==o}):(this._afterAsyncValidateUpdateValue(s,t,i),u=void 0!==s)),u)},_ParseValueShowErrors:function(e,t){var i,n=this;this._clearAllMessages(t);try{return this._parseValue(e,t)}catch(e){i=n._processValidationErrors(e),n._updateMessagesOption("messagesShown",i,t),n._setValidOption(R,t)}},_AsyncValidate:function(e,t,i,n){var s,o,a,r=i&&i.validationMode?i.validationMode:this._VALIDATION_MODE.FULL,u=i&&i.validationContext?i.validationContext:this._VALIDATION_CONTEXT.USER_ACTION,d=i&&i.doNotClearMessages||!1,h=this;if(void 0!==e){if(this._CanSetValue()){d||this._clearAllMessages(t);try{return this._asyncValidatorValidateCounter+=1,r===h._VALIDATION_MODE.FULL?(this._setLastDisplayValue(e),o=this._parseValue(e,t,!0)):o=e,(a=h._asyncValidateValue(o,t,u))instanceof Promise?(h._setBusyState(n),a.then(function(e){if(e===A)return o})):a}catch(e){s=h._processValidationErrors(e,u),h._updateMessagesOption("messagesShown",s,t),h._setValidOption(R,t)}}return a}l.warn("Attempt to set a value of undefined")},_afterAsyncValidateUpdateValue:function(e,t,i){var n,s=!1;return void 0!==e&&(i&&!0===i.doNotClearMessages?this.isValid()||!this._hasInvalidComponentMessagesShowing():this.isValid())&&(i&&i._context&&(n=i._context),this._updateValueOption(e,t,i&&i.validationContext,n,i),s=!0),s},_CompareOptionValues:function(e,i,n){return"value"===e||"rawValue"===e?t.Object.compareValues(i,n):0===e.indexOf("messages")?this._messagesEquals(i,n):this._superApply(arguments)},_GetDefaultStyleClass:function(){return t.Assert.failedInAbstractFunction(),""},_MESSAGING_CONTENT_UPDATE_TYPE:{INIT:1,VALIDITY_STATE:2,CONVERTER_HINT:3,VALIDATOR_HINTS:4,TITLE:5},_OPTION_TO_CSS_MAPPING:{disabled:"oj-disabled",required:"oj-required"},_clearAllMessages:function(e,t){t?(this.options.messagesHidden=[],this.options.messagesShown=[],this.options.messagesCustom=[]):(this._clearMessages("messagesHidden",e),this._clearMessages("messagesShown",e),this._clearMessages("messagesCustom",e))},_clearComponentMessages:function(){var e,t=this.options.messagesShown;e=t.length,this._clearMessages("messagesHidden");for(var i=e-1;i>=0;i--)t[i]instanceof c.ComponentMessage&&t.splice(i,1);t.length!==e&&this._setMessagesOption("messagesShown",t,null,!0)},_setMessagesOption:function(e,t,i,n){var s={},o=0===t.length&&0===this.options[e].length;!n&&o||(s._context={originalEvent:i,writeback:!0,internalSet:!0},"messagesCustom"!==e&&(s._context.readOnly=!0),s.changed=n||!o,this._resetValid(),this.option(e,t,s),this._updateMessagingContent())},_setValidOption:function(e,t){var i={};e===T&&this._determineValidFromMessagesOptions()!==A||e!==this.options.valid&&(i._context={originalEvent:t,writeback:!0,internalSet:!0,readOnly:!0},this.option("valid",e,i))},_clearMessages:function(e,t){this._setMessagesOption(e,[],t)},_cloneMessagesBeforeSet:function(e){var t,i,n,s=[];if(e&&e.length>0)for(t=0;t<e.length;t++)n=e[t],i=new c(n.summary,n.detail,n.severity),i=Object.freeze?Object.freeze(i):i,s.push(i);return s},_createOjLabel:function(){var e,t;this._IsCustomElement()||(this.$label=this._GetLabelElement(),this.$label&&(e=this.options.help.definition,t=this.options.help.source,this.$label.ojLabel({rootAttributes:{class:this._GetDefaultStyleClass()+"-label"},help:{definition:e,source:t}}),this._createDescribedByForLabel()))},_createDescribedByForLabel:function(){var e,t=this.options.help.definition;if(null!=this.options.help.source||null!=t){var i=this.$label[0];i&&(e=i.id),e&&this._describedByUpdated(null,e+b)}},_doRefresh:function(){var e,t=!1;this._ResetComponentState(),this._initComponentMessaging(),this._Refresh("disabled",this.options.disabled),this._hasInvalidMessagesShowing()&&(t=!0),this._clearComponentMessages(),t?(e=this._GetDisplayValue(),this._SetValue(e,null,E.refreshMethodOptions)):(this._IsRequired()&&this._runDeferredValidation(E.refreshMethodOptions.validationContext),this._Refresh("value",this.options.value,!0))},_getLastModelValue:function(){return this._oj_lastModelValue},_getLastDisplayValue:function(){return void 0===this._oj_lastElementValue&&(this._oj_lastElementValue=""),this._oj_lastElementValue},_getAriaLabelledByElement:function(e){if(this._IsCustomElement())return null;var t=e[0].getAttribute("aria-labelledby");return void 0!==t?n("label[id='"+t+"']"):null},_getMessages:function(){var e=[];return this.options.messagesShown&&(e=e.concat(this.options.messagesShown)),this.options.messagesHidden&&(e=e.concat(this.options.messagesHidden)),e},_getLabelText:function(){if(this.$label)return this.$label[0].textContent;var e=E._getCustomOjLabelElements(this.options.labelledBy),t=null;if(e)for(var i=0;i<e.length;i++){i>0&&(t+=" "),t=e[i].textContent}return t},_getValidityState:function(){return this._validityState||(this._validityState=new t.ComponentValidity(this.isValid(),this._getMessages())),this._validityState},_hasValidityState:function(){return!!this._validityState},_hasInvalidMessages:function(){return!c.isValid(this._getMessages())},_hasInvalidMessagesShowing:function(){return!this.isValid()&&this.options.messagesShown.length>0},_hasInvalidComponentMessagesShowing:function(){for(var e,t,i=this.options.messagesShown,n=0;n<i.length;n++)(t=i[n])instanceof c.ComponentMessage&&t._isMessageAddedByComponent()&&(e=e||[]).push(t);return void 0!==e&&!c.isValid(e)},_initComponentMessaging:function(){var e=this._getComponentMessaging(),t=this._GetMessagingLauncherElement(),i=this._GetContentElement(),n=this._getMessagingContent(this._MESSAGING_CONTENT_UPDATE_TYPE.INIT);this._customPlaceholderSet||this._ClearPlaceholder(),e.activate(t,i,n),this._asyncValidatorValidateCounter=0},_messagesCustomOptionChanged:function(e){var t,i,n=e?e._context:null,s=this.options.messagesCustom,o=this.options.messagesShown,a=[];for(t=0;t<o.length;t++)(i=o[t])instanceof c.ComponentMessage&&i._isMessageAddedByComponent()&&a.push(i);for(t=0;t<s.length;t++)a.push(s[t]);this._setMessagesOption("messagesShown",a,n?n.originalEvent:null,e&&e.changed)},_placeholderOptionChanged:function(e){"displayOptions"===this._getResolvedUserAssistance()&&(!(e&&e._context||{}).internalMessagingSet?(this._customPlaceholderSet=!0,this._GetConverter()&&this._initComponentMessaging()):this._customPlaceholderSet=!1)},_setLastModelValue:function(e){this._oj_lastModelValue=e},_setLastDisplayValue:function(e){this._oj_lastElementValue=e},_updateMessagesOption:function(e,t,i){var n,s,o;if("object"==typeof t&&Array.isArray(t))for(o=this.options[e],s=t.length,n=0;n<s;n++)o.push(t[n]);this._setMessagesOption(e,o,i,!0)},_updateMessagingContent:function(){this._getComponentMessaging().update(this._getMessagingContent(this._MESSAGING_CONTENT_UPDATE_TYPE.VALIDITY_STATE))},_updateValueOption:function(e,t,i,n,s){var o,a,r=n||{};switch(t&&(r.originalEvent=t),i){case this._VALIDATION_CONTEXT.CONVERTER_OPTION_CHANGE:case this._VALIDATION_CONTEXT.DISABLED_OPTION_CHANGE:case this._VALIDATION_CONTEXT.READONLY_OPTION_CHANGE:case this._VALIDATION_CONTEXT.REFRESH_METHOD:case this._VALIDATION_CONTEXT.REQUIRED_OPTION_CHANGE:case this._VALIDATION_CONTEXT.VALIDATE_METHOD:case this._VALIDATION_CONTEXT.VALIDATORS_OPTION_CHANGE:r.writeback=!0,r.doNotClearMessages=!0}if(r.internalSet=!0,s&&s.targetOptions){o={},a=!1;for(var l=0;l<s.targetOptions.length;l++)o[s.targetOptions[l]]=e,a=a||"value"===s.targetOptions[l]}else o={value:e},a=!0;this.option(o,{_context:r}),a&&this._AfterSetOptionValue("value",{_context:r})},_resetValid:function(){this._valid=void 0},_determineValidFromMessagesOptions:function(){var e=this.options.messagesHidden,t=this.options.messagesShown,i=A;return t&&0!==t.length&&!c.isValid(t)?i=R:e&&0!==e.length&&!c.isValid(e)&&(i="invalidHidden"),i},_formatValue:function(e){var t=e,i=this._GetConverter();return i&&"object"==typeof i&&i.format&&"function"==typeof i.format&&(t=i.format(e)),t},_getComponentMessaging:function(){return this._componentMessaging||(this._componentMessaging=new t.ComponentMessaging(this)),this._componentMessaging},_getHintsFromAllValidatorsWithGetHintFunction:function(e){var t,i,n=[],s="";for(this._IsRequired()&&(i=this._getImplicitRequiredValidator()).getHint&&"function"==typeof i.getHint&&(s=i.getHint())&&n.push(s),t=0;t<e.length;t++)s="","object"==typeof(i=e[t])&&i.getHint&&"function"==typeof i.getHint&&(s=i.getHint())&&n.push(s);return n},_getImplicitRequiredValidator:function(){var e,t={};return null==this._implicitReqValidator&&(e={hint:(t=this.options.translations&&this.options.translations.required||{}).hint||null,label:this._getLabelText(),messageSummary:t.messageSummary||null,messageDetail:t.messageDetail||null},this._implicitReqValidator=new u(e)),this._implicitReqValidator},_getResolvedUserAssistance:function(){let e=o.parseJSONFromFontFamily("oj-form-control-option-defaults");if(e){return"use"===e.useUserAssistanceOptionDefault?this.options.userAssistanceDensity:"displayOptions"}return"displayOptions"},_showUserAssistanceNotInline:function(){let e=this._getResolvedUserAssistance();return"compact"===e||"displayOptions"===e},_getMessagingContent:function(e){var t,i,n={},s="";if((e=e||this._MESSAGING_CONTENT_UPDATE_TYPE.VALIDITY_STATE)!==this._MESSAGING_CONTENT_UPDATE_TYPE.INIT&&e!==this._MESSAGING_CONTENT_UPDATE_TYPE.VALIDITY_STATE||(n.validityState=this._getMessagingContentValidityState()),e!==this._MESSAGING_CONTENT_UPDATE_TYPE.INIT&&e!==this._MESSAGING_CONTENT_UPDATE_TYPE.CONVERTER_HINT||((i=this._GetConverter())&&"object"==typeof i&&i.getHint&&"function"==typeof i.getHint&&(s=i.getHint()||""),n.converterHint=s),e===this._MESSAGING_CONTENT_UPDATE_TYPE.VALIDATOR_HINTS){t=this._GetAllValidatorsFromValidatorsOptionAndImplicit();let e=this._getHintsFromAllValidatorsWithGetHintFunction(t)||[];n.validatorHint=e}if(e===this._MESSAGING_CONTENT_UPDATE_TYPE.INIT||e===this._MESSAGING_CONTENT_UPDATE_TYPE.TITLE){var o;if(this._IsCustomElement()){var a=this.options.help;null!=a&&(o=a.instruction)}else o=this.options.title;n.title=o||""}return n},_getMessagingContentValidityState:function(){let e;return this._hasValidityState()?(e=this._getValidityState(),e.update(this.isValid(),this._getMessages())):e=this._getValidityState(),e},_messagesEquals:function(e,t){var i,s=-1,o=!0,a=n.extend([],e),r=n.extend([],t);return a.length===r.length&&(a.forEach(function(e){e instanceof c?i=e:(i=new c(e.summary,e.detail,e.severity),i=Object.freeze?Object.freeze(i):i),s=-1,r.forEach(function(e,t){c.getSeverityLevel(i.severity)===c.getSeverityLevel(e.severity)&&i.summary===e.summary&&i.detail===e.detail&&(s=t)}),s>-1?r.splice(s,1):o=!1}),o)},_parseValue:function(e,t,i){var n=this._GetConverter(),s=e;if(n&&"object"==typeof n&&n.parse&&"function"==typeof n.parse)try{i&&this._setValidOption(T,t),s=n.parse(e)}catch(e){throw e}return s},_addValidationError:function(e,t){var i,n,s,o;e instanceof p.ConverterError||e instanceof p.ValidatorError?(n=(s=e.getMessage()).severity||c.SEVERITY_LEVEL.ERROR,o=s.summary||h.getTranslatedString("oj-message.error"),i=s.detail||h.getTranslatedString("oj-converter.detail")):e.summary||e.detail?(n=c.SEVERITY_LEVEL.ERROR,o=e.summary||h.getTranslatedString("oj-message.error"),i=e.detail||h.getTranslatedString("oj-converter.detail")):(n=c.SEVERITY_LEVEL.ERROR,o=h.getTranslatedString("oj-message.error"),i=e.message||h.getTranslatedString("oj-converter.detail")),t.push({summary:o,detail:i,severity:n})},_processValidationErrors:function(e,t,i){var n,s=[],o=e._messages||[],a={};a.context=t||0,a.display=i||c.ComponentMessage.DISPLAY.SHOWN,0===o.length&&this._addValidationError(e,o);for(var r=0;r<o.length;r++)n=o[r],s.push(this._createComponentMessage(n.summary,n.detail,n.severity,a));return s||null},_createComponentMessage:function(e,t,i,n){var s;return s=new c.ComponentMessage(e,t,i,n),s=Object.seal?Object.seal(s):s},_refreshComponentDisplayValue:function(e,t){var i;return this._toggleOjHasNoValueClass(e),(t||e!==this._getLastModelValue())&&(i=this._UpdateElementDisplayValue(e)),i},_refreshTheming:function(e,t){-1!==Object.keys(this._OPTION_TO_CSS_MAPPING).indexOf(e)&&(t?this.widget()[0].classList.add(this._OPTION_TO_CSS_MAPPING[e]):this.widget()[0].classList.remove(this._OPTION_TO_CSS_MAPPING[e]))},_runDeferredValidation:function(e){var t=this;if(this._CanSetValue()){if(!this._resolveBusyStateDeferredValidation){var i=this.element[0],n=r.getContext(i).getBusyContext(),s="The page is waiting for async deferred validation ";i&&i.id&&(s+='for "'+i.id+'" '),s+="to finish.",this._resolveBusyStateDeferredValidation=n.addBusyState({description:s})}var o=this._validateValueForRequiredOnly(this.options.value,e);if(!(o instanceof Promise))return this._setValidOption(this._determineValidFromMessagesOptions(),null),void(this._resolveBusyStateDeferredValidation&&(this._resolveBusyStateDeferredValidation(),delete this._resolveBusyStateDeferredValidation));o.then(function(){t._resolveBusyStateDeferredValidation&&(t._resolveBusyStateDeferredValidation(),delete t._resolveBusyStateDeferredValidation),t._setValidOption(t._determineValidFromMessagesOptions(),null)})}this._setValidOption(this._determineValidFromMessagesOptions(),null)},_runMixedValidationAfterSetOption:function(e){var t,i=!1;this._hasInvalidMessagesShowing()&&(i=!0),this._clearComponentMessages(),i&&(t=this._GetDisplayValue(),this._SetValue(t,null,e)),!i&&this._IsRequired()?this._runDeferredValidation(e.validationContext):this._setValidOption(this._determineValidFromMessagesOptions(),null)},_UpdateElementDisplayValue:function(e,t){var i,n;i=e;try{i=this._formatValue(e);try{this._setLastModelValue(e),this._afterConverterFormat(i)}catch(e){throw e}n=i}catch(s){t||this._afterConverterFormatFailure(s),this._setLastModelValue(e),this._afterConverterFormat(i),n=void 0}return n},_SetLoading:function(){var e=this.widget()[0],t=this.GetFocusElement();e.classList.add("oj-loading"),this._saveAriaLabel=t.getAttribute("aria-label");var i=h.getTranslatedString("oj-ojEditableValue.loading");t.setAttribute("aria-label",i)},_ClearLoading:function(){var e=this.widget()[0],t=this.GetFocusElement();e.classList.remove("oj-loading"),this._saveAriaLabel?t.setAttribute("aria-label",this._saveAriaLabel):t.removeAttribute("aria-label")},_UseReadonlyDiv:function(){return"div"===o.parseJSONFromFontFamily("oj-form-control-option-defaults").readonlyElem},_ShowHelpHints:function(){return this._IsTextFieldComponent()?"focus":"always"},_ShowHelpHintsLocation:function(){return"inline"},_afterConverterFormat:function(e){var t;this._SetDisplayValue(e),t=this._GetDisplayValue(),this._setLastDisplayValue(t),this._SetRawValue(t,null)},_afterConverterFormatFailure:function(e){var t;t=this._processValidationErrors(e),this._updateMessagesOption("messagesShown",t),this._setValidOption(R,null)},_loadingConverter:function(e){var t=this,i=E._getShowLoadingDelay(),n=this._converterChangedCounter,s=setTimeout(function(){n===t._converterChangedCounter&&t._SetLoading()},i);return e.then(function(e){return t._ClearLoading(),clearTimeout(s),e})},_validateValueForRequiredOnly:function(e,i){var n,s,o=this;if(this._IsRequired()){s=this._getImplicitRequiredValidator();try{this._setValidOption(T,null);var a=s.validate(t.StringUtils.trim(e));if(a instanceof Promise)return a.then(function(){},function(e){(n=o._processValidationErrors(e,i,c.ComponentMessage.DISPLAY.HIDDEN))&&o._updateMessagesOption("messagesHidden",n)})}catch(e){(n=this._processValidationErrors(e,i,c.ComponentMessage.DISPLAY.HIDDEN))&&this._updateMessagesOption("messagesHidden",n)}}return null},_asyncValidateValue:function(e,i,n){var s,o,a,r,l,u=this._GetNormalizedAsyncValidatorsFromOption(),d=this._GetAllValidatorsFromValidatorsOptionAndImplicit(),h=!1,c=this,_=[],p=this._asyncValidatorValidateCounter,g=[],m=this._IsRequired();if(m&&(r=this._getImplicitRequiredValidator()),(m||u.length>0||d.length>0)&&this._setValidOption(T,i),r)try{var f=r.validate(t.StringUtils.trim(e));f&&g.push(f)}catch(e){this._addValidationError(e,_),this._setValidOption(R,i),h=!0}for(s=0;s<u.length;s++){try{l=u[s].validate(e)}catch(e){l=Promise.reject(e)}l instanceof Promise||(l=Promise.resolve(l)),g.push(l)}for(s=0;s<d.length;s++)try{(l=d[s].validate(e))instanceof Promise&&g.push(l)}catch(e){this._addValidationError(e,_),this._setValidOption(R,i),h=!0}if(_.length>0){let e=new Error;e._messages=_,a=this._processValidationErrors(e,n),this._updateMessagesOption("messagesShown",a,i)}function v(e){return e.then(function(e){return{v:e,status:c._asyncValidatorValidateCounter===p?"resolved":"ignore"}},function(e){var t;return c._asyncValidatorValidateCounter===p?(a=c._processValidationErrors(e,n),c._updateMessagesOption("messagesShown",a,i),h||(c._setValidOption(R,i),h=!0),t="rejected"):t="ignore",{e:e,status:t}})}return g.length>0?new Promise(function(e){Promise.all(g.map(v)).then(function(t){t.filter(function(e){return"ignore"===e.status}).length>0?o="ignoreValidation":(o=h?R:A,c._setValidOption(c._determineValidFromMessagesOptions(),i)),e(o)})}):(0===_.length&&this._setValidOption(c._determineValidFromMessagesOptions(),i),0===_.length?e:void 0)},_labelledByUpdated:function(e){var t=E._getCustomOjLabelElements(e);if(t)for(let e=0;e<t.length;e++){var i=t[e];i.classList.add(this._GetDefaultStyleClass()+"-label"),void 0===this.widget().attr("data-oj-internal")&&void 0!==this.options.readOnly&&this._addRemoveOjReadOnlyClassOnLabel(i,this.options.readOnly)}},_describedByUpdated:d._describedByUpdated,_setBusyState:E._SetBusyState,_clearBusyState:E._ClearBusyState,_setBusyStateAsyncValidatorHint:E._SetBusyStateAsyncValidatorHint,_clearBusyStateAsyncValidatorHint:E._ClearBusyStateAsyncValidatorHint,_setBusyStateAsyncConverterLoading:E._SetBusyStateAsyncConverterLoading,_clearBusyStateAsyncConverterLoading:E._ClearBusyStateAsyncConverterLoading,_AfterCreateConverterCached:E._AfterCreateConverterCached,_getReadonlyDiv:E._getReadonlyDiv,_createOrUpdateReadonlyDiv:E._createOrUpdateReadonlyDiv,_createReadonlyDiv:E._createReadonlyDiv,_setReadonlyDivLabelledBy:E._setReadonlyDivLabelledBy,_GetFormControlContainer:function(){if(this._IsCustomElement()){var e="."+[this._GetComponentManagedBaseLabelStyleClass(),"container"].join("-");return this._getRootElement().querySelector(e)}},_IsTextFieldComponent:function(){return!1},_GetComponentManagedBaseLabelStyleClass:function(){return this._IsTextFieldComponent()?"oj-text-field":"oj-form-control"},_CreateMiddleWrapper:function(){var e=document.createElement("div");return e.className="oj-text-field-middle",e},_ResolveLabelEdgeStrategyType:function(){var e=this.options.labelEdge;return this._IsCustomElement()&&"inside"===e&&(this._IsTextFieldComponent()||(e=t.ComponentMessaging._STRATEGY_TYPE.LABEL_EDGE_INSIDE_FORM_CNTRL)),e}},!0),i.setDefaultOptions({editableValue:{displayOptions:i.createDynamicPropertyGetter(function(e){var t;return(t="use"===(o.parseJSONFromFontFamily("oj-form-control-option-defaults")||{}).useUserAssistanceOptionDefault?{messages:S.MESSAGES,converterHint:S.CONVERTER_HINT,validatorHint:S.VALIDATOR_HINT}:{messages:e.containers.indexOf("ojDataGrid")>=0||e.containers.indexOf("ojTable")>=0?["notewindow"]:O.MESSAGES,converterHint:O.CONVERTER_HINT,validatorHint:O.VALIDATOR_HINT})[e.isCustomElement?"helpInstruction":"title"]=["notewindow"],t}),help:i.createDynamicPropertyGetter(function(e){return e.isCustomElement?{instruction:""}:{definition:null,source:null}}),labelEdge:i.createDynamicPropertyGetter(function(e){if(e.isCustomElement)return(o.parseJSONFromFontFamily("oj-form-control-option-defaults")||{}).labelEdge}),userAssistanceDensity:i.createDynamicPropertyGetter(function(e){return e.containers.indexOf("ojDataGrid")>=0||e.containers.indexOf("ojTable")>=0?"compact":"reflow"})}});const I=function(e){this.Init(e)},L={},H={};t.ComponentMessaging.registerMessagingStrategy(t.ComponentMessaging._STRATEGY_TYPE.NOTEWINDOW,I),t.Object.createSubclass(I,t.MessagingStrategy,"oj.PopupMessagingStrategy"),I._DEFAULTS_BY_COMPONENT={ojRadioset:{position:"launcher",events:{open:"focusin mouseenter press",close:"mouseleave"}},ojCheckboxset:{position:"launcher",events:{open:"focusin mouseenter press",close:"mouseleave"}},ojInputText:{position:"launcher",events:{open:"focusin"}},ojTextArea:{position:"launcher",events:{open:"focusin"}},ojInputPassword:{position:"launcher",events:{open:"focusin"}},ojSwitch:{position:"launcher",events:{open:"focusin mouseenter",close:"mouseleave"}},ojSlider:{position:"launcher",events:{open:"focusin mouseenter",close:"mouseleave"}},ojColorSpectrum:{position:"launcher",events:{open:"focusin mouseenter",close:"mouseleave"}},ojColorPalette:{position:"launcher",events:{open:"focusin mouseenter",close:"mouseleave"}},default:{position:"launcher-wrapper",events:{open:"focusin"}}},I._SELECTOR_FORMCONTROL_HINT="oj-form-control-hint",I._SELECTOR_FORMCONTROL_HINT_CONVERTER="oj-form-control-hint-converter",I._SELECTOR_FORMCONTROL_HINT_VALIDATOR="oj-form-control-hint-validator",I._SELECTOR_FORMCONTROL_HINT_TITLE="oj-form-control-hint-title",I._OPEN_NAMESPACE=".ojPopupMessagingOpen",I._CLOSE_NAMESPACE=".ojPopupMessagingClose",I.prototype.activate=function(e){I.superclass.activate.call(this,e),this._initMessagingPopup()},I.prototype.reactivate=function(e){I.superclass.reactivate.call(this,e),this._updatePopupIfOpenOrComponentHasFocus()},I.prototype.update=function(){I.superclass.update.call(this),this._updatePopupIfOpenOrComponentHasFocus()},I.prototype.deactivate=function(){this._unregisterLauncherEvents(),this._destroyTooltip(),I.superclass.deactivate.call(this)},I.prototype.close=function(){this._closePopup()},I.prototype._closePopup=function(){this._queueAction(function(e){if(this._isPopupInitialized())return e&&this._setActionResolver(this.$messagingContentRoot,"close",e),void this.$messagingContentRoot.ojPopup("close");e&&e(!0)}.bind(this))},I.prototype._initMessagingPopup=function(){this._openPopupCallback||this._registerLauncherEvents()},I.prototype._addAnimateEventListeners=function(e){var t=function(e,t,i){var n=this.GetComponent();n&&n._trigger&&(t.stopPropagation(),n._trigger(e,null,i)||t.preventDefault())};e.on("ojanimatestart.notewindow",t.bind(this,"animateStart")),e.on("ojanimateend.notewindow",t.bind(this,"animateEnd"))},I.prototype._removeAnimateEventListeners=function(e){e.off("ojanimatestart.notewindow"),e.off("ojanimateend.notewindow")},I.prototype._setBusyState=function(e){var t=this.GetComponent(),i=t?t.element:null,n=i?i[0]:null,s=r.getContext(n).getBusyContext(),o="The page is waiting for note window ";return n&&n.id&&(o+='for "'+n.id+'" '),o+="to "+e,s.addBusyState({description:o})},I.prototype._setActionResolver=function(e,t,i){var n;this._actionCount>1&&(n=e.ojPopup("option","animation"),e.ojPopup("option","animation",null));var s=this._setBusyState(t);e.one("oj"+t,function(){n&&e.ojPopup("option","animation",n),s(),i(!0)})},I.prototype._queueAction=function(e){if(this.GetComponent()._IsCustomElement()){var t=this,i=function(e){var i=new Promise(e);return i.then(function(){t._actionCount-=1}),i};this._actionCount?(this._actionCount+=1,this._actionPromise=this._actionPromise.then(function(){return i(e)})):(this._actionCount=1,this._actionPromise=i(e))}else e(null)},I.prototype._openPopup=function(e){this._queueAction(function(i){var s,o,a;if(this._canOpenPopup()&&(o=this._buildPopupHtml(),!t.StringUtils.isEmptyOrUndefined(o))){var r=this._getPopupElement(),l=r.ojPopup("isOpen");if((s=L.getPopupContentNode(r)).innerHTML="",s.innerHTML=o,!l){a=this.GetLauncher();const t=n(this.GetComponent()._GetMessagingPositionElement());return e&&"press"===e.type&&this._openPopupOnPressEvent(a),i&&this._setActionResolver(r,"open",i),void r.ojPopup("open",a,{of:t})}l&&r.ojPopup("refresh")}i&&i(!0)}.bind(this))},I.prototype._openPopupOnPressEvent=function(e){this._inPressEvent=!0,e[0].addEventListener("click",this._eatChangeAndClickOnPress,!0),e[0].addEventListener("change",this._eatChangeAndClickOnPress,!0),e.one("touchend",function(){setTimeout(function(){this._inPressEvent=!1},50)})},I.prototype._eatChangeAndClickOnPress=function(e){this._inPressEvent&&(e.preventDefault(),e.stopPropagation(),"click"===e.type&&(this._inPressEvent=!1))},I.prototype._canOpenPopup=function(){var e=this.GetComponent().options,t=e.disabled||!1,i=e.readOnly||!1;return!(t||i)},I.prototype._updatePopupIfOpenOrComponentHasFocus=function(){var e,t,i,n;null!=this.GetLauncher()&&(i=this.GetLauncher()[0].contains(document.activeElement),this._isPopupInitialized()?(n=this._getPopupElement()).ojPopup("isOpen")&&((e=this._buildPopupHtml())?((t=L.getPopupContentNode(n)).innerHTML="",t.innerHTML=e,n.ojPopup("refresh")):n.ojPopup("close")):i&&(e=this._buildPopupHtml())&&this._openPopup(void 0))},I.prototype._unregisterLauncherEvents=function(){var e=this.GetLauncher();e.off(I._OPEN_NAMESPACE),e.off(I._CLOSE_NAMESPACE),e[0].removeEventListener("click",this._eatChangeAndClickOnPress,!0),e[0].removeEventListener("change",this._eatChangeAndClickOnPress,!0),v.isTouchSupported()&&(this.releaseResources(),e.off("contextmenu",this._eatContextMenuOnOpenPopupListener),this._eatContextMenuOnOpenPopupListener=null,this._inPressEvent=null),this._openPopupCallback=null,this._closePopupCallback=null},I.prototype._registerLauncherEvents=function(){var e,t,i,n=this.GetLauncher();const s=this._getPopupEventNamesToRegisterForComp();if(s.open){this._openPopupCallback||(this._openPopupCallback=this._openPopup.bind(this));const e=this._needsPressEvent(s);i=this._getNamespacedEvents(s.open.replace("press",""),I._OPEN_NAMESPACE),n.on(i,this._openPopupCallback),v.isTouchSupported()&&e&&(this._eatContextMenuOnOpenPopupListener=function(){return!1},n.on("contextmenu",this._eatContextMenuOnOpenPopupListener),this.registerHammerOpenCallbackOnLauncher())}s.close&&((t=this._closePopupCallback)||(t=this._closePopup.bind(this),this._closePopupCallback=t),e=this._getNamespacedEvents(s.close,I._CLOSE_NAMESPACE),n.on(e,t))},I.prototype.setupResources=function(){const e=this._getPopupEventNamesToRegisterForComp(),t=this._needsPressEvent(e);v.isTouchSupported()&&t&&this.registerHammerOpenCallbackOnLauncher()},I.prototype.registerHammerOpenCallbackOnLauncher=function(){const e=this.GetLauncher();if(null==e)return;const t={recognizers:[[m.Press,{time:750}]]};e.ojHammer(t).on("press",this._openPopupCallback)},I.prototype.releaseResources=function(){I.superclass.update.call(this);const e=this._getPopupEventNamesToRegisterForComp(),t=this._needsPressEvent(e);if(v.isTouchSupported()&&t){this.GetLauncher().off("press").ojHammer("destroy")}},I.prototype._getNamespacedEvents=function(e,t){var i,n,s;if(""===e||""===t)return e;s=(i=e.split(" ")).length,n=[];for(var o=0;o<s;o++)i[o]&&n.push(i[o]+t);return n.join(" ")},I.prototype._getPopupPosition=function(){var e,t,i;return(e=(t=I._DEFAULTS_BY_COMPONENT[this.GetComponent().widgetName])?t.position:I._DEFAULTS_BY_COMPONENT.default.position)&&("launcher"===e?i=this.GetLauncher():"launcher-wrapper"===e&&(i=this.GetLauncher().parent())),i||(i=this.GetComponent().widget()),{my:"start bottom",at:"end top",collision:"flipcenter",of:i}},I.prototype._getPopupEventNamesToRegisterForComp=function(){const e=I._DEFAULTS_BY_COMPONENT[this.GetComponent().widgetName];return e?e.events:I._DEFAULTS_BY_COMPONENT.default.events},I.prototype._needsPressEvent=function(e){return!(!e||!e.open)&&-1!==e.open.indexOf("press")},I.prototype._getPopupElement=function(){var e,t;if(this.$messagingContentRoot)return this.$messagingContentRoot;if(e=L.getNextFreePopup(),t=this._getPopupPosition(),e.ojPopup("option","position",t),e.ojPopup("option","beforeClose",this._popupBeforeCloseCallback.bind(this)),e.ojPopup("option","close",this._popupCloseCallback.bind(this)),e.ojPopup("option","open",this._popupOpenCallback.bind(this)),this.GetComponent()._IsCustomElement()){var i=(o.parseJSONFromFontFamily("oj-messaging-popup-option-defaults")||{}).animation;i.actionPrefix="notewindow",e.ojPopup("option","animation",i),this._addAnimateEventListeners(e)}else e.ojPopup("option","animation",null);return this.$messagingContentRoot=e,this.$messagingContentRoot},I.prototype._popupOpenCallback=function(e){var t=n(e.target),s=this;window.setTimeout(function(){i.isComponentInitialized(t,"ojPopup")?t.ojPopup("option","autoDismiss","focusLoss"):delete s.$messagingContentRoot},10)},I.prototype._popupBeforeCloseCallback=function(){this._resolveBusyState=this._setBusyState("close")},I.prototype._popupCloseCallback=function(e){var t=this.GetLauncher(),s=n(e.target);this._removeAnimateEventListeners(s),i.isComponentInitialized(s,"ojPopup")&&(s.ojPopup("option","autoDismiss","none"),s.ojPopup("option","open",null),s.ojPopup("option","close",null),s.ojPopup("option","beforeClose",null)),t&&t[0]&&(t[0].removeEventListener("click",this._eatChangeAndClickOnPress,!0),t[0].removeEventListener("change",this._eatChangeAndClickOnPress,!0)),this.$messagingContentRoot=null,this._inPressEvent=null,L.getPopupContentNode(s).innerHTML="",this._resolveBusyState&&(this._resolveBusyState(),this._resolveBusyState=null)},I.prototype._destroyTooltip=function(){this._closePopup(),L.destroyFreePopup()},I.prototype._buildPopupHtml=function(){var e=!1,t=this.GetComponent().document[0],i=[],n="";return this.ShowMessages()&&i.push(this._buildMessagesHtml(t)),(this.ShowConverterHint()||this.ShowValidatorHint()||this.ShowTitle())&&i.push(this._buildHintsHtml(t)),i.forEach(function(i){i&&(e?n=n.concat(H.getSeparatorHtml(t)):e=!0,n=n.concat(i))}),n},I.prototype._buildMessagesHtml=function(e){var t,i="",n=this.GetMaxSeverity();return this.HasMessages()&&(t=this.GetMessages(),i=H.buildMessagesHtml(e,t,n,!1)),i},I.prototype._buildHintsHtml=function(e){var t,i,n=[],s="";if(this.ShowConverterHint()&&(t=(n=this.GetConverterHint()).length?n[0]:"",s+=H.buildHintHtml(e,I._SELECTOR_FORMCONTROL_HINT_CONVERTER,t,!1,I._SELECTOR_FORMCONTROL_HINT)),this.ShowValidatorHint())for(n=this.GetValidatorHints(),i=0;i<n.length;i++)s+=H.buildHintHtml(e,I._SELECTOR_FORMCONTROL_HINT_VALIDATOR,n[i],!1,I._SELECTOR_FORMCONTROL_HINT);return this.ShowTitle()&&(s+=H.buildHintHtml(e,I._SELECTOR_FORMCONTROL_HINT_TITLE,this.GetTitle(),!0,I._SELECTOR_FORMCONTROL_HINT)),s?"<div class='oj-form-control-hints'>"+s+"</div>":""},I.prototype._isPopupInitialized=function(){return!!this.$messagingContentRoot&&i.isComponentInitialized(this.$messagingContentRoot,"ojPopup")},H.buildHintHtml=function(e,t,i,n,s){var o;if(i){o=e.createElement("div");for(var a=s.split(" "),r=0,l=a.length;r<l;++r)o.classList.add(a[r]);o.classList.add(t),H._appendTextDom(o,H.GetTextDom(e,i,n))}return o?o.outerHTML:""},H.getSeverityTranslatedString=function(e){var t;switch(e){case c.SEVERITY_LEVEL.FATAL:t=h.getTranslatedString("oj-message.fatal");break;case c.SEVERITY_LEVEL.ERROR:t=h.getTranslatedString("oj-message.error");break;case c.SEVERITY_LEVEL.WARNING:t=h.getTranslatedString("oj-message.warning");break;case c.SEVERITY_LEVEL.INFO:t=h.getTranslatedString("oj-message.info");break;case c.SEVERITY_LEVEL.CONFIRMATION:t=h.getTranslatedString("oj-message.confirmation")}return t},H.getSeparatorHtml=function(e){var t;return(t=n(e.createElement("hr")))?t.get(0).outerHTML:""},H.buildMessagesHtml=function(e,t,i,n){var s,o,a,r,l,u,d,h,_="",p=[],g={};for(o=0;o<t.length;o++)l=(r=t[o])instanceof c?r:new c(r.summary,r.detail,r.severity),g[u=c.getSeverityLevel(l.severity)]||(g[u]=[]),g[u].push(l);for(o=i;o>=c.SEVERITY_LEVEL.CONFIRMATION;o--)for(p=g[o]||[],a=0;a<p.length;a++)r=p[a],u=c.getSeverityLevel(r.severity),d=H.getSeverityTranslatedString(u),h=r.summary||d,s=r.detail||"",_=_.concat(H.buildMessageHtml(e,h,s,u,n));return _},H.buildMessageHtml=function(e,t,i,n,s){var a,r,l,u,d,h=H.getSeverityTranslatedString(n);if((l=e.createElement("div")).classList.add(H._SELECTOR_MESSAGE),s)for(var c=H._getSeveritySelector(n).split(" "),_=0,p=c.length;_<p;++_)l.classList.add(c[_]);u=e.createElement("span");for(var g=H._getSeverityIconSelector(n).split(" "),m=0,f=g.length;m<f;++m)u.classList.add(g[m]);if(null==h?u.removeAttribute("title"):u.setAttribute("title",h),u.setAttribute("role","img"),l.appendChild(u),(a=e.createElement("span")).classList.add(H._SELECTOR_MESSAGE_CONTENT),"header"===(o.parseJSONFromFontFamily("oj-messaging-popup-option-defaults")||{}).messageSummaryOptionDefault&&((d=e.createElement("div")).classList.add(H._SELECTOR_MESSAGE_SUMMARY),d.textContent=t,a.appendChild(d)),i){var v=H.GetTextDom(e,i,!0);(r=e.createElement("div")).classList.add(H._SELECTOR_MESSAGE_DETAIL),H._appendTextDom(r,v),a.appendChild(r)}return l.appendChild(a),l.outerHTML},H._getSeverityIconSelector=function(e){var t;switch(e){case c.SEVERITY_LEVEL.FATAL:case c.SEVERITY_LEVEL.ERROR:t=H._SELECTOR_MESSAGE_ERROR_ICON;break;case c.SEVERITY_LEVEL.WARNING:t=H._SELECTOR_MESSAGE_WARNING_ICON;break;case c.SEVERITY_LEVEL.INFO:t=H._SELECTOR_MESSAGE_INFO_ICON;break;case c.SEVERITY_LEVEL.CONFIRMATION:t=H._SELECTOR_MESSAGE_CONFIRMATION_ICON}return H._DEFAULT_STATUS_ICON_SELECTORS+t},H._getSeveritySelector=function(e){var t;switch(e){case c.SEVERITY_LEVEL.FATAL:case c.SEVERITY_LEVEL.ERROR:t=H._SELECTOR_MESSAGE_ERROR;break;case c.SEVERITY_LEVEL.WARNING:t=H._SELECTOR_MESSAGE_WARNING;break;case c.SEVERITY_LEVEL.INFO:t=H._SELECTOR_MESSAGE_INFO;break;case c.SEVERITY_LEVEL.CONFIRMATION:default:t=H._SELECTOR_MESSAGE_CONFIRMATION}return t},H.GetTextDom=function(e,i,n){var s=null;return t.StringUtils.isString(i)&&(n&&v.isHTMLContent(i)?s=v.cleanHtml(i.substring(6,i.length-7)):(s=e.createElement("span")).textContent=i),s},H._appendTextDom=function(e,i){t.StringUtils.isString(i)?e.innerHTML=i:e.appendChild(i)},H._DEFAULT_STATUS_ICON_SELECTORS="oj-component-icon oj-message-status-icon ",H._SELECTOR_MESSAGE="oj-message",H._SELECTOR_MESSAGE_SUMMARY="oj-message-summary",H._SELECTOR_MESSAGE_DETAIL="oj-message-detail",H._SELECTOR_MESSAGE_CONTENT="oj-message-content",H._SELECTOR_MESSAGE_ERROR_ICON="oj-message-error-icon",H._SELECTOR_MESSAGE_WARNING_ICON="oj-message-warning-icon",H._SELECTOR_MESSAGE_INFO_ICON="oj-message-info-icon",H._SELECTOR_MESSAGE_CONFIRMATION_ICON="oj-message-confirmation-icon",H._SELECTOR_MESSAGE_ERROR="oj-message-error",H._SELECTOR_MESSAGE_WARNING="oj-message-warning",H._SELECTOR_MESSAGE_INFO="oj-message-info",H._SELECTOR_MESSAGE_CONFIRMATION="oj-message-confirmation",L.getNextFreePopup=function(){var e,t=L._getPool(),i=t.find("."+L._SELECTOR_MESSAGING);if(0===i.length){(e=n(L._getPopupContentHtml()))[0].style.display="none",e.appendTo(t);e.ojPopup({initialFocus:"none",tail:"simple",autoDismiss:"none",modality:"modeless",animation:{open:null,close:null}})}else e=n(i[0]);return e},L.getPopupContentNode=function(e){return e.find("."+L._SELECTOR_MESSAGING_CONTAINER)[0]},L.destroyFreePopup=function(){var e;if(L._getFreePoolCount()>0){var t=(e=L.getNextFreePopup())[0];e.ojPopup("destroy"),t.parentNode.removeChild(t)}},L._getPool=function(){var e=n("#"+L._MESSAGING_POPUP_POOL_ID);if(e.length>0)return e;var t=(e=n("<div>"))[0];return t.setAttribute("id",L._MESSAGING_POPUP_POOL_ID),t.setAttribute("role","presentation"),document.body.appendChild(t),e},L._getFreePoolCount=function(){return L._getPool().find("."+L._SELECTOR_MESSAGING).length},L._getPopupContentHtml=function(){return'<div class="'+L._SELECTOR_MESSAGING+'"><div class="'+L._SELECTOR_MESSAGING_CONTAINER+'"></div></div>'},L._SELECTOR_MESSAGING_CONTAINER="oj-messaging-popup-container",L._SELECTOR_MESSAGING="oj-messaging-popup",L._MESSAGING_POPUP_POOL_ID="__oj_messaging_popup_pool";const M=function(e,t){this.Init(e),this._userAssistanceDivElement=t},V="oj-has-helphints";t.Object.createSubclass(M,t.MessagingStrategy,"InlineHelpHintsStrategy"),M.prototype.activate=function(e){M.superclass.activate.call(this,e),this._createInlineHelpHints()},M.prototype.reactivate=function(e,t){M.superclass.reactivate.call(this,e),this._userAssistanceDivElement=t,this._isContainerRootDomInDocument()||this._createInlineHelpHints()},M.prototype.shouldUpdate=function(e){let t=!(!e||void 0===e.title),i=!(!e||void 0===e.validatorHint),n=!(!e||void 0===e.converterHint);return t||i||n},M.prototype.update=function(){M.superclass.update.call(this),this._updateInlineHelpHints()},M.prototype.deactivate=function(){var e=this.GetComponent()._getRootElement();this._removeHelpHintsContainerAndContent(),this._focusinCallback&&this._deleteFocusEventHandlers(e),this._deleteHelpHintsAttributeEventHandlers(e),M.superclass.deactivate.call(this)},M.prototype._createInlineHelpHints=function(){var e=this.GetComponent();let t=e._ShowHelpHints();"always"===t&&this._addHelpHintsContent(e),"focus"===t&&this._createFocusEventHandlers(e),this._createHelpHintsAttributeEventHandlers(e)},M.prototype._createFocusEventHandlers=function(e){var t=e._getRootElement();this._focusinCallback=M._focusinHandler.bind(this,e),t.addEventListener("focusin",this._focusinCallback),this._focusoutCallback=M._focusoutHandler.bind(this),t.addEventListener("focusout",this._focusoutCallback)},M.prototype._deleteFocusEventHandlers=function(e){e.removeEventListener("focusin",this._focusinCallback),delete this._focusinCallback,e.removeEventListener("focusout",this._focusoutCallback),delete this._focusoutCallback},M.prototype._createHelpHintsAttributeEventHandlers=function(e){var t=e._getRootElement();this._helpHintsChangedCallback=M._helpHintsChangedHandler.bind(this),t.addEventListener("helpHintsChanged",this._helpHintsChangedCallback)},M.prototype._deleteHelpHintsAttributeEventHandlers=function(e){e.removeEventListener("helpHintsChanged",this._helpHintsChangedCallback),delete this._helpHintsChangedCallback},M.prototype._getHelpHintsInlineContainer=function(e){return e.querySelector(".oj-helphints-inline-container")},M.prototype._isContainerRootDomInDocument=function(){let e=!1;if(this.containerRoot){let t=this.containerRoot.id;e=document.getElementById(t)}return null!==e},M._helpHintsChangedHandler=function(e){this._updateInlineHelpHints()},M.prototype._removeHelpHintsContainerAndContent=function(){var e=this.GetComponent()._getRootElement(),t=this._getHelpHintsInlineContainer(e);t&&(this.RemoveAriaDescribedByForInlineMessaging(t),t.parentElement.removeChild(t),this._userAssistanceDivElement&&(this._userAssistanceDivElement.classList.remove(V),this.containerRoot=null))},M.prototype._addHelpHintsContent=function(e){let t,i=e.options.help,s=i?i.instruction:null,o=e.options.helpHints;if(s){let e=H.GetTextDom(document,s,!0);t=e?e.outerHTML:""}if(!t&&this.ShowValidatorHint()){let e=this.GetValidatorHints();e.length>0&&(t=e.join("<br/>"))}if(!t){let e=o?o.definition:null;e&&(t=e)}if(!t&&this.ShowConverterHint()){let e=this.GetConverterHint();e.length>0&&(t=e.join("<br/>"))}let a,r=o?o.source:null;if(r&&(a=this._getHelpSourceDom(r)),(t||a)&&!this.containerRoot){if(this.containerRoot=document.createElement("div"),this.containerRoot.classList.add("oj-helphints-inline-container"),n(this.containerRoot).uniqueId(),this.AddAriaDescribedByForInlineMessaging(this.containerRoot),"inline"===e._ShowHelpHintsLocation())this._userAssistanceDivElement.appendChild(this.containerRoot);else{let t=e._GetFormControlContainer();t.parentElement.insertBefore(this.containerRoot,t)}}this.containerRoot&&(t&&(t="<div>"+t+"</div>",this.containerRoot.innerHTML=t),a&&this.containerRoot.appendChild(a),t||a||(this.containerRoot.innerHTML=""));const l="inline"===e._ShowHelpHintsLocation();return this._userAssistanceDivElement&&l&&(t||a?this._userAssistanceDivElement.classList.add(V):this._userAssistanceDivElement.classList.remove(V)),t||a},M.prototype._getHelpSourceDom=function(e){t.Assert.assertString(e);let i=document.createElement("div"),n=document.createElement("a");n.classList.add("oj-helphints-anchor"),n.setAttribute("tabindex","0"),n.setAttribute("target","_blank");try{v.validateURL(e),n.setAttribute("href",e)}catch(t){throw new Error(t+". The source option ("+e+") is invalid.")}let s=h.getTranslatedString("oj-ojEditableValue.helpSourceText");return n.textContent=s,i.appendChild(n),v.makeFocusable({element:n,applyHighlight:!0,component:this.GetComponent()}),i},M.prototype._updateInlineHelpHints=function(){const e=this.GetComponent();if(this.containerRoot&&(this.containerRoot.innerHTML=""),"always"===e._ShowHelpHints()||this._focusIn){this._addHelpHintsContent(e)||this._removeHelpHintsContainerAndContent()}},M._focusinHandler=function(e,t){let i=t.currentTarget,n=t.relatedTarget;n&&i.contains(n)||(this.containerRoot&&(this.containerRoot.innerHTML=""),this._focusIn=!0,this._addHelpHintsContent(e)?this._animateOpen():this._removeHelpHintsContainerAndContent())},M._focusoutHandler=function(e){let t=e.currentTarget,i=e.relatedTarget;if((!i||!t.contains(i))&&(this._focusIn=!1,this.containerRoot&&this.containerRoot.hasChildNodes())){let e="close",t=this._getDefaultAnimation().close;this._setBusyState();let i=this;C.startAnimation(this.containerRoot,"inline-hints-"+e,t,this.GetComponent()).then(()=>{this._removeHelpHintsContainerAndContent(),i._clearBusyState()})}},M.prototype._getDefaultAnimation=function(){return M._defaultAnimation||(M._defaultAnimation={open:{effect:"fadeIn",duration:"200ms",timingFunction:"cubic-bezier(0.4,0,0.2,1)"},close:{effect:"fadeOut",duration:"200ms",timingFunction:"cubic-bezier(0.4,0,0.2,1)"}}),M._defaultAnimation},M.prototype._animateOpen=function(){if(this.containerRoot&&this.containerRoot.hasChildNodes()){let e=this._getDefaultAnimation().open,t="open";C.startAnimation(this.containerRoot,"inline-hints-"+t,e,this.GetComponent())}},M.prototype._setBusyState=function(){if(!this._resolveBusyState){let e=this.GetComponent()._getRootElement(),t=r.getContext(e).getBusyContext(),i="The page is waiting for inline help hints ";e&&e.id&&(i+='for "'+e.id+'" '),i+="to open/close",this._resolveBusyState=t.addBusyState({description:i})}},M.prototype._clearBusyState=function(){this._resolveBusyState&&(this._resolveBusyState(),this._resolveBusyState=null)};const N=function(e,t){this.Init(e),this._parentElement=t};t.ComponentMessaging.registerMessagingStrategy(t.ComponentMessaging._STRATEGY_TYPE.INLINE,N),t.Object.createSubclass(N,t.MessagingStrategy,"oj.InlineMessagingStrategy"),N.prototype.activate=function(e){N.superclass.activate.call(this,e)},N.prototype.reactivate=function(e,t){N.superclass.reactivate.call(this,e),this._parentElement=t,this._updateInlineMessage()},N.prototype.shouldUpdate=function(e){return!(!e||void 0===e.validityState)},N.prototype.update=function(){N.superclass.update.call(this),this._updateInlineMessage()},N.prototype.deactivate=function(){this._removeMessagingContentRootDom(),N.superclass.deactivate.call(this)},N.prototype._getDefaultAnimation=function(){if(!N._defaultAnimation){var e=(o.parseJSONFromFontFamily("oj-messaging-inline-option-defaults")||{}).animation;N._defaultAnimation=e=e||{}}return N._defaultAnimation},N.prototype._replaceAnimationOptions=function(e,i){var n,s;t.StringUtils.isString(e)?(s=!0,n=e+""):(s=!1,n=JSON.stringify(e));for(var o=Object.keys(i),a=0;a<o.length;a++){var r=o[a];n=n.replace(new RegExp(r,"g"),i[r])}return s?n:JSON.parse(n)},N.prototype._determineAnimation=function(e,t){var i,n,s,o=this._getDefaultAnimation();if(o){var a,r=e[0],l=r.innerHTML,u=r.offsetHeight;r.innerHTML=t,a=r.offsetHeight,r.innerHTML=l,"noanimation"!==(i=a>u?"open":a<u?"close":"noanimation")&&(n=o[i])&&(s=this._replaceAnimationOptions(n,{"#oldHeight":u+"px","#newHeight":a+"px"}))}return{action:i,effect:s}},N.prototype._setBusyState=function(){if(!this._resolveBusyState){var e=this.GetComponent(),t=e?e.element:null,i=t?t[0]:null,n=r.getContext(i).getBusyContext(),s="The page is waiting for inline message ";i&&i.id&&(s+='for "'+i.id+'" '),s+="to open/close",this._resolveBusyState=n.addBusyState({description:s})}},N.prototype._clearBusyState=function(){this._resolveBusyState&&(this._resolveBusyState(),this._resolveBusyState=null)},N.prototype._queueAction=function(e){var t=this,i=this.$messagingContentRoot;if(t._inInlineMessagingAnimation)this._currentContentToShow=e;else{this._currentContentToShow=null,this._setBusyState(),""!==e&&this._addRemoveOjHasMessagesClass(e),this._timeoutId&&clearTimeout(this._timeoutId);var n=this.GetComponent();if(n&&n._NotifyMessagingStrategyQueueAction){var s;if(!this._notifyQueueActionPromise)this._notifyQueueActionPromise=new Promise(function(e){s=e}),this._notifyQueueActionPromiseResolve=function(){this._notifyQueueActionPromise=null,this._notifyQueueActionPromiseResolve=null,s()}.bind(this);n._NotifyMessagingStrategyQueueAction(this._notifyQueueActionPromise)}this._timeoutId=setTimeout(function(){if(t._timeoutId=null,i&&i[0]){var n=t._determineAnimation(i,e),s=n.action,o=n.effect;"noanimation"===s?(i[0].innerHTML=e,t._addRemoveOjHasMessagesClass(e),t._clearBusyState(),t._notifyQueueActionPromiseResolve&&t._notifyQueueActionPromiseResolve()):("close"===s?i[0].setAttribute("aria-live","off"):i[0].setAttribute("aria-live","polite"),"open"===s&&(i[0].innerHTML=e),t._inInlineMessagingAnimation=!0,C.startAnimation(i[0],"inline-"+s,o,t.GetComponent()).then(function(){var n;t._inInlineMessagingAnimation=!1,"close"===s&&(i[0].setAttribute("aria-live","polite"),i[0].innerHTML=e),null!==t._currentContentToShow?(n=t._currentContentToShow,t._currentContentToShow=null,t._queueAction(n)):(""===e&&t._addRemoveOjHasMessagesClass(e),t._clearBusyState(),t._notifyQueueActionPromiseResolve&&t._notifyQueueActionPromiseResolve())}))}else t._addRemoveOjHasMessagesClass(""),t._clearBusyState(),t._notifyQueueActionPromiseResolve&&t._notifyQueueActionPromiseResolve()},0)}},N.prototype._addRemoveOjHasMessagesClass=function(e){this._parentElement&&(e?this._parentElement.classList.add("oj-has-messages"):(this._parentElement.classList.remove("oj-has-messages"),this._removeMessagingContentRootDom()))},N.prototype._updateInlineMessage=function(){var e;e=this._buildInlineHtml();var t=this._isMessagingContentRootDomInDocument();e&&!t&&this._createInlineMessage(),this.$messagingContentRoot&&this.$messagingContentRoot[0]&&(this.GetComponent()._IsCustomElement()?this._queueAction(e):this.$messagingContentRoot[0].innerHTML=e)},N.prototype._createInlineMessage=function(){this.$messagingContentRoot=n(this._getInlineContentHtml()),this.AddAriaDescribedByForInlineMessaging(this.$messagingContentRoot[0]),this._addAriaLive(this.$messagingContentRoot),this._parentElement?this._parentElement.appendChild(this.$messagingContentRoot[0]):this.GetComponent().widget()[0].appendChild(this.$messagingContentRoot[0])},N.prototype._getInlineContentHtml=function(){return"<div class='oj-messaging-inline-container'></div>"},N.prototype._removeMessagingContentRootDom=function(){if(this._isMessagingContentRootDomInDocument()){this.RemoveAriaDescribedByForInlineMessaging(this.$messagingContentRoot[0]);let e=this.$messagingContentRoot[0].parentNode;e&&e.removeChild(this.$messagingContentRoot[0])}this.$messagingContentRoot=null},N.prototype._addAriaLive=function(e){t.Assert.assertPrototype(e,n),e[0].setAttribute("aria-live","polite")},N.prototype._buildInlineHtml=function(){var e;return this.ShowMessages()?(e=this.GetComponent().document[0],this._buildMessagesHtml(e)):""},N.prototype._buildMessagesHtml=function(e){var t,i,n="";return this.HasMessages()&&(i=this.GetMessages(),t=this.GetMaxSeverity(),n=H.buildMessagesHtml(e,i,t,!0)),n},N.prototype._isMessagingContentRootDomInDocument=function(){var e=!1;if(!this.$messagingContentRoot)return!1;{let t=this.$messagingContentRoot[0].id;e=document.getElementById(t)}return null!==e};const P=function(e,t){this.Init(e),this._parentElement=t};t.Object.createSubclass(P,t.MessagingStrategy,"InlineRequiredStrategy"),P.prototype.activate=function(e){P.superclass.activate.call(this,e),null==this.containerRoot&&this._createOrUpdateInlineRequired()},P.prototype.reactivate=function(e,t){P.superclass.reactivate.call(this,e),this._parentElement=t,this._isContainerRootDomInDocument()||this._createOrUpdateInlineRequired()},P.prototype.shouldUpdate=function(e){return!(!e||!("hasNoValueToggled"in e))},P.prototype.update=function(){this._createOrUpdateInlineRequired(),P.superclass.update.call(this)},P.prototype.deactivate=function(){this._removeInlineRequired();var e=this.GetComponent()._getRootElement();e.removeEventListener("requiredChanged",this._requiredChangedCallback),delete this._requiredChangedCallback,e.removeEventListener("focusout",this._focusoutCallback),delete this._focusoutCallback,this._parentElement=null,P.superclass.deactivate.call(this)},P.prototype._createOrUpdateInlineRequired=function(){var e=this.GetComponent();const t=e.options,i=e._getRootElement(),s=i.classList.contains("oj-has-no-value"),o=this._getRequiredInlineContainer();if(t.required&&s&&!o){this.containerRoot=document.createElement("div"),this.containerRoot.classList.add("oj-required-inline-container");let t=h.getTranslatedString("oj-ojEditableValue.requiredText");this.containerRoot.textContent=t,n(this.containerRoot).uniqueId(),this._parentElement.appendChild(this.containerRoot),e._AriaRequiredUnsupported()&&this.AddDescribedByToElement(i,this.containerRoot.id),this._focusoutCallback=this._focusoutHandler.bind(this,e),i.addEventListener("focusout",this._focusoutCallback)}t.required&&!s&&o&&this._removeInlineRequired(),this._requiredChangedCallback||(this._requiredChangedCallback=this._requiredChangedHandler.bind(this,e),i.addEventListener("requiredChanged",this._requiredChangedCallback))},P.prototype._removeInlineRequired=function(){const e=this.GetComponent();let t=this._getRequiredInlineContainer();t&&e._AriaRequiredUnsupported()&&this.RemoveDescribedByFromElement(e._getRootElement(),t.id),t&&this._parentElement&&(this._parentElement.removeChild(t),this.containerRoot=null)},P.prototype._getRequiredInlineContainer=function(){return this._parentElement.querySelector(".oj-required-inline-container")},P.prototype._requiredChangedHandler=function(e,t){let i=t.detail.value,n=this._getRequiredInlineContainer();const s=e._getRootElement().classList.contains("oj-has-no-value");i&&s&&null===n?this._createOrUpdateInlineRequired():i||null===n||this._removeInlineRequired()},P.prototype._focusoutHandler=function(e){const t=this._getRequiredInlineContainer(),i=e._getRootElement(),n=e.options.required,s=i.classList.contains("oj-has-no-value");if(n&&!s&&null!==t){let e="close",t=this._getDefaultAnimation().close;this._setBusyState();let i=this;C.startAnimation(this.containerRoot,"inline-required-"+e,t,this.GetComponent()).then(()=>{this._removeInlineRequired(),i._clearBusyState()})}},P.prototype._isContainerRootDomInDocument=function(){let e=!1;if(this.containerRoot){let t=this.containerRoot.id;e=document.getElementById(t)}return null!==e},P.prototype._getDefaultAnimation=function(){return P._defaultAnimation||(P._defaultAnimation={open:{effect:"fadeIn",duration:"200ms",timingFunction:"cubic-bezier(0.4,0,0.2,1)"},close:{effect:"fadeOut",duration:"200ms",timingFunction:"cubic-bezier(0.4,0,0.2,1)"}}),P._defaultAnimation},P.prototype._setBusyState=function(){if(!this._resolveBusyState){let e=this.GetComponent()._getRootElement(),t=r.getContext(e).getBusyContext(),i="The page is waiting for inline required ";e&&e.id&&(i+='for "'+e.id+'" '),i+="to open/close",this._resolveBusyState=t.addBusyState({description:i})}},P.prototype._clearBusyState=function(){this._resolveBusyState&&(this._resolveBusyState(),this._resolveBusyState=null)};var D=function(e){this.Init(e),this._displayOptions=e};t.ComponentMessaging.registerMessagingStrategy(t.ComponentMessaging._STRATEGY_TYPE.USER_ASSISTANCE_INLINE,D),t.Object.createSubclass(D,t.MessagingStrategy,"InlineUserAssistanceStrategy"),D.prototype.activate=function(e){D.superclass.activate.call(this,e),this._componentMessaging=e;const t=this.GetComponent(),i=t.options,n=t._getRootElement();this._readonlyChangedCallback=this._readonlyChangedHandler.bind(this,t),n.addEventListener("readonlyChanged",this._readonlyChangedCallback),this._disabledChangedCallback=this._disabledChangedHandler.bind(this,t),n.addEventListener("disabledChanged",this._disabledChangedCallback),this._userAssistanceDensityChangedCallback=this._userAssistanceDensityChangedHandler.bind(this,t),n.addEventListener("userAssistanceDensityChanged",this._userAssistanceDensityChangedCallback),null==this.containerRoot&&this._createInlineContainer(),this._isDisabledOrReadonly()||this._activateContainerStrategies(e,i)},D.prototype.reactivate=function(e){D.superclass.reactivate.call(this,e);const t=this.GetComponent().options;this._isDisabledOrReadonly(t)||(this._isContainerRootDomInDocument()||this._createInlineContainer(),this._inlineMessagingStrategy?(this._inlineMessagingStrategy.reactivate(e,this.containerRoot),this._inlineRequiredStrategy&&this._inlineRequiredStrategy.reactivate(e,this.containerRoot),this._inlineHelpHintsStrategy&&this._inlineHelpHintsStrategy.reactivate(e,this.containerRoot)):this._activateContainerStrategies(this._componentMessaging,t))},D.prototype.shouldUpdate=function(e){return!this._isDisabledOrReadonly()&&(this._shouldUpdateContent=e,!0)},D.prototype.update=function(){D.superclass.update.call(this),this._inlineMessagingStrategy&&(this._isDisabledOrReadonly()||(this._inlineMessagingStrategy.shouldUpdate(this._shouldUpdateContent)&&this._inlineMessagingStrategy.update(),this._inlineRequiredStrategy&&this._inlineRequiredStrategy.shouldUpdate(this._shouldUpdateContent)&&this._inlineRequiredStrategy.update(),this._inlineHelpHintsStrategy&&this._inlineHelpHintsStrategy.shouldUpdate(this._shouldUpdateContent)&&this._inlineHelpHintsStrategy.update()))},D.prototype.deactivate=function(){this._inlineMessagingStrategy.deactivate(),this._inlineRequiredStrategy&&this._inlineRequiredStrategy.deactivate(),this._inlineHelpHintsStrategy&&this._inlineHelpHintsStrategy.deactivate(),this._removeContainerRootDom(),delete this._inlineMessagingStrategy,delete this._inlineRequiredStrategy,delete this._inlineHelpHintsStrategy;const e=this.GetComponent()._getRootElement();e.removeEventListener("readonlyChanged",this._readonlyChangedCallback),delete this._readonlyChangedCallback,e.removeEventListener("disabledChanged",this._disabledChangedCallback),delete this._disabledChangedCallback,e.removeEventListener("userAssistanceDensityChanged",this._userAssistanceDensityChangedCallback),delete this._userAssistanceDensityChangedCallback,D.superclass.deactivate.call(this)},D.prototype._createInlineContainer=function(){this.containerRoot=document.createElement("div"),this.containerRoot.classList.add("oj-user-assistance-inline-container");const e=this.GetComponent(),t=e.options.userAssistanceDensity;"efficient"===t?this.containerRoot.classList.add("oj-efficient"):"reflow"===t&&this.containerRoot.classList.add("oj-reflow"),n(this.containerRoot).uniqueId(),e.widget()[0].appendChild(this.containerRoot)},D.prototype._removeContainerRootDom=function(){if(this._isContainerRootDomInDocument()){let e=this.containerRoot.parentNode;e&&e.removeChild(this.containerRoot)}this.containerRoot=null},D.prototype._isContainerRootDomInDocument=function(){var e=!1;if(this.containerRoot){let t=this.containerRoot.id;e=document.getElementById(t)}return null!==e},D.prototype._activateContainerStrategies=function(e,t){void 0===this._inlineMessagingStrategy&&(this._inlineMessagingStrategy=new N(this._displayOptions,this.containerRoot),this._inlineMessagingStrategy.activate(e)),void 0!==t.required&&void 0===this._inlineRequiredStrategy&&(this._inlineRequiredStrategy=new P(this._displayOptions,this.containerRoot),this._inlineRequiredStrategy.activate(e)),void 0===this._inlineHelpHintsStrategy&&(this._inlineHelpHintsStrategy=new M(this._displayOptions,this.containerRoot),this._inlineHelpHintsStrategy.activate(e))},D.prototype._userAssistanceDensityChangedHandler=function(e,t){let i=t.detail.value;const n="oj-reflow",s="oj-efficient";"efficient"===i?(this.containerRoot.classList.add(s),this.containerRoot.classList.remove(n)):"reflow"===i?(this.containerRoot.classList.add(n),this.containerRoot.classList.remove(s)):(this.containerRoot.classList.remove(s),this.containerRoot.classList.remove(n))},D.prototype._readonlyChangedHandler=function(e,t){if(t.detail.value)this._deactivateContainerStrategies();else{const t=e.options;this._activateContainerStrategies(this._componentMessaging,t)}},D.prototype._disabledChangedHandler=function(e,t){if(t.detail.value)this._deactivateContainerStrategies();else{const t=e.options;this._activateContainerStrategies(this._componentMessaging,t)}},D.prototype._deactivateContainerStrategies=function(){this._inlineMessagingStrategy&&this._inlineMessagingStrategy.deactivate(),this._inlineRequiredStrategy&&this._inlineRequiredStrategy.deactivate(),this._inlineHelpHintsStrategy&&this._inlineHelpHintsStrategy.deactivate(),delete this._inlineMessagingStrategy,delete this._inlineRequiredStrategy,delete this._inlineHelpHintsStrategy},D.prototype._isDisabledOrReadonly=function(e=this.GetComponent().options){var t=e.disabled||!1,i=e.readOnly||!1;return t||i};const G=function(e){this.Init(e)};t.ComponentMessaging.registerMessagingStrategy(t.ComponentMessaging._STRATEGY_TYPE.LABEL_EDGE_INSIDE_FORM_CNTRL,G),t.Object.createSubclass(G,y,"InsideFormControlLabelStrategy"),G.prototype.activate=function(e){G.superclass.activate.call(this,e),this._CreateLabel()},G.prototype.reactivate=function(e){G.superclass.reactivate.call(this,e),this._DestroyLabel(),this._CreateLabel()},G.prototype.shouldUpdate=function(){return!1},G.prototype.update=function(){G.superclass.update.call(this)},G.prototype.deactivate=function(){this._DestroyLabel(),G.superclass.deactivate.call(this)},G.prototype._GetFormControlLabelStyleClass=function(){return"oj-form-control-label-inside"},G.prototype._InsertOjLabel=function(e,t,i){let n=i._getRootElement();n.insertBefore(e,n.firstElementChild)},G.prototype._CreateEventHandlers=function(e,t,i,n){G.superclass._CreateEventHandlers.call(this,e,t,i,n)},G._labelHintChangedHandler=function(e,t){e.textContent=t.detail.value};const j=function(e){this.Init(e)};t.Object.createSubclass(j,t.MessagingStrategy,"oj.InsideLabelPlaceholderStrategy"),j.prototype.activate=function(e){j.superclass.activate.call(this,e),this._createPlaceholderToggle()},j.prototype.reactivate=function(e){j.superclass.reactivate.call(this,e),this._destroyPlaceholderToggle(),this._createPlaceholderToggle()},j.prototype.deactivate=function(){this._destroyPlaceholderToggle(),j.superclass.deactivate.call(this)},j.prototype.shouldUpdate=function(e){return e&&void 0!==e.converterHint||this.GetComponent().options.placeholder},j.prototype.update=function(){j.superclass.update.call(this),this._placeholderChanged()},j.prototype._destroyPlaceholderToggle=function(){var e=this.GetComponent(),t=e._GetContentElement()[0],i=e._getRootElement();this._blurCallback(),t.removeEventListener("focusout",this._blurCallback,!1),delete this._blurCallback,t.removeEventListener("focusin",this._focusCallback,!1),delete this._focusCallback,i.removeEventListener("placeholderChanged",this._placeholderChangedCallback,!1),delete this._placeholderChangedCallback,e._HasPlaceholderSet()&&(e._SetPlaceholder(e.options.placeholder),e._customPlaceholderSet=!0)},j.prototype._createPlaceholderToggle=function(){var e=this.GetComponent(),t=e._GetContentElement()[0],i=e._getRootElement();e._customPlaceholderSet=!0,this._blurCallback=j._blurHandler.bind(this,t),t.addEventListener("focusout",this._blurCallback,!1),this._focusCallback=j._focusHandler.bind(this),t.addEventListener("focusin",this._focusCallback,!1),this._placeholderChangedCallback=this._placeholderChanged.bind(this),i.addEventListener("placeholderChanged",this._placeholderChangedCallback,!1),this._placeholderChanged()},j.prototype._placeholderChanged=function(){var e,t=this.GetComponent()._GetContentElement()[0];e=a.containsFocus(t)?this._focusCallback:this._blurCallback,Promise.resolve(!0).then(function(){e()})},j.ShowConverterHintAsPlaceholder=function(e){var t=e.options.displayOptions;if(!t||"displayOptions"!==e._getResolvedUserAssistance())return!1;var i=t.converterHint;return i instanceof Array?"placeholder"===i[0]:"placeholder"===i},j._focusHandler=function(){var e,t=this.GetComponent();if(j.ShowConverterHintAsPlaceholder(t)){var i=this.GetConverterHint();e=i.length>0?i[0]:null}e||(e=t.options.placeholder),t._SetPlaceholder(e)},j._blurHandler=function(e){if(e.hasAttribute("aria-haspopup")){var t=e.getAttribute("aria-owns"),i=document.getElementById(t);if(a.containsFocus(i))return}var n,s=this.GetComponent();if(j.ShowConverterHintAsPlaceholder(s)){var o=this.GetConverterHint();n=o.length>0?o[0]:null}n||(n=s.options.placeholder),null==n?s._SetPlaceholder(null):s._SetPlaceholder("")};const w=function(e){this.Init(e),this._displayOptions=e};t.ComponentMessaging.registerMessagingStrategy(t.ComponentMessaging._STRATEGY_TYPE.LABEL_EDGE_INSIDE,w),t.Object.createSubclass(w,y,"oj.InsideLabelStrategy"),w.prototype.activate=function(e){w.superclass.activate.call(this,e),this._componentMessaging=e;const t=this.GetComponent()._getRootElement();this._placeholderChangedCallback=this._placeholderChangedHandler.bind(this),t.addEventListener("placeholderChanged",this._placeholderChangedCallback),this._activatePlaceholderStrategyIfNeeded(e),this._CreateLabel()},w.prototype.reactivate=function(e){w.superclass.reactivate.call(this,e),this._DestroyLabel(),this._CreateLabel(),this._placeholderStrategy?this._placeholderStrategy.reactivate(e):this._activatePlaceholderStrategyIfNeeded(this._componentMessaging)},w.prototype.shouldUpdate=function(e){return!!this._placeholderStrategy&&this._placeholderStrategy.shouldUpdate(e)},w.prototype.update=function(){this._placeholderStrategy&&this._placeholderStrategy.update()},w.prototype.deactivate=function(){this._placeholderStrategy&&(this._placeholderStrategy.deactivate(),delete this._placeholderStrategy);this.GetComponent()._getRootElement().removeEventListener("placeholderChanged",this._placeholderChangedCallback),delete this._placeholderChangedCallback,this._DestroyLabel(),w.superclass.deactivate.call(this)},w.prototype._activatePlaceholderStrategyIfNeeded=function(e){if(void 0===this._placeholderStrategy){let t=()=>{let t=j;this._placeholderStrategy=new t(this._displayOptions),this._placeholderStrategy.activate(e)};const i=this.GetComponent();(i.options.placeholder||"displayOptions"===i._getResolvedUserAssistance()&&j.ShowConverterHintAsPlaceholder(i))&&t()}},w.prototype._placeholderChangedHandler=function(){this._activatePlaceholderStrategyIfNeeded(this._componentMessaging)},w.prototype._GetContainer=function(e){let t=e._GetFormControlContainer();if(!t)return null;let i="_GetContentWrapper";return e[i]&&(t=e[i]()),t},w.prototype._GetFormControlLabelStyleClass=function(){return[w._BASE_STYLE_CLASS,"label","inside".toLowerCase()].join("-")},w.prototype._InsertOjLabel=function(e,t){t.insertBefore(e,t.firstElementChild)},w._BASE_STYLE_CLASS="oj-text-field",e.EditableValueUtils=E,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojeditablevalue.js.map;
!function(e){"use strict";"function"==typeof define&&define.amd?define('jqueryui-amd/ie',["jquery","./version"],e):e(jQuery)}((function(e){"use strict";return e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())}));
/*!
 * jQuery UI Mouse 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(e){"use strict";"function"==typeof define&&define.amd?define('jqueryui-amd/widgets/mouse',["jquery","../ie","../version","../widget"],e):e(jQuery)}((function(e){"use strict";var t=!1;return e(document).on("mouseup",(function(){t=!1})),e.widget("ui.mouse",{version:"1.13.2",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,(function(e){return t._mouseDown(e)})).on("click."+this.widgetName,(function(i){if(!0===e.data(i.target,t.widgetName+".preventClickEvent"))return e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1})),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!t){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var s=this,o=1===i.which,n=!("string"!=typeof this.options.cancel||!i.target.nodeName)&&e(i.target).closest(this.options.cancel).length;return!(o&&!n&&this._mouseCapture(i))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout((function(){s.mouseDelayMet=!0}),this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=!1!==this._mouseStart(i),!this._mouseStarted)?(i.preventDefault(),!0):(!0===e.data(i.target,this.widgetName+".preventClickEvent")&&e.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return s._mouseMove(e)},this._mouseUpDelegate=function(e){return s._mouseUp(e)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),t=!0,!0))}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(i){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,i.target===this._mouseDownEvent.target&&e.data(i.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(i)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,t=!1,i.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}));
/*!
 * jQuery UI :data 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(e){"use strict";"function"==typeof define&&define.amd?define('jqueryui-amd/data',["jquery","./version"],e):e(jQuery)}((function(e){"use strict";return e.extend(e.expr.pseudos,{data:e.expr.createPseudo?e.expr.createPseudo((function(n){return function(t){return!!e.data(t,n)}})):function(n,t,r){return!!e.data(n,r[3])}})}));
!function(e){"use strict";"function"==typeof define&&define.amd?define('jqueryui-amd/plugin',["jquery","./version"],e):e(jQuery)}((function(e){"use strict";return e.ui.plugin={add:function(n,i,t){var u,o=e.ui[n].prototype;for(u in t)o.plugins[u]=o.plugins[u]||[],o.plugins[u].push([i,t[u]])},call:function(e,n,i,t){var u,o=e.plugins[n];if(o&&(t||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(u=0;u<o.length;u++)e.options[o[u][0]]&&o[u][1].apply(e.element,i)}}}));
!function(e){"use strict";"function"==typeof define&&define.amd?define('jqueryui-amd/safe-active-element',["jquery","./version"],e):e(jQuery)}((function(e){"use strict";return e.ui.safeActiveElement=function(e){var n;try{n=e.activeElement}catch(t){n=e.body}return n||(n=e.body),n.nodeName||(n=e.body),n}}));
!function(e){"use strict";"function"==typeof define&&define.amd?define('jqueryui-amd/safe-blur',["jquery","./version"],e):e(jQuery)}((function(e){"use strict";return e.ui.safeBlur=function(n){n&&"body"!==n.nodeName.toLowerCase()&&e(n).trigger("blur")}}));
/*!
 * jQuery UI Scroll Parent 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(t){"use strict";"function"==typeof define&&define.amd?define('jqueryui-amd/scroll-parent',["jquery","./version"],t):t(jQuery)}((function(t){"use strict";return t.fn.scrollParent=function(e){var s=this.css("position"),n="absolute"===s,o=e?/(auto|scroll|hidden)/:/(auto|scroll)/,i=this.parents().filter((function(){var e=t(this);return(!n||"static"!==e.css("position"))&&o.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))})).eq(0);return"fixed"!==s&&i.length?i:t(this[0].ownerDocument||document)}}));
/*!
 * jQuery UI Draggable 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(t){"use strict";"function"==typeof define&&define.amd?define('jqueryui-amd/widgets/draggable',["jquery","./mouse","../data","../plugin","../safe-active-element","../safe-blur","../scroll-parent","../version","../widget"],t):t(jQuery)}((function(t){"use strict";return t.widget("ui.draggable",t.ui.mouse,{version:"1.13.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(e){var s=this.options;return!(this.helper||s.disabled||t(e.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(e),!!this.handle&&(this._blurActiveElement(e),this._blockFrames(!0===s.iframeFix?"iframe":s.iframeFix),!0))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map((function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]}))},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var s=t.ui.safeActiveElement(this.document[0]);t(e.target).closest(s).length||t.ui.safeBlur(s)},_mouseStart:function(e){var s=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter((function(){return"fixed"===t(this).css("position")})).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,s){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!s){var i=this._uiHash();if(!1===this._trigger("drag",e,i))return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var s=this,i=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(i=t.ui.ddmanager.drop(this,e)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||!0===this.options.revert||"function"==typeof this.options.revert&&this.options.revert.call(this.element,i)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),(function(){!1!==s._trigger("stop",e)&&s._clear()})):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var s=this.options,i="function"==typeof s.helper,o=i?t(s.helper.apply(this.element[0],[e])):"clone"===s.helper?this.element.clone().removeAttr("id"):this.element;return o.parents("body").length||o.appendTo("parent"===s.appendTo?this.element[0].parentNode:s.appendTo),i&&o[0]===this.element[0]&&this._setPositionRelative(),o[0]===this.element[0]||/(fixed|absolute)/.test(o.css("position"))||o.css("position","absolute"),o},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),Array.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),s=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==s&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,s,i,o=this.options,n=this.document[0];this.relativeContainer=null,o.containment?"window"!==o.containment?"document"!==o.containment?o.containment.constructor!==Array?("parent"===o.containment&&(o.containment=this.helper[0].parentNode),(i=(s=t(o.containment))[0])&&(e=/(scroll|auto)/.test(s.css("overflow")),this.containment=[(parseInt(s.css("borderLeftWidth"),10)||0)+(parseInt(s.css("paddingLeft"),10)||0),(parseInt(s.css("borderTopWidth"),10)||0)+(parseInt(s.css("paddingTop"),10)||0),(e?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(s.css("borderRightWidth"),10)||0)-(parseInt(s.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(s.css("borderBottomWidth"),10)||0)-(parseInt(s.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=s)):this.containment=o.containment:this.containment=[0,0,t(n).width()-this.helperProportions.width-this.margins.left,(t(n).height()||n.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||n.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(t,e){e||(e=this.position);var s="absolute"===t?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*s,left:e.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*s}},_generatePosition:function(t,e){var s,i,o,n,r=this.options,l=this._isRootNode(this.scrollParent[0]),a=t.pageX,h=t.pageY;return l&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),s=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):s=this.containment,t.pageX-this.offset.click.left<s[0]&&(a=s[0]+this.offset.click.left),t.pageY-this.offset.click.top<s[1]&&(h=s[1]+this.offset.click.top),t.pageX-this.offset.click.left>s[2]&&(a=s[2]+this.offset.click.left),t.pageY-this.offset.click.top>s[3]&&(h=s[3]+this.offset.click.top)),r.grid&&(o=r.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,h=s?o-this.offset.click.top>=s[1]||o-this.offset.click.top>s[3]?o:o-this.offset.click.top>=s[1]?o-r.grid[1]:o+r.grid[1]:o,n=r.grid[0]?this.originalPageX+Math.round((a-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,a=s?n-this.offset.click.left>=s[0]||n-this.offset.click.left>s[2]?n:n-this.offset.click.left>=s[0]?n-r.grid[0]:n+r.grid[0]:n),"y"===r.axis&&(a=this.originalPageX),"x"===r.axis&&(h=this.originalPageY)),{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:l?0:this.offset.scroll.top),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:l?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,s,i){return i=i||this._uiHash(),t.ui.plugin.call(this,e,[s,i,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,s,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,s,i){var o=t.extend({},s,{item:i.element});i.sortables=[],t(i.options.connectToSortable).each((function(){var s=t(this).sortable("instance");s&&!s.options.disabled&&(i.sortables.push(s),s.refreshPositions(),s._trigger("activate",e,o))}))},stop:function(e,s,i){var o=t.extend({},s,{item:i.element});i.cancelHelperRemoval=!1,t.each(i.sortables,(function(){var t=this;t.isOver?(t.isOver=0,i.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,o))}))},drag:function(e,s,i){t.each(i.sortables,(function(){var o=!1,n=this;n.positionAbs=i.positionAbs,n.helperProportions=i.helperProportions,n.offset.click=i.offset.click,n._intersectsWith(n.containerCache)&&(o=!0,t.each(i.sortables,(function(){return this.positionAbs=i.positionAbs,this.helperProportions=i.helperProportions,this.offset.click=i.offset.click,this!==n&&this._intersectsWith(this.containerCache)&&t.contains(n.element[0],this.element[0])&&(o=!1),o}))),o?(n.isOver||(n.isOver=1,i._parent=s.helper.parent(),n.currentItem=s.helper.appendTo(n.element).data("ui-sortable-item",!0),n.options._helper=n.options.helper,n.options.helper=function(){return s.helper[0]},e.target=n.currentItem[0],n._mouseCapture(e,!0),n._mouseStart(e,!0,!0),n.offset.click.top=i.offset.click.top,n.offset.click.left=i.offset.click.left,n.offset.parent.left-=i.offset.parent.left-n.offset.parent.left,n.offset.parent.top-=i.offset.parent.top-n.offset.parent.top,i._trigger("toSortable",e),i.dropped=n.element,t.each(i.sortables,(function(){this.refreshPositions()})),i.currentItem=i.element,n.fromOutside=i),n.currentItem&&(n._mouseDrag(e),s.position=n.position)):n.isOver&&(n.isOver=0,n.cancelHelperRemoval=!0,n.options._revert=n.options.revert,n.options.revert=!1,n._trigger("out",e,n._uiHash(n)),n._mouseStop(e,!0),n.options.revert=n.options._revert,n.options.helper=n.options._helper,n.placeholder&&n.placeholder.remove(),s.helper.appendTo(i._parent),i._refreshOffsets(e),s.position=i._generatePosition(e,!0),i._trigger("fromSortable",e),i.dropped=!1,t.each(i.sortables,(function(){this.refreshPositions()})))}))}}),t.ui.plugin.add("draggable","cursor",{start:function(e,s,i){var o=t("body"),n=i.options;o.css("cursor")&&(n._cursor=o.css("cursor")),o.css("cursor",n.cursor)},stop:function(e,s,i){var o=i.options;o._cursor&&t("body").css("cursor",o._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,s,i){var o=t(s.helper),n=i.options;o.css("opacity")&&(n._opacity=o.css("opacity")),o.css("opacity",n.opacity)},stop:function(e,s,i){var o=i.options;o._opacity&&t(s.helper).css("opacity",o._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,s){s.scrollParentNotHidden||(s.scrollParentNotHidden=s.helper.scrollParent(!1)),s.scrollParentNotHidden[0]!==s.document[0]&&"HTML"!==s.scrollParentNotHidden[0].tagName&&(s.overflowOffset=s.scrollParentNotHidden.offset())},drag:function(e,s,i){var o=i.options,n=!1,r=i.scrollParentNotHidden[0],l=i.document[0];r!==l&&"HTML"!==r.tagName?(o.axis&&"x"===o.axis||(i.overflowOffset.top+r.offsetHeight-e.pageY<o.scrollSensitivity?r.scrollTop=n=r.scrollTop+o.scrollSpeed:e.pageY-i.overflowOffset.top<o.scrollSensitivity&&(r.scrollTop=n=r.scrollTop-o.scrollSpeed)),o.axis&&"y"===o.axis||(i.overflowOffset.left+r.offsetWidth-e.pageX<o.scrollSensitivity?r.scrollLeft=n=r.scrollLeft+o.scrollSpeed:e.pageX-i.overflowOffset.left<o.scrollSensitivity&&(r.scrollLeft=n=r.scrollLeft-o.scrollSpeed))):(o.axis&&"x"===o.axis||(e.pageY-t(l).scrollTop()<o.scrollSensitivity?n=t(l).scrollTop(t(l).scrollTop()-o.scrollSpeed):t(window).height()-(e.pageY-t(l).scrollTop())<o.scrollSensitivity&&(n=t(l).scrollTop(t(l).scrollTop()+o.scrollSpeed))),o.axis&&"y"===o.axis||(e.pageX-t(l).scrollLeft()<o.scrollSensitivity?n=t(l).scrollLeft(t(l).scrollLeft()-o.scrollSpeed):t(window).width()-(e.pageX-t(l).scrollLeft())<o.scrollSensitivity&&(n=t(l).scrollLeft(t(l).scrollLeft()+o.scrollSpeed)))),!1!==n&&t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,s,i){var o=i.options;i.snapElements=[],t(o.snap.constructor!==String?o.snap.items||":data(ui-draggable)":o.snap).each((function(){var e=t(this),s=e.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:s.top,left:s.left})}))},drag:function(e,s,i){var o,n,r,l,a,h,p,c,f,d,g=i.options,u=g.snapTolerance,m=s.offset.left,v=m+i.helperProportions.width,_=s.offset.top,P=_+i.helperProportions.height;for(f=i.snapElements.length-1;f>=0;f--)h=(a=i.snapElements[f].left-i.margins.left)+i.snapElements[f].width,c=(p=i.snapElements[f].top-i.margins.top)+i.snapElements[f].height,v<a-u||m>h+u||P<p-u||_>c+u||!t.contains(i.snapElements[f].item.ownerDocument,i.snapElements[f].item)?(i.snapElements[f].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[f].item})),i.snapElements[f].snapping=!1):("inner"!==g.snapMode&&(o=Math.abs(p-P)<=u,n=Math.abs(c-_)<=u,r=Math.abs(a-v)<=u,l=Math.abs(h-m)<=u,o&&(s.position.top=i._convertPositionTo("relative",{top:p-i.helperProportions.height,left:0}).top),n&&(s.position.top=i._convertPositionTo("relative",{top:c,left:0}).top),r&&(s.position.left=i._convertPositionTo("relative",{top:0,left:a-i.helperProportions.width}).left),l&&(s.position.left=i._convertPositionTo("relative",{top:0,left:h}).left)),d=o||n||r||l,"outer"!==g.snapMode&&(o=Math.abs(p-_)<=u,n=Math.abs(c-P)<=u,r=Math.abs(a-m)<=u,l=Math.abs(h-v)<=u,o&&(s.position.top=i._convertPositionTo("relative",{top:p,left:0}).top),n&&(s.position.top=i._convertPositionTo("relative",{top:c-i.helperProportions.height,left:0}).top),r&&(s.position.left=i._convertPositionTo("relative",{top:0,left:a}).left),l&&(s.position.left=i._convertPositionTo("relative",{top:0,left:h-i.helperProportions.width}).left)),!i.snapElements[f].snapping&&(o||n||r||l||d)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[f].item})),i.snapElements[f].snapping=o||n||r||l||d)}}),t.ui.plugin.add("draggable","stack",{start:function(e,s,i){var o,n=i.options,r=t.makeArray(t(n.stack)).sort((function(e,s){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(s).css("zIndex"),10)||0)}));r.length&&(o=parseInt(t(r[0]).css("zIndex"),10)||0,t(r).each((function(e){t(this).css("zIndex",o+e)})),this.css("zIndex",o+r.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,s,i){var o=t(s.helper),n=i.options;o.css("zIndex")&&(n._zIndex=o.css("zIndex")),o.css("zIndex",n.zIndex)},stop:function(e,s,i){var o=i.options;o._zIndex&&t(s.helper).css("zIndex",o._zIndex)}}),t.ui.draggable}));
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojtouchproxy',["jquery","ojs/ojcore-base"],function(t,e){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;const o=function(t){this._init(t)};e._registerLegacyNamespaceProp("_TouchProxy",o),o.prototype._init=function(e){this._elem=e,this._touchHandled=!1,this._touchMoved=!1,this._touchStartHandler=t.proxy(this._touchStart,this),this._touchEndHandler=t.proxy(this._touchEnd,this),this._touchMoveHandler=t.proxy(this._touchMove,this),this._elem.on({touchend:this._touchEndHandler,touchcancel:this._touchEndHandler}),this._elem[0].addEventListener("touchstart",this._touchStartHandler,{passive:!0}),this._elem[0].addEventListener("touchmove",this._touchMoveHandler,{passive:!1})},o.prototype._destroy=function(){this._elem&&this._touchStartHandler&&(this._elem.off({touchend:this._touchEndHandler,touchcancel:this._touchEndHandler}),this._elem[0].removeEventListener("touchstart",this._touchStartHandler,{passive:!0}),this._elem[0].removeEventListener("touchmove",this._touchMoveHandler,{passive:!1}),this._touchStartHandler=void 0,this._touchEndHandler=void 0,this._touchMoveHandler=void 0)},o.prototype._touchHandler=function(t,e){if(!(t.originalEvent.touches.length>1)){"touchstart"!==t.type&&"touchend"!==t.type&&t.preventDefault();var o=t.originalEvent.changedTouches[0],h=document.createEvent("MouseEvent");h.initMouseEvent(e,!0,!0,window,1,o.screenX,o.screenY,o.clientX,o.clientY,!1,!1,!1,!1,0,null),o.target.dispatchEvent(h)}},o.prototype._touchStart=function(e){this._touchHandled||(this._touchHandled=!0,this._touchMoved=!1,e=t.Event(e),this._touchHandler(e,"mouseover"),this._touchHandler(e,"mousemove"),this._touchHandler(e,"mousedown"))},o.prototype._touchMove=function(e){this._touchHandled&&(this._touchMoved=!0,e=t.Event(e),this._touchHandler(e,"mousemove"))},o.prototype._touchEnd=function(t){this._touchHandled&&(this._touchHandler(t,"mouseup"),this._touchHandler(t,"mouseout"),this._touchMoved||"touchend"!==t.type||this._touchHandler(t,"click"),this._touchHandled=!1)},o._TOUCH_PROXY_KEY="_ojTouchProxy",o.prototype.touchMoved=function(){return this._touchMoved},o.addTouchListeners=function(e){var h=t(e),n=h.data(o._TOUCH_PROXY_KEY);return n||(n=new o(h),h.data(o._TOUCH_PROXY_KEY,n)),n},o.removeTouchListeners=function(e){var h=t(e),n=h.data(o._TOUCH_PROXY_KEY);n&&(n._destroy(),h.removeData(o._TOUCH_PROXY_KEY))}});
//# sourceMappingURL=ojtouchproxy.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojslider',["ojs/ojcore","ojs/ojeditablevalue","jqueryui-amd/widgets/draggable","ojs/ojtouchproxy","ojs/ojcore-base","jquery","ojs/ojtranslation","ojs/ojdomutils"],function(t,e,i,s,a,n,r,l){"use strict";a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n,function(){var t={properties:{readonly:{binding:{consume:{name:"readonly"}}},userAssistanceDensity:{binding:{consume:{name:"userAssistanceDensity"}}},labelEdge:{binding:{consume:{name:"labelEdge"}}}}},e={properties:{describedBy:{type:"string"},disabled:{type:"boolean",value:!1},displayOptions:{type:"object",properties:{converterHint:{type:"Array<string>|string"},helpInstruction:{type:"Array<string>|string",value:["notewindow"]},messages:{type:"Array<string>|string"},validatorHint:{type:"Array<string>|string"}}},help:{type:"object",properties:{instruction:{type:"string",value:""}}},helpHints:{type:"object",properties:{definition:{type:"string",value:""},source:{type:"string",value:""}}},labelEdge:{type:"string",enumValues:["inside","none","provided"]},labelHint:{type:"string",value:""},labelledBy:{type:"string"},max:{type:"number",value:100},messagesCustom:{type:"Array<Object>",writeback:!0,value:[]},min:{type:"number",value:0},orientation:{type:"string",enumValues:["horizontal","vertical"],value:"horizontal"},step:{type:"number",value:1},transientValue:{type:"number",writeback:!0,readOnly:!0},translations:{type:"object",value:{},properties:{invalidStep:{type:"string"},maxMin:{type:"string"},noValue:{type:"string"},optionNum:{type:"string"},valueRange:{type:"string"}}},type:{type:"string",enumValues:["fromMax","fromMin","single"],value:"fromMin"},userAssistanceDensity:{type:"string",enumValues:["compact","efficient","reflow"],value:"reflow"},valid:{type:"string",writeback:!0,enumValues:["invalidHidden","invalidShown","pending","valid"],readOnly:!0},value:{type:"number",writeback:!0,value:0}},methods:{getProperty:{},refresh:{},reset:{},setProperties:{},setProperty:{},showMessages:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAnimateEnd:{},ojAnimateStart:{}},extension:{}};e.extension._WIDGET_NAME="ojSlider",e.extension._INNER_ELEM="input",a.CustomElementBridge.register("oj-slider",{metadata:a.CollectionUtils.mergeDeep(e,t)});var i={properties:{describedBy:{type:"string"},disabled:{type:"boolean",value:!1},displayOptions:{type:"object",properties:{converterHint:{type:"Array<string>|string"},helpInstruction:{type:"Array<string>|string",value:["notewindow"]},messages:{type:"Array<string>|string"},validatorHint:{type:"Array<string>|string"}}},help:{type:"object",properties:{instruction:{type:"string",value:""}}},helpHints:{type:"object",properties:{definition:{type:"string",value:""},source:{type:"string",value:""}}},labelEdge:{type:"string",enumValues:["inside","none","provided"]},labelHint:{type:"string",value:""},labelledBy:{type:"string"},max:{type:"number",value:100},messagesCustom:{type:"Array<Object>",writeback:!0,value:[]},min:{type:"number",value:0},orientation:{type:"string",enumValues:["horizontal","vertical"],value:"horizontal"},step:{type:"number",value:1},transientValue:{type:"object",writeback:!0,readOnly:!0,properties:{end:{type:"number"},start:{type:"number"}}},translations:{type:"object",value:{},properties:{higherValueThumb:{type:"string"},lowerValueThumb:{type:"string"},startEnd:{type:"string"}}},userAssistanceDensity:{type:"string",enumValues:["compact","efficient","reflow"],value:"reflow"},valid:{type:"string",writeback:!0,enumValues:["invalidHidden","invalidShown","pending","valid"],readOnly:!0},value:{type:"object",writeback:!0,properties:{end:{type:"number"},start:{type:"number"}}}},methods:{getProperty:{},refresh:{},reset:{},setProperties:{},setProperty:{},showMessages:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAnimateEnd:{},ojAnimateStart:{}},extension:{}};i.extension._WIDGET_NAME="ojSlider",i.extension._INNER_ELEM="input",a.CustomElementBridge.register("oj-range-slider",{metadata:a.CollectionUtils.mergeDeep(i,t)})}();const u=".oj-slider-thumb",h="aria-label",o="aria-labelledby",_="oj-slider-thumb-index",d="<div></div>",m="oj-slider-bar",p="oj-slider-bar-value",c=".ui-draggable";a.__registerWidget("oj.ojSlider",n.oj.editableValue,{defaultElement:"<input>",version:"1.0.1",widgetEventPrefix:"oj",options:{labelledBy:null,max:100,min:0,orientation:"horizontal",readOnly:!1,disabled:!1,step:1,type:"fromMin",value:0,rawValue:void 0},_numPages:5,_defaultElementId:null,_sliderDisplayValue:null,_isRTL:function(){return"rtl"===l.getReadingDirection()},_ComponentCreate:function(){if(this._super(),this._inputtag=!1,this.element.is("INPUT"))if(this._inputtag=!0,this.element[0].style&&(this._styleFromInputTag=this.element[0].style.cssText),this._inputElementOriginalDisplay=this.element[0].style.display,this.element[0].style.display="none",this.OuterWrapper)this._elementWrapped=n(this.OuterWrapper);else{var t=n(this.element).wrap("<div> </div>");this._elementWrapped=t.parent()}else this._elementWrapped=this.element;this._transientValueName=this._IsCustomElement()?"transientValue":"rawValue",this._componentCreateStyling(),this._componentSetup()},_SetRawValue:function(t,e){var i={_context:{originalEvent:e,writeback:!0,internalSet:!0,readOnly:!0}};a.Object.compareValues(this.options[this._transientValueName],t)||this.option(this._transientValueName,t,i)},_componentCreateStyling:function(){this._elementWrapped[0].classList.add("oj-slider","oj-component","oj-form-control"),this._setOrientationStyles(!0)},_setOrientationStyles:function(t){var e=this._elementWrapped[0];this._isVertical()?(t||e.classList.remove("oj-slider-horizontal"),e.classList.add("oj-slider-vertical")):(t||e.classList.remove("oj-slider-vertical"),e.classList.add("oj-slider-horizontal"))},_componentSetup:function(){this._newMultiValue=[],this._thumbIndex=null,this._isCustomRangeSlider()&&(this.options.type="range","number"==typeof this.options.value&&(this.options.value={start:null,end:null})),"range"===this.options.type?this._multipleThumbs=!0:this._multipleThumbs=!1,this._calculateNewMax(),this._createSliderContainer(),this._createBarBackground(),this._buildValueOption(),this._createRange(),this._createThumbs(),this._updateUI(),this._setupEvents()},_copyLabelledbyToThumb:function(t){var e,i=this._elementWrapped.find(u);if(this._isCustomRangeSlider()){var s=document.getElementById(t),a=s?s.textContent:"",l=r.getTranslatedString("oj-ojSlider.lowerValueThumb"),_=r.getTranslatedString("oj-ojSlider.higherValueThumb");i.attr(h,a+" "+l),e=i[1],n(e).attr(h,a+" "+_)}else i.attr(o,t),i.length>1&&(e=i[1],n(e).attr(o,String(t)))},_setAriaLabelToThumb:function(t){var e;if(this._isCustomRangeSlider()){var i=r.getTranslatedString("oj-ojSlider.lowerValueThumb"),s=r.getTranslatedString("oj-ojSlider.higherValueThumb");(e=this._elementWrapped.find(u)).attr(h,t+" "+i);var a=e[1];n(a).attr(h,t+" "+s)}else(e=this.OuterWrapper.querySelector(u)).setAttribute(h,t)},_AfterCreate:function(){this._super(),this._makeDraggable(),this._setAriaInfo()},_setAriaInfo:function(){var t,i,s;if(this.OuterWrapper){if(this.options.labelledBy){var a=this.uuid+"_Label";s=e.EditableValueUtils._getOjLabelAriaLabelledBy(this.options.labelledBy,a),this._copyLabelledbyToThumb(s)}this.options.labelledBy&&!document.getElementById(this.options.labelledBy)||(t=this.OuterWrapper.getAttribute(h))&&this._setAriaLabelToThumb(t)}else if(i=this._GetLabelElementLocal()){var n=i.attr("id");n||(n=i.attr("for")),n.length>0&&this._copyLabelledbyToThumb(n)}else(t=this.element.attr(h))&&this._elementWrapped.find(u).attr(h,t)},_GetLabelElementLocal:function(){var t=this._getAriaLabelledByElementLocal();return null!==t&&0!==t.length||null!==(t=this._getAriaLabelForElementLocal())&&0!==t.length?t:null},_getAriaLabelForElementLocal:function(){var t;if(void 0!==(t=this.element.prop("id"))){var e=n("label[for='"+t+"']");if(e.length>0)return e;var i="span[for='"+t+"']";if(0!==n(i).length)return n(i)}return null},_getAriaLabelledByElementLocal:function(){var t=this.element.attr(o);if(void 0===t&&this.OuterWrapper){var e=this._elementWrapped.attr(o);if(e&&null!==document.getElementById(e))return n(document.getElementById(e))}if(void 0!==t){var i=n("label[id='"+t+"']");if(i.length>0)return i;var s=n("span[id='"+t+"']");if(s.length>0)return s}return null},widget:function(){return this._elementWrapped},_SetDisplayValue:function(t){this._sliderDisplayValue=t},_GetDisplayValue:function(){return this._sliderDisplayValue},_getElementId:function(){return this.OuterWrapper?(this._elementWrapped[0].id||this._elementWrapped.uniqueId(),this._elementWrapped[0].id):(this.element[0].id||this.element.uniqueId(),this.element[0].id)},_getThumbId:function(t){return this._getElementId()+"-thumb"+t},_getBarValueId:function(){return this._getElementId()+"-barValue"},_getBarBackgroundId:function(){return this._getElementId()+"-barBack"},_getSliderWrapperId:function(){return this._getElementId()+"-sliderWrapper"},_createThumbs:function(){var t,e,i="",s="class='oj-slider-thumb ui-state-default' tabindex='0' role='slider'aria-valuemin = '"+this._valueMin()+"' aria-valuemax = '"+this._valueMax()+"' ></span>",a=[];for(e=this._multipleThumbs?2:1,t=0;t<e;t++)i="<span id='"+this._getThumbId(t)+"' "+s,a.push(i);this._thumbs=n(a.join("")).appendTo(this._sliderContainer),this._thumb=this._thumbs.eq(0),this._refreshThumbOptions()},_refreshThumbOptions:function(){var t=this,e=0;this._thumbs.each(function(){n(this).data(_,e),e+=1,t._isVertical()&&n(this).attr("aria-orientation","vertical"),t.options.disabled?(n(this).attr("aria-disabled","true"),n(this).removeAttr("tabindex")):(n(this).removeAttr("aria-disabled"),n(this).attr("tabindex","0")),t.options.readOnly?n(this).attr("title","read only"):n(this).removeAttr("title")})},_createSliderContainer:function(){var t=this._getSliderWrapperId(),e=this._elementWrapped.find("#"+t);e.length&&e.remove(),this._sliderContainer=n(d),n(this._sliderContainer).attr("id",t),this._sliderContainer.addClass("oj-slider-container").addClass("oj-form-control-container"),this.element.after(this._sliderContainer),this._sliderContainer[0].style.cssText=this._styleFromInputTag},_createBarBackground:function(){var t=this._getBarBackgroundId(),e=this._elementWrapped.find("#"+t);e.length&&e.remove(),this._barback=n(d),n(this._barback).attr("id",t),this._barback.addClass("oj-slider-bar"),this._sliderContainer.append(this._barback),this._barback.on("mousedown"+this.eventNamespace,this._reposition.bind(this))},_reposition:function(t){this._repositionThumb(t),this._mouseStop(t),this._getActiveThumb().focus()},_buildValueOption:function(){var t=this.options;if(this._isCustomRangeSlider())null===t.value?this.options.value={start:this._valueMin(),end:this._valueMax()}:(null!==t.value.start&&void 0!==t.value.start||(this.options.value.start=this._valueMin()),null!==t.value.end&&void 0!==t.value.end||(this.options.value.end=this._valueMax()),this.option("value",this.options.value,{_context:{writeback:!0,internalSet:!0}}));else if(t.type)if(null==this.options.value)this._multipleThumbs?this.options.value=[this._valueMin(),this._valueMax()]:this.options.value=this._valueMin(),this.option("value",this.options.value,{_context:{writeback:!0,internalSet:!0}});else if(this._multipleThumbs){var e;2!==this.options.value.length&&(e=this.options.value.length>0?this.options.value[0]:this._valueMin(),this.options.value=[e,this._valueMax()],this.option("value",this.options.value,{_context:{writeback:!0,internalSet:!0}}))}},_createRange:function(){var t=this.options,e="";if(t.type){this._range=n(d),n(this._range).attr("id",this._getBarValueId()),this._sliderContainer.append(this._range),e="oj-slider-range oj-slider-bar-value",this._range.on("mousedown"+this.eventNamespace,this._reposition.bind(this)),this._range=this._sliderContainer.find("#"+this._getBarValueId());var i="";"fromMin"===t.type?i=" oj-slider-range-min":"fromMax"===t.type&&(i=" oj-slider-range-max"),this._range.addClass(e+i)}else this._range&&this._range.remove(),this._range=null},_setupTouch:function(t){this._touchProxy=a._TouchProxy.addTouchListeners(t)},_tearDownTouch:function(t){a._TouchProxy.removeTouchListeners(t)},_registerResizeListener:function(t){this._resizeObserver=new ResizeObserver(this._makeDraggable.bind(this)),this._resizeObserver.observe(t)},_setupEvents:function(){this._registerResizeListener(this._elementWrapped[0]),this._CanSetValue()&&this._AddHoverable(this._elementWrapped),this._thumbs.toArray().forEach(function(t){var e=n(t);this._UnregisterChildNode(e),this._on(e,this._thumbEvents),this._setupTouch(e),this._focusable({element:e,applyHighlight:!0})},this)},_GetMessagingLauncherElement:function(){return this._elementWrapped},_GetContentElement:function(){return this._getActiveThumb()},_destroySliderDom:function(){this._resizeObserver.disconnect(),this._thumbs.toArray().forEach(function(t){var e=n(t);this._tearDownTouch(e)},this),this._destroyDraggable(),this._range&&this._range.remove(),this._sliderContainer&&this._sliderContainer.remove(),this.OuterWrapper?(this._elementWrapped.removeUniqueId(),this._RemoveHoverable(this._elementWrapped)):(this.element.removeUniqueId(),this._RemoveHoverable(this.element))},_unwrapSlider:function(){l.unwrap(this.element,this._elementWrapped),this.element[0].style.display=this._inputElementOriginalDisplay,this._RestoreAttributes(this.element)},_destroy:function(){return this._destroySliderDom(),this._unwrapSlider(),this._super()},_repositionThumb:function(t){var e,i,s,a=this.options,r=0,l=this;return this._closestThumb=this._thumb,!(a.disabled||a.readOnly||(e={x:t.pageX,y:t.pageY},i=this._getNormValueFromMouse(e),s=this._valueMax()-this._valueMin()+1,this._multipleThumbs&&this._thumbs.each(function(t){var e=Math.abs(i-l._getMultiValues(t));(s>e||s===e&&(t===l._lastChangedValueIndex||l._getMultiValues(t)===a.min))&&(s=e,this._closestThumb=n(this),r=t)}),this._thumbIndex=r,this._closestThumb&&(this._thumbs.hasClass("ui-state-hover")||this._slide(t,r,i),this._getActiveThumb().addClass("oj-active").focus(),this._range.addClass("oj-active"),0)))},_initDragging:function(t,e){var i=this.options;return!i.disabled&&!i.readOnly&&(e.removeClass("oj-focus-highlight"),e.addClass("oj-active").focus(),this._range.addClass("oj-active"),!0)},_mouseDragInternal:function(t,e){var i=this._getNormValueFromThumb(e);this._slide(t,this._thumbIndex,i,!0);var s=100*this._getFracFromThumb(e);return this._multipleThumbs?this._setRangeMultiThumb(s,this._thumbIndex):this._setRange(s),!1},_mouseStop:function(t,e){this._thumbs.removeClass("oj-active"),this._range.removeClass("oj-active");var i=this._getNormValueFromThumb(e);return this._slide(t,this._thumbIndex,i),this._change(t,this._thumbIndex,!1),this._thumbIndex=null,!1},_isVertical:function(){return"vertical"===this.options.orientation},_getOrientationAdjustedFrac:function(t){var e=t;return e>1&&(e=1),e<0&&(e=0),this._isVertical()&&(e=1-e),e},_getNormValueFromMouse:function(t){var e,i,s=this._getFracFromMouse(t);return e=this._valueMax()-this._valueMin(),this._isRTL()&&!this._isVertical()&&(s=1-s),i=this._valueMin()+s*e,this._trimAlignValue(i)},_getFracFromMouse:function(t){var e,i,s;return this._isVertical()?(e=this._barback.height(),i=t.y-this._barback.offset().top):(e=this._barback.width(),i=t.x-this._barback.offset().left),0===e?1:(s=i/e,s=this._getOrientationAdjustedFrac(s))},_getActiveThumb:function(){return this._multipleThumbs?n(this._thumbs[this._thumbIndex?this._thumbIndex:0]):this._thumb},_getFracFromThumb:function(t){var e,i,s,a,n=t;if(t||(n=this._getActiveThumb()),this._isVertical()){var r=n.outerHeight()/2;a=n.offset().top+r,e=this._barback.height(),i=a-this._barback.offset().top}else{var l=n.outerWidth()/2;a=n.offset().left+l,e=this._barback.width(),i=a-this._barback.offset().left}return 0===e?1:(s=i/e,s=this._getOrientationAdjustedFrac(s))},_getNormValueFromThumb:function(t){var e,i,s;return e=this._getFracFromThumb(t),i=this._valueMax()-this._valueMin(),this._isRTL()&&!this._isVertical()&&(e=1-e),s=this._valueMin()+e*i,this._trimAlignValue(s)},_getOtherThumbValue:function(t){return this._getMultiValues(t?0:1)},_getNewThumbValueLimited:function(t,e,i){return this._isCustomRangeSlider()?null!==this.options.value.start&&null!==this.options.value.end&&(0===t&&e>i||1===t&&e<i)?i:e:2===this.options.value.length&&(0===t&&e>i||1===t&&e<i)?i:e},_slide:function(t,e,i,s){var a;if(this._multipleThumbs){a=this._getOtherThumbValue(e);var n=this._getNewThumbValueLimited(e,i,a);this._setMultiValue(t,e,n,s)}else this._setSingleValue(t,i,s),s||this._inputtag&&this.element.val(i)},_setSingleValue:function(t,e,i){this._newValue=this._trimAlignValue(e),this._SetRawValue(this._newValue,t),i||(this.options[this._transientValueName]=this._newValue,this._SetValue(this._newValue,t),this._updateUI())},_change:function(t,e,i){this._multipleThumbs?(this._lastChangedValues=this._getNewValues(e,this._newMultiValue[e]),this._SetRawValue(this._lastChangedValues,t),i||this._SetValue(this._lastChangedValues,t)):(this._SetRawValue(this._newValue,t),i||this._SetValue(this._newValue,t)),this._lastChangedValueIndex=e},_getNewValues:function(t,e){var i;if(this._isCustomRangeSlider())(i={}).start=this._trimAlignValue(this.options.value.start),i.end=this._trimAlignValue(this.options.value.end),t===this._thumbIndex&&(0===t&&(i.start=e),1===t&&(i.end=e));else{var s;for(i=this.options.value.slice(),s=0;s<i.length;s++)i[s]=this._trimAlignValue(i[s]);t===this._thumbIndex&&(i[t]=e)}return i},_getSingleValue:function(){return this._getValueAligned()},_getMultiValues:function(t){return this._getValuesAligned(t)},_setMultiValue:function(t,e,i,s){this._newMultiValue[e]=this._trimAlignValue(i),this._change(t,e,s),s||this._updateUI()},_setOption:function(t,e,i){var s;if("value"===t)if(this._isCustomRangeSlider())if(e instanceof Object)if(this._checkStartEnd(e.start,e.end),isNaN(e.start))s=this._parse(t,e.start),this._checkValueBounds(s,this._valueMin(),this._valueMax());else{this._multipleThumbs=!0,s=e;for(var a=Object.keys(e),n=0;n<a.length;n++)this._checkValueBounds(s[a[n]],this._valueMin(),this._valueMax())}else{s={start:this._valueMin(),end:this._valueMax()},this.options.value={start:this._valueMin(),end:this._valueMax()};for(var r=Object.keys(s),l=0;l<r.length;l++)this._checkValueBounds(s[r[l]],this._valueMin(),this._valueMax())}else if(Array.isArray(e))if(isNaN(e[0]))this._multipleThumbs=!1,s=this._parse(t,e[0]),this._checkValueBounds(s,this._valueMin(),this._valueMax());else{this._multipleThumbs=!0,s=e;for(var u=0;u<s.length;u++)this._checkValueBounds(s[u],this._valueMin(),this._valueMax())}else this._multipleThumbs=!1,s=this._IsCustomElement()?e:this._parse(t,e),this._checkValueBounds(s,this._valueMin(),this._valueMax());else"max"===t||"min"===t?(s=this._IsCustomElement()?e:this._parse(t,e),"min"===t?(this._checkMinMax(s,this._valueMax()),this._multipleThumbs?(this._getMultiValues(0)<s&&(this._isCustomRangeSlider()?this._super("value",{start:s,end:this._getMultiValues(1)},i):this._super("value",[s,this._getMultiValues(1)],i)),this._getMultiValues(1)<s&&(this._isCustomRangeSlider()?this._super("value",{start:this._getMultiValues(0),end:s},i):this._super("value",[this._getMultiValues(0),s],i))):this._getSingleValue()<s&&this._super("value",s,i)):"max"===t&&(this._checkMinMax(this._valueMin(),s),this._multipleThumbs?(this._getMultiValues(0)>s&&(this._isCustomRangeSlider()?this._super("value",{start:s,end:this._getMultiValues(1)},i):this._super("value",[s,this._getMultiValues(1)],i)),this._getMultiValues(1)>s&&(this._isCustomRangeSlider()?this._super("value",{start:this._getMultiValues(0),end:s},i):this._super("value",[this._getMultiValues(0),s],i))):this._getSingleValue()>s&&this._super("value",s,i))):s="step"===t?this._parseStep(e):e;switch(this._super(t,s,i),"readOnly"===t&&(this.options.readonly=s),"disabled"===t&&(this.options.disabled=s),t){case"disabled":this._refreshThumbOptions(),this.options.disabled?this._disableDraggable():this._makeDraggable();break;case"value":this._updateUI(),this._makeDraggable();break;case"min":case"max":this._calculateNewMax(),this._updateUI(),this._makeDraggable();break;case"orientation":this._setOrientationStyles(),this._reCreate();break;case"readonly":case"step":case"type":this._reCreate();break;case"labelledBy":this._setAriaInfo()}},_reCreate:function(){this._destroySliderDom(),this._componentSetup(),this.OuterWrapper&&this._elementWrapped.addClass("oj-complete"),this._AfterCreate()},_getValueAligned:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_isCustomRangeSlider:function(){return!(!this._IsCustomElement()||"OJ-RANGE-SLIDER"!==this.element[0].parentNode.tagName)},_getValuesAligned:function(t){var e,i=null;return this._isCustomRangeSlider()?(e=0===t?void 0!==this.options.value.start&&null!==this.options.value.start?this.options.value.start:this._valueMin():void 0!==this.options.value.end&&null!==this.options.value.end?this.options.value.end:this._valueMax(),i=this._trimAlignValue(e)):i=this._trimAlignValue(this.options.value[t]),i},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,s=t-i;return 2*Math.abs(i)>=e&&(s+=i>0?e:-e),parseFloat(s.toFixed(5))},_calculateNewMax:function(){var t=this._valueMin();if((this.options.max-t)/this.options.step%1!=0){var e=(this.options.max-t)%this.options.step;this.max=this.options.max-e+this.options.step}else this.max=this.options.max},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_getGrid:function(){var t;t=this.options.step>0?(this._valueMax()-this._valueMin())/this.options.step:100;var e=(this._isVertical()?this._barback.height():this._barback.width())/t;return e<1&&(e=1),this._isVertical()?[1,e]:[e,1]},_getThumbsValueFrac:function(t){return(this._getMultiValues(t)-this._valueMin())/(this._valueMax()-this._valueMin())},_updateUI:function(){var t,e,i,s,a,r;this._multipleThumbs?(this._thumbs.toArray().forEach(function(e,l){var u=n(e);t=100*this._getThumbsValueFrac(l),this._isRTL()&&!this._isVertical()&&(t=100-t),this._isVertical()?u.css({top:100-t+"%"}):u.css({left:t+"%"}),0===l?(a=u,100===t?u.css({zIndex:1}):u.css({zIndex:""})):r=u,u.hasClass("oj-active")||(u.attr("aria-valuenow",this._getMultiValues(l)),u.attr("aria-valuemin",i),u.attr("aria-valuemax",s)),this._setRangeMultiThumb(t,l)},this),a.hasClass("oj-focus")&&(a.css({zIndex:1}),r.css({zIndex:""})),r.hasClass("oj-focus")&&(a.css({zIndex:""}),r.css({zIndex:1}))):(e=this._getValueAligned(),i=this._valueMin(),s=this._valueMax(),t=s!==i?(e-i)/(s-i)*100:0,this._isRTL()&&!this._isVertical()&&(t=100-t),this._isVertical()?this._thumb.css({top:100-t+"%"}):this._thumb.css({left:t+"%"}),n(this._thumb).hasClass("oj-active")||(n(this._thumb).attr("aria-valuenow",e),n(this._thumb).attr("aria-valuemin",i),n(this._thumb).attr("aria-valuemax",s)),this._setRange(t))},_setRange:function(t){var e=this.options.type;this._isVertical()?("fromMin"===e&&this._range.css({height:t+"%"}),"fromMax"===e&&this._range.css({height:100-t+"%"})):this._isRTL()?("fromMin"===e&&this._range.css({width:100-t+"%"}),"fromMax"===e&&this._range.css({width:t+"%"})):("fromMin"===e&&this._range.css({width:t+"%"}),"fromMax"===e&&this._range.css({width:100-t+"%"}))},_setRangeMultiThumb:function(t,e){var i=this._range.attr("id");if(0===e){var s=100*this._getThumbsValueFrac(1);switch(this.options.type){case"fromMin":this._isVertical()?this._range.css({height:t+"%"}):this._range.css({width:t+"%"});break;case"range":this._isVertical()?(this._range.css({top:100-s+"%"}),this._range.css({height:s-t+"%"})):this._isRTL()?(this._range.css({left:100-s+"%"}),this._range.css({width:s-(100-t)+"%"})):(this._range.css({left:t+"%"}),this._range.css({width:s-t+"%"}))}}else{var a=100*this._getThumbsValueFrac(0);switch(this.options.type){case"fromMax":this._isVertical()?this._range.css({height:100-t+"%"}):this._range.css({width:100-t+"%"});break;case"range":if(this._isVertical())document.getElementById(i)&&(this._range.css({top:100-t+"%"}),this._range.css({height:t-a+"%"}));else if(this._isRTL())document.getElementById(i)&&(this._range.css({left:t+"%"}),this._range.css({width:100-t-a+"%"}));else if(document.getElementById(i)){var n=parseInt(document.getElementById(i).style.left,10);this._range.css({width:t-n+"%"})}}}},_thumbEvents:{keydown:function(t){var e,i,s,a,r=n(t.target).data(_);switch(this._thumbIndex=r,t.keyCode){case n.ui.keyCode.HOME:case n.ui.keyCode.END:case n.ui.keyCode.PAGE_UP:case n.ui.keyCode.PAGE_DOWN:case n.ui.keyCode.UP:case n.ui.keyCode.RIGHT:case n.ui.keyCode.DOWN:case n.ui.keyCode.LEFT:t.preventDefault(),n(t.target).addClass("oj-active")}switch(s=this.options.step,e=i=this._multipleThumbs?this._getMultiValues(r):this._getSingleValue(),t.keyCode){case n.ui.keyCode.HOME:i=this._valueMin();break;case n.ui.keyCode.END:i=this._valueMax();break;case n.ui.keyCode.PAGE_UP:i=this._trimAlignValue(e+(this._valueMax()-this._valueMin())/this._numPages);break;case n.ui.keyCode.PAGE_DOWN:i=this._trimAlignValue(e-(this._valueMax()-this._valueMin())/this._numPages);break;case n.ui.keyCode.UP:if(e===this._valueMax())return;a=e+s,i=this._trimAlignValue(a);break;case n.ui.keyCode.RIGHT:if(!this._isRTL()||this._isVertical()){if(e===this._valueMax())return;a=e+s}else{if(e===this._valueMin())return;a=e-s}i=this._trimAlignValue(a);break;case n.ui.keyCode.DOWN:if(e===this._valueMin())return;a=e-s,i=this._trimAlignValue(a);break;case n.ui.keyCode.LEFT:if(!this._isRTL()||this._isVertical()){if(e===this._valueMin())return;a=e-s}else{if(e===this._valueMax())return;a=e+s}i=this._trimAlignValue(a)}this._slide(t,r,i)},keyup:function(t){switch(t.keyCode){case n.ui.keyCode.HOME:case n.ui.keyCode.END:case n.ui.keyCode.PAGE_UP:case n.ui.keyCode.PAGE_DOWN:case n.ui.keyCode.UP:case n.ui.keyCode.RIGHT:case n.ui.keyCode.DOWN:case n.ui.keyCode.LEFT:var e=n(t.target).data(_);this._thumbIndex=e,this._change(t,e,!1),n(t.target).removeClass("oj-active"),this._updateUI(!0),this._thumbIndex=null}}},_InitOptions:function(t,i){var s=this.options,a=this;if(this._superApply(arguments),!this._IsCustomElement()&&(e.EditableValueUtils.initializeOptionsFromDom([{attribute:"disabled",validateOption:!0},{attribute:"value"},{attribute:"title"},{attribute:"min"},{attribute:"max"},{attribute:"step"}],i,this,function(t){for(var e=t,i=["value","step","min","max"],n=0;n<i.length;n++){var r=i[n],l=r in e?e[r]:s[r];null!=l&&("step"===r?e[r]=a._parseStep(l):"min"===r||"max"===r?e[r]=a._parse(r,l):"value"===r&&(Array.isArray(l)?e[r]=l:e[r]=a._parse(r,l)))}}),void 0===s.value))throw new Error(this.getTranslatedString("noValue"));if(this._isCustomRangeSlider()&&this._checkStartEnd(s.value.start,s.value.end),this._checkMinMax(s.min,s.max),Array.isArray(s.value))for(var n=0;n<s.value.length;n+=1)this._checkValueBounds(s.value[n],s.min,s.max);else this._checkValueBounds(s.value,s.min,s.max)},_checkValueBounds:function(t,e,i){if(null!=e&&t<e)throw new Error(this.getTranslatedString("valueRange"));if(null!=i&&t>i)throw new Error(this.getTranslatedString("valueRange"))},_checkMinMax:function(t,e){if(null!=t&&null!=e&&t>=e)throw new Error(this.getTranslatedString("maxMin"))},_checkStartEnd:function(t,e){if(null!=t&&null!=e&&t>e)throw new Error(this.getTranslatedString("startEnd"))},getNodeBySubId:function(t){if(null==t)return this.element?this.element[0]:null;var e=t.subId;return"oj-slider-thumb-0"===e?this.widget().find(u)[0]:"oj-slider-thumb-1"===e?this.widget().find(u)[1]:e===m||e===p?this.widget().find("."+e)[0]:null},getSubIdByNode:function(t){if(null!=t){if(t.id===this._getThumbId(0)&&n(t).hasClass("oj-slider-thumb"))return{subId:"oj-slider-thumb-0"};if(t.id===this._getThumbId(1)&&n(t).hasClass("oj-slider-thumb"))return{subId:"oj-slider-thumb-1"};if(n(t).hasClass(m))return{subId:m};if(n(t).hasClass(p))return{subId:p}}return null},_GetDefaultStyleClass:function(){return"oj-slider"},_parse:function(t,e){var i;if(i=null!==e?+e:e,isNaN(i))throw new Error(this.getTranslatedString("optionNum",{option:t}));return i},_parseStep:function(t){var e;if(null===t)return 1;if((e=this._parse("step",t))<=0)throw new Error(this.getTranslatedString("invalidStep"));return(null===e||e<=0)&&(e=1),e},_getEndInterval:function(){return this._barback.offset().left+this._barback.width()},_getStartInterval:function(){return this._barback.offset().left},_callDraggable:function(t){var e,i=this._getGrid(),s=t[0].style;e=this._isVertical()?"y":"x";var a=this;t.draggable({axis:e,grid:i,disabled:!1,start:function(e){t[0]===n(a._thumbs)[0]?a._thumbIndex=0:t[0]===n(a._thumbs)[1]&&(a._thumbIndex=1),a._initDragging(e,t)},drag:function(e,i){var r=i.position;if(a._isVertical()?(s.left="",r.left=""):(s.top="",r.top=""),a._mouseDragInternal(e,t),a._isVertical()?(r.top<0&&(r.top=0),r.top>a._barback.height()&&(r.top=a._barback.height())):(r.left<0&&(r.left=0),r.left>a._barback.width()&&(r.left=a._barback.width())),a._multipleThumbs){var l,u;if(l=0===a._thumbIndex?n(a._thumbs[1]):n(a._thumbs[0]),a._isVertical()){var h=t.outerHeight()/2,o=a._barback.offsetParent().offset().top;u=l.offset().top+h-o}else{var _=t.outerWidth()/2,d=a._barback.offsetParent().offset().left;u=l.offset().left+_-d}0===a._thumbIndex?a._isVertical()?r.top<u&&(r.top=u):a._isRTL()?r.left<u&&(r.left=u):r.left>u&&(r.left=u):a._isVertical()?r.top>u&&(r.top=u):a._isRTL()?r.left>u&&(r.left=u):r.left<u&&(r.left=u)}},stop:function(e){this.style.width="",this.style.height="",a._mouseStop(e,t)}})},_makeDraggable:function(){this.options.disabled||(this._multipleThumbs?this._thumbs.toArray().forEach(function(t){var e=n(t);this._callDraggable(e)},this):this._callDraggable(this._thumb))},_disableDraggable:function(){this._multipleThumbs?this._thumbs.toArray().forEach(function(t){var e=n(t);e.is(c)&&e.draggable("disable")},this):this._thumb.is(c)&&this._thumb.draggable("disable")},_destroyDraggable:function(){this._multipleThumbs?this._thumbs.toArray().forEach(function(t){var e=n(t);e.is(c)&&e.draggable("destroy")},this):this._thumb.is(c)&&this._thumb.draggable("destroy")}})});
//# sourceMappingURL=ojslider.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojcolorspectrum',["ojs/ojcore","ojs/ojcomponentcore","ojs/ojslider","jqueryui-amd/widgets/draggable","ojs/ojtouchproxy","ojs/ojeditablevalue","ojs/ojcore-base","jquery","ojs/ojcolor","ojs/ojdomutils","ojs/ojlogger","ojs/ojlabelledbyutils"],function(t,e,s,i,a,r,h,l,u,o,n,d){"use strict";var _;h=h&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h,l=l&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l,u=u&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u,d=d&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d,function(){var t="oj-disabled";function e(t){var e=function(t,e,s){t/=255,e/=255,s/=255;var i,a,r=Math.max(t,e,s),h=Math.min(t,e,s),l=(r+h)/2;if(r===h)i=0,a=0;else{var u=r-h;switch(a=l>.5?u/(2-r-h):u/(r+h),r){case t:i=(e-s)/u+(e<s?6:0);break;case e:i=(s-t)/u+2;break;case s:i=(t-e)/u+4}i/=6}return[i,a,l]}(t.getRed(),t.getGreen(),t.getBlue());return e[0]*=360,e[1]*=100,e[2]*=100,e.push(t.getAlpha()),e}h.__registerWidget("oj.ojColorSpectrum",l.oj.editableValue,{widgetEventPrefix:"oj",defaultElement:"<input>",options:{labelledBy:null,value:null,rawValue:null},getNodeBySubId:function(t){if(null===t)return this.element?this.element[0]:null;var e=t.subId,s=this._super(t);if(!s)switch(e){case"oj-spectrum":s=this._$spectrum[0];break;case"oj-spectrum-thumb":s=this._$spectrumThumb[0];break;case"oj-hue-slider-bar":s=this._$hueSlider.ojSlider("getNodeBySubId",{subId:"oj-slider-bar"});break;case"oj-hue-slider-bar-value":s=this._$hueSlider.ojSlider("getNodeBySubId",{subId:"oj-slider-bar-value"});break;case"oj-hue-slider-thumb":s=this._$hueSlider.ojSlider("getNodeBySubId",{subId:"oj-slider-thumb-0"});break;case"oj-opacity-slider-bar":s=this._$alphaSlider.ojSlider("getNodeBySubId",{subId:"oj-slider-bar"});break;case"oj-opacity-slider-bar-value":s=this._$alphaSlider.ojSlider("getNodeBySubId",{subId:"oj-slider-bar-value"});break;case"oj-opacity-slider-thumb":s=this._$alphaSlider.ojSlider("getNodeBySubId",{subId:"oj-slider-thumb-0"})}return s},getSubIdByNode:function(t){if(!t)return null;var e,s=l(t),i=null;return s.hasClass("oj-colorspectrum-spectrum")?i="oj-spectrum":s.hasClass("oj-colorspectrum-thumb")?i="oj-spectrum-thumb":(e=s.closest(".oj-slider").hasClass("oj-slider-vertical")?"hue":"opacity",s.hasClass("oj-slider-bar")?i="oj-"+e+"-slider-bar":s.hasClass("oj-slider-bar-value")?i="oj-"+e+"-slider-bar-value":s.hasClass("oj-slider-thumb")&&(i="oj-"+e+"-slider-thumb")),null!=i?{subId:i}:this._super(t)},_destroy:function(){this._$boundElem&&(this._clearListeners(),this._destroySliders(),this._removeMarkup(),this._$boundElem.removeClass("oj-colorspectrum"),this._clear()),this._super()},_ComponentCreate:function(){this._super(),this._initEditor()},_AfterCreate:function(){var t;if(this._super(),this._labelledByUpdatedForSet(this.element[0].id,null,this.options.labelledBy,this._$spectrumThumb),this._IsCustomElement()||(t=this._GetLabelElement()),t){var e=t.attr("id");e?this._$spectrumThumb.attr("aria-labelledby",e):n.warn("JET Color Spectrum: The label for this component needs an id in order to be accessible")}else{var s=this.element.attr("aria-label");s&&this._$spectrumThumb.attr("aria-label",s)}},_setOption:function(t,e,s){var i=this.options.labelledBy;switch(t){case"value":this._setOptValue(e);break;case"disabled":this._setOptDisabled(e,!0);break;case"labelledBy":this._labelledByUpdatedForSet(this.element[0].id,i,e,this._$spectrumThumb)}this._super(t,e,s)},_SetRawValue:function(t,e){var s=t;if("string"==typeof t)try{s=new u(t)}catch(e){n.error("ojColorSpectrum (id='"+this.element.attr("id")+"'): invalid "+this._transientValueName+" ("+t+"), defaulting to black"),s=u.BLACK}var i={};i._context={originalEvent:e,writeback:!0,internalSet:!0,readOnly:!0},this._comparedRoundedColor(this.options[this._transientValueName],s)||this.option(this._transientValueName,s,i)},_labelledByUpdatedForSet:d._labelledByUpdatedForSet,_comparedRoundedColor:function(t,e){return t.getRed()===e.getRed()&&t.getGreen()===e.getGreen()&&t.getBlue()===e.getBlue()&&t.getAlpha()===e.getAlpha()},_compareColorValues:function(t,e){return t instanceof u&&e instanceof u&&t.isEqual(e)},_setOptDisabled:function(e,s){var i=!s||s&&e!==this._disabled;return i&&(this._enableSliders(!e),e?(this.element.addClass(t),this._makeThumbDraggable(!1)):(this.element.removeClass(t),this._makeThumbDraggable(!0)),this._disabled=e),i},_setOptValue:function(t){t instanceof u&&(this._compareColorValues(this._value,t)||(this._setColorVals(t,!0),this._setSliderValue(this._hueVal,!0),this._setSliderValue(this._alphaVal,!1),this._setSpectrumHue(this._hueVal,this._satVal,this._lumVal,this._alphaVal,!0)))},_onSliderOptionChange:function(t,e){var s,i,a,r,h,o,n,d;this._sliderSetup&&("rawValue"!==e.option&&"value"!==e.option||void 0===e.value||("value"===e.option&&(this._isOrigEvent=!!t.originalEvent),o=(d=l(t.target)).hasClass("oj-colorspectrum-hue"),n=d.hasClass("oj-colorspectrum-alpha"),(o||n)&&(i=this._hueVal,a=this._satVal,r=this._lumVal,h=this._alphaVal,o?(i=e.value,this._hueVal=i,this._updateAlphaBG(i,a,r),this._setSpectrumHue(i,a,r,h,!1)):(h=e.value,this._setAriaText(i,a,r,h)),s=new u({h:i,s:a,l:r,a:h}),(t.originalEvent||this._isOrigEvent)&&(this._isOrigEvent=!1,"rawValue"===e.option?this._SetRawValue(s,t):"value"===e.option&&this._SetValue(s,t)),this._setColorVals(s))))},_setSliderValue:function(t,e){(e?this._$hueSlider:this._$alphaSlider).ojSlider("option","value",t)},_setSpectrumHue:function(t,e,s,i,a){var r="hsl("+t+", 100%, 50%)";if(this._$spectrum.css("background-color",r),a){var h=this._getSatLumSpectrumPosition(e,s);this._setThumbPosition(h.x,h.y)}this._setAriaText(t,e,s,i)},_setSpectrumMask:function(){var t;switch(h.AgentUtils.getAgentInfo().browser){case h.AgentUtils.BROWSER.FIREFOX:t="moz";break;case h.AgentUtils.BROWSER.CHROME:case h.AgentUtils.BROWSER.SAFARI:case h.AgentUtils.BROWSER.EDGE_CHROMIUM:default:t="webkit";break;case h.AgentUtils.BROWSER.IE:t="ms"}var e=" -___-linear-gradient(top, hsl(0, 0%, 100%) 0%, hsla(0, 0%, 100%, 0) 50%, hsla(0, 0%, 0%, 0) 50%, hsl(0, 0%, 0%) 100%), -___-linear-gradient(left, hsl(0, 0%, 50%) 0%, hsla(0, 0%, 50%, 0) 100%)";e=e.replace(/___/g,t),this._$spectrum.css("backgroundImage",e)},_setThumbPosition:function(t,e){isNaN(t)||(this._xThumb=t),this._yThumb=e,this._moveThumb(0,0)},_getSatLumSpectrumPosition:function(t,e){var s=Math.min(t/100*this._spectrumWidth,this._spectrumWidth),i=this._spectrumHeight-Math.min(e/100*this._spectrumHeight,this._spectrumHeight);return{x:Math.round(s),y:Math.round(i)}},_moveThumb:function(t,e){var s,i;(s=this._xThumb+t)<0&&(s=0),(i=this._yThumb+e)<0&&(i=0),s>=this._spectrumWidth&&(s=this._spectrumWidth-1),i>=this._spectrumHeight&&(i=this._spectrumHeight-1),this._xThumb=s,this._yThumb=i,s=s-this._spectrumThumbRadius+"px",i=i-this._spectrumThumbRadius+"px",this._$spectrumThumb[0].style.left=s,this._$spectrumThumb[0].style.top=i},_spectrumClick:function(t){if(!this._disabled){var e,s,i,a,r=this._$spectrum.offset(),h=t.pageX-r.left,l=t.pageY-r.top;h=Math.round(h),l=Math.round(l),s=(a=this._getSatLumFromPosition(h,l)).s,i=a.l,e=this._hueVal,this._updateAlphaBG(e,s,i);var o=new u({h:e,s:s,l:i,a:this._alphaVal});this._SetRawValue(o,t),this._SetValue(o,t),this._setAriaText(e,s,i,this._alphaVal),this._value=o,this._setSatLum(s,i),this._setThumbPosition(h,l),this._$spectrumThumb.focus()}},_keyDown:function(t){if(this._disabled)return!1;var e,s,i,a,r=1;if(this._keyNow=(new Date).getTime(),this._keyStart<0&&(this._keyStart=this._keyNow,this._keyCount=0),a=this._keyNow-this._keyStart,this._keyCount+=1,(a>1400||this._keyCount>25)&&(r=3),s=0,i=0,40===(e=t.keyCode))i=r;else if(38===e)i=-r;else if(39===e)s=r;else if(37===e)s=-r;else if(36===e)this._setThumbPosition(0,0),this._keyStart=-1;else if(35===e)this._setThumbPosition(this._spectrumWidth-1,this._spectrumHeight-1),this._keyStart=-1;else if(33===e)this._setThumbPosition(NaN,0),this._keyStart=-1;else{if(34!==e)return;this._setThumbPosition(NaN,this._spectrumHeight-1),this._keyStart=-1}return this._moveThumb(s,i),this._handleThumbMoved(t,this._xThumb,this._yThumb),t.preventDefault(),!1},_keyUp:function(t){if(this._disabled)return!1;this._keyStart=-1;var e=this._getSatLumFromPosition(this._xThumb,this._yThumb);this._setAriaText(this._hueVal,e.s,e.l,this._alphaVal);var s=this.options[this._transientValueName];return this._SetValue(s,t),!1},_initThumbDraggable:function(){this._thumbDragHandler||(this._thumbDragHandler=this._thumbDrag.bind(this)),this._$spectrumThumb.draggable({drag:this._thumbDragHandler,stop:this._thumbDragHandler})},_makeThumbDraggable:function(t){this._$spectrumThumb.draggable(t?"enable":"disable")},_thumbDrag:function(t,e){var s,i,a,r;e.position.left<-this._spectrumThumbRadius?(e.position.left=-this._spectrumThumbRadius,s=0):e.position.left+this._spectrumThumbRadius>=this._spectrumWidth&&(e.position.left=this._spectrumWidth-1-this._spectrumThumbRadius,i=this._spectrumWidth-1),e.position.top<-this._spectrumThumbRadius?(e.position.top=-this._spectrumThumbRadius,i=0):e.position.top+this._spectrumThumbRadius>=this._spectrumHeight&&(e.position.top=this._spectrumHeight-1-this._spectrumThumbRadius,i=this._spectrumHeight-1),a=this._$spectrumThumb.offset(),r=this._$spectrum.offset(),0!==s&&(s=a.left+this._spectrumThumbRadius-r.left),0!==i&&(i=a.top+this._spectrumThumbRadius-r.top),"dragstop"!==t.type&&this._xThumb===s&&this._yThumb===i||("drag"===t.type?(this._xThumb=s,this._yThumb=i):(s=this._xThumb,i=this._yThumb),this._handleThumbMoved(t,s,i))},_handleThumbMoved:function(t,e,s){var i=!1,a=this._hueVal,r=this._getSatLumFromPosition(e,s),h=r.s,l=r.l;this._updateAlphaBG(a,h,l);var o=new u({h:a,s:h,l:l,a:this._alphaVal});this._SetRawValue(o,t),"dragstop"===t.type&&(this._SetValue(o,t.originalEvent),i=!0),this._value=o,this._setSatLum(h,l),i&&this._setAriaText(a,h,l,this._alphaVal)},_getSatLumFromPosition:function(t,e){return{s:t/(this._spectrumWidth-1)*100,l:100-e/(this._spectrumHeight-1)*100}},_updateAlphaBG:function(t,e,s){var i,a="hsla("+t+","+e+"%,"+s+"%, 0)",r="hsla("+t+","+e+"%,"+s+"%, 1.0)";this._isRtl&&(i=r,r=a,a=i),i=(i="linear-gradient(90deg, "+a+", "+r+")")+","+this._alphaBgUrl,this._disabledAlphaBG=i,this._$alphaBarBack.css("background",i)},_getRoundedHsl:function(t,e,s,i){var a="hsl",r="number"==typeof i&&i<1;return a+=r?"a(":"(",a+=Math.round(t)+", "+Math.round(100*e)/100+"%, "+Math.round(100*s)/100+"%"+(r?","+i:"")+")"},_setSatLum:function(t,e){this._satVal=t,this._lumVal=e},_setColorVals:function(t,s=!1){this._value=t,t||(this._value=u.BLACK);var i=e(this._value);this._hueVal=s?i[0]:this._hueVal,this._satVal=i[1],this._lumVal=i[2],this._alphaVal=i[3]},_setAriaText:function(t,e,s,i){var a=this._getRoundedHsl(t,e,s,i);this._$spectrumThumb.attr("aria-valuetext",a)},_initEditor:function(){this._initData(),this._setup()},_setup:function(){this._$boundElem.append(this._markup),this._$boundElem.addClass("oj-colorspectrum"),l(".oj-colorspectrum-hue").uniqueId(),l(".oj-colorspectrum-alpha").uniqueId(),this._$editorContainer=this._$boundElem.find(".oj-colorspectrum-container"),this._$hueSlider=this._$boundElem.find(".oj-colorspectrum-hue"),this._$alphaSlider=this._$boundElem.find(".oj-colorspectrum-alpha"),this._$spectrum=this._$boundElem.find(".oj-colorspectrum-spectrum"),this._$spectrumThumb=this._$boundElem.find(".oj-colorspectrum-thumb"),this._$spectrumThumb.css({left:"-9999px",top:"-9999px"}),this._spectrumThumbRadius=this._$spectrumThumb[0].offsetWidth/2,this._spectrumThumbRadius<=0&&(this._spectrumThumbRadius=this._$spectrumThumb.width()/2),this._isTouch=o.isTouchSupported(),this._spectrumWidth=this._$spectrum.width(),this._spectrumHeight=this._$spectrum.height(),this._$spectrumThumb.attr("aria-describedby",this._$boundElem.find(".oj-colorspectrum-thumb-description").uniqueId().attr("id"));var t=document.createElement("div");t.className="oj-colorspectrum-alpha-bg",this._$boundElem[0].appendChild(t),this._alphaBgUrl=window.getComputedStyle(t,null).getPropertyValue("background-image"),this._$boundElem[0].removeChild(t);var s=!!this._disabled,i=e(this._value);this._hueVal=i[0],this._satVal=i[1],this._lumVal=i[2],this._alphaVal=i[3],this._sliderSetup=!1,this._$hueSlider.ojSlider({max:360,min:0,step:1,value:this._hueVal,orientation:"vertical",displayOptions:{messages:"none"},optionChange:this._onSliderOptionChange.bind(this),rootAttributes:{class:"oj-slider-color-picker"}}).attr("data-oj-internal",""),this._$alphaSlider.ojSlider({max:1,min:0,step:.01,value:this._alphaVal,orientation:"horizontal",displayOptions:{messages:"none"},optionChange:this._onSliderOptionChange.bind(this),rootAttributes:{class:"oj-slider-color-picker"}}).attr("data-oj-internal",""),this._initSliders(),this._setSpectrumMask(),this._setSpectrumHue(this._hueVal,this._satVal,this._lumVal,this._alphaVal,!0),this._$spectrum.click(this._spectrumClick.bind(this)),this._initThumbDraggable(),this._setOptDisabled(s),this._$spectrumThumb.keydown(this._keyDown.bind(this)),this._$spectrumThumb.keyup(this._keyUp.bind(this)),this._$spectrum.focus(this._nofocus.bind(this)),this._focusable({element:this._$spectrumThumb,applyHighlight:!0}),o.isTouchSupported()&&this._setupTouch(this._$spectrumThumb)},_nofocus:function(t){return this._$spectrumThumb.focus(),!1},_initSliders:function(){var t={subId:"oj-slider-bar"};this._$hueBarBack=l(this._$hueSlider.ojSlider("getNodeBySubId",t)),this._$alphaBarBack=l(this._$alphaSlider.ojSlider("getNodeBySubId",t)),t.subId="oj-slider-bar-value",this._$hueBarValue=l(this._$hueSlider.ojSlider("getNodeBySubId",t)),this._$alphaBarValue=l(this._$alphaSlider.ojSlider("getNodeBySubId",t));var e="linear-gradient(0deg, #ff0000 0%, #ffff00 17%, #00ff00 33%, #00ffff 50%, #0000ff 67%, #ff00ff 83%, #ff0000 100%)";this._$hueBarBack.css("background",e),this._disabledHueBG=e,this._updateAlphaBG(this._hueVal,this._satVal,this._lumVal),this._sliderSetup=!0},_initData:function(){this._applyOptions(),this._xThumb=0,this._yThumb=0;var t=this._EscapeXSS(this.getTranslatedString("labelHue")),e=this._EscapeXSS(this.getTranslatedString("labelOpacity")),s=this._EscapeXSS(this.getTranslatedString("labelThumbDesc"));this._markup=["<div class='oj-colorspectrum-container oj-form-control-container'>","<div class='oj-colorspectrum-spectrum' tabindex='-1'>","<div class='oj-colorspectrum-thumb' role='slider' aria-describedby='' tabIndex='0'></div>","</div>","<div class='oj-colorspectrum-thumb-description oj-helper-hidden-accessible'>"+s+"</div>","<input class='oj-colorspectrum-hue' aria-label='"+t+"'></input>","<input class='oj-colorspectrum-alpha' aria-label='"+e+"'></input>","</div>"].join(""),this._keyStart=-1,this._isRtl="rtl"===this._GetReadingDirection()},_applyOptions:function(){var t,e=this.options;this._doc=this.element[0].ownerDocument,this._body=this._doc.body,this._$boundElem=l(this.element),this._disabled=!1,this._transientValueName=this._IsCustomElement()?"transientValue":"rawValue",(t=e.value)instanceof u||(t=u.BLACK),this._value=t,e[this._transientValueName]=this._value,t=e.disabled,this._disabled="boolean"==typeof t&&t},_enableSliders:function(t){var e=!t;if(t){this._$hueSlider.ojSlider("option","disabled",e),this._$alphaSlider.ojSlider("option","disabled",e);var s={subId:"oj-slider-bar"};this._$hueSlider=this._$boundElem.find(".oj-colorspectrum-hue"),this._$alphaSlider=this._$boundElem.find(".oj-colorspectrum-alpha"),this._$hueBarBack=l(this._$hueSlider.ojSlider("getNodeBySubId",s)),this._$alphaBarBack=l(this._$alphaSlider.ojSlider("getNodeBySubId",s)),this._disabledAlphaBG&&this._$alphaBarBack.css("background",this._disabledAlphaBG),this._disabledHueBG&&this._$hueBarBack.css("background",this._disabledHueBG)}else{var i=this._$hueBarBack.css("background");i&&i.length>0&&(this._disabledHueBG=i),(i=this._$alphaBarBack.css("background"))&&i.length>0&&this._updateAlphaBG(this._hueVal,this._satVal,this._lumVal),this._$hueBarBack.css("background",""),this._$alphaBarBack.css("background",""),this._$hueSlider.ojSlider("option","disabled",e),this._$alphaSlider.ojSlider("option","disabled",e)}},_destroySliders:function(){this._$hueSlider.ojSlider("destroy"),this._$alphaSlider.ojSlider("destroy")},_removeMarkup:function(){this._$boundElem.empty()},_clearListeners:function(){this._$spectrum.off("click"),this._$spectrumThumb.off("mousedown"),this._$spectrumThumb.off("keydown"),this._$spectrumThumb.off("keyup"),this._touchProxy&&this._tearDownTouch(this._$spectrumThumb)},_clear:function(){this._markup=null,this._$boundElem=null,this._$editorContainer=null,this._$hue=null,this._$alpha=null,this._$editorContainer=null,this._$hueSlider=null,this._$alphaSlider=null,this._$spectrum=null,this._$spectrumThumb=null,this._spectrumThumbSize=null,this._strings=null,this._mouseMoveHandler=null,this._mouseUpHandler=null},_setupTouch:function(t){this._touchProxy=h._TouchProxy.addTouchListeners(t)},_tearDownTouch:function(t){h._TouchProxy.removeTouchListeners(t)},_GetMessagingLauncherElement:function(){return this.element},_GetContentElement:function(){return this._$spectrumThumb},_GetElementValue:function(){return this._value},_SetDisplayValue:function(t){this._value=t?"string"==typeof t?new u(t):t:u.BLACK},_GetDisplayValue:function(){return this._value.toString()},_GetDefaultStyleClass:function(){return"oj-colorspectrum"},_EscapeXSS:function(t){return l("<span>"+t+"</span>").text()}})}(),(_={properties:{describedBy:{type:"string"},disabled:{type:"boolean",value:!1},displayOptions:{type:"object",properties:{converterHint:{type:"Array<string>|string"},helpInstruction:{type:"Array<string>|string",value:["notewindow"]},messages:{type:"Array<string>|string"},validatorHint:{type:"Array<string>|string"}}},help:{type:"object",properties:{instruction:{type:"string",value:""}}},helpHints:{type:"object",properties:{definition:{type:"string",value:""},source:{type:"string",value:""}}},labelEdge:{type:"string",enumValues:["inside","none","provided"]},labelHint:{type:"string",value:""},labelledBy:{type:"string"},messagesCustom:{type:"Array<Object>",writeback:!0,value:[]},transientValue:{type:"object",writeback:!0,readOnly:!0},translations:{type:"object",value:{},properties:{labelHue:{type:"string"},labelOpacity:{type:"string"},labelSatLum:{type:"string"},labelThumbDesc:{type:"string"}}},userAssistanceDensity:{type:"string",enumValues:["compact","efficient","reflow"],value:"reflow"},valid:{type:"string",writeback:!0,enumValues:["invalidHidden","invalidShown","pending","valid"],readOnly:!0},value:{type:"object|string",writeback:!0}},methods:{getProperty:{},refresh:{},reset:{},setProperties:{},setProperty:{},showMessages:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAnimateEnd:{},ojAnimateStart:{}},extension:{}}).extension._WIDGET_NAME="ojColorSpectrum",h.CustomElementBridge.register("oj-color-spectrum",{metadata:h.CollectionUtils.mergeDeep(_,{properties:{readonly:{binding:{consume:{name:"readonly"}}},userAssistanceDensity:{binding:{consume:{name:"userAssistanceDensity"}}},labelEdge:{binding:{consume:{name:"labelEdge"}}}}})})});
//# sourceMappingURL=ojcolorspectrum.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojdomscroller',["ojs/ojcore-base","jquery","ojs/ojdatacollection-common","ojs/ojlogger"],function(e,t,r,i){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;const s=function(e,i,s){s=s||{},this._data=i,this._asyncIterator=s.asyncIterator,this._element=t(e)[0],this._contentElement=s.contentElement,this._fetchSize=s.fetchSize,this._fetchSize=this._fetchSize>0?this._fetchSize:25,this._maxCount=s.maxCount,this._maxCount=this._maxCount>0?this._maxCount:500,this._rowCount=s.initialRowCount>0?s.initialRowCount:0,this._controller=s.controller,this._successCallback=s.success,this._requestCallback=s.request,this._errorCallback=s.error,this._isOverflowCallback=s.isOverflow,this._beforeFetchCallback=s.beforeFetch,this._beforeScrollCallback=s.beforeScroll,this._localKeyValidator=s.localKeyValidator,this._registerDataSourceEventListeners(),this._fetchTrigger=s.fetchTrigger,(null==this._fetchTrigger||isNaN(this._fetchTrigger))&&(this._fetchTrigger=0),this._initialScrollTop=this._element.scrollTop,this._lastFetchTrigger=0,this._isScrollTriggeredByMouseWheel=!1,this._checkViewportCount=0,this._fetchThreshold=.25;var n=r.getScrollEventElement(this._element);this._scrollEventListener=function(){if(!this._isScrollTrackingPaused){this._beforeScrollCallback&&this._beforeScrollCallback();var e=this._element.scrollTop,t=this._element.clientHeight,r=this._element.scrollHeight-t;r>0&&(this._contentElement?this._handleExternalScrollerScrollTop(e,t):this._handleScrollerScrollTop(e,r))}}.bind(this),n.addEventListener("scroll",this._scrollEventListener),this._wheelEventListener=function(){this._isScrollTriggeredByMouseWheel=!0}.bind(this),n.addEventListener("wheel",this._wheelEventListener,{passive:!0}),this._mouseDownEventListener=function(){this._isScrollTriggeredByMouseWheel=!1}.bind(this),n.addEventListener("mousedown",this._mouseDownEventListener)};return s.prototype.setAsyncIterator=function(e){this._asyncIterator=e},s.prototype.pauseScrollTracking=function(){this._isScrollTrackingPaused=!0},s.prototype.resumeScrollTracking=function(){this._isScrollTrackingPaused=!1},s.prototype.setFetchTrigger=function(e){null!=e&&!isNaN(e)&&e>=0&&(this._fetchTrigger=e)},s.prototype.destroy=function(){this._unregisterDataSourceEventListeners();var e=r.getScrollEventElement(this._element);e&&(e.removeEventListener("scroll",this._scrollEventListener),e.removeEventListener("wheel",this._wheelEventListener,{passive:!0}),e.removeEventListener("mousedown",this._mouseDownEventListener))},s.prototype.checkViewport=function(e){return this._asyncIterator&&this._element.clientHeight>0&&(e||!this.isOverflow()||this._isEndReached())&&(this._checkViewportCount+=1,this._checkViewportCount===r.CHECKVIEWPORT_THRESHOLD&&i.warn("Viewport not satisfied after multiple fetch, make sure the component is height constrained or specify a scroller."),this._beforeFetchCallback(this._element.scrollTop,!0))?this._fetchMoreRows():(this._checkViewportCount=0,Promise.resolve(null))},s.prototype._doFetch=function(e){var t=this;if(this._beforeFetchCallback(e-this._fetchTrigger,!1)){this._lastFetchTrigger=e;var r=t._isScrollTriggeredByMouseWheel;this._fetchPromise=this._fetchMoreRows().then(function(e){t._successCallback&&(e.isMouseWheel=r,t._successCallback(e),t._fetchPromise=null,t._nextFetchTrigger=void 0)},function(e){if(t._errorCallback){var r=null!=t._controller&&t._controller.signal.aborted;t._errorCallback(e,r),t._fetchPromise=null,t._nextFetchTrigger=void 0}})}else this._nextFetchTrigger=void 0},s.prototype._handleExternalScrollerScrollTop=function(e,t){if(!this._fetchPromise&&this._asyncIterator){var r=this._contentElement.getBoundingClientRect(),i=this._element===document.body||this._element===document.documentElement?t:this._element.getBoundingClientRect().bottom;r.bottom-i<=this._fetchTrigger+r.height*this._fetchThreshold&&this._doFetch(e)}},s.prototype._handleScrollerScrollTop=function(e,t){!this._fetchPromise&&this._asyncIterator&&(t!==this._lastMaxScrollTop&&(this._nextFetchTrigger=Math.max(0,(t-this._fetchTrigger-e)/2),this._lastMaxScrollTop=t),null!=this._nextFetchTrigger&&e-this._lastFetchTrigger>this._nextFetchTrigger)?this._doFetch(e):t-e<1&&e>this._fetchTrigger&&(this._fetchPromise?this._asyncIterator?null!=this._requestCallback&&this._requestCallback():null!=this._errorCallback&&this._errorCallback():this._asyncIterator&&this._doFetch(e))},s.prototype.isOverflow=function(){if(this._isOverflowCallback)return this._isOverflowCallback();var t=(this._contentElement?this._contentElement.scrollHeight:this._element.scrollHeight)-(this._element.clientHeight+this._fetchTrigger);return 1===t&&e.AgentUtils.getAgentInfo().browser===e.AgentUtils.BROWSER.EDGE&&(t=0),t>0},s.prototype._isEndReached=function(){return this._element.scrollHeight-this._element.clientHeight-this._element.scrollTop<Math.max(1,this._fetchTrigger)},s.prototype._fetchMoreRows=function(){if(!this._fetchPromise){var e=this._maxCount-this._rowCount;if(e>0){var t=this;if(this._asyncIterator)return this._fetchPromise=this._asyncIterator.next().then(function(r){var i=r;if(t._fetchPromise=null,null!=i&&null!=i.value){var s=i.value.data.length;s>0&&(t._rowCount+=s,e<=s&&(i.maxCount=t._maxCount,i.maxCountLimit=!0,s>e&&(i.value.data=i.value.data.slice(0,e),i.value.metadata=i.value.metadata.slice(0,e),null!=i.value.fetchParameters&&(i.value.fetchParameters.size=e)))),(i.done||i.maxCountLimit)&&(t._asyncIterator=null)}return Promise.resolve(i)}),this._fetchPromise}return this._asyncIterator=null,Promise.resolve({maxCount:this._maxCount,maxCountLimit:!0})}return this._fetchPromise},s.prototype._handleDataRowMutateEvent=function(e){if(null!=this._asyncIterator){var t,r,i,s=this;null!=e.detail.add&&(null!=(t=e.detail.add).indexes?r=t.indexes:null!=t.addBeforeKeys?i=t.addBeforeKeys:null!=t.afterKeys&&(i=t.afterKeys),this._handleDataRowAddedOrRemoved(i,r,function(){s._rowCount+=1})),null!=e.detail.remove&&(null!=(t=e.detail.remove).indexes?r=t.indexes:null!=t.keys&&(i=t.keys),this._handleDataRowAddedOrRemoved(i,r,function(){s._rowCount-=1}))}},s.prototype._handleDataRowAddedOrRemoved=function(e,t,r){if(t)for(var i=0;i<t.length;i++){var s=t[i];void 0!==s&&this._rowCount>0&&s<=this._rowCount&&r()}else if(e){var n=this._localKeyValidator;null!=n&&e.forEach(function(e){n(e)&&r()})}},s.prototype._registerDataSourceEventListeners=function(){var e,t,r=this._data;if(null!=r)for(this._unregisterDataSourceEventListeners(),this._dataProviderEventHandlers=[],this._dataProviderEventHandlers.push({eventType:"mutate",eventHandler:this._handleDataRowMutateEvent.bind(this)}),e=0;e<this._dataProviderEventHandlers.length;e++)(t=r.addEventListener(this._dataProviderEventHandlers[e].eventType,this._dataProviderEventHandlers[e].eventHandler))&&(this._dataProviderEventHandlers[e].eventHandler=t)},s.prototype._unregisterDataSourceEventListeners=function(){var e,t=this._data;if(null!=this._dataProviderEventHandlers&&null!=t)for(e=0;e<this._dataProviderEventHandlers.length;e++)t.removeEventListener(this._dataProviderEventHandlers[e].eventType,this._dataProviderEventHandlers[e].eventHandler)},s});
//# sourceMappingURL=ojdomscroller.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojkeysetimpl',["ojs/ojcore-base"],function(t){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;return function(e){this.NOT_A_KEY={},this.has=function(t){return this.get(t)!==this.NOT_A_KEY},this.get=function(e){var i,s,n=this.NOT_A_KEY,o=this;if(this._keys.has(e))return e;if(e!==Object(e))return this.NOT_A_KEY;if("function"==typeof Symbol&&"function"==typeof Set.prototype[Symbol.iterator])for(s=(i=this._keys[Symbol.iterator]()).next();!s.done;){if(t.KeyUtils.equals(s.value,e))return s.value;s=i.next()}else this._keys.forEach(function(i){n===o.NOT_A_KEY&&t.KeyUtils.equals(i,e)&&(n=i)});return n},this.InitializeWithKeys=function(t){this._keys=new Set(t)},this.InitializeWithKeys(e)}});
//# sourceMappingURL=ojkeysetimpl.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojset',["ojs/ojkeysetimpl"],function(t){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;class e{constructor(e){this.initialKeys=e;const s=this;this._set=new Set,this._keyset=new t,e&&e.forEach(function(t){s.add(t)}),Object.defineProperty(this,"size",{get(){return this._set.size}}),this[Symbol.iterator]=function(){return this._set[Symbol.iterator]()}}clear(){this._set.clear(),this._keyset._keys.clear()}delete(t){const e=this._keyset.get(t);return e!==this._keyset.NOT_A_KEY&&(this._keyset._keys.delete(e),this._set.delete(e))}forEach(t,e){this._set.forEach(t,e)}keys(){return this._set.keys()}values(){return this._set.values()}entries(){return this._set.entries()}has(t){return this._keyset.has(t)}add(t){return this._keyset.get(t)===this._keyset.NOT_A_KEY&&(this._keyset._keys.add(t),this._set.add(t)),this}get[(Symbol.iterator,Symbol.toStringTag)](){return Set[Symbol.toStringTag]()}}return e});
//# sourceMappingURL=ojset.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojmap',["ojs/ojkeysetimpl"],function(e){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;var t=function(t){t?(this._map=t,this._keyset=new e(Array.from(this._map.keys()))):(this._map=new Map,this._keyset=new e)},s=t.prototype;return Object.defineProperty(s,"size",{get:function(){return this._map.size}}),s.clear=function(){this._map.clear(),this._keyset._keys.clear()},s.delete=function(e){var t=this._keyset.get(e);return t!==this._keyset.NOT_A_KEY&&(this._keyset._keys.delete(t),this._map.delete(t))},s.forEach=function(e){this._map.forEach(e)},s.entries=function(){return this._map.entries()},s.keys=function(){return this._map.keys()},s.values=function(){return this._map.values()},s.get=function(e){var t=this._keyset.get(e);return this._map.get(t)},s.has=function(e){return this._keyset.has(e)},s.set=function(e,t){var s=this._keyset.get(e);return s===this._keyset.NOT_A_KEY?(this._keyset._keys.add(e),this._map.set(e,t)):this._map.set(s,t),this},t});
//# sourceMappingURL=ojmap.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojdataproviderscroller',["exports","ojs/ojcore-base","jquery","ojs/ojcontext","ojs/ojdatacollection-common","ojs/ojconfig","ojs/ojanimation","ojs/ojlogger","ojs/ojdomscroller","ojs/ojset","ojs/ojmap"],function(t,e,i,n,o,s,r,l,a,h,d){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n,a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a,h=h&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h,d=d&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d;var m=function(t,e,i){this.m_root=e,this.m_widget=t,this.m_fetching=!1,this.setDataProvider(i),this.Init()};e.Object.createSubclass(m,e.Object,"DataProviderContentHandler"),m.prototype.Init=function(){m.superclass.Init.call(this)},m.prototype.notifyShown=function(){},m.prototype.notifyAttached=function(){},m.prototype.cleanItems=function(t,e){if(void 0===t&&(t=this.getTemplateEngine()),void 0===e&&(e=this.m_root),t&&e)for(var i=e.childNodes,n=0;n<i.length;n++)t.clean(i[n],this.m_widget.GetRootElement()[0])},m.prototype.Destroy=function(t){null!=this.m_superRoot&&(this.m_root=this.m_superRoot),this.cleanItems(),t&&i(this.m_root).empty(),this._destroySparkles(),this.m_widget=null,this.m_root=null,this.m_superRoot=null},m.prototype.IsReady=function(){return!this.m_fetching},m.prototype.setRootAriaProperties=function(){this.shouldUseGridRole()?this.m_root.setAttribute("role","grid"):this.IsHierarchical()?this.m_root.setAttribute("role","tree"):this.m_root.setAttribute("role","listbox")},m.prototype.RenderContent=function(){this.signalTaskStart("rendering content"),this.setRootAriaProperties(),this.fetchRows(!1),this.signalTaskEnd()},m.prototype.GetKey=function(t){return t.key},m.prototype.FindElementByKey=function(t){for(var i=this.m_root.querySelectorAll("."+this.m_widget.getItemElementStyleClass()+", .oj-listview-temp-item.oj-listview-card-animated"),n=0;n<i.length;n++){var o=i[n];if((t==this.GetKey(o)||e.Object.compareValues(t,this.GetKey(o)))&&!o.classList.contains("oj-listview-item-remove")&&!o.classList.contains("oj-drop"))return o}return null},m.prototype.getDataProvider=function(){return this.m_dataProvider},m.prototype.setDataProvider=function(t){this._removeDataSourceEventListeners(),null!=t&&(this.m_handleModelMutateEventListener=this.handleModelMutateEvent.bind(this),this.m_handleModelRefreshEventListener=this.handleModelRefreshEvent.bind(this),t.addEventListener("mutate",this.m_handleModelMutateEventListener),t.addEventListener("refresh",this.m_handleModelRefreshEventListener)),this.m_dataProvider=t},m.prototype._removeDataSourceEventListeners=function(){var t=this.getDataProvider();null!=t&&(t.removeEventListener("mutate",this.m_handleModelMutateEventListener),t.removeEventListener("refresh",this.m_handleModelRefreshEventListener),e.TableDataSourceAdapter&&t instanceof e.TableDataSourceAdapter&&t.destroy())},m.prototype.loadTemplateEngine=function(){return null!=this.m_widget.getItemTemplate()&&null==this.m_widget._getItemRenderer()?new Promise(t=>{const e={customElement:this.m_widget._GetCustomElement()};s.__getTemplateEngine(e).then(e=>{this.m_engine=e,t(e)},t=>{throw new Error("Error loading template engine: "+t)})}):Promise.resolve(null)},m.prototype.getTemplateEngine=function(){return this.m_engine},m.prototype.fetchRows=function(t){this.m_widget.showStatusText()},m.prototype.GetChildElementTagName=function(){return"LI"},m.prototype.GetReferenceNode=function(t,e){if(-1===e)return null;var n=i(t).children("."+this.m_widget.getItemElementStyleClass()+", ."+this.m_widget.getEmptyTextStyleClass()+", .oj-listview-temp-item");return e===n.length?null:n[e]},m.prototype.addItem=function(t,e,n,o,s,r,l){var a=document.createElement(this.GetChildElementTagName());i(a).uniqueId();var h=this.GetReferenceNode(t,e);this.m_widget.BeforeInsertItem&&this.m_widget.BeforeInsertItem(),t.insertBefore(a,h);var d=i(t).children().index(a);return this._addOrReplaceItem(a,d,t,e,n,o,s,r,!1,l)},m.prototype.replaceItem=function(t,e,n,o,s,r,l){this.signalTaskStart("replace item");var a=t.parentNode,h=i(a).children().index(t),d=document.createElement(this.GetChildElementTagName());return s&&s.clean(t,this.m_widget.GetRootElement()[0]),i(t).replaceWith(d),this._addOrReplaceItem(d,h,a,e,n,o,s,r,l)},m.prototype._addOrReplaceItem=function(t,e,n,s,r,l,a,h,d,m,c){null==h&&(h=this.afterRenderItem.bind(this));var u=this.createContext(e,r,l,t,m),g=this.m_widget._getItemRenderer(),p=this.m_widget.getItemTemplate(),_=!1;if(null!=g)o.applyRendererContent(t,g.call(this,u),!0);else if(null!=p&&null!=a){var f=this.m_widget.GetRootElement()[0],v=this.GetBindingContext(u),y=this.m_widget.getAs?this.m_widget.getAs():null,w=a.execute(f,p,v,y);if(c)_=c(w);else{for(var S=this.GetChildElementTagName(),E=0;E<w.length;E++)if(w[E].tagName===S){_=!0;break}_?t.replaceWith(...w):t.append(...w)}}else{var k=document.createElement("span");k.appendChild(document.createTextNode(null==r?"":r.toString())),t.appendChild(k)}m&&m.suggestion&&t.appendChild(this._createAccInfoForSuggestion());var C=n.children?n.children[e]:this._getItemFromDocumentFragment(n,e);return u.parentElement=C,i.data(C,"data",r),i.data(C,"metadata",m),h(C,u,_,d)},m.prototype._createAccInfoForSuggestion=function(){const t=document.createElement("span");return t.classList.add("oj-helper-hidden-accessible"),t.classList.add("oj-listview-acc-suggestion"),t.textContent=this.m_widget.ojContext.getTranslatedString("accessibleSuggestion"),t},m.prototype._getItemFromDocumentFragment=function(t,e){for(var i=0,n=t.childNodes,o=0;o<n.length;o++){var s=n[o];if(!s)break;if(1===s.nodeType){if(i===e)return s;i+=1}}return null},m.prototype.GetBindingContext=function(t){var e={};return e.data=t.data,e.index=t.index,e.key=t.key,e.componentElement=t.componentElement,e.item={data:t.data,metadata:t.metadata},e},m.prototype.afterRenderItem=function(t,e){t.key=e.key;var n=i(t);n.uniqueId();var o,s=this.m_widget.getGroupItemStyleClass();if(o=t.firstElementChild&&t.firstElementChild.classList.contains(s)?this.m_widget.getSingleFocusableElement(i(t.firstElementChild)):this.m_widget.getSingleFocusableElement(n),this.shouldUseGridRole())if(null==e.leaf||e.leaf)if(this.isCardLayout())o.attr("role","gridcell");else if(n.attr("role","row"),o!==n)o.attr("role","gridcell");else{if(0===o.children().length)o.get(0).innerHTML="<div role='gridcell' class='oj-listview-cell-element'></div>";else{var r=document.createElement("div");for(r.setAttribute("role","gridcell"),r.className="oj-listview-cell-element";o[0].firstChild;)r.appendChild(o[0].firstChild);o[0].appendChild(r)}}else n.attr("role","presentation");else o.attr("role",this.IsHierarchical()?"treeitem":"option"),o!==n&&n.attr("role","presentation");return o.addClass(this.m_widget.getFocusedElementStyleClass()),this.isFocusable(e)||n.addClass("oj-skipfocus"),n.addClass(this.m_widget.getItemElementStyleClass()),Promise.resolve(!0)},m.prototype.getMetadata=function(t,e,i,n){var o=i.context;return null==o&&(o={}),null==o.index&&(o.index=t),null==o.key&&(o.key=e),o},m.prototype.handleModelMutateEvent=function(t){null!=this.m_root&&this.m_widget.isAvailable()&&(null!=t.detail.remove&&this.handleModelRemoveEvent(t),null!=t.detail.add&&this.handleModelAddEvent(t),null!=t.detail.update&&this.handleModelChangeEvent(t),this.getValidatedEventDetailPromise&&this.getValidatedEventDetailPromise.then(()=>{null!=this.m_widget&&(t.detail.remove&&this.handleModelRemoveEvent(t),this.getValidatedEventDetailPromise=null)}))},m.prototype.handleModelRefreshEvent=function(t){},m.prototype._pushToEventQueue=function(t){null==this.m_eventQueue&&(this.m_eventQueue=[]),this.m_eventQueue.push(t)},m.prototype._processEventQueue=function(){var t;if(null!=this.m_eventQueue&&this.m_eventQueue.length>0){for(var e=0;e<this.m_eventQueue.length;e++)if("refresh"===(t=this.m_eventQueue[e].event).type&&(null==t.detail||null==t.detail.keys))return void this.handleModelRefreshEvent(t);"mutate"===(t=this.m_eventQueue.shift().event).type?this.handleModelMutateEvent(t):"refresh"===t.type&&t.detail&&t.detail.keys&&this.handleModelRefreshEvent(t)}},m.prototype._clearEventQueue=function(){null!=this.m_eventQueue&&(this.m_eventQueue.length=0)},m.prototype.addItemsForModelInsert=function(t,e,i,n,o){},m.prototype.getIndex=function(t,e){if(null==t||0===t.length||e>=t.length)return-1;var n=t[e],o=this.FindElementByKey(n);return null!=o?i(o.parentNode).children().index(o):-1},m.prototype._getMaxCount=function(){return this.m_widget.options.scrollPolicyOptions.maxCount},m.prototype._handleScrollerMaxRowCount=function(){l.info("ScrollPolicyOptions max count has been reached.")},m.prototype.truncateIfOverMaxCount=function(t,e){const i=t.data.length,n=i+e,o=this._getMaxCount()-n;o<0&&(t.data.splice(o,i),t.metadata.splice(o,i),this._handleScrollerMaxRowCount())},m.prototype.getValidatedEventDetail=function(t){const e=this.m_widget._addComponentBusyState("validating mutation add event detail");return o.getEventDetail(this.getDataProvider(),t).then(t=>{if(null===t)return e(),null;const i="."+this.m_widget.getItemElementStyleClass(),n=this.m_root.querySelectorAll(i);return this.truncateIfOverMaxCount(t,n.length),e(),t})},m.prototype.handleModelAddEvent=function(t){if(this.IsReady()){this.signalTaskStart("handling model add event"),this.m_superRoot&&0===this.m_root.childElementCount&&this.m_superRoot.appendChild(this.m_root.parentNode);var e,i,n=t.detail.add,o=n.data,s=[];n.keys.forEach(function(t){s.push(t)});var r=!0;void 0!==n.addBeforeKeys?i=n.addBeforeKeys:void 0!==n.afterKeys&&(i=n.afterKeys,r=!1),i&&(e=[],i.forEach(function(t){e.push(t)}));var l=n.parentKeys,a=n.indexes,h=n.metadata;null!=o&&null!=s&&s.length>0&&o.length>0&&s.length===o.length&&(null==a||a.length===o.length)?(this.addItemsForModelInsert(o,a,s,l,r,e,h),this.signalTaskEnd()):(null==o||null==h)&&null!=s&&s.length>0?this.getValidatedEventDetailPromise=this.getValidatedEventDetail(t.detail.add).then(t=>{null!=this.m_widget?(null!=t&&null!=t.data&&(o=t.data,h=t.metadata,o.length>0&&s.length===o.length&&(null==a||a.length===o.length)&&this.addItemsForModelInsert(o,a,s,l,r,e,h)),this.signalTaskEnd()):this.signalTaskEnd()}):this.signalTaskEnd()}else this._pushToEventQueue({type:t.type,event:t})},m.prototype.afterRenderItemForInsertEvent=function(t,e,o){this.signalTaskStart("after render item from model insert event"),t.setAttribute("data-oj-context",""),this.afterRenderItem(t,e,o);var s=i(t),r=t.className;t._className=r,t.className="oj-listview-temp-item oj-listview-item-add-remove-transition";var l=this.isCardLayout();l&&(t.className=t.className+" oj-listview-card-animated "+this.m_widget.getItemStyleClass()),this.shouldUseGridRole()||s.children().wrapAll("<div></div>");var a=s.children().first();if(l||(a[0].className=r),a[0].key=t.key,this.shouldUseGridRole()){if(!l){var h=a[0].firstElementChild;h&&h.classList.add("oj-listview-cell-element")}}else a.attr("role",t.getAttribute("role")),s[0].hasAttribute("aria-selected")&&a.attr("aria-selected",t.getAttribute("aria-selected"));var d=this;return t.style.opacity=0,new Promise(function(i){n.getContext(t).getBusyContext().whenReady().then(function(){if(null!=d.m_widget){d.signalTaskStart("kick off animation for insert item");var n=t.className;t.style.opacity="",d.m_widget.StartAnimation(t,"add").then(function(){t.removeAttribute("data-oj-context"),d._handleAddTransitionEnd(e,t,n),i(!0)}),d.signalTaskEnd()}else i(!0)})})},m.prototype._handleAddTransitionEnd=function(t,e,n){if(null!=this.m_widget&&null!=e.parentNode){var o=n.split(" "),s=e.className.split(" "),r=e.classList.contains("oj-focus")&&e.classList.contains("oj-focus-highlight"),l=e.classList.contains("oj-selected"),a=e.classList.contains("oj-listview-card-animated");if(e.className=e._className,r&&(e.classList.add("oj-focus"),e.classList.add("oj-focus-highlight")),l&&e.classList.add("oj-selected"),a&&e.classList.add("oj-listview-card-animated"),s.forEach(function(t){-1===o.indexOf(t)&&e.classList.add(t)}),this.shouldUseGridRole()){if(!this.isCardLayout()){var h=e.firstElementChild;if(h){e._className.split(" ").forEach(function(t){h.classList.remove(t)}),h.classList.add("oj-listview-cell-element");var d=h.firstElementChild;d&&d.classList.remove("oj-listview-cell-element")}}}else i(e).children().children().unwrap();this.m_widget.itemInsertComplete(e,t),this.signalTaskEnd()}else this.signalTaskEnd()},m.prototype.handleModelRemoveEvent=function(t){var e=this,i=t.detail.remove.keys;if(null==i||0===i.size)return!1;if(!this.IsReady())return this._pushToEventQueue({type:t.type,event:t}),!1;this.signalTaskStart("handling model remove event");var n=null!=t.detail.add?t.detail.add.keys:new Set,o=[],s=[];if(i.forEach(function(t){var i=n.has(t);i||o.push(t);var r=e.FindElementByKey(t);null!=r?(e.signalTaskStart("handling model remove event for item: "+t),r.classList.add("oj-listview-item-remove"),r.parentNode.classList.contains("oj-listview-temp-item")&&(r=r.parentNode),s.push(e.removeItem(r,i)),e.signalTaskEnd()):l.log("handleModelRemoveEvent: cannot find item with key "+t)}),this.isSelectionEnabled()){if(o.length>0){var r=this.m_widget.options.selected,a=r.delete(o);if(r!==a){var h=[];a.values&&a.values().forEach(function(t){h.push(e.FindElementByKey(t))}),this.m_widget._setSelectionOption(a,null,h)}}n.size>0&&this.m_widget.resetInitialSelectionStateValidated()}return this.handleRemoveItemsPromises(s),this.signalTaskEnd(),!0},m.prototype.handleRemoveItemsPromises=function(t){},m.prototype.removeItem=function(t,e){var n=this;this.signalTaskStart("removing an item");var o=document.activeElement,s=t.contains(o),r=i(t).get(0),l=r.className;i(r).children().wrapAll("<div class='"+l+"'></div>"),r.className="oj-listview-item-add-remove-transition oj-listview-item-remove",r.children[0].key=t.key,this.signalTaskStart("kick off animation to remove an item"),this.m_widget.disableResizeListener();var a=this.m_widget.StartAnimation(r,"remove");return a.then(function(){n.handleRemoveTransitionEnd(t,s,e),n.m_widget&&n.m_widget.enableResizeListener()},function(){n.m_widget&&n.m_widget.enableResizeListener()}),this.signalTaskEnd(),a},m.prototype.handleRemoveTransitionEnd=function(t,e,n){if(null!=this.m_widget){var o=i(t),s=o.parent();if(0!==s.length){var r=this.m_widget.itemRemoveComplete(o.get(0),e,n),l=this.getTemplateEngine();l&&l.clean(o.get(0),this.m_widget.GetRootElement()[0]),o.remove(),this.m_widget.ClearCache(),0===s.get(0).childElementCount&&this.m_widget.renderComplete(!0),this.isSelectionEnabled()&&this.m_widget.enforceSelectionRequired(),r&&e&&!this.m_root.contains(document.activeElement)&&this.m_root.focus(),this.signalTaskEnd()}else this.signalTaskEnd()}else this.signalTaskEnd()},m.prototype.handleModelChangeEvent=function(t){this.signalTaskStart("handling model update event");var e=t.detail.update,i=e.data,n=[];e.keys.forEach(function(t){n.push(t)});var o,s=this.getTemplateEngine(),r=(t,e,i,n)=>{var s=!1;o&&(s=o.classList.contains("oj-focus-previous-highlight")),this.afterRenderItemForChangeEvent(t,e,i,n,s)},l=()=>{for(var t=e.indexes,l=0;l<n.length;l++){this.m_widget.updateSelectedKeyData(n[l],i[l]);var a=this.FindElementByKey(n[l]);if(null!=a){void 0===o&&a.contains(document.activeElement)&&(o=a),this.signalTaskStart("handling model update event for item: "+n[l]);var h=null==t?-1:t[l];this.replaceItem(a,h,i[l],this.getMetadata(h,n[l],i[l],a.parentNode),s,r,null!=o),this.signalTaskEnd(),null!=o&&(o=null)}}this.m_widget.ClearCache()};null==i?this.getValidatedEventDetailPromise=this.getValidatedEventDetail(e).then(t=>{null!=this.m_widget?(null!=t&&(i=t.data,l()),this.signalTaskEnd()):this.signalTaskEnd()}):(l(),this.signalTaskEnd())},m.prototype.afterRenderItemForChangeEvent=function(t,e,i,n,o){var s=this;this.signalTaskStart("after render item for model change event"),this.afterRenderItem(t,e,i),this.m_widget.StartAnimation(t,"update").then(function(){s._handleReplaceTransitionEnd(t,n),t&&o&&t.classList.add("oj-focus","oj-focus-highlight")}),this.signalTaskEnd()},m.prototype._handleReplaceTransitionEnd=function(t,e){null!=this.m_widget?(i(t).removeClass("oj-listview-item-add-remove-transition"),e&&this.m_widget.restoreCurrentItemFocus(t),this.signalTaskEnd()):this.signalTaskEnd()},m.prototype.createContext=function(t,e,i,n,o){var s={};s.parentElement=n,s.index=t,s.data=e,s.component=this.m_widget.getWidgetConstructor(),s.datasource=this.getDataProvider(),(s=this.m_widget._FixRendererContext(s)).metadata=o;for(var r=Object.keys(i),l=0;l<r.length;l++){var a=r[l];s[a]=i[a]}return s},m.prototype.isSelectionEnabled=function(){return this.m_widget._isSelectionEnabled()},m.prototype.isFocusable=function(t){return this.m_widget.getItemFocusable(t)},m.prototype.isSelectable=function(t){return this.m_widget.getItemSelectable(t)},m.prototype.isCardLayout=function(){return this.m_widget.isCardLayout()},m.prototype.shouldUseGridRole=function(){return this.m_widget.ShouldUseGridRole()},m.prototype.isAsyncRendering=function(){return!1},m.prototype.signalTaskStart=function(t){this.m_widget&&this.m_widget.signalTaskStart("DataSource ContentHandler "+t)},m.prototype.signalTaskEnd=function(){this.m_widget&&this.m_widget.signalTaskEnd()},m.prototype.isSkeletonSupport=function(){return this.m_widget.isSkeletonSupport()},m.prototype.getRootElementHeight=function(){return isNaN(this.m_height)&&(this.m_height=this.m_widget.GetRootElement()[0].offsetHeight),this.m_height},m.prototype.getDefaultSkeletonDimension=function(){if(null==this.m_defaultSkeletonDim){var t=this.m_widget.GetRootElement()[0],e=this.createSkeleton(!0);e.style.display="block",e.style.visibility="hidden",t.appendChild(e);var i={width:e.offsetWidth,height:e.offsetHeight};return t.removeChild(e),i.height>0&&i.width>0&&(this.m_defaultSkeletonDim=i),i}return this.m_defaultSkeletonDim},m.prototype.createSkeleton=function(t){return this.createSkeletonItem()},m.prototype.createSkeletonItem=function(){var t=document.createElement("li");t.setAttribute("role","presentation");var e=document.createElement("div");return t.className="oj-listview-item oj-listview-item-layout",this.m_widget._isGridlinesVisible()||t.classList.add("gridline-hidden"),e.className="oj-listview-cell-element oj-listview-skeleton oj-listview-skeleton-line-height oj-animation-skeleton",t.appendChild(e),t},m.prototype.animateShowContent=function(t,e,o){return new Promise(function(s){var l=null!=this.m_superRoot?this.m_superRoot:this.m_root,a=l.querySelector(".oj-listview-skeleton-container");if(null!=a){t.appendChild(e);var h=Array.from(t.children),d=[];h.forEach(function(t){if(t!==a.parentNode){t.style.opacity=0,t.setAttribute("data-oj-context","");var e=n.getContext(t).getBusyContext().whenReady();d.push(e)}}),Promise.all(d).then(function(){null!=this.m_widget&&l.contains(a)?r.fadeOut(a,{duration:"100ms"}).then(function(){if(null!=this.m_widget&&l.contains(a)){var e=a.parentNode;e.classList.contains("oj-listview-initial-skeletons")?l.removeChild(e):a.querySelectorAll(".oj-listview-skeleton").forEach(function(t){var e=t.parentNode;e&&a===e.parentNode&&a.removeChild(e)}),t.style.opacity=0,h.forEach(function(t){t!==a.parentNode&&(t.style.opacity=1,t.removeAttribute("data-oj-context"))}),setTimeout(function(){r.fadeIn(t,{duration:"150ms",persist:"all"}).then(function(){0===parseInt(t.style.opacity,10)&&(t.style.opacity=1)})},0),s(!1)}else s(null)}.bind(this)):s(null)}.bind(this))}else o&&i(t).empty(),t.appendChild(e),s(!1)}.bind(this))},m.prototype._destroySparkles=function(){this.m_sparklesObserver&&(this.m_sparklesObserver.disconnect(),this.m_sparklesObserver=null),this.m_sparkles&&(this.m_sparkles.remove(),this.m_sparkles=null)},m.prototype._debounce=function(t,e){let i=null;return(...n)=>{clearTimeout(i),i=setTimeout(()=>t(...n),e)}},m.prototype.handleSuggestions=function(t){for(var e=0,i=0;i<t.length;i++)void 0!==t[i].suggestion&&(e+=1);return e},m.prototype.getItems=function(t,e){var i=t.querySelectorAll(".oj-listview-item-element");return Array.prototype.slice.call(i,0,e)},m.prototype.renderSparkles=function(t){if(void 0===t&&(t=this.m_root.querySelectorAll("[data-oj-suggestion]")),null!=t&&0!==t.length){if(null==this.m_sparkles){var e=document.createElement("li");e.className="oj-listview-sparkles",e.setAttribute("role","presentation"),this.m_sparkles=e}if(null==this.m_sparklesObserver){var i=new Map;this.m_sparklesObserver=new ResizeObserver(this._debounce(t=>{var e=!1;t.forEach(t=>{var n=i.get(t.target);null!=n&&Math.abs(n-t.contentRect.height)>1&&(e=!0),i.set(t.target,t.contentRect.height)}),e&&this.m_widget&&this.renderSparkles()},100))}for(var n=0,o=0;o<t.length;o++)n+=t[o].offsetHeight,t[o].dataset.ojSuggestion="true",this.m_sparklesObserver.unobserve(t[o]),this.m_sparklesObserver.observe(t[o]),o===t.length-1&&t[o].classList.add("oj-listview-last-suggestion");this.m_sparkles.style.top=this.m_root.offsetTop+"px",this.m_sparkles.style.height=n+"px",this.m_sparkles.style.display="block",null==this.m_sparkles.parentNode&&this.m_root.insertBefore(this.m_sparkles,this.m_root.firstElementChild)}else this._destroySparkles()};var c=function(t,e,i){c.superclass.constructor.call(this,t,e,i)};e.Object.createSubclass(c,m,"IteratingDataProviderContentHandler"),c.prototype.Init=function(){c.superclass.Init.call(this),this.m_currentEvents=[]},c.prototype.IsHierarchical=function(){return!1},c.prototype.IsReady=function(){return!this.m_fetching&&null==this.m_idleCallback},c.prototype._hasPendingInsertKeys=function(){return null!=this.m_insertOutOfRangeKeys&&this.m_insertOutOfRangeKeys.size>0},c.prototype._destroyDomScroller=function(){null!=this.m_domScroller&&(this.m_domScroller.destroy(),this.m_domScroller=null),this._removeLoadingIndicator(),this.m_widget&&this.m_widget.unmergeScrollListener()},c.prototype.Destroy=function(t){c.superclass.Destroy.call(this,t),this._removeDataSourceEventListeners(),this._destroyDomScroller(),this._cancelIdleCallback(),this.m_loadingIndicator=null,this.m_viewportCheckPromise=null,this.m_checkViewportPromise=null,this.m_controller=null,this.m_lastFetchPromise=null},c.prototype._cancelIdleCallback=function(){null!=this.m_idleCallback&&(o.isRequestIdleCallbackSupported()?(window.cancelIdleCallback(this.m_idleCallback),window.cancelAnimationFrame(this.m_idleCallback)):window.cancelAnimationFrame(this.m_idleCallback),this.m_idleCallback=null)},c.prototype.shouldHandleResize=function(){return this._isLoadMoreOnScroll()},c.prototype.HandleResize=function(t,e){if(this._isLoadMoreOnScroll()&&null==this.m_animationPromise){var i=this.m_width,n=this.m_height;this.m_height=e,this.m_width=t,this.m_colCount=void 0;var o=this.isCardLayout();if(o&&this.isSkeletonSupport()&&i!==t)if(null!=this.m_loadingIndicator)this._adjustLoadMoreSkeletons(this._getRootElementWidth(!0));else null!=this.m_root.querySelector(".oj-listview-skeleton-container")&&this.renderInitialSkeletons();(e>n||o&&t>i)&&this.checkViewport()}},c.prototype.notifyShown=function(){this.m_widget&&this.m_suggestions>0&&this.renderSparkles(this.getItems(this.m_root,this.m_suggestions)),this._isLoadMoreOnScroll()&&this.checkViewport()},c.prototype.notifyAttached=function(){if(null!=this.m_domScroller){var t=this._getFetchTrigger();if(null!=t){var e=this._getFetchTrigger();t!==e&&this.m_domScroller.setFetchTrigger(e),this.checkViewport()}}},c.prototype.setRootAriaProperties=function(){c.superclass.setRootAriaProperties.call(this);var t=this;this.shouldUseGridRole()&&this._isLoadMoreOnScroll()&&this.getDataProvider().getTotalSize().then(function(e){t.m_root&&t.m_root.setAttribute("aria-rowcount",-1===e?t._getMaxCount():e)})},c.prototype.unsetRootAriaProperties=function(){c.superclass.unsetRootAriaProperties.call(this),this.m_root.removeAttribute("aria-rowcount")},c.prototype._isLoadMoreOnScroll=function(){return this.m_widget.isLoadMoreOnScroll()},c.prototype._getFetchSize=function(){return Math.max(0,this.m_widget.options.scrollPolicyOptions.fetchSize)},c.prototype._getScroller=function(){return this.m_widget._getScroller()},c.prototype._getScrollerOffsetTop=function(){if(void 0===this._scrollerOffsetTop){var t=this._getScroller();t===this.m_widget.GetRootElement()[0]?this._scrollerOffsetTop=0:this._scrollerOffsetTop=o.calculateOffsetTop(t,this.m_root)}return this._scrollerOffsetTop},c.prototype._getFetchTrigger=function(){return void 0===this._fetchTrigger&&(this._fetchTrigger=this._getLoadingIndicatorHeight()),this._fetchTrigger},c.prototype._getLoadingIndicatorHeight=function(){var t;if(this.isSkeletonSupport()){var e=this.getDefaultSkeletonDimension().height;if(this.isCardLayout()){var n=this._getCardDimension();t=null!=n?n.height:e}else t=c.LOAD_MORE_SKELETONS_ROW_COUNT*e}else{var o=i(document.createElement("div"));o.addClass(this.m_widget.getItemStyleClass()).css({visibility:"hidden",overflow:"hidden",position:"absolute"});var s=i(document.createElement("div"));s.addClass("oj-icon oj-listview-loading-icon"),o.append(s),i(this.m_widget.GetRootElement()).append(o),t=o.get(0).offsetHeight,o.remove()}return t},c.prototype._adjustSkeletonCardContent=function(t,e,i){t.style.width=e+"px",t.style.height=i+"px"},c.prototype._createSkeletonCard=function(){var t=document.createElement("li");t.setAttribute("role","presentation");var e=document.createElement("div");return t.className="oj-listview-skeleton-card",e.className="oj-listview-skeleton oj-listview-skeleton-card-content oj-animation-skeleton",t.appendChild(e),t},c.prototype.createSkeleton=function(t){var e;if(this.isCardLayout())if(t)void 0===this.m_defaultItemSkeleton&&(this.m_defaultItemSkeleton=this._createSkeletonCard()),e=this.m_defaultItemSkeleton;else{if(void 0===this.m_defaultLoadMoreSkeleton){var i=this._createSkeletonCard(),n=this._getCardDimension();n&&this._adjustSkeletonCardContent(i,n.width,n.height),this.m_defaultLoadMoreSkeleton=i}e=this.m_defaultLoadMoreSkeleton}else void 0===this.m_defaultItemSkeleton&&(this.m_defaultItemSkeleton=this.createSkeletonItem()),e=this.m_defaultItemSkeleton;return e.cloneNode(!0)},c.prototype._getScrollbarWidth=function(){if(isNaN(this.m_scrollbarWidth)){var t=this.m_widget.GetRootElement()[0],e=document.createElement("div");t.appendChild(e),this.m_scrollbarWidth=Math.max(0,o.getDefaultScrollBarWidth(e)),t.removeChild(e)}return this.m_scrollbarWidth},c.prototype._getRootElementWidth=function(t){return isNaN(this.m_width)&&(this.m_width=this.m_widget.GetRootElement()[0].offsetWidth),t?this.m_width-this._getScrollbarWidth():this.m_width},c.prototype.renderInitialSkeletons=function(){this.m_superRoot&&(this.m_root=this.m_superRoot,this.m_superRoot=null),this.m_engine&&null!=this.m_root.querySelector(".oj-listview-item-element")&&this.cleanItems(this.m_engine),i(this.m_root).empty();var t=this.getRootElementHeight(),e=0,n=this.getDefaultSkeletonDimension();if(n.width>0&&n.height>0)if(this.isCardLayout()){var o=this.getMargin(),s=this._getRootElementWidth(),r=Math.max(1,Math.floor(s/(n.width+o)));e=Math.max(1,Math.floor(t/(n.height+o)))*r}else e=Math.max(1,Math.floor(t/n.height));var l=document.createElement("li");l.setAttribute("role","presentation"),l.classList.add("oj-listview-initial-skeletons");var a=document.createElement("ul");a.setAttribute("role","presentation"),a.className=this.m_widget.getGroupStyleClass()+" oj-listview-skeleton-container";for(var h=0;h<e;h++)a.appendChild(this.createSkeleton(!0));l.appendChild(a),this.m_root.appendChild(l)},c.LOAD_MORE_SKELETONS_ROW_COUNT=3,c.prototype._adjustLoadMoreSkeletons=function(t,e){var i=this._getCardDimension();if(null!=i&&0!==i.width){if(!e){var n=this.getMargin();if(0===Math.floor(t/(i.width+n))-this.m_loadingIndicator.get(0).firstElementChild.childElementCount)return}this.m_loadingIndicator.get(0).parentNode.removeChild(this.m_loadingIndicator.get(0)),null!=this.m_fillerSkeletons&&this.m_fillerSkeletons.parentNode.removeChild(this.m_fillerSkeletons),this.m_loadingIndicator=null,this.m_fillerSkeletons=null,this.m_defaultLoadMoreSkeleton=void 0,this._appendLoadingIndicator()}},c.prototype.getMargin=function(){if(void 0===this.m_margin){var t=document.createElement("li");t.className=this.m_widget.getItemStyleClass(),this.m_root.appendChild(t);var e=window.getComputedStyle(t);this.m_margin=parseInt(e.marginRight,10),this.m_root.removeChild(t)}return this.m_margin},c.prototype._getCardDimension=function(){if(void 0===this.m_cardDim){var t=this.m_root.querySelector("."+this.m_widget.getItemElementStyleClass());if(t){var e={width:t.offsetWidth,height:t.offsetHeight};return e.width>0&&e.height>0&&(this.m_cardDim=e),e}}return this.m_cardDim},c.prototype._renderSkeletons=function(t){var e=this.createLoadingIndicator();e.setAttribute("role","presentation"),e.classList.add("oj-listview-skeleton-container");var i=document.createElement("ul");i.setAttribute("role","presentation"),i.className=this.isCardLayout()?"oj-listview-skeleton-card-group":"oj-listview-group",e.appendChild(i);for(var n=0;n<t;n++)i.appendChild(this.createSkeleton(!1));return e},c.prototype._fillEmptySpaceWithSkeletons=function(){var t=this._getCardDimension();if(null!=t&&0!==t.width){var e=this.m_root.lastElementChild,i=t.width+this.getMargin(),n=this._getRootElementWidth(!0),o=Math.floor((n-e.offsetLeft-i)/i);if(o>0){var s=this._renderSkeletons(o);s.style.visibility="hidden",this.m_root.appendChild(s),this.m_fillerSkeletons=s}}},c.prototype._createLoadMoreSkeletons=function(){var t;if(this.isCardLayout()){var e=this._getRootElementWidth(!0),i=this._getCardDimension(),n=void 0===i?this.getDefaultSkeletonDimension().width:i.width;t=0===n?0:Math.floor(e/(n+this.getMargin()))}else t=c.LOAD_MORE_SKELETONS_ROW_COUNT;return this._renderSkeletons(t)},c.prototype._createLoadMoreIcon=function(){var t=i(this.createLoadingIndicator());t.uniqueId().attr("role","presentation").addClass(this.m_widget.getItemStyleClass()).addClass("oj-listview-loading-icon-container");var e=i(document.createElement("div"));return e.addClass("oj-icon oj-listview-loading-icon"),t.append(e),t.get(0)},c.prototype.createLoadingIndicator=function(){return document.createElement("li")},c.prototype._appendLoadingIndicator=function(){if(null==this.m_loadingIndicator)if(this.m_appendLoadingindicator=!0,this.isSkeletonSupport()&&this.isCardLayout()&&null!=this._getCardDimension()&&0===this._getCardDimension().width){var t=this;n.getContext(this.m_root).getBusyContext().whenReady().then(function(){t.m_appendLoadingindicator&&t._doAppendLoadingIndicator()})}else this._doAppendLoadingIndicator()},c.prototype._doAppendLoadingIndicator=function(){this.isSkeletonSupport()&&this.isCardLayout()&&this._fillEmptySpaceWithSkeletons();var t=this.isSkeletonSupport()?this._createLoadMoreSkeletons():this._createLoadMoreIcon();t.style.visibility="hidden",this.m_root.appendChild(t),this.m_loadingIndicator=i(t),this.m_appendLoadingindicator=!1},c.prototype._removeLoadingIndicator=function(){null!=this.m_loadingIndicator&&this.m_loadingIndicator.remove(),this.m_loadingIndicator=null,null!=this.m_fillerSkeletons&&this.m_fillerSkeletons.remove(),this.m_fillerSkeletons=null,this.m_appendLoadingindicator=!1},c.prototype.hasMoreToFetch=function(){return null!=this.m_loadingIndicator},c.prototype.getLoadingIndicator=function(){return null!=this.m_loadingIndicator?this.m_loadingIndicator.get(0):null},c.prototype.afterRenderItem=function(t,e,n){c.superclass.afterRenderItem.call(this,t,e,n),i(t).addClass(this.m_widget.getItemStyleClass()),!n&&this.m_widget.getItemLayoutStyleClass&&t.classList.add(this.m_widget.getItemLayoutStyleClass()),this.isSelectionEnabled()&&this.isSelectable(e)&&this.m_widget.getFocusItem(i(t)).attr("aria-selected",!1),this._isLoadMoreOnScroll()&&!this.isCardLayout()&&i(t).attr("aria-rowindex",e.index+1),this.m_widget.itemRenderComplete(t,e)},c.prototype._prepareRootElement=function(){this.m_superRoot?(i(this.m_superRoot).empty(),this.m_root=this.m_superRoot,this.m_superRoot=null):null==this.m_root.querySelector(".oj-listview-initial-skeletons")&&i(this.m_root).empty();if(this.shouldUseGridRole()&&this.isCardLayout()){var t=document.createElement("li");t.classList.add("oj-listview-group-container");var e=document.createElement("ul");t.appendChild(e),i(t).attr("role","presentation").css("width","100%"),i(e).attr("role","row").addClass(this.m_widget.getGroupStyleClass()),this.m_root.appendChild(t),this.m_superRoot=this.m_root,this.m_root=e}this.m_loadingIndicator&&(l.log("prepareRootElement: load more indicator detected"),this.m_loadingIndicator=null)},c.prototype._setFetching=function(t){this.shouldUseGridRole()&&(null==this.m_superRoot?this.m_root:this.m_superRoot).setAttribute("aria-busy",t);this.m_fetching=t},c.prototype._containsKey=function(t,i){for(var n=0;n<i.length;n++)if(e.KeyUtils.equals(i[n].key,t))return!0;return!1},c.prototype.fetchRows=function(t){var i=0;if(this.signalTaskStart("fetching rows"),this.IsReady()){var n=this;this._setFetching(!0),c.superclass.fetchRows.call(this,t);var s=this.m_widget.getScrollToKey(),r=this.loadTemplateEngine();this.signalTaskStart("first fetch"),this._clientId=this._clientId||Symbol();var l=new AbortController;this.m_controller=l;var a={clientId:this._clientId,signal:this.m_controller.signal};a.size=this._isLoadMoreOnScroll()?this._getFetchSize():-1,this.m_dataProviderAsyncIterator=this.getDataProvider().fetchFirst(a)[Symbol.asyncIterator]();var h=this.m_dataProviderAsyncIterator.next();this.m_lastFetchPromise=h,n.fetchSize=a.size;var d=function(t,e,i){var o=i;return(null==i||n._containsKey(i,e))&&(o=null),t[0].done||null==o&&(-1!==n.fetchSize||"function"==typeof n.getDataProvider().getPageCount)?t:n.m_dataProviderAsyncIterator.next().then(function(e){return t[0].done=e.done,t[0].value.data=t[0].value.data.concat(e.value.data),t[0].value.metadata=t[0].value.metadata.concat(e.value.metadata),d(t,e.value.metadata,o)},function(t){n._handleFetchError(t,l.signal.aborted),n.signalTaskEnd()})};return Promise.all([h,r,s]).then(function(t){return n.m_lastFetchPromise!==h?(n.signalTaskEnd(),Promise.resolve(null)):d(t,t[0].value.metadata,t[2])},function(t){return n.m_lastFetchPromise!==h?(n.signalTaskEnd(),Promise.resolve(null)):(n._handleFetchError(t,l.signal.aborted),n.signalTaskEnd(),Promise.reject(t))}).then(function(t){if(t){if(null==n.m_widget)return;var s=t[0],r=t[1];if(o.isFetchAborted(s))return void n.signalTaskEnd();var l=n.getDataProvider();e.TableDataSourceAdapter&&l instanceof e.TableDataSourceAdapter&&(i=l.offset),0===i&&(r&&n.cleanItems(r),n.isSkeletonSupport()&&n.m_widget.hideStatusText(),n._prepareRootElement()),n._handleFetchedData(s,r,0===i)}},function(){}),void this.signalTaskEnd()}this.signalTaskEnd()},c.prototype._handleFetchError=function(t,e){if(l.error(t),!this.m_widget||!e)if(this._setFetching(!1),null!=this.m_widget){var i=this.m_root.querySelector(".oj-listview-initial-skeletons");null!=i&&i.parentNode.removeChild(i),this._isLoadMoreOnScroll()&&this._removeLoadingIndicator(),this.m_widget.renderComplete(!0)}else l.info("handleFetchError: widget has already been destroyed")},c.prototype._renderItemsWhenIdle=function(t,i,n,s,r,l){var a,h=this;0!==t.length&&0!==i.length?o.isRequestIdleCallbackSupported()?(r&&e.AgentUtils.getAgentInfo().engine===e.AgentUtils.ENGINE.BLINK&&(a={timeout:100}),this.m_idleCallback=window.requestIdleCallback(function(e){for(var o=e.timeRemaining(),r=0,a=document.createDocumentFragment();(o>r||e.didTimeout)&&0!==t.length&&0!==i.length;){var m=t.shift(),c=null!=l?l.shift():null,u=i.shift();h.addItem(a,-1,m,h.getMetadata(n,u,m),s,null,c),n+=1,r=o-e.timeRemaining(),o=e.timeRemaining()}d(a)},a)):this.m_idleCallback=window.requestAnimationFrame(function(){var e=document.createDocumentFragment(),o=t.shift(),r=null!=l?l.shift():null,a=i.shift();h.addItem(e,-1,o,h.getMetadata(n,a,o),s,null,r),n+=1,d(e)}):window.requestAnimationFrame(function(){h.m_idleCallback&&(h._appendLoadingIndicator(),h.afterItemsInserted(!1,!0),h.signalTaskEnd()),h.m_idleCallback=null});function d(e){window.requestAnimationFrame(function(){null!=h.m_widget&&(h.m_root.appendChild(e),h._renderItemsWhenIdle(t,i,n,s,r,l))})}},c.prototype._isOverflow=function(){return this._getScroller()!==this.m_widget.getListContainer()[0]?this._isOverflowCheckForCustomScroller():this._isOverflowCheckForDefaultScroller()},c.prototype._isOverflowCheckForDefaultScroller=function(){if(this._isLoadMoreOnScroll()){var t=this._getScroller(),i=null==this.m_loadingIndicator?0:this._getLoadingIndicatorHeight(),n=t.scrollHeight-(t.clientHeight+i);return 1===n&&e.AgentUtils.getAgentInfo().browser===e.AgentUtils.BROWSER.EDGE&&(n=0),n>0}return!1},c.prototype._isOverflowCheckForCustomScroller=function(){var t=this._getScroller();if(t!==document.documentElement){var e=null==this.m_loadingIndicator?0:this._getLoadingIndicatorHeight();return this.m_root.clientHeight+this._getScrollerOffsetTop()-e>t.clientHeight}return this._isLastItemNotInViewport()},c.prototype._isLastItemNotInViewport=function(){for(var t,e=this.m_root.children,i=this.m_widget.getItemElementStyleClass(),n=e.length-1;n>=0;n--)if(e[n].classList.contains(i)){t=e[n];break}return!!t&&!o.isElementIntersectingScrollerBounds(t,this._getScroller())},c.prototype._removeDuplicateItems=function(t){if(this._hasPendingInsertKeys()){var e=this,i=new Map;this.m_root.querySelectorAll("."+this.m_widget.getItemElementStyleClass()).forEach(function(t){"LI"!==t.tagName&&(t=t.parentNode);var n=e.GetKey(t);null!=n&&i.set(n,t)});var n=new d(i);t.forEach(function(t){var e=n.get(t);e&&e.parentNode&&e.parentNode.removeChild(e)})}},c.prototype._handleFetchSuccess=function(t,e,i,n,o,s,r){if(null==this.m_widget)return Promise.resolve(!0);this.m_lastFetchedData=t,this._removeDuplicateItems(e);var l=this.m_root.querySelectorAll("."+this.m_widget.getItemElementStyleClass()).length;if(!r&&l>0&&!i&&this._isLastItemNotInViewport()&&null==this.m_widget.m_scrollPosition){this.signalTaskStart("render items during idle time");var a=null!=s?s.slice(0):null;return this._renderItemsWhenIdle(t.slice(0),e.slice(0),l,n,o,a),Promise.resolve(!0)}for(var h=document.createDocumentFragment(),d=0;d<t.length;d++){var m=t[d],c=e[d],u=this._isFetchFromInsert(c)?this.afterRenderItemForInsertEvent.bind(this):null;this.addItem(h,-1,m,this.getMetadata(l,c,m),n,u,null!=s?s[d]:null),l+=1}if(this.m_animateShowContentPromise)return this.m_animateShowContentPromise.then(()=>{if(null==this.m_widget)return this.m_animateShowContentPromise=null,Promise.resolve(null);const t=this.animateShowContent(this.m_root,h,r);return this._getAnimateShowContentPromise(t,i)});const g=this.animateShowContent(this.m_root,h,r);return this.m_animateShowContentPromise=g,this._getAnimateShowContentPromise(g,i)},c.prototype._getAnimateShowContentPromise=function(t,e){return t.then(()=>{e&&this.m_root&&this.m_widget&&this.shouldUseGridRole()&&this._isLoadMoreOnScroll()&&this.m_root.setAttribute("aria-rowcount",this.getItems(this.m_root).length)}).finally(()=>{this.m_animateShowContentPromise=null})},c.prototype.handleDomScrollerFetchedData=function(t){null!=t?(this.signalTaskStart("handle results from DomScroller"),this._removeLoadingIndicator(),this.IsReady()&&this.signalTaskStart("dummy task"),this.isCardLayout()&&this.m_superRoot&&0===this.m_root.childElementCount&&this.m_root.parentNode&&this.m_superRoot.appendChild(this.m_root.parentNode),this._handleFetchedData(t,this.getTemplateEngine(),!1),t.value&&t.value.data?this._hasPendingInsertKeys()||this.m_widget.updateStatusFetchEnd(t.value.data.length):t.maxCountLimit&&(this._handleScrollerMaxRowCount(),this.signalTaskEnd()),this.m_widget.m_scrollHeight=null,this.signalTaskEnd()):this._removeLoadingIndicator()},c.prototype._registerDomScroller=function(){var t=this,e={fetchSize:this._getFetchSize(),fetchTrigger:this._getFetchTrigger(),maxCount:this._getMaxCount(),controller:this.m_controller,asyncIterator:this.m_dataProviderAsyncIterator,initialRowCount:this.m_root.querySelectorAll("."+this.m_widget.getItemElementStyleClass()).length,success:function(e){t.signalTaskEnd(),null!=t.m_widget&&t.handleDomScrollerFetchedData(e),null!=t.m_root&&null!=e.value||(t.signalTaskEnd(),null!=t.m_root&&null!=t.m_widget&&t.m_widget.renderComplete(!0))},error:function(e,i){t.signalTaskEnd(),t.signalTaskEnd(),l.error(e),i||t._removeLoadingIndicator()},localKeyValidator:function(e){return!!t.m_widget&&null!=t.m_widget.FindElementByKey(e)},beforeFetch:function(e,i){return t.handleBeforeFetch(),t.m_viewportCheckPromise=null,null==t.m_idleCallback&&(i||(t.signalTaskStart("starts high-water mark scrolling"),t.m_widget.updateStatusFetchStart()),!0)},beforeScroll:this.m_widget.mergeScrollListener()},i=this._getScroller();i!==this.m_widget.getListContainer()[0]&&(e.contentElement=this.m_root,i===document.documentElement&&(e.isOverflow=this._isLastItemNotInViewport.bind(this))),this.m_domScroller=new a(i,this.getDataProvider(),e)},c.prototype.handleBeforeFetch=function(){this.m_loadingIndicator&&(this.m_loadingIndicator.get(0).style.visibility="visible"),this.m_fillerSkeletons&&(this.m_fillerSkeletons.style.visibility="visible")},c.prototype._clearEventQueue=function(){null!=this.m_eventQueue&&(this.m_eventQueue.length=0)},c.prototype.handleModelMutateEvent=function(t){void 0!==this.m_dataProviderAsyncIterator&&c.superclass.handleModelMutateEvent.call(this,t)},c.prototype.handleModelAddEvent=function(t){this.m_currentEvents.push(t);var e=c.superclass.handleModelAddEvent.call(this,t);return e||this.m_currentEvents.pop(),e},c.prototype.GetReferenceNode=function(t,e){var i=c.superclass.GetReferenceNode.call(this,t,e);return null==i&&null!=this.m_loadingIndicator?this.m_loadingIndicator.get(0):i},c.prototype._getMaxIndexForInsert=function(){var t=Number.MAX_VALUE;if(o.isIterateAfterDoneNotAllowed(this.getDataProvider())&&!this.hasMoreToFetch())return t;if(this._isLoadMoreOnScroll()){t=i(this.m_root).children("li."+this.m_widget.getItemElementStyleClass()).length;var e=this.m_root.querySelectorAll(".oj-listview-temp-item"),n=this.m_root.querySelectorAll(".oj-listview-temp-item.oj-listview-item-remove");t=Math.max(0,t+e.length-n.length)}return t},c.prototype.addItemsForModelInsert=function(t,e,i,n,s,r,l){for(var a=this._getMaxIndexForInsert(),d=this.getTemplateEngine(),m=[],c=0;c<t.length;c++)if(null==this.FindElementByKey(i[c])){var u;if(this.signalTaskStart("handling model add event for item: "+i[c]),null!=e?u=e[c]:(u=this.getIndex(r,c))>-1?u=s?u:u+1:this._isLoadMoreOnScroll()&&(o.isIterateAfterDoneNotAllowed(this.getDataProvider())&&!this.hasMoreToFetch()||(u=a)),u<a){var g=this.addItem(this.m_root,u,t[c],this.getMetadata(u,i[c],t[c]),d,this.afterRenderItemForInsertEvent.bind(this),null!=l?l[c]:null);g&&m.push(g),a+=1}else null==this.m_insertOutOfRangeKeys&&(this.m_dataProvider.createOptimizedKeySet?this.m_insertOutOfRangeKeys=this.m_dataProvider.createOptimizedKeySet():this.m_insertOutOfRangeKeys=new h),this.m_insertOutOfRangeKeys.add(i[c]);this.signalTaskEnd()}if(m.length<t.length&&(null==this.m_domScroller?this._isLoadMoreOnScroll()&&this._registerDomScroller():this.m_domScroller.setAsyncIterator(this.m_dataProviderAsyncIterator)),0===m.length)this.m_currentEvents.pop(),0===this.m_currentEvents.length&&this.afterItemsInserted(!0,!0);else{var p=this;Promise.all(m).then(function(){p.m_widget&&(p.m_currentEvents.pop(),0===p.m_currentEvents.length&&p.afterItemsInserted(!0,!0))})}},c.prototype._isFetchFromInsert=function(t){return null!=this.m_insertOutOfRangeKeys&&this.m_insertOutOfRangeKeys.has(t)},c.prototype.handleModelRemoveEvent=function(t){this.m_currentEvents.push(t);var e=c.superclass.handleModelRemoveEvent.call(this,t);e?null==this.m_root.querySelector("li."+this.m_widget.getItemElementStyleClass())&&this.m_loadingIndicator&&(this.m_loadingIndicator.get(0).style.display="none"):this.m_currentEvents.pop();return e},c.prototype.handleRemoveItemsPromises=function(t){if(0===t.length)this.m_currentEvents.pop();else{var e=this;Promise.all(t).then(function(){e.m_widget&&(e.m_currentEvents.pop(),0===e.m_currentEvents.length&&e.checkViewport())})}},c.prototype.handleModelRefreshEvent=function(){null!=this.m_root&&(this._cancelIdleCallback(),!this.IsReady()&&this.m_controller&&(this.m_controller.abort(),this._setFetching(!1)),this.signalTaskStart("handling model reset event"),this._clearEventQueue(),this.m_widget.ClearCache(!0),this._destroyDomScroller(),this.m_widget.adjustScrollPositionValueOnFetch(),this.m_widget.resetFocusBeforeRefresh(),this.fetchRows(!0),this.signalTaskEnd())},c.prototype._handleFetchedData=function(t,e,i){if(null!=this.m_root&&null!=t.value){var o=t.value.data,s=t.value.metadata,r=0;i&&!this.isCardLayout()&&(r=this.handleSuggestions(s));var a=s.map(function(t){return t.key});o.length===a.length&&this._handleFetchSuccess(o,a,t.done||t.maxCountLimit,e,t.isMouseWheel,s,i).then(function(e){if(null==this.m_widget||null===e||this.m_lastFetchedData!==o)return this.m_widget&&this.m_widget.signalTaskEnd(),void l.info("handleFetchedData: exit due to either component destroyed or another refresh underway: "+(null==this.m_widget));var s=null!=a&&0===a.length;(this._isLoadMoreOnScroll()&&(t.done?this.m_domScroller&&this._destroyDomScroller():(s&&l.info("handleFetchedData: zero data returned while done flag is false"),e||t.maxCountLimit?t.maxCountLimit&&this._destroyDomScroller():(null==this.m_domScroller&&(this._registerDomScroller(),this.getRootElementHeight()),s&&!this.m_domScroller.isOverflow()||this._appendLoadingIndicator()))),i)&&(this.m_suggestions=r,r>0&&n.getContext(this.m_root).getBusyContext().whenReady().then(()=>{this.m_widget&&this.m_suggestions===r&&this.renderSparkles(this.getItems(this.m_root,r))}));t.maxCountLimit&&this._handleScrollerMaxRowCount(),this.fetchEnd(e,!s||!t.done,i),s||this.disableAllTabbableElements()}.bind(this))}else t.maxCountLimit&&this._destroyDomScroller()},c.prototype.disableAllTabbableElements=function(){var t=this.m_root.childElementCount;this.shouldUseGridRole()&&this.m_root.lastElementChild&&"presentation"===this.m_root.lastElementChild.getAttribute("role")&&(t-=1);var e=this;n.getContext(this.m_root).getBusyContext().whenReady().then(function(){if(null!=e.m_root)for(var i=e.m_root.children,n=0;n<t;n++)i[n]&&e.m_widget.disableAllTabbableElements(i[n])})},c.prototype.afterItemsInserted=function(t,e){if(this.m_widget){var i=this,o=this.m_widget.renderComplete(e);if(o&&o.then(function(){i.m_animationPromise=null}),this.m_animationPromise=o,this._processEventQueue(),t)if(this.m_widget.ojContext._IsCustomElement()){var s=null!=i.m_superRoot?i.m_superRoot:i.m_root,r=n.getContext(s).getBusyContext().whenReady();r.then(function(){null!=i.m_widget&&(i.isCardLayout()&&void 0===i.m_cardDim&&null!=i.m_loadingIndicator&&i._adjustLoadMoreSkeletons(i._getRootElementWidth(!0),!0),null!=i.m_viewportCheckPromise&&null==i.checkViewport(o)&&i._clearInsertOutOfRangeKeys())}),i.m_viewportCheckPromise=r}else null==this.checkViewport()&&this._clearInsertOutOfRangeKeys()}},c.prototype.fetchEnd=function(t,e,i){this._setFetching(!1),t||this.afterItemsInserted(e,!i),this.signalTaskEnd()},c.prototype._checkHorizontalViewport=function(){if(this.isCardLayout()){for(var t,e=this.m_root.children,i=this.m_widget.getItemElementStyleClass(),n=e.length-1;n>=0;n--)if(e[n].classList.contains(i)){t=e[n];break}if(t){var o=this._getScroller(),s=o===this.m_root?this.getRootElementHeight():o.clientHeight;if(o===document.documentElement){var r=t.getBoundingClientRect();if(r.top<=s&&r.top+r.height>=0)return this.handleBeforeFetch(),this.m_domScroller._fetchMoreRows()}else{var l=o.scrollTop,a=t.offsetTop,h=o===this.m_root?0:this._getScrollerOffsetTop();if(a>l&&a<l+s-h)return this.handleBeforeFetch(),this.m_domScroller._fetchMoreRows()}}}return null},c.prototype._clearInsertOutOfRangeKeys=function(){null!=this.m_insertOutOfRangeKeys&&this.m_insertOutOfRangeKeys.clear()},c.prototype.checkViewport=function(t){var e,i=this;return this.m_checkViewportPromise?null:(this.signalTaskStart("checking viewport"),null!=this.m_domScroller&&this.IsReady()&&(null!=(e=this.m_domScroller.checkViewport())?(this.signalTaskStart("got promise from checking viewport"),e.then(function(n){if(null!=i.m_widget){if(null!=n)i.m_checkViewportPromise=null,i.handleDomScrollerFetchedData(n);else{var o=function(){null!=(e=i._checkHorizontalViewport())?(i.signalTaskStart("got promise from checking horizontal viewport"),e.then(function(t){i.m_checkViewportPromise=null,null!=i.m_widget&&null!=t&&i.handleDomScrollerFetchedData(t),i.signalTaskEnd()},null)):i.m_checkViewportPromise=null};t?(i.signalTaskStart("wait for animation to complete"),t.then(function(){i.signalTaskEnd(),null!=i.m_widget&&null!=i.m_domScroller&&o()})):o()}i.signalTaskEnd()}i._clearInsertOutOfRangeKeys()},null)):this._clearInsertOutOfRangeKeys(),this.m_checkViewportPromise=e),this.signalTaskEnd(),e)},t.DataProviderContentHandler=m,t.IteratingDataProviderContentHandler=c,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ojdataproviderscroller.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojkeyset',["exports","ojs/ojcore-base","ojs/ojkeysetimpl"],function(e,t,r){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r;class n{}t._registerLegacyNamespaceProp("KeySet",n);class s extends n{constructor(e){super(),this.keys={all:!1,keys:void 0},this.keys.keys=new Set(e)}has(e){return o(this.keys.keys,e)}add(e){const t=new Set(this.keys.keys.values());return e.forEach(e=>{o(t,e)||t.add(e)}),t.size===this.keys.keys.size?this:new s(t)}delete(e){const t=new Set(this.keys.keys.values());return e.forEach(e=>{const r=i(t,e);r.value&&t.delete(r.key)}),t.size===this.keys.keys.size?this:new s(t)}addAll(){return new l([])}clear(){return 0===this.keys.keys.size?this:new s([])}isAddAll(){return!1}values(){return new Set(this.keys.keys.values())}}class l extends n{constructor(e){super(),this.keys={all:!0,deletedKeys:void 0},this.keys.deletedKeys=new Set(e)}has(e){return!o(this.keys.deletedKeys,e)}add(e){const t=new Set(this.keys.deletedKeys.values());return e.forEach(e=>{const r=i(t,e);r.value&&t.delete(r.key)}),t.size===this.keys.deletedKeys.size?this:new l(t)}delete(e){const t=new Set(this.keys.deletedKeys.values());return e.forEach(e=>{o(t,e)||t.add(e)}),t.size===this.keys.deletedKeys.size?this:new l(t)}addAll(){return 0===this.keys.deletedKeys.size?this:new l([])}clear(){return new s([])}isAddAll(){return!0}deletedValues(){return new Set(this.keys.deletedKeys.values())}}const o=(e,t)=>i(e,t).value,i=(e,r)=>{if(0===e.size)return{value:!1};if("string"==typeof r||"number"==typeof r||"boolean"==typeof r)return{value:e.has(r),key:r};const n=e[Symbol.iterator]();let s=n.next();for(;!s.done;){if(t.KeyUtils.equals(s.value,r))return{value:!0,key:s.value};s=n.next()}return{value:!1}};t._registerLegacyNamespaceProp("KeySetImpl",s),t._registerLegacyNamespaceProp("AllKeySetImpl",l);var a=function(){};t.Object.createSubclass(a,t.Object,"KeySet"),a.prototype.SetInternal=function(e){this._keys=e},a.prototype.AddOrDeleteInternal=function(e,t){var r,n;return null==(r=e?this._add(t):this._remove(t))?this:((n=Object.create(Object.getPrototypeOf(this))).SetInternal(r),n)},a.prototype._add=function(e){var t=this,r=null;return e.forEach(function(e){e!==t.NOT_A_KEY&&t.get(e)===t.NOT_A_KEY&&(null==r&&(r=t.Clone()),r.add(e))}),r},a.prototype._remove=function(e){var t,r=this,n=null;return 0===this._keys.size?null:(e.forEach(function(e){(t=r.get(e))!==r.NOT_A_KEY&&(null==n&&(n=r.Clone()),n.delete(t))}),n)},a.prototype.GetInternalSize=function(){return this._keys.size},a.prototype.Clone=function(){return new Set(this._keys)},r.call(a.prototype);var u=function(e){this.InitializeWithKeys(e)};t._registerLegacyNamespaceProp("ExpandedKeySet",u),t.Object.createSubclass(u,a,"ExpandedKeySet"),u.prototype.add=function(e){return this.AddOrDeleteInternal(!0,e)},u.prototype.addAll=function(){return new d},u.prototype.isAddAll=function(){return!1},u.prototype.delete=function(e){return this.AddOrDeleteInternal(!1,e)},u.prototype.clear=function(){return 0===this.GetInternalSize()?this:new u},u.prototype.has=function(e){return this.get(e)!==this.NOT_A_KEY},u.prototype.values=function(){return this.Clone()};var d=function(){this.InitializeWithKeys(null)};t._registerLegacyNamespaceProp("ExpandAllKeySet",d),t.Object.createSubclass(d,a,"ExpandAllKeySet"),d.prototype.add=function(e){return this.AddOrDeleteInternal(!1,e)},d.prototype.addAll=function(){return 0===this.GetInternalSize()?this:new d},d.prototype.isAddAll=function(){return!0},d.prototype.delete=function(e){return this.AddOrDeleteInternal(!0,e)},d.prototype.clear=function(){return new u},d.prototype.has=function(e){return this.get(e)===this.NOT_A_KEY},d.prototype.deletedValues=function(){return this.Clone()};var y={toArray:function(e){var t,r=e.isAddAll()?e.deletedValues():e.values();return Array.from?t=Array.from(r):(t=[],r.forEach(function(e){t.push(e)})),t.inverted=e.isAddAll(),t},toKeySet:function(e){return e.inverted?(new l).delete(e):(new s).add(e)}};e.AllKeySetImpl=l,e.ExpandAllKeySet=d,e.ExpandedKeySet=u,e.KeySet=n,e.KeySetImpl=s,e.KeySetUtils=y,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojkeyset.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojeventtarget',["exports","ojs/ojcore-base"],function(e,t){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;
/**
     * @preserve Copyright 2013 jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */
class s{constructor(e,t){this.type=e,this.options=t,null!=t&&(this.detail=t.detail)}}t._registerLegacyNamespaceProp("GenericEvent",s);class r{addEventListener(e,t){this._eventListeners||(this._eventListeners=[]),this._eventListeners.push({type:e.toLowerCase(),listener:t})}removeEventListener(e,t){if(this._eventListeners){let s;for(s=this._eventListeners.length-1;s>=0;s--)this._eventListeners[s].type==e&&this._eventListeners[s].listener==t&&this._eventListeners.splice(s,1)}}dispatchEvent(e){if(this._eventListeners){var t,s=this._eventListeners.slice(0);for(t=0;t<s.length;t++){var r=s[t];if(e&&e.type&&r.type==e.type.toLowerCase()&&!1===r.listener.apply(this,[e]))return!1}}return!0}static applyMixin(e){[r].forEach(t=>{Object.getOwnPropertyNames(t.prototype).forEach(s=>{"constructor"!==s&&(e.prototype[s]=t.prototype[s])})})}}t._registerLegacyNamespaceProp("EventTargetMixin",r),e.EventTargetMixin=r,e.GenericEvent=s,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojeventtarget.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojdataprovider',["exports","ojs/ojcore-base","ojs/ojeventtarget"],function(t,e,r){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,
/**
     * @preserve Copyright 2013 jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */
oj.DataProvider=function(){},function(t){let e;!function(t){t.$co="$co",t.$eq="$eq",t.$ew="$ew",t.$pr="$pr",t.$gt="$gt",t.$ge="$ge",t.$lt="$lt",t.$le="$le",t.$ne="$ne",t.$regex="$regex",t.$sw="$sw"}(e=t.AttributeOperator||(t.AttributeOperator={}))}(t.AttributeFilterOperator||(t.AttributeFilterOperator={})),e._registerLegacyNamespaceProp("AttributeFilterOperator",t.AttributeFilterOperator),function(t){let e;!function(t){t.$and="$and",t.$or="$or"}(e=t.CompoundOperator||(t.CompoundOperator={}))}(t.CompoundFilterOperator||(t.CompoundFilterOperator={})),e._registerLegacyNamespaceProp("CompoundFilterOperator",t.CompoundFilterOperator);class i{constructor(){this._handleMutationAdd=function(t){const r=t[i._BEFOREKEYS],s=t[i._KEYS],n=[];s.forEach(t=>{n.push(t)});const o=t[i._DATA],a=t[i._METADATA],c=t[i._INDEXES];if(n&&n.length>0)if(c)n.forEach((t,e)=>{this._items.splice(c[e],0,new this.Item(a[e],o[e]))});else if(r){const s=Object.assign([],r),c=Object.assign(new Set,t[i._KEYS]),l=Object.assign([],t[i._DATA]),f=Object.assign([],t[i._METADATA]),u=[];let h,p,g;for(const t of r){if(h=t,g=!0,null!=h){for(const t of n)if(e.Object.compareValues(t,h)){g=!1;break}if(g)for(const t of this._items)if(e.Object.compareValues(t?.metadata?.key,h)){g=!1;break}}else g=!1;g&&u.push(h)}let m=r.length;for(;m>0;){for(const t of r)if(p=t,u.indexOf(p)>=0){u.push(p);break}m--}for(let t=s.length-1;t>=0;t--)u.indexOf(s[t])>=0&&(delete s[t],c.delete(s[t]),delete l[t],delete f[t]);s.forEach((t,r)=>{if(null===t)this._items.push(new this.Item(a[r],o[r]));else for(let i=0;i<this._items.length;i++)if(e.Object.compareValues(this._items[i]?.metadata?.key,t)){this._items.splice(i,0,new this.Item(a[r],o[r]));break}})}else if(this._fetchParams&&null!=this._fetchParams.sortCriteria){const t=this._fetchParams.sortCriteria;if(t){const e=this._getSortComparator(t);let r,i,s;const n=[];o.forEach((t,c)=>{for(r=0;r<this._items.length;r++)if(i=this._items[r].data,s=e(t,i),s<0){this._items.splice(r,0,new this.Item(a[c],o[c])),n.push(c);break}}),o.forEach((t,e)=>{n.indexOf(e)<0&&this._items.push(new this.Item(a[e],o[e]))})}}else o.forEach((t,e)=>{this._items.push(new this.Item(a[e],o[e]))})},this._handleMutationRemove=function(t){const r=t[i._KEYS];if(r&&r.size>0){let t;r.forEach(r=>{for(t=this._items.length-1;t>=0;t--)if(e.Object.compareValues(this._items[t].metadata.key,r)){this._items.splice(t,1);break}})}},this._handleMutationUpdate=function(t){const r=t[i._KEYS],s=t[i._DATA],n=t[i._METADATA];if(s&&s.length>0){let t,i=0;r.forEach(r=>{for(t=this._items.length-1;t>=0;t--)if(e.Object.compareValues(this._items[t].metadata.key,r)){this._items.splice(t,1,new this.Item(n[i],s[i]));break}i++})}},this.Item=class{constructor(t,e){this.metadata=t,this.data=e,this[i._METADATA]=t,this[i._DATA]=e}},this.FetchByKeysResults=class{constructor(t,e){this.fetchParameters=t,this.results=e,this[i._FETCHPARAMETERS]=t,this[i._RESULTS]=e}},this.FetchByOffsetResults=class{constructor(t,e,r,s){this.fetchParameters=t,this.results=e,this.done=r,this.totalFilteredRowCount=s,this[i._FETCHPARAMETERS]=t,this[i._RESULTS]=e,this[i._DONE]=r,"enabled"===t?.includeFilteredRowCount&&(this.totalFilteredRowCount=s)}},this._items=[]}addListResult(t){const e=[];t.value.data.forEach((r,i)=>{e.push(new this.Item(t.value.metadata[i],r))}),this._items=this._items.concat(e),this._done=t.done}getDataList(t,e){this._fetchParams=t;let r=25;null!=t.size&&(r=-1===t.size?this.getSize():t.size);const i=this._items.slice(e,e+r),s=[],n=[];return i.forEach(t=>{s.push(t.data),n.push(t.metadata)}),{fetchParameters:t,data:s,metadata:n}}getDataByKeys(t){const e=new Map;return t&&t.keys&&t.keys.forEach(t=>{for(const r of this._items)if(r.metadata.key===t){e.set(t,r);break}}),new this.FetchByKeysResults(t,e)}getDataByOffset(t){let e=[];const r=t.offset+t.size>=this.getSize()&&this.isDone();return t&&(e=this._items.slice(t.offset,t.offset+t.size)),new this.FetchByOffsetResults(t,e,r,this.getSize())}processMutations(t){null!=t.remove&&this._handleMutationRemove(t.remove),null!=t.add&&this._handleMutationAdd(t.add),null!=t.update&&this._handleMutationUpdate(t.update)}reset(){this._items=[],this._done=!1}getSize(){return this._items.length}isDone(){return this._done}_getSortComparator(t){return(e,r)=>{let s,n,o,a;for(const c of t){s=c[i._DIRECTION],n=c[i._ATTRIBUTE],o=this._getVal(e,n),a=this._getVal(r,n);let t=0;const l="string"==typeof o?o:String(o).toString(),f="string"==typeof a?a:String(a).toString();if(t="ascending"===s?l.localeCompare(f,void 0,{numeric:!0,sensitivity:"base"}):f.localeCompare(l,void 0,{numeric:!0,sensitivity:"base"}),0!==t)return t}return 0}}_getVal(t,e){if("string"==typeof e){const r=e.indexOf(".");if(r>0){const i=e.substring(0,r),s=e.substring(r+1),n=t[i];if(n)return this._getVal(n,s)}}return"function"==typeof t[e]?t[e]():t[e]}}i._DATA="data",i._METADATA="metadata",i._ITEMS="items",i._BEFOREKEYS="addBeforeKeys",i._KEYS="keys",i._INDEXES="indexes",i._FROM="from",i._OFFSET="offset",i._REFRESH="refresh",i._MUTATE="mutate",i._SIZE="size",i._FETCHPARAMETERS="fetchParameters",i._SORTCRITERIA="sortCriteria",i._DIRECTION="direction",i._ATTRIBUTE="attribute",i._VALUE="value",i._DONE="done",i._RESULTS="results",i._CONTAINSPARAMETERS="containsParameters",i._DEFAULT_SIZE=25,i._CONTAINSKEYS="containsKeys",i._FETCHBYKEYS="fetchByKeys",i._FETCHBYOFFSET="fetchByOffset",i._FETCHFIRST="fetchFirst",i._FETCHATTRIBUTES="attributes",e._registerLegacyNamespaceProp("DataCache",i);class s extends r.GenericEvent{constructor(t){const e={};e[s._DETAIL]=t,super("mutate",e)}}s._DETAIL="detail",e._registerLegacyNamespaceProp("DataProviderMutationEvent",s);class n extends r.GenericEvent{constructor(t){const e={};e.detail=t,super("refresh",e)}}e._registerLegacyNamespaceProp("DataProviderRefreshEvent",n);class o{fetchByKeys(t){let e=0;const r=this.getIterationLimit?this.getIterationLimit():-1,i={size:25},s=new Map,n=this.fetchFirst(i)[Symbol.asyncIterator]();return function t(i,s,n){return s.next().then(function(o){const a=o.value,c=a.data,l=a.metadata,f=l.map(function(t){return t.key});let u=!0;return i.keys.forEach(function(t){n.has(t)||f.map(function(e,r){e===t&&n.set(e,{metadata:l[r],data:c[r]})}),n.has(t)||(u=!1)}),e+=c.length,u||o.done||-1!=r&&e>=r?n:t(i,s,n)})}(t,n,s).then(function(e){const r=new Map;return e.forEach(function(t,e){const i=[t];r.set(e,i[0])}),{fetchParameters:t,results:r}})}containsKeys(t){return this.fetchByKeys(t).then(function(e){const r=new Set;return t.keys.forEach(function(t){null!=e.results.get(t)&&r.add(t)}),Promise.resolve({containsParameters:t,results:r})})}getCapability(t){if("fetchByKeys"===t)return{implementation:"iteration"};let e=null;if(!0!==this._ojSkipLastCapability){this._ojSkipLastCapability=!0;let r=1;for(;this["_ojLastGetCapability"+r];)++r;for(--r;r>0&&(e=this["_ojLastGetCapability"+r](t),!e);r--);delete this._ojSkipLastCapability}return e}static applyMixin(t){const e=t.prototype.getCapability;if([o].forEach(e=>{Object.getOwnPropertyNames(e.prototype).forEach(r=>{"constructor"!==r&&(t.prototype[r]=e.prototype[r])})}),e){let r=1;for(;t.prototype["_ojLastGetCapability"+r];)++r;t.prototype["_ojLastGetCapability"+r]=e}}}e._registerLegacyNamespaceProp("FetchByKeysMixin",o);class a{fetchByOffset(t){const e=t&&t.size>0?t.size:25,r=t?t.sortCriteria:null,i=t&&t.offset>0?t.offset:0;let s=0;const n=this.getIterationLimit?this.getIterationLimit():-1;let o=!1;const a={};a.size=e,a.sortCriteria=r;const c=new Array,l=this.fetchFirst(a)[Symbol.asyncIterator]();return function t(r,a,c){return a.next().then(function(l){o=l.done;const f=l.value,u=f.data,h=f.metadata,p=u.length;if(i<s+p){for(let t=i<=s?0:i-s;t<p&&c.length!==e;t++)c.push({metadata:h[t],data:u[t]})}return s+=p,c.length<e&&!o?-1!==n&&s>=n?c:t(r,a,c):c})}(t,l,c).then(function(e){return{fetchParameters:t,results:e,done:o}})}getCapability(t){if("fetchByOffset"===t)return{implementation:"iteration"};let e=null;if(!0!==this._ojSkipLastCapability){this._ojSkipLastCapability=!0;let r=1;for(;this["_ojLastGetCapability"+r];)++r;for(--r;r>0&&(e=this["_ojLastGetCapability"+r](t),!e);r--);delete this._ojSkipLastCapability}return e}static applyMixin(t){const e=t.prototype.getCapability;if([a].forEach(e=>{Object.getOwnPropertyNames(e.prototype).forEach(r=>{"constructor"!==r&&(t.prototype[r]=e.prototype[r])})}),e){let r=1;for(;t.prototype["_ojLastGetCapability"+r];)++r;t.prototype["_ojLastGetCapability"+r]=e}}}e._registerLegacyNamespaceProp("FetchByOffsetMixin",a),function(t){function e(t,i=undefined){let s;const c=[];for(const l in t)if("collationOptions"!==l&&"criterion"!==l&&t.hasOwnProperty(l)){const f=t[l];if(0===l.indexOf("$"))if(n(l)){if(!(f instanceof Array))throw new Error("not a valid expression: "+t);s={operator:l,array:[]};for(const r of f){const i=e(r,t.collationOptions);s.array.push(i)}}else{if(o(l))throw new Error("not a valid expression: "+t);if(a(l)){const r=e(t.criterion,t.criterion.collationOptions);c.push({left:f,right:r,operator:l,collationOptions:i})}}else if("object"!=typeof f)c.push({left:l,right:f,operator:"$eq",collationOptions:i});else{const t={left:l,collationOptions:i};r(t,f),c.push(t)}}return c.length>1?s={operator:"$and",array:c}:1===c.length&&(s=c[0]),s}function r(t,e){let r=!1;for(const i in e)if(e.hasOwnProperty(i)){const s=e[i];if(r||!o(i))throw new Error("parsing error "+e);t.operator=i,t.right=s,r=!0}}function i(t,e){const r=t.operator,{collationOptions:c}=t;if(n(r)){if(!t.left&&t.array instanceof Array){let s;const n=t.array;for(const t of n){const n=i(t,e);if("$or"===r&&!0===n)return!0;if("$and"===r&&!1===n)return!1;s=n}return s}throw new Error("invalid expression tree!"+t)}if(o(r)){const i=t.right;let n;if("*"!=t.left)return n=f(t.left,e),s(r,i,n,c);{const t=Object.keys(e);for(const o of t)if(n=f(o,e),s(r,i,n,c))return!0;return!1}}if(!a(r))throw new Error("not a valid expression!"+t);{let r=f(t.left,e);if(void 0===r||!(r instanceof Array)||0===r.length)return!1;for(const e of r){if(i(t.right,e))return!0}}}function s(t,e,r,i){if(i&&["base","accent","case","variant"].indexOf(i.sensitivity)<0)throw new Error("not a valid sensitivity! "+i.sensitivity);let s;if(i&&("string"==typeof e||e instanceof String)&&("string"==typeof r||r instanceof String)&&["base","accent","case","variant"].indexOf(i.sensitivity)>=0&&(s=new Intl.Collator(void 0,i)),"$lt"===t){const t=l(r,e);return r=t[0],e=t[1],s?s.compare(r,e)<0:r<e}if("$gt"===t){const t=l(r,e);return r=t[0],e=t[1],s?s.compare(r,e)>0:r>e}if("$lte"===t){const t=l(r,e);return r=t[0],e=t[1],s?s.compare(r,e)<=0:r<=e}if("$gte"===t){const t=l(r,e);return r=t[0],e=t[1],s?s.compare(r,e)>=0:r>=e}if("$eq"===t)return s?0===s.compare(r,e):r===e;if("$ne"===t)return s?0!==s.compare(r,e):r!==e;if("$regex"===t){if(r){if("string"!=typeof r&&!(r instanceof String))if(r instanceof Object){if("[object Object]"==(r=r.toString()))return!1}else r=new String(r);const t=i?.sensitivity;let s;"base"!==t&&"case"!==t||(r=r.normalize("NFD").replace(/[\u0300-\u036f]/g,""),e=e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")),"base"!==t&&"accent"!==t||(s="i");return null!==r.match(new RegExp(e,s))}return!1}if("$exists"===t)return e?null!=r:null==r;throw new Error("not a valid operator! "+t)}function n(t){return"$and"===t||"$or"===t}function o(t){return"$lt"===t||"$gt"===t||"$lte"===t||"$gte"===t||"$eq"===t||"$ne"===t||"$regex"===t||"$exists"===t}function a(t){return"$nestedAttr"===t}function c(t){return null!=t&&(t instanceof String||"string"==typeof t)}function l(t,e){return c(t)&&null==e?e="":c(e)&&null==t&&(t=""),[t,e]}function f(t,e){const r=t.split(".");let i=e;for(const t of r)i=i[t];return i}t.satisfy=function(t,r){if(t){return i(e(t),r)}return!0},t.validateFilterCapabilities=function t(e,r){let i;const s=e?.textFilterMatching?.matchBy;if(r){if(r.text&&(i=r.matchBy,i&&(!s||s.indexOf(i)<0)))throw new Error("This data provider does not support TextFilter with matchBy value "+i);if(r.criteria?.length>0)for(let i=0;i<r.criteria.length;i++){t(e,r.criteria[i])}r.criterion&&t(e,r.criterion)}}}(t.FilterUtils||(t.FilterUtils={}));class c{constructor(t){t=t||{},this._textFilterAttributes=t.filterOptions?t.filterOptions.textFilterAttributes:null;const e=t.filterDef;e&&(e.op?(this.op=e.op,void 0!==e.value?(this.value=e.value,e.attribute&&(this.attribute=e.attribute)):e.criteria?this.criteria=e.criteria:e.criterion&&(this.criterion=e.criterion,e.attribute&&(this.attribute=e.attribute)),e.collationOptions&&(this.collationOptions=e.collationOptions)):e.text&&(this.text=e.text,this.matchBy=e.matchBy))}filter(e,r,i){return t.FilterUtils.satisfy(c._transformFilter(this),e)}static _transformFilter(t){let e;if(t){let r,i=t.op;const s=t.collationOptions;if("$exists"===i&&t.attribute&&t.criterion)return e={},e.$nestedAttr=t.attribute,e.criterion=c._transformFilter(l.getFilter({filterDef:t.criterion})),e;if(t.text?i="$regex":"$le"===i?i="$lte":"$ge"===i?i="$gte":"$pr"===i&&(i="$exists"),"$and"!==i&&"$or"!==i){r=t.text?"phrase"===t.matchBy?new RegExp(""+("\\b"+t.text.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&").replace(/('|")/g,"").replace(/(\s|\t)/g,"(.*)((\\s|\\t|\\r|\\n)*)")),"i"):"startsWith"===t.matchBy?new RegExp(`^${t.text.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")}`,"i"):new RegExp(t.text.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&"),"i"):t.value,e={};const s=t.attribute;if(s){const t={};"$sw"!==i&&"$ew"!==i&&"$co"!==i||(i="$regex",r=c._fixStringExpr(i,r)),t[i]=r,e[s]=t}else if(t.text){const s={};if(s[i]=r,t._textFilterAttributes&&t._textFilterAttributes.length>0){const r=[];t._textFilterAttributes.forEach(function(t){const e={};e[t]=s,r.push(e)}),e.$or=r}else e["*"]=s}else{const t=[];if(null==r)throw new Error("attribute cannot be empty");c._transformObjectExpr(r,i,null,t),e.$and=t}}else{const r=[];t.criteria.forEach(function(e){e&&e.text&&t._textFilterAttributes&&(e._textFilterAttributes=t._textFilterAttributes),r.push(c._transformFilter(e))}),e={},e[i]=r}e.collationOptions=s}return e}static _transformObjectExpr(t,e,r,i){if(Object.keys(t).length>0)Object.keys(t).forEach(function(s){let n=t[s];const o=r?r+"."+s:s;if(n instanceof Object)c._transformObjectExpr(n,e,o,i);else{const t={};"$sw"!==e&&"$ew"!==e&&"$co"!==e||(e="$regex",n=c._fixStringExpr(e,n)),t[e]=n;const r={};r[o]=t,i.push(r)}});else{const s={};s[e]=t;const n={};n[r]=s,i.push(n)}}static _fixStringExpr(t,e){return("string"==typeof e||e instanceof String)&&("$sw"===t?e="^"+e:"$ew"===t&&(e+="$")),e}}class l{static getFilter(t){return new c(t)}}e._registerLegacyNamespaceProp("FilterFactory",l),function(t){function e(t){const e=(t,r)=>{if(null==t)return t;if("string"==typeof r){const i=r.indexOf(".");if(i>0){const s=r.substring(0,i),n=r.substring(i+1),o=t[s];if(o)return e(o,n)}}return"function"==typeof t[r]?t[r]():t[r]};return(i,s)=>{let n,o,a,c;n=t.direction,o=t.attribute,a=e(i,o),c=e(s,o);let l=0;const f=r();return l="ascending"===n?f(a,c):f(c,a),0!==l?l:0}}function r(){return(t,e)=>{if(null==t)return 1;if(null==e)return-1;let r=0;const i="string"==typeof t?t:String(t).toString(),s="string"==typeof e?e:String(e).toString();return r=i.localeCompare(s,void 0,{numeric:!0,sensitivity:"base"}),0!==r?r:0}}t.getNaturalSortCriteriaComparator=function(t){return(r,i)=>{for(const s of t){const t=e(s)(r,i);if(0!==t)return t}return 0}},t.getNaturalSortCriterionComparator=e,t.getNaturalSortComparator=r}(t.SortUtils||(t.SortUtils={})),t.DataCache=i,t.DataProviderMutationEvent=s,t.DataProviderRefreshEvent=n,t.FetchByKeysMixin=o,t.FetchByOffsetMixin=a,t.FilterFactory=l,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ojdataprovider.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojmodel',["exports","ojs/ojcore-base","ojs/ojlogger","jquery","ojs/ojconfig"],function(t,e,r,n,o){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;const i={on:function(t,e,r){return this.OnInternal(t,e,r,!1,!1)},off:function(t,e,r){return this._offInternal(t,e,r,!1)},trigger:function(t){var e=Array.prototype.slice.call(arguments);return e.unshift(!1),i.TriggerInternal.apply(this,e)},once:function(t,e,r){return this._onceInternal(t,e,r,!1,null)},listenTo:function(t,e,r){var n,o,s,a,l,u,c,h={};for(c in e.constructor===String?h[e]=r:h=e,h)if(h.hasOwnProperty(c))for(n=i._getEvents(c),o=0;o<n.length;o+=1)u={event:s=n[o].event,attribute:a=n[o].attribute,object:t,callback:h[c]},l=a?s+":"+a:s,void 0===this._listeningTo&&(this._listeningTo=[]),this._listeningTo.push(u),t.OnInternal(l,h[c],null,!0,!1);return this},listenToOnce:function(t,e,r){var n,o,s,a,l,u,c,h={};for(c in e.constructor===String?h[e]=r:h=e,h)if(h.hasOwnProperty(c))for(n=i._getEvents(c),o=0;o<n.length;o+=1)u={event:s=n[o].event,attribute:a=n[o].attribute,object:t,callback:h[c]},l=a?s+":"+a:s,void 0===this._listeningTo&&(this._listeningTo=[]),this._listeningTo.push(u),t._onceInternal(l,h[c],null,!0,this);return this},stopListening:function(t,e,r){var n,o,s,a,l,u,c,h,p,f,d,_,g,y={};if(null==arguments||arguments.length<=1){for(_=this._listeningTo?this._listeningTo.length:0,d=0;d<_;d++)u=this._listeningTo[d],(c=!t||t===u.object)&&u.object._offInternal.apply(u.object,[u.event,u.callback,u.context,!0]);return this._listeningTo=[],this}for(g in o=e,t&&t.constructor===String&&(o=t),o.constructor===String?y[o]=r:y=o,y)if(y.hasOwnProperty(g))for(n=i._getEvents(g),s=0;s<n.length;s+=1)for(a=n[s].event,l=n[s].attribute,d=(_=this._listeningTo?this._listeningTo.length:0)-1;d>=0;d-=1)u=this._listeningTo[d],c=!t||t===u.object,h=!a||a===u.event,p=!r||y[g]===u.callback,f=!l||l===u.attribute,c&&h&&p&&f&&(this._listeningTo[d].object._offInternal.apply(this._listeningTo[d].object,[this._listeningTo[d].event,this._listeningTo[d].callback,this._listeningTo[d].context,!0]),this._listeningTo.splice(d,1));return this},EventType:{ADD:"add",ALLADDED:"alladded",REMOVE:"remove",RESET:"reset",REFRESH:"refresh",SORT:"sort",CHANGE:"change",DESTROY:"destroy",ALLREMOVED:"allremoved",REQUEST:"request",SYNC:"sync",ERROR:"error",INVALID:"invalid",READY:"ready",ALL:"all"}};i.bind=i.on,i.unbind=i.off,i.Mixin=function(t,e){var r,n=e||this;for(r in n)"function"==typeof n[r]&&(t[r]=n[r]);t.eventHandlers={},t._listeningTo=[]},i._onceInternal=function(t,e,r,n,o){var i,s,a,l,u,c,h;c=this._getEventMap(t,e,r),u=c.map,h=c.context;var p=this;return Object.keys(u||{}).forEach(function(t){if(Object.prototype.hasOwnProperty.call(u,t))for(i=p._getEvents(t),s=0;s<i.length;s+=1)a=i[s].event,l=i[s].attribute,void 0===p.eventHandlers&&(p.eventHandlers=[]),void 0===p.eventHandlers[a]&&(p.eventHandlers[a]=[]),p.eventHandlers[a].push({callback:u[t],context:h,attribute:l,once:!0,fired:!1,listen:n,otherObj:o})}),this},i._shouldFire=function(t){return!t.once||!t.fired&&(t.fired=!0,!0)},i._getContext=function(t,e){return e.context||e.otherObj||t},i.TriggerInternal=function(t,e){var r,n,o,s,a,l,u,c,h,p=this._getEvents(e);for(s=[],r=0;r<p.length;r+=1)n=p[r].event,o=p[r].attribute,s.push({event:n,attribute:o});for(r=0;r<s.length;r+=1){for(c=this._getHandlers(this.eventHandlers,i.EventType.ALL),a=i._getHandlers(this.eventHandlers,s[r].event,!1),l=0;l<(a?a.length:0);l+=1)a[l].attribute===s[r].attribute&&a[l].callback&&(u=Array.prototype.slice.call(arguments),a&&a[l]&&a[l].once&&(this._removeHandler(i._getHandlers(this.eventHandlers,s[r].event,!0),a[l]),a[l].otherObj&&a[l].otherObj.stopListening(this,e,a[l].callback)),a&&a[l]&&this._shouldFire(a[l])&&(h=a[l].callback,t&&!a[l].ignoreSilent||h.apply(i._getContext(this,a[l]),u.slice(2))));for(l=0;l<(c?c.length:0);l+=1)(u=Array.prototype.slice.call(arguments)).length>0&&(s[r].attribute?u[1]=s[r].event+":"+s[r].attribute:u[1]=s[r].event),c&&c[l]&&c[l].callback&&this._shouldFire(c[l])&&(h=c[l].callback,t&&!c[l].ignoreSilent||h.apply(i._getContext(this,c[l]),u.slice(1))),c&&c[l]&&c[l].once&&(this._removeHandler(this._getHandlers(this.eventHandlers,i.EventType.ALL,!0),c[l]),c[l].otherObj&&c[l].otherObj.stopListening(this,i.EventType.ALL,c[l].callback))}return this},i.OnInternal=function(t,e,r,n,o){var s,a,l,u,c,h,p,f,d=this._getEventMap(t,e,r);for(f in s=d.map,p=d.context,s)if(s.hasOwnProperty(f))for(a=this._getEvents(f),l=0;l<a.length;l+=1)u=a[l].event,c=a[l].attribute,void 0===this.eventHandlers&&(this.eventHandlers=[]),void 0===this.eventHandlers[u]&&(this.eventHandlers[u]=[]),h={callback:s[f],context:p,attribute:c,listen:n,ignoreSilent:o},-1===this._checkForHandler(this.eventHandlers[u],h,i._handlersIdentical)&&this.eventHandlers[u].push(h);return this},i._offInternal=function(t,e,r,n){var o,i,s,a;if(null==arguments||0===arguments.length)return this.eventHandlers={},this;if(null==t)return this._removeEvent(t,e,r,n),this;for(a in o=(i=this._getEventMap(t,e,r)).map,s=i.context,o)o.hasOwnProperty(a)&&this._removeEvent(a,o[a],s,n);return this},i._getEventMap=function(t,e,r){var n={};return t.constructor!==String?{map:n=t,context:e}:(n[t]=e,{map:n,context:r})},i._removeEvent=function(t,e,r,n){var o,s,a,l,u,c,h,p,f,d=[];if(t)d=i._getEvents(t);else if(void 0!==this.eventHandlers){var _=this;Object.keys(this.eventHandlers||{}).forEach(function(t){Object.prototype.hasOwnProperty.call(_.eventHandlers,t)&&d.push({event:t})})}for(o=0;o<d.length;o+=1)if(s=d[o].event,l=d[o].attribute,void 0!==this.eventHandlers&&this.eventHandlers[s]instanceof Array){for(a=(u=this.eventHandlers[s]).length-1;a>=0;a-=1)c=null==e||u[a].callback===e,h=null==r||u[a].context===r,p=null==l||u[a].attribute===l,f=null==n||u[a].listen===n,c&&h&&p&&f&&u.splice(a,1);0===u.length&&delete this.eventHandlers[s]}},i._removeHandler=function(t,e){var r,n,o,i,s,a;if(t)for(r=t.length-1;r>=0;r-=1)n=void 0===e.callback||null===e.callback||t[r].callback===e.callback,o=void 0===e.context||null===e.context||t[r].context===e.context,i=void 0===e.attribute||null===e.attribute||t[r].attribute===e.attribute,s=void 0===e.listen||null===e.listen||t[r].listen===e.listen,a=void 0===e.once||null===e.once||t[r].once===e.once,n&&o&&i&&s&&a&&t.splice(r,1)},i._getEvents=function(t){var e,r,n,o,i=t?t.split(" "):[],s=[];for(e=0;e<i.length;e+=1)n=(r=i[e].split(":"))[0],o=r.length>1?r[1]:null,s.push({event:n,attribute:o});return s},i._handlersIdentical=function(t,e){return t.callback===e.callback&&t.attribute===e.attribute&&t.context===e.context&&t.listen===e.listen&&t.once===e.once},i._listenersIdentical=function(t,e){return t.event===e.event&&t.attribute===e.attribute&&t.context===e.context&&t.object===e.object},i._checkForHandler=function(t,e,r){var n;if(void 0===t)return-1;for(n=0;n<t.length;n+=1)if(r(t[n],e))return n;return-1},i._getHandlers=function(t,e,r){if(t&&t[e]instanceof Array){if(r)return t[e];var n,o=[];for(n=0;n<t[e].length;n++)o.push(t[e][n]);return o}return null},e._registerLegacyNamespaceProp("Events",i);const s=function(){this.name="URLError",this.message="No URL defined"};e._registerLegacyNamespaceProp("URLError",s),s.prototype=new Error,s.constructor=s;const a=function(t,e){this.rootURL=t,this.model=e,this.customURL=e.customURL,n.support.cors=!0};e._registerLegacyNamespaceProp("RestImpl",a),a._HEADER_PROP="headers",a.addOptions=function(t,e,r){var o=n.extend(!0,t,r),i=e||{};return Object.keys(i).forEach(function(t){Object.prototype.hasOwnProperty.call(i,t)&&"oauthHeader"!==t&&(Object.prototype.hasOwnProperty.call(o,t)||(o[t]=i[t]),t===a._HEADER_PROP&&(o[t]=n.extend(!0,o[t],i[t])))}),e&&e.oauthHeader&&(o[a._HEADER_PROP]||(o[a._HEADER_PROP]={}),Object.keys(e.oauthHeader||{}).forEach(function(t){Object.prototype.hasOwnProperty.call(e.oauthHeader,t)&&(Object.prototype.hasOwnProperty.call(o[a._HEADER_PROP],t)||(o[a._HEADER_PROP][t]=e.oauthHeader[t]))})),o},a.prototype.getRecords=function(t,e,r,n){var o=r||{},i="jsonp"===o.dataType,s=this._getURL("read",this.rootURL,this.customURL,null,n,o),l={crossDomain:o.crossDomain||!i,dataType:this._getDataType(o),jsonpCallback:o.jsonpCallback,context:null!==n?n:this,success:t,error:e};return l=this._addHeaderProp(l),l=a.addOptions(l,o,s),o.xhr=this.ajax(l,n),o.xhr},a.prototype._addHeaderProp=function(t){var e=t||{};return this.model&&this.model.omitLanguageHeader||(e[a._HEADER_PROP]={"Accept-Language":this.getLocale()}),e},a.prototype.getRecord=function(t,e,r,n,o){var i=n||{},s="jsonp"===i.dataType,l=this._getURL("read",this.rootURL,this.customURL,r,o,i),u={crossDomain:i.crossDomain||!s,dataType:this._getDataType(i),jsonpCallback:i.jsonpCallback,context:null!==o?o:this,success:t,error:e};return u=this._addHeaderProp(u),u=a.addOptions(u,i,l),i.xhr=this.ajax(u,o),i.xhr},a.prototype.updateRecord=function(t,e,r,n,o,i,s){var l=o||{},u="jsonp"===l.dataType,c=this._getURL(s?"patch":"update",this.rootURL,this.customURL,e,i,l),h=a._emulateHTTP(l),p={crossDomain:l.crossDomain||!u,contentType:this._getContentType(l),dataType:this._getDataType(l),jsonpCallback:l.jsonpCallback,data:this._getData(JSON.stringify(r),l,c),emulateHTTP:h,emulateJSON:a._emulateJSON(l),success:t,error:n,context:null!==i?i:this};return p=this._addHeaderProp(p),p=a.addOptions(p,l,c),p=a._beforeSendMod(h,p),l.xhr=this.ajax(p,i),l.xhr},a._beforeSendMod=function(t,e){var r=e||{};if(t){var n=r.beforeSend;r.beforeSend=function(t){return t.setRequestHeader("X-HTTP-Method-Override",r._method),n?n.apply(this,arguments):null}}return r},a.prototype._getData=function(t,e,r){if(a._emulateJSON(e)){var n={_method:r._method?r._method:r.type};return t&&(n.model=t),n}return t},a.prototype._getHTTPMethod=function(t,e){if(e.type)return{method:e.type};var r=null;return"create"===t&&(r="POST"),"delete"===t&&(r="DELETE"),"patch"===t&&(r="PATCH"),"update"===t&&(r="PUT"),a._emulateHTTP(e)?{method:"POST",_method:r}:(null===r&&(r="GET"),{method:r})},a._emulateHTTP=function(t){return t.emulateHTTP||e.emulateHTTP},a._emulateJSON=function(t){return t.emulateJSON||e.emulateJSON},a.prototype._getURL=function(t,r,o,i,s,l){var u=this._getHTTPMethod(t,l);if(n.isFunction(o)){var c=o.call(this,t,s,a.SetCustomURLOptions(i,s,l));if(e.StringUtils.isString(c)){var h={url:c,type:u.method};return u._method&&(h._method=u._method),h}if(c)return c.url=Object.prototype.hasOwnProperty.call(c,"url")?c.url:r,Object.prototype.hasOwnProperty.call(c,"type")||(c.type=u.method),Object.prototype.hasOwnProperty.call(c,"data")||u._method&&(c._method=u._method),c}var p={url:a.GetPropValue(null,r),type:u.method};return u._method&&(p._method=u._method),p},a.prototype.deleteRecord=function(t,e,r,n){var o=r||{},i="jsonp"===o.dataType,s=this._getURL("delete",this.rootURL,this.customURL,t,n,o),l=a._emulateHTTP(o),u=a._emulateJSON(o),c={crossDomain:o.crossDomain||!i,success:o.success,error:e,context:null!==n?n:this,emulateHTTP:l,emulateJSON:u},h=this._getData(null,o,s);return h&&(c.data=h),c=a.addOptions(c,o,s),c=a._beforeSendMod(l,c),o.xhr=this.ajax(c,n),o.xhr},a.prototype.addRecord=function(t,e,r,n){var o=r||{},i=JSON.stringify(t),s="jsonp"===o.dataType,l=this._getURL("create",this.rootURL,this.customURL,null,n,o),u=a._emulateHTTP(o),c={crossDomain:o.crossDomain||!s,contentType:o.contentType||"application/json",dataType:this._getDataType(o),jsonpCallback:o.jsonpCallback,data:this._getData(i,o,l),success:o.success,error:e,emulateHTTP:u,emulateJSON:a._emulateJSON(o),context:null!==n?n:this};return c=this._addHeaderProp(c),c=a.addOptions(c,o,l),o.xhr=this.ajax(c,n),o.xhr},a.prototype._getDataType=function(t){return a._emulateJSON(t)&&!a._emulateHTTP(t)?"application/x-www-form-urlencoded":t.dataType||"json"},a.prototype._getContentType=function(t){return a._emulateJSON(t)&&!a._emulateHTTP(t)?"application/x-www-form-urlencoded":t.contentType||"application/json"},a.prototype.getLocale=function(){return o.getLocale()},a.prototype.ajax=function(t,r){if(null===t.url||void 0===t.url)throw new s;var n=e.ajax(t);return r._addxhr&&r._addxhr(n),n},a.SetCustomURLOptions=function(t,r,n){var o=r instanceof e.Collection?r.ModifyOptionsForCustomURL(n):{};return t&&(o.recordID=t),o},a.GetPropValue=function(t,e){return t?n.isFunction(t[e])?t[e]():t[e]:n.isFunction(e)?e():e};const l=function(t,e){l._init(this,t,e,null)};e._registerLegacyNamespaceProp("Model",l),e.Object.createSubclass(l,e.Object,"oj.Model"),l.prototype.Init=function(){l.superclass.Init.call(this)},l.prototype.attributes={},l.prototype.defaults={},l.prototype.id=null,l.prototype.idAttribute="id",l.prototype.urlRoot=null,l.prototype.customURL=null,l.prototype.validate=null,l.prototype.validationError=null,l.prototype.omitLanguageHeader=!1,l._idCount=0,l._init=function(t,e,r,o){var s,a,u;if(!l._justExtending){t.Init(),i.Mixin(t),t._clearChanged(),t.previousAttrs={},t.nestedSet=!1,t.index=-1;var c=r||{};for(u in t.attributes={},t.defaults&&!c.ignoreDefaults&&(t.attributes=l._cloneAttributes(n.isFunction(t.defaults)?t.defaults():t.defaults,null)),o)Object.prototype.hasOwnProperty.call(o,u)&&(t[u]=o[u]);if(e)if(s=c.parse,n.isFunction(s)&&(t.parse=s),a=l._cloneAttributes(e,t.attributes),t.attributes=a,null==(a=s?t.parse(a):a)||void 0===a)t.attributes={};else for(u in a)Object.prototype.hasOwnProperty.call(a,u)&&t._setProp(u,a[u],!1,!1,c,!0);t.SetCid(),t.SetCollection(c.collection),c.customURL&&(t.customURL=c.customURL),c.url&&(t.url=c.url),c.urlRoot&&(t.urlRoot=c.urlRoot),t.initialize&&t.initialize(e,c),t.SetupId()}},l.extend=function(t,e){var r;l._justExtending=!0,r=new l,l._justExtending=!1,n.extend(r,this.prototype);var o,s=t||{};return Object.keys(s).forEach(function(t){Object.prototype.hasOwnProperty.call(s,t)&&(r[t]=s[t])}),o=s&&s.constructor&&Object.prototype.hasOwnProperty.call(s,"constructor")?s.constructor:function(t,e){l._init(this,t,e,s)},n.extend(o,this),o.prototype=r,o.extend=l.extend,o.prototype.constructor=o,i.Mixin(o,this),e&&Object.keys(e).forEach(function(t){Object.prototype.hasOwnProperty.call(e,t)&&(o[t]=e[t])}),o},l.prototype.TriggerInternal=function(t,e,r,n,o){},l.prototype.SetCid=function(){this.GetCid()||(this.cid="id"+l._idCount,l._idCount+=1)},l.prototype.GetCid=function(){return this.cid},l.prototype.SetIndex=function(t){this.index=t},l.prototype.GetIndex=function(){return this.index},l.prototype.SetNext=function(t){var e=this.nextModel;return this.nextModel=t,e},l.prototype.GetNext=function(){return this.nextModel},l.prototype.SetPrevious=function(t){var e=this.previousModel;return this.previousModel=t,e},l.prototype.GetPrevious=function(){return this.previousModel},l.prototype.Merge=function(t,r,n){var o,i=!1,s=e.StringUtils.isString(r),a=!1,l=this;return Object.keys(t.attributes||{}).forEach(function(e){Object.prototype.hasOwnProperty.call(t.attributes,e)&&(o=l.attributes[e]!==t.attributes[e],s?e===r&&o&&(i=!0):o&&(i=!0),o&&(a=!0,l.attributes[e]=t.attributes[e],l._addChange(e,t.attributes[e]),l._fireAttrChange(e,l.attributes[e],null,n)))}),this.SetupId(),a&&this._fireChange(null,n),i},l._hasProperties=function(t){var e;if(t&&t instanceof Object)for(e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!0;return!1},l.prototype.SetCollection=function(t){null!=t?(this.collection=t,this.SetupId()):delete this.collection},l.prototype.GetCollection=function(){return this.collection},l.prototype._fireAttrChange=function(t,e,r,n){null!=t&&this.TriggerInternal(n,i.EventType.CHANGE+":"+t,this,e,r)},l.prototype._fireChange=function(t,e){this.TriggerInternal(e,i.EventType.CHANGE,this,t,null)},l.prototype.SetupId=function(){var t=null;if(this.collection&&this.collection.modelId){var e=this.collection.modelId;t=n.isFunction(e)?e.call(this.collection,this.attributes):e}if(!t){var r=this._getIdAttr();t=null!=this.attributes?this.attributes[r]:null}this.id=t},l.prototype._setPropInternal=function(t,r,n){var o=e.Object.__innerEquals(this.attributes[t],r);return!(!n&&o)&&(this.attributes[t]=r,this.SetupId(),!o)},l.prototype._clearChanged=function(){this.changed={}},l.prototype._addChange=function(t,e){this.changed[t]=e},l.prototype._setProp=function(t,e,r,n,o,i){if(null==t)return!0;var s,a={},u=this.nestedSet;if(n?Object.keys(t).forEach(function(e){Object.prototype.hasOwnProperty.call(t,e)&&(a[e]=t[e])}):a[t]=e,s=o||{},!this._checkValid(a,{validate:s.validate},!1))return!1;u||(this._clearChanged(),this.changes=[]),this.nestedSet||i||(this.previousAttrs=l._cloneAttributes(this.attributes,null)),this.nestedSet=!0;var c=this;Object.keys(a).forEach(function(t){Object.prototype.hasOwnProperty.call(a,t)&&(c._setPropInternal(t,a[t],r)?(c._addChange(t,a[t]),c.changes.push(t)):delete a[t])});var h=s.silent;if(Object.keys(a).forEach(function(t){Object.prototype.hasOwnProperty.call(a,t)&&(!h&&(c.changes.length>0||u&&-1===c.changes.indexOf(t))&&(c.pendingChanges=!0,c.pendingOpts=s),c._fireAttrChange(t,a[t],s,h))}),u)return!0;if(!h&&!u)for(;this.pendingChanges;)this.pendingChanges=!1,this._fireChange(this.pendingOpts,h);return this.nestedSet=!1,!0},l.prototype.clear=function(t){var e,r,n={silent:!0},o=t||{};e=o.silent,n.validate=o.validate,this._clearChanged();for(r in this.attributes)if(Object.prototype.hasOwnProperty.call(this.attributes,r)){if(!this._unsetInternal(r,n,!0))return!1;this.TriggerInternal(e,i.EventType.CHANGE+":"+r,this,void 0,null)}return this.attributes={},this.SetupId(),this._fireAttrChange(null,null,null,e),this._fireChange(null,e),this},l._cloneAttributes=function(t,r){var o,i,s=r||{},a=!0;if(("object"==typeof s?Object.keys(s):[]).length>0){for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&Object.prototype.hasOwnProperty.call(t,o)&&void 0===t[o]&&delete t[o];return e.CollectionUtils.copyInto(s,t,void 0,!0,1e4),s}for(o in t)if("function"===(i=n.type(t[o]))||"undefined"===i||"date"===i||"array"===i||"object"===i){a=!1;break}return a?s=JSON.parse(JSON.stringify(t)):"object"==typeof t&&e.CollectionUtils.copyInto(s,t,void 0,!0,1e4),s},l.prototype.clone=function(){var t,e=new this.constructor;for(t in this)Object.prototype.hasOwnProperty.call(this,t)&&this[t]!==this.attributes&&(e[t]=this[t]);return e.attributes=l._cloneAttributes(this.attributes,null),delete e.cid,e.SetCid(),e.SetupId(),e},l.prototype.Match=function(t,e){var r,n=this.GetId();return void 0!==n&&n==t||void 0!==(r=this.cid)&&r==e},l.prototype.set=function(t,r,n){var o,i=n||{},s=!0;if(arguments&&arguments.length>0)if(e.StringUtils.isString(t))i.unset?this._unsetInternal(t,null,!1):this._setProp(t,r,!1,!1,i,!1)||(s=!1);else if((i=r||{}).unset)for(o in t)Object.prototype.hasOwnProperty.call(t,o)&&this._unsetInternal(o,null,!1);else this._setProp(t,null,!0,!0,i,!1)||(s=!1);return!!s&&this},l.prototype.unset=function(t,e){return this._unsetInternal(t,e,!1)},l.prototype._unsetInternal=function(t,e,r){var n=e||{},o=n.silent;if(this.has(t)){if(!this._checkValid({},n,!1))return!1;r||this._clearChanged(),delete this.attributes[t],this._addChange(t,void 0),this._fireAttrChange(t,null,null,o),this._fireChange(null,o)}return this.SetupId(),!0},l.prototype.get=function(t){return this.attributes[t]},l.prototype.has=function(t){return e.Collection._defined(this.attributes[t])},l.prototype.fetch=function(t){var e,r=t||{},o=r.success,i=r.error,s=this;return(e=l._copyOptions(r)).error=function(e,n,o){l._triggerError(s,!1,r,n,o,e),i&&i.apply(s,[s,o,t,e,n])},e.success=function(t){e.xhr&&(r.xhr=e.xhr),l._fireSyncEvent(s,t,e,!1),n.isFunction(s.parse)&&s.set(s.parse(t),e),o&&o.call(l.GetContext(e,s),s,t,r)},l._internalSync("read",this,e)},l.prototype._parseImpl=function(t){return t},l.prototype.parse=l.prototype._parseImpl,l.prototype.url=function(){var t,e,r=this._getUrlRoot(),n=this.GetId();if(r)return n?r+"/"+encodeURIComponent(n):r;if(t=this.collection)return e=a.GetPropValue(t,"url"),n&&e?e+("/"===l._getLastChar(e)?"":"/")+encodeURIComponent(this.GetId()):e;throw new s},l.prototype.keys=function(){var t=[],e=this;return Object.keys(e.attributes||{}).forEach(function(r){Object.prototype.hasOwnProperty.call(e.attributes,r)&&t.push(r)}),t},l.prototype.values=function(){var t=[],e=this;return Object.keys(e.attributes||{}).forEach(function(r){Object.prototype.hasOwnProperty.call(e.attributes,r)&&t.push(e.get(r))}),t},l.prototype.pairs=function(){var t,e=[],r=this;return Object.keys(r.attributes||{}).forEach(function(n){Object.prototype.hasOwnProperty.call(r.attributes,n)&&((t=[]).push(n),t.push(r.get(n)),e.push(t))}),e},l.prototype.omit=function(t){var e,r=[],n={};if(t instanceof Array)r=t;else for(e=0;e<arguments.length;e++)r.push(arguments[e]);var o=this;return Object.keys(o.attributes||{}).forEach(function(t){Object.prototype.hasOwnProperty.call(o.attributes,t)&&-1===r.indexOf(t)&&(n[t]=o.get(t))}),n},l.prototype.pick=function(t){var e,r=[],n={};if(t instanceof Array)r=t;else for(e=0;e<arguments.length;e++)r.push(arguments[e]);for(e=0;e<r.length;e++)Object.prototype.hasOwnProperty.call(this.attributes,r[e])&&(n[r[e]]=this.get(r[e]));return n},l.prototype.invert=function(){var t,e={},r=this;return Object.keys(r.attributes||{}).forEach(function(n){Object.prototype.hasOwnProperty.call(r.attributes,n)&&(t=r.get(n),e[t]=n)}),e},l._getLastChar=function(t){return t.charAt(t.length-1)},l.prototype._saveUrl=function(){var t=this._getUrlRoot();return t||(this.GetCollection()?this.GetCollection().url:null)},l.prototype._getUrlRoot=function(){return a.GetPropValue(this,"urlRoot")},l.prototype._parseSaveImpl=function(t){return t},l.prototype.parseSave=l.prototype._parseSaveImpl,l.prototype.isValid=function(){var t={validate:this.validate};return this._checkValid(this.attributes,t,!1)},l._isValidateSet=function(t,e){var r=t||{};return void 0!==r.validate&&null!==r.validate?r.validate:e},l.prototype._checkValid=function(t,e,r){var n=e||{},o=this.validate;return!(o&&l._isValidateSet(n,r)&&(this.validationError=o.call(this,t,n),this.validationError))||(this.TriggerInternal(!1,i.EventType.INVALID,this,this.validationError,n),!1)},l._processArgs=function(t){var r,n=!1,o={},i={};if(t&&t.length>0){if(t.length>1&&t[t.length-1]&&l._hasProperties(t[t.length-1])&&(n=!0,o=t[t.length-1]||{}),null==t[0])return{attributes:null,options:o};if(l._hasProperties(t[0])||e.Object.isEmpty(t[0]))Object.keys(t[0]).forEach(function(e){Object.prototype.hasOwnProperty.call(t[0],e)&&(i[e]=t[0][e])});else for(r=0;r<t.length;r+=2)(void 0!==t[r]||r<t.length-1||!n&&r===t.length-1)&&(i[t[r]]=t[r+1])}return{attributes:i,options:o}},l._copyOptions=function(t){var e={},r=t||{};return Object.keys(r).forEach(function(t){Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}),e},l._triggerError=function(t,e,r,n,o,s){var a=r||{};a.textStatus=n,a.errorThrown=o,t.TriggerInternal(e,i.EventType.ERROR,t,s,a)},l.prototype.save=function(t,r){var o,i,s,a,u,c,h,p,f,d=l._processArgs(arguments);f=void 0===t?void 0:d.attributes;var _=r||{};h=l._copyOptions(d.options);var g=n.extend(!0,{},this.attributes,f);return!!this._checkValid(g,h,!0)&&(h.wait||this.set(f),o=void 0!==h.forceNew&&h.forceNew,a=this,u=h.error,c=h.patch,h.error=function(t,e,n){l._triggerError(a,!1,_,e,n,t),u&&u.apply(a,[a,n,r,t,e])},h.saveAttrs=h.wait?this._attrUnion(f):this.attributes,p=this.attributes,this.attributes=h.saveAttrs,h.saveAttrs=this.toJSON(),this.attributes=p,o||this.isNew()?(s=l._getSuccess(h),h.success=function(t){var r;if(h.xhr&&(_.xhr=h.xhr),t&&!e.Object.isEmpty(t)){if(r=n.isFunction(a.parse)?a.parse(t):t,!a._checkValid(r,h,!0))return;a.attributes=n.extend(!0,a.attributes,r),h.wait&&Object.keys(f||{}).forEach(function(t){Object.prototype.hasOwnProperty.call(r,t)&&(f[t]=r[t])}),a.SetupId()}l._fireSyncEvent(a,t,h,!1),h.wait&&a.set(f),s&&s.call(l.GetContext(h,a),a,t,_),a._clearChanged()},h.attrs||(h.attrs=h.saveAttrs),h.parse=!0,c&&(h.saveAttrs=h.attrs),l._internalSync("create",this,h)):(i=h.success,h.success=function(t){var r;h.xhr&&(_.xhr=h.xhr),t&&!e.Object.isEmpty(t)&&(r=n.isFunction(a.parse)?a.parse(t):t,a.attributes=n.extend(!0,a.attributes,r),h.wait&&Object.keys(f||{}).forEach(function(t){Object.prototype.hasOwnProperty.call(r,t)&&(f[t]=r[t])}),a.SetupId()),l._fireSyncEvent(a,t,h,!1),h.wait&&a.set(f),i&&i.call(l.GetContext(h,a),a,t,_),a._clearChanged()},h.attrs||(h.attrs=void 0===f?void 0:c?f:h.saveAttrs),l._internalSync(c?"patch":"update",this,h)))},l.prototype._attrUnion=function(t){var e={},r=this;return Object.keys(r.attributes||{}).forEach(function(t){Object.prototype.hasOwnProperty.call(r.attributes,t)&&(e[t]=r.attributes[t])}),Object.keys(t||{}).forEach(function(r){Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}),e},l.IsComplexValue=function(t){return t&&Object.prototype.hasOwnProperty.call(t,"value")&&Object.prototype.hasOwnProperty.call(t,"comparator")},l.prototype._hasAttrs=function(t){var r;for(r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(!Object.prototype.hasOwnProperty.call(this.attributes,r))return!1;for(var n=Array.isArray(t[r])?t[r]:[t[r]],o=0;o<n.length;o++)if(l.IsComplexValue(n[o])){var i=n[o].comparator,s=n[o].value;if(e.StringUtils.isString(i))throw new Error("String comparator invalid for local where/findWhere");if(!i(this,r,s))return!1}else if(t[r]!==this.attributes[r])return!1}return!0},l.prototype.matches=function(t){return function(e){for(var r in t)if(e.get(r)!==t[r])return!1;return!0}(this)},l.prototype.Contains=function(t){var e,r=t.constructor===Array?t:[t];for(e=0;e<r.length;e++)if(this._hasAttrs(r[e]))return!0;return!1},l._getSuccess=function(t){return null!=t&&t.success?t.success:null},l.GetContext=function(t,e){return void 0!==t&&void 0!==t.context?t.context:e},l.prototype.isNew=function(){return void 0===this.GetId()},l.prototype._getIdAttr=function(){return this.idAttribute||"id"},l.prototype.GetId=function(){return this.id},l.prototype.changedAttributes=function(t){if(t){var r={},n=this;return Object.keys(t).forEach(function(o){Object.prototype.hasOwnProperty.call(t,o)&&(e.Object.__innerEquals(t[o],n.attributes[o])||(r[o]=t[o]))}),!e.Object.isEmpty(r)&&r}return!e.Object.isEmpty(this.changed)&&this.changed},l.prototype.hasChanged=function(t){return void 0!==t?l._hasProperties(this.changed)&&Object.prototype.hasOwnProperty.call(this.changed,t):l._hasProperties(this.changed)},l.prototype.destroy=function(t){var r,n,o,s=t||{},a=s.wait,u=s.error,c=this;o=l._copyOptions(s),r=l._getSuccess(o);var h=this.GetCollection();return o.success=function(t){if(o.xhr&&(s.xhr=o.xhr),h){var n=e.StringUtils.isString(t)&&!e.StringUtils.isEmpty(t)?JSON.parse(t):t;h._setPagingReturnValues(n,null,t,!0)}a&&c._fireDestroy(!1),l._fireSyncEvent(c,t,o,!1),r&&r.call(l.GetContext(o,c),c,t,s)},o.error=function(e,r,n){c.TriggerInternal(!1,i.EventType.ERROR,c,e,s),u&&u.apply(c,[c,n,t,e,r])},this.isNew()?(a||this._fireDestroy(!1),r&&r.call(l.GetContext(o,c),c,null,s),!1):(n=l._internalSync("delete",this,o),a||this._fireDestroy(!1),n)},l.prototype._fireRequest=function(t,e,r,n){this.TriggerInternal(n,i.EventType.REQUEST,t,e,r)},l.prototype._fireDestroy=function(t){this.TriggerInternal(t,i.EventType.DESTROY,this,this.collection,null)},l._fireSyncEvent=function(t,e,r,n){t.TriggerInternal(n,i.EventType.SYNC,t,e,r)},l.prototype.toJSON=function(){var t={},e=this;return Object.keys(e.attributes||{}).forEach(function(r){Object.prototype.hasOwnProperty.call(e.attributes,r)&&(Array.isArray(e.attributes[r])?t[r]=e.attributes[r].slice(0):t[r]=e.attributes[r])}),t},l.prototype.previous=function(t){return this.previousAttrs[t]},l.prototype.previousAttributes=function(){return this.previousAttrs},l.prototype.sync=function(t,r,n){return e.sync(t,r,n)},l._internalSync=function(t,e,r){var n=r||{};e.oauth&&(n.oauthHeader=e.oauth.getHeader()),!n.dataType&&e.dataType&&(n.dataType=e.dataType),!n.jsonpCallback&&e.jsonpCallback&&(n.jsonpCallback=e.jsonpCallback),"create"!==t&&"patch"!==t&&"update"!==t||(n.parsedData=e.parseSave.call(e,"patch"===t?n.attrs:n.saveAttrs));var o=null;e instanceof l&&(o=e.GetId());var i={};Object.keys(n).forEach(function(t){i[t]=n[t]});var s=a.SetCustomURLOptions(o,e,n);return Object.keys(s||{}).forEach(function(t){i[t]=s[t]}),n.xhr=e.sync(t,e,i),i.xhr&&(n.xhr=i.xhr),n.xhr};const u=function(t,e,r){var n,o=r||{};function i(t){return e._fireRequest(e,t,o,o.silent),t}var s,u=o.success,c=o.error;if("create"===t.valueOf())return s=(s=e._saveUrl())||a.GetPropValue(e,"url"),i((n=new a(s,e)).addRecord(o.parsedData,c,o,e));if("read"===t.valueOf())return e instanceof l?(s=o.url?o.url:a.GetPropValue(e,"url"),i((n=new a(s,e)).getRecord(u,c,e.GetId(),o,l.GetContext(o,e)))):(s=e.GetCollectionFetchUrl(o),i((n=new a(s,e)).getRecords(u,c,o,e)));n=new a(a.GetPropValue(e,"url"),e);var h=null;return e instanceof l&&(h=e.GetId()),"update"===t.valueOf()?i(n.updateRecord(u,h,o.parsedData,c,o,e,!1)):"patch"===t.valueOf()?i(n.updateRecord(u,h,o.parsedData,c,o,e,!0)):"delete"===t.valueOf()?i(n.deleteRecord(h,c,o,e)):null};e._registerLegacyNamespaceProp("sync",u),l._urlError=function(t){if(!t.url)throw new Error("The url property or function must be specified")};const c=function(t){return arguments&&arguments.length>0&&l._urlError(arguments[0]),n.ajax.apply(e,arguments)};e._registerLegacyNamespaceProp("ajax",c);const h=function(t,e){h._justExtending||h._init(this,t,e,null)};e._registerLegacyNamespaceProp("Collection",h),e.Object.createSubclass(h,e.Object,"oj.Collection"),h.prototype.model=null,h.prototype.modelId=function(t){var e=this.model;return e&&t?t[e.idAttribute||e.prototype.idAttribute||"id"]:null},h.prototype.length=null,h.prototype.models=null,h.prototype._modelIndices=[],h.prototype.url=null,h.prototype.changes=[],h.prototype.customURL=null,h.prototype.customPagingOptions=null,h.prototype.lastFetchSize=null,h.prototype.hasMore=!1,h.prototype.totalResults=null,h.prototype.lastFetchCount=null,h.prototype.modelLimit=-1,h.prototype.offset=null,h.prototype.fetchSize=-1,h.prototype.sortDirection=1,h.prototype.comparator=null,h.prototype.omitLanguageHeader=!1,h.prototype.Init=function(){h.superclass.Init.call(this)},h.extend=function(t,e){var r,o=null;return h._justExtending=!0,o=new h,h._justExtending=!1,n.extend(o,this.prototype),r=t&&t.constructor&&Object.prototype.hasOwnProperty.call(t,"constructor")?t.constructor:function(e,r){h._init(this,e,r,t)},e&&Object.keys(e).forEach(function(t){Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}),t&&Object.keys(t).forEach(function(e){Object.prototype.hasOwnProperty.call(t,e)&&(o[e]=t[e])}),n.extend(r,this),r.prototype=o,r.extend=h.extend,r.prototype.constructor=r,r},h._init=function(t,e,r,n){var o,s,a,l;if(t.Init(),i.Mixin(t),n)for(l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l]);var u=r||{};for(s=["comparator","customPagingOptions","customURL",h._FETCH_SIZE_PROP,"model","modelLimit","sortDirection","url"],o=0;o<s.length;o++)Object.prototype.hasOwnProperty.call(u,s[o])&&void 0!==u[s[o]]&&(t[s[o]]=u[s[o]]);void 0===t._getFetchSize(null)&&t.setFetchSize(-1),void 0===t.modelLimit&&t.setModelLimit(-1),t.hasMore=!1,t.lruCount=0,t._setModels([],!0);var c=e;u.parse&&(c=t.parse(e)),null!=c&&(u.noparse=!0,a=c instanceof Array?c:[c],t._addInternal(a,u,!0,!1)),t._setLength(),c||(t.totalResults=void 0),n&&n.initialize&&n.initialize.call(t,c,u)},h.prototype.on=function(t,e){},h.prototype.OnInternal=function(t,e,r,n,o){},h.prototype.TriggerInternal=function(t,e,r,n,o){},h.prototype._fireRequest=function(t,e,r,n){this.TriggerInternal(n,i.EventType.REQUEST,t,e,r)},h.prototype._resetChanges=function(){this.changes=[]},h.prototype._setChangeAt=function(t,e){for(var r=t;r<t+e;r++)-1===this.changes.indexOf(r)&&this.changes.push(r)},h.prototype._setModels=function(t,e){if(this.models=t,e)this._modelIndices=[],this._resetChanges();else for(var r=0;r<t.length;r++)t[r]&&this._modelIndices.push(r)},h.prototype._getModels=function(){return this.models},h.prototype._getModelsLength=function(){return this._getModels().length},h.prototype._overUpperLimit=function(t){return!(t<this._getModelsLength())&&!(this.IsVirtual()&&(!this._hasTotalResults()||0===this._getModelsLength()))},h.prototype._hasTotalResults=function(){return h._defined(this.totalResults)},h._defined=function(t){return null!=t},h.prototype._pushModel=function(t){this._getModels().push(t),this._modelIndices.push(this._getModelsLength()-1),this._setChangeAt(this._getModelsLength()-1,1)},h.prototype._pushModels=function(t){this._makeModelHead(t),this._pushModel(t),this.lruCount+=1,t.SetIndex(this._getModelsLength()-1)},h.prototype._reduceLRU=function(t){if(t)for(var e=0;e<t.length;e++)t[e]&&(this.lruCount-=1)},h.prototype._spliceModels=function(t,e,r){for(var n=t;n<t+e;n++)this._removePrevNext(this._getModel(n));void 0===r?(this._reduceLRU(this._getModels().splice(t,e)),this._spliceModelIndices(t,t+e-1)):(this._reduceLRU(this._getModels().splice(t,e,r)),this._spliceModelIndices(t,t+e-1),this._insertModelIndex(t),this._makeModelHead(r)),this._setChangeAt(t,e),this.lruCount<0&&(this.lruCount=0),this._realignModelIndices(t)},h.prototype._getModel=function(t){return this._getModels()[t]},h.prototype._realignModelIndices=function(t){for(var e,r=0;r<this._modelIndices.length;r++)(e=this._modelIndices[r])>=t&&this._getModel(e)&&this._getModel(e).SetIndex(e)},h.prototype._removePrevNext=function(t){if(t){var e=t.GetPrevious(),r=t.GetNext();e?e.SetNext(r):this.head=r,r?r.SetPrevious(e):this.tail=e}},h.prototype._makeModelHead=function(t){t.SetNext(this.head),this.head?this.head.SetPrevious(t):this.tail=t,t.SetPrevious(null),this.head=t},h.prototype._setModelIndex=function(t){-1===this._modelIndices.indexOf(t)&&this._modelIndices.push(t)},h.prototype._insertModelIndex=function(t){for(var e=0;e<this._modelIndices.length;e++)this._modelIndices[e]>=t&&(this._modelIndices[e]+=1);this._modelIndices.push(t)},h.prototype._spliceModelIndices=function(t,e){var r=void 0===e?t:e;this._clearModelIndices(t,r);for(var n=r-t+1,o=0;o<this._modelIndices.length;o++)this._modelIndices[o]>r&&(this._modelIndices[o]-=n)},h.prototype._clearModelIndices=function(t,e){for(var r=void 0===e?t:e,n=t;n<=r;n++){var o=this._modelIndices.indexOf(t);o>-1&&this._modelIndices.splice(o,1)}},h.prototype._setModel=function(t,e){var r=this._getModel(t);this._removePrevNext(r),r||(this.lruCount+=1),this._setChangeAt(t,1),this._getModels()[t]=e,e&&(this._setModelIndex(t),e.SetIndex(t),this._makeModelHead(e))},h.prototype._clearOutModels=function(t){var e,r,n=this.tail,o=0;for(this.tail=null;n&&o<t;)e=n.GetIndex(),(r=this._getModel(e))&&r.hasChanged()?(this.tail||(this.tail=n),n=n.GetPrevious()):(this.lruCount-=1,e>-1&&(this._setModel(e,void 0),this._clearModelIndices(e,e)),n.SetNext(null),n=n.SetPrevious(null),o+=1);this.tail||(this.tail=n),this.lruCount<0&&(this.lruCount=0),0===this.lruCount&&(this.head=null,this.tail=null)},h.prototype._resetLRU=function(){this.lruCount=0,this.head=null,this.tail=null},h.prototype._manageLRU=function(t){if(this.IsVirtual()){var e=this._getModelLimit();e>-1&&this.lruCount+t>e&&this._clearOutModels(this.lruCount+t-e)}},h.prototype.clone=function(){return this._cloneInternal(!0)},h.prototype._cloneInternal=function(t){var e,r,n=new this.constructor;if(this.IsVirtual()&&(n=this._copyFetchProperties(n))._resetModelsToFullLength(this.totalResults),n=this._copyProperties(n),t){var o,i=[];for(e=0;e<this._modelIndices.length;e++)i.push(this._modelIndices[e]);for(i.sort(function(t,e){return t-e}),e=0;e<i.length;e++)o=i[e],(r=this._atInternal(o,null,!0,!1))&&n._addInternal(r.clone(),{at:o},!0,!1)}return n},h.prototype._copyProperties=function(t){var e,r,n=["comparator","model","modelId"];for(r=0;r<n.length;r++)t[e=n[r]]=this[e];return t},h.prototype._copyFetchProperties=function(t){var e,r,n=["totalResults","hasMore",h._FETCH_SIZE_PROP];for(r=0;r<n.length;r++)t[e=n[r]]=this[e];return t},h.prototype._getLength=function(){return this.length},h.prototype._setLength=function(){var t=this._getModelsLength();this.length=t,this.IsVirtual()||(this.totalResults=t)},h._createModel=function(t,e,r){return t.model?n.isFunction(t.model)?new t.model(e,r):new t.model.constructor(e,r):null},h.prototype._newModel=function(t,e,r,n){var o,s=null,a=r||{};return a.ignoreDefaults=n,t instanceof l?s=t:this.model?s=h._createModel(this,t,a):(a.collection=this,s=new l(t,a)),a.validate&&s.validate&&(o=s.validate(s.attributes))?(a.validationError=o,this.TriggerInternal(!1,i.EventType.INVALID,s,o,a),null):s},h.prototype.add=function(t,e){this._manageLRU(1);var r=e||{};return this._handlePromise(this._addInternal(t,e,!1,r.deferred))},h.prototype._addInternal=function(t,n,o,s){var a,u,c,p=n||{},f=[],d=p.at,_=p.silent,g=p.force,y=p.merge||!1,v=p.sort,m=!0,I=!1,O=[],b=[];function E(t,n,s,a,l){var h,f=null;return!g&&y&&s?(m=s.Merge(n,t.comparator,_),f=s):(g||(h=o&&a.isNew()?void 0:t._getLocal(a))&&o&&d!==h.index&&r.warn("Duplicate ID fetched or added without merging, the id = "+h.GetId()),void 0===h?(!function(t,e){void 0===d?(t._pushModels(e),u=t._getModelsLength()-1,t._getModel(u).SetCid()):(u=d,t.IsVirtual()&&o?t._setModel(u,e):t._spliceModels(u,0,e),t._getModel(u).SetCid(),d+=1),void 0===e.GetCollection()&&e.SetCollection(t),t._setLength(),t._listenToModel(e),I=!0}(t,a),f=a):f=h),function(t,r,n,s,a){var l=p||{};o&&(l.fillIn=!0);var h=l.comparator||t._hasComparator();if((!o||o&&h)&&m&&void 0===r&&!v&&void 0===d&&t._getLength()>1){u>-1&&(c=t._getModel(u).cid);var f={};e.CollectionUtils.copyInto(f,l),f.add=!0,t.sort(f),u>-1&&(u=t.IsVirtual()?-1:t.indexOf(t.getByCid(c),a))}I&&(l.at&&(l.index=u),s?(s.TriggerInternal(_,i.EventType.ADD,s,t,l),O.push(s)):(n.TriggerInternal(_,i.EventType.ADD,n,t,l),O.push(n)))}(t,h,s,a,l),f}function P(t,e,r){I=!1;var n=t._newModel(e,!0,p,!1),i=null,s=null;if(null!=n){if(u=-1,n.SetupId(),i=e instanceof l?e:n,r)return g?new Promise(function(e){var o=E(t,i,void 0,n,r);b.push(o),e(o)}):t._getInternal(i,{silent:!0},r,!0).then(function(e){s=e.m;var o=E(t,i,s,n,r);b.push(o)});!g&&y&&(s=o?t._getLocal(i):t.get(i));var a=E(t,i,s,n,r);a&&b.push(a)}else b.push(!1);return Promise.resolve()}function T(t,e){return t.parse&&p.parse&&!p.noparse?t.parse(e):e}if(void 0!==d&&d<0&&(d+=this._getLength()+1),t instanceof Array?f=t:f.push(t),!o&&(this.IsVirtual()||s)){var R=this;return new Promise(function(t,e){var r=function(t){return new Promise(function(e,r){P(R,f[t],!0).then(function(){e(t+1)},r)})},n=Promise.resolve(0);for(f=T(R,f),a=0;a<f.length;a++)n=n.then(r);n.then(function(){O.length>0&&R.TriggerInternal(p.silent,i.EventType.ALLADDED,R,O,p),t(h._returnModels(b))},e)})}for(f=T(this,f),a=0;a<f.length;a++)P(this,f[a],!1);return O.length>0&&this.TriggerInternal(p.silent,i.EventType.ALLADDED,this,O,p),h._returnModels(b)},h._returnModels=function(t){return 1===t.length?t[0]:t},h.prototype._hasComparator=function(){return h._defined(this.comparator)},h.prototype.sort=function(t){var e,r,n=t||{},o=n.silent,s=this.comparator;if(!this._hasComparator())return null;if(this.IsVirtual()){var a=this.totalResults;this._hasTotalResults()?this._setModels(new Array(a),!0):(this._setModels([],!0),this._resetLRU(),this._setLength()),r=n.add?{add:!0}:null,this.TriggerInternal(o,i.EventType.SORT,this,r,null);var l=n.startIndex;return null!=l?this.setRangeLocal(l,this._getFetchSize(n)):null}return e=this,this._getModels().sort(function(t,r){return h.SortFunc(t,r,s,e,e)}),this._realignModelIndices(0),r=n.add?{add:!0}:null,this.TriggerInternal(o,i.EventType.SORT,this,r,null),null},h._getKey=function(t,e){return t instanceof l?t.get(e):a.GetPropValue(t,e)},h.SortFunc=function(t,r,o,i,s){var a,l,u,c;if(n.isFunction(o)){if(1===o.length){a=o.call(s,t),l=o.call(s,r);var p=e.StringUtils.isString(a)?a.split(","):[a],f=e.StringUtils.isString(l)?l.split(","):[l];for(u=0;u<p.length;u++)if(0!==(c=h._compareKeys(p[u],f[u],i.sortDirection)))return c}return o.call(s,t,r)}if(e.StringUtils.isString(o)){var d=o.split(",");for(u=0;u<d.length;u++)if(a=h._getKey(t,d[u]),l=h._getKey(r,d[u]),0!==(c=h._compareKeys(a,l,i.sortDirection)))return c}return 0},h.prototype.sortedIndex=function(t,r){var o,i,s=r||this.comparator;return s?(this._throwErrIfVirtual("sortedIndex"),o=this,i=function(t,r){var i,a;if(n.isFunction(s)){if(1===s.length){i=s.call(o,t),a=s.call(o,r);var l,u,c=e.StringUtils.isString(i)?i.split(","):[i],p=e.StringUtils.isString(a)?a.split(","):[a];for(u=0;u<c.length;u++)if(0!==(l=h._compareKeys(c[u],p[u],o.sortDirection)))return l}return s.call(o,t,r)}return e.StringUtils.isString(s)?(i=t.get(s),a=r.get(s),h._compareKeys(i,a,o.sortDirection)):0},h._find(this._getModels(),t,i)):-1},h._find=function(t,e,r){return function n(o,i){var s,a,l;return o>i?-1:(s=e.GetCid(),a=e.GetId(),t[o].Match(a,s)?o:t[i].Match(a,s)?i:(l=Math.floor((i+o)/2),-1===r(t[l],e)?n(o+1,l):1===r(t[l],e)?n(l,i-1):l))}(0,t.length-1)},h._compareKeys=function(t,e,r){if(-1===r){if(t<e)return 1;if(e<t)return-1}else{if(t>e)return 1;if(e>t)return-1}return 0},h.prototype.unshift=function(t,r){var n={};return e.CollectionUtils.copyInto(n,r||{}),n.at||(n.at=0),this._manageLRU(1),this._handlePromise(this._addInternal(t,n,!1,n.deferred))},h.prototype._handlePromise=function(t){return n.isFunction(t.then)?this._addPromise(function(){return t}):t},h.prototype.shift=function(t){var e,r=t||{},n=this._getDeferred(r);if(this.IsVirtual()||n){var o=this;return this._atInternal(0,r,!1,!0).then(function(t){return e=o._removeInternal(t,0,r),o.TriggerInternal(r.silent,i.EventType.ALLREMOVED,o,[e],r),e})}return e=this._removeInternal(this.at(0),0,r),this.TriggerInternal(r.silent,i.EventType.ALLREMOVED,this,[e],r),e},h.prototype.initial=function(t){var e=void 0===t?1:t;this._throwErrIfVirtual("initial");var r,n=[];for(r=0;r<this._getLength()-e;r+=1)n.push(this.at(r));return n},h.prototype._getDeferred=function(t){return(t||{}).deferred},h.prototype.last=function(t,e){var r,n=this._getDeferred(e),o=void 0===t?1:t;if(1===o)return 0===(r=this._getModelsLength())&&(r=o),r>0?this._atInternal(r-1,e,!1,n):null;var i,s=[];if(r=this._getLength(),n||this.IsVirtual()){var a=r-t;a<0&&(a=0),0===r&&(r=t);var l=this;return this._addPromise(function(){return l.IterativeAt(a,r)})}for(i=r-t;i<r;i+=1)s.push(this.at(i));return s},h.prototype.IterativeAt=function(t,e){var r,n=[],o=this;return new Promise(function(i,s){var a=function(t){return o.IsVirtual()&&o._hasTotalResults()&&t>=o.totalResults?Promise.resolve(t+1):new Promise(function(e,r){o._deferredAt(t,null).then(function(r){n.push(r),e(t+1)},r)})},l=Promise.resolve(t);for(r=t;r<e;r++)l=l.then(a);l.then(function(){i(n)},s)})},h.prototype._getDefaultFetchSize=function(t){return null==t?this[h._FETCH_SIZE_PROP]:t},h.prototype._calculateNextStart=function(){var t=this.lastFetchCount;return null==t&&(t=this[h._FETCH_SIZE_PROP]),void 0===this.offset||null===this.offset?t:this.offset+t},h.prototype.next=function(t,e){var r=e||{};r[h._FETCH_SIZE_PROP]=this._getDefaultFetchSize(t);var n=this._calculateNextStart(),o=this._getLength();if(0===o&&r[h._FETCH_SIZE_PROP]>0)n=0;else if(n>=o){return r.success&&r.success.call(l.GetContext(r,this),this,null,r),null}return r.startIndex=n,this.fetch(r)},h.prototype._calculatePrevStart=function(t){return void 0===this.offset||null===this.offset?0:this.offset-t},h.prototype.previous=function(t,e){var r=e||{};if(0===this.offset){return r.success&&this.lastFetchCount&&r.success.call(l.GetContext(r,this),this,null,r),null}r[h._FETCH_SIZE_PROP]=this._getDefaultFetchSize(t);var n=this._calculatePrevStart(r[h._FETCH_SIZE_PROP]);return n<0&&(r[h._FETCH_SIZE_PROP]=this.offset,n=0),r.startIndex=n,this.fetch(r)},h.prototype.setModelLimit=function(t){this.modelLimit=t,this._manageLRU(0)},h.prototype._getModelLimit=function(){return this.modelLimit},h.prototype.setFetchSize=function(t){this[h._FETCH_SIZE_PROP]=t},h.prototype.rest=function(t,e){var r,n=this._getDeferred(e),o=void 0===t?1:t,i=[];if(this.IsVirtual()||n){var s=this;return this._addPromise(function(){return s.IterativeAt(o,s._getLength())})}for(r=o;r<this._getLength();r+=1)i.push(this.at(r));return i},h.prototype.remove=function(t,e){var r,n=e||{},o=[];t instanceof Array?o=t:o.push(t);var s=[];for(r=o.length-1;r>=0;r-=1)s.unshift(this._removeInternal(o[r],-1,n));return this.TriggerInternal(n.silent,i.EventType.ALLREMOVED,this,o,n),h._returnModels(s)},h.prototype._removeInternal=function(t,r,n){var o=n||{},s=-1===r?this._getInternal(t):h._getModinfo(r,t),a=o.silent,l=s.index;if(l>-1){var u=s.m;void 0!==u&&u.GetCollection()===this&&u.SetCollection(null),this._spliceModels(l,1),this._setLength();var c={};e.CollectionUtils.copyInto(c,o),c.index=l,void 0!==u&&u.TriggerInternal(a,i.EventType.REMOVE,u,this,c),this._unlistenToModel(u)}return s.m},h.prototype._unlistenToModel=function(t){void 0!==t&&t.off(null,null,this)},h.prototype._listenToModel=function(t){t.OnInternal(i.EventType.ALL,this._modelEvent,this,!1,!0)},h.prototype._modelEvent=function(t,e,r,n){if(t===i.EventType.DESTROY&&this.remove(e),!(void 0!==r&&r instanceof h&&r!==this)){var o=n&&n.silent;this.TriggerInternal(o,t,e,r,n)}},h.prototype.refresh=function(t){var e,r=t||{},n=this;return this._addPromise(function(){return new Promise(function(t,o){if(!n.IsVirtual()){e=void 0!==r.silent&&r.silent;try{n.reset(null,{silent:!0});var a={};return Object.keys(r).forEach(function(t){Object.prototype.hasOwnProperty.call(r,t)&&(a[t]=r[t])}),a.success=function(r,o,s){n.TriggerInternal(e,i.EventType.REFRESH,n,s,null),t({collection:r,response:o,options:s})},a.error=function(t,e,i,s,a){o(h._createRejectionError(i,a,e,n,r,!1))},void n._fetchInternal(a,-1,!1)}catch(o){if(o instanceof s)return n.TriggerInternal(e,i.EventType.REFRESH,n,r,null),void t({collection:n,options:r});throw o}}var l=r.startIndex;n._setModels([],!0),n._resetLRU(),n.totalResults=void 0,n._setLength(),e=void 0!==r.silent&&r.silent,n.TriggerInternal(e,i.EventType.REFRESH,n,r,null),null==l&&(l=0),null!=l?n._setRangeLocalInternal(l,n._getFetchSize(r)).then(function(e){t(e)},function(t){o(t)}):t(void 0)})})},h.prototype.reset=function(t,r){var n,o,s={};e.CollectionUtils.copyInto(s,r||{}),s.previousModels=this._getModels();for(var a=0;a<this._modelIndices.length;a++)n=this._modelIndices[a],(o=this._getModel(n))&&(this._unlistenToModel(o),o.SetCollection(null));this._setModels([],!0),this._resetLRU();var l=void 0!==s.silent&&s.silent;if(!t)return this._setLength(),this.totalResults=void 0,this.TriggerInternal(l,i.EventType.RESET,this,s,null),null;var u,c=t;return s.parse&&(c=this.parse(t)),this._manageLRU(c instanceof Array?c.length:1),s.noparse=!0,u=this._addInternal(c,s,!0,!1),this._setLength(),this.TriggerInternal(l,i.EventType.RESET,this,s,null),this._handlePromise(u)},h.prototype.at=function(t,e){var r=this._getDeferred(e);return this._atInternal(t,e,!1,r)},h.prototype._atInternal=function(t,e,r,n){var o=t;if(o<0&&(o+=this._getLength()),o<0||this._overUpperLimit(o))return r||!this.IsVirtual()&&!n?null:this._addPromise(function(){return Promise.resolve(null)});var i=this;return r||!this.IsVirtual()&&!n?this._getModel(o):this._addPromise(function(){return i._deferredAt(o,e)})},h.prototype.whenReady=function(){return this._promises?this._promises:Promise.resolve()},h.prototype._addPromise=function(t){var e=this;return void 0===this._promises&&(this._promiseCount=0,this._promises=Promise.resolve()),this._promiseCount+=1,this._promises=this._promises.then(t.bind(e)).then(function(t){return e._promiseCount-=1,0===e._promiseCount&&(e._promises=void 0,e.TriggerInternal(!1,i.EventType.READY,e,null,null)),t},function(t){return e._promiseCount-=1,0===e._promiseCount&&(e._promises=void 0),Promise.reject(t)}),this._promises},h.prototype._addxhr=function(t){if(t&&t.abort){void 0===this._xhrs&&(this._xhrs=[]);var e=this;this._xhrs.push(t),t.done(function(){var r=e._xhrs?e._xhrs.indexOf(t):-1;r>-1&&e._xhrs.splice(r,1)})}},h.prototype.abort=function(){var t=this;function e(e,r){t._xhrs[e].then(function(n,o){"abort"===o&&(t._xhrs.splice(e,1),0===t._xhrs.length&&t.whenReady().then(function(){r(null)},function(){r(null)}))},function(){t._xhrs.splice(e,1),0===t._xhrs.length&&t.whenReady().then(function(){r(null)},function(){r(null)})})}return this._xhrs&&this._xhrs.length>0?new Promise(function(r){for(var n=t._xhrs.length-1;n>=0;n--)e(n,r),t._xhrs[n].abort()}):Promise.resolve()},h.prototype._deferredAt=function(t,r){var n=this,o=n._getModel(t);return new Promise(void 0===o?function(o,i){var s={};e.CollectionUtils.copyInto(s,r||{}),s.context=n,s.startIndex=t,s.error=function(t,e,o,s,a){i(h._createRejectionError(s,a,e,n,r,!1))},s.success=function(){o(n._getModel(t))},n._fetchInternal(s,-1,!1)}:function(t){t(o)})},h.prototype.getByCid=function(t){for(var e,r=this._getModels(),n=null,o=0;o<this._modelIndices.length;o++)if(r[e=this._modelIndices[o]]&&t===r[e].cid){n=r[e];break}if(n)return n;if(this.IsVirtual())throw new Error("Not found locally and not supported by server for virtual collections");return null},h.prototype.get=function(t,e){var r=this._getDeferred(e),o=this._getInternal(t,e,r);if(o){if(n.isFunction(o.then))return this._addPromise(function(){return new Promise(function(t,e){o.then(function(e){t(e.m)},function(t){e(t)})})});if(this.IsVirtual())return this._addPromise(function(){return new Promise(function(t){t(o.m)})});if(Object.prototype.hasOwnProperty.call(o,"m"))return o.m}return null},h.prototype._getLocal=function(t){var e=this._getLocalInternal(t);return e?e.m:null},h.prototype._getLocalInternal=function(t){var e=t,r=t;t instanceof l?(e=t.GetCid(),r=t.GetId()):h._defined(t)&&void 0!==t.id&&(r=t.id);for(var n,o,i=null,s=this._modelIndices.length,a=this._getModels(),u=0;u<s;u++)if(void 0!==(n=a[o=this._modelIndices[u]])&&n.Match(r,e)){i=h._getModinfo(o,n);break}return i||h._getModinfo(-1,void 0)},h.prototype._getInternal=function(t,r,n,o){var i=t,s=t,a=void 0!==o&&o;t instanceof l?(i=t.GetCid(),s=t.GetId()):h._defined(t)&&void 0!==t.id&&(s=t.id);for(var u,c=null,p=this._getModels(),f=0;f<this._modelIndices.length;f++)if(p[u=this._modelIndices[f]]&&p[u].Match(s,i)){var d=h._getModinfo(u,p[u]);c=d;break}if(c)return n?new Promise(function(t){t(c)}):c;if(this.IsVirtual()){if(void 0===s&&void 0!==i)return new Promise(function(t){t(h._getModinfo(-1,void 0))});var _=this;return new Promise(function(t,n){var o={};e.CollectionUtils.copyInto(o,r||{}),o.context=_,o.startID=s,o.error=function(t,e,o,i,s){n(h._createRejectionError(i,s,e,_,r,!1))},o.success=function(e,r){!function(e){if(null!=e){var r=_._getOffset(),n=_._getModel(r);void 0!==n&&n.Match(s,i)?t(h._getModinfo(r,n)):t(h._getModinfo(-1,void 0))}else t(h._getModinfo(-1,void 0))}(r)},_._fetchInternal(o,-1,a)})}var g=h._getModinfo(-1,void 0);return n?new Promise(function(t){t(g)}):g},h._getModinfo=function(t,e){return{index:t,m:e}},h.prototype._parseImpl=function(t){if(t instanceof Array)return t;if(!t)return t;var e;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&t[e]instanceof Array)return t[e];return t},h.prototype.parse=h.prototype._parseImpl,h.prototype._checkActual=function(t,e,r){return!!(this._hasTotalResults()&&r.start+r.count>=this.totalResults)||r.start===t&&r.count===e},h.prototype.setRangeLocal=function(t,e,r){var n=this;return this._addPromise(function(){return n._setRangeLocalInternal(t,e,r)})},h.prototype._setRangeLocalInternal=function(t,e,r){this.IsVirtual()&&this._resetModelsToFullLength(this.totalResults);var n=this._getLocalRange(t,e),o=this;if(this._checkActual(t,e,n))return new Promise(function(t){t(n)});var i=this._getModelLimit();return i>-1&&i<e&&(this.modelLimit=e),new Promise(function(n,i){o._setRangeLocalFetch(t,e,-1,{start:t,count:e},n,i,!0,r)})},h.prototype._setRangeLocalFetch=function(t,e,r,n,o,i,a,l){var u=this,c=t,p=c+e;this[h._FETCH_SIZE_PROP]&&this[h._FETCH_SIZE_PROP]>e&&(p=this[h._FETCH_SIZE_PROP]+c);var f=null;if(this.IsVirtual()){var d=this._getFirstMissingModel(c,p);d>c&&(p=(c=d)+e,this[h._FETCH_SIZE_PROP]&&this[h._FETCH_SIZE_PROP]>e&&(p=this[h._FETCH_SIZE_PROP]+c)),f={context:this,startIndex:c,fetchSize:p-c}}else f={context:this};f.error=function(t,e,r,n,o){i(h._createRejectionError(n,o,e,u,null,!1))},f.success=function(){!function(){var t=u._getLocalRange(n.start,n.count);if(a&&u._hasTotalResults()&&t.count<n.count){var r=t.start+t.count,s=c+(u.lastFetchCount?u.lastFetchCount:e);s<u.totalResults?u._setRangeLocalFetch(s,e,r,n,o,i,a,l):o(t)}else o(t)}()},l&&l.silent&&(f.silent=l.silent);try{this._fetchInternal(f,r,r>-1)}catch(t){if(t instanceof s){var _=u._getLocalRange(c,e);o(_)}}},h._createRejectionError=function(t,e,r,n,o,i){var s=!1;o&&o.silent&&(s=o.silent),i&&l._triggerError(n,s,o,e,r,t);var a=new Error(e);return a.xhr=t,a.error=r,a.collection=n,a.status=e,a},h.prototype._getMaxLength=function(t,e){var r=this._getModelsLength();return 0===r?t+e:t+e>r?r:t+e},h.prototype.isRangeLocal=function(t,e){var r=this._getLocalRange(t,e);return 0===this._getModelsLength()?0===e:t===r.start&&(e===r.count||t+e>this._getModelsLength())},h.prototype._getModelArray=function(t,e){for(var r=[],n=this._getModels(),o=t+e,i=t;i<o;i++)r.push(n[i]);return r},h.prototype._getLocalRange=function(t,e){if(!this.IsVirtual()){if(this._getModelsLength()>0){if(t+e>this._getModelsLength()){var r=this._getModelsLength()-t;return{start:t,count:r,models:this._getModelArray(t,r)}}return{start:t,count:e,models:this._getModelArray(t,e)}}return{start:t,count:0,models:[]}}var n=this._getMaxLength(t,e);if(!this._hasTotalResults()&&n<t+e)return{start:t,count:n-t,models:this._getModelArray(t,n-t)};if(0===n)return{start:t,count:0,models:[]};var o=this._getFirstMissingModel(t,n);if(o>-1)return{start:t,count:o-t,models:this._getModelArray(t,o-t)};var i=e;return t>n?i=0:t+i>n&&(i=n-t),{start:t,count:i,models:this._getModelArray(t,i)}},h.prototype._getFirstMissingModel=function(t,e){for(var r=t;r<e;r++)if(void 0===this._getModel(r))return r;return-1},h.prototype.fetch=function(t){var e=this._fetchInternal(t,-1,!1);return this._addPromise(function(){return Promise.resolve(e)}),e},h.prototype._fetchInternal=function(t,e,r){function n(t,e,r,n){t.IsVirtual()?r||t._resetModelsToFullLength(n):e.add||e.useset||t.reset(null,{silent:!0})}var o,s=t||{},a=s.success,u=s.error;return s.set&&(s.useset=!!s.set),void 0===s.parse&&(s.parse=!0),o=this,s.error=function(e,r,n){l._triggerError(o,!1,t,r,n,e),u&&u.call(l.GetContext(t,o),o,n,t,e,r)},s.success=function(u){var c,p;try{c=o.parse(u,t)}catch(e){return void h._reportError(o,e,s.error,t)}o._setPagingReturnValues(u,t,c,r)||(p=o.totalResults);var f=null,d=!1,_=e;if(s.add||o.model){n(o,s,r,p);try{-1===e&&(d=!0,_=o._getOffset()),f=o._fillInCollectionWithParsedData(c,_,d,s)}catch(e){return void h._reportError(o,e,s.error,t)}}else r||(o.IsVirtual()?(n(o,s,r,p),-1===e&&(d=!0,_=o._getOffset()),f=o._putDataIntoCollection(c,_,d)):s.useset?o._setInternal(c,!1,s,!1):o.reset(c,{silent:!0}));o.IsVirtual()&&f&&(o.lastFetchCount=f.length);var g=!!s.silent;o.TriggerInternal(g,i.EventType.SYNC,o,u,s),a&&a.call(l.GetContext(t,o),o,u,s)},this._fetchCall(s)},h.prototype._putDataIntoCollection=function(t,e,r){var n;if(t){n=t instanceof Array?t:[t];var o={};r&&this._manageLRU(n.length);for(var i=e,s=this.IsVirtual(),a=null,l=0;l<n.length;l+=1)s&&(o={at:i},a=this._atInternal(i,null,!0,!1)),o.silent=!0,this._addInternal(n[l],o,!0,!1),this._atInternal(i,null,!0,!1)!==a&&(i+=1)}return n},h.prototype._fillInCollectionWithParsedData=function(t,e,r,n){var o=n||{},i=o.parse,s=h._createModel(this),a=null;if(t){a=t instanceof Array?t:[t];var l,u={};r&&this._manageLRU(a.length);var c,p=this.IsVirtual();if(o.useset&&!p){for(c=0;c<a.length;c+=1)l=s&&i?s.parse(a[c]):a[c],a[c]=l;this._setInternal(a,!1,o,!1)}else{var f=null,d=e;for(c=0;c<a.length;c+=1)l=s&&i?s.parse(a[c]):a[c],p&&(u={at:d},f=this._atInternal(d,u,!0,!1)),u.silent=!0,this._addInternal(l,u,!0,!1),this._atInternal(d,null,!0,!1)!==f&&(d+=1)}}return a},h._reportError=function(t,e,n,o){r.error(e.toString()),n&&n.call(l.GetContext(o,t),t,e,o)},h.prototype._fetchOnly=function(t){var e,r,n=t||{},o=n.success;return void 0===n.parse&&(n.parse=!0),r=this,n.success=function(s){var a,u,c,p=null,f=[];try{c=r.parse(s,t)}catch(e){return void h._reportError(r,e,n.error,t)}if(n.add||r.model){if(u=h._createModel(r),c)for(p=c instanceof Array?c:[c],a=0;a<p.length;a+=1){if(u&&n.parse)try{e=u.parse(p[a])}catch(e){return void h._reportError(r,e,n.error,t)}else e=p[a];f.push(r._newModel(e))}}else p=c instanceof Array?c:[c];r.TriggerInternal(!1,i.EventType.SYNC,r,s,n),o&&o.call(l.GetContext(t,r),r,f,n)},this._fetchCall(n)},h.prototype._fetchCall=function(t){try{return l._internalSync("read",this,t)}catch(e){throw l._triggerError(this,!1,t,null,e,null),e}},h.prototype._resetModelsToFullLength=function(t){return void 0!==t&&this._getModelsLength()!==t&&(this._setModels(new Array(t),!0),this._resetLRU(),this._setLength(),!0)},h.prototype._getFetchSize=function(t){return(t||{})[h._FETCH_SIZE_PROP]||this[h._FETCH_SIZE_PROP]},h.prototype.IsVirtual=function(){return this._getFetchSize(null)>-1},h.prototype._getReturnProperty=function(t,e,r,n,o){var i=parseInt(h._getProp(t,e,r),10);return null==i||isNaN(i)?n||o:i},h.prototype._cleanTotalResults=function(t){if(-1!==t)return t},h.prototype._setPagingReturnValues=function(t,e,r,n){var o={};this.customPagingOptions&&((o=this.customPagingOptions.call(this,t))||(o={}));var i=e||{};this.lastFetchSize=this._getReturnProperty(o,t,"limit",i.fetchSize,this.fetchSize),this.offset=this._getReturnProperty(o,t,"offset",i.startIndex,0),this.lastFetchCount=this._getReturnProperty(o,t,"count",this.lastFetchCount,this.lastFetchCount),this.totalResults=this._cleanTotalResults(this._getReturnProperty(o,t,"totalResults",this.totalResults,this.totalResults)),this.hasMore=this._getHasMore(h._getProp(o,t,"hasMore"),this.offset,this.lastFetchSize,this.totalResults);var s=!1;if(!n){var a=this._cleanTotalResults(parseInt(h._getProp(o,t,"totalResults"),10)),l=parseInt(h._getProp(o,t,"count"),10);this.totalResults=this._adjustTotalResults(a,this.hasMore,this.offset,l,r&&Array.isArray(r)?r.length:0),s=void 0===a||isNaN(a)||null===a}return!this.IsVirtual()&&this.totalResults&&this.totalResults!==this.lastFetchCount&&this.lastFetchSize&&this.setFetchSize(this.lastFetchSize),s},h.prototype._adjustTotalResults=function(t,e,r,n,o){if(!e&&isNaN(t))return(isNaN(n)?o:n)+r;return this.totalResults},h.prototype._getHasMore=function(t,e,r,n){return h._defined(t)?t:null==n||!(e+r>n)},h._getProp=function(t,e,r){return Object.prototype.hasOwnProperty.call(t,r)?t[r]:e?e[r]:void 0},h.prototype._getOffset=function(){return h._defined(this.offset)?this.offset:0},h.prototype.create=function(t,e){var r=this,n=e||{},o=this._getDeferred(n);function i(e,r,n,o){return r.save(t instanceof l?null:t,o),r}function s(t,e){return n.wait?r.IsVirtual()||o?r._addPromise(function(){return Promise.resolve(void 0)}):null:r.add(t,e)}var a=this._newModel(t,!0,n,!1),u=n.success,c=n.context;n.validate;if(n.context=this,n.success=function(t,e,o){o.xhr&&(n.xhr=o.xhr),n.wait&&r.add(a,n),u&&u.call(null!=c?c:r,t,e,n)},null==a)return!1;n.forceNew=null!=a.GetId();var h=l._copyOptions(n);return a.SetCollection(this),o||this.IsVirtual()?new Promise(function(t){h.merge=!0,h.deferred=!0,s(a,h).then(function(){n.success=function(e,o,i){i.xhr&&(n.xhr=i.xhr),n.wait?(r.IsVirtual()&&(h.force=!0),r.add(a,h).then(function(){u&&u.call(null!=c?c:r,e,o,n),t(e)})):(u&&u.call(null!=c?c:r,e,o,n),t(e))};var e=i(0,a,0,n);e||t(e)})}):(h.merge=!0,s(a,h),i(0,a,0,n))},h.prototype.pluck=function(t){var e,r=[];for(this._throwErrIfVirtual("pluck"),e=0;e<this._getLength();e+=1)r.push(this.at(e).get(t));return r},h.prototype.where=function(t,e){return this._handlePromise(this._whereInternal(t,e))},h.prototype._whereInternal=function(t,e){var r=e||{},n=this._getDeferred(r),o=this;if(this.IsVirtual())return new Promise(function(e,n){var i={query:t,all:!0,success:function(t,r){e(r)},error:function(t,e,i){n(h._createRejectionError(t,e,i,o,r,!0))}};o._fetchOnly(i)});var i,s,a=[];for(i=0;i<this._getLength();i+=1)(s=this.at(i)).Contains(t)&&a.push(s);return n?new Promise(function(t){t(a)}):a},h.prototype.whereToCollection=function(t,e){var r=e||{},n=this._getDeferred(r),o=this;if(this.IsVirtual()||n)return o._addPromise(function(){return new Promise(function(e,n){return o._whereInternal(t,r).then(function(t){var r=o._makeNewCollection(t);e(r)},function(t){n(t)})})});var i=this._whereInternal(t,r),s=this._makeNewCollection(i);return s[h._FETCH_SIZE_PROP]=-1,s._setLength(),s},h.prototype._makeNewCollection=function(t){var e=this._cloneInternal(!1);return e._setModels(t,!1),e._resetLRU(),e._setLength(),e},h.prototype._throwErrIfVirtual=function(t){if(this.IsVirtual())throw new Error(t+" not valid on a virtual Collection")},h.prototype.map=function(t,e){var r,n=[];return this._throwErrIfVirtual("map"),this._getModels().forEach(function(o){r=t.call(e||this,o),n.push(r)}),n},h.prototype.each=function(t,e){this._throwErrIfVirtual("each"),this._getModels().forEach(t,e)},h.prototype.size=function(){return this._getLength()},h.prototype.sortBy=function(t,e){var r,o=[];return this._throwErrIfVirtual("sortBy"),this._getModels().forEach(function(t){o.push(t)}),r=this,o.sort(function(o,i){var s,a;return n.isFunction(t)?(s=t.call(e||r,o),a=t.call(e||r,i),h._compareKeys(s,a,r.sortDirection)):(s=o.get(t),a=i.get(t),h._compareKeys(s,a,r.sortDirection))}),o},h.prototype.groupBy=function(t,e){var r,o={};return this._throwErrIfVirtual("groupBy"),this._getModels().forEach(function(i){r=n.isFunction(t)?t.call(e||this,i):i.get(t),void 0===o[r]&&(o[r]=[]),o[r].push(i)},this),o},h.prototype.indexBy=function(t,e){var r,o={};return this._throwErrIfVirtual("indexBy"),this._getModels().forEach(function(i){r=n.isFunction(t)?t.call(e||this,i):i.get(t),o[r]=i},this),o},h.prototype.min=function(t,e){var r,n,o={};return this._throwErrIfVirtual("min"),0===this._getModelsLength()?null:(o=this._getModel(0),r=t.call(e||this,this._getModel(0)),this._getModels().forEach(function(i,s){s>=1&&(n=t.call(e||this,i))<r&&(o=i,r=n)},this),o)},h.prototype.max=function(t,e){var r,n,o={};return this._throwErrIfVirtual("max"),0===this._getModelsLength()?null:(o=this._getModel(0),r=t.call(e,this._getModel(0)),this._getModels().forEach(function(i,s){s>=1&&(n=t.call(e||this,i))>r&&(o=i,r=n)},this),o)},h.prototype.filter=function(t,e){var r=[];return this._throwErrIfVirtual("filter"),this._getModels().forEach(function(n){t.call(e||this,n)&&r.push(n)}),r},h.prototype.without=function(t){var e,r,n,o,i,s=[];this._throwErrIfVirtual("without");for(var a=0;a<this._getModels().length;a++){for(o=!0,i=this._getModel(a),e=0;e<arguments.length;e+=1)if(n=arguments[e].GetCid(),r=arguments[e].GetId(),i.Match(r,n)){o=!1;break}o&&s.push(i)}return s},h.prototype.difference=function(t){var e,r,n,o,i,s,a=[];this._throwErrIfVirtual("difference");for(var l=0;l<this._getModels().length;l++){for(i=!0,s=this._getModel(l),e=0;e<arguments.length;e+=1){for(r=0;r<arguments[e].length;r++)if(o=arguments[e][r].GetCid(),n=arguments[e][r].GetId(),s.Match(n,o)){i=!1;break}if(!i)break}i&&a.push(s)}return a},h.prototype.isEmpty=function(){return 0===this._getLength()},h.prototype.any=function(t,e){var r;this._throwErrIfVirtual("any");for(var n=0;n<this._getModelsLength();n+=1)if(r=this._getModel(n),t.call(e||this,r))return!0;return!1},h.prototype.findWhere=function(t,e){var r=this._getDeferred(e),n=this;if(this.IsVirtual()||r)return this._addPromise(function(){return new Promise(function(r){n._whereInternal(t,e).then(function(t){t&&t.length>0&&r(t[0]),r(null)})})});var o=this._whereInternal(t,e);return o.length>0?o[0]:null},h.prototype.slice=function(t,e,r){var n,o=this._getDeferred(r),i=[],s=e;if(void 0===s){if(this.IsVirtual()&&!this._hasTotalResults())throw new Error("End must be set for virtual collections with no totalResults");s=this._getModelsLength()}if(o||this.IsVirtual()){var a=this;return this._addPromise(function(){return a.IterativeAt(t,s)})}for(n=t;n<s;n+=1)i.push(this._getModel(n));return i},h.prototype.set=function(t,e){var r=this._getDeferred(e);return this._setInternal(t,!0,e,r||this.IsVirtual())},h._removeAfterSet=function(t,e,r,n,o){if(r)for(var i=e.length-1;i>=0;i-=1)-1===n.indexOf(i)&&t._removeInternal(e[i],i,o)},h.prototype._swapModels=function(t,e,r,n){if(this._hasComparator()||!r||!n)return{index:t,swapped:!1};var o=this._getModelsLength();if(t>=o||e>=o)return{index:t,swapped:!1};var i=this._getModel(t),s=this._getModel(e);return this._setModel(t,s),s.SetIndex(t),this._setModel(e,i),i.SetIndex(e),{index:e,swapped:e!==t}},h.prototype._setInternal=function(t,e,r,n){var o,s,a=r||{},l=void 0===a.add||a.add,u=void 0===a.remove||a.remove,c=void 0===a.merge||a.merge,p=[],f=null,d=e?this.parse(t):t;if(s=Array.isArray(d)?d:[d],n){var _=this;return this._addPromise(function(){return _._deferredSet(s,_._getModels(),a,u,l,c,e)})}var g=!1;for(o=0;o<s.length;o+=1)if(-1!==(f=this._updateModel(this._newModel(s[o],e,a,!0),l,c,n))){var y=this._swapModels(f,o,u,l),v=y.index;y.swapped&&(g=!0),-1===p.indexOf(v)&&p.push(v)}if(g){var m=a.add?{add:!0}:null;this.TriggerInternal(a.silent,i.EventType.SORT,this,m,null)}return h._removeAfterSet(this,this._getModels(),u,p,a),null},h.prototype._deferredSet=function(t,e,r,n,o,i,s){var a,l=[],u=this;return new Promise(function(c,p){var f=function(e){return new Promise(function(n,a){u._updateModel(u._newModel(t[e],s,r,!0),o,i,!0).then(function(t){-1!==t&&l.push(t),n(e+1)},a)})},d=Promise.resolve(0);for(a=0;a<t.length;a+=1)d=d.then(f);d.then(function(){h._removeAfterSet(u,e,n,l,r),c(void 0)},p)})},h.prototype._updateModel=function(t,e,r,n){function o(n,o,i){var s=o?o.index:-1,a=o?o.m:null,l={};if(a){if(r){if(l={merge:r},i)return new Promise(function(e){n._addInternal(t,l,!1,!0).then(function(){e(s)})});n.add(t,l)}}else if(e){if(i)return new Promise(function(e){n._addInternal(t,l,!1,!0).then(function(){e(n._getLength()-1)})});n.add(t),s=n._getLength()-1}return s}if(n||this.IsVirtual()){var i=this;return new Promise(function(e){i._getInternal(t,{silent:!0},n).then(function(t){o(i,t,!0).then(function(t){e(t)})})})}return o(this,this._getInternal(t),!1)},h.prototype.toJSON=function(){var t=[];return this._throwErrIfVirtual("toJSON"),this._getModels().forEach(function(e){t.push(e.toJSON())}),t},h.prototype.first=function(t,e){var r,n=this._getDeferred(e),o=this._getLength(),i=[],s=this,a=t;a?o=a:a=1;var l=this.IsVirtual()||n;if(1===a)return l?this._addPromise(function(){return s._deferredAt(0,null)}):this._getModelsLength()>0?this._getModel(0):null;if(o>this._getModelsLength()&&(this.IsVirtual()&&!this._hasTotalResults()||(o=this._getModelsLength())),l)return this._addPromise(function(){return s.IterativeAt(0,o)});for(r=0;r<o;r+=1)i.push(this._getModel(r));return i},h.prototype.indexOf=function(t,e){var r=this._getDeferred(e);if(this.IsVirtual()||r){var n=this;return this._addPromise(function(){return n._getInternal(t,null,!0).then(function(t){return t.index})})}return this._getInternal(t).index},h.prototype.contains=function(t,e){var r=this._getDeferred(e);if(this.IsVirtual()||r){var n=this;return this._addPromise(function(){return n._getInternal(t,null,!0).then(function(t){return t.index>-1})})}return this._getInternal(t).index>-1},h.prototype.include=h.prototype.contains,h.prototype._localIndexOf=function(t){var e=this._getLocalInternal(t);return void 0!==e?e.index:-1},h.prototype.pop=function(t){var e=this._getDeferred(t);if(this.IsVirtual()||e){var r=this;return this._atInternal(this._getLength()-1,t,!1,!0).then(function(e){return r.remove(e,t),e})}var n=this.at(this._getLength()-1);return this.remove(n,t),n},h.prototype.push=function(t,e){var r=this._getDeferred(e);return this._manageLRU(1),this._handlePromise(this._addInternal(t,e,!1,r))},h.prototype.lastIndexOf=function(t,r){var n,o=r;for(this._throwErrIfVirtual("lastIndexOf"),void 0===o&&(o=0),n=this._getLength()-1;n>=o;n-=1)if(e.Object.__innerEquals(t,this.at(n)))return n;return-1},h.prototype._getSortAttrs=function(t){return void 0===t?[]:t.split(",")},h._getQueryString=function(t){function e(t,e,r){return t+r+e}function r(t,r){var o,i=r;return Object.keys(t||{}).forEach(function(r){if(Object.prototype.hasOwnProperty.call(t,r))for(var s=Array.isArray(t[r])?t[r]:[t[r]],a=0;a<s.length;a++){if(l.IsComplexValue(s[a])){var u=s[a].value,c=null,h=s[a].comparator;c=n.isFunction(h)?h(null,r,u):h,o=e(r,u,c)}else o=e(r,t[r],"=");i+=o+"+"}}),i=i.substring(0,i.length-1)+","}var o,i=Array.isArray(t)?t:[t],s="";for(o=0;o<i.length;o++)s=r(i[o],s);return","===s.substring(s.length-1)?s.substring(0,s.length-1):s},h.prototype.ModifyOptionsForCustomURL=function(t){var r={};Object.keys(t||{}).forEach(function(e){Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=t[e])});var n=this.comparator;if(n&&e.StringUtils.isString(n)){for(var o=this._getSortAttrs(n),i=0;i<o.length;i++)0===i?r.sort=o[i]:r.sort+=","+o[i];r.sortDir=this._getSortDirStr()}return this.IsVirtual()&&(r[h._FETCH_SIZE_PROP]=this._getFetchSize(r)),r},h.prototype.IsUrlBased=function(t){var e=this.customURL;if(n.isFunction(e))return!0;var r=this.GetCollectionFetchUrl(t);return h._defined(r)},h.prototype.GetCollectionFetchUrl=function(t){var r=a.GetPropValue(this,"url");if(this.IsVirtual()){var n=t||{},o=n.all,i=null;if(o)i=this.totalResults||this._getFetchSize(n);else i=this._getFetchSize(n);if(r&&r.indexOf("?")>-1?r+="&":r+="?",r+="limit="+i,o||(h._defined(n.startIndex)&&(r+="&offset="+n.startIndex),n.startID&&(r+="&fromID="+n.startID),n.since&&(r+="&since="+n.since),n.until&&(r+="&until="+n.until)),n.query){var s=h._getQueryString(n.query);s&&s.length>0&&(r+="&q="+s)}var l=this.comparator;if(l&&e.StringUtils.isString(l)){var u,c=this._getSortAttrs(l),p=this._getSortDirStr();for(u=0;u<c.length;u++)r+=0===u?"&orderBy="+c[u]+":"+p:","+c[u]+":"+p}r+="&totalResults=true"}return r},h.prototype._getSortDirStr=function(){return-1===this.sortDirection?"desc":"asc"},h.prototype.sync=function(t,r,n){return e.sync(t,r,n)},h._FETCH_SIZE_PROP="fetchSize";const p=function(t,e){p._init(this,e||{},t||"Authorization")};e._registerLegacyNamespaceProp("OAuth",p),e.Object.createSubclass(p,e.Object,"oj.OAuth"),p.prototype.Init=function(){p.superclass.Init.call(this)},p.prototype.getHeader=function(){var t={};return this.accessTokenResponse.access_token||this.clientCredentialGrant(),t[this.accessTokenRequest.auth_header]="Bearer "+this.accessTokenResponse.access_token,t},p.prototype.isInitialized=function(){return!(!this.accessTokenResponse||!this.accessTokenResponse.access_token)},p.prototype.clientCredentialGrant=function(){var t={},e=this;t[e.accessTokenRequest.auth_header]="Basic "+p._base64_encode(e.accessTokenRequest.client_id+":"+e.accessTokenRequest.client_secret),n.ajax({type:"POST",async:!1,url:this.accessTokenRequest.bearer_url,data:"grant_type=client_credentials",headers:t,success:function(t){e.accessTokenResponse=p._initAccessToken(e.accessTokenResponse,t)},error:function(t){throw new Error(t.responseText)}})},p.prototype.setAccessTokenResponse=function(t){this.accessTokenResponse=p._initAccessToken(this.accessTokenResponse,t)},p.prototype.getAccessTokenResponse=function(){return this.accessTokenResponse},p.prototype.cleanAccessTokenResponse=function(){p._cleanAccessToken(this.accessTokenResponse)},p.prototype.setAccessTokenRequest=function(t){this.accessTokenRequest=p._initAccessToken(this.accessTokenRequest,t)},p.prototype.getAccessTokenRequest=function(){return this.accessTokenRequest},p.prototype.cleanAccessTokenRequest=function(){p._cleanAccessToken(this.accessTokenRequest)},p._init=function(t,e,r){var n=t;n.Init(),n.accessTokenRequest={},n.accessTokenResponse={},e.access_token?n.accessTokenResponse=p._initAccessToken(n.accessTokenResponse,e):e.client_id&&e.client_secret&&e.bearer_url&&(n.accessTokenResponse=p._initAccessToken(n.accessTokenRequest,e)),n.accessTokenRequest.auth_header=r},p._initAccessToken=function(t,e){var r=e||{},n=t||{};return Object.keys(r).forEach(function(t){Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}),n},p._cleanAccessToken=function(t){var e=t||{};Object.keys(e).forEach(function(t){Object.prototype.hasOwnProperty.call(e,t)&&"auth_header"!==t&&(e[t]=null,delete e[t])})},p._base64_encode=function(t){var e,r,n,o,i=0,s=0,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l=[];do{e=t.charCodeAt(i),i+=1,r=t.charCodeAt(i),i+=1,n=t.charCodeAt(i),i+=1,e=(o=e<<16|r<<8|n)>>18&63,r=o>>12&63,n=o>>6&63,o&=63,l[s]=a.charAt(e)+a.charAt(r)+a.charAt(n)+a.charAt(o),s+=1}while(i<t.length);return l=l.join(""),((e=t.length%3)?l.slice(0,e-3):l)+"===".slice(e||3)},t.Collection=h,t.Events=i,t.Model=l,t.OAuth=p,t.URLError=s,t.ajax=c,t.sync=u,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ojmodel.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojdataprovideradapter-base',["ojs/ojcore-base","ojs/ojeventtarget"],function(t,s){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;class e{constructor(t){var s;this.dataSource=t,this.AsyncIterable=(s=class{constructor(t){this._asyncIterator=t,this[Symbol.asyncIterator]=function(){return this._asyncIterator}}},Symbol.asyncIterator,s),this.AsyncIterator=class{constructor(t,s){this._nextFunc=t,this._params=s,this._fetchFirst=!0}next(){const t=this._fetchFirst;return this._fetchFirst=!1,this._nextFunc(this._params,t)}},this.AsyncIteratorYieldResult=class{constructor(t,s){this._parent=t,this.value=s,this[e._VALUE]=s,this[e._DONE]=!1}},this.AsyncIteratorReturnResult=class{constructor(t,s){this._parent=t,this.value=s,this[e._VALUE]=s,this[e._DONE]=!0}},this.FetchListResult=class{constructor(t,s,i,a){this._parent=t,this.fetchParameters=s,this.data=i,this.metadata=a,this[e._FETCHPARAMETERS]=s,this[e._DATA]=i,this[e._METADATA]=a}},this.ItemMetadata=class{constructor(t,s){this._parent=t,this.key=s,this[e._KEY]=s}},this.SortCriterion=class{constructor(t,s,i){this._parent=t,this.attribute=s,this.direction=i,this[e._ATTRIBUTE]=s,this[e._DIRECTION]=i}},this.DataProviderMutationEventDetail=class{constructor(t,s,i,a){this._parent=t,this.add=s,this.remove=i,this.update=a,this[e._ADD]=s,this[e._REMOVE]=i,this[e._UPDATE]=a}},this.DataProviderOperationEventDetail=class{constructor(t,s,i,a,r){this._parent=t,this.keys=s,this.metadata=i,this.data=a,this.indexes=r,this[e._KEYS]=s,this[e._METADATA]=i,this[e._DATA]=a,this[e._INDEXES]=r}},this.DataProviderAddOperationEventDetail=class{constructor(t,s,i,a,r,h,n,c){this._parent=t,this.keys=s,this.afterKeys=i,this.addBeforeKeys=a,this.parentKeys=r,this.metadata=h,this.data=n,this.indexes=c,this[e._KEYS]=s,this[e._AFTERKEYS]=i,this[e._ADDBEFOREKEYS]=a,this[e._METADATA]=h,this[e._DATA]=n,this[e._INDEXES]=c}}}getCapability(t){return t===e._SORT&&"full"===this.dataSource.getCapability(t)?{attributes:"multiple"}:"fetchByKeys"===t||"fetchByOffset"===t?{implementation:"lookup"}:null}addListener(t,s){this._eventHandlerFuncs[t]=s.bind(this),this.dataSource.on(t,this._eventHandlerFuncs[t])}removeListener(t){this.dataSource.off(t,this._eventHandlerFuncs[t])}removeAllListeners(){this._eventHandlerFuncs={}}}return e._SORT="sort",e._DATA="data",e._KEY="key",e._ATTRIBUTE="attribute",e._DIRECTION="direction",e._VALUE="value",e._DONE="done",e._FETCHPARAMETERS="fetchParameters",e._METADATA="metadata",e._KEYS="keys",e._INDEXES="indexes",e._ADD="add",e._REMOVE="remove",e._UPDATE="update",e._AFTERKEYS="afterKeys",e._ADDBEFOREKEYS="addBeforeKeys",s.EventTargetMixin.applyMixin(e),t._registerLegacyNamespaceProp("DataSourceAdapter",e),e});
//# sourceMappingURL=ojdataprovideradapter-base.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojdataprovideradapter',["ojs/ojcore-base","ojs/ojdataprovider","ojs/ojmodel","ojs/ojdataprovideradapter-base","ojs/ojeventtarget"],function(e,t,a,n,r){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;class s extends n{constructor(e){super(e),this.tableDataSource=e,this.FetchByKeysResults=class{constructor(e,t,a){this._parent=e,this.fetchParameters=t,this.results=a,this[s._FETCHPARAMETERS]=t,this[s._RESULTS]=a}},this.ContainsKeysResults=class{constructor(e,t,a){this._parent=e,this.containsParameters=t,this.results=a,this[s._CONTAINSPARAMETERS]=t,this[s._RESULTS]=a}},this.Item=class{constructor(e,t,a){this._parent=e,this.metadata=t,this.data=a,this[s._METADATA]=t,this[s._DATA]=a}},this.FetchByOffsetResults=class{constructor(e,t,a,n){this._parent=e,this.fetchParameters=t,this.results=a,this.done=n,this[s._FETCHPARAMETERS]=t,this[s._RESULTS]=a,this[s._DONE]=n}},this.FetchListParameters=class{constructor(e,t,a){this._parent=e,this.size=t,this.sortCriteria=a,this[s._SIZE]=t,this[s._SORTCRITERIA]=a}},this._addTableDataSourceEventListeners(),this[s._OFFSET]=0,this._ignoreDataSourceEvents=new Array}destroy(){this._removeTableDataSourceEventListeners()}containsKeys(e){const t=this,a=[];return e[s._KEYS].forEach(function(e){a.push(t.tableDataSource.get(e,{silent:!0}))}),Promise.all(a).then(function(a){const n=new Set;return a.forEach(e=>{null!=e&&n.add(e[s._KEY])}),Promise.resolve(new t.ContainsKeysResults(t,e,n))})}fetchByKeys(e){const t=this,a=[];return e[s._KEYS].forEach(function(e){a.push(t.tableDataSource.get(e))}),Promise.all(a).then(function(a){const n=new Map;for(let e=0;e<a.length;e++){const r=a[e];if(null!=r){const e=r[s._KEY],a=r[s._DATA],i=new t.ItemMetadata(t,e),o=r[s._INDEX];t._extractMetaData(t.dataSource,o,i),n.set(e,new t.Item(t,i,a))}}return Promise.resolve(new t.FetchByKeysResults(t,e,n))})}fetchByOffset(e){const t=this,a=null!=e?e[s._SIZE]:-1,n=null!=e?e[s._SORTCRITERIA]:null,r=null!=e&&e[s._OFFSET]>0?e[s._OFFSET]:0,i=new this.FetchListParameters(this,a,n);return this._startIndex=0,this._getFetchFunc(i,r)(i,!0).then(function(a){const n=a[s._VALUE],i=a[s._DONE],o=n[s._DATA],l=n[s._METADATA].map(function(e){return e[s._KEY]}),c=new Array;o.map(function(e,a){c.push(new t.Item(t,new t.ItemMetadata(t,l[a]),o[a]))});for(let e=0;e<c.length;e++)t._extractMetaData(t.dataSource,e+r,c[e][s._METADATA]);return new t.FetchByOffsetResults(t,e,c,i)})}fetchFirst(e){return this._isPagingModelTableDataSource()||(this._startIndex=0),new this.AsyncIterable(new this.AsyncIterator(this._getFetchFunc(e),e))}getCapability(e){return e==s._SORT&&"full"==this.tableDataSource.getCapability(e)?{attributes:"multiple"}:"fetchByKeys"==e||"fetchByOffset"==e?{implementation:"lookup"}:null}getTotalSize(){return Promise.resolve(this.tableDataSource.totalSize())}isEmpty(){return this.tableDataSource.totalSize()>0?"no":"yes"}getPage(){return this._isPagingModelTableDataSource()?this.tableDataSource.getPage():-1}setPage(e,t){return this._isPagingModelTableDataSource()?this.tableDataSource.setPage(e,t):Promise.reject(null)}getStartItemIndex(){return this._isPagingModelTableDataSource()?this.tableDataSource.getStartItemIndex():-1}getEndItemIndex(){return this._isPagingModelTableDataSource()?this.tableDataSource.getEndItemIndex():-1}getPageCount(){return this._isPagingModelTableDataSource()?this.tableDataSource.getPageCount():-1}totalSize(){return this._isPagingModelTableDataSource()?this.tableDataSource.totalSize():-1}totalSizeConfidence(){return this._isPagingModelTableDataSource()?this.tableDataSource.totalSizeConfidence():null}_getFetchFunc(e,t){const a=this;if(null!=e&&null!=e[s._SORTCRITERIA]){const n=e[s._SORTCRITERIA][0][s._ATTRIBUTE],r=e[s._SORTCRITERIA][0][s._DIRECTION];return this._ignoreSortEvent=!0,this._isPagingModelTableDataSource()||(this._startIndex=0),function(e,n){return function(r,i){if(i){const i={};return i[s._KEY]=e,i[s._DIRECTION]=n,a[s._OFFSET]=0,a.tableDataSource.sort(i).then(function(){return a._ignoreSortEvent=!1,a._getTableDataSourceFetch(r,t)(r)})}return a._getTableDataSourceFetch(r,t)(r)}}(n,r)}return this._getTableDataSourceFetch(e,t)}_extractMetaData(e,t,a){let n=e;if(this._isPagingModelTableDataSource()&&(n=n.getWrappedDataSource()),n._getMetadata){const e=n._getMetadata(t);e&&Object.keys(e).forEach(function(t){a[t]=e[t]})}}_getTableDataSourceFetch(e,t){const a=this;return function(e,n){const r={};if(t=t>0?t:0,null!=a._startIndex&&(r[s._STARTINDEX]=a._startIndex+t),r[s._PAGESIZE]=null!=e&&e[s._SIZE]>0?e[s._SIZE]:null,!a._isPagingModelTableDataSource()&&e?.[s._SILENT]&&(r[s._SILENT]=e[s._SILENT]),null!=a.tableDataSource[s._SORTCRITERIA]&&null==e[s._SORTCRITERIA]){e[s._SORTCRITERIA]=[];const t=new a.SortCriterion(a,a.tableDataSource[s._SORTCRITERIA][s._KEY],a.tableDataSource[s._SORTCRITERIA][s._DIRECTION]);e[s._SORTCRITERIA].push(t)}return r[s._FETCHTYPE]=e[s._FETCHTYPE],a._isFetching=!0,new Promise(function(t,n){a._fetchResolveFunc=t,a._fetchRejectFunc=n,a._fetchParams=e,a._requestEventTriggered||(a._isPagingModelTableDataSource()||r[s._SILENT]||a._ignoreDataSourceEvents.push(!0),a.tableDataSource.fetch(r).then(function(n){if(a._isPagingModelTableDataSource()||r[s._SILENT]||a._ignoreDataSourceEvents.pop(),null!==n){a._isFetching=!1,void 0===n&&((n={})[s._KEYS]=[],n[s._DATA]=[]);let i=[];null!=n[s._KEYS]&&(i=n[s._KEYS].map(function(e){return new a.ItemMetadata(a,e)})),null==a._startIndex&&(a._startIndex=0);for(let e=0;e<i.length;e++)a._extractMetaData(a.dataSource,a._startIndex+e,i[e]);let o=!1;a._startIndex=a._startIndex+n[s._DATA].length,("actual"==a.tableDataSource.totalSizeConfidence()&&a.tableDataSource.totalSize()>0&&n.startIndex+n[s._DATA].length>=a.tableDataSource.totalSize()||r[s._PAGESIZE]>0&&n[s._DATA].length<r[s._PAGESIZE]||0===n[s._DATA].length)&&(o=!0),a._fetchResolveFunc=null,a._fetchParams=null,t(o?new a.AsyncIteratorReturnResult(a,new a.FetchListResult(a,e,n[s._DATA],i)):new a.AsyncIteratorYieldResult(a,new a.FetchListResult(a,e,n[s._DATA],i)))}},function(e){a._isPagingModelTableDataSource()||r[s._SILENT]||a._ignoreDataSourceEvents.pop(),n(e)}))})}}_adjustIteratorOffset(e,t){let a=this._startIndex,n=0;e&&e.forEach(function(e){e<a&&++n}),a-=n,t&&t.forEach(function(e){e<a&&++a}),this._startIndex=a}_handleSync(e){const a=this;if(!(a._ignoreDataSourceEvents.length>0)){if(a._startIndex=null,e[s._STARTINDEX]>0&&(a._startIndex=e[s._STARTINDEX],a[s._OFFSET]=a._startIndex),a._fetchResolveFunc&&null!=e[s._KEYS]){a._isFetching=!1;const t=e[s._KEYS].map(function(e){return new a.ItemMetadata(a,e)});for(let e=0;e<t.length;e++){let n=null!=a._startIndex?a._startIndex+e:e;a._extractMetaData(a.dataSource,n,t[e])}let n=!1;"actual"==a.tableDataSource.totalSizeConfidence()&&a.tableDataSource.totalSize()>0&&a._startIndex+e[s._DATA].length>=a.tableDataSource.totalSize()&&(n=!0),n?a._fetchResolveFunc(new a.AsyncIteratorReturnResult(a,new a.FetchListResult(a,a._fetchParams,e[s._DATA],t))):a._fetchResolveFunc(new a.AsyncIteratorYieldResult(a,new a.FetchListResult(a,a._fetchParams,e[s._DATA],t))),a._fetchResolveFunc=null,a._fetchParams=null}else a._requestEventTriggered||a.dispatchEvent(new t.DataProviderRefreshEvent);a._requestEventTriggered=!1}}_handleAdd(e){const a=this,n=e[s._KEYS].map(function(e){return new a.ItemMetadata(a,e)}),r=new Set;e[s._KEYS].map(function(e){r.add(e)});const i=new a.DataProviderAddOperationEventDetail(a,r,null,null,null,n,e[s._DATA],e[s._INDEXES]),o=new a.DataProviderMutationEventDetail(a,i,null,null);a.dispatchEvent(new t.DataProviderMutationEvent(o)),this._adjustIteratorOffset(null,o.add?.indexes)}_handleRemove(e){const a=this,n=e[s._KEYS].map(function(e){return new a.ItemMetadata(a,e)}),r=new Set;e[s._KEYS].map(function(e){r.add(e)});const i=new a.DataProviderOperationEventDetail(a,r,n,e[s._DATA],e[s._INDEXES]),o=new a.DataProviderMutationEventDetail(a,null,i,null);a.dispatchEvent(new t.DataProviderMutationEvent(o)),this._adjustIteratorOffset(o.remove?.indexes,null)}_handleReset(e){const a=this;a._requestEventTriggered||a._isPagingModelTableDataSource()||(a._startIndex=0,a.dispatchEvent(new t.DataProviderRefreshEvent))}_handleSort(e){const a=this;a._ignoreSortEvent||(a._startIndex=null,a.dispatchEvent(new t.DataProviderRefreshEvent))}_handleChange(e){const a=this,n=e[s._KEYS].map(function(e){return new a.ItemMetadata(a,e)}),r=new Set;e[s._KEYS].map(function(e){r.add(e)});const i=new a.DataProviderOperationEventDetail(a,r,n,e[s._DATA],e[s._INDEXES]),o=new a.DataProviderMutationEventDetail(a,null,null,i);a.dispatchEvent(new t.DataProviderMutationEvent(o))}_handleRefresh(e){const a=this;a._isFetching||a._requestEventTriggered||(null!=e[s._OFFSET]?(a._startIndex=e[s._OFFSET],"loadMore"===a.tableDataSource._fetchType&&(a.offset=e[s._OFFSET])):a._startIndex=null,a.dispatchEvent(new t.DataProviderRefreshEvent)),a._requestEventTriggered=!1}_handleRequest(e){const n=this;n._ignoreDataSourceEvents.length>0||void 0!==a.Model&&e instanceof a.Model||n._isFetching||(e[s._STARTINDEX]>0&&0===n.getStartItemIndex()&&(n._startIndex=e[s._STARTINDEX]),n._requestEventTriggered=!0,n.dispatchEvent(new t.DataProviderRefreshEvent))}_handleError(e){const t=this;t._fetchRejectFunc&&t._fetchRejectFunc(e),t._isFetching=!1,t._requestEventTriggered=!1}_handlePage(t){const a=this;a._isFetching=!1,a._requestEventTriggered=!1;const n={};n.detail=t,a.dispatchEvent(new r.GenericEvent(e.PagingModel.EventType.PAGE,n))}_addTableDataSourceEventListeners(){this.removeAllListeners(),this.addListener("sync",this._handleSync),this.addListener("add",this._handleAdd),this.addListener("remove",this._handleRemove),this.addListener("reset",this._handleReset),this.addListener("sort",this._handleSort),this.addListener("change",this._handleChange),this.addListener("refresh",this._handleRefresh),this.addListener("request",this._handleRequest),this.addListener("error",this._handleError),this.addListener("page",this._handlePage)}_removeTableDataSourceEventListeners(){this.removeListener("sync"),this.removeListener("add"),this.removeListener("remove"),this.removeListener("reset"),this.removeListener("sort"),this.removeListener("change"),this.removeListener("refresh"),this.removeListener("request"),this.removeListener("error"),this.removeListener("page")}_isPagingModelTableDataSource(){return null!=this.tableDataSource.getStartItemIndex}}return s._STARTINDEX="startIndex",s._SILENT="silent",s._SORTCRITERIA="sortCriteria",s._PAGESIZE="pageSize",s._OFFSET="offset",s._SIZE="size",s._CONTAINSPARAMETERS="containsParameters",s._RESULTS="results",s._FETCHTYPE="fetchType",s._INDEX="index",r.EventTargetMixin.applyMixin(s),e._registerLegacyNamespaceProp("TableDataSourceAdapter",s),s});
//# sourceMappingURL=ojdataprovideradapter.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojindexer',["exports","ojs/ojcore-base","ojs/ojtranslation","jquery","hammerjs","ojs/ojcontext","ojs/ojjquery-hammer","ojs/ojcomponentcore","ojs/ojdomutils"],function(e,t,n,r,i,s,a,o,l){"use strict";var u;t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r,s=s&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s,(u={properties:{data:{type:"object",extension:{webelement:{exceptionStatus:[{type:"deprecated",since:"14.0.0",description:"Data sets from a DataProvider cannot be sent to WebDriverJS; use ViewModels or page variables instead."}]}}},translations:{type:"object",value:{},properties:{ariaDisabledLabel:{type:"string"},ariaInBetweenText:{type:"string"},ariaKeyboardInstructionText:{type:"string"},ariaOthersLabel:{type:"string"},ariaTouchInstructionText:{type:"string"},indexerCharacters:{type:"string"},indexerOthers:{type:"string"}}}},methods:{getProperty:{},refresh:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},extension:{}}).extension._WIDGET_NAME="ojIndexer",u.extension._INNER_ELEM="ul",u.extension._GLOBAL_TRANSFER_ATTRS=["aria-label","aria-labelledby"],t.CustomElementBridge.register("oj-indexer",{metadata:u});const h=function(){};t._registerLegacyNamespaceProp("IndexerModel",h),h.SECTION_OTHERS={id:"__others__",label:n.getTranslatedString("oj-ojIndexer.indexerOthers")},function(){const e="data-includes",n="data-range";t.__registerWidget("oj.ojIndexer",r.oj.baseComponent,{defaultElement:"<ul>",version:"1.2",widgetEventPrefix:"oj",options:{data:null},_ComponentCreate:function(){this._super(),this._setup()},_AfterCreate:function(){this._super(),this._createIndexerContent(),this._setAriaProperties(),this._createInstructionText()},_destroy:function(){this._super();var e=this._getIndexerContainer();this._unregisterResizeListener(e),this._unregisterTouchHandler(e),this._unsetAriaProperties(),this.element.removeClass("oj-component-initnode"),l.unwrap(this.element,e)},_setOption:function(e,t){this._superApply(arguments),"data"===e&&this.refresh()},_SetupResources:function(){this._super();var e=this._getIndexerContainer()[0];this._registerResizeListener(e),this._registerTouchHandler(e)},_ReleaseResources:function(){this._super();var e=this._getIndexerContainer()[0];this._unregisterResizeListener(e),this._unregisterTouchHandler(e),this._resolveBusyState()},_resolveBusyState:function(){this.busyStateResolve&&(this.busyStateResolve(null),this.busyStateResolve=null)},widget:function(){return this._getIndexerContainer()},refresh:function(){this._super(),this.element.empty(),this._createIndexerContent(),this._setAriaProperties(),this.m_current=null},getNodeBySubId:function(t){if(null==t)return this.element?this.element[0]:null;if("oj-indexer-section"===t.subId)for(var i=t.section,s=this.element.children("li"),a=0;a<s.length;a++){var o=s.get(a);if(r(o).data(n)===i)return o;var l=r(o).data(e);if(null!=l)for(var u=0;u<l.length;u++)if(l[u]===i)return o}return null},getSubIdByNode:function(e){if(null!=e){var t=r(e).data(n);if(null!=t)return{subId:"oj-indexer-section",section:t}}return null},_setAriaProperties:function(){this.element.attr("role","slider").attr("aria-orientation","vertical").attr("aria-describedby",this.element.prop("id")+":desc").attr("aria-valuemin",0).attr("aria-valuemax",Math.max(0,this.element.children().length-1))},_unsetAriaProperties:function(){this.element.removeAttr("role").removeAttr("aria-orientation").removeAttr("aria-describedby").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuetext")},_createInstructionText:function(){var e;e=l.isTouchSupported()?"ariaTouchInstructionText":"ariaKeyboardInstructionText";var t=r(document.createElement("div"));t.prop("id",this.element.prop("id")+":desc"),t.addClass("oj-helper-hidden-accessible").text(this.getTranslatedString(e)),this._getIndexerContainer().append(t)},_getIndexerContainer:function(){return null==this.m_container&&(this.m_container=this._createIndexerContainer()),this.m_container},_createIndexerContainer:function(){var e;return this.OuterWrapper?e=r(this.OuterWrapper):(e=r(document.createElement("div")),this.element.parent()[0].replaceChild(e[0],this.element[0])),e.addClass("oj-indexer oj-component"),e.prepend(this.element),e},_createIndexerContent:function(){var e=this._getIndexerModel();if(null!=e){var t,n=this.element,r=e.getIndexableSections();e.getMissingSections&&(t=e.getMissingSections());var i=this.getTranslatedString("indexerOthers"),s=this.widget().outerHeight(),a=this._createItem(r[0],t);n.append(a),this._getIndexerContainer().removeClass("oj-indexer-abbr"),null==this.m_itemHeight&&(this.m_itemHeight=a.outerHeight());var o=Math.max(1,this.m_itemHeight),l=Math.floor(s/o),u=Math.floor((r.length+1)/l)+1;u>1&&this._getIndexerContainer().addClass("oj-indexer-abbr");for(var h=1+u;h<r.length;h=h+u+1){if(u>1){var d=this._createSeparator(r,h-u,h-1);n.append(d)}else h-=1;var c=r[h],_=this._createItem(c,t);n.append(_)}var p=this._createItem(r[r.length-1],t);n.append(p);var f=this._createItem(i);f.attr("data-others","true"),n.append(f),null==this.m_height&&(this.m_height=s)}},_createItem:function(e,t){var i=e.label?e.label:e,s=r(document.createElement("li"));return s.data(n,e).text(i),null!=t&&t.indexOf(e)>-1&&s.addClass("oj-disabled"),s},_createSeparator:function(t,i,s){var a=[],o=r(document.createElement("li"));o.addClass("oj-indexer-ellipsis").data(n,t[i+Math.round((s-i)/2)]);for(var l=i;l<=s;l++)a.push(t[l]);return o.data(e,a),o},_setup:function(){var e=this;this.element.uniqueId().addClass("oj-component-initnode").attr("tabIndex",0),this._on(this.element,{click:function(t){e._handleClick(t)},keydown:function(t){e._handleKeyDown(t)},focus:function(t){e._handleFocus(t)},blur:function(t){e._handleBlur(t)}}),this._focusable({applyHighlight:!0,setupHandlers:function(t,n){e._focusInHandler=t,e._focusOutHandler=n}})},_handleClick:function(e){var t;0===e.button&&(t=r(e.target),this._setCurrent(t))},_handleFocus:function(e){this._getIndexerContainer().addClass("oj-focus-ancestor"),null==this.m_current?this._setFocus(this.element.children("li").first()):this._setFocus(this.m_current)},_handleBlur:function(e){this._getIndexerContainer().removeClass("oj-focus-ancestor")},_handleKeyDown:function(e){var t,n=!1;switch(e.keyCode){case 38:t=this.m_current.prev();break;case 40:t=this.m_current.next();break;case 13:this._setCurrent(this.m_current),n=!0}null!=t&&t.length>0&&(n=!0,this._setFocus(t)),n&&e.preventDefault()},_setFocus:function(e){null!=this.m_current&&this._focusOutHandler(this.m_current),this._focusInHandler(e),this._updateAriaProperties(e),this.m_current=e},_getIndexerModel:function(){var e=this.option("data");if(null!=e&&(void 0===e.setSection||void 0===e.getIndexableSections))throw new Error("Invalid IndexerModel");return e},_setCurrent:function(e){var t=e.data(n);e.attr("data-others")&&(t=h.SECTION_OTHERS),this._setCurrentSection(t)},_setCurrentSection:function(e){var t=this,n=s.getContext(this.element[0]).getBusyContext();this.busyStateResolve=n.addBusyState({description:"setCurrentSection"}),this._getIndexerModel().setSection(e).then(function(e){if(null!=e){var n=t._findItem(e);null!=n&&t._setFocus(n)}t._resolveBusyState()},function(){t._resolveBusyState()})},_updateAriaProperties:function(t){var r=t.data(e),i="";if(null!=r){if(r.length>0){var s=r[0].label?r[0].label:r[0],a=r[r.length-1].label?r[r.length-1].label:r[r.length-1];i=this.getTranslatedString("ariaInBetweenText",{first:s,second:a})}}else{var o=t.data(n);i=o===h.SECTION_OTHERS?this.getTranslatedString("ariaOthersLabel"):o}t.hasClass("oj-disabled")&&(i=i+". "+this.getTranslatedString("ariaDisabledLabel")),this.element.attr("aria-valuetext",i),this.element.attr("aria-valuenow",t.index())},_findItem:function(t){for(var i=this.element.children(),s=0;s<i.length;s++){var a=i.get(s),o=r(a).data(n),l=r(a).data(e);if(null!=o&&o===t||null!=l&&l.indexOf(t)>-1)return r(a)}return null},_unregisterResizeListener:function(e){e&&this._resizeHandler&&l.removeResizeListener(e,this._resizeHandler)},_registerResizeListener:function(e){e&&(null==this._resizeHandler&&(this._resizeHandler=this._handleResize.bind(this)),l.addResizeListener(e,this._resizeHandler))},_unregisterTouchHandler:function(e){this.hammer&&(this.hammer.off("panstart panmove panend"),r(e).ojHammer("destroy")),this.hammer=null},_registerTouchHandler:function(t){var s,a,o,l,u,h=this,d={recognizers:[[i.Pan,{direction:i.DIRECTION_VERTICAL}]]};this.hammer=r(t).ojHammer(d).on("panstart",function(e){var t=e.gesture.target;s=h.element[0].getBoundingClientRect().left+5,a=t.getBoundingClientRect().top,h._setCurrent(r(t)),o=t,l=r(t).data(n),u=a}).on("panmove",function(t){var i=u;u=a+t.gesture.deltaY;var d=document.elementFromPoint(s,u);if(null!=d){var c,_,p=u-i;if(o===d){if(null!=(c=r(d).data(e))){var f=c.indexOf(l);_=null,p>0&&f<c.length-1?_=c[f+1]:p<0&&f>0&&(_=c[f-1]),null!=_&&(l=_,h._setCurrentSection(_))}}else r(d).data(n)&&(_=null,null!=(c=r(d).data(e))&&(p>0&&d===o.nextElementSibling?_=c[0]:p<0&&d===o.previousElementSibling&&(_=c[c.length-1])),null==_&&(_=r(d).data(n)),o=d,l=_,h._setCurrentSection(l))}}).on("panend",function(){o=null,l=null,u=null})},_handleResize:function(e,t){t>0&&t!==this.m_height&&(this.refresh(),this.m_height=t)}})}();const d=function(e){this.listview=e,this.Init()};t._registerLegacyNamespaceProp("ListViewIndexerModel",d),t.Object.createSubclass(d,t.EventSource,"oj.ListViewIndexerModel"),d.prototype.getIndexableSections=function(){return this.listview.ojContext.getTranslatedString("indexerCharacters").split("|")},d.prototype.getMissingSections=function(){return null==this.missingSections&&(this.missingSections=this._getMissingSections()),this.missingSections},d.prototype._getMissingSections=function(){var e,t=[],n=this.listview._getGroupItemsCache(),i=this.getIndexableSections();for(e=0;e<i.length;e++){var s=i[e],a=!1;n.each(function(){var e=r(this).text();return!(e.length>0&&e.charAt(0)===s)||(a=!0,!1)}),a||t.push(s)}return t},d.prototype.setSection=function(e){return e===h.SECTION_OTHERS?this._setOtherSection():this._setSection(e)},d.prototype._setOtherSection=function(){var e=this.getIndexableSections(),t=this;return new Promise(function(n){var i=null;t.listview._getGroupItemsCache().each(function(){for(var t=r(this).text(),n=0;n<e.length;n++){var s=e[n];if(0===t.indexOf(s))return!0}return i=this,!1}),i?(t.listview._scrollToGroupHeader(i),n(h.SECTION_OTHERS)):n(null)})},d.prototype._setSection=function(e){var t=this.getIndexableSections(),n=t.indexOf(e),r=this;return new Promise(function(e){if(-1===n)e(null);else{for(var i=null;n<t.length;n++){var s=t[n],a=r._findGroupHeader(s);if(null!=a){r.listview._scrollToGroupHeader(a),i=s;break}}e(i)}})},d.prototype._findGroupHeader=function(e){var t;return this.listview._getGroupItemsCache().each(function(){return 0!==r(this).text().indexOf(e)||(t=this,!1)}),t},e.ListViewIndexerModel=d,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojindexer.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojlistview',["require","ojs/ojcore-base","jquery","ojs/ojcustomelement","ojs/ojdataproviderscroller","ojs/ojcontext","ojs/ojconfig","ojs/ojthemeutils","ojs/ojcomponentcore","ojs/ojdatacollection-common","ojs/ojanimation","ojs/ojlogger","ojs/ojkeyset","ojs/ojmap","ojs/ojdomutils","ojs/ojdataprovideradapter","ojs/ojcustomelement-utils","ojs/ojkeyboardfocus-utils","ojs/ojindexer"],function(t,e,i,s,n,l,o,a,r,h,c,u,d,m,p,g,_,f,v){"use strict";var y;e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i,l=l&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l,m=m&&Object.prototype.hasOwnProperty.call(m,"default")?m.default:m,(y={properties:{as:{type:"string",value:""},currentItem:{type:"any",writeback:!0},data:{type:"object",extension:{webelement:{exceptionStatus:[{type:"unsupported",since:"13.0.0",description:"Data sets from a DataProvider cannot be sent to WebDriverJS; use ViewModels or page variables instead."}]}}},display:{type:"string",enumValues:["card","list"],value:"list"},dnd:{type:"object",properties:{drag:{type:"object",properties:{items:{type:"object",properties:{dataTypes:{type:"string|Array<string>"},drag:{type:"function"},dragEnd:{type:"function"},dragStart:{type:"function"}}}}},drop:{type:"object",properties:{items:{type:"object",properties:{dataTypes:{type:"string|Array<string>"},dragEnter:{type:"function"},dragLeave:{type:"function"},dragOver:{type:"function"},drop:{type:"function"}}}}},reorder:{type:"object",properties:{items:{type:"string",enumValues:["disabled","enabled"],value:"disabled"}}}}},drillMode:{type:"string",enumValues:["collapsible","none"],value:"collapsible"},expanded:{type:"KeySet",writeback:!0},firstSelectedItem:{type:"object",writeback:!0,readOnly:!0,value:{key:null,data:null}},gridlines:{type:"object",properties:{item:{type:"string",enumValues:["hidden","visible","visibleExceptLast"],value:"visible"}}},groupHeaderPosition:{type:"string",enumValues:["static","sticky"],value:"sticky"},item:{type:"object",properties:{focusable:{type:"boolean|function",value:!0},renderer:{type:"function"},selectable:{type:"boolean|function",value:!0}}},scrollPolicy:{type:"string",enumValues:["auto","loadAll","loadMoreOnScroll"],value:"auto"},scrollPolicyOptions:{type:"Object<string, number>",properties:{fetchSize:{type:"number",value:25},maxCount:{type:"number",value:500},scroller:{type:"Element|string"}}},scrollPosition:{type:"object",writeback:!0,value:{x:0,y:0},properties:{index:{type:"number"},key:{type:"any"},offsetX:{type:"number"},offsetY:{type:"number"},parent:{type:"any"},x:{type:"number"},y:{type:"number"}}},scrollToKey:{type:"string",enumValues:["always","auto","capability","never"],value:"auto"},selected:{type:"KeySet",writeback:!0},selection:{type:"Array<any>",writeback:!0,value:[]},selectionMode:{type:"string",enumValues:["multiple","none","single"],value:"none"},selectionRequired:{type:"boolean",value:!1},translations:{type:"object",value:{},properties:{accessibleExpandCollapseInstructionText:{type:"string"},accessibleGroupCollapse:{type:"string"},accessibleGroupExpand:{type:"string"},accessibleNavigateSkipItems:{type:"string"},accessibleReorderAfterItem:{type:"string"},accessibleReorderBeforeItem:{type:"string"},accessibleReorderInsideItem:{type:"string"},accessibleReorderTouchInstructionText:{type:"string"},accessibleSuggestion:{type:"string"},indexerCharacters:{type:"string"},labelCopy:{type:"string"},labelCut:{type:"string"},labelPaste:{type:"string"},labelPasteAfter:{type:"string"},labelPasteBefore:{type:"string"},msgFetchCompleted:{type:"string"},msgFetchingData:{type:"string"},msgItemsAppended:{type:"string"},msgNoData:{type:"string"}}}},methods:{getContextByNode:{},getDataForVisibleItem:{},getIndexerModel:{},getProperty:{},refresh:{},scrollToItem:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAnimateEnd:{},ojAnimateStart:{},ojBeforeCollapse:{},ojBeforeCurrentItem:{},ojBeforeExpand:{},ojCollapse:{},ojCopy:{},ojCut:{},ojExpand:{},ojItemAction:{},ojPaste:{},ojReorder:{}},extension:{}}).extension._WIDGET_NAME="ojListView",y.extension._INNER_ELEM="ul",y.extension._GLOBAL_TRANSFER_ATTRS=["aria-label","aria-labelledby"],e.CustomElementBridge.register("oj-list-view",{metadata:y});const S=function(t,e){this.m_widget=t,this.m_root=e};e._registerLegacyNamespaceProp("StaticContentHandler",S),e.Object.createSubclass(S,e.Object,"oj.StaticContentHandler"),S.prototype.Init=function(){S.superclass.Init.call(this)},S.prototype.Destroy=function(){this.m_root.hasAttribute("role")&&(this.restoreContent(this.m_root,0),this.unsetRootAriaProperties())},S.prototype.IsReady=function(){return!0},S.prototype.notifyShown=function(){},S.prototype.notifyAttached=function(){},S.prototype.RenderContent=function(){var t=this.m_root;if(this.shouldUseGridRole()&&this.isCardLayout()&&!this.IsHierarchical()&&i(t).children("li").length>0){i(this.m_root).children().wrapAll("<li role='presentation'><ul role='row' class='"+this.m_widget.getGroupStyleClass()+"'></ul></li>");var e=i(this.m_root).children("li").first().get(0);e.style.width="100%",e.classList.add("oj-listview-group-container"),t=e.firstElementChild}this.modifyContent(t,0),this.setRootAriaProperties(),this.m_widget.renderComplete(!1);var s=this;l.getContext(t).getBusyContext().whenReady().then(function(){if(null!=t)for(var e=i(t).find("li."+s.m_widget.getItemElementStyleClass()),n=0;n<e.length;n++)s.m_widget.disableAllTabbableElements(e[n])})},S.prototype.Expand=function(t,e){var s="."+this.m_widget.getGroupStyleClass(),n=i(t).children(s)[0];i(n).css("display",""),e.call(null,n)},S.prototype.Collapse=function(t){t.get(0).style.display="none"},S.prototype.IsHierarchical=function(){return null==this.m_hier&&(this.m_hier=i(this.m_root).children("li").children("ul").length>0),this.m_hier},S.prototype.restoreContent=function(t,e){var s=this.m_widget.getGroupStyleClass(),n=this.m_widget.getGroupCollapseStyleClass(),l=this.m_widget.getGroupExpandStyleClass(),o=this.m_widget.getGroupItemStyleClass(),a=this.m_widget.getItemStyleClass(),r=this.m_widget.getItemElementStyleClass(),h=null;this.m_widget.getItemLayoutStyleClass&&(h=this.m_widget.getItemLayoutStyleClass());var c=t.firstElementChild;c&&c.classList.contains("oj-listview-group-container")&&i(c).children().unwrap().children().unwrap();for(var u=t.children,d=0;d<u.length;d++){var m=i(u[d]);if(m.hasClass(r)){this.unsetAriaProperties(m.get(0)),m.hasClass("oj-listview-card")&&(m.removeClass("oj-listview-card").removeClass("oj-listview-card-animated"),m[0].style.opacity="unset",m[0].style.transform="unset"),m.removeClass(r).removeClass(a).removeClass(h).removeClass(this.m_widget.getDepthStyleClass(e)).removeClass("gridline-hidden").removeClass("oj-listview-item").removeClass("oj-listview-item-element").removeClass("oj-skipfocus").removeClass("oj-focus").removeClass("oj-hover").removeClass("oj-expanded").removeClass("oj-collapsed").removeClass("oj-selected");var p=m.children("ul");if(p.length>0){m.children("."+o).children().unwrap(),this.shouldUseGridRole()&&this.unsetGroupAriaProperties(m),m.children(".oj-component-icon").remove();var g=i(p[0]);g.removeClass(s).removeClass(l).removeClass(n).removeAttr("role"),this.restoreContent(g[0],e+1)}}}},S.prototype.modifyContent=function(t,e){for(var s=this.m_widget.getItemStyleClass(),n=this.m_widget.getItemElementStyleClass(),l=this.m_widget.getGroupStyleClass(),o=this.m_widget.getGroupItemStyleClass(!0),a=this.m_widget.getGroupCollapseStyleClass(),r=this.m_widget.getCollapseIconStyleClass(),h=this.m_widget.getFocusedElementStyleClass(),c=t.children,u=this.m_widget.isExpandable(),d=0;d<c.length;d++){var m=i(c[d]),p=this.createContext(m);this.setAriaProperties(m,p),m.uniqueId().addClass(n),e>0&&m.addClass(this.m_widget.getDepthStyleClass(e)),this.isFocusable(p)||m.addClass("oj-skipfocus");var g=m.children("ul");if(g.length>0){this.m_hier=!0,m.children(":not(ul)").wrapAll("<div></div>");var _=m.children().first();_.addClass(o);var f=this.getItemsCount(g[0]);if(f>0){if(m.hasClass(h)?(m.removeClass(h),_.addClass(h).attr("aria-expanded","false")):(_.attr("role","presentation"),_.find("."+h).attr("aria-expanded","false")),u){m.addClass("oj-collapsed"),_.uniqueId();var v=document.createElement("a");i(v).attr("role","button").attr("aria-labelledby",_.get(0).id).addClass("oj-component-icon oj-clickable-icon-nocontext").addClass(r),_.prepend(v)}}else _.addClass("oj-empty");this.shouldUseGridRole()&&this.setGroupAriaProperties(_,f);var y,S=i(g[0]);y=this.shouldUseGridRole()?this.isCardLayout()?"row":"presentation":"group",S.addClass(l).addClass(a).attr("role",y).css("display","none"),this.modifyContent(S[0],e+1)}else m.addClass(s);this.m_widget._isSelectionEnabled()&&this.isSelectable(p)&&this.m_widget.getFocusItem(m).attr("aria-selected",!1),this.m_widget.itemRenderComplete(m[0],p)}},S.prototype.setRootAriaProperties=function(){this.shouldUseGridRole()?this.m_root.setAttribute("role","grid"):this.IsHierarchical()?this.m_root.setAttribute("role","tree"):this.m_root.setAttribute("role","listbox")},S.prototype.unsetRootAriaProperties=function(){this.m_root.removeAttribute("role")},S.prototype.getItemsCount=function(t){return i(t).children("li").length},S.prototype.createContext=function(t){var e={};if(e.key=t.attr("id"),e.parentElement=t.children().first()[0],e.index=t.index(),e.data=t[0],e.component=this.m_widget.getWidgetConstructor(),e=this.m_widget._FixRendererContext(e),this.IsHierarchical()){e.leaf=0===t.children("ul").length;var i=t.parents("li."+this.m_widget.getItemElementStyleClass());e.depth=i.length,0===i.length?e.parentKey=null:e.parentKey=i.first().attr("id")}return e},S.prototype.setAriaProperties=function(t,e){var i=this.m_widget.getSingleFocusableElement(t);this.shouldUseGridRole()?null==e.leaf||e.leaf?this.isCardLayout()?i.attr("role","gridcell"):(t.attr("role","row"),i!==t?i.attr("role","gridcell"):i.children().wrapAll("<div role='gridcell' class='oj-listview-cell-element'></div>")):(t.attr("role","presentation"),i!==t&&i.attr("role","gridcell")):(i.attr("role",this.IsHierarchical()?"treeitem":"option"),i!==t&&t.attr("role","presentation")),i.addClass(this.m_widget.getFocusedElementStyleClass())},S.prototype.setGroupAriaProperties=function(t,e){var i=this.m_widget.getFocusedElementStyleClass();t.get(0).removeAttribute("aria-expanded"),t.removeClass(i),t.attr("role","row"),t.children().wrapAll("<div role='gridcell' aria-expanded='false' class='oj-listview-cell-element "+i+"'></div>"),this.isCardLayout()&&e>1&&t.children().first().attr("aria-colspan",e)},S.prototype.unsetGroupAriaProperties=function(t){t.children("div").first().children().unwrap()},S.prototype.unsetAriaProperties=function(t){h.enableAllFocusableElements(t);var e,s=this.m_widget.getGroupItemStyleClass(!0),n=this.m_widget.getFocusedElementStyleClass(),l=t.firstElementChild;if(l&&i(l).hasClass(s)){if(0===(e=i(l).children("."+n).first()).length)return}else e=this.m_widget.getSingleFocusableElement(i(t));e.removeAttr("role"),e.removeAttr("aria-selected"),e.removeAttr("aria-expanded"),e.removeClass(this.m_widget.getFocusedElementStyleClass()),this.shouldUseGridRole()&&!this.isCardLayout()&&(e!==t?(i(t).removeAttr("role"),e.children().first().children().unwrap()):e.children().first().children().unwrap().children().unwrap())},S.prototype.GetKey=function(t){return i(t).attr("id")},S.prototype.FindElementByKey=function(t){return document.getElementById(t)},S.prototype.isFocusable=function(t){return this.m_widget.getItemFocusable(t)},S.prototype.isSelectable=function(t){return this.m_widget.getItemSelectable(t)},S.prototype.isCardLayout=function(){return this.m_widget.isCardLayout()},S.prototype.shouldUseGridRole=function(){return this.m_widget.ShouldUseGridRole()},S.prototype.createKeyMap=function(t){var e=new m;return t?(t.forEach(function(t,i){e.set(i,t)}),e):e},S.prototype.createKeySet=function(t){return new d.KeySet(t)};const C=function(t,e,i){C.superclass.constructor.call(this,t,e,i)};e._registerLegacyNamespaceProp("TreeDataProviderContentHandler",C),e.Object.createSubclass(C,n.DataProviderContentHandler,"oj.TreeDataProviderContentHandler"),C.NUM_CHILD_SKELETONS=3,C.prototype.Init=function(){C.superclass.Init.call(this),this.m_childDataProviders=new m,this.m_fetchCalls=new Set},C.prototype.IsHierarchical=function(){return!0},C.prototype.Destroy=function(t){C.superclass.Destroy.call(this,t),this.m_controller=null},C.prototype._getChildDataProvider=function(t){if(null===t)return this.getDataProvider();var e=this.m_childDataProviders.get(t);return null==e&&(e=this.getDataProvider().getChildDataProvider(t))&&this.m_childDataProviders.set(t,e),e},C.prototype.fetchRows=function(t){this.signalTaskStart("fetching rows"),C.superclass.fetchRows.call(this,t),this.m_fetchCalls.clear(),this._fetchChildren(null,this.m_root,null),this.signalTaskEnd()},C.prototype._fetchChildren=function(t,e,s,n){var l=this;this.signalTaskStart("fetching children from parent: "+t);var o=this.loadTemplateEngine();if(null!=t){var a=e.parentNode.firstElementChild.firstElementChild.firstElementChild;if(a){a=i(a);var r=this.m_widget.getCollapseIconStyleClass();if(a.hasClass(r)){var c=this.isSkeletonSupport()?this.m_widget.getExpandIconStyleClass():this.m_widget.getExpandingIconStyleClass();a.removeClass(r).addClass(c)}}}this.m_fetching=!0,null!=t&&this.m_fetchCalls.add(t),this._clientId=this._clientId||Symbol(),null!=t&&null!=this.m_controller||(this.m_controller=new AbortController);var u={clientId:this._clientId,size:-1,signal:this.m_controller.signal};this.signalTaskStart("first fetch");var d=this._getChildDataProvider(t).fetchFirst(u)[Symbol.asyncIterator](),m=d.next(),p=function(i){return i[0].done?i:d.next().then(function(t){return i[0].done=t.done,i[0].value.data=i[0].value.data.concat(t.value.data),i[0].value.metadata=i[0].value.metadata.concat(t.value.metadata),p(i)},function(i){null!=t&&l.m_fetchCalls.delete(t),n&&n(i),l._handleFetchError(i,e),l.signalTaskEnd()})};Promise.all([m,o]).then(function(t){return p(t)},function(i){null!=t&&l.m_fetchCalls.delete(t),l._handleFetchError(i,e),l.signalTaskEnd()}).then(function(i){if(i){if(null==l.m_widget)return void l.signalTaskEnd();var n=i[0],o=i[1];if(h.isFetchAborted(n))return void l.signalTaskEnd();o&&l.cleanItems(o,e),l._handleFetchSuccess(n,t,e,s,o),l.signalTaskEnd()}}),this.signalTaskEnd()},C.prototype._getAtomicFetchChildPromise=function(){var t=this;return new Promise(function(e,i){t.m_fetchResolve=e})},C.prototype._handleFetchSuccess=function(t,e,s,n,l){var o=this;if(null!=this.m_widget&&null!=t.value){this.signalTaskStart("handling successful fetch"),this.m_fetching=!1,null!=e&&this.m_fetchCalls.delete(e);var a=t.value.data,r=t.value.metadata,h=0;this.isCardLayout()||null!=e||(h=this.handleSuggestions(r));var c=r.map(function(t){return t.key});if(a.length===c.length){for(var u=0,d=document.createDocumentFragment(),m=0;m<a.length;m++){var p=a[m];this.addItem(d,-1,p,this.getMetadata(u,c[m],p,s),l,null,r[m]),u+=1}if(null==this.m_fetchResolve&&this.shouldUseGridRole()?this.m_fetchCalls.size>0?(this.m_widget.signalTaskStart("Animating in content"),this._getAtomicFetchChildPromise().then(function(){this.animateShowContent(s,d,!0).then(function(){this.m_widget&&(this.m_widget.signalTaskEnd(),this.renderSparkles(this.getItems(s,h))),_()}.bind(this))}.bind(this))):(this.m_widget.signalTaskStart("Animating in content"),this.animateShowContent(s,d,!0).then(function(){this.m_widget&&(this.m_widget.signalTaskEnd(),h&&this.renderSparkles(this.getItems(s,h))),_()}.bind(this))):(i(s).empty(),s.appendChild(d),this.shouldUseGridRole()?null!=n&&n.call(null,s):_()),this.shouldUseGridRole()&&this.isCardLayout()&&null!=e&&u>0){var g=s.parentNode.firstElementChild.firstElementChild;i(g).attr("aria-colspan",u+1)}}0===this.m_fetchCalls.size&&null!=this.m_fetchResolve&&(this.m_fetchResolve(),this.m_fetchResolve=null),this.m_initialized=!0,this.signalTaskEnd()}function _(){o.m_widget&&(null!=n&&n.call(null,s),o.m_widget.renderComplete(!1),o._processEventQueue())}},C.prototype.getMetadata=function(t,e,i,s){var n=C.superclass.getMetadata.call(this,t,e,i,s),l=this._getChildDataProvider(e);n.leaf=null===l,n.parentKey=null,s&&s!==this.m_root&&s.parentElement&&(n.parentKey=this.GetKey(s.parentElement));for(var o=0,a=s;a&&a!==this.m_root;)a=a.parentElement.parentElement,o+=1;return n.depth=o,n},C.prototype.GetBindingContext=function(t){var e=C.superclass.GetBindingContext.call(this,t);return e.depth=t.depth,e.leaf=t.leaf,e.parentKey=t.parentKey,e},C.prototype.afterRenderItem=function(t,e,s){this.signalTaskStart("after rendering an item"),C.superclass.afterRenderItem.call(this,t,e,s);var n=this.m_widget.getGroupStyleClass(),l=this.m_widget.getItemStyleClass(),o=this.m_widget.getGroupItemStyleClass(!0),a=this.m_widget.getGroupCollapseStyleClass(),r=this.m_widget.getCollapseIconStyleClass(),h=this.m_widget.getFocusedElementStyleClass();if(t=i(t),!1===e.leaf){null==t.get(0).querySelector("."+o)&&t.children().wrapAll("<div></div>"),t.hasClass(h)?t.removeClass(h).children().first().addClass(h).attr("aria-expanded","false"):t.children().first().attr("role","presentation").find("."+h).attr("aria-expanded","false");var c=t.children().first();if(c.uniqueId().addClass(o),this.m_widget.isExpandable()&&!t.hasClass("oj-expanded")&&!t.hasClass("oj-collapsed")){t.addClass("oj-collapsed");var u=document.createElement("a");i(u).addClass("oj-component-icon oj-clickable-icon-nocontext").addClass(r),c.prepend(u)}if(this.shouldUseGridRole()&&(c.get(0).removeAttribute("aria-expanded"),c.removeClass(h),c.attr("role","row"),c.children().wrapAll("<div role='gridcell' aria-expanded='false' class='oj-listview-cell-element "+h+"'></div>")),null==t.get(0).querySelector("."+n)){var d,m=document.createElement("ul");d=this.shouldUseGridRole()?this.isCardLayout()?"row":"presentation":"group",i(m).addClass(n).addClass(a).attr("role",d),t.append(m)}if(this.m_widget.isExpandable()){this.m_widget.getFocusItem(t).attr("aria-describedby",this.m_widget.m_accExpdescId)}}else!0===e.leaf&&(t.addClass(l),!s&&this.m_widget.getItemLayoutStyleClass&&t.addClass(this.m_widget.getItemLayoutStyleClass()));this.m_widget._isSelectionEnabled()&&this.isSelectable(e)&&this.m_widget.getFocusItem(t).attr("aria-selected",!1),e.depth>0&&t.addClass(this.m_widget.getDepthStyleClass(e.depth)),this.m_widget.itemRenderComplete(t[0],e),this.signalTaskEnd()},C.prototype._handleFetchError=function(t,e){if(null!=this.m_widget){u.error(t),this.m_fetching=!1,e&&this._destroySkeletons(e);var i=this.m_root.querySelector(".oj-listview-initial-skeletons");null!=i&&i.parentNode.removeChild(i),0===this.m_fetchCalls.size&&null!=this.m_fetchResolve&&(this.m_fetchResolve(),this.m_fetchResolve=null),this.m_widget.renderComplete(!0)}else u.info("handleFetchError: widget has already been destroyed")},C.prototype.Expand=function(t,e){this.signalTaskStart("expanding an item");var i,s=this.GetKey(t[0]),n=t.children("ul")[0];this.isSkeletonSupport()&&(i=setTimeout(function(){this._renderExpandSkeletons(n)}.bind(this),this.m_widget._getShowStatusDelay())),this._fetchChildren(s,n,function(t){i&&clearTimeout(i),e(t),n.classList.remove("oj-listview-skeleton-container")},function(){this._handleFetchError()}.bind(this)),this.m_widget.updateStatusGroupExpandCollapse(!0),this.signalTaskEnd()},C.prototype.Collapse=function(t){var e=this.getTemplateEngine();e&&e.clean(t.get(0),this.m_widget.GetRootElement().get(0)),t.empty(),this.m_widget.updateStatusGroupExpandCollapse(!1)},C.prototype.addItemsForModelInsert=function(t,e,i,s,n,l,o){for(var a=this.getTemplateEngine(),r=0;r<t.length;r++){this.signalTaskStart("handling model add event for item: "+i[r]);var h,c=this.m_root;void 0!==s&&(c=null==s[r]?this.m_root:this.FindElementByKey(s[r]))&&c!==this.m_root&&(c=c.lastElementChild),null!=e?h=e[r]:(h=this.getIndex(l,r))>-1&&(h=n?h:h+1),this.addItem(c,h,t[r],this.getMetadata(h,i[r],t[r],c),a,this.afterRenderItemForInsertEvent.bind(this),null!=o?o[r]:null),this.signalTaskEnd()}this.m_widget.renderComplete(!0)},C.prototype.afterRenderItemForInsertEvent=function(t,e,i){!1===e.leaf?this.afterRenderItem(t,e,i):C.superclass.afterRenderItemForInsertEvent.call(this,t,e,i)},C.prototype.removeItem=function(t,e){var i=t.key;i&&this.m_childDataProviders.delete(i),C.superclass.removeItem.call(this,t,e)},C.prototype._isExpandedGroupItem=function(t){return"none"===this.m_widget.GetOption("drillMode")||t.classList.contains("oj-expanded")},C.prototype._replaceGroupItemCallback=function(t,e,i,s){this.shouldUseGridRole()?this.m_widget.itemRenderComplete(t,e):this.afterRenderItem(t,e,i,s)},C.prototype._replaceGroupItem=function(t,e,s,n,l,o){var a=this.m_widget.getGroupItemStyleClass(!1),r=t.querySelector("."+a),h=this.shouldUseGridRole();if(r){var c=h?r.firstElementChild:r,u=c.lastElementChild;if(u){l&&l.clean(r,this.m_widget.GetRootElement().get(0)),c.removeChild(u);var d=t.parentNode,m=i(d).children().index(t),p=this.GetChildElementTagName();this._addOrReplaceItem(t,m,d,e,s,n,l,this._replaceGroupItemCallback.bind(this),o,null,function(t){for(var e=0;e<t.length;e++){if(t[e].tagName===p&&!h)return r.innerHTML=t[e].innerHTML,!0;c.appendChild(t[e])}return!1})}}},C.prototype.replaceItem=function(t,e,i,s,n,l,o){var a=t.key;a&&this.m_childDataProviders.delete(a),!s.leaf&&this._isExpandedGroupItem(t)?this._replaceGroupItem(t,e,i,s,n,o):C.superclass.replaceItem.call(this,t,e,i,s,n,l,o)},C.prototype._handleChildRefresh=function(t){var e=this.getTemplateEngine(),i=this.m_widget.getGroupStyleClass(),s=this.m_widget.getGroupItemStyleClass();t.forEach(function(t){var n=this.FindElementByKey(t);if(null!=n&&this._isExpandedGroupItem(n)){var l=n.querySelector("."+i),o=n.querySelector("."+s);if(null!=l&&null!=o){null!=e&&e.clean(l,this.m_widget.GetRootElement().get(0)),l.innerHTML="",this.m_childDataProviders.delete(t);var a=o.querySelector("[aria-expanded]");a&&a.setAttribute("aria-expanded","false"),this.m_widget.itemRenderComplete(n,{key:t,data:null})}}}.bind(this))},C.prototype.handleModelRefreshEvent=function(t){null!=this.m_root&&(this.IsReady()&&t.detail&&t.detail.keys?this._handleChildRefresh(t.detail.keys):(!this.IsReady()&&this.m_controller&&(this.m_controller.abort(),this.m_fetching=!1),this.signalTaskStart("handling model refresh event"),this._clearEventQueue(),this.m_widget.ClearCache(!0),this.m_childDataProviders.clear(),this.m_widget.resetFocusBeforeRefresh(),this.fetchRows(!0),this.signalTaskEnd()))},C.prototype.renderInitialSkeletons=function(){this.m_superRoot&&(this.m_root=this.m_superRoot,this.m_superRoot=null),i(this.m_root).empty();var t=this.getRootElementHeight(),e=this.getDefaultSkeletonDimension(),s=0;if(e.width>0&&e.height>0){var n=e.height*(1+C.NUM_CHILD_SKELETONS);s=Math.ceil(t/n)}var l=document.createElement("li");l.setAttribute("role","presentation"),l.classList.add("oj-listview-initial-skeletons");var o=document.createElement("ul");o.setAttribute("role","presentation"),o.classList.add(this.m_widget.getGroupStyleClass()),o.classList.add("oj-listview-skeleton-container");for(var a=0;a<s;a++){o.appendChild(this.createSkeletonItem());var r=document.createElement("li");r.setAttribute("role","presentation");var h=document.createElement("ul");h.setAttribute("role","presentation"),h.classList.add("oj-listview-child-skeleton"),r.appendChild(h),h.appendChild(this.createSkeletonItem()),h.appendChild(this.createSkeletonItem()),h.appendChild(this.createSkeletonItem()),o.appendChild(r)}l.appendChild(o),this.m_root.appendChild(l)},C.prototype._renderExpandSkeletons=function(t){t.style.maxHeight="none";for(var e=0;e<C.NUM_CHILD_SKELETONS;e++)t.appendChild(this.createSkeletonItem());t.classList.add("oj-listview-skeleton-container"),t.setAttribute("data-oj-initial-height",this._getExpandSkeletonHeight(t))},C.prototype._destroySkeletons=function(t){i(t).empty(),t.classList.remove("oj-listview-skeleton-container")},C.prototype._getExpandSkeletonHeight=function(t){return null!=this.m_expandSkeletonHeight&&0!==this.m_expandSkeletonHeight||(this.m_expandSkeletonHeight=t.offsetHeight),this.m_expandSkeletonHeight};var E=function(){this.createKeyMap=function(t){var e=new m;return t?(t.forEach(function(t,i){e.set(i,t)}),e):e},this.createKeySet=function(t){return new d.KeySet(t)}};E.call(S.prototype),E.call(C.prototype),E.call(n.IteratingDataProviderContentHandler.prototype);const I=function(){I.superclass.constructor.call(this)};e._registerLegacyNamespaceProp("_ojListViewExpandedKeySet",I),e.Object.createSubclass(I,e.ExpandedKeySet,"ListViewExpandedKeySet");const b=function(t,s){var n=function(){};return e.Object.createSubclass(n,t,""),n.prototype=i.extend(n.prototype,s),n}(Object,{LEFT_KEY:37,RIGHT_KEY:39,DOWN_KEY:40,UP_KEY:38,TAB_KEY:9,ENTER_KEY:13,ESC_KEY:27,F2_KEY:113,SPACE_KEY:32,STATE_EXPANDED:0,STATE_COLLAPSED:1,STATE_NONE:2,MINIMUM_ITEM_HEIGHT:20,init:function(t){var e=this;this.readinessStack=[],this.element=t.element,this.ojContext=t.ojContext,this.OuterWrapper=t.OuterWrapper,this.options=t,this.element.uniqueId().addClass(this.GetStyleClass()+" oj-component-initnode"),this.OuterWrapper&&this.element[0].setAttribute("data-oj-context",""),this.signalTaskStart("Initializing"),this._rootTabIndexSet=!1,this.SetRootElementTabIndex();var s=this.GetDnDContext();s&&(this.m_dndContext=s,this.ojContext._on(this.element,{dragstart:function(t){return s._handleDragStart(t)},dragenter:function(t){return s._handleDragEnter(t)},dragover:function(t){return s._handleDragOver(t)},dragleave:function(t){return s._handleDragLeave(t)},dragend:function(t){return e.m_preActive=!1,s._handleDragEnd(t)},drag:function(t){return s._handleDrag(t)},drop:function(t){return e.m_preActive=!1,s._handleDrop(t)}})),this._touchStartListener=function(t){t.originalEvent||(t=i.Event(t)),e.touchStartEvent=t,e.HandleMouseDownOrTouchStart(t)},this.ojContext._IsCustomElement()?this.element[0].addEventListener("touchstart",this._touchStartListener,{passive:!0}):this.ojContext._on(this.element,{touchstart:this._touchStartListener}),this.ojContext._on(this.element[0].parentElement,{mousedown:function(t){t.target===t.currentTarget&&(e.isPaddingClicked=!0,setTimeout(()=>{e.isPaddingClicked=!1},100))}}),this.ojContext._on(this.element,{click:function(t){e.HandleMouseClick(t),e.touchStartEvent=null},touchend:function(t){e.touchStartEvent&&t.changedTouches.length&&(document.elementFromPoint(t.changedTouches[0].clientX,t.changedTouches[0].clientY)!==e.touchStartEvent.target&&(e.touchStartEvent=null));e.HandleTouchEndOrCancel(t)},touchcancel:function(t){e.touchStartEvent=null,e.HandleTouchEndOrCancel(t)},mousedown:function(t){0===t.button?e._recentTouch()||e.HandleMouseDownOrTouchStart(t):e.m_preActive=!0},mouseup:function(t){e._handleMouseUpOrPanMove(t),e.m_preActive=!1},mouseout:function(t){e._handleMouseOut(t)},mouseover:function(t){e._handleMouseOver(t)},keydown:function(t){e.HandleKeyDown(t)},keyup:function(t){e.HandleKeyUp(t)},ojpanmove:function(t){e._handleMouseUpOrPanMove(t)}}),this.ojContext._on(this.ojContext.element,{focus:function(t){e.HandleFocus(t)},blur:function(t){e.HandleBlur(t)}}),h.isFirefox()&&this._isComponentFocusable()&&(this._rootTabIndexSet=!0,this.getListContainer().attr("tabIndex",-1)),this.ojContext._on(this.ojContext.element,{focusin:function(t){e.HandleFocus(t)},focusout:function(t){e.HandleFocusOut(t)}}),this.ojContext._focusable({applyHighlight:e.ShouldApplyHighlight(),recentPointer:e.RecentPointerCallback(),setupHandlers:function(t,i){e._focusInHandler=t,e._focusOutHandler=i}})},isAvailable:function(){return null!=this.m_contentHandler},_initContentHandler:function(){this.signalTaskStart("Initialize ContentHandler");var t=this,e=function(e){t.m_contentHandler=e,e.RenderContent(),t.signalTaskEnd(),t._registerResizeListener(t.getListContainer()[0]),t._registerScrollHandler()},i=this.GetOption("data");null!=i?this.CreateDataContentHandler(i).then(e,function(){t.signalTaskEnd()}):(this._removeNoData(),e(new S(this,this.element[0])))},setupResources:function(){this.ojContext.document.bind("touchend.ojlistview touchcancel.ojlistview",this.HandleTouchEndOrCancel.bind(this)),this._syncSelectionWithKeySet(),this._initContentHandler(),this._updateGridlines()},releaseResources:function(){this.ojContext.document.off(".ojlistview"),this.DestroyContentHandler(!0),this._unregisterResizeListener(this.getListContainer()),this._unregisterScrollHandler(),this.SetRootElementTabIndex(),this._resetState()},_isSelectedOptionExposed:function(){return this.ShouldUseGridRole()},_syncSelectionWithKeySet:function(){var t=this.GetOption("selection"),e=this.GetOption("selected");if(this._isSelectedOptionExposed()&&e&&(e.isAddAll()||e.values&&e.values().size>0))return t=[],e.isAddAll()?(t.inverted=!0,e.deletedValues().forEach(function(e){t.push(e)})):e.values().forEach(function(e){t.push(e)}),void this.SetOption("selection",t,{_context:{internalSet:!0},changed:!0});var i=!1;null==e&&(e=new d.KeySetImpl,i=!0),t.length>0&&e.values&&0===e.values().size&&(e=e.add(t),i=!0),i&&this.SetOption("selected",e,{_context:{internalSet:!0},changed:!0})},afterCreate:function(){this._buildList(),this.signalTaskEnd()},_isAnimateCards:function(){return this.isCardDisplayMode()&&this.m_contentHandler&&!this.m_contentHandler.IsHierarchical()},refresh:function(){var t=this.element[0].querySelectorAll(".oj-listview-card");if(t.length>0){var e=this;this.signalTaskStart("Exit animation"),this._applyExitAnimation(t).then(function(){e._refresh(),e.signalTaskEnd()})}else this._refresh()},_applyExitAnimation(t){var e,i=this;return t.forEach(function(t){e=i.StartAnimation(t,"cardExit")}),e},_refresh:function(){this._resetInternal(),this.signalTaskStart("Refresh"),this.SetAriaProperties(),this._initContentHandler(),this._updateGridlines(),this.resetFocusBeforeRefresh(),this.signalTaskEnd()},resetFocusBeforeRefresh:function(){this.m_active=null,this.SetRootElementTabIndex(),this.element[0].contains(document.activeElement)&&this.element[0].focus()},whenReady:function(){return this.readyPromise},destroy:function(){this.element.removeClass(this.GetStyleClass()+" oj-component-initnode"),this._unregisterResizeListener(this.getListContainer()),this._resetInternal(),p.unwrap(this.element,this.getListContainer())},_isScrollToKey:function(){var t=this.GetOption("scrollToKey");if("never"===t)return!1;if("always"===t)return!0;var i=this.GetOption("data");if(null==i||!e.DataProviderFeatureChecker.isDataProvider(i))return!0;if(i.getCapability){var s=i.getCapability("fetchFirst");if(s&&"immediate"===s.iterationSpeed)return!0}return!1},adjustScrollPositionValueOnFetch:function(){var t=null==this.GetOption("scrollPosition")?{}:this.GetOption("scrollPosition"),e=this.GetOption("selection");this._isSelectionEnabled()&&e.length>0&&this._isScrollToKey()?null!=this.m_selectionFrontier&&this.m_selectionFrontier.length>0?t.key=this.GetKey(this.m_selectionFrontier[0]):t.key=e[0]:(t.y=0,t.key=null,t.index=0),t.x=0,t.offsetX=0,t.offsetY=0,this.SetOption("scrollPosition",t,{_context:{internalSet:!0},changed:!1})},_clearBusyState:function(){if(this.readinessStack&&this.readinessStack.length>0)for(u.warn("ListView did not end with a clean state, this could happen if ListView is detached before fetch is complete.  State: "+this.readinessStack);this.readinessStack.length>0;)this.signalTaskEnd()},_resetInternal:function(){this.UnsetAriaProperties(),this._cleanupTabbableElementProperties(this.element),this.DestroyContentHandler(),this._resetState()},_resetState:function(){this.m_active=null,this.m_isExpandAll=null,this.m_disclosing=null,this.m_itemHeight=null,this.m_keyElemMap=null,this.m_clientHeight=null,this.m_scrollHeight=null,this.m_clientWidth=null,this.m_scrollWidth=null,this.m_closestParent=null,this.m_gridlinesVisible=null,this.m_gridlinePlaceholder=null,this.m_scroller=null,this.m_initialSelectionStateValidated=null,this.m_validatedSelectedKeyData=null,this.m_selectionFrontier=null,this.m_initialCardAnimationPromise=null,this.ClearCache(),this._clearFocusoutTimeout(),this._clearFocusoutBusyState(),this._clearScrollPosBusyState(),null!=this.m_dndContext&&this.m_dndContext.reset()},notifyAttached:function(){null!=this.m_contentHandler&&this.m_contentHandler.IsReady()&&(this.syncScrollPosition(),this.m_contentHandler.notifyAttached())},notifyDetached:function(){this.getListContainer().removeClass("oj-focus-ancestor"),null!=this.m_active&&i(this.m_active.elem).removeClass("oj-focus oj-focus-highlight"),null!=this.m_hoverItem&&this._unhighlightElem(this.m_hoverItem,"oj-hover")},notifyShown:function(){null!=this.m_contentHandler&&this.m_contentHandler.IsReady()&&(this.syncScrollPosition(),this._clearAccInfoText(),this.m_contentHandler.notifyShown())},getNodeBySubId:function(t){var e;if(null==t)return this.element[0];var s=t.subId;if("oj-listview-disclosure"===s||"oj-listview-icon"===s){if(null!=(e=t.key)){var n=this.FindElementByKey(e);if(null!=n){var l=i(n).find(".oj-clickable-icon-nocontext").first();if(this._isExpandCollapseIcon(l))return l.get(0)}}}else if("oj-listview-item"===s&&null!=(e=t.key))return this.FindElementByKey(e);return null},getSubIdByNode:function(t){if(null!=t&&this._isExpandCollapseIcon(t)){var e=this.FindItem(t);if(null!=e&&e.length>0){var i=this.GetKey(e[0]);if(null!=i)return{subId:"oj-listview-disclosure",key:i}}}return null},getContextByNode:function(t){var e=this.FindItem(t);if(null!=e&&e.length>0){var i=this.GetKey(e[0]);if(null!=i){var s=e.parent(),n={subId:"oj-listview-item",key:i,index:s.children("."+this.getItemElementStyleClass()).index(e)};return s.get(0)!==this.element.get(0)&&(n.parent=s.parent().get(0)),e.children().first().hasClass(this.getGroupItemStyleClass())?n.group=!0:n.group=!1,n}}return null},getDataForVisibleItem:function(t){var e,s=t.key;if(null!=s&&(e=this.FindElementByKey(s)),null==e){var n=t.index,l=t.parent;null==l?(l=this.element.get(0),this.isCardDisplayMode()&&(l=l.querySelector("."+this.getGroupStyleClass()))):l=i(l).children("ul."+this.getGroupStyleClass()).first(),e=i(l).children("li").get(n)}return null!=e&&i(e).hasClass(this.getItemStyleClass())?this._getDataForItem(e):null},_getDataForItem:function(t){return null==this.GetOption("data")?t:i.data(t,"data")},_getMetadataForItem:function(t){return i.data(t,"metadata")},ShouldRegisterResizeListener:function(t){return t&&this.m_contentHandler&&this.m_contentHandler.HandleResize&&this.m_contentHandler.shouldHandleResize&&this.m_contentHandler.shouldHandleResize()},_unregisterResizeListener:function(t){t&&this._resizeHandler&&p.removeResizeListener(t,this._resizeHandler)},_registerResizeListener:function(t){this._unregisterResizeListener(t),this.ShouldRegisterResizeListener(t)&&(null==this._resizeHandler&&(this._resizeHandler=this.HandleResize.bind(this)),p.addResizeListener(t,this._resizeHandler))},disableResizeListener:function(){var t=this.getListContainer()[0];this._unregisterResizeListener(t)},enableResizeListener:function(){var t=this.getListContainer()[0];this._registerResizeListener(t)},GetDnDContext:function(){var t=this.GetOption("dnd");if(!(null===t||null===t.drag&&null===t.drop&&t.reorder&&"disabled"===t.reorder.items))return void 0!==e.ListViewDndContext?new e.ListViewDndContext(this):void 0},HandleResize:function(t,e){t>0&&e>0&&null!=this.m_contentHandler&&this.m_contentHandler.HandleResize&&this.m_contentHandler.HandleResize(t,e),this.m_clientHeight=null,this.m_scrollHeight=null,this.m_clientWidth=null,this.m_scrollWidth=null},ShouldApplyHighlight:function(){return!0},RecentPointerCallback:function(){return function(){return!1}},ShouldRefresh:function(t){return null!=t.data||null!=t.drillMode||null!=t.groupHeaderPosition||null!=t.item||null!=t.scrollPolicy||null!=t.scrollPolicyOptions||null!=t.gridlines||null!=t.display},_isKeySet:function(t){return void 0!==t.isAddAll&&(void 0!==t.values||void 0!==t.deletedValues)},_shouldExpand:function(t,e){return this._isKeySet(e)?e.has(t):!this.ojContext._IsCustomElement()&&"all"===e||!!Array.isArray(e)&&e.indexOf(t)>-1},setOptions:function(t,e){if(this.ShouldRefresh(t))return!0;if(null!=t.expanded&&this.m_contentHandler.IsHierarchical()){this._collapsedKeys=void 0;var s=t.expanded;this.signalTaskStart("Set expanded option"),this._ignoreExpanded=!0;try{for(var n="."+this.getGroupItemStyleClass(),l=this.element.find(n),o=0;o<l.length;o++){var a=l[o],r=this.GetKey(a.parentNode);this._shouldExpand(r,s)?this.expandKey(r,!0,!0,!0,!1):this.collapseKey(r,!0,!0,!1)}}finally{this._ignoreExpanded=void 0,this.signalTaskEnd()}}if(null!=t.currentItem){var h=this.FindElementByKey(t.currentItem);if(null!=h&&(h=i(h),!this.SkipFocus(h))){var c=document.activeElement;c&&this.element.get(0).contains(c)?this.ActiveAndFocus(h,null):this._setActive(h,null,!0)}}else null===t.currentItem&&(this.UnhighlightActive(),this.m_active&&this.m_active.elem&&this.m_active.elem.get(0).classList.remove("oj-listview-current-item"),this.m_active=null,this.SetRootElementTabIndex());if(this.HandleSelectionOption(t),null!=t.selectionMode&&(this.SetAriaProperties(),this.UpdateItemAriaProperties(t.selectionMode)),null!=t.scrollTop){var u=this._getScroller(),d=t.scrollTop;null==d||isNaN(d)||(u.scrollTop=d)}return null!=t.scrollPosition&&(this.syncScrollPosition(t.scrollPosition),delete t.scrollPosition),this._shouldDragSelectedItems()&&null!=this.m_active&&null!=t.dnd&&null!=t.dnd.reorder&&("enabled"===t.dnd.reorder.items?this.m_dndContext._setItemDraggable(this.m_active.elem):"disabled"===t.dnd.reorder.items&&this.m_dndContext._unsetItemDraggable(this.m_active.elem)),!1},_isFirstSelectedItem:function(t){var i=this.GetOption("firstSelectedItem");return i&&e.KeyUtils.equals(i.key,t)},_setFirstSelectedItem:function(t,e){var i={key:t,data:e};this.SetOption("firstSelectedItem",i,{_context:{originalEvent:null,internalSet:!0},changed:!0})},_updateFirstSelectedItem:function(t){var e;if(t.isAddAll())for(var i=this._getItemsCache(),s=0;s<i.length;s++){var n=this.m_contentHandler.GetKey(i[s]);if(t.has(n)){e=n;break}}else e=t.values().values().next().value;if(null!=e){var l=this._getLocalData(e);this._setFirstSelectedItem(e,l)}},updateSelectedKeyData:function(t,e){this._isFirstSelectedItem(t)&&this._setFirstSelectedItem(t,e),this.m_validatedSelectedKeyData&&this.m_validatedSelectedKeyData.has(t)&&this.m_validatedSelectedKeyData.set(t,e)},HandleSelectionOption:function(t){if(null!=t.selection||null!=t.selected){var e=t.selected;if(null!=e&&e.isAddAll()){for(var i=this._getItemsCache(),s=0;s<i.length;s++){var n=this.m_contentHandler.GetKey(i[s]);e.has(n)?this._applySelection(i[s],n):this._unhighlightElem(i[s],"oj-selected")}t.selection=d.KeySetUtils.toArray(e)}else{var l,o=null!=e?e.values():t.selection,a=this._cloneSelection(o);if(this._validateAndUpdateSelection(a),t.selection=a,e=(e=(e=this.GetOption("selected")).clear()).add(a),t.selected=e,this.m_selectionFrontier){var r=this.GetKey(this.m_selectionFrontier.get(0));l=e.has(r)?this.m_selectionFrontier:void 0}this._clearSelection(!1,l);for(var h=0;h<a.length;h++){var c=this.FindElementByKey(a[h]);null!=c&&("LI"!==c.tagName&&c.parentElement&&c.parentElement.classList.contains("oj-listview-temp-item")&&(c=c.parentElement),this._applySelection(c,a[h]))}}null!=e&&this._updateFirstSelectedItem(e)}},Trigger:function(t,e,i){return this.ojContext._trigger(t,e,i)},SetOption:function(t,e,i){this.ojContext.option(t,e,i)},GetOption:function(t){return this.ojContext.option(t)},_getBusyDescription:function(t){return"The component identified by '"+(this.ojContext._IsCustomElement()?this.GetRootElement().attr("id"):this.element.attr("id"))+"', "+t},signalTaskStart:function(t){var e=this;if(this.readinessStack){if(0===this.readinessStack.length){this.readyPromise=new Promise(function(t){e.readyResolve=t});var i=l.getContext(this.element[0]).getBusyContext(),s=null!=t?{description:this._getBusyDescription(t)}:{};e.busyStateResolve=i.addBusyState(s)}this.readinessStack.push(null!=t?t:"unknown task")}},signalTaskEnd:function(){this.readinessStack&&this.readinessStack.length>0&&(this.readinessStack.pop(),0===this.readinessStack.length&&(this.readyResolve(null),this.busyStateResolve(null),this.busyStateResolve=null))},isReady:function(){return null==this.busyStateResolve},throwError:function(t){if(this.readinessStack)for(;this.readinessStack.length>0;)this.signalTaskEnd();throw t},getItems:function(t){var e=this,s=[];return i.each(t,function(t,i){var n=e.FindElementByKey(i);null!=n&&s.push(n)}),s},isCardDisplayMode:function(){return"card"===this.GetOption("display")},isCardLayout:function(){return!!(this.ojContext._IsCustomElement()?this.GetRootElement():this.element).hasClass("oj-listview-card-layout")||this.isCardDisplayMode()},ShouldUseGridRole:function(){return!0},ShouldUpdateScrollPosition:function(){return this.ShouldUseGridRole()&&this.ojContext._IsCustomElement()},DestroyContentHandler:function(t){null!=this.m_contentHandler&&(this.m_contentHandler.Destroy(t),delete this.m_contentHandler,this.m_contentHandler=null),this._clearBusyState()},CreateDataContentHandler:function(i){var s;if(this.showStatusText(),void 0!==e.TableDataSource&&i instanceof e.TableDataSource)s=new n.IteratingDataProviderContentHandler(this,this.element[0],new e.TableDataSourceAdapter(i));else{if(void 0!==e.TreeDataSource&&i instanceof e.TreeDataSource){var l=new Promise(function(e,i){t(["ojs/ojtreedataprovideradapter"],function(t){e(function(t){if(t&&t.__esModule)return t;var e={};return t&&Object.keys(t).forEach(function(i){var s=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:function(){return t[i]}})}),e.default=t,e}(t))},i)});if(!l)throw new Error("Error adapting a TreeDataSource");return l.then(t=>new C(this,this.element[0],new t.default(i)))}e.DataProviderFeatureChecker.isTreeDataProvider(i)?s=new C(this,this.element[0],i):e.DataProviderFeatureChecker.isDataProvider(i)?s=new n.IteratingDataProviderContentHandler(this,this.element[0],i):this.throwError("Invalid data or missing module")}return Promise.resolve(s)},UpdateActiveDescendant:function(t){this.element.attr("aria-activedescendant",t.attr("id"))},SetAriaProperties:function(){this._isMultipleSelection()?this.element.attr("aria-multiselectable",!0):this._isSelectionEnabled()&&this.element.attr("aria-multiselectable",!1)},UnsetAriaProperties:function(){this.element.removeAttr("aria-activedescendant").removeAttr("aria-multiselectable")},UpdateItemAriaProperties:function(t){var e,s=this;"none"===t?(this.element.removeAttr("aria-multiselectable"),e=function(t){s.getFocusItem(t).removeAttr("aria-selected")}):("single"===t?this.element.attr("aria-multiselectable",!1):this.element.attr("aria-multiselectable",!0),e=function(t){var e=s.getFocusItem(t),i=e.parent();e.attr("aria-selected",i.hasClass("oj-selected"))});for(var n=this._getItemsCache(),l=0;l<n.length;l++)e(i(n[l]))},_buildList:function(t){var e=this.getListContainer();this.SetAriaProperties(),this.m_elementOffset=this.element.get(0).offsetTop;var i=this._buildStatus();e.append(i),this.m_status=i;var s=this._buildAccInfo();if(e.append(s),this.m_accInfo=s,this.isExpandable()){const t=this._buildAccExpdesc();e.append(t)}this._buildFocusCaptureDiv(e[0])},_buildStatus:function(){var t=i(document.createElement("div"));t.addClass("oj-icon").addClass(this.getLoadingStatusIconStyleClass());var e=i(document.createElement("div"));return e.addClass(this.getStatusMessageStyleClass()).addClass(this.getStatusStyleClass()).attr({id:this._createSubId("status"),role:"status"}),e.append(t),e},_buildAccInfo:function(){var t=i(document.createElement("div"));return t.addClass("oj-helper-hidden-accessible").attr({id:this._createSubId("info"),role:"status"}),t.attr({tabIndex:-1}),t},_buildAccExpdesc:function(){const t=i(document.createElement("div")),e=this.ojContext.getTranslatedString("accessibleExpandCollapseInstructionText");return this.m_accExpdescId=this._createSubId("expdesc"),t.addClass("oj-helper-hidden-accessible").attr({id:this.m_accExpdescId}).html(e),t},_buildFocusCaptureDiv:function(t){if(!h.isMobileTouchDevice()){var e=document.createElement("div");e.setAttribute("tabindex","-1"),e.classList.add("oj-helper-hidden-accessible"),e.innerHTML="&nbsp",t.insertBefore(e,this.element[0]),e.addEventListener("focus",()=>{this.element[0].focus()})}},_setAccInfoText:function(t){this.m_clearAccInfoTimeout&&clearTimeout(this.m_clearAccInfoTimeout),""!==t&&this.m_accInfo.text()!==t&&(this.m_accInfo.text(t),this.m_clearAccInfoTimeout=setTimeout(()=>{this._clearAccInfoText(),this.m_clearAccInfoTimeout=null},1e3))},_clearAccInfoText:function(){this.m_accInfo.text("")},updateStatusFetchStart:function(){var t=this.ojContext.getTranslatedString("msgFetchingData");this._setAccInfoText(t)},updateStatusFetchEnd:function(t){var e;e=0===t?this.ojContext.getTranslatedString("msgFetchCompleted"):this.ojContext.getTranslatedString("msgItemsAppended",{count:t}),this._setAccInfoText(e)},updateStatusGroupExpandCollapse:function(t){let e;e=t?this.ojContext.getTranslatedString("accessibleGroupExpand"):this.ojContext.getTranslatedString("accessibleGroupCollapse"),this._setAccInfoText(e)},isSkeletonSupport:function(){return!(!this.ShouldUseGridRole()||!this.m_contentHandler.renderInitialSkeletons)&&"skeleton"===this._getOptionDefaults().loadIndicator},_showLoadingIcon:function(){var t=this.ojContext.getTranslatedString("msgFetchingData"),e=this.getListContainer();this.m_status.attr("aria-label",t).css("left",Math.max(0,e.outerWidth()/2-this.m_status.outerWidth()/2)).css("top",Math.max(0,e.outerHeight()/2-this.m_status.outerHeight()/2)).show();var i=this.m_status.get(0).offsetHeight,s=e.get(0).offsetHeight,n=e.get(0).style.minHeight,l=parseInt(n,10);isNaN(l)&&(l=0),s<i&&l<i&&(e.css("minHeight",Math.max(s,i+this.getListContainerBorderWidth())),isNaN(l)||e.get(0).setAttribute("data-oj-min-height",n))},_showLoadingSkeleton:function(){this.m_contentHandler.renderInitialSkeletons()},showStatusText:function(){var t=this;this.m_showStatusTimeout||(this.m_showStatusTimeout=setTimeout(function(){i(document.getElementById(t._createSubId("empty"))).remove(),null!=t.m_contentHandler&&(t.isSkeletonSupport()?t._showLoadingSkeleton():t._showLoadingIcon()),t.m_showStatusTimeout=null},this._getShowStatusDelay()))},_getShowStatusDelay:function(){var t=this._getOptionDefaults(),e=p.getCSSTimeUnitAsMillis(t.showIndicatorDelay);return isNaN(e)?0:e},hideStatusText:function(){this.m_showStatusTimeout&&(clearTimeout(this.m_showStatusTimeout),this.m_showStatusTimeout=null),this.m_status.hide();var t=this.getListContainer().get(0);t.hasAttribute("data-oj-min-height")&&(t.style.minHeight=t.getAttribute("data-oj-min-height"),t.removeAttribute("data-oj-min-height"))},GetRootElement:function(){return this.getListContainer()},getListContainer:function(){return null==this.m_container&&(this.m_container=this._createListContainer()),this.m_container},_createListContainer:function(){var t;return this.OuterWrapper?t=i(this.OuterWrapper):(t=i(document.createElement("div")),this.element.parent()[0].replaceChild(t[0],this.element[0])),t.addClass(this.GetContainerStyleClass()).addClass("oj-component"),t.prepend(this.element),t},_getEmptyText:function(){return this.ojContext.getTranslatedString("msgNoData")},_buildEmptyText:function(){var t=this._getEmptyText(),e=document.createElement("li");e.setAttribute("role","row"),e.id=this._createSubId("empty"),e.classList.add(this.getNoDataItemStyleClass()),this.isCardDisplayMode()&&e.classList.add(this.getNoDataCardStyleClass()),e.classList.add(this.getEmptyTextStyleClass()),e.classList.add(this.getEmptyTextMarkerClass());var i=document.createElement("span");return i.setAttribute("role","gridcell"),i.textContent=t,i.classList.add(this.getNoDataCellElementStyleClass()),e.appendChild(i),e},GetState:function(t){var e=this.getFocusItem(t).attr("aria-expanded");return"true"===e?this.STATE_EXPANDED:"false"===e?this.STATE_COLLAPSED:this.STATE_NONE},SetState:function(t,e){var i=this.isExpandable();e===this.STATE_EXPANDED?(this.getFocusItem(t).attr("aria-expanded","true"),i&&t.removeClass("oj-collapsed").addClass("oj-expanded")):e===this.STATE_COLLAPSED&&(this.getFocusItem(t).attr("aria-expanded","false"),i&&t.removeClass("oj-expanded").addClass("oj-collapsed"))},_getItemOption:function(t,e,i){var s=this.GetOption("item")[t];return"function"==typeof s&&i?s.call(this,e):s},getItemFocusable:function(t){return this._getItemOption("focusable",t,!0)},getItemSelectable:function(t){return this.getItemFocusable(t)&&this._getItemOption("selectable",t,!0)},_getItemRenderer:function(){var t=this._getItemOption("renderer",null,!1);return"function"!=typeof t?null:this._WrapCustomElementRenderer(t)},getItemTemplate:function(){if(void 0===this.m_template&&(this.m_template=null,this.ojContext._IsCustomElement())){var t=this.GetSlotMap().itemTemplate;t&&t.length>0&&"template"===t[0].tagName.toLowerCase()&&(this.m_template=t[0])}return this.m_template},getAs:function(){return this.GetOption("as")},GetSlotMap:function(){return _.CustomElementUtils.getSlotMap(this.GetRootElement()[0])},itemInsertComplete:function(t,e){this.m_clientHeight=null,this.m_scrollHeight=null},BeforeInsertItem:function(){},itemRemoveComplete:function(t,s,n){var l=!1;if(null!=this.m_active&&e.Object.compareValues(this.m_active.key,this.GetKey(t))&&(this._setActionableMode(!1,!0),!n)){let e=null,n=this._getItemsCache().toArray();n=n.filter(t=>!t.classList.contains("oj-skipfocus"));const o=n.findIndex(e=>t.contains(e));if(-1===o)this.SetOption("currentItem",null);else{const i=t.closest("ul.oj-listview-group"),s=n[o+1],l=n[o-1];i&&s&&l&&s.closest("ul")!==i&&l.closest("ul")===i?e=l:(e=s,null!=e&&(e.classList.contains(this.getItemElementStyleClass())||e.classList.contains("oj-listview-temp-item"))||(e=l,null!=e&&e.classList.contains(this.getItemElementStyleClass())||this.SetOption("currentItem",null)))}null!=e&&(e.classList.contains(this.getItemElementStyleClass())||e.classList.contains("oj-listview-temp-item"))&&(this.SetCurrentItem(i(e),null,!s),l=!0)}return null!=t&&t.id&&null!=this.m_keyElemMap&&this.m_keyElemMap.delete(t.id),this.m_clientHeight=null,this.m_scrollHeight=null,l},itemRenderComplete:function(t,e){null!=this.m_dndContext&&this.m_dndContext.itemRenderComplete(t);var s=e.key;if(this._isSelectionEnabled()){var n,l=this.GetOption("selected"),o=l.has(s);this.IsSelectable(t)?(o&&(this._applySelection(t,s),this._isMultipleSelection()||l.values().size>1&&(n=this.FindElementByKey(s),l=l.clear().add([s]),this._setSelectionOption(l,null,n,e.data))),l.values&&0===l.values().size&&this._isSelectionRequired()&&(this._applySelection(t,s),l=l.clear().add([s]),this._setSelectionOption(l,null,[t],e.data))):o&&!l.isAddAll()&&(n=[],(l=l.delete([s])).values().forEach(function(t){n.push(this.FindElementByKey(t))},this),this._setSelectionOption(l,null,n))}var a=this;if(this.m_contentHandler.IsHierarchical()&&null==this._ignoreExpanded&&this.GetState(i(t))===this.STATE_COLLAPSED){var r=this.GetOption("expanded");this._isExpandAll(s)?(this.ojContext._IsCustomElement()||null==this._collapsedKeys)&&this.ExpandItem(i(t),null,!1,null,!1,!1,!1):!this.ojContext._IsCustomElement()&&Array.isArray(r)?i.each(r,function(e,n){n!==s||null!=a._collapsedKeys&&-1!==a._collapsedKeys.indexOf(n)||a.ExpandItem(i(t),null,!1,null,!1,!1,!1)}):r.has&&r.has(s)&&this.ExpandItem(i(t),null,!1,null,!1,!1,!1)}null!=this.m_active&&s===this.m_active.key&&null!=this.m_active.elem&&t!==this.m_active.elem.get(0)&&(this.m_active.elem=i(t))},_addNoData:function(){if(this.ojContext._IsCustomElement()){var t=this.GetSlotMap().noData;if(t&&t.length>0&&"template"===t[0].tagName.toLowerCase()){var e=document.createElement("li");e.setAttribute("role","row"),e.id=this._createSubId("empty"),e.classList.add(this.getNoDataItemStyleClass()),e.classList.add("oj-listview-no-data-container");var i=document.createElement("div");i.setAttribute("role","gridcell"),i.setAttribute("tabIndex","0"),i.classList.add(this.getNoDataCellElementStyleClass()),i.classList.add("oj-listview-no-data-container"),e.appendChild(i);var s=this.element;s.addClass("oj-listview-no-data-container"),s.append(e);var n=this;this.signalTaskStart("run no data template");const l={customElement:this._GetCustomElement()};return void o.__getTemplateEngine(l).then(function(e){e.execute(n.GetRootElement(),t[0],{},null).forEach(function(t){i.appendChild(t)}),n.m_engine=e,n.signalTaskEnd()},function(t){throw n.signalTaskEnd(),new Error("Error loading template engine: "+t)})}}this.element.append(this._buildEmptyText())},_removeNoData:function(){this.element.removeClass("oj-listview-no-data-container");var t=document.getElementById(this._createSubId("empty"));t&&(this.m_engine&&this.m_engine.clean(t,this.GetRootElement().get(0)),t.parentNode.removeChild(t))},resetInitialSelectionStateValidated:function(){this.m_initialSelectionStateValidated=!1},renderComplete:function(t){var e=this;if(this.hideStatusText(),this._removeNoData(),this.m_items=null,this.m_groupItems=null,this.m_scrollHeight=null,this._isEmptyGrid()&&this.element[0].removeChild(this.element[0].children[0]),this._isEmpty())return this._addNoData(),this.Trigger("ready",null,{}),null;var s=this.GetOption("currentItem");if(null!=s){var n=this.FindElementByKey(s);if(null==n)this.SetOption("currentItem",null);else if(null==this.m_active&&!this.SkipFocus(i(n))){var l=document.activeElement;l&&this.element.get(0).contains(l)?this.ActiveAndFocus(i(n),null):this._setActive(i(n),null,!0)}}if(this.getListContainer().hasClass("oj-focus-ancestor")&&null==this.m_active&&null==s&&!this._isTouchSupport()&&this._initFocus(),this.m_scrollAndFetch=void 0,null==this.m_scrollPosition&&(t||this.m_ticking)||this.syncScrollPosition(),!this.m_initialSelectionStateValidated&&this._isSelectionEnabled()&&this._isSelectionRequired()){var o=this.GetOption("selection").slice(0);this._validateAndUpdateSelection(o),this.m_initialSelectionStateValidated=!0}if(this._isSelectionEnabled()){var a=this.GetOption("firstSelectedItem");if(null==a||null==a.key){var r=this.GetOption("selected");null!=r&&this._updateFirstSelectedItem(r)}}if(null!=this.m_gridlinePlaceholder&&null!=this.m_gridlinePlaceholder.parentNode&&this.m_gridlinePlaceholder.parentNode.removeChild(this.m_gridlinePlaceholder),(void 0===this.m_contentHandler.hasMoreToFetch||this.m_contentHandler.hasMoreToFetch&&!this.m_contentHandler.hasMoreToFetch())&&this._shouldRenderGridlineForLastItem()){var h=document.createElement("li");h.setAttribute("role","presentation"),h.className="oj-listview-gridline-placeholder",this.element[0].appendChild(h),this.m_gridlinePlaceholder=h}var u=null;if(this._isAnimateCards()){var d=null==this.element[0].querySelector(".oj-listview-card-animated"),m=0,p=this._getCardEntranceAnimationDelay();d&&this.element[0].classList.add("oj-animation-host-viewport"),this.element[0].querySelectorAll(".oj-listview-card:not(.oj-listview-card-animated)").forEach(function(t){if(t.classList.add("oj-listview-card-animated"),d){var i=e.getAnimationEffect("cardEntrance");i&&i.forEach(function(t){t.delay=m+"ms"}),u=e.StartAnimation(t,"cardEntrance",i),m=Math.min(1e3,m+p)}else e.m_initialCardAnimationPromise?(t.style.opacity=0,e.m_initialCardAnimationPromise.then(function(){c.fadeIn(t,{duration:"150ms",persist:"all"})})):c.fadeIn(t,{duration:"150ms"});u&&u.then(function(){e.element[0].classList.remove("oj-animation-host-viewport")})}),u&&(this.m_initialCardAnimationPromise=u)}return this.Trigger("ready",null,{}),u},_getCardEntranceAnimationDelay:function(){var t=this._getOptionDefaults(),e=parseInt(t.cardAnimationDelay,10);return isNaN(e)?0:e},_getLocalKeys:function(){for(var t=[],e=this._getItemsCache(),i=0;i<e.length;i++)t.push(this.GetKey(e[i]));return t},_validateAndUpdateSelection:function(t){if(this._isSelectionRequired()&&t.length>0){var e=t.length,i=this._validateSelection(t);if(i)this.signalTaskStart("validating selection-required keys"),i.then(function(t){var e=this.GetOption("selected").clear().add(t);this._setSelectionOption(e,null,null,null),this.enforceSelectionRequired(),this.signalTaskEnd()}.bind(this));else if(e!==t.length){var s=this.GetOption("selected").clear().add(t);this._setSelectionOption(s,null,null,null),this.enforceSelectionRequired()}}},_validateSelection:function(t){this.m_validatedSelectedKeyData=null;var e=t,i=this._getLocalKeys(),s=[];if(t.forEach(function(t){-1===i.indexOf(t)&&s.push(t)}),s.length>0){var n=this._fetchValidRowKeyData(s);if(n){var l=n.then(function(t){this.m_validatedSelectedKeyData=t.validKeyData,t.validKeys.forEach(function(t){s.splice(s.indexOf(t),1)});for(var i=e.length-1;i>=0;i--)s.indexOf(e[i])>-1&&e.splice(i,1);return e}.bind(this));return l}for(var o=e.length-1;o>=0;o--)s.indexOf(e[o])>-1&&e.splice(o,1)}return null},_fetchValidRowKeyData:function(t){var e=this.m_contentHandler.getDataProvider();if(e&&e.getCapability){var i=e.getCapability("fetchByKeys");if(i&&"lookup"===i.implementation)return new Promise(function(i){e.fetchByKeys({keys:new Set(t),scope:"global"}).then(function(t){var e=[],s=new m;t.results.forEach(function(t,i){e.push(i),s.set(i,t.data)}),i({validKeys:e,validKeyData:s})},function(){i({validKeys:[],validData:new Map})})})}return null},_isEmptyGrid:function(){return this.ShouldUseGridRole()&&this.isCardLayout()&&!this.m_contentHandler.IsHierarchical()&&this.element[0].children[0]&&0===this.element[0].children[0].children[0].childElementCount},_setScrollY:function(t,e){var i=t.scrollTop;return u.info("Setting scroll y: "+e+" initial scrollTop: "+i),this._skipScrollUpdate||this._setScrollPosBusyState(),this._skipScrollUpdate=!0,t.scrollTop=e,this._handlePinGroupHeader(),u.info("scrollTop after updating: "+t.scrollTop),i!==t.scrollTop||(u.info("scrollPosBusyState getting clear"),this._clearScrollPosBusyState(),!1)},_setScrollX:function(t,e){this._skipScrollUpdate=!0,p.setScrollLeft(t,e)},_getScrollX:function(t){return Math.abs(t.scrollLeft)},getScrollToKey:function(){var t=this.GetOption("scrollPosition");if(t){var e=t.key;if(e){var i=this;return new Promise(function(t){var s=i._validateKeyForScroll(e,!0);null==s?t(null):s.then(function(i){t(i?e:null)})})}}return Promise.resolve(null)},_validateKeyForScroll:function(t,e){var i=this;if(!this._isScrollToKey())return null;if(!e&&null!=this.FindElementByKey(t))return Promise.resolve(!0);if(this.m_contentHandler instanceof n.IteratingDataProviderContentHandler){var s=this.m_contentHandler.getDataProvider();if(s.containsKeys)return new Promise(function(e){var n=new Set;n.add(t),i.signalTaskStart("Checking for keys"),s.containsKeys({keys:n}).then(function(t){e(t.results.size>0),i.signalTaskEnd()},function(){i.signalTaskEnd(),e(!1)})})}return null},_getScrollHeight:function(){return null==this.m_scrollHeight&&(this.m_scrollHeight=this._getScroller().scrollHeight),this.m_scrollHeight},_getClientHeight:function(){return null==this.m_clientHeight&&(this.m_clientHeight=this._getScroller().clientHeight),this.m_clientHeight},_getScrollWidth:function(){return null==this.m_scrollWidth&&(this.m_scrollWidth=this._getScroller().scrollWidth),this.m_scrollWidth},_getClientWidth:function(){return null==this.m_clientWidth&&(this.m_clientWidth=this._getScroller().clientWidth),this.m_clientWidth},_isScrollable:function(){return this._isScrollableY()||this._isScrollableX()},_isScrollableX:function(){return Math.abs(this._getScrollWidth()-this._getClientWidth())>1},_isScrollableY:function(){var t=0;if(this.m_contentHandler.getLoadingIndicator){var e=this.m_contentHandler.getLoadingIndicator();null!=e&&(t=e.offsetHeight)}var i=this._getScroller(),s=i.scrollHeight,n=i.clientHeight;return Math.abs(s-n)-t>1},syncScrollPosition:function(t,e){var i,s,n,l,o=this;if(this.ShouldUseGridRole()&&(e=void 0===e||e,this._isScrollable())){if(this.ShouldUpdateScrollPosition()){if(null!=this.m_scrollPosition?t=this.m_scrollPosition:void 0===t&&(t=this.GetOption("scrollPosition")),e&&null!=t.key){var a=this._validateKeyForScroll(t.key,!1);return void(a&&a.then(function(e){null!=o.m_contentHandler&&(e||delete t.key,o.syncScrollPosition(t,!1))}))}if(s=(i=this._getScrollCoordinates(t)).x,n=i.y,isNaN(s)&&isNaN(n))return void(null!=this.m_scrollPosition&&(this.SetOption("scrollPosition",this._getCurrentScrollPosition(l),{_context:{originalEvent:null,internalSet:!0}}),this.signalTaskEnd(),this.m_scrollPosition=null))}void 0===i&&(n=this.GetOption("scrollTop"));var r=this._getScroller();if(l=r.scrollTop,!isNaN(s)&&isNaN(n)||!isNaN(s)&&n===l&&s!==this._getScrollX(r,s)){if(!this._isScrollableX())return void this._clearOutstandingScrollPosition();this._setScrollX(r,s);var h=this.GetOption("scrollPosition"),c={x:s=this._getScrollX(r),y:h.y,index:h.index,key:h.key,offsetX:s,offsetY:h.offsetY};h.parent&&(c.parent=h.parent),this.SetOption("scrollPosition",c,{_context:{originalEvent:null,internalSet:!0}})}else if(Math.abs(l-n)>=1){var u=!1;if(this._isScrollableY()&&(u=this._setScrollY(r,n)),!isNaN(s)&&s!==this._getScrollX(r,s)&&this._isScrollableX()&&(this._setScrollX(r,s),u=!0),!u)return this.m_scrollPosition&&this.SetOption("scrollPosition",this._getCurrentScrollPosition(l),{_context:{originalEvent:null,internalSet:!0}}),void this._clearOutstandingScrollPosition();if(l=r.scrollTop,Math.abs(l-n)>=1&&this.m_contentHandler.hasMoreToFetch&&this.m_contentHandler.hasMoreToFetch())return null==this.m_scrollPosition&&this.signalTaskStart("Scroll position needs to resolve further"),this.m_scrollAndFetch=!0,void(this.m_scrollPosition=t);this.SetOption("scrollPosition",this._getCurrentScrollPosition(l),{_context:{originalEvent:null,internalSet:!0}})}else t&&(null==t.key||isNaN(t.index))&&this.SetOption("scrollPosition",this._getCurrentScrollPosition(l),{_context:{originalEvent:null,internalSet:!0}});this._clearOutstandingScrollPosition()}},_clearOutstandingScrollPosition:function(){null!=this.m_scrollPosition&&(this.signalTaskEnd(),this.m_scrollPosition=null)},restoreCurrentItemFocus:function(t){this._isInViewport(t)&&this._setActive(i(t),null,!1)},ClearCache:function(t){this.m_items=null,this.m_groupItems=null,t&&null!=this.m_keyElemMap&&this.m_keyElemMap.clear()},getMinimumCountForViewport:function(){var t=this._getItemHeight(),e=this._getClientHeight();return!isNaN(t)&&t>0?Math.ceil(e/t):1},_isInViewport:function(t){return h.isElementIntersectingScrollerBounds(t,this._getScroller())},_getAnimatedActions:function(){return["add","remove","update","expand","collapse"]},StartAnimation:function(t,e,i){if(this._getAnimatedActions().indexOf(e)>-1&&!this._isInViewport(t))return Promise.resolve(null);var s,n;if(null==i&&(i=this.getAnimationEffect(e)),"expand"===e){var l=t.getAttribute("data-oj-initial-height");if(null!=l&&!isNaN(l)){(i=Object.assign({},i)).startMaxHeight=l+"px";var o=t.offsetHeight;o<l&&(n=t.style.maxHeight,s=t.style.height,t.style.maxHeight="none",t.style.height=l+"px",i.effect="collapse",i.endMaxHeight=o+"px"),t.removeAttribute("data-oj-initial-height")}}var a=c.startAnimation(t,e,i,this.ojContext);return void 0!==s&&a.then(function(){t.style.height=s,t.style.maxHeight=n}),a},notifyContextMenuGesture:function(t,e,s){if(null==this.element[0].querySelector(".oj-listview-no-data-item")&&this.IsNodeEditableOrClickable(i(e.target)))return!1;var n=i(e.target).closest("."+this.getItemElementStyleClass());n.length>0&&!this.SkipFocus(i(n[0]))&&this.SetCurrentItem(i(n[0]),null);var o={launcher:this.ojContext.element,initialFocus:"menu"};if("keyboard"===s){var a=null!=this.m_active?this.m_active.elem:this.element;o.position={my:"start top",at:"start bottom",of:a}}null==this.ojContext._GetContextMenu()?l.getContext(t).getBusyContext().whenReady().then(function(){this.PrepareContextMenu(n),this.ojContext._OpenContextMenu(e,s,o)}.bind(this)):(this.PrepareContextMenu(n),this.ojContext._OpenContextMenu(e,s,o))},PrepareContextMenu:function(t){var e=this.ojContext._GetContextMenu();null!=this.m_dndContext&&e&&this.m_dndContext.prepareContextMenu(e)},IsElementEditableOrClickable:function(t){return null!=t.prop("nodeName").match(/^INPUT|SELECT|OPTION|BUTTON|^A\b|TEXTAREA/)},IsNodeEditableOrClickable:function(t){for(;null!=t&&t[0]!==this.element[0]&&"LI"!==t.prop("nodeName");)if(3===t[0].nodeType)t=t.parent();else{var e=t.attr("tabIndex"),i=t.attr("data-oj-tabindex");if(null!=e&&e>=0&&!t.hasClass(this.getFocusedElementStyleClass())&&!t.hasClass("oj-listview-cell-element"))return!0;if(this.IsElementEditableOrClickable(t)&&(-1!==e||-1!==i))return!0;t=t.parent()}return!1},disableAllTabbableElements:function(t,e){var s=i(t);(s.hasClass(this.getItemStyleClass())||(s=i(s.get(0).firstElementChild)),s.children().first().hasClass("oj-listview-cell-element")&&(s=i(s.get(0).firstElementChild)),s[0])&&i(h.disableAllFocusableElements(s[0],e)).each(function(){i(this).removeAttr("data-first").removeAttr("data-last")})},_disableAllTabbableElementsBeforeItem:function(t){for(var e=this._getItemsCache(),i=e.index(t),s=0;s<=i;s++)this.disableAllTabbableElements(e[s],!0)},_disableAllTabbableElementsAfterItem:function(t){var e=this._getItemsCache(),i=e.index(t);if(-1!==i)for(var s=i;s<=e.length-1;s++)this.disableAllTabbableElements(e[s],!0)},_enableAllTabbableElements:function(t){var e=i(h.enableAllFocusableElements(t[0]));(e=e.filter(":visible")).first().attr("data-first","true"),e.last().attr("data-last","true")},_cleanupTabbableElementProperties:function(t){h.enableAllFocusableElements(t[0]).forEach(function(t){t.removeAttribute("data-first"),t.removeAttribute("data-last")})},SkipFocus:function(t){return t.hasClass("oj-skipfocus")},GetFocusElement:function(){if(this.getListContainer().hasClass("oj-focus-ancestor")){if(this.m_active)return this.getFocusItem(this.m_active.elem)[0];var t=this.element.children("."+this.getEmptyTextStyleClass()).first();if(t.length>0&&0===t.attr("tabIndex"))return t[0]}return this.element[0]},_isFocusBlurTriggeredByDescendent:function(t){return void 0===t.relatedTarget||!(null==t.relatedTarget||!i.contains(this.ojContext.element.get(0),t.relatedTarget))},HandleFocus:function(t){if(this._clearFocusoutTimeout(),this._clearFocusoutBusyState(),this.getListContainer().addClass("oj-focus-ancestor"),null==this.m_active){var e=this.FindItem(i(t.target));this.m_preActive||this._isFocusBlurTriggeredByDescendent(t)||null!=e&&0!==e.length&&!this.SkipFocus(e)||this._initFocus(t)}else this.m_preActive||t.target!==this.ojContext.element[0]||this._isFocusBlurTriggeredByDescendent(t)||(this._makeFocusable(this.m_active.elem),this.HighlightActive(),this._focusItem(this.m_active.elem)),this.RemoveRootElementTabIndex(),this._setTabIndex(this.m_active.elem)},restoreFocusAfterDrag:function(){null==this.m_active?this._initFocus(null):(this._makeFocusable(this.m_active.elem),this.HighlightActive(),this._focusItem(this.m_active.elem),this.RemoveRootElementTabIndex()),this.m_active&&this.m_active.elem.removeClass("oj-focus-highlight")},_initFocus:function(t){for(var e=this._getItemsCache(),s=0;s<e.length;s++){var n=i(e[s]);if(!this.SkipFocus(n)){this.SetCurrentItem(n,t);break}}if(0===e.length){var l=this.element.children("."+this.getEmptyTextStyleClass()).first();0===l.length&&(l=this.element.find('.oj-listview-no-data-container[role="row"]').first()),l.length>0&&(l.children().first().attr("tabIndex",0),this._highlightElem(l,"oj-focus"),l.children().first().focus(),this.RemoveRootElementTabIndex())}},HandleFocusOut:function(t){this.HandleBlur(t)},_supportRelatedTargetOnBlur:function(){return!(h.isFirefox()&&h.getBrowserVersion()<48)},_isExtraBlurEvent:function(t){return!(null!=t.relatedTarget||!h.isIE()||t.target!==this.ojContext.element.get(0))},_clearFocusoutTimeout:function(){this._focusoutTimeout&&(clearTimeout(this._focusoutTimeout),this._focusoutTimeout=null)},_setFocusoutBusyState:function(){this._focusoutResolveFunc||(this._focusoutResolveFunc=this._addComponentBusyState("is handling focusout."))},_setScrollPosBusyState:function(){this.ojContext._IsCustomElement()?this._scrollPosResolveFunc||(this._scrollPosResolveFunc=this._addComponentBusyState("is waiting for scroll handler.")):this.signalTaskStart("waiting for scroll handler")},_addComponentBusyState:function(t){var e=l.getContext(this.element[0]).getBusyContext(),i={description:"The component identified by '"+this.element[0].id+"' "+t};return e.addBusyState(i)},_clearFocusoutBusyState:function(){this._focusoutResolveFunc&&(this._focusoutResolveFunc(),this._focusoutResolveFunc=null)},_clearScrollPosBusyState:function(){this.ojContext._IsCustomElement()?this._scrollPosResolveFunc&&(this._scrollPosResolveFunc(),this._scrollPosResolveFunc=null):this.signalTaskEnd()},HandleBlur:function(t){if(this._clearFocusoutTimeout(),this.isPaddingClicked&&this.m_active)return this._makeFocusable(this.m_active.elem),this.HighlightActive(),void this._focusItem(this.m_active.elem);if(this._isExpandCollapseIcon(t.target)&&this._focusOutHandler(i(t.target)),this._isActionableMode()){if(null!=f.getLogicalChildPopup(this.getListContainer()))return;this._setFocusoutBusyState(),this._focusoutTimeout=setTimeout(function(){null!=this.m_active&&this.m_active.elem.get(0).contains(document.activeElement)||this._doBlur(),this._clearFocusoutBusyState()}.bind(this),100)}else this._isFocusBlurTriggeredByDescendent(t)||this.m_preActive||null!=this.m_active&&this.m_active.elem.get(0).contains(document.activeElement)||this._doBlur()},_doBlur:function(){if(this._isActionableMode()&&this._exitActionableMode(),this.getListContainer().removeClass("oj-focus-ancestor"),this.UnhighlightActive(),null!=this.m_active)this._resetTabIndex(this.m_active.elem),this._removeSkipItemAriaLabel(this.m_active.elem);else{var t=this.element.children("."+this.getEmptyTextStyleClass()).first();0===t.length&&(t=this.element.find('.oj-listview-no-data-container[role="row"]').first()),t.length>0&&(t.children().first().removeAttr("tabIndex"),this._unhighlightElem(t,"oj-focus"))}this.SetRootElementTabIndex()},_handleMouseOut:function(t){var e=this.FindItem(t.target);null!=e&&(this.m_hoverItem=null,this._unhighlightElem(e,"oj-hover"))},_handleMouseOver:function(t){if(!(!this._isShowHover()||this._recentTouch()||this.m_dndContext&&this.m_dndContext.isDndInProgress())){var e=this.FindItem(t.target);if(null!=e&&!this.SkipFocus(e)){if(!this._isSelectionEnabled()&&!e.children().first().hasClass(this.getGroupItemStyleClass()))return;this.m_hoverItem=e,this._highlightElem(e,"oj-hover")}}},_isShowHover:function(){var t="redwood"===a.parseJSONFromFontFamily("oj-theme-json").behavior;return this._isSelectionEnabled()||t&&this.isExpandable()&&this.ShouldUseGridRole()},_recentTouch:function(){return Date.now()-this._lastTouch<500},HandleKeyDown:function(t){if(this.isExpandable()){var e=t.key||t.keyCode;if("ArrowLeft"===e||"Left"===e||e===this.LEFT_KEY||"ArrowRight"===e||"Right"===e||e===this.RIGHT_KEY){var i=this.m_active.elem,s="rtl"===this.ojContext._GetReadingDirection();if("ArrowLeft"===e||"Left"===e||e===this.LEFT_KEY){if(this.GetState(i)===this.STATE_EXPANDED&&!s)return void this.CollapseItem(i,t,!0,this.m_active.key,!0,!0);if(this.GetState(i)===this.STATE_COLLAPSED&&s)return void this.ExpandItem(i,t,!0,this.m_active.key,!0,!0,!0)}if("ArrowRight"===e||"Right"===e||e===this.RIGHT_KEY){if(this.GetState(i)===this.STATE_COLLAPSED&&!s)return void this.ExpandItem(i,t,!0,this.m_active.key,!0,!0,!0);if(this.GetState(i)===this.STATE_EXPANDED&&s)return void this.CollapseItem(i,t,!0,this.m_active.key,!0,!0)}}}var n=this.HandleSelectionOrActiveKeyDown(t);null!=this.m_dndContext&&(n=n||this.m_dndContext.HandleKeyDown(t)),!0===n&&(t.preventDefault(),t.stopPropagation()),this.m_keyProcessed=n},HandleKeyUp:function(t){var e=t.key||t.keyCode;"Escape"!==e&&"Esc"!==e&&e!==this.ESC_KEY||!this.m_keyProcessed||t.stopPropagation(),this.m_keyProcessed=void 0},_handleMouseUpOrPanMove:function(t){this.m_preActiveItem&&this._unhighlightElem(this.m_preActiveItem,"oj-focus"),null!=this.m_dndContext&&this.m_dragger&&this.m_dragger.get(0)!==t.target&&(this.m_dndContext._unsetDraggable(this.m_dragger),this.m_dragger=null)},_isNodeFocusable:function(t){var e=this.getItemElementStyleClass();return h.isElementOrAncestorFocusable(t,function(t){return t.classList.contains(e)||t.classList.contains("oj-listview-cell-element")})},HandleMouseDownOrTouchStart:function(t){var e=i(t.target);null!=this.m_dndContext&&(this.m_dndContext._setDraggable(e),this.m_dragger=e);var s=this.FindItem(e);null!=s&&s.length>0&&this._isLegacyClickthroughDisabled(t,s.get(0))&&(this.m_preActive=!0,s=null),null==s||0===s.length||this.SkipFocus(s)||e.hasClass("oj-listview-drag-handle")||(this.m_preActive=!0,this.getListContainer().hasClass("oj-focus-ancestor")||this.getListContainer().addClass("oj-focus-ancestor"),this.m_preActiveItem=s,this._highlightElem(s,"oj-focus"),this._makeFocusable(s),!this.element[0].contains(document.activeElement)||s.get(0).contains(document.activeElement)||this._isNodeFocusable(e[0])||this._focusItem(s),this.RemoveRootElementTabIndex(),null!=this.m_active&&this.m_active.elem.get(0)!==s.get(0)&&this._resetTabIndex(this.m_active.elem),t.originalEvent.touches&&t.originalEvent.touches.length>0&&(this.m_touchPos={x:t.originalEvent.changedTouches[0].pageX,y:t.originalEvent.changedTouches[0].pageY}),this.isInputOrEditableContentElement(e.get(0))&&this._enterActionableMode(s))},HandleTouchEndOrCancel:function(t){var e="pointerUp";if(null!=this.m_preActiveItem&&(this._unhighlightElem(this.m_preActiveItem,"oj-focus"),null!=this.m_touchPos)){var i=this.m_preActiveItem.offset(),s=this.getAnimationEffect(e);s.offsetX=this.m_touchPos.x-i.left+"px",s.offsetY=this.m_touchPos.y-i.top+"px";var n,l=this.m_preActiveItem.children("."+this.getGroupItemStyleClass());n=l.length>0?l.get(0):this.getFocusItem(this.m_preActiveItem).get(0);var o=t.target;if(n)for(var a=n.querySelectorAll("input, select, button, a, textarea, object, [tabIndex]:not([tabIndex='-1']), [data-oj-tabmod]"),r=0;r<a.length;r++)if(a[r].contains(o)){n=null;break}null!=n&&this.StartAnimation(n,e,s),this.m_touchPos=null}this._lastTouch=Date.now(),this._handleMouseOut(t)},_enterActionableMode:function(t){var e=void 0===t?this.m_active.elem:t;e&&(this.disableAllTabbableElements(e),this._enableAllTabbableElements(e),e.find("[data-first]").length>0&&this._setActionableMode(!0))},_exitActionableMode:function(){this._setActionableMode(!1),this.m_active&&(this.disableAllTabbableElements(this.m_active.elem),this.m_active.elem.removeClass("oj-focus-previous-highlight"))},HandleMouseClick:function(t){if(0===t.button){var e=this.getCollapseIconStyleClass(),s=this.getExpandIconStyleClass(),n=i(t.target);if(n.hasClass(s))this._collapse(t),t.preventDefault();else if(n.hasClass(e))this._expand(t),t.preventDefault();else{var l=this.FindItem(n);if(null==l||0===l.length)return;if(this._isLegacyClickthroughDisabled(t,l[0]))return;if(this.SkipFocus(l))return void this._handleHeaderClick(t,n,l);this._isActionableMode()&&null!=this.m_active&&this.m_active.elem.get(0)!==l.get(0)&&!this.isInputOrEditableContentElement(n.get(0))&&this._exitActionableMode(),this.getListContainer().hasClass("oj-focus-ancestor")||this.getListContainer().addClass("oj-focus-ancestor");var o=this._isClickthroughDisabled(t,l);if(!o&&this._isSelectionEnabled()&&this.IsSelectable(l[0])){var a=t.originalEvent.sourceCapabilities&&t.originalEvent.sourceCapabilities.firesTouchEvents;(this._isTouchSupport()&&(a||null!=this.touchStartEvent&&this.touchStartEvent.target===t.target)?this._handleTouchSelection(l,t):this.HandleClickSelection(l,t))||this.HandleClickActive(l,t),this.ShouldUseGridRole()&&t.target===l.get(0)&&this._focusItem(l),this._shouldDragSelectedItems()&&this.m_dndContext.setSelectionDraggable()}else this.HandleClickActive(l,t);o||(this._fireActionEvent(l.get(0),t,!0),this._handleHeaderClick(t,n,l))}}},_handleHeaderClick:function(t,e,i){var s=this.getGroupItemStyleClass();this.isExpandable()&&e.closest("."+s)&&(this.GetState(i)===this.STATE_COLLAPSED?this._expand(t):this.GetState(i)===this.STATE_EXPANDED&&this._collapse(t))},_fireActionEvent:function(t,e,i){if(i||!this._isActionableMode()){var s={context:{key:this.GetKey(t),data:this._getDataForItem(t),metadata:this._getMetadataForItem(t)}};this.Trigger("itemAction",e,s)}},_shouldDragSelectedItems:function(){return null!=this.m_dndContext&&!this.m_dndContext.shouldDragCurrentItem()},_isTouchSupport:function(){return p.isTouchSupported()},_isNonWindowTouch:function(){return this._isTouchSupport()&&!h.isWindows()},_ctrlEquivalent:function(t){return p.isMetaKeyPressed(t)},_createSubId:function(t){return[this.element.attr("id"),t].join(":")},FindItem:function(t){return i(t).hasClass(this.getGroupStyleClass())?null:i(t).closest("."+this.getItemElementStyleClass())},_isLegacyClickthroughDisabled:function(t,e){for(var i=t.target;null!=i&&i!==e;){if(i.classList.contains("oj-clickthrough-disabled"))return!0;i=i.parentNode}return!1},_isClickthroughDisabled:function(t,e){return e.length>0&&h.isEventClickthroughDisabled(t,e.get(0))},getListContainerBorderWidth:function(){return null==this.m_borderWidth&&(this.m_borderWidth=parseInt(this.getListContainer().css("border-top-width"),10)+parseInt(this.getListContainer().css("border-bottom-width"),10)),this.m_borderWidth},scrollToItem:function(t){var e=t.key;if(null!=e){var s=this.FindElementByKey(e);if(null!=s)if(i(s).hasClass(this.getItemStyleClass()))this._scrollToVisible(s);else{var n=i(s).children("."+this.getGroupItemStyleClass()).first();this._scrollToGroupHeader(n.get(0))}}},_scrollToVisible:function(t){var e,s,n=0,l=this.getListContainer()[0],o=l.scrollTop,a=l.offsetHeight;if(t.classList.contains(this.getItemStyleClass()))e=t.offsetTop,s=t.offsetHeight;else if(t.children.length>0){var r=t.children[0];r.classList.contains(this.getGroupItemStyleClass())&&(e=r.offsetTop,s=r.offsetHeight)}if(!isNaN(e)&&!isNaN(s)){if(null!=this.m_groupItemToPin){var h=parseInt(this.m_groupItemToPin.style.top,10),c=i(this.m_groupItemToPin).outerHeight();e<=h&&h<e+s?n=(s+e-h)/2:e>=h&&e<h+c&&(n=(h+c-e)/2)}else if(null!=this.m_closestParent){var u=this.m_closestParent.firstElementChild;u.classList.contains("oj-sticky")&&(n=u.offsetTop+u.offsetHeight-e)}if(e>=o&&e+s<=o+a)n>0&&(l.scrollTop=o-n);else{var d=Math.max(0,Math.min(e-n,Math.abs(e+s-a)));d>o&&(d+=this.getListContainerBorderWidth()),l.scrollTop=d}}},GetKey:function(t){return this.m_contentHandler.GetKey(t)},FindElementByKey:function(t){if(null!=this.m_keyElemMap){var e=this.m_keyElemMap.get(t);if(null!=e)return document.getElementById(e)}return this.m_contentHandler?this.m_contentHandler.FindElementByKey(t):null},GetIndexOf:function(t,i){for(var s=0;s<t.length;s++)if(i===t[s]||e.Object.compareValues(i,t[s]))return s;return-1},_isExpandCollapseIcon:function(t){return i(t).hasClass(this.getExpandIconStyleClass())||i(t).hasClass(this.getCollapseIconStyleClass())},_isGridlinesVisible:function(){if(null==this.m_gridlinesVisible){var t=this.GetOption("gridlines");if(null==t)return!0;this.m_gridlinesVisible="hidden"!==t.item}return this.m_gridlinesVisible},_isTopBottomGridlinesVisible:function(){var t=this._getOptionDefaults().gridlines;return t?{top:t.top,bottom:t.bottom}:{top:!0,bottom:!0}},_updateGridlines:function(){var t=this.GetRootElement()[0];this._isGridlinesVisible()?t.classList.remove("oj-listview-gridlines-hidden"):t.classList.add("oj-listview-gridlines-hidden");var e=this._isTopBottomGridlinesVisible();t.classList.remove("gridline-top-hidden"),t.classList.remove("gridline-bottom-hidden"),"hidden"===e.top&&t.classList.add("gridline-top-hidden"),"hidden"===e.bottom&&t.classList.add("gridline-bottom-hidden")},_shouldRenderGridlineForLastItem:function(){if(this.isCardLayout())return!1;var t=this.GetOption("gridlines");if(null!=t){var e=this._isTopBottomGridlinesVisible();if("visible"===t.item&&"hidden"===e.bottom)return!0}return!1},IsArrowKey:function(t){return this.isCardLayout()?"ArrowUp"===t||"Up"===t||t===this.UP_KEY||"ArrowDown"===t||"Down"===t||t===this.DOWN_KEY||"ArrowLeft"===t||"Left"===t||t===this.LEFT_KEY||"ArrowRight"===t||"Right"===t||t===this.RIGHT_KEY:"ArrowUp"===t||"Up"===t||t===this.UP_KEY||"ArrowDown"===t||"Down"===t||t===this.DOWN_KEY},_getItemsCache:function(){if(null==this.m_items){var t=this.getGroupCollapseStyleClass(),e="."+this.getItemElementStyleClass()+":visible";this.m_items=this.element.find(e).filter(function(){if(i(this).parent().hasClass(t))return!i(this).parent().parent().hasClass("oj-collapsed");if("LI"!==this.tagName){var e=this.parentElement;if(e&&e.classList.contains("oj-animate-remove"))return!1}return!0}).map(function(t,e){var i=e.parentElement;return i&&(i.classList.contains("oj-animate-add")||i.classList.contains("oj-listview-temp-item"))?i:e})}return this.m_items},_handleLastItemKeyboardFocus:function(t){var e=t.get(0).nextElementSibling;if(null==e||!i(e).hasClass(this.getItemElementStyleClass())){if(this.m_contentHandler.IsHierarchical()&&t.parent().hasClass(this.getGroupStyleClass())&&null!=t.parent().parent().get(0).nextElementSibling)return;var s=this._getScroller(),n=this._getScrollHeight();s.scrollTop<n&&(s.scrollTop=n)}},HandleArrowKeys:function(t,e,s){if(!this.m_contentHandler.IsReady())return!0;var n;n=!e||this.m_isNavigate?this.m_active.elem:this.m_selectionFrontier;var l=!1;switch(t){case this.UP_KEY:case"Up":case"ArrowUp":this.isCardLayout()&&i(n).hasClass(this.getItemStyleClass())?this._gotoItemAbove(n,e,s):this._gotoPrevItem(n,e,s),l=!0;break;case this.DOWN_KEY:case"Down":case"ArrowDown":this.isCardLayout()&&i(n).hasClass(this.getItemStyleClass())?this._gotoItemBelow(n,e,s):this._gotoNextItem(n,e,s),l=!0;break;case this.LEFT_KEY:case"Left":case"ArrowLeft":case this.RIGHT_KEY:case"Right":case"ArrowRight":this.isCardLayout()&&("rtl"===this.ojContext._GetReadingDirection()&&(t="ArrowLeft"===t||"Left"===t||t===this.LEFT_KEY?"ArrowRight":"ArrowLeft"),"ArrowLeft"===t||"Left"===t||t===this.LEFT_KEY?this._gotoPrevItem(n,e,s):this._gotoNextItem(n,e,s),l=!0)}return l},_gotoNextItem:function(t,e,s){var n=this._getItemsCache(),l=n.index(t)+1;if(l<n.length){for(var o=i(n[l]);this.SkipFocus(o);){if((l+=1)===n.length)return;o=i(n[l])}e?(this._extendSelection(o,s),this.m_isNavigate=!1):(this.SetCurrentItem(o,s),this.m_isNavigate=!0),this._handleLastItemKeyboardFocus(o)}},_gotoPrevItem:function(t,e,s){var n=this._getItemsCache(),l=n.index(t)-1;if(l>=0){for(var o=i(n[l]);this.SkipFocus(o);){if((l-=1)<0)return;o=i(n[l])}e?(this._extendSelection(o,s),this.m_isNavigate=!1):(this.SetCurrentItem(o,s),this.m_isNavigate=!0)}},_getColumnCount:function(t){var e,i;return t.each(function(t){var s=this.offsetTop;if(void 0===i)i=s;else if(i!==s)return!1;e=t}),e+1},_updateSkipItemAriaLabel:function(t,e){var s=this._createSubId("extra_info");if(null==this.m_skipAriaLabelText){var n=i(document.createElement("div"));n.addClass("oj-helper-hidden-accessible").attr("id",s),this.getListContainer().append(n),this.m_skipAriaLabelText=n}this.m_skipAriaLabelText.text(this.ojContext.getTranslatedString("accessibleNavigateSkipItems",{numSkip:e}));var l=this.getFocusItem(t);l.uniqueId().attr("aria-labelledby",s+" "+l.prop("id"))},_removeSkipItemAriaLabel:function(t){var e=this.getFocusItem(t);e.length>0&&e.get(0).removeAttribute("aria-labelledby")},_gotoItemAbove:function(t,e,s){var n,l;if(t.hasClass(this.getItemElementStyleClass())){var o=t.parent(),a=o.children("li."+this.getItemElementStyleClass()),r=this._getColumnCount(a),h=a.index(t),c=h-r;if(c<0?o.hasClass(this.getGroupStyleClass())&&o.parent().hasClass(this.getItemElementStyleClass())&&(n=o.parent(),l=h):(n=i(a.get(c)),l=r-1),n&&n.length>0){if(this.SkipFocus(n))return;e?(this._extendSelection(n,s),this.m_isNavigate=!1):(null!=l&&l>0&&this._updateSkipItemAriaLabel(n,l),this.SetCurrentItem(n,s),this.m_isNavigate=!0)}}else this._gotoPrevItem(t)},_gotoItemBelow:function(t,e,s){var n,l;if(t.hasClass(this.getItemElementStyleClass())){var o=t.parent(),a=o.children("li."+this.getItemElementStyleClass()),r=this._getColumnCount(a),h=a.index(t),c=h+r;if(c>=a.length){var u=Math.ceil(a.length/r);l=a.length-1-h,h<Math.max(0,(u-1)*r)?(n=a.last(),l-=1):o.hasClass(this.getGroupStyleClass())&&(n=o.parent().next("li."+this.getItemElementStyleClass()))}else n=i(a.get(c)),l=r-1;if(n.length>0){if(this.SkipFocus(n))return;e?(this._extendSelection(n,s),this.m_isNavigate=!1):(null!=l&&l>0&&this._updateSkipItemAriaLabel(n,l),this.SetCurrentItem(n,s),this.m_isNavigate=!0),this._handleLastItemKeyboardFocus(n)}}else this._gotoNextItem(t)},_isActionableMode:function(){return"actionable"===this.m_keyMode},_setActionableMode:function(t,e){this.m_keyMode=t?"actionable":"navigation",t||e||this.element[0].focus()},getFocusItem:function(t){if(!t.hasClass(this.getFocusedElementStyleClass()))return i(t.find("."+this.getFocusedElementStyleClass()).first());if(this.ShouldUseGridRole()&&"row"===t.attr("role")){var e=t.children(".oj-listview-cell-element").first();return 0===e.length?t.children().first():e}return t},SetRootElementTabIndex:function(){this._isComponentFocusable()&&this.element.attr("tabIndex",0)},RemoveRootElementTabIndex:function(){this.element.removeAttr("tabIndex")},_isComponentFocusable:function(){var t=this.ojContext._IsCustomElement()?this.GetRootElement():this.element;return this._rootTabIndexSet||-1!==parseInt(t.attr("tabIndex"),10)},_setTabIndex:function(t){this._isComponentFocusable()&&this.getFocusItem(t).attr("tabIndex",0)},_resetTabIndex:function(t){var e=!0;"presentation"===t.attr("role")&&(e=!1);var i=this.getFocusItem(t);e?i.removeAttr("tabIndex"):i.attr("tabIndex",-1)},_makeFocusable:function(t){this._setTabIndex(t)},getSingleFocusableElement:function(t){return t},_setCurrentItemOption:function(t,e,s){var n={item:this.ojContext._IsCustomElement()?s:i(s)};this.SetOption("currentItem",t,{_context:{originalEvent:e,internalSet:!0,extraData:n},changed:!0})},_setActive:function(t,e,i){var s;if(null!=t){var n=t[0],l=this.GetKey(n);if(null==this.m_active||l!==this.m_active.key){var o={key:l,item:t};return null!=this.m_active&&(o.previousKey=this.m_active.key,o.previousItem=this.m_active.elem,this._shouldDragSelectedItems()&&this._isTouchSupport()&&this.m_dndContext._unsetDraggable(o.previousItem),this._removeSkipItemAriaLabel(o.previousItem)),!!this.Trigger("beforeCurrentItem",e,o)&&(null!=this.m_active&&this.m_active.elem&&this.m_active.elem.get(0).classList.remove("oj-listview-current-item"),s={key:l,elem:t},this.m_active=s,this._shouldDragSelectedItems()&&this._isTouchSupport()&&this.m_dndContext._setDraggable(t),t.get(0).classList.add("oj-listview-current-item"),void 0!==i&&i||(this._makeFocusable(t),this.HighlightActive(),(null==e||e.originalEvent&&"click"!==e.originalEvent.type)&&this._focusItem(t),this.RemoveRootElementTabIndex(),o.previousItem&&this._resetTabIndex(o.previousItem)),!0)}l===this.m_active.key&&(s={key:l,elem:t},this.m_active=s,void 0!==i&&i||(this._makeFocusable(t),this.RemoveRootElementTabIndex(),this._focusItem(t)))}else this.m_active=null;return!1},_focusItem:function(t){var e=this.getFocusItem(t).get(0);e&&e.focus()},HighlightActive:function(){if(null!=this.m_active&&this.getListContainer().hasClass("oj-focus-ancestor")){var t=this.m_active.elem;this._highlightElem(t,"oj-focus")}},UnhighlightActive:function(){null!=this.m_active&&this._unhighlightElem(this.m_active.elem,"oj-focus")},HandleClickActive:function(t,e){var s=null!=this.m_active?this.m_active.elem.get(0):null;null==s||i(s).hasClass(this.getItemStyleClass())||(s=s.firstElementChild),null!=e&&null!=s&&s!==e.target&&s.contains(e.target)||this.SetCurrentItem(t,e,!this.ShouldUseGridRole()||e.target!==t.get(0))},SetCurrentItem:function(t,e,i){this.ActiveAndFocus(t,e,i)&&this._setCurrentItemOption(this.GetKey(t[0]),e,t.get(0))},ActiveAndFocus:function(t,e,i){this._scrollToVisible(t[0]),this.UnhighlightActive();var s=this._setActive(t,e,i);return this.HighlightActive(),s},enforceSelectionRequired:function(){if(this._isSelectionEnabled()&&this._isSelectionRequired()){var t=this.GetOption("selection");(null==t||0===t.length&&!0!==t.inverted)&&this._selectFirstSelectableItem()}},_getFirstSelectableItem:function(){var t=this.element[0].querySelector(".oj-listview-cell-element[aria-selected]");return null==t?null:t.parentNode},_selectFirstSelectableItem:function(){var t=this._getFirstSelectableItem();if(t){var e=this.m_contentHandler.GetKey(t);if(null!=e){this._applySelection(t,e);var i=this.GetOption("selected");this._setSelectionOption(i.clear().add([e]),null,[t])}}},_isSelectionEnabled:function(){return"none"!==this.GetOption("selectionMode")},_isSelectionRequired:function(){return this.GetOption("selectionRequired")},_isMultipleSelection:function(){return"multiple"===this.GetOption("selectionMode")},IsSelectable:function(t){var e=this.getFocusItem(i(t)).get(0);return null==e?(u.log("The focusItem has an unexpected value of null.\nItem classlist: "+t.classList+"\nItem role: "+t.role),!1):e.hasAttribute("aria-selected")},_cloneSelection:function(t){var e=[];return t.forEach(function(t){e.push(t)}),e},_getLocalData:function(t){var e=this.getDataForVisibleItem({key:t});return null==e&&this.m_validatedSelectedKeyData&&(e=this.m_validatedSelectedKeyData.get(t)),e},_setSelectionOption:function(t,s,n,l){var o={key:null,data:null},a=d.KeySetUtils.toArray(t),r=this.GetOption("firstSelectedItem");null!=r&&(0===a.length&&null!=r.key||a[0]!==r.key&&!e.Object.compareValues(a[0],r.key)?(a.length>0&&(o={key:a[0],data:null!=l?l:this._getLocalData(a[0])}),this.SetOption("firstSelectedItem",o,{_context:{originalEvent:s,internalSet:!0},changed:!0})):void 0===r.data&&(null==l&&(l=this._getLocalData(a[0])),o={key:r.key,data:l},this.SetOption("firstSelectedItem",o,{_context:{originalEvent:null,internalSet:!0},changed:!0})));var h={items:this.ojContext._IsCustomElement()?n:i(null==n?{}:n)};this.SetOption("selected",t,{_context:{originalEvent:s,internalSet:!0,extraData:h},changed:!0}),this.SetOption("selection",a,{_context:{originalEvent:s,internalSet:!0,extraData:h},changed:!0})},_unhighlightSelection:function(){if(null!=this.m_keyElemMap){var t=this,e=this.GetOption("selected");if(e.isAddAll())for(var i=this._getItemsCache(),s=0;s<i.length;s++)t._unhighlightElem(i[s],"oj-selected");else e.values().forEach(function(e){var i=t.FindElementByKey(e);null!=i&&t._unhighlightElem(i,"oj-selected")})}},_highlightElem:function(t,e){this.HighlightUnhighlightElem(t,e,!0)},_unhighlightElem:function(t,e){this.HighlightUnhighlightElem(t,e,!1)},HighlightUnhighlightElem:function(t,e,s){var n=i(t);"oj-selected"===e&&this.getFocusItem(n).attr("aria-selected",s?"true":"false");var l=n.children("."+this.getGroupItemStyleClass());l.length>0&&(n=i(l[0])),"oj-focus"===e?s?"actionable"!==this.m_keyMode&&this._focusInHandler(n):this._focusOutHandler(n):s?n.addClass(e):n.removeClass(e)},HandleClickSelection:function(t,e){this._scrollToVisible(t[0]);var i=this._ctrlEquivalent(e),s=e.shiftKey,n=!0;return this._isMultipleSelection()?i||s?!i&&s?n=this._extendSelection(t,e):this._augmentSelectionAndFocus(t,e):n=this.SelectAndFocus(t,e):n=this.SelectAndFocus(t,e,i),n},_handleTouchSelection:function(t,e){var i=!0;return this._isMultipleSelection()?e.shiftKey?i=this._extendSelection(t,e):this._augmentSelectionAndFocus(t,e):i=this.SelectAndFocus(t,e,!0),i},_clearSelection:function(t,e){if(this._unhighlightSelection(),t)if(this._isSelectionRequired())this._selectFirstSelectableItem();else{var i=this.GetOption("selected");i=i.clear(),this._setSelectionOption(i,null,null)}this.m_selectionFrontier=void 0===e?null:e},SelectAndFocus:function(t,e,i){var s=this.GetKey(t[0]),n=this.GetOption("selected"),l=n.has(s);if(l&&n.values&&1===n.values().size&&this._isSelectionRequired())return!1;var o="redwood"===a.parseJSONFromFontFamily("oj-theme-json").behavior;return!l||!i&&o?(this._clearSelection(!1),this._augmentSelectionAndFocus(t,e,n.clear())):this._clearSelection(!0),!0},_extendSelection:function(t,e){return null!=this.m_active&&(this.m_selectionFrontier!==t&&(this._unhighlightElem(t,"oj-focus"),this._extendSelectionRange(this.m_active.elem,t,e),!0))},_extendSelectionRange:function(t,e,i,s){!0===s?this._clearSelection(!1,this.m_selectionFrontier):this._clearSelection(!1,e),this._highlightRange(t,e,i),this.HighlightActive(),this._scrollToVisible(e[0])},_highlightRange:function(t,e,i){var s,n,l=this.GetOption("selected").clear(),o=[],a=this._getItemsCache(),r=a.index(t),h=a.index(e);r>h?(s=h,n=r):(s=r,n=h);for(var c=s;c<=n;c++){var u=a[c];if(this.IsSelectable(u)){var d=this.m_contentHandler.GetKey(u);this._applySelection(u,d),l=l.add([d]),o.push(u)}}this._setSelectionOption(l,i,o)},_applySelection:function(t,e){null==this.m_keyElemMap&&(this.m_keyElemMap=this.m_contentHandler.createKeyMap()),this.m_keyElemMap.set(e,i(t).attr("id")),this._highlightElem(t,"oj-selected")},_augmentSelectionAndFocus:function(t,e,s){var n=t,l=this.GetKey(t[0]);null==s&&(s=this.GetOption("selected"));var o=null!=this.m_active?this.m_active.elem.get(0):null;(null==o||i(o).hasClass(this.getItemStyleClass())||(o=o.firstElementChild),null==e||null!=o&&o!==e.target&&o.contains(e.target))||(this.UnhighlightActive(),this._setActive(n,e)&&this._setCurrentItemOption(l,e,n.get(0)),this.HighlightActive());if(null!=(o=null!=this.m_active?this.m_active.elem.get(0):null)&&o===n.get(0)){if(s.has(l)){if(s.values&&1===s.values().size&&this._isSelectionRequired())return;this._unhighlightElem(t,"oj-selected"),s=s.delete([l])}else this.m_selectionFrontier=t,this._applySelection(t,l),s=s.add([l]);var a=[];s.values&&s.values().forEach(function(t){a.push(this.FindElementByKey(t))},this),this._setSelectionOption(s,e,a)}else null!=s&&0===s.values().size&&this._setSelectionOption(s,e,[])},ToggleSelection:function(t,e,i){var s=this.GetOption("selected"),n=this.m_active.elem,l=this.m_active.key;if(s.has(l)){if(i||1===s.values().size&&this._isSelectionRequired())return;this._unhighlightElem(n,"oj-selected"),0===(s=s.delete([l])).values().size&&(this.m_selectionFrontier=null)}else this.IsSelectable(n[0])&&(e||(this._clearSelection(!1),s=s.clear()),this.m_selectionFrontier=n,this._applySelection(n,l),s=s.add([l]));var o=[];s.values().forEach(function(t){o.push(this.FindElementByKey(t))},this),this._setSelectionOption(s,t,o)},isInputOrEditableContentElement:function(t){return(null!=t.nodeName.match(/^INPUT|SELECT|OPTION|TEXTAREA/)||"true"===t.getAttribute("contenteditable"))&&!t.readOnly},HandleSelectionOrActiveKeyDown:function(t){var e,s,n,l=!1;if(null==this.m_active||t.isDefaultPrevented())return!1;var o=t.key||t.keyCode,a=this.m_active.elem;if(this._isActionableMode()){if("Escape"===o||"Esc"===o||o===this.ESC_KEY||"F2"===o||o===this.F2_KEY)this._exitActionableMode(),this.HighlightActive(),this._focusItem(a),this._setTabIndex(a),l=!0;else if("Tab"===o||o===this.TAB_KEY){var r=this.getFocusItem(a).get(0);if(l=t.shiftKey?h.handleActionablePrevTab(t,r):h.handleActionableTab(t,r),!t.shiftKey&&l||t.shiftKey&&!l){var c=h.getFocusableElementsInNode(r)[0];c&&this._isExpandCollapseIcon(c)&&this._focusInHandler(i(c))}}}else"F2"===o||o===this.F2_KEY?(t.stopPropagation(),this._enterActionableMode(),(n=a.find("[data-first]")).length>0&&(n[0].focus(),this._isExpandCollapseIcon(n)&&this._focusInHandler(n),a.hasClass(this.getItemStyleClass())||(a=a.children("."+this.getGroupItemStyleClass()).first()),a.removeClass("oj-focus-highlight").addClass("oj-focus-previous-highlight"))):" "!==o&&"Spacebar"!==o&&o!==this.SPACE_KEY||!this._isSelectionEnabled()||this.isInputOrEditableContentElement(t.target)?"Enter"===o||o===this.ENTER_KEY?(this._isSelectionEnabled()&&this.ToggleSelection(t,!1,!0),this._fireActionEvent(a.get(0),t,!1)):this.IsArrowKey(o)?(e=this._ctrlEquivalent(t),s=t.shiftKey,e||(l=this.HandleArrowKeys(o,s&&this._isSelectionEnabled()&&this._isMultipleSelection(),t))):"Tab"!==o&&o!==this.TAB_KEY||(t.shiftKey?this._disableAllTabbableElementsBeforeItem(a):this._disableAllTabbableElementsAfterItem(a)):(e=this._ctrlEquivalent(t),(s=t.shiftKey)&&!e&&null!=this.m_selectionFrontier&&this._isMultipleSelection()?this.GetOption("selected").has(this.m_active.key)?this.ToggleSelection(t,!e&&s&&this._isMultipleSelection(),!1):this._extendSelectionRange(this.m_selectionFrontier,this.m_active.elem,t,!0):this.ToggleSelection(t,e&&!s&&this._isMultipleSelection(),!1),l=!0);return l},_isDisclosing:function(t){return!(!t||!this.m_disclosing)&&this.m_disclosing.indexOf(t)>-1},_setDisclosing:function(t,e){if(null!=t)if(null==this.m_disclosing&&(this.m_disclosing=[]),e)this.m_disclosing.push(t);else for(var i=this.m_disclosing.indexOf(t);i>-1;)this.m_disclosing.splice(i,1),i=this.m_disclosing.indexOf(t)},_getOptionDefaults:function(){return null==this.defaultOptions&&(this.defaultOptions=this.getStyleValues()),null==this.defaultOptions?(u.error("Cannot find oj-list-view option defaults, which might be caused by missing JET css file"),{}):this.defaultOptions},getAnimationEffect:function(t){var e=this._getOptionDefaults().animation;return null==e?null:e[t]},isExpandable:function(){return"none"!==this.GetOption("drillMode")},_isExpandAll:function(t){var e=this.GetOption("expanded");if("auto"===e){if(!this.isExpandable())return!0}else if("all"===e)return!0;return!!e.isAddAll&&(!this.isExpandable()&&e instanceof I||e.isAddAll()&&e.has(t))},expandKey:function(t,e,s,n,l){var o=this.FindElementByKey(t);null!=o&&this.ExpandItem(i(o),null,l,t,e,n,s)},_expand:function(t){var e=this.FindItem(t.target);null!=e&&e.length>0&&(this.SetCurrentItem(e,t),this.ExpandItem(e,t,!0,null,!0,!0,!0))},ExpandItem:function(t,e,i,s,n,l,o){if(this.GetState(t)===this.STATE_COLLAPSED&&(null==s&&(s=this.GetKey(t[0])),!i||!this._isDisclosing(s))){var a={item:t,key:s};if(o)if(!this.Trigger("beforeExpand",e,a)&&n)return;if(this.signalTaskStart("Expand item: "+s),i&&this._setDisclosing(s,!0),this.m_contentHandler.Expand(t,function(t){this._expandSuccess(t,i,e,a,l)}.bind(this)),this.m_items=null,null!=e&&e.stopPropagation(),!this.ojContext._IsCustomElement()&&null!=this._collapsedKeys){var r=this._collapsedKeys.indexOf(s);-1!==r&&this._collapsedKeys.splice(r,1)}this.signalTaskEnd()}},_expandSuccess:function(t,e,s,n,l){var o=this;this.signalTaskStart("Handle results from successful expand"),t.key=n.key;var a=this.AnimateExpand(i(t),e,s),r=t.parentNode;r=i(r),this.SetState(r,this.STATE_EXPANDED);var h=this.getCollapseIconStyleClass(),c=this.getExpandIconStyleClass(),u=this.getExpandingIconStyleClass(),d=this.getGroupItemStyleClass();r.children("."+d).find("."+h+", ."+u).removeClass(h).removeClass(u).addClass(c),l&&a.then(function(){if(o.ojContext._IsCustomElement()){var e=o.GetOption("expanded");if(o._isKeySet(e)&&!e.has(t.key)){var i=e.add([t.key]);o.SetOption("expanded",i,{_context:{originalEvent:s,internalSet:!0},changed:!0})}}o.Trigger("expand",s,n)}),a.then(function(){o.m_clientHeight=null,o.m_scrollHeight=null,o.signalTaskEnd()})},_adjustAncestorsMaxHeight:function(t,e){t.parentsUntil("ul.oj-component-initnode","ul."+this.getGroupStyleClass()).each(function(){var t=parseInt(i(this).css("maxHeight"),10);t>0&&i(this).css("maxHeight",t+e+"px")})},AnimateExpand:function(t,e,s){var n,o=0,a=this,r=new Promise(function(t){n=t});if(e){var h=t.get(0);h.setAttribute("data-oj-context",""),l.getContext(h).getBusyContext().whenReady().then(function(){a.isAvailable()&&(h.removeAttribute("data-oj-context"),a.signalTaskStart("Animate expand of group item"),t.css("maxHeight","100%"),t.children().each(function(){o+=i(this).outerHeight(!0)}),a._isNonWindowTouch()&&a._adjustAncestorsMaxHeight(t,o),t.css("maxHeight",o+"px"),a.signalTaskStart("Kick off expand animation"),a.StartAnimation(h,"expand").then(function(){a._handleExpandTransitionEnd(t,n)}),a.signalTaskEnd())})}else t.css("maxHeight",""),this.AnimateExpandComplete(t),n(null);return r},_handleExpandTransitionEnd:function(t,e){this._isNonWindowTouch()||t.css("maxHeight",""),this.AnimateExpandComplete(t),e(null),this.signalTaskEnd()},AnimateExpandComplete:function(t){t.removeClass(this.getGroupCollapseStyleClass()).addClass(this.getGroupExpandStyleClass()),this._setDisclosing(t[0].key,!1)},collapseKey:function(t,e,s,n){var l=this.FindElementByKey(t);null!=l&&this.CollapseItem(i(l),null,n,t,e,s)},_collapse:function(t){var e=this.FindItem(t.target);null!=e&&e.length>0&&(this.SetCurrentItem(e,t),this.CollapseItem(e,t,!0,null,!0,!0))},CollapseItem:function(t,e,i,s,n,l){var o=this;if(this.GetState(t)===this.STATE_EXPANDED&&(null==s&&(s=this.GetKey(t[0])),!i||!this._isDisclosing(s))){var a={item:t,key:s};if(!!this.Trigger("beforeCollapse",e,a)||!n){this.signalTaskStart("Collapse item: "+s),i&&this._setDisclosing(s,!0);var r=this.AnimateCollapse(t,s,i,e);this.SetState(t,this.STATE_COLLAPSED);var h=this.getCollapseIconStyleClass(),c=this.getExpandIconStyleClass();t.find("."+c).first().removeClass(c).addClass(h),this.m_items=null,null!=e&&e.stopPropagation(),l&&r.then(function(){if(null!=e&&o.ojContext._IsCustomElement()){var t=o.GetOption("expanded");if(o._isKeySet(t)){var i=t.delete([s]);o.SetOption("expanded",i,{_context:{originalEvent:e,internalSet:!0},changed:!0})}}o.Trigger("collapse",e,a)}),this.ojContext._IsCustomElement()||(null==this._collapsedKeys&&(this._collapsedKeys=[]),-1===this._collapsedKeys.indexOf(s)&&this._collapsedKeys.push(s)),r.then(function(){o.m_clientHeight=null,o.m_scrollHeight=null,o.signalTaskEnd()})}}},AnimateCollapse:function(t,e,s,n){var l,o=0,a=this,r="collapse",h=new Promise(function(t){l=t}),c=t.children("ul").first();if(c[0].key=e,s){this.signalTaskStart("Animate collapse"),c.children().each(function(){o+=i(this).outerHeight()}),c.css("maxHeight",o+"px");var u=this.getAnimationEffect(r);u.persist="all",this.signalTaskStart("Kick off collapse animation");var d=c.get(0);this.StartAnimation(d,r,u).then(function(){a._handleCollapseTransitionEnd(c,l)}),this.signalTaskEnd()}else c.css("maxHeight","0px"),this.AnimateCollapseComplete(c),l(null);return h},_handleCollapseTransitionEnd:function(t,e){this.AnimateCollapseComplete(t),e(null),this.signalTaskEnd()},AnimateCollapseComplete:function(t){t.removeClass(this.getGroupExpandStyleClass()).addClass(this.getGroupCollapseStyleClass()),null!=this.m_contentHandler&&this.m_contentHandler.Collapse(t),this._setDisclosing(t[0].key,!1)},getExpanded:function(){var t=[],e=this;return this._getItemsCache().each(function(){var s=i(this);e.GetState(s)===e.STATE_EXPANDED&&t.push(e.GetKey(s[0]))}),t},getWidgetConstructor:function(){return r.__GetWidgetConstructor(this.element)},GetContainerStyleClass:function(){return this._isNonWindowTouch()?"oj-listview oj-listview-container-touch":"oj-listview oj-listview-container"},GetStyleClass:function(){return"oj-listview-element"},getItemStyleClass:function(){return this.isCardDisplayMode()?"oj-listview-card":"oj-listview-item"},getNoDataCardStyleClass:function(){return"oj-listview-no-data-card"},getNoDataItemStyleClass:function(){return"oj-listview-no-data-item"},getNoDataCellElementStyleClass:function(){return"oj-listview-no-data-cell-element"},getItemLayoutStyleClass:function(){return this.isCardLayout()?null:"oj-listview-item-layout"},getFocusedElementStyleClass:function(){return"oj-listview-focused-element"},getItemElementStyleClass:function(){return"oj-listview-item-element"},getGroupItemStyleClass:function(t){return t&&this._isPinGroupHeader()&&this._isPositionStickySupported()?"oj-listview-group-item oj-sticky":"oj-listview-group-item"},getGroupStyleClass:function(){return this.isCardDisplayMode()?"oj-listview-card-group":"oj-listview-group"},getGroupExpandStyleClass:function(){return""},getGroupCollapseStyleClass:function(){return this.getGroupExpandStyleClass()},getCollapseIconStyleClass:function(){return"oj-listview-collapse-icon"},getExpandIconStyleClass:function(){return"oj-listview-expand-icon"},getExpandingIconStyleClass:function(){return"oj-listview-expanding-icon"},getEmptyTextStyleClass:function(){return"oj-listview-no-data-message"},getEmptyTextMarkerClass:function(){return"oj-listview-empty-text"},getDepthStyleClass:function(t){return""},getStyleValues:function(){const t={};return Object.entries(b._CSS_Vars).forEach(([e,i])=>{t[e]="animation"===e||"gridlines"===e?b.getComplexCSSVariable(i):a.getCachedCSSVarValues([i])[0]}),t},getLoadingStatusIconStyleClass:function(){return"oj-listview-loading-icon"},getStatusMessageStyleClass:function(){return"oj-listview-status-message"},getStatusStyleClass:function(){return"oj-listview-status"},_isPositionStickySupported:function(){return!h.isIE()&&!h.isEdge()},_preventMouseWheelOverscroll:function(t,e){var i=e.originalEvent.deltaY;if(!isNaN(i)&&void 0!==this.m_contentHandler.hasMoreToFetch){var s=t.scrollTop;if(i>0){var n=this._getScrollHeight();this.m_contentHandler.hasMoreToFetch()&&s+this._getClientHeight()+Math.abs(i)>=n&&(t.scrollTop=n,e.preventDefault())}else s>0&&s+i<=0&&(t.scrollTop=0,e.preventDefault())}},_getScrollEventElement:function(){var t=this._getScroller();return t===document.body||t===document.documentElement?window:t},_findClosestElementToTop:function(t,e,s){var n,l=e?this._getItemsCache():i(this._getRootNodeForItems()).children("li."+this.getItemElementStyleClass());if(null==l||0===l.length)return null;var o=this.GetOption("scrollPosition");if(Math.abs(o.y-t)<this.MINIMUM_ITEM_HEIGHT&&null!=o.key&&!isNaN(o.index))if(e){var a=this.FindElementByKey(o.key);null!=a&&(n=l.index(a))}else n=o.index;isNaN(n)&&(n=Math.floor(t/s)),n=Math.min(Math.max(n,0),l.length-1);var r,h=Math.max(t,0),c=l[n],u=h-(r=0===n?0:c.offsetTop),d={index:n,elem:c,offsetTop:r,offset:u};if(Math.abs(u)<1)return d;var m=u>0;m?n+=1:n-=1;for(var p=!1;!p&&n>=0&&n<l.length;){if(r=(c=l[n]).offsetTop,p=(u=Math.abs(h-r))<1||(m?h<=r:h>=r)){(u<1||!m)&&(d={index:n,elem:c,offsetTop:r,offset:u});break}m&&d.offsetTop===r||(d={index:n,elem:c,offsetTop:r,offset:u}),m?n+=1:n-=1}return p||(n=m?l.length-1:0,d.index=n,d.elem=l[n]),d},_getRootNodeForItems:function(){return this.isCardLayout()?this.element.get(0).firstElementChild.firstElementChild:this.element.get(0)},_getItemHeight:function(){var t;null==this.m_itemHeight&&(this.m_contentHandler.IsHierarchical()?(t=this.element.children("li."+this.getItemElementStyleClass()).first()).length>0&&(this.m_itemHeight=t.get(0).firstElementChild.offsetHeight):(t=i(this._getRootNodeForItems()).children("li."+this.getItemElementStyleClass()).first()).length>0&&(this.m_itemHeight=t.get(0).offsetHeight));return this.m_itemHeight},_getCurrentScrollPosition:function(t){var e={},s=this._getScroller();void 0===t&&(t=s.scrollTop),e.x=this._getScrollX(s),e.y=t;var n=this.m_contentHandler.IsHierarchical(),l=this._getItemHeight();if(!isNaN(l)&&l>0){var o=this._findClosestElementToTop(t,n,l);if(null!=o){var a=o.elem;if(n){var r,h=a.parentNode;h!==this.element.get(0)?(this.m_closestParent=h.parentNode,e.parent=this.GetKey(this.m_closestParent),r=this.m_closestParent.firstElementChild):r=o.elem.firstElementChild,e.key=this.GetKey(o.elem),e.index=i(h).children().index(a),r&&r.classList.contains("oj-sticky")&&(this.m_stuckHeader&&this.m_stuckHeader!==r&&this.m_stuckHeader.classList.remove("oj-stuck"),r.classList.add("oj-stuck"),this.m_stuckHeader=r)}else e.index=o.index,e.key=this.GetKey(o.elem);e.offsetY=Math.max(0,o.offset),e.offsetX=e.x}}return e},_getOffsetTop:function(t){var e=t.offsetTop;if(this.isCardLayout()&&this.m_contentHandler.getMargin){var i=this.m_contentHandler.getMargin();isNaN(i)||(e=Math.max(0,e-i))}var s=this.element.get(0).offsetTop;return isNaN(this.m_elementOffset)||this.m_elementOffset===s?e:Math.max(0,e-s)},_getScrollTopByIndex:function(t,e){var s;if(null!=e)null!=(s=this.FindElementByKey(e))&&(s=i(s).children("ul").first());else{if(0===t)return 0;s=this.element.get(0),this.isCardLayout()&&(s=s.firstElementChild.firstElementChild)}if(null!=s){var n=i(s).children("."+this.getItemElementStyleClass())[t];if(null!=n)return this._getOffsetTop(n)}if(this.m_contentHandler.hasMoreToFetch&&this.m_contentHandler.hasMoreToFetch())return this._getScrollHeight()},_getScrollTopByKey:function(t){var e=this.FindElementByKey(t);return null!=e?this._getOffsetTop(e):this.m_contentHandler.hasMoreToFetch&&this.m_contentHandler.hasMoreToFetch()?this._getScrollHeight():void 0},_getScrollCoordinates:function(t){var e,i=t.x,s=t.offsetX;isNaN(i)||isNaN(s)||(i+=s);var n=t.key;isNaN(e)&&null!=n&&(e=this._getScrollTopByKey(n));var l=t.parent,o=t.index;isNaN(e)&&!isNaN(o)&&(e=this._getScrollTopByIndex(o,l));var a=t.offsetY;return isNaN(e)||isNaN(a)||(e+=a),isNaN(e)&&!isNaN(t.y)&&(e=t.y),{x:i,y:e}},_isEmpty:function(){var t=this.element[0],e=t.querySelector("li."+this.getItemElementStyleClass()),i=t.querySelector("li.oj-listview-temp-item");return null==e&&null==i},_handleScroll:function(t){if(null!=this.m_contentHandler&&this.ShouldUseGridRole()&&!this._isEmpty()){var e=this._getScroller().scrollTop;this.ojContext._IsCustomElement()||this.SetOption("scrollTop",e,{_context:{originalEvent:t,internalSet:!0}}),this.ShouldUpdateScrollPosition()&&this.SetOption("scrollPosition",this._getCurrentScrollPosition(e),{_context:{originalEvent:t,internalSet:!0}}),this._handlePinGroupHeader()}},isLoadMoreOnScroll:function(){var t=this.GetOption("scrollPolicy");if("auto"===t){var i=this.GetOption("data");if(null!=i&&(void 0!==e.TableDataSource&&i instanceof e.TableDataSource||void 0!==e.TreeDataSource&&i instanceof e.TreeDataSource))return!1}return"loadAll"!==t},_unregisterScrollHandler:function(){var t=i(this._getScrollEventElement());return this._scrollListener&&t[0].removeEventListener("scroll",this._scrollListener),this.ojContext._IsCustomElement()?(t[0].removeEventListener("wheel",this._wheelListener,{passive:!1}),delete this._wheelListener):this.ojContext._off(t,"wheel"),t},_registerScrollHandler:function(){var t=this,e=this._unregisterScrollHandler();this._scrollListener=function(e){t._skipScrollUpdate||t.m_ticking||(window.requestAnimationFrame(function(){t._handleScroll(e),t.m_ticking=!1}),t.m_ticking=!0),u.info("scroll listener: "+t._skipScrollUpdate),t._skipScrollUpdate&&(u.info("clearing scrollPosBusyState"),t._clearScrollPosBusyState()),t._skipScrollUpdate=!1},e[0].addEventListener("scroll",this._scrollListener),this.isLoadMoreOnScroll()&&this._getScroller()!==document.documentElement&&(this._wheelListener=function(e){e.originalEvent||(e.originalEvent=e),t._preventMouseWheelOverscroll(t._getScroller(),e)},this._scrollElem=e,this.ojContext._IsCustomElement()?this._scrollElem[0].addEventListener("wheel",this._wheelListener,{passive:!1}):this.ojContext._on(this._scrollElem,{wheel:this._wheelListener}))},mergeScrollListener:function(){this._scrollListener&&this._getScrollEventElement().removeEventListener("scroll",this._scrollListener);return this._scrollListener},unmergeScrollListener:function(){if(this._scrollListener){var t=this._getScrollEventElement();t.removeEventListener("scroll",this._scrollListener),t.addEventListener("scroll",this._scrollListener)}},_isPinGroupHeader:function(){return"static"!==this.GetOption("groupHeaderPosition")&&this.m_contentHandler.IsHierarchical()},_getGroupItemsCache:function(){if(null==this.m_groupItems){var t="."+this.getGroupItemStyleClass()+":visible";this.m_groupItems=this.element.find(t).filter(function(){return!i(this).parent().hasClass("oj-collapsed")&&i(this).next().children().length>0})}return this.m_groupItems},_unpinGroupItem:function(t){i(t).removeClass("oj-pinned"),t.style.top="auto",t.style.width="auto"},_getNextGroupItem:function(t){var e=this._getGroupItemsCache(),i=e.index(t);return i>-1&&i<e.length-1?e[i+1]:null},_pinGroupItem:function(t,e){var s=t.offsetWidth,n=t.offsetHeight,l=this._getNextGroupItem(t);null!=l&&l.offsetTop<=e+n+5&&(e-=n),i(t).addClass("oj-pinned"),t.style.top=e+"px",t.style.width=s+"px"},_handlePinGroupHeader:function(){var t;if(this._isPinGroupHeader()&&!this._isPositionStickySupported()){var e=this._getScroller().scrollTop;if(null!=this.m_groupItemToPin&&0===e)return this._unpinGroupItem(this.m_groupItemToPin),void(this.m_groupItemToPin=null);var i=this._getGroupItemsCache(),s=0;null!=this.m_groupItemToPin&&(s=this.m_groupItemToPin.offsetHeight);for(var n=0;n<i.length;n++){var l=i[n];if(this.m_groupItemToPin!==l){var o=i[n].offsetTop,a=o+l.parentNode.offsetHeight;if(o<e&&a>e+s){t=l;break}}}if(null!=t&&t!==this.m_groupItemToPin)null!=this.m_groupItemToPin&&this._unpinGroupItem(this.m_groupItemToPin),this._pinGroupItem(t,e),this.m_groupItemToPin=t;else if(null!=this.m_groupItemToPin){var r=this._getNextGroupItem(this.m_groupItemToPin);if(null!=r&&r.offsetTop<=e+s)return void(this.m_groupItemToPin.style.top=r.offsetTop-s+"px");this.m_groupItemToPin.style.top=e+"px"}}},_getScroller:function(){if(null!=this.m_scroller)return this.m_scroller;var t,e=this.GetOption("scrollPolicyOptions");return null!=e&&null!=(t=e.scroller)&&("string"==typeof t&&null==(t=document.querySelector(t))&&u.error("the css selector string specified in scroller attribute does not resolve to any element"),null==t||t.contains(this.getListContainer()[0])||(u.error("the specified scroller must be an ancestor of the component"),t=null)),this.m_scroller=null!=t?t:this.getListContainer().get(0),this.m_scroller},_scrollToGroupHeader:function(t){var e=this._getScroller(),i=e.scrollTop;null!=this.m_groupItemToPin&&(this._unpinGroupItem(this.m_groupItemToPin),this.m_groupItemToPin=null);var s=t.offsetTop;this._isPinGroupHeader()&&this._isPositionStickySupported()&&s<i&&(s=Math.max(0,s-t.parentNode.offsetHeight+t.offsetHeight)),e.scrollTop=s,i===e.scrollTop&&this._handlePinGroupHeader(),this._setFirstFocusableItemInGroupCurrent(t)},_setFirstFocusableItemInGroupCurrent:function(t){var e=this;i(t).next().children().each(function(){var t=i(this);if(!e.SkipFocus(t))return e.SetOption("currentItem",this.key),!1})}});b._CSS_Vars={animation:{add:"--oj-private-list-view-global-add-animation-default",remove:"--oj-private-list-view-global-remove-animation-default",update:"--oj-private-list-view-global-update-animation-default",expand:"--oj-private-list-view-global-expand-animation-default",collapse:"--oj-private-list-view-global-collapse-animation-default",pointerUp:"--oj-private-list-view-global-pointerUp-animation-default",cardEntrance:"--oj-private-list-view-global-card-entrance-animation-default",cardExit:"--oj-private-list-view-global-card-exit-animation-default"},gridlines:{item:"--oj-private-list-view-global-gridlines-item-default",top:"--oj-private-list-view-global-gridlines-top-default",bottom:"--oj-private-list-view-global-gridlines-bottom-default"},loadIndicator:"--oj-private-list-view-global-load-indicator-default",showIndicatorDelay:"--oj-private-core-global-loading-indicator-delay-duration",cardAnimationDelay:"--oj-private-animation-global-card-entrance-delay-increment"},b.getComplexCSSVariable=function(t){const e={},i=Object.keys(t),s=i.map(e=>t[e]),n=a.getCachedCSSVarValues(s);return i.forEach((t,i)=>{const s=/^(\[|{)/.test(n[i])?JSON.parse(n[i]):n[i];e[t]=s}),e},e._registerLegacyNamespaceProp("_ojListView",b),e.__registerWidget("oj.ojListView",i.oj.baseComponent,{widgetEventPrefix:"oj",options:{as:"",currentItem:null,data:null,display:"list",dnd:{drag:null,drop:null,reorder:{items:"disabled"}},drillMode:"collapsible",expanded:new I,firstSelectedItem:{key:null,data:null},gridlines:{item:"visible"},groupHeaderPosition:"sticky",item:{focusable:!0,renderer:null,selectable:!0},scrollToKey:"auto",scrollPolicy:"auto",scrollPolicyOptions:{fetchSize:25,maxCount:500},scrollPosition:{x:0,y:0},scrollTop:0,selected:new d.KeySetImpl,selection:[],selectionMode:"none",selectionRequired:!1,animateStart:null,animateEnd:null,beforeCurrentItem:null,beforeExpand:null,beforeCollapse:null,collapse:null,copy:null,cut:null,expand:null,itemAction:null,paste:null,ready:null,reorder:null},_ComponentCreate:function(){this._super(),this._setup()},_setup:function(){var t={};(t.element=this.element,t.OuterWrapper=this.OuterWrapper,t.ojContext=this,this._IsCustomElement())||this.options.expanded instanceof I&&(this.options.expanded="auto");t=i.extend(this.options,t),this.listview=new b,this.listview.init(t),h.disableDefaultBrowserStyling(this.element[0])},_AfterCreate:function(){this._super();var t=this;this.listview._FixRendererContext=function(e){return t._FixRendererContext(e)},this.listview._WrapCustomElementRenderer=function(e){return t._WrapCustomElementRenderer(e)},this.listview._GetCustomElement=function(){return t._GetCustomElement()},this.listview.afterCreate()},_SetupResources:function(){this._super(),this.listview.setupResources()},_ReleaseResources:function(){this._super(),this.listview.releaseResources()},GetFocusElement:function(){return null!=this.listview?this.listview.GetFocusElement():this._super()},_destroy:function(){this.listview.destroy(),this._super()},_NotifyContextMenuGesture:function(t,e,i){this.listview.notifyContextMenuGesture(t,e,i)},_setOptions:function(t,e){if(this.listview.isAvailable()){var i=this.listview.setOptions(t,e);this._super(t,e),i?(t.data&&this.listview.adjustScrollPositionValueOnFetch(),this.listview.refresh()):(t.selectionRequired||t.selection||t.selectionMode)&&this.listview.enforceSelectionRequired()}else this._super(t,e)},_setOption:function(t,e,s){var n,l=!0;if("selectionMode"===t?l="none"===e||"single"===e||"multiple"===e:"drillMode"===t?l="collapsible"===e||"none"===e:"scrollPolicy"===t?l="auto"===e||"loadMoreOnScroll"===e||"loadAll"===e:"groupHeaderPosition"===t?l="static"===e||"sticky"===e:"firstSelectedItem"===t&&(l=!1),!l)throw new Error("Invalid value: "+e+" for key: "+t);this.listview.isAvailable()&&("selection"===t?(n=this.listview.getItems(e),s={_context:{extraData:{items:this._IsCustomElement()?n:i(n)}}}):"currentItem"===t&&(n=this.listview.getItems([e])[0],s={_context:{extraData:{items:this._IsCustomElement()?n:i(n)}}})),this._super(t,e,s)},_NotifyAttached:function(){this.listview.notifyAttached()},_NotifyDetached:function(){this.listview.notifyDetached()},_NotifyShown:function(){this.listview.notifyShown()},_VerifyConnectedForSetup:function(){return!0},widget:function(){return this.listview.GetRootElement()},refresh:function(){this._super(),this.listview.refresh()},whenReady:function(){return this.listview.whenReady()},getNodeBySubId:function(t){return this.listview.getNodeBySubId(t)},getSubIdByNode:function(t){return this.listview.getSubIdByNode(t)},getContextByNode:function(t){return this.listview.getContextByNode(t)},getDataForVisibleItem:function(t){return this.listview.getDataForVisibleItem(t)},expand:function(t,e){this.listview.expandKey(t,e,!0,!0)},collapse:function(t,e){this.listview.collapseKey(t,e,!0)},getExpanded:function(){return this.listview.getExpanded()},getIndexerModel:function(){return null==this.indexerModel&&v.ListViewIndexerModel&&(this.indexerModel=new v.ListViewIndexerModel(this.listview)),this.indexerModel},scrollToItem:function(t){this.listview.scrollToItem(t)},_CompareOptionValues:function(t,i,s){switch(t){case"currentItem":case"scrollPolicyOptions":return e.Object.compareValues(i,s);case"selection":return i&&void 0===i.inverted&&(i.inverted=!1),s&&void 0===s.inverted&&(s.inverted=!1),(!i||!s||i.inverted===s.inverted)&&e.Object.compareValues(i,s);default:return this._super(t,i,s)}}}),r.setDefaultOptions({ojListView:{gridlines:r.createDynamicPropertyGetter(function(){const t=b._CSS_Vars.gridlines;var e={gridlines:b.getComplexCSSVariable(t)};return null==e?(u.error("Cannot find oj-list-view option defaults, which might be caused by missing JET css file"),e={gridlines:{}}):null==e.gridlines&&(u.error("Cannot find gridlines default option, which might be caused by a mismatch between JET js and css files"),e={gridlines:{}}),{item:e.gridlines.item}})}})});
//# sourceMappingURL=ojlistview.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojlistitemlayout',["exports","preact/jsx-runtime","ojs/ojvcomponent","preact"],function(t,e,i,a){"use strict";var n=function(t,e,i,a){var n,l=arguments.length,o=l<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(o=(l<3?n(o):l>3?n(e,i,o):n(e,i))||o);return l>3&&o&&Object.defineProperty(e,i,o),o};t.ListItemLayout=class extends a.Component{constructor(){super(...arguments),this._hasContent=t=>Array.isArray(t)&&t.length>0||t}_getWrappedSlotContent(t,i,a){if(this._hasContent(t)){let n=0;return i&&i.length>0&&a?e.jsx("div",{class:i,tabIndex:n,children:t}):i&&i.length>0?e.jsx("div",{class:i,children:t}):a?e.jsx("div",{tabIndex:n,children:t}):e.jsx("div",{children:t})}return null}_getWrappedSlotContentWithClickThroughDisabled(t,i,a){if(this._hasContent(t)){let n=0;return i&&i.length>0&&a?e.jsx("div",{"data-oj-clickthrough":"disabled",class:i,tabIndex:n,children:t}):i&&i.length>0?e.jsx("div",{"data-oj-clickthrough":"disabled",class:i,children:t}):a?e.jsx("div",{"data-oj-clickthrough":"disabled",tabIndex:n,children:t}):e.jsx("div",{"data-oj-clickthrough":"disabled",children:t})}return null}render(t){const i=this._hasContent(t.metadata)||this._hasContent(t.action)||this._hasContent(t.trailing);let a="";this._hasContent(t.secondary)&&this._hasContent(t.tertiary)&&(a="oj-listitemlayout-tertiary");let n="oj-listitemlayout-leading";this._hasContent(t.selector)&&this._hasContent(t.leading)&&(n+=" oj-listitemlayout-start-padding");let l="oj-listitemlayout-quaternary",o="oj-listitemlayout-textslots";return(this._hasContent(t.selector)||this._hasContent(t.leading))&&(o+=" oj-listitemlayout-start-padding",l+=" oj-listitemlayout-start-padding"),e.jsxs("div",{class:"oj-listitemlayout-grid",children:[this._getWrappedSlotContent(t.selector,"oj-listitemlayout-selector",!1),this._getWrappedSlotContent(t.leading,n,!0),e.jsxs("div",{class:o,children:[this._getWrappedSlotContent(t.overline,null,!0),this._getWrappedSlotContent(t.children,null,!0),this._getWrappedSlotContent(t.secondary,null,!0),this._getWrappedSlotContent(t.tertiary,a,!0)]}),i?e.jsxs("div",{class:"oj-listitemlayout-extra",children:[this._getWrappedSlotContent(t.metadata,"oj-listitemlayout-metadata oj-listitemlayout-start-padding",!0),this._getWrappedSlotContent(t.trailing,"oj-listitemlayout-trailing oj-listitemlayout-image oj-listitemlayout-start-padding",!0),this._getWrappedSlotContentWithClickThroughDisabled(t.action,"oj-listitemlayout-action oj-listitemlayout-start-padding",!1)]}):null,this._getWrappedSlotContent(t.quaternary,l,!0),this._getWrappedSlotContentWithClickThroughDisabled(t.navigation,"oj-listitemlayout-navigation",!1)]})}},t.ListItemLayout._metadata={slots:{"":{},overline:{},selector:{},leading:{},secondary:{},tertiary:{},metadata:{},trailing:{},action:{},quaternary:{},navigation:{}}},t.ListItemLayout=n([i.customElement("oj-list-item-layout")],t.ListItemLayout),Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ojlistitemlayout.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojfilter-length',[],function(){"use strict";return class{constructor(t){if(this.options=t,!t.max)throw new Error("length filter's max option cannot be less than 1. max option is "+t.max);if(isNaN(t.max))throw new Error("length filter's max option is not a number. max option is "+t.max);if(null!==t.max&&t.max<1)throw new Error("length filter's max option cannot be less than 1. max option is "+t.max);t.countBy=void 0===t.countBy?"codePoint":t.countBy}filter(t,n){return this.calcLength(n)<=this.options.max?n:t.slice(0,this.options.max)}calcLength(t){const n=this.options.countBy;if(""==t||null==t||null==t)return 0;const o=t.length;let i,e=0;if("codePoint"===n){for(let n=0;n<o;n++)55296==(63488&t.charCodeAt(n))&&(e+=1);i=o-e/2}else i=o;return i}}});
//# sourceMappingURL=ojfilter-length.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojvalidator-regexp',["ojs/ojcore","ojs/ojtranslation","ojs/ojvalidator","ojs/ojvalidation-error"],function(t,o,e,a){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;const i=function(t){this.Init(t)};return t.Object.createSubclass(i,e,"oj.RegExpValidator"),i._BUNDLE_KEY_DETAIL="oj-validator.regExp.detail",i._BUNDLE_KEY_SUMMARY="oj-validator.regExp.summary",i.prototype.Init=function(t){i.superclass.Init.call(this),this._options=t},i.prototype.validate=function(t){var e,i,r,n=this._options&&this._options.pattern||"";if(null!=t&&""!==t){var s=t.toString(),l="^("+n+")$",p=s.match(l);if(null===p||p[0]!==s){this._options&&(r=this._options.messageSummary||null,e=this._options.messageDetail||null,i=this._options&&this._options.label||"");var u={label:i,pattern:n,value:s},_=r?o.applyParameters(r,u):o.getTranslatedString(this._getSummaryKey(),u),h=e?o.applyParameters(e,u):o.getTranslatedString(this._getDetailKey(),u);throw new a.ValidatorError(_,h)}}},i.prototype.getHint=function(){var t=null,e={};return this._options&&this._options.hint&&(e={pattern:this._options.pattern},t=o.applyParameters(this._options.hint,e)),t},i.prototype._getSummaryKey=function(){return i._BUNDLE_KEY_SUMMARY},i.prototype._getDetailKey=function(){return i._BUNDLE_KEY_DETAIL},i});
//# sourceMappingURL=ojvalidator-regexp.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojinputtext',["ojs/ojcore","jquery","ojs/ojthemeutils","ojs/ojeditablevalue","ojs/ojcore-base","ojs/ojdomutils","ojs/ojfilter-length","ojs/ojvalidator-regexp","ojs/ojcustomelement-utils"],function(e,t,i,n,s,r,a,o,l){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,s=s&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s,a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a,o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o,function(){var e={properties:{readonly:{binding:{consume:{name:"readonly"}}},userAssistanceDensity:{binding:{consume:{name:"userAssistanceDensity"}}},labelEdge:{binding:{consume:{name:"labelEdge"}}}}},t={properties:{asyncValidators:{type:"Array<Object>",value:[]},autocomplete:{type:"string",value:"on",extension:{_COPY_TO_INNER_ELEM:!0}},autofocus:{type:"boolean",value:!1,extension:{_COPY_TO_INNER_ELEM:!0}},describedBy:{type:"string"},disabled:{type:"boolean",value:!1},displayOptions:{type:"object",properties:{converterHint:{type:"Array<string>|string"},helpInstruction:{type:"Array<string>|string",value:["notewindow"]},messages:{type:"Array<string>|string"},validatorHint:{type:"Array<string>|string"}}},help:{type:"object",properties:{instruction:{type:"string",value:""}}},helpHints:{type:"object",properties:{definition:{type:"string",value:""},source:{type:"string",value:""}}},labelEdge:{type:"string",enumValues:["inside","none","provided"]},labelHint:{type:"string",value:""},labelledBy:{type:"string"},maskIcon:{type:"string",enumValues:["hidden","visible"],value:"hidden"},messagesCustom:{type:"Array<Object>",writeback:!0,value:[]},name:{type:"string",value:"",extension:{_COPY_TO_INNER_ELEM:!0}},placeholder:{type:"string"},rawValue:{type:"string",writeback:!0,readOnly:!0},readonly:{type:"boolean",value:!1},required:{type:"boolean",value:!1},translations:{type:"object",value:{},properties:{accessibleHidePassword:{type:"string"},accessibleMaxLengthExceeded:{type:"string"},accessibleMaxLengthRemaining:{type:"string"},accessibleShowPassword:{type:"string"},regexp:{type:"object",properties:{messageDetail:{type:"string"},messageSummary:{type:"string"}}},required:{type:"object",properties:{hint:{type:"string"},messageDetail:{type:"string"},messageSummary:{type:"string"}}}}},userAssistanceDensity:{type:"string",enumValues:["compact","efficient","reflow"],value:"reflow"},valid:{type:"string",writeback:!0,enumValues:["invalidHidden","invalidShown","pending","valid"],readOnly:!0},validators:{type:"Array<Object>",value:[]},value:{type:"string",writeback:!0}},methods:{getProperty:{},refresh:{},reset:{},setProperties:{},setProperty:{},showMessages:{},validate:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAnimateEnd:{},ojAnimateStart:{}},extension:{}};t.extension._WIDGET_NAME="ojInputPassword",t.extension._INNER_ELEM="input",t.extension._GLOBAL_TRANSFER_ATTRS=["accesskey","aria-label","tabindex"],t.extension._ALIASED_PROPS={readonly:"readOnly"},s.CustomElementBridge.register("oj-input-password",{metadata:s.CollectionUtils.mergeDeep(t,e)});var i={properties:{asyncValidators:{type:"Array<Object>",value:[]},autocomplete:{type:"string",value:"on",extension:{_COPY_TO_INNER_ELEM:!0}},autofocus:{type:"boolean",value:!1,extension:{_COPY_TO_INNER_ELEM:!0}},clearIcon:{type:"string",enumValues:["always","conditional","never"],value:"never"},converter:{type:"object"},describedBy:{type:"string"},disabled:{type:"boolean",value:!1},displayOptions:{type:"object",properties:{converterHint:{type:"Array<string>|string"},helpInstruction:{type:"Array<string>|string",value:["notewindow"]},messages:{type:"Array<string>|string"},validatorHint:{type:"Array<string>|string"}}},help:{type:"object",properties:{instruction:{type:"string",value:""}}},helpHints:{type:"object",properties:{definition:{type:"string",value:""},source:{type:"string",value:""}}},labelEdge:{type:"string",enumValues:["inside","none","provided"]},labelHint:{type:"string",value:""},labelledBy:{type:"string"},length:{type:"object",properties:{countBy:{type:"string",enumValues:["codePoint","codeUnit"],value:"codePoint"},max:{type:"number"}}},list:{type:"string",extension:{_COPY_TO_INNER_ELEM:!0}},messagesCustom:{type:"Array<Object>",writeback:!0,value:[]},name:{type:"string",value:"",extension:{_COPY_TO_INNER_ELEM:!0}},placeholder:{type:"string"},rawValue:{type:"string",writeback:!0,readOnly:!0},readonly:{type:"boolean",value:!1},required:{type:"boolean",value:!1},translations:{type:"object",value:{},properties:{accessibleClearIcon:{type:"string"},accessibleMaxLengthExceeded:{type:"string"},accessibleMaxLengthRemaining:{type:"string"},regexp:{type:"object",properties:{messageDetail:{type:"string"},messageSummary:{type:"string"}}},required:{type:"object",properties:{hint:{type:"string"},messageDetail:{type:"string"},messageSummary:{type:"string"}}}}},userAssistanceDensity:{type:"string",enumValues:["compact","efficient","reflow"],value:"reflow"},valid:{type:"string",writeback:!0,enumValues:["invalidHidden","invalidShown","pending","valid"],readOnly:!0},validators:{type:"Array<Object>",value:[]},value:{type:"any",writeback:!0},virtualKeyboard:{type:"string",enumValues:["auto","email","number","search","tel","text","url"],value:"auto"}},methods:{getProperty:{},refresh:{},reset:{},setProperties:{},setProperty:{},showMessages:{},validate:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAnimateEnd:{},ojAnimateStart:{}},extension:{}};i.extension._WIDGET_NAME="ojInputText",i.extension._INNER_ELEM="input",i.extension._GLOBAL_TRANSFER_ATTRS=["accesskey","aria-label","tabindex","autocapitalize"],i.extension._ALIASED_PROPS={readonly:"readOnly"},s.CustomElementBridge.register("oj-input-text",{metadata:s.CollectionUtils.mergeDeep(i,e)});var n={properties:{asyncValidators:{type:"Array<Object>",value:[]},autocomplete:{type:"string",value:"on",extension:{_COPY_TO_INNER_ELEM:!0}},autofocus:{type:"boolean",value:!1,extension:{_COPY_TO_INNER_ELEM:!0}},converter:{type:"object"},describedBy:{type:"string"},disabled:{type:"boolean",value:!1},displayOptions:{type:"object",properties:{converterHint:{type:"Array<string>|string"},helpInstruction:{type:"Array<string>|string",value:["notewindow"]},messages:{type:"Array<string>|string"},validatorHint:{type:"Array<string>|string"}}},help:{type:"object",properties:{instruction:{type:"string",value:""}}},helpHints:{type:"object",properties:{definition:{type:"string",value:""},source:{type:"string",value:""}}},labelEdge:{type:"string",enumValues:["inside","none","provided"]},labelHint:{type:"string",value:""},labelledBy:{type:"string"},length:{type:"object",properties:{countBy:{type:"string",enumValues:["codePoint","codeUnit"],value:"codePoint"},counter:{type:"string",enumValues:["none","remaining"],value:"none"},max:{type:"number"}}},maxRows:{type:"number",value:0},messagesCustom:{type:"Array<Object>",writeback:!0,value:[]},name:{type:"string",value:"",extension:{_COPY_TO_INNER_ELEM:!0}},placeholder:{type:"string"},rawValue:{type:"string",writeback:!0,readOnly:!0},readonly:{type:"boolean",value:!1},required:{type:"boolean",value:!1},resizeBehavior:{type:"string",enumValues:["both","horizontal","none","vertical"],value:"none"},rows:{type:"number",extension:{_COPY_TO_INNER_ELEM:!0}},translations:{type:"object",value:{},properties:{accessibleMaxLengthExceeded:{type:"string"},accessibleMaxLengthRemaining:{type:"string"},regexp:{type:"object",properties:{messageDetail:{type:"string"},messageSummary:{type:"string"}}},required:{type:"object",properties:{hint:{type:"string"},messageDetail:{type:"string"},messageSummary:{type:"string"}}}}},userAssistanceDensity:{type:"string",enumValues:["compact","efficient","reflow"],value:"reflow"},valid:{type:"string",writeback:!0,enumValues:["invalidHidden","invalidShown","pending","valid"],readOnly:!0},validators:{type:"Array<Object>",value:[]},value:{type:"any",writeback:!0}},methods:{getProperty:{},refresh:{},reset:{},setProperties:{},setProperty:{},showMessages:{},validate:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAnimateEnd:{},ojAnimateStart:{}},extension:{}};n.extension._WIDGET_NAME="ojTextArea",n.extension._INNER_ELEM="textarea",n.extension._GLOBAL_TRANSFER_ATTRS=["accesskey","aria-label","tabindex","autocapitalize"],n.extension._ALIASED_PROPS={readonly:"readOnly"},s.CustomElementBridge.register("oj-text-area",{metadata:s.CollectionUtils.mergeDeep(n,e)})}(),s.__registerWidget("oj.inputBase",t.oj.editableValue,{version:"1.0.0",widgetEventPrefix:"oj",_ATTR_CHECK:[],_CLASS_NAMES:"",_WIDGET_CLASS_NAMES:"",_ELEMENT_TRIGGER_WRAPPER_CLASS_NAMES:"",_GET_INIT_OPTIONS_PROPS_FOR_WIDGET:[{attribute:"disabled",validateOption:!0},{attribute:"pattern"},{attribute:"placeholder"},{attribute:"value"},{attribute:"readonly",option:"readOnly",validateOption:!0},{attribute:"required",coerceDomValue:!0,validateOption:!0},{attribute:"title"},{attribute:"spellcheck"}],_INPUT_HELPER_KEY:"",_BLUR_HANDLER_KEY:"blur",_KEYDOWN_HANDLER_KEY:"keydown",_KEYUP_HANDLER_KEY:"keyup",_COMPOSITIONSTART_HANDLER_KEY:"compositionstart",_COMPOSITIONEND_HANDLER_KEY:"compositionend",_INPUT_HANDLER_KEY:"input",_DROP_HANDLER_KEY:"drop",_CLICK_HANDLER_KEY:"click",_TEXT_FIELD_COUNTER_CLASS:"oj-text-field-counter",_TEXT_FIELD_HIDDEN_ARIA_LIVE_CLASS:"oj-text-field-hidden-aria-live",_TEXT_FIELD_MAX_LENGTH_REMAINING_KEY:"accessibleMaxLengthRemaining",_TEXT_FIELD_MAX_LENGTH_EXCEEDED_KEY:"accessibleMaxLengthExceeded",_counterSpanEl:null,_ariaLiveTimer:null,options:{asyncValidators:[],autocomplete:void 0,autofocus:!1,labelledBy:null,name:"",placeholder:"",rawValue:void 0,readOnly:!1,required:!1,validators:[]},_SaveAttributes:function(e){var t=this._superApply(arguments);return this._processAttrCheck(),t},_InitOptions:function(e,t){this._super(e,t),this._IsCustomElement()||n.EditableValueUtils.initializeOptionsFromDom(this._GET_INIT_OPTIONS_PROPS_FOR_WIDGET,t,this)},_ComponentCreate:function(){var e=this._superApply(arguments),i=this.options.readOnly;if(this._rtl="rtl"===this._GetReadingDirection(),this._isAndroidDevice=s.AgentUtils.getAgentInfo().os===s.AgentUtils.OS.ANDROID,"boolean"==typeof i&&this.element.prop("readonly",i),this._DoWrapElement()){var n,r;if(this.OuterWrapper?(n=this.OuterWrapper).className?n.className=n.className+" "+this._WIDGET_CLASS_NAMES:n.className=this._WIDGET_CLASS_NAMES:((n=document.createElement("div")).className=this._WIDGET_CLASS_NAMES,this.element[0].parentNode&&this.element[0].parentNode.insertBefore(n,this.element[0])),r=n,this._wrapper=t(n),this._DoWrapElementAndTriggers()){var o=this._CreateContainerWrapper();n.appendChild(o),r=o;var l=this._CreateMiddleWrapper();l&&(o.appendChild(l),r=l)}r.appendChild(this.element[0]),this._focusable({element:this._wrapper,applyHighlight:!0})}else this._focusable({element:this.element,applyHighlight:!0});return this._CLASS_NAMES&&(this.element.addClass(this._CLASS_NAMES),this.element.addClass("oj-text-field-input")),this._defaultRegExpValidator={},this._eventHandlers=null,this._hasMaxLength()&&(this.lengthFilter=new a(this.options.length)),e},_AfterCreate:function(){var e=this._superApply(arguments),i=this;if(this._refreshRequired(this.options.required),this._attachDetachEventHandlers(),this._AppendInputHelper(),this._AppendAriaLiveHelper(),t.each(["disabled","readOnly"],function(e,t){i.options[t]&&i._processOptions(t,i.options[t])}),this._IsCustomElement()){let e=this.options.labelledBy;this._initLabelledByForInputBase(e)}return this._hasMaxLength()&&this._processLengthCounterAttr(this.options.length.counter),e},_IsRequired:function(){return this.options.required},_AfterSetOptionRequired:n.EditableValueUtils._AfterSetOptionRequired,_AfterSetOptionValidators:n.EditableValueUtils._AfterSetOptionValidators,_AfterSetOptionAsyncValidators:n.EditableValueUtils._AfterSetOptionAsyncValidators,_AfterSetOptionConverter:n.EditableValueUtils._AfterSetOptionConverter,_ResetConverter:n.EditableValueUtils._ResetConverter,_GetConverter:n.EditableValueUtils._GetConverter,_GetNormalizedValidatorsFromOption:n.EditableValueUtils._GetNormalizedValidatorsFromOption,_GetNormalizedAsyncValidatorsFromOption:n.EditableValueUtils._GetNormalizedAsyncValidatorsFromOption,_SetDisplayValue:function(e){if(this._superApply(arguments),this.options.readOnly){let t=this._getReadonlyDiv();t&&(t.textContent=e)}},_createOrUpdateReadonlyDiv:n.EditableValueUtils._createOrUpdateReadonlyDiv,_processOptions:function(e,t){"disabled"===e&&this.element.prop("disabled",t),"readOnly"===e&&(this.element.prop("readonly",t),t&&this._createOrUpdateReadonlyDiv(this.element[0],this._DoWrapElement()&&this.OuterWrapper),this._refreshStateTheming("readOnly",t)),"disabled"!==e&&"readOnly"!==e||this._attachDetachEventHandlers()},_setOption:function(e,t,i){const n=this.options[e];var s=this._superApply(arguments);switch(e){case"disabled":case"readOnly":this._processOptions(e,t);break;case"pattern":this._defaultRegExpValidator.regexp=this._getImplicitRegExpValidator(),this._AfterSetOptionValidators();break;case"labelledBy":this._setLabelledByForInputBase(n,t)}return s},_AfterSetOption:function(e,t,i){switch(this._superApply(arguments),e){case"readOnly":this._AfterSetOptionDisabledReadOnly(e,n.EditableValueUtils.readOnlyOptionOptions);break;case"required":this._AfterSetOptionRequired(e);break;case"validators":this._AfterSetOptionValidators(e);break;case"asyncValidators":this._AfterSetOptionAsyncValidators(e);break;case"converter":this._AfterSetOptionConverter(e);break;case"length":this._AfterSetOptionLength(this.options.length)}},_hasMaxLength:function(){return this.options.length&&this.options.length.max&&!isNaN(this.options.length.max)},_setLabelledByForInputBase:function(e,t){if(t){const e=this._GetContentElement()[0].id;this._labelledByUpdatedForInputComp(t,e)}},_initLabelledByForInputBase:function(e){this._initInputIdLabelForConnection(this._GetContentElement()[0],this.widget()[0].id,e)},_filterTextOnValueChange:function(){if(this.options.length.max){var e=this.options.rawValue,t=this.options.value;this._filterTextAndSetValues(e,t,!0,!1)}},_destroy:function(){var e=this._superApply(arguments);return this.element.off("blur drop keydown keyup compositionstart compositionend input"),this._inputHelper&&this._inputHelper.remove(),this._DoWrapElement()&&!this._IsCustomElement()&&(this._DoWrapElementAndTriggers()?r.unwrap(this.element,this._wrapper):r.unwrap(this.element)),e},_SetLoading:function(){this._super(),this.element.prop("readonly",!0)},_ClearLoading:function(){this._super(),this.element.prop("readonly",this.options.readOnly)},_attachDetachEventHandlers:function(){if(this.options.readOnly||this.options.disabled){if(this._eventHandlers)for(var e=[this._BLUR_HANDLER_KEY,this._KEYDOWN_HANDLER_KEY,this._KEYUP_HANDLER_KEY,this._COMPOSITIONSTART_HANDLER_KEY,this._COMPOSITIONEND_HANDLER_KEY,this._INPUT_HANDLER_KEY,this._DROP_HANDLER_KEY],i=0,n=e.length;i<n;i++)this._eventHandlers[e[i]]&&(this.element.off(e[i],this._eventHandlers[e[i]]),delete this._eventHandlers[e[i]])}else{this._eventHandlers={};var s=t.proxy(this._onBlurHandler,this),r=t.proxy(this._onKeyDownHandler,this),a=t.proxy(this._onKeyUpHandler,this),o=t.proxy(this._onCompositionStartHandler,this),l=t.proxy(this._onCompositionEndHandler,this),p=t.proxy(this._onInputHandler,this),_=function(){this.focus()};this.element.on(this._BLUR_HANDLER_KEY,s),this.element.on(this._KEYDOWN_HANDLER_KEY,r),this.element.on(this._KEYUP_HANDLER_KEY,a),this.element.on(this._COMPOSITIONSTART_HANDLER_KEY,o),this.element.on(this._COMPOSITIONEND_HANDLER_KEY,l),this.element.on(this._INPUT_HANDLER_KEY,p),this.element.on(this._DROP_HANDLER_KEY,_),this._eventHandlers[this._BLUR_HANDLER_KEY]=s,this._eventHandlers[this._KEYDOWN_HANDLER_KEY]=r,this._eventHandlers[this._KEYUP_HANDLER_KEY]=a,this._eventHandlers[this._COMPOSITIONSTART_HANDLER_KEY]=o,this._eventHandlers[this._COMPOSITIONEND_HANDLER_KEY]=l,this._eventHandlers[this._INPUT_HANDLER_KEY]=p,this._eventHandlers[this._DROP_HANDLER_KEY]=_}},_OPTION_TO_CSS_MAPPING:{readOnly:"oj-read-only"},_processAttrCheck:function(){for(var e=this._ATTR_CHECK,t=0,i=e.length;t<i;t++){var n=e[t].attr;"setMandatory"in e[t]&&this.element.attr(n,e[t].setMandatory)}},_onBlurHandler:function(e){this._SetValue(this._GetDisplayValue(),e)},_onKeyDownHandler:function(e){},_onKeyUpHandler:function(e){e.keyCode===t.ui.keyCode.ENTER&&this._SetValue(this._GetDisplayValue(),e)},_onCompositionStartHandler:function(){this._isComposing=!0},_onCompositionEndHandler:function(e){this._isComposing=!1,this._SetRawValue(this._GetContentElement().val(),e),this._hasMaxLength()&&this._onInputHandler(e)},_onInputHandler:function(e){if(!this._isComposing||this._isAndroidDevice)if(this._hasMaxLength()){var t=this._GetContentElement().val();this._filterTextAndSetValues(t,t,!1,!0)}else this._SetRawValue(this._GetContentElement().val(),e)},_DoWrapElement:function(){return this._WIDGET_CLASS_NAMES},_DoWrapElementAndTriggers:function(){return this._ELEMENT_TRIGGER_WRAPPER_CLASS_NAMES},_CreateContainerWrapper:function(){var e=document.createElement("div");return e.setAttribute("role","presentation"),e.className=this._ELEMENT_TRIGGER_WRAPPER_CLASS_NAMES,e},_AppendInputHelper:function(){if(this._INPUT_HELPER_KEY&&this._DoWrapElement()){var e=this.element.attr("aria-describedby")||"",i=this._GetSubId(this._INPUT_HELPER_KEY);e+=" "+i,this.element.attr("aria-describedby",e),this._inputHelper=t("<div class='oj-helper-hidden-accessible' aria-hidden='true' id='"+i+"'>"+this._EscapeXSS(this.getTranslatedString(this._INPUT_HELPER_KEY))+"</div>"),this._AppendInputHelperParent().append(this._inputHelper)}},_AppendAriaLiveHelper:function(){var e=this._AppendInputHelperParent();if(this.options.length&&this.options.length.max){var t=document.createElement("div");t.classList.add("oj-helper-hidden-accessible"),t.classList.add(this._TEXT_FIELD_HIDDEN_ARIA_LIVE_CLASS);var i=document.createElement("div");i.setAttribute("aria-live","polite");var n=document.createElement("div");n.setAttribute("aria-live","assertive"),t.appendChild(i),t.appendChild(n),e[0].appendChild(t)}},_EscapeXSS:function(e){return t("<span>"+e+"</span>").text()},_AppendInputHelperParent:function(){return this.widget()},_GetImplicitValidators:function(){var e=this._superApply(arguments);if(this.options.pattern){var t=this._getImplicitRegExpValidator();this._defaultRegExpValidator.regexp=t}return Object.assign(this._defaultRegExpValidator,e)},_CanSetValue:function(){return!!this._super()&&!(this.options.readOnly||!1)},_refreshStateTheming:function(e,t){-1!==Object.keys(this._OPTION_TO_CSS_MAPPING).indexOf(e)&&this.widget().toggleClass(this._OPTION_TO_CSS_MAPPING[e],!!t)},_getImplicitRegExpValidator:function(){if(!this.options.pattern)return null;var e={pattern:this.options.pattern,label:this._getLabelText()};return t.extend(e,this.options.translations.regexp||{}),new o(e)},_GetAriaLabelElement:function(){return this.element[0]},_GetSubId:function(e){return this.uuid+"_"+e},_IsRTL:function(){return this._rtl},_IsTextFieldComponent:function(){return!0},_GetContentWrapper:function(){var e=this._GetContentElement()[0];if(!e.parentElement.classList.contains("oj-text-field-middle")){var t=document.createElement("DIV");t.classList.add("oj-text-field-middle"),e.parentElement.insertBefore(t,e),t.appendChild(e)}return e.parentElement},_resetLengthFilter:function(e){this.lengthFilter=new a(e)},_AfterSetOptionLength:function(e){var t;e.max&&(this._resetLengthFilter(e),t=this._GetContentWrapper().parentElement.parentNode.classList.contains("oj-complete")?this.element[0].value:this.options.value,this._filterTextAndSetValues(t,t,!0,!1));this._processLengthCounterAttr(e.counter)},_setFocusOnTextAreaBind:function(){this._setFocusOnTextArea=function(){this.element[0].focus()}.bind(this)},_processLengthCounterAttr:function(e){var t=this._GetContentWrapper().parentElement,i=t.querySelector("."+this._TEXT_FIELD_COUNTER_CLASS),n=t.parentNode.querySelector("."+this._TEXT_FIELD_HIDDEN_ARIA_LIVE_CLASS),s=this.lengthFilter?this.lengthFilter.calcLength(this.options.rawValue):-1,r="",a="";if("none"===e||null==e||0===this.options.length.max||this.options.disabled||this.options.readOnly)i&&(i.removeEventListener(this._CLICK_HANDLER_KEY,this._setFocusOnTextArea),t.removeChild(i)),this._counterSpanEl=null,-1===s||0===this.options.length.max||this.options.disabled||this.options.readOnly?a="":(r=this.options.length.max-s,a=this.getTranslatedString(this._TEXT_FIELD_MAX_LENGTH_REMAINING_KEY,{chars:r}));else{if(null===i){var o=document.createElement("div");o.className=this._TEXT_FIELD_COUNTER_CLASS,this._TEXTAREA_COUNTER_CONTAINER&&(o.className+=" "+this._TEXTAREA_COUNTER_CONTAINER),i=document.createElement("span"),this._INPUTTEXT_COUNTER_EL&&(i.className+=" "+this._INPUTTEXT_COUNTER_EL),this._TEXTAREA_COUNTER_EL&&(i.className+=" "+this._TEXTAREA_COUNTER_EL,this._setFocusOnTextAreaBind(),o.addEventListener(this._CLICK_HANDLER_KEY,this._setFocusOnTextArea)),o.appendChild(i),t.appendChild(o),this._counterSpanEl=i,this._counterSpanEl.textContent=""}-1!==s&&(r=this.options.length.max-s,a=this.getTranslatedString(this._TEXT_FIELD_MAX_LENGTH_REMAINING_KEY,{chars:r}))}this._counterSpanEl&&(this._counterSpanEl.textContent=r),n&&(this._ariaLiveTimer&&clearTimeout(this._ariaLiveTimer),this._ariaLiveTimer=setTimeout(()=>{n.children[0].textContent=a,this._ariaLiveTimer=null},500))},_filterTextAndSetValues(e,t,i,n){var s=this.lengthFilter.filter(e,t);this._SetRawValue(s,null),this._SetDisplayValue(s,null);var r=this._GetContentWrapper().parentElement.parentNode.querySelector("."+this._TEXT_FIELD_HIDDEN_ARIA_LIVE_CLASS);if(r){var a=r.children[1];(s?s.length:0)<(t?t.length:0)?(a.textContent="",a.textContent=this.getTranslatedString(this._TEXT_FIELD_MAX_LENGTH_EXCEEDED_KEY,{len:this.options.length.max})):this.lastFilteredText!==t&&(a.textContent="")}this.lastFilteredText=s,i&&this._SetValue(this.lastFilteredText),n&&this._processLengthCounterAttr(this.options.length.counter)},refresh:function(){var e=this._superApply(arguments);return this._rtl="rtl"===this._GetReadingDirection(),this._refreshRequired(this.options.required),e},_refreshRequired:n.EditableValueUtils._refreshRequired,_labelledByUpdatedForInputComp:n.EditableValueUtils._labelledByUpdatedForInputComp,_initInputIdLabelForConnection:n.EditableValueUtils._initInputIdLabelForConnection,_linkLabelForInputComp:n.EditableValueUtils._linkLabelForInputComp,_ValidateReturnBoolean:n.EditableValueUtils._ValidateReturnBoolean,_ValidateReturnPromise:n.EditableValueUtils._ValidateReturnPromise,getNodeBySubId:function(e){return this._super(e)},validate:n.EditableValueUtils.validate,_AriaRequiredUnsupported:function(){return!1},widget:function(){return this._DoWrapElement()?this._wrapper:this.element}},!0),s.__registerWidget("oj.ojInputPassword",t.oj.inputBase,{version:"1.0.0",defaultElement:"<input>",widgetEventPrefix:"oj",_ATTR_CHECK:[{attr:"type",setMandatory:"password"}],_CLASS_NAMES:"oj-inputpassword-input",_WIDGET_CLASS_NAMES:"oj-inputpassword oj-form-control oj-component",_INPUT_CONTAINER_CLASS:"oj-text-field-container",_MASK_ICON_SHOW_PASSWORD_LABEL_KEY:"accessibleShowPassword",_MASK_ICON_HIDE_PASSWORD_LABEL_KEY:"accessibleHidePassword",options:{converter:null,maskIcon:"hidden",pattern:"",value:void 0},_ComponentCreate:function(){var e=this._super();return this._processMaskVisibilityIcon(),e},_processMaskVisibilityIcon:function(){var e=this._GetContentWrapper().parentElement,i=this.element[0],n=e.querySelector("span.oj-text-field-end");if(this.options.disabled||this.options.readOnly)n&&(e.removeChild(n),i.type="password");else if(null===n){if("visible"===this.options.maskIcon){var s,r;(n=document.createElement("span")).className="oj-text-field-end",(r=document.createElement("a")).className="oj-component-icon oj-clickable-icon-nocontext",r.setAttribute("aria-label",this.getTranslatedString(this._MASK_ICON_SHOW_PASSWORD_LABEL_KEY)),r.role="button",r.setAttribute("target","_blank"),r.setAttribute("tabindex","0"),(s=document.createElement("span")).className="oj-inputpassword-show-password-icon",r.appendChild(s),n.appendChild(r),e.appendChild(n);var a=t(r);this._AddHoverable(a),this._AddActiveable(a),r.addEventListener(this._CLICK_HANDLER_KEY,this._onMaskVisibilityIconClickHandler.bind(this)),r.addEventListener(this._KEYDOWN_HANDLER_KEY,this._onMaskVisibilityIconKeyDownHandler.bind(this))}}else"visible"!==this.options.maskIcon&&(e.removeChild(n),i.type="password")},_onMaskVisibilityIconClickHandler:function(){var e=this.element[0],t=this._GetContentWrapper().parentElement.querySelector("a.oj-component-icon"),i=t.children[0];"password"===e.type?(e.type="text",i.classList.remove("oj-inputpassword-show-password-icon"),i.classList.add("oj-inputpassword-hide-password-icon"),t.setAttribute("aria-label",this.getTranslatedString(this._MASK_ICON_HIDE_PASSWORD_LABEL_KEY))):(e.type="password",i.classList.remove("oj-inputpassword-hide-password-icon"),i.classList.add("oj-inputpassword-show-password-icon"),t.setAttribute("aria-label",this.getTranslatedString(this._MASK_ICON_SHOW_PASSWORD_LABEL_KEY)))},_onMaskVisibilityIconKeyDownHandler:function(e){if(!e.altKey&&!e.ctrlKey){var i=t.ui.keyCode;switch(e.keyCode){case i.SPACE:case i.ENTER:this._onMaskVisibilityIconClickHandler()}}},_AfterSetOption:function(e,t){switch(this._super(e,t),e){case"disabled":case"readOnly":case"maskIcon":this._processMaskVisibilityIcon()}},_DoWrapElementAndTriggers:function(){return this._ELEMENT_TRIGGER_WRAPPER_CLASS_NAMES=this._INPUT_CONTAINER_CLASS,!0},_UseReadonlyDiv:function(){return!1},getNodeBySubId:function(e){var t=this._superApply(arguments);return t||"oj-inputpassword-input"===e.subId&&(t=this.element?this.element[0]:null),t||null},_GetDefaultStyleClass:function(){return"oj-inputpassword"}}),s.__registerWidget("oj.ojInputText",t.oj.inputBase,{version:"1.0.0",defaultElement:"<input>",widgetEventPrefix:"oj",_ATTR_CHECK:[{attr:"type",setMandatory:"text"}],_CLASS_NAMES:"oj-inputtext-input",_WIDGET_CLASS_NAMES:"oj-inputtext oj-form-control oj-component",_ALLOWED_TYPES:["email","number","search","tel","text","url"],_CLICK_HANDLER_KEY:"click",_INPUT_CONTAINER_CLASS:"oj-text-field-container",_INPUTTEXT_COUNTER_EL:"oj-inputtext-counter-el",_INPUTTEXT_CLEAR_ICON_KEY:"accessibleClearIcon",options:{clearIcon:"never",converter:null,list:"",pattern:"",virtualKeyboard:"auto",length:{max:null,countBy:"codePoint"}},_ComponentCreate:function(){var e=this._super(),t=this.options.clearIcon;return this._processClearIconAttr(t),this._processSlottedChildren(),this._AddHoverable(this._wrapper),this._SetInputType(this._ALLOWED_TYPES),e},_DoWrapElementAndTriggers:function(){return this._ELEMENT_TRIGGER_WRAPPER_CLASS_NAMES=this._INPUT_CONTAINER_CLASS,!0},_processClearIconAttr:function(e){var t=this._GetContentWrapper().parentElement,i=t.querySelector("a.oj-inputtext-clear-icon-btn");if("never"===e||this.options.disabled||this.options.readOnly)i&&t.removeChild(i),t.classList.remove("oj-inputtext-clearicon-visible"),t.classList.remove("oj-inputtext-clearicon-conditional");else{if(null===i){var n,r=s.AgentUtils.getAgentInfo();(i=document.createElement("a")).className="oj-inputtext-clear-icon-btn oj-component-icon oj-clickable-icon-nocontext",i.setAttribute("tabindex","-1"),i.setAttribute("title",this.getTranslatedString(this._INPUTTEXT_CLEAR_ICON_KEY)),r.os===s.AgentUtils.OS.ANDROID||r.os===s.AgentUtils.OS.IOS||r.os===s.AgentUtils.OS.WINDOWSPHONE?i.setAttribute("aria-label","Clear input"):i.setAttribute("aria-hidden","true"),i.setAttribute("target","_blank"),(n=document.createElement("span")).className="oj-inputtext-clear-icon",i.appendChild(n),t.appendChild(i),i.addEventListener(this._CLICK_HANDLER_KEY,this._onClearIconClickHandler.bind(this))}var a;if("always"===e)t.classList.add("oj-inputtext-clearicon-visible");else t.classList.remove("oj-inputtext-clearicon-visible"),t.classList.add("oj-inputtext-clearicon-conditional"),(a=t.classList.contains("oj-complete")?this.element[0].value:this.options.value)&&""!==a?t.classList.remove("oj-form-control-empty-clearicon"):t.classList.add("oj-form-control-empty-clearicon")}},_processSlottedChildren:function(){var e=l.CustomElementUtils.getSlotMap(this._getRootElement());!function(e){for(var t={contextMenu:!0,start:!0,end:!0,"":!0},i=Object.keys(e),n=i.length-1;n>-1;n--){var s=i[n];if(!t[s])for(var r=e[s],a=0;a<r.length;a++){var o=r[a];o.parentElement.removeChild(o)}}}(e);var t=this._GetContentWrapper(),i="start";e[i]&&function(e,t){var i=document.createElement("span"),n=e.parentElement;i.classList.add("oj-text-field-start"),n.insertBefore(i,e),n.classList.add("oj-text-field-has-start-slot");for(var s=0;s<t.length;s++){var r=t[s];i.appendChild(r)}}(t,e[i]),e[i="end"]&&function(e,t){var i=document.createElement("span"),n=e.parentElement;i.classList.add("oj-text-field-end"),n.appendChild(i),n.classList.add("oj-text-field-has-end-slot");for(var s=0;s<t.length;s++){var r=t[s];i.appendChild(r)}}(t,e[i])},_AfterSetOption:function(e,t){switch(this._super(e,t),e){case"clearIcon":case"disabled":case"readOnly":this._processClearIconAttr(this.options.clearIcon);break;case"virtualKeyboard":this._SetInputType(this._ALLOWED_TYPES);break;case"value":this._processClearIconAttr(this.options.clearIcon),this._filterTextOnValueChange(),this._AfterSetOptionLength(this.options.length)}},_onInputHandler:function(e){this._super(e);var t=e.target,i=this._GetContentWrapper().parentElement;"conditional"===this.options.clearIcon&&(""!==t.value?i.classList.remove("oj-form-control-empty-clearicon"):i.classList.add("oj-form-control-empty-clearicon"))},_onClearIconClickHandler:function(e){var t=this.element[0];t.value="",this._SetRawValue(t.value,e),t.focus(),this._GetContentWrapper().parentElement.classList.add("oj-form-control-empty-clearicon"),this._processLengthCounterAttr(this.options.length.counter)},_onBlurHandler:function(e){var t=this._wrapper[0],i=e.relatedTarget;i&&i.classList.contains("oj-inputtext-clear-icon-btn")&&i.parentElement&&r.isAncestorOrSelf(t,i.parentElement)?t.classList.add("oj-focus"):this._super(e)},getNodeBySubId:function(e){var t=this._superApply(arguments);return t||"oj-inputtext-input"===e.subId&&(t=this.element?this.element[0]:null),t||null},_GetDefaultStyleClass:function(){return"oj-inputtext"},_SetInputType:n.EditableValueUtils._SetInputType}),s.__registerWidget("oj.ojTextArea",t.oj.inputBase,{version:"1.0.0",defaultElement:"<textarea>",widgetEventPrefix:"oj",_ATTR_CHECK:[],_CLASS_NAMES:"oj-textarea-input",_WIDGET_CLASS_NAMES:"oj-textarea oj-form-control oj-component",_INPUT_CONTAINER_CLASS:"oj-text-field-container",_TEXTAREA_COUNTER_CONTAINER:"oj-textarea-counter-container",_TEXTAREA_COUNTER_EL:"oj-textarea-counter-el",_INPUT_HANDLER_KEY:"input",options:{converter:null,maxRows:0,pattern:"",resizeBehavior:"none",rows:void 0,length:{max:null,countBy:"codePoint",counter:"none"}},_AfterSetOption:function(e,t){if(this._super(e,t),"value"===e)this._filterTextOnValueChange(),this._AfterSetOptionLength(this.options.length)},_AfterCreate:function(){var e=this._superApply(arguments);return void 0===this.options.value&&this._SetDisplayValue(""),this.widget()[0].querySelector("."+this._INPUT_CONTAINER_CLASS).style.resize=this.options.resizeBehavior,this._setupResizeTextareaBind(),-1===this.options.maxRows&&this.widget()[0].classList.add("oj-maxrows-neg1"),e},_AfterCreateConverterCached:function(){var e=this._super(),t=this._GetContentElement()[0],i=this.options.maxRows;return!this._textAreaElementNotDisplayed()&&(-1===i||i>t.rows)&&(this._calculateLineHeight(t),this._resizeTextArea()),e},_setOption:function(e,t,i){var n=this._superApply(arguments);if("resizeBehavior"===e)this.widget()[0].querySelector("."+this._INPUT_CONTAINER_CLASS).style.resize=t;else if("value"===e){let e=this._textAreaElementNotDisplayed(),t=this.options.maxRows;!e&&(-1===t||t>this._GetContentElement()[0].rows)&&this._resizeTextArea()}return n},_NotifyAttached:function(){this._super();var e=this.options.maxRows;(-1===e||e>this._GetContentElement()[0].rows)&&this._resizeTextArea()},_onInputHandler:function(e){this._super(e);var t=this._GetContentElement()[0],i=this.options.maxRows;(-1===i||i>t.rows)&&this._resizeTextArea()},_resizeTextArea:function(){if(this._textAreaElementNotDisplayed()||void 0===this._lineHeight)return;const e=this.options.maxRows,t=this._GetContentElement()[0],i=t.rows;t.style.height=0;const n=this._getStylingHeight(t,"padding"),s=this._lineHeight*i+n,r=t.scrollHeight;var a=0;if(-1===e)a=r<s?s:r;else if(e>i){var o=this._lineHeight*e+n;a=r>o?o:r<s?s:r}else a=s;t.style.height=a+"px"},_setupResizeTextareaBind:function(){this._textAreaElementNotDisplayed()||(this._resizeTextareaBind=function(){var e=this._GetContentElement()[0],t=this.options.maxRows;(-1===t||t>e.rows)&&this._resizeTextArea()}.bind(this),window.addEventListener("resize",this._resizeTextareaBind,!1))},_getStylingHeight:function(e,t){var i=window.getComputedStyle(e),n=0;"padding"!==t&&"paddingAndBorder"!==t||(n+=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom));"border"!==t&&"paddingAndBorder"!==t||(n+=parseFloat(i.borderTopWidth)+parseFloat(i.borderBottomWidth));return n},_calculateLineHeight:function(e){if(!this._textAreaElementNotDisplayed()){var t=window.getComputedStyle(e);if("none"!==t.display){var i=t.lineHeight;if("normal"===i){var n=parseFloat(t.fontSize);this._lineHeight=1.2*n}else this._lineHeight=parseFloat(i)}}},_cleanUpListeners:function(){this._resizeTextareaBind&&window.removeEventListener("resize",this._resizeTextareaBind)},_ReleaseResources:function(){this._super(),this._cleanUpListeners()},getNodeBySubId:function(e){var t=this._superApply(arguments);return t||"oj-textarea-input"===e.subId&&(t=this.element?this.element[0]:null),t||null},_DoWrapElementAndTriggers:function(){return this._ELEMENT_TRIGGER_WRAPPER_CLASS_NAMES=this._INPUT_CONTAINER_CLASS,!0},_UseReadonlyDiv:function(){var e=this._super();return e?-1===this.options.maxRows:e},_GetDefaultStyleClass:function(){return"oj-textarea"},_GetTranslationsSectionName:function(){return"oj-inputBase"},_isConverAsync:function(){return this._GetConverter()instanceof Promise},_onKeyUpHandler:function(e){},_onKeyDownHandler:function(e){if((13===e.keyCode||"Enter"===e.key)&&e.altKey){var t=this._GetContentElement()[0],i=t.value,n=i.substring(0,t.selectionStart),s=i.substring(t.selectionEnd);t.value=n+"\r\n"+s;var r=t.value.length-s.length;t.setSelectionRange(r,r),t.blur(),t.focus();var a=this.options.maxRows;(-1===a||a>t.rows)&&this._resizeTextArea(),e.stopPropagation()}},_textAreaElementNotDisplayed:function(){return this._UseReadonlyDiv()&&this.options.readOnly&&-1===this.options.maxRows}})});
//# sourceMappingURL=ojinputtext.js.map;
define('@oracle/oraclejet-preact/hooks/UNSAFE_useFormVariantContext',['exports', 'preact', 'preact/hooks'], (function(e,t,n){"use strict";const o=t.createContext("default");e.FormVariantContext=o,e.useFormVariantContext=function(){return n.useContext(o)},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=UNSAFE_useFormVariantContext.js.map
;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojformlayout',["ojs/ojcore","ojs/ojcomponentcore","ojs/ojlabel","ojs/ojcore-base","ojs/ojdomutils","ojs/ojcontext","ojs/ojlogger","ojs/ojthemeutils","@oracle/oraclejet-preact/hooks/UNSAFE_useFormVariantContext"],function(e,t,n,i,o,a,l,r,s){"use strict";i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i,a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a;var d={properties:{colspanWrap:{type:"string",enumValues:["nowrap","wrap"]},columns:{type:"number",value:0},direction:{type:"string",enumValues:["column","row"]},labelEdge:{type:"string",enumValues:["inside","start","top"]},labelWidth:{type:"string",value:"33%"},labelWrapping:{type:"string",enumValues:["truncate","wrap"],value:"wrap"},maxColumns:{type:"number",value:1},readonly:{type:"boolean",value:!1},userAssistanceDensity:{type:"string",enumValues:["compact","efficient","reflow"],value:"efficient"}},methods:{getProperty:{},refresh:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},extension:{}};Object.freeze(d);var c=0;const u="oj-form-layout-option-defaults";function f(e){var t=this,n=e.element,s="-labelled-by",d="data-oj-formlayout-bonus-dom",f="["+d+"]";const m="data-oj-internal",p="data-oj-context",y="oj-enabled",h="oj-formlayout-labels-nowrap",b="OJ-FORM-LAYOUT";var v,g,j,C,x,w=!0,L=!1;ne(e),t._rootElementMutationObserver=new MutationObserver(function(e){document.body.contains(n)?(!function(e){for(var t=e.length,i=0;i<t;i++){var o=e[i];if("childList"===o.type)for(var a=o.addedNodes.length,l=0;l<a;l++){var r=o.addedNodes[l];r.parentNode===n&&j.appendChild(r)}}}(e),function(e){for(var t=!0,n=e.length,i=["colspan","label-hint"],o=0;o<n;o++){var a=e[o];if("childList"===a.type&&$(a.target)&&Q(a.target)){t=!1;break}if("attributes"===a.type&&i.includes(a.attributeName)){t=!1;break}}return t}(e)||(!function(e){for(var t=e.length,n=0;n<t;n++){var i=e[n];if("childList"===i.type)for(var o=i.removedNodes.length,a=0;a<o;a++){var l=i.removedNodes[a];1===l.nodeType&&(l.removeEventListener("labelHintChanged",F),l.removeEventListener("helpHintsChanged",D),l.removeEventListener("requiredChanged",H),l.removeEventListener("userAssistanceDensityChanged",M))}}}(e),n.refresh())):this.disconnect()}),t._resizeHandler=function(e,t){U()!==x&&n.refresh()},this.createDOM=function(){n.classList.add("oj-form-layout"),(j=document.createElement("div")).classList.add("oj-form"),j.setAttribute(p,""),j.setAttribute(m,""),j.setAttribute(d,""),n.readonly?j.classList.remove(y):j.classList.add(y);const e="oj-efficient";for("efficient"===n.userAssistanceDensity?j.classList.add(e):j.classList.remove(e);n.firstChild;)j.appendChild(n.firstChild);n.appendChild(j)};const E="data-oj-formlayout-workaround-dom",A=`:scope > [${E}]`;function O(e){n.columns<1&&"row"===n.direction&&o.addResizeListener(e,t._resizeHandler,25)}function N(){g&&(g(),g=null)}function S(){v&&(v(),v=null)}function B(e){return"inside"===n.labelEdge||"provided"!==e.labelEdge}function W(e){var t=null;return B(e)||e instanceof Element&&"labelHint"in e&&""!==e.labelHint&&(Z(e),t=function(e){let t=e.labelledBy;if(t){document.getElementById(t)&&l.error("The oj-form-layout descendent component with id "+e.id+' has both label-hint and labelled-by. Remove labelled-by="'+t+'" since no matching element was found in the document, and a label will be created using the label-hint.')}var n=document.createElement("oj-label");n.setAttribute(d,""),n.setAttribute(m,""),n.setAttribute("data-oj-binding-provider","none"),n.setAttribute(p,"");var i=document.createElement("span");i.id=e.id+"|hint",i.textContent=e.labelHint,te(e)&&_(e,n);return n.appendChild(i),function(e,t){var n=e,i=t;n.id=i.id+s,n.setAttribute("for",i.id)}(n,e),n}(e),e.parentElement.insertBefore(t,e),function(e){e.addEventListener("labelHintChanged",F),e.addEventListener("helpHintsChanged",D),e.addEventListener("requiredChanged",H),e.addEventListener("userAssistanceDensityChanged",M)}(e)),t}function F(e){var t=e.target,n=document.getElementById(t.id+"|hint");n&&(n.textContent=e.detail.value)}function D(e){var t=e.target,n=k(t);let i=e.detail.value;if(n){R(t)&&(n.help=i)}}function H(e){var t=e.target,n=k(t);if(n){let i;i=!!e.detail.value&&R(t),n.showRequired=i}}function M(e){let t=e.target,n=e.detail.value,i=e.detail.previousValue;if("compact"!==n&&"compact"!==i)return;let o=k(t);if(te(t))_(t,o);else{t.required&&(o.showRequired=!1);const e=t.helpHints;e&&(e.definition||e.source)&&(o.help={definition:null,source:null})}}function R(e){let t="use"===r.parseJSONFromFontFamily("oj-form-control-option-defaults").useUserAssistanceOptionDefault?e.userAssistanceDensity:"displayOptions";return"compact"===t||"displayOptions"===t}function k(e){return"labelledBy"in e?document.getElementById(e.labelledBy):n.querySelector('oj-label[for="'+e.id+'"]')}function _(e,t){var n=t,i=e.helpHints;let o;i&&(i.definition||i.source)&&(n.help=i),o=!!e.required&&R(e),n.showRequired=o}function I(){return"column"===n.direction||1===x}function T(e,t){if(!I()){for(var n,i=t.previousSibling;i&&1!==i.nodeType;)n=i,i=i.previousSibling;for(;n&&n!==t;)i=n.nextSibling,e.appendChild(n),n=i}}function V(e){if(!I())for(;e.nextSibling;){var t=e.nextSibling;if(1===t.nodeType)break;if(8===t.nodeType&&0===t.textContent.trim().indexOf("oj-bind-"))break;e.appendChild(t)}}function q(e,t){e&&V(e);var n=Y("oj-flex");return t.parentElement.insertBefore(n,t),T(n,n),n}function U(){let e=n.maxColumns;const t=n.columns;if(t>0)e=t,n.classList.add("oj-form-layout-no-min-column-width");else if(n.classList.remove("oj-form-layout-no-min-column-width"),"row"===n.direction&&!ee()){let t=parseFloat(window.getComputedStyle(j).columnWidth);if(!isNaN(t)){let i=parseFloat(window.getComputedStyle(n.parentElement).width),o=Math.max(Math.floor(i/t),1);o<e&&(e=o)}}return e}function G(e,t){var i=1;if("column"===n.direction)return"100%";e&&"colspan"in e&&e.colspan&&(i=Math.min(Math.floor(e.colspan),t));let o=r.parseJSONFromFontFamily(u).columnGap,a="calc(((100% / "+x+") - (("+o+" * ("+(x-1)+") / "+x+"))"+(ee()?" - 0.1px":"")+")";return i>1&&(a+=" * "+i+" + ("+o+" * "+(i-1)+")"),a+=")",a}function J(e,t){var n=Y("oj-flex-item");return n.style.flexGrow="0",n.style.flexShrink="1",n.style.flexBasis=t,n.style.width=t,n.style.maxWidth=t,e.appendChild(n),n}function z(e,t){var i=t%x,o=G();if("column"!==n.direction&&e&&i>0)for(var a=i;a<x;a++)a!==i&&P(e),J(e,o)}function P(e){var t=Y("oj-formlayout-column-gutter");e.appendChild(t)}function K(e,t,i,o){var a=G(e,o);T(i,e);var l=Y("oj-flex-item");if(i.appendChild(l),l.appendChild(e),t)if(l.style.flexGrow="1",l.style.flexShrink="1",l.style.flexBasis=a,l.style.width=a,l.style.maxWidth=a,t.tagName===b&&l.classList.add("oj-formlayout-nested-formlayout"),"start"===n.labelEdge){l.style.display="flex";let i=Y("oj-formlayout-inline-label"),o=Y("oj-formlayout-inline-value");i.style.flexGrow="0",i.style.flexShrink="0",i.style.flexBasis=n.labelWidth,i.style.width=n.labelWidth,i.style.maxWidth=n.labelWidth,i.appendChild(e),l.appendChild(i),o.style.flexGrow="1",o.style.flexShrink="1",o.style.flexBasis="calc(100% - "+n.labelWidth+")",o.style.width=o.style.flexBasis,o.style.maxWidth=o.style.flexBasis,o.appendChild(t),l.appendChild(o)}else l.appendChild(t);else if("labelHint"in e&&B(e))l.style.flexGrow="1",l.style.flexShrink="1",l.style.flexBasis=a,l.style.width=a,l.style.maxWidth=a,l.appendChild(e);else if(l.appendChild(e),l.style.flexGrow="1",l.style.flexShrink="1",l.style.flexBasis=a,l.style.width=a,l.style.maxWidth=a,l.classList.add("oj-formlayout-no-label-flex-item"),"OJ-LABEL-VALUE"===e.tagName){let t=r.parseJSONFromFontFamily(u).columnGap;l.classList.add("oj-formlayout-nested-labelvalue"),e.setAttribute("data-oj-colspan",o),e.setAttribute("data-oj-column-gap",t),e.refresh()}else e.tagName===b&&l.classList.add("oj-formlayout-nested-formlayout");V(i)}function Y(e){var t=document.createElement("div");return t.setAttribute(d,""),t.setAttribute(m,""),t.classList.add(e),t}function $(e){return e===n||e&&"DIV"===e.tagName&&e.hasAttribute(d)}function Q(e){for(var t=e,i=!0;t!==n;){if(t.tagName===b){i=!1;break}if(null==(t=t.parentElement)){i=!1;break}}return i}function X(e){for(;e.firstChild;){var t=e.firstChild;e.parentNode.insertBefore(t,e)}e.parentNode.removeChild(e)}function Z(e){var t=e;t.id||(t.id="oflId_"+c,c+=1)}function ee(){var e=i.AgentUtils.getAgentInfo();return"ie"===e.browser&&11===e.browserVersion}function te(e){let t=r.parseJSONFromFontFamily("oj-form-control-option-defaults"),n="displayOptions";if(t){n="use"===t.useUserAssistanceOptionDefault?e.userAssistanceDensity:"displayOptions"}return"compact"===n||"displayOptions"===n}function ne(e){var t=r.parseJSONFromFontFamily(u)||{};e?(e.props.labelEdge||(n.labelEdge=t.labelEdge),e.props.colspanWrap||(n.colspanWrap=t.colspanWrap),e.props.direction||(n.direction=t.direction)):(n.labelEdge||(n.labelEdge=t.labelEdge),n.colspanWrap||(n.colspanWrap=t.colspanWrap),n.direction||(n.direction=t.direction))}t.handlePropertyChanged=function(e,t){switch(e){case"readonly":return n.readonly?j.classList.remove(y):j.classList.add(y),!0;case"userAssistanceDensity":{const e="oj-efficient";return"efficient"===n.userAssistanceDensity?j.classList.add(e):j.classList.remove(e),!0}case"labelWrapping":return"truncate"===n.labelWrapping?j.classList.add(h):j.classList.remove(h),!0;default:return!1}},this.updateDOM=function(){function e(){!function(){if(!g){var e=a.getContext(n).getBusyContext(),t={description:"The oj-form-layout component with id = '"+n.id+"' is being rendered."};g=e.addBusyState(t)}}(),ne(),C=[],a.getContext(j).getBusyContext().whenReady().then(function(){var e,r=document.activeElement,s=!1;!function(){if(!v){var e=a.getContext(j).getBusyContext(),t={description:"The oj-form div for oj-form-layout component with id = '"+n.id+"' is being rendered."};v=e.addBusyState(t)}}(),t._rootElementMutationObserver.disconnect(),(e=j)&&t._resizeHandler&&o.removeResizeListener(e,t._resizeHandler),function(){const e=j.querySelector(A);e&&j.removeChild(e)}(),function(){var e;if("start"===n.labelEdge){var t=parseInt(n.labelWidth,10);(isNaN(t)||t>0)&&j.classList.add("oj-form-cols-labels-inline"),n.classList.add("oj-formlayout-labels-inline"),j.classList.remove("oj-form-cols")}else j.classList.add("oj-form-cols"),j.classList.remove("oj-form-cols-labels-inline"),n.classList.remove("oj-formlayout-labels-inline");"truncate"===n.labelWrapping?j.classList.add(h):j.classList.remove(h);let i=x;if((x=U())!==i){var o="oj-formlayout-max-cols-"+x,a=n.className;-1!==a.indexOf("oj-formlayout-max-cols-")?n.className=a.replace(/oj-formlayout-max-cols-[\d+]/,o):n.classList.add(o)}"row"===n.direction?(e=1,j.classList.add("oj-formlayout-form-across")):(e=x,j.classList.remove("oj-formlayout-form-across"));j.style.columnCount=e,j.style.webkitColumnCount=e,j.style.MozColumnCount=e}(),w||function(){for(var e=j.querySelectorAll(f),t=e.length,n=0;n<t;++n){var i=e[n];Q(i)&&("OJ-LABEL"===i.tagName?(i.for="",i.parentElement.removeChild(i)):X(i))}}(),function(){var e=j.firstElementChild,t=0,i="column"===n.direction;for(;e;){var o=e.tagName.toLowerCase();if(-1!==o.indexOf("-"))if("oj-label"===o){var a=e;if(!(e=e.nextElementSibling))throw Z(n),Z(a),S(),N(),new Error("oj-form-layout component with id='"+n.id+"' has an oj-label child element with id='"+a.id+"' but has no next sibling element that it is associated with.")}else"oj-label-value"===o?w||e.refresh():e.classList.contains("oj-complete")?W(e):((i||t%x==0)&&e.setAttribute("data-oj-needs-oj-flex-div",""),C.push(e));t+=1,e=e.nextElementSibling}}(),function(){var e,t=[],i=j.children.length,o="column"===n.direction,a=0,r=0;!function(e,t){for(var n=t,i=e.length-1;i>=0;i--)n[i]=e[i]}(j.children,t);var s,d=0,c=!1,u=!1;for(;a<i;){var f=t[a];if(s=1,(o||r%x==0)&&(e=q(e,f)),-1===C.indexOf(f))if("oj-label"===f.tagName.toLowerCase())K(f,t[a+=1],e);else if("labelHint"in f&&B(f))K(f,null,e);else{if("colspan"in f&&f.colspan>1)if(o)c||(l.error('Colspan attribute is ignored unless direction is set to "row"'),c=!0);else{var m=x-d;s=Math.floor(f.colspan),"wrap"===n.colspanWrap&&m<s&&d>0?(z(e,r),r+=m,s=Math.min(s,x),e=q(e,f)):s=Math.min(s,m),!u&&x>1&&(u=!0)}K(f,null,e,s)}r+=s,o||r%x==0||P(e),d=r%x,a+=1}u&&!o?j.classList.add("oj-form-control-full-width"):j.classList.remove("oj-form-control-full-width");z(e,r)}(),i.Components&&i.Components.subtreeAttached(j),r&&(s=o.isAncestorOrSelf(n,r)),s&&setTimeout(function(){r.focus()},0),O(j),function(){const e=document.createElement("div");e.style.display="table",e.style.visibility="hidden",e.setAttribute(E,""),j.appendChild(e)}(),t._rootElementMutationObserver.observe(n,{childList:!0,subtree:!0,attributes:!0}),w&&(w=!1),S(),N()})}var r;L||(!(w||!n.hasAttribute(p))&&!(r=a.getContext(n).getBusyContext()).isReady()?(L=!0,r.whenReady().then(function(){L=!1,e()})):e())}}f.getDynamicDefaults=function(){var e=r.parseJSONFromFontFamily(u)||{};return{labelEdge:e.labelEdge,direction:e.direction}},d.extension._CONSTRUCTOR=f,d.extension._TRACK_CHILDREN="nearestCustomElement",d.extension._BINDING={provide:new Map([[s.FormVariantContext,"default"]])},i.CustomElementBridge.register("oj-form-layout",{metadata:i.CollectionUtils.mergeDeep(d,{properties:{readonly:{binding:{provide:[{name:"containerReadonly",default:!1},{name:"readonly"}],consume:{name:"containerReadonly"}}},userAssistanceDensity:{binding:{provide:[{name:"containerUserAssistanceDensity",default:"efficient"},{name:"userAssistanceDensity",default:"efficient"}],consume:{name:"containerUserAssistanceDensity"}}},labelEdge:{binding:{provide:[{name:"containerLabelEdge"},{name:"labelEdge",transform:{top:"provided",start:"provided"}}],consume:{name:"containerLabelEdge"}}},labelWidth:{binding:{provide:[{name:"labelWidth"}]}},labelWrapping:{binding:{provide:[{name:"labelWrapping"}]}}}})})});
//# sourceMappingURL=ojformlayout.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojvalidationgroup',["ojs/ojcore-base","ojs/ojcustomelement-utils","ojs/ojcontext","ojs/ojlogger","ojs/ojcomponentcore"],function(e,n,t,o,i){"use strict";function r(e){var r,a="@firstInvalidShown",d=this,s=e.element,l=[];function u(){l=[],p(s),e.props.valid=g();for(var n=l.length,t=0;t<n;t++)v(l[t])}function v(e){e.addEventListener("validChanged",c.bind(this)),e.addEventListener("disabledChanged",h.bind(this)),e.addEventListener("readonlyChanged",h.bind(this))}function f(e){e.removeEventListener("validChanged",c),e.removeEventListener("disabledChanged",h),e.removeEventListener("readonlyChanged",h)}function c(){e.props.valid=g()}function h(n){var t=n.target,o=t.valid,i=!(t.readonly||t.disabled);"valid"===o||(e.props.valid=i&&"invalidShown"===o?"invalidShown":g())}function g(){for(var e="valid",n=l.length,t=0;t<n&&"invalidShown"!==e;t++){var o=l[t];if(C(o)){var i=o.valid,r=o.disabled,a=o.readonly;r||a||("invalidShown"===i?e="invalidShown":"invalidHidden"===i?e="invalidHidden":"pending"===i&&"valid"===e&&(e="pending"))}}return e}function p(e){var n,t=[],o=e.childNodes,i=o.length;for(n=0;n<i;n++){var r=o[n];m(r)?l.push(r):t.push(r)}for(i=t.length,n=0;n<i;n++)p(t[n])}function m(e){if(1===e.nodeType&&-1!==e.tagName.indexOf("-")&&"valid"in e&&(C(e)&&void 0!==e.valid))return!0;return!1}function y(e,n){var t=n.length;if(m(e))return!0;for(var o=0;o<t;o++)if(m(n[o]))return!0;return!1}function O(e){var n=l.length;if(1!==e.nodeType)return!1;for(var t=0;t<n;t++){if(l[t].contains(e))return!0}return!1}function b(e){for(var n=l.length,t=0;t<e.length;t++){var o=e[t];if(1===o.nodeType){if(-1!==l.indexOf(o))return!0;for(var i=0;i<n;i++)if(o.contains(l[i]))return!0}}return!1}function C(e){var t,o=n.CustomElementUtils.getElementBridge(e);if(!o)return!0;var r=o._WIDGET_ELEM;return void 0!==r&&(t=i.__GetWidgetConstructor(r)),!(void 0!==r&&!t)}d._rootElementMutationObserver=new MutationObserver(function(e){if(document.body.contains(s)){for(var n=e.length,t=!1,o=0;o<n&&!t;o++){var i=e[o],r=i.target,a=i.removedNodes,d=i.addedNodes;if(!(t=b(a))&&d.length>0)!O(r)&&y(r,d)&&(t=!0)}t&&(!function(e){for(var n=e.length,t=0;t<n;t++)for(var o=e[t],i=o.removedNodes.length,r=0;r<i;r++){var a=o.removedNodes[r];1===a.nodeType&&f(a)}}(e),u())}else this.disconnect()}),d.createDOM=function(){for(s.classList.add("oj-validation-group"),(r=document.createElement("div")).setAttribute("data-oj-context","");s.firstChild;)r.appendChild(s.firstChild);s.appendChild(r)},d.updateDOM=function(){var e=t.getContext(r).getBusyContext();let n=t.getContext(s).getBusyContext().addBusyState({description:`oj-validation-group#${s.id} initial valid state`});e.whenReady().then(function(){for(var e=l.length,n=0;n<e;n++)f(l[n]);u(),d._rootElementMutationObserver.observe(s,{childList:!0,subtree:!0})}).finally(n)},d.handlePropertyChanged=function(e,n){return!0},d.showMessages=function(){for(var e=0;e<l.length;e++){var n=l[e];n.disabled||n.readonly||"showMessages"in n&&n.showMessages()}},d.focusOn=function(e){var n=null,t=null;e===a?(t=function(){var e=[];if("invalidShown"!==s.valid)return null;for(var n=l.length,t=0;t<n;t++){var o=l[t];o.disabled||o.readonly||"invalidShown"===o.valid&&e.push(o)}if(0===e.length)return null;return e.sort(function(e,n){return e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1}),e[0]}())&&("focusOn"in t?t.focusOn(a):t.focus()):void 0===e?(n=function(){for(var e=null,n=l.length,t=0;t<n;t++)if(!(e=l[t]).readonly&&!e.disabled)return e;return null}())&&("focusOn"in n?n.focusOn():n.focus()):o.info("focusOn's parameter value is not '@firstInvalidShown' or empty, so it's a no-op.")}}var a;e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,(a={properties:{valid:{type:"string",writeback:!0,enumValues:["invalidHidden","invalidShown","pending","valid"],readOnly:!0}},methods:{focusOn:{},getProperty:{},setProperties:{},setProperty:{},showMessages:{},getNodeBySubId:{},getSubIdByNode:{}},extension:{}}).extension._CONSTRUCTOR=r,a.extension._TRACK_CHILDREN="nearestCustomElement",Object.freeze(a),e.CustomElementBridge.register("oj-validation-group",{metadata:a})});
//# sourceMappingURL=ojvalidationgroup.js.map;
/*! For license information please see browser.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define('@cityofzion/neon-core',[],e):"object"==typeof exports?exports.NeonCore=e():t.NeonCore=e()}(self,(()=>(()=>{var t={3525:(t,e)=>{"use strict";function r(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function n(t){if("boolean"!=typeof t)throw new Error(`Expected boolean, not ${t}`)}function i(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function o(t){if("function"!=typeof t||"function"!=typeof t.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");r(t.outputLen),r(t.blockLen)}function s(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function a(t,e){i(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Object.defineProperty(e,"__esModule",{value:!0}),e.output=e.exists=e.hash=e.bytes=e.bool=e.number=void 0,e.number=r,e.bool=n,e.bytes=i,e.hash=o,e.exists=s,e.output=a;const u={number:r,bool:n,bytes:i,hash:o,exists:s,output:a};e.default=u},9350:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SHA2=void 0;const n=r(3525),i=r(64);class o extends i.Hash{constructor(t,e,r,n){super(),this.blockLen=t,this.outputLen=e,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=(0,i.createView)(this.buffer)}update(t){n.default.exists(this);const{view:e,buffer:r,blockLen:o}=this,s=(t=(0,i.toBytes)(t)).length;for(let n=0;n<s;){const a=Math.min(o-this.pos,s-n);if(a!==o)r.set(t.subarray(n,n+a),this.pos),this.pos+=a,n+=a,this.pos===o&&(this.process(e,0),this.pos=0);else{const e=(0,i.createView)(t);for(;o<=s-n;n+=o)this.process(e,n)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){n.default.exists(this),n.default.output(t,this),this.finished=!0;const{buffer:e,view:r,blockLen:o,isLE:s}=this;let{pos:a}=this;e[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>o-a&&(this.process(r,0),a=0);for(let t=a;t<o;t++)e[t]=0;!function(t,e,r,n){if("function"==typeof t.setBigUint64)return t.setBigUint64(e,r,n);const i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),u=n?4:0,f=n?0:4;t.setUint32(e+u,s,n),t.setUint32(e+f,a,n)}(r,o-8,BigInt(8*this.length),s),this.process(r,0);const u=(0,i.createView)(t),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=f/4,h=this.get();if(c>h.length)throw new Error("_sha2: outputLen bigger than state");for(let t=0;t<c;t++)u.setUint32(4*t,h[t],s)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const r=t.slice(0,e);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:r,length:n,finished:i,destroyed:o,pos:s}=this;return t.length=n,t.pos=s,t.finished=i,t.destroyed=o,n%e&&t.buffer.set(r),t}}e.SHA2=o},825:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.crypto=void 0,e.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},1377:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hmac=void 0;const n=r(3525),i=r(64);class o extends i.Hash{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,n.default.hash(t);const r=(0,i.toBytes)(e);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,s=new Uint8Array(o);s.set(r.length>o?t.create().update(r).digest():r);for(let t=0;t<s.length;t++)s[t]^=54;this.iHash.update(s),this.oHash=t.create();for(let t=0;t<s.length;t++)s[t]^=106;this.oHash.update(s),s.fill(0)}update(t){return n.default.exists(this),this.iHash.update(t),this}digestInto(t){n.default.exists(this),n.default.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:r,finished:n,destroyed:i,blockLen:o,outputLen:s}=this;return t.finished=n,t.destroyed=i,t.blockLen=o,t.outputLen=s,t.oHash=e._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}e.hmac=(t,e,r)=>new o(t,e).update(r).digest(),e.hmac.create=(t,e)=>new o(t,e)},9179:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pbkdf2Async=e.pbkdf2=void 0;const n=r(3525),i=r(1377),o=r(64);function s(t,e,r,s){n.default.hash(t);const a=(0,o.checkOpts)({dkLen:32,asyncTick:10},s),{c:u,dkLen:f,asyncTick:c}=a;if(n.default.number(u),n.default.number(f),n.default.number(c),u<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const h=(0,o.toBytes)(e),d=(0,o.toBytes)(r),l=new Uint8Array(f),p=i.hmac.create(t,h),b=p._cloneInto().update(d);return{c:u,dkLen:f,asyncTick:c,DK:l,PRF:p,PRFSalt:b}}function a(t,e,r,n,i){return t.destroy(),e.destroy(),n&&n.destroy(),i.fill(0),r}e.pbkdf2=function(t,e,r,n){const{c:i,dkLen:u,DK:f,PRF:c,PRFSalt:h}=s(t,e,r,n);let d;const l=new Uint8Array(4),p=(0,o.createView)(l),b=new Uint8Array(c.outputLen);for(let t=1,e=0;e<u;t++,e+=c.outputLen){const r=f.subarray(e,e+c.outputLen);p.setInt32(0,t,!1),(d=h._cloneInto(d)).update(l).digestInto(b),r.set(b.subarray(0,r.length));for(let t=1;t<i;t++){c._cloneInto(d).update(b).digestInto(b);for(let t=0;t<r.length;t++)r[t]^=b[t]}}return a(c,h,f,d,b)},e.pbkdf2Async=async function(t,e,r,n){const{c:i,dkLen:u,asyncTick:f,DK:c,PRF:h,PRFSalt:d}=s(t,e,r,n);let l;const p=new Uint8Array(4),b=(0,o.createView)(p),g=new Uint8Array(h.outputLen);for(let t=1,e=0;e<u;t++,e+=h.outputLen){const r=c.subarray(e,e+h.outputLen);b.setInt32(0,t,!1),(l=d._cloneInto(l)).update(p).digestInto(g),r.set(g.subarray(0,r.length)),await(0,o.asyncLoop)(i-1,f,(t=>{h._cloneInto(l).update(g).digestInto(g);for(let t=0;t<r.length;t++)r[t]^=g[t]}))}return a(h,d,c,l,g)}},2739:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.scryptAsync=e.scrypt=void 0;const n=r(3525),i=r(6053),o=r(9179),s=r(64),a=(t,e)=>t<<e|t>>>32-e;function u(t,e,r,n,i,o){let s=t[e++]^r[n++],u=t[e++]^r[n++],f=t[e++]^r[n++],c=t[e++]^r[n++],h=t[e++]^r[n++],d=t[e++]^r[n++],l=t[e++]^r[n++],p=t[e++]^r[n++],b=t[e++]^r[n++],g=t[e++]^r[n++],m=t[e++]^r[n++],y=t[e++]^r[n++],v=t[e++]^r[n++],w=t[e++]^r[n++],_=t[e++]^r[n++],S=t[e++]^r[n++],M=s,A=u,C=f,E=c,O=h,x=d,T=l,P=p,I=b,R=g,L=m,B=y,k=v,N=w,H=_,U=S;for(let t=0;t<8;t+=2)O^=a(M+k|0,7),I^=a(O+M|0,9),k^=a(I+O|0,13),M^=a(k+I|0,18),R^=a(x+A|0,7),N^=a(R+x|0,9),A^=a(N+R|0,13),x^=a(A+N|0,18),H^=a(L+T|0,7),C^=a(H+L|0,9),T^=a(C+H|0,13),L^=a(T+C|0,18),E^=a(U+B|0,7),P^=a(E+U|0,9),B^=a(P+E|0,13),U^=a(B+P|0,18),A^=a(M+E|0,7),C^=a(A+M|0,9),E^=a(C+A|0,13),M^=a(E+C|0,18),T^=a(x+O|0,7),P^=a(T+x|0,9),O^=a(P+T|0,13),x^=a(O+P|0,18),B^=a(L+R|0,7),I^=a(B+L|0,9),R^=a(I+B|0,13),L^=a(R+I|0,18),k^=a(U+H|0,7),N^=a(k+U|0,9),H^=a(N+k|0,13),U^=a(H+N|0,18);i[o++]=s+M|0,i[o++]=u+A|0,i[o++]=f+C|0,i[o++]=c+E|0,i[o++]=h+O|0,i[o++]=d+x|0,i[o++]=l+T|0,i[o++]=p+P|0,i[o++]=b+I|0,i[o++]=g+R|0,i[o++]=m+L|0,i[o++]=y+B|0,i[o++]=v+k|0,i[o++]=w+N|0,i[o++]=_+H|0,i[o++]=S+U|0}function f(t,e,r,n,i){let o=n+0,s=n+16*i;for(let n=0;n<16;n++)r[s+n]=t[e+16*(2*i-1)+n];for(let n=0;n<i;n++,o+=16,e+=16)u(r,s,t,e,r,o),n>0&&(s+=16),u(r,o,t,e+=16,r,s)}function c(t,e,r){const a=(0,s.checkOpts)({dkLen:32,asyncTick:10,maxmem:1073742848},r),{N:u,r:f,p:c,dkLen:h,asyncTick:d,maxmem:l,onProgress:p}=a;if(n.default.number(u),n.default.number(f),n.default.number(c),n.default.number(h),n.default.number(d),n.default.number(l),void 0!==p&&"function"!=typeof p)throw new Error("progressCb should be function");const b=128*f,g=b/4;if(u<=1||0!=(u&u-1)||u>=2**(b/8)||u>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(c<0||c>137438953440/b)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(h<0||h>137438953440)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");const m=b*(u+c);if(m>l)throw new Error(`Scrypt: parameters too large, ${m} (128 * r * (N + p)) > ${l} (maxmem)`);const y=(0,o.pbkdf2)(i.sha256,t,e,{c:1,dkLen:b*c}),v=(0,s.u32)(y),w=(0,s.u32)(new Uint8Array(b*u)),_=(0,s.u32)(new Uint8Array(b));let S=()=>{};if(p){const t=2*u*c,e=Math.max(Math.floor(t/1e4),1);let r=0;S=()=>{r++,!p||r%e&&r!==t||p(r/t)}}return{N:u,r:f,p:c,dkLen:h,blockSize32:g,V:w,B32:v,B:y,tmp:_,blockMixCb:S,asyncTick:d}}function h(t,e,r,n,s){const a=(0,o.pbkdf2)(i.sha256,t,r,{c:1,dkLen:e});return r.fill(0),n.fill(0),s.fill(0),a}e.scrypt=function(t,e,r){const{N:n,r:i,p:o,dkLen:s,blockSize32:a,V:u,B32:d,B:l,tmp:p,blockMixCb:b}=c(t,e,r);for(let t=0;t<o;t++){const e=a*t;for(let t=0;t<a;t++)u[t]=d[e+t];for(let t=0,e=0;t<n-1;t++)f(u,e,u,e+=a,i),b();f(u,(n-1)*a,d,e,i),b();for(let t=0;t<n;t++){const t=d[e+a-16]%n;for(let r=0;r<a;r++)p[r]=d[e+r]^u[t*a+r];f(p,0,d,e,i),b()}}return h(t,s,l,u,p)},e.scryptAsync=async function(t,e,r){const{N:n,r:i,p:o,dkLen:a,blockSize32:u,V:d,B32:l,B:p,tmp:b,blockMixCb:g,asyncTick:m}=c(t,e,r);for(let t=0;t<o;t++){const e=u*t;for(let t=0;t<u;t++)d[t]=l[e+t];let r=0;await(0,s.asyncLoop)(n-1,m,(t=>{f(d,r,d,r+=u,i),g()})),f(d,(n-1)*u,l,e,i),g(),await(0,s.asyncLoop)(n,m,(t=>{const r=l[e+u-16]%n;for(let t=0;t<u;t++)b[t]=l[e+t]^d[r*u+t];f(b,0,l,e,i),g()}))}return h(t,a,p,d,b)}},6053:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sha224=e.sha256=void 0;const n=r(9350),i=r(64),o=(t,e,r)=>t&e^t&r^e&r,s=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),u=new Uint32Array(64);class f extends n.SHA2{constructor(){super(64,32,8,!1),this.A=0|a[0],this.B=0|a[1],this.C=0|a[2],this.D=0|a[3],this.E=0|a[4],this.F=0|a[5],this.G=0|a[6],this.H=0|a[7]}get(){const{A:t,B:e,C:r,D:n,E:i,F:o,G:s,H:a}=this;return[t,e,r,n,i,o,s,a]}set(t,e,r,n,i,o,s,a){this.A=0|t,this.B=0|e,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(t,e){for(let r=0;r<16;r++,e+=4)u[r]=t.getUint32(e,!1);for(let t=16;t<64;t++){const e=u[t-15],r=u[t-2],n=(0,i.rotr)(e,7)^(0,i.rotr)(e,18)^e>>>3,o=(0,i.rotr)(r,17)^(0,i.rotr)(r,19)^r>>>10;u[t]=o+u[t-7]+n+u[t-16]|0}let{A:r,B:n,C:a,D:f,E:c,F:h,G:d,H:l}=this;for(let t=0;t<64;t++){const e=l+((0,i.rotr)(c,6)^(0,i.rotr)(c,11)^(0,i.rotr)(c,25))+((p=c)&h^~p&d)+s[t]+u[t]|0,b=((0,i.rotr)(r,2)^(0,i.rotr)(r,13)^(0,i.rotr)(r,22))+o(r,n,a)|0;l=d,d=h,h=c,c=f+e|0,f=a,a=n,n=r,r=e+b|0}var p;r=r+this.A|0,n=n+this.B|0,a=a+this.C|0,f=f+this.D|0,c=c+this.E|0,h=h+this.F|0,d=d+this.G|0,l=l+this.H|0,this.set(r,n,a,f,c,h,d,l)}roundClean(){u.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class c extends f{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}e.sha256=(0,i.wrapConstructor)((()=>new f)),e.sha224=(0,i.wrapConstructor)((()=>new c))},64:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.randomBytes=e.wrapConstructorWithOpts=e.wrapConstructor=e.checkOpts=e.Hash=e.concatBytes=e.toBytes=e.utf8ToBytes=e.asyncLoop=e.nextTick=e.hexToBytes=e.bytesToHex=e.isLE=e.rotr=e.createView=e.u32=e.u8=void 0;const n=r(825);e.u8=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength);e.u32=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4));e.createView=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);if(e.rotr=(t,e)=>t<<32-e|t>>>e,e.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!e.isLE)throw new Error("Non little-endian hardware is not supported");const i=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));e.bytesToHex=function(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=i[t[r]];return e},e.hexToBytes=function(t){if("string"!=typeof t)throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){const n=2*r,i=t.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");e[r]=o}return e};function o(t){if("string"!=typeof t)throw new TypeError("utf8ToBytes expected string, got "+typeof t);return(new TextEncoder).encode(t)}function s(t){if("string"==typeof t&&(t=o(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}e.nextTick=async()=>{},e.asyncLoop=async function(t,r,n){let i=Date.now();for(let o=0;o<t;o++){n(o);const t=Date.now()-i;t>=0&&t<r||(await(0,e.nextTick)(),i+=t)}},e.utf8ToBytes=o,e.toBytes=s,e.concatBytes=function(...t){if(!t.every((t=>t instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===t.length)return t[0];const e=t.reduce(((t,e)=>t+e.length),0),r=new Uint8Array(e);for(let e=0,n=0;e<t.length;e++){const i=t[e];r.set(i,n),n+=i.length}return r};e.Hash=class{clone(){return this._cloneInto()}};e.checkOpts=function(t,e){if(void 0!==e&&("object"!=typeof e||(r=e,"[object Object]"!==Object.prototype.toString.call(r)||r.constructor!==Object)))throw new TypeError("Options should be object or undefined");var r;return Object.assign(t,e)},e.wrapConstructor=function(t){const e=e=>t().update(s(e)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e},e.wrapConstructorWithOpts=function(t){const e=(e,r)=>t(r).update(s(e)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=e=>t(e),e},e.randomBytes=function(t=32){if(n.crypto&&"function"==typeof n.crypto.getRandomValues)return n.crypto.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}},8166:t=>{"use strict";t.exports=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),o=i.charCodeAt(0);if(255!==e[o])throw new TypeError(i+" is ambiguous");e[o]=n}var s=t.length,a=t.charAt(0),u=Math.log(s)/Math.log(256),f=Math.log(256)/Math.log(s);function c(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return new Uint8Array;for(var r=0,n=0,i=0;t[r]===a;)n++,r++;for(var o=(t.length-r)*u+1>>>0,f=new Uint8Array(o);t[r];){var c=e[t.charCodeAt(r)];if(255===c)return;for(var h=0,d=o-1;(0!==c||h<i)&&-1!==d;d--,h++)c+=s*f[d]>>>0,f[d]=c%256>>>0,c=c/256>>>0;if(0!==c)throw new Error("Non-zero carry");i=h,r++}for(var l=o-i;l!==o&&0===f[l];)l++;for(var p=new Uint8Array(n+(o-l)),b=n;l!==o;)p[b++]=f[l++];return p}return{encode:function(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===e.length)return"";for(var r=0,n=0,i=0,o=e.length;i!==o&&0===e[i];)i++,r++;for(var u=(o-i)*f+1>>>0,c=new Uint8Array(u);i!==o;){for(var h=e[i],d=0,l=u-1;(0!==h||d<n)&&-1!==l;l--,d++)h+=256*c[l]>>>0,c[l]=h%s>>>0,h=h/s>>>0;if(0!==h)throw new Error("Non-zero carry");n=d,i++}for(var p=u-n;p!==u&&0===c[p];)p++;for(var b=a.repeat(r);p<u;++p)b+=t.charAt(c[p]);return b},decodeUnsafe:c,decode:function(t){var e=c(t);if(e)return e;throw new Error("Non-base"+s+" character")}}}},5766:(t,e)=>{"use strict";e.byteLength=function(t){var e=a(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,r,o=a(t),s=o[0],u=o[1],f=new i(function(t,e,r){return 3*(e+r)/4-r}(0,s,u)),c=0,h=u>0?s-4:s;for(r=0;r<h;r+=4)e=n[t.charCodeAt(r)]<<18|n[t.charCodeAt(r+1)]<<12|n[t.charCodeAt(r+2)]<<6|n[t.charCodeAt(r+3)],f[c++]=e>>16&255,f[c++]=e>>8&255,f[c++]=255&e;2===u&&(e=n[t.charCodeAt(r)]<<2|n[t.charCodeAt(r+1)]>>4,f[c++]=255&e);1===u&&(e=n[t.charCodeAt(r)]<<10|n[t.charCodeAt(r+1)]<<4|n[t.charCodeAt(r+2)]>>2,f[c++]=e>>8&255,f[c++]=255&e);return f},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],s=16383,a=0,f=n-i;a<f;a+=s)o.push(u(t,a,a+s>f?f:a+s));1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return o.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)r[s]=o[s],n[o.charCodeAt(s)]=s;function a(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function u(t,e,n){for(var i,o,s=[],a=e;a<n;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return s.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},2197:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var s;"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(3196).Buffer}catch(t){}function a(t,e){var r=t.charCodeAt(e);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+t)}function u(t,e,r){var n=a(t,r);return r-1>=e&&(n|=a(t,r-1)<<4),n}function f(t,e,r,i){for(var o=0,s=0,a=Math.min(t.length,r),u=e;u<a;u++){var f=t.charCodeAt(u)-48;o*=i,s=f>=49?f-49+10:f>=17?f-17+10:f,n(f>=0&&s<i,"Invalid character"),o+=s}return o}function c(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this._strip()},o.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=u(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=u(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,s=o%n,a=Math.min(o,o-s)+r,u=0,c=r;c<a;c+=n)u=f(t,c,c+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var h=1;for(u=f(t,c,t.length,e),c=0;c<s;c++)h*=e;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype._move=function(t){c(t,this)},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch(t){o.prototype.inspect=h}else o.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);o=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,s--),r=0!==o||s!==this.length-1?d[6-u.length]+u+r:u+r}for(0!==o&&(r=o.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var f=l[t],c=p[t];r="";var h=this.clone();for(h.negative=0;!h.isZero();){var b=h.modrn(c).toString(t);r=(h=h.idivn(c)).isZero()?b+r:d[f-b.length]+b+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(t,e){return this.toArrayLike(s,t,e)}),o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function b(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var f=1;f<n;f++){for(var c=u>>>26,h=67108863&u,d=Math.min(f,e.length-1),l=Math.max(0,f-t.length+1);l<=d;l++){var p=f-l|0;c+=(s=(i=0|t.words[p])*(o=0|e.words[l])+h)/67108864|0,h=67108863&s}r.words[f]=0|h,u=0|c}return 0!==u?r.words[f]=0|u:r.length--,r._strip()}o.prototype.toArrayLike=function(t,e,r){this._strip();var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0");var s=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,o);return this["_toArrayLike"+("le"===e?"LE":"BE")](s,i),s},o.prototype._toArrayLikeLE=function(t,e){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;t[r++]=255&s,r<t.length&&(t[r++]=s>>8&255),r<t.length&&(t[r++]=s>>16&255),6===o?(r<t.length&&(t[r++]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r<t.length)for(t[r++]=n;r<t.length;)t[r++]=0},o.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;t[r--]=255&s,r>=0&&(t[r--]=s>>8&255),r>=0&&(t[r--]=s>>16&255),6===o?(r>=0&&(t[r--]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r>=0)for(t[r--]=n;r>=0;)t[r--]=0},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},o.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},o.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this._strip()},o.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,s=0;s<n.length;s++)o=(e=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var g=function(t,e,r){var n,i,o,s=t.words,a=e.words,u=r.words,f=0,c=0|s[0],h=8191&c,d=c>>>13,l=0|s[1],p=8191&l,b=l>>>13,g=0|s[2],m=8191&g,y=g>>>13,v=0|s[3],w=8191&v,_=v>>>13,S=0|s[4],M=8191&S,A=S>>>13,C=0|s[5],E=8191&C,O=C>>>13,x=0|s[6],T=8191&x,P=x>>>13,I=0|s[7],R=8191&I,L=I>>>13,B=0|s[8],k=8191&B,N=B>>>13,H=0|s[9],U=8191&H,D=H>>>13,z=0|a[0],F=8191&z,j=z>>>13,W=0|a[1],G=8191&W,V=W>>>13,K=0|a[2],q=8191&K,J=K>>>13,Y=0|a[3],$=8191&Y,Q=Y>>>13,Z=0|a[4],X=8191&Z,tt=Z>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ut=8191&at,ft=at>>>13,ct=0|a[8],ht=8191&ct,dt=ct>>>13,lt=0|a[9],pt=8191&lt,bt=lt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(f+(n=Math.imul(h,F))|0)+((8191&(i=(i=Math.imul(h,j))+Math.imul(d,F)|0))<<13)|0;f=((o=Math.imul(d,j))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,F),i=(i=Math.imul(p,j))+Math.imul(b,F)|0,o=Math.imul(b,j);var mt=(f+(n=n+Math.imul(h,G)|0)|0)+((8191&(i=(i=i+Math.imul(h,V)|0)+Math.imul(d,G)|0))<<13)|0;f=((o=o+Math.imul(d,V)|0)+(i>>>13)|0)+(mt>>>26)|0,mt&=67108863,n=Math.imul(m,F),i=(i=Math.imul(m,j))+Math.imul(y,F)|0,o=Math.imul(y,j),n=n+Math.imul(p,G)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(b,G)|0,o=o+Math.imul(b,V)|0;var yt=(f+(n=n+Math.imul(h,q)|0)|0)+((8191&(i=(i=i+Math.imul(h,J)|0)+Math.imul(d,q)|0))<<13)|0;f=((o=o+Math.imul(d,J)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(w,F),i=(i=Math.imul(w,j))+Math.imul(_,F)|0,o=Math.imul(_,j),n=n+Math.imul(m,G)|0,i=(i=i+Math.imul(m,V)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,V)|0,n=n+Math.imul(p,q)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(b,q)|0,o=o+Math.imul(b,J)|0;var vt=(f+(n=n+Math.imul(h,$)|0)|0)+((8191&(i=(i=i+Math.imul(h,Q)|0)+Math.imul(d,$)|0))<<13)|0;f=((o=o+Math.imul(d,Q)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(M,F),i=(i=Math.imul(M,j))+Math.imul(A,F)|0,o=Math.imul(A,j),n=n+Math.imul(w,G)|0,i=(i=i+Math.imul(w,V)|0)+Math.imul(_,G)|0,o=o+Math.imul(_,V)|0,n=n+Math.imul(m,q)|0,i=(i=i+Math.imul(m,J)|0)+Math.imul(y,q)|0,o=o+Math.imul(y,J)|0,n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,Q)|0)+Math.imul(b,$)|0,o=o+Math.imul(b,Q)|0;var wt=(f+(n=n+Math.imul(h,X)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(d,X)|0))<<13)|0;f=((o=o+Math.imul(d,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(E,F),i=(i=Math.imul(E,j))+Math.imul(O,F)|0,o=Math.imul(O,j),n=n+Math.imul(M,G)|0,i=(i=i+Math.imul(M,V)|0)+Math.imul(A,G)|0,o=o+Math.imul(A,V)|0,n=n+Math.imul(w,q)|0,i=(i=i+Math.imul(w,J)|0)+Math.imul(_,q)|0,o=o+Math.imul(_,J)|0,n=n+Math.imul(m,$)|0,i=(i=i+Math.imul(m,Q)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,Q)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(b,X)|0,o=o+Math.imul(b,tt)|0;var _t=(f+(n=n+Math.imul(h,rt)|0)|0)+((8191&(i=(i=i+Math.imul(h,nt)|0)+Math.imul(d,rt)|0))<<13)|0;f=((o=o+Math.imul(d,nt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(T,F),i=(i=Math.imul(T,j))+Math.imul(P,F)|0,o=Math.imul(P,j),n=n+Math.imul(E,G)|0,i=(i=i+Math.imul(E,V)|0)+Math.imul(O,G)|0,o=o+Math.imul(O,V)|0,n=n+Math.imul(M,q)|0,i=(i=i+Math.imul(M,J)|0)+Math.imul(A,q)|0,o=o+Math.imul(A,J)|0,n=n+Math.imul(w,$)|0,i=(i=i+Math.imul(w,Q)|0)+Math.imul(_,$)|0,o=o+Math.imul(_,Q)|0,n=n+Math.imul(m,X)|0,i=(i=i+Math.imul(m,tt)|0)+Math.imul(y,X)|0,o=o+Math.imul(y,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(b,rt)|0,o=o+Math.imul(b,nt)|0;var St=(f+(n=n+Math.imul(h,ot)|0)|0)+((8191&(i=(i=i+Math.imul(h,st)|0)+Math.imul(d,ot)|0))<<13)|0;f=((o=o+Math.imul(d,st)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(R,F),i=(i=Math.imul(R,j))+Math.imul(L,F)|0,o=Math.imul(L,j),n=n+Math.imul(T,G)|0,i=(i=i+Math.imul(T,V)|0)+Math.imul(P,G)|0,o=o+Math.imul(P,V)|0,n=n+Math.imul(E,q)|0,i=(i=i+Math.imul(E,J)|0)+Math.imul(O,q)|0,o=o+Math.imul(O,J)|0,n=n+Math.imul(M,$)|0,i=(i=i+Math.imul(M,Q)|0)+Math.imul(A,$)|0,o=o+Math.imul(A,Q)|0,n=n+Math.imul(w,X)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(_,X)|0,o=o+Math.imul(_,tt)|0,n=n+Math.imul(m,rt)|0,i=(i=i+Math.imul(m,nt)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,nt)|0,n=n+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,st)|0)+Math.imul(b,ot)|0,o=o+Math.imul(b,st)|0;var Mt=(f+(n=n+Math.imul(h,ut)|0)|0)+((8191&(i=(i=i+Math.imul(h,ft)|0)+Math.imul(d,ut)|0))<<13)|0;f=((o=o+Math.imul(d,ft)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(k,F),i=(i=Math.imul(k,j))+Math.imul(N,F)|0,o=Math.imul(N,j),n=n+Math.imul(R,G)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(L,G)|0,o=o+Math.imul(L,V)|0,n=n+Math.imul(T,q)|0,i=(i=i+Math.imul(T,J)|0)+Math.imul(P,q)|0,o=o+Math.imul(P,J)|0,n=n+Math.imul(E,$)|0,i=(i=i+Math.imul(E,Q)|0)+Math.imul(O,$)|0,o=o+Math.imul(O,Q)|0,n=n+Math.imul(M,X)|0,i=(i=i+Math.imul(M,tt)|0)+Math.imul(A,X)|0,o=o+Math.imul(A,tt)|0,n=n+Math.imul(w,rt)|0,i=(i=i+Math.imul(w,nt)|0)+Math.imul(_,rt)|0,o=o+Math.imul(_,nt)|0,n=n+Math.imul(m,ot)|0,i=(i=i+Math.imul(m,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(b,ut)|0,o=o+Math.imul(b,ft)|0;var At=(f+(n=n+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,dt)|0)+Math.imul(d,ht)|0))<<13)|0;f=((o=o+Math.imul(d,dt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(U,F),i=(i=Math.imul(U,j))+Math.imul(D,F)|0,o=Math.imul(D,j),n=n+Math.imul(k,G)|0,i=(i=i+Math.imul(k,V)|0)+Math.imul(N,G)|0,o=o+Math.imul(N,V)|0,n=n+Math.imul(R,q)|0,i=(i=i+Math.imul(R,J)|0)+Math.imul(L,q)|0,o=o+Math.imul(L,J)|0,n=n+Math.imul(T,$)|0,i=(i=i+Math.imul(T,Q)|0)+Math.imul(P,$)|0,o=o+Math.imul(P,Q)|0,n=n+Math.imul(E,X)|0,i=(i=i+Math.imul(E,tt)|0)+Math.imul(O,X)|0,o=o+Math.imul(O,tt)|0,n=n+Math.imul(M,rt)|0,i=(i=i+Math.imul(M,nt)|0)+Math.imul(A,rt)|0,o=o+Math.imul(A,nt)|0,n=n+Math.imul(w,ot)|0,i=(i=i+Math.imul(w,st)|0)+Math.imul(_,ot)|0,o=o+Math.imul(_,st)|0,n=n+Math.imul(m,ut)|0,i=(i=i+Math.imul(m,ft)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,ft)|0,n=n+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,dt)|0)+Math.imul(b,ht)|0,o=o+Math.imul(b,dt)|0;var Ct=(f+(n=n+Math.imul(h,pt)|0)|0)+((8191&(i=(i=i+Math.imul(h,bt)|0)+Math.imul(d,pt)|0))<<13)|0;f=((o=o+Math.imul(d,bt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(U,G),i=(i=Math.imul(U,V))+Math.imul(D,G)|0,o=Math.imul(D,V),n=n+Math.imul(k,q)|0,i=(i=i+Math.imul(k,J)|0)+Math.imul(N,q)|0,o=o+Math.imul(N,J)|0,n=n+Math.imul(R,$)|0,i=(i=i+Math.imul(R,Q)|0)+Math.imul(L,$)|0,o=o+Math.imul(L,Q)|0,n=n+Math.imul(T,X)|0,i=(i=i+Math.imul(T,tt)|0)+Math.imul(P,X)|0,o=o+Math.imul(P,tt)|0,n=n+Math.imul(E,rt)|0,i=(i=i+Math.imul(E,nt)|0)+Math.imul(O,rt)|0,o=o+Math.imul(O,nt)|0,n=n+Math.imul(M,ot)|0,i=(i=i+Math.imul(M,st)|0)+Math.imul(A,ot)|0,o=o+Math.imul(A,st)|0,n=n+Math.imul(w,ut)|0,i=(i=i+Math.imul(w,ft)|0)+Math.imul(_,ut)|0,o=o+Math.imul(_,ft)|0,n=n+Math.imul(m,ht)|0,i=(i=i+Math.imul(m,dt)|0)+Math.imul(y,ht)|0,o=o+Math.imul(y,dt)|0;var Et=(f+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,bt)|0)+Math.imul(b,pt)|0))<<13)|0;f=((o=o+Math.imul(b,bt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(U,q),i=(i=Math.imul(U,J))+Math.imul(D,q)|0,o=Math.imul(D,J),n=n+Math.imul(k,$)|0,i=(i=i+Math.imul(k,Q)|0)+Math.imul(N,$)|0,o=o+Math.imul(N,Q)|0,n=n+Math.imul(R,X)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(L,X)|0,o=o+Math.imul(L,tt)|0,n=n+Math.imul(T,rt)|0,i=(i=i+Math.imul(T,nt)|0)+Math.imul(P,rt)|0,o=o+Math.imul(P,nt)|0,n=n+Math.imul(E,ot)|0,i=(i=i+Math.imul(E,st)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,st)|0,n=n+Math.imul(M,ut)|0,i=(i=i+Math.imul(M,ft)|0)+Math.imul(A,ut)|0,o=o+Math.imul(A,ft)|0,n=n+Math.imul(w,ht)|0,i=(i=i+Math.imul(w,dt)|0)+Math.imul(_,ht)|0,o=o+Math.imul(_,dt)|0;var Ot=(f+(n=n+Math.imul(m,pt)|0)|0)+((8191&(i=(i=i+Math.imul(m,bt)|0)+Math.imul(y,pt)|0))<<13)|0;f=((o=o+Math.imul(y,bt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,n=Math.imul(U,$),i=(i=Math.imul(U,Q))+Math.imul(D,$)|0,o=Math.imul(D,Q),n=n+Math.imul(k,X)|0,i=(i=i+Math.imul(k,tt)|0)+Math.imul(N,X)|0,o=o+Math.imul(N,tt)|0,n=n+Math.imul(R,rt)|0,i=(i=i+Math.imul(R,nt)|0)+Math.imul(L,rt)|0,o=o+Math.imul(L,nt)|0,n=n+Math.imul(T,ot)|0,i=(i=i+Math.imul(T,st)|0)+Math.imul(P,ot)|0,o=o+Math.imul(P,st)|0,n=n+Math.imul(E,ut)|0,i=(i=i+Math.imul(E,ft)|0)+Math.imul(O,ut)|0,o=o+Math.imul(O,ft)|0,n=n+Math.imul(M,ht)|0,i=(i=i+Math.imul(M,dt)|0)+Math.imul(A,ht)|0,o=o+Math.imul(A,dt)|0;var xt=(f+(n=n+Math.imul(w,pt)|0)|0)+((8191&(i=(i=i+Math.imul(w,bt)|0)+Math.imul(_,pt)|0))<<13)|0;f=((o=o+Math.imul(_,bt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(U,X),i=(i=Math.imul(U,tt))+Math.imul(D,X)|0,o=Math.imul(D,tt),n=n+Math.imul(k,rt)|0,i=(i=i+Math.imul(k,nt)|0)+Math.imul(N,rt)|0,o=o+Math.imul(N,nt)|0,n=n+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,st)|0)+Math.imul(L,ot)|0,o=o+Math.imul(L,st)|0,n=n+Math.imul(T,ut)|0,i=(i=i+Math.imul(T,ft)|0)+Math.imul(P,ut)|0,o=o+Math.imul(P,ft)|0,n=n+Math.imul(E,ht)|0,i=(i=i+Math.imul(E,dt)|0)+Math.imul(O,ht)|0,o=o+Math.imul(O,dt)|0;var Tt=(f+(n=n+Math.imul(M,pt)|0)|0)+((8191&(i=(i=i+Math.imul(M,bt)|0)+Math.imul(A,pt)|0))<<13)|0;f=((o=o+Math.imul(A,bt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(U,rt),i=(i=Math.imul(U,nt))+Math.imul(D,rt)|0,o=Math.imul(D,nt),n=n+Math.imul(k,ot)|0,i=(i=i+Math.imul(k,st)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,st)|0,n=n+Math.imul(R,ut)|0,i=(i=i+Math.imul(R,ft)|0)+Math.imul(L,ut)|0,o=o+Math.imul(L,ft)|0,n=n+Math.imul(T,ht)|0,i=(i=i+Math.imul(T,dt)|0)+Math.imul(P,ht)|0,o=o+Math.imul(P,dt)|0;var Pt=(f+(n=n+Math.imul(E,pt)|0)|0)+((8191&(i=(i=i+Math.imul(E,bt)|0)+Math.imul(O,pt)|0))<<13)|0;f=((o=o+Math.imul(O,bt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(U,ot),i=(i=Math.imul(U,st))+Math.imul(D,ot)|0,o=Math.imul(D,st),n=n+Math.imul(k,ut)|0,i=(i=i+Math.imul(k,ft)|0)+Math.imul(N,ut)|0,o=o+Math.imul(N,ft)|0,n=n+Math.imul(R,ht)|0,i=(i=i+Math.imul(R,dt)|0)+Math.imul(L,ht)|0,o=o+Math.imul(L,dt)|0;var It=(f+(n=n+Math.imul(T,pt)|0)|0)+((8191&(i=(i=i+Math.imul(T,bt)|0)+Math.imul(P,pt)|0))<<13)|0;f=((o=o+Math.imul(P,bt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(U,ut),i=(i=Math.imul(U,ft))+Math.imul(D,ut)|0,o=Math.imul(D,ft),n=n+Math.imul(k,ht)|0,i=(i=i+Math.imul(k,dt)|0)+Math.imul(N,ht)|0,o=o+Math.imul(N,dt)|0;var Rt=(f+(n=n+Math.imul(R,pt)|0)|0)+((8191&(i=(i=i+Math.imul(R,bt)|0)+Math.imul(L,pt)|0))<<13)|0;f=((o=o+Math.imul(L,bt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(U,ht),i=(i=Math.imul(U,dt))+Math.imul(D,ht)|0,o=Math.imul(D,dt);var Lt=(f+(n=n+Math.imul(k,pt)|0)|0)+((8191&(i=(i=i+Math.imul(k,bt)|0)+Math.imul(N,pt)|0))<<13)|0;f=((o=o+Math.imul(N,bt)|0)+(i>>>13)|0)+(Lt>>>26)|0,Lt&=67108863;var Bt=(f+(n=Math.imul(U,pt))|0)+((8191&(i=(i=Math.imul(U,bt))+Math.imul(D,pt)|0))<<13)|0;return f=((o=Math.imul(D,bt))+(i>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,u[0]=gt,u[1]=mt,u[2]=yt,u[3]=vt,u[4]=wt,u[5]=_t,u[6]=St,u[7]=Mt,u[8]=At,u[9]=Ct,u[10]=Et,u[11]=Ot,u[12]=xt,u[13]=Tt,u[14]=Pt,u[15]=It,u[16]=Rt,u[17]=Lt,u[18]=Bt,0!==f&&(u[19]=f,r.length++),r};function m(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,e.length-1),f=Math.max(0,o-t.length+1);f<=u;f++){var c=o-f,h=(0|t.words[c])*(0|e.words[f]),d=67108863&h;a=67108863&(d=d+a|0),i+=(s=(s=s+(h/67108864|0)|0)+(d>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function y(t,e,r){return m(t,e,r)}function v(t,e){this.x=t,this.y=e}Math.imul||(g=b),o.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?g(this,t,e):r<63?b(this,t,e):r<1024?m(this,t,e):y(this,t,e)},v.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},v.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},v.prototype.permute=function(t,e,r,n,i,o){for(var s=0;s<o;s++)n[s]=e[t[s]],i[s]=r[t[s]]},v.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),f=Math.sin(2*Math.PI/a),c=0;c<i;c+=a)for(var h=u,d=f,l=0;l<s;l++){var p=r[c+l],b=n[c+l],g=r[c+l+s],m=n[c+l+s],y=h*g-d*m;m=h*m+d*g,g=y,r[c+l]=p+g,n[c+l]=b+m,r[c+l+s]=p-g,n[c+l+s]=b-m,l!==a&&(y=u*h-f*d,d=u*d+f*h,h=y)}},v.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},v.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},v.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},v.prototype.convert13b=function(t,e,r,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)r[s]=0;n(0===o),n(0==(-8192&o))},v.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},v.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),f=new Array(n),c=new Array(n),h=new Array(n),d=r.words;d.length=n,this.convert13b(t.words,t.length,s,n),this.convert13b(e.words,e.length,f,n),this.transform(s,o,a,u,n,i),this.transform(f,o,c,h,n,i);for(var l=0;l<n;l++){var p=a[l]*c[l]-u[l]*h[l];u[l]=a[l]*h[l]+u[l]*c[l],a[l]=p}return this.conjugate(a,u,n),this.transform(a,u,d,o,n,i),this.conjugate(d,o,n),this.normalize13b(d,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r._strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),y(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){var e=t<0;e&&(t=-t),n("number"==typeof t),n(t<67108864);for(var r=0,i=0;i<this.length;i++){var o=(0|this.words[i])*t,s=(67108863&o)+(67108863&r);r>>=26,r+=o/67108864|0,r+=s>>>26,this.words[i]=67108863&s}return 0!==r&&(this.words[i]=r,this.length++),e?this.ineg():this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=t.words[n]>>>i&1}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,u=(0|this.words[e])-a<<r;this.words[e]=u|s,s=a>>>26-r}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,u=r;if(i-=s,i=Math.max(0,i),u){for(var f=0;f<s;f++)u.words[f]=this.words[f];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,f=0;f<this.length;f++)this.words[f]=this.words[f+s];else this.words[0]=0,this.length=1;var c=0;for(f=this.length-1;f>=0&&(0!==c||f>=i);f--){var h=0|this.words[f];this.words[f]=c<<26-o|h>>>o,c=h&a}return u&&0!==c&&(u.words[u.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,s=t.length+r;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this._strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,s=0|i.words[i.length-1];0!==(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==e){(a=new o(null)).length=u+1,a.words=new Array(a.length);for(var f=0;f<a.length;f++)a.words[f]=0}var c=n.clone()._ishlnsubmul(i,1,u);0===c.negative&&(n=c,a&&(a.words[u]=1));for(var h=u-1;h>=0;h--){var d=67108864*(0|n.words[i.length+h])+(0|n.words[i.length+h-1]);for(d=Math.min(d/s|0,67108863),n._ishlnsubmul(i,d,h);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(i,1,h),n.isZero()||(n.negative^=1);a&&(a.words[h]=d)}return a&&a._strip(),n._strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modrn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modrn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=(1<<26)%t,i=0,o=this.length-1;o>=0;o--)i=(r*i+(0|this.words[o]))%t;return e?-i:i},o.prototype.modn=function(t){return this.modrn(t)},o.prototype.idivn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*r;this.words[i]=o/t|0,r=o%t}return this._strip(),e?this.ineg():this},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),u=new o(1),f=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++f;for(var c=r.clone(),h=e.clone();!e.isZero();){for(var d=0,l=1;0==(e.words[0]&l)&&d<26;++d,l<<=1);if(d>0)for(e.iushrn(d);d-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(c),s.isub(h)),i.iushrn(1),s.iushrn(1);for(var p=0,b=1;0==(r.words[0]&b)&&p<26;++p,b<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(c),u.isub(h)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),s.isub(u)):(r.isub(e),a.isub(i),u.isub(s))}return{a,b:u,gcd:r.iushln(f)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var f=0,c=1;0==(e.words[0]&c)&&f<26;++f,c<<=1);if(f>0)for(e.iushrn(f);f-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var h=0,d=1;0==(r.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(r.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),s.isub(a)):(r.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new E(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var w={k256:null,p224:null,p192:null,p25519:null};function _(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function S(){_.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function M(){_.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function A(){_.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function C(){_.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function O(t){E.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},_.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},_.prototype.split=function(t,e){t.iushrn(this.n,0,e)},_.prototype.imulK=function(t){return t.imul(this.k)},i(S,_),S.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&r,i=10;i<t.length;i++){var s=0|t.words[i];t.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},S.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(M,_),i(A,_),i(C,_),C.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(w[t])return w[t];var e;if("k256"===t)e=new S;else if("p224"===t)e=new M;else if("p192"===t)e=new A;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new C}return w[t]=e,e},E.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},E.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},E.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(c(t,t.umod(this.m)._forceRed(this)),t)},E.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},E.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},E.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},E.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},E.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},E.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},E.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},E.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},E.prototype.isqr=function(t){return this.imul(t,t.clone())},E.prototype.sqr=function(t){return this.mul(t,t)},E.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),u=a.redNeg(),f=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new o(2*c*c).toRed(this);0!==this.pow(c,f).cmp(u);)c.redIAdd(u);for(var h=this.pow(c,i),d=this.pow(t,i.addn(1).iushrn(1)),l=this.pow(t,i),p=s;0!==l.cmp(a);){for(var b=l,g=0;0!==b.cmp(a);g++)b=b.redSqr();n(g<p);var m=this.pow(h,new o(1).iushln(p-g-1));d=d.redMul(m),h=m.redSqr(),l=l.redMul(h),p=g}return d},E.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},E.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],s=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var f=e.words[n],c=u-1;c>=0;c--){var h=f>>c&1;i!==r[0]&&(i=this.sqr(i)),0!==h||0!==s?(s<<=1,s|=h,(4===++a||0===n&&0===c)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}u=26}return i},E.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},E.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new O(t)},i(O,E),O.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},O.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},O.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},O.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},O.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},2745:(t,e,r)=>{var n;function i(t){this.rand=t}if(t.exports=function(t){return n||(n=new i(null)),n.generate(t)},t.exports.Rand=i,i.prototype.generate=function(t){return this._rand(t)},i.prototype._rand=function(t){if(this.rand.getBytes)return this.rand.getBytes(t);for(var e=new Uint8Array(t),r=0;r<e.length;r++)e[r]=this.rand.getByte();return e},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(t){var e=new Uint8Array(t);return self.crypto.getRandomValues(e),e}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(t){var e=new Uint8Array(t);return self.msCrypto.getRandomValues(e),e}:"object"==typeof window&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=r(8087);if("function"!=typeof o.randomBytes)throw new Error("Not supported");i.prototype._rand=function(t){return o.randomBytes(t)}}catch(t){}},7022:(t,e,r)=>{const n=r(8166);t.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},6279:function(t,e){var r="undefined"!=typeof self?self:this,n=function(){function t(){this.fetch=!1,this.DOMException=r.DOMException}return t.prototype=r,new t}();!function(t){!function(e){var r="URLSearchParams"in t,n="Symbol"in t&&"iterator"in Symbol,i="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),o="FormData"in t,s="ArrayBuffer"in t;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(t){return t&&a.indexOf(Object.prototype.toString.call(t))>-1};function f(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function c(t){return"string"!=typeof t&&(t=String(t)),t}function h(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return n&&(e[Symbol.iterator]=function(){return e}),e}function d(t){this.map={},t instanceof d?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function l(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function p(t){return new Promise((function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}}))}function b(t){var e=new FileReader,r=p(e);return e.readAsArrayBuffer(t),r}function g(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:i&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:o&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:r&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():s&&i&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=g(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(t)||u(t))?this._bodyArrayBuffer=g(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var t=l(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?l(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(b)}),this.text=function(){var t,e,r,n=l(this);if(n)return n;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,r=p(e),e.readAsText(t),r;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),r=new Array(e.length),n=0;n<e.length;n++)r[n]=String.fromCharCode(e[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}d.prototype.append=function(t,e){t=f(t),e=c(e);var r=this.map[t];this.map[t]=r?r+", "+e:e},d.prototype.delete=function(t){delete this.map[f(t)]},d.prototype.get=function(t){return t=f(t),this.has(t)?this.map[t]:null},d.prototype.has=function(t){return this.map.hasOwnProperty(f(t))},d.prototype.set=function(t,e){this.map[f(t)]=c(e)},d.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},d.prototype.keys=function(){var t=[];return this.forEach((function(e,r){t.push(r)})),h(t)},d.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),h(t)},d.prototype.entries=function(){var t=[];return this.forEach((function(e,r){t.push([r,e])})),h(t)},n&&(d.prototype[Symbol.iterator]=d.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function v(t,e){var r,n,i=(e=e||{}).body;if(t instanceof v){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new d(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new d(e.headers)),this.method=(r=e.method||this.method||"GET",n=r.toUpperCase(),y.indexOf(n)>-1?n:r),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function w(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var r=t.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(i))}})),e}function _(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new d(e.headers),this.url=e.url||"",this._initBody(t)}v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},m.call(v.prototype),m.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},_.error=function(){var t=new _(null,{status:0,statusText:""});return t.type="error",t};var S=[301,302,303,307,308];_.redirect=function(t,e){if(-1===S.indexOf(e))throw new RangeError("Invalid status code");return new _(null,{status:e,headers:{location:t}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(t,e){this.message=t,this.name=e;var r=Error(t);this.stack=r.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function M(t,r){return new Promise((function(n,o){var s=new v(t,r);if(s.signal&&s.signal.aborted)return o(new e.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function u(){a.abort()}a.onload=function(){var t,e,r={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new d,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var r=t.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();e.append(n,i)}})),e)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;n(new _(i,r))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.onabort=function(){o(new e.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&i&&(a.responseType="blob"),s.headers.forEach((function(t,e){a.setRequestHeader(e,t)})),s.signal&&(s.signal.addEventListener("abort",u),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",u)}),a.send(void 0===s._bodyInit?null:s._bodyInit)}))}M.polyfill=!0,t.fetch||(t.fetch=M,t.Headers=d,t.Request=v,t.Response=_),e.Headers=d,e.Request=v,e.Response=_,e.fetch=M,Object.defineProperty(e,"__esModule",{value:!0})}({})}(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;(e=i.fetch).default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e},7452:function(t,e,r){var n;t.exports=(n=r(7359),r(8139),r(9174),r(6844),r(9951),function(){var t=n,e=t.lib.BlockCipher,r=t.algo,i=[],o=[],s=[],a=[],u=[],f=[],c=[],h=[],d=[],l=[];!function(){for(var t=[],e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;var r=0,n=0;for(e=0;e<256;e++){var p=n^n<<1^n<<2^n<<3^n<<4;p=p>>>8^255&p^99,i[r]=p,o[p]=r;var b=t[r],g=t[b],m=t[g],y=257*t[p]^16843008*p;s[r]=y<<24|y>>>8,a[r]=y<<16|y>>>16,u[r]=y<<8|y>>>24,f[r]=y,y=16843009*m^65537*g^257*b^16843008*r,c[p]=y<<24|y>>>8,h[p]=y<<16|y>>>16,d[p]=y<<8|y>>>24,l[p]=y,r?(r=b^t[t[t[m^b]]],n^=t[t[n]]):r=n=1}}();var p=[0,1,2,4,8,16,32,64,128,27,54],b=r.AES=e.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var t=this._keyPriorReset=this._key,e=t.words,r=t.sigBytes/4,n=4*((this._nRounds=r+6)+1),o=this._keySchedule=[],s=0;s<n;s++)s<r?o[s]=e[s]:(f=o[s-1],s%r?r>6&&s%r==4&&(f=i[f>>>24]<<24|i[f>>>16&255]<<16|i[f>>>8&255]<<8|i[255&f]):(f=i[(f=f<<8|f>>>24)>>>24]<<24|i[f>>>16&255]<<16|i[f>>>8&255]<<8|i[255&f],f^=p[s/r|0]<<24),o[s]=o[s-r]^f);for(var a=this._invKeySchedule=[],u=0;u<n;u++){if(s=n-u,u%4)var f=o[s];else f=o[s-4];a[u]=u<4||s<=4?f:c[i[f>>>24]]^h[i[f>>>16&255]]^d[i[f>>>8&255]]^l[i[255&f]]}}},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,s,a,u,f,i)},decryptBlock:function(t,e){var r=t[e+1];t[e+1]=t[e+3],t[e+3]=r,this._doCryptBlock(t,e,this._invKeySchedule,c,h,d,l,o),r=t[e+1],t[e+1]=t[e+3],t[e+3]=r},_doCryptBlock:function(t,e,r,n,i,o,s,a){for(var u=this._nRounds,f=t[e]^r[0],c=t[e+1]^r[1],h=t[e+2]^r[2],d=t[e+3]^r[3],l=4,p=1;p<u;p++){var b=n[f>>>24]^i[c>>>16&255]^o[h>>>8&255]^s[255&d]^r[l++],g=n[c>>>24]^i[h>>>16&255]^o[d>>>8&255]^s[255&f]^r[l++],m=n[h>>>24]^i[d>>>16&255]^o[f>>>8&255]^s[255&c]^r[l++],y=n[d>>>24]^i[f>>>16&255]^o[c>>>8&255]^s[255&h]^r[l++];f=b,c=g,h=m,d=y}b=(a[f>>>24]<<24|a[c>>>16&255]<<16|a[h>>>8&255]<<8|a[255&d])^r[l++],g=(a[c>>>24]<<24|a[h>>>16&255]<<16|a[d>>>8&255]<<8|a[255&f])^r[l++],m=(a[h>>>24]<<24|a[d>>>16&255]<<16|a[f>>>8&255]<<8|a[255&c])^r[l++],y=(a[d>>>24]<<24|a[f>>>16&255]<<16|a[c>>>8&255]<<8|a[255&h])^r[l++],t[e]=b,t[e+1]=g,t[e+2]=m,t[e+3]=y},keySize:8});t.AES=e._createHelper(b)}(),n.AES)},9951:function(t,e,r){var n;t.exports=(n=r(7359),r(6844),void(n.lib.Cipher||function(t){var e=n,r=e.lib,i=r.Base,o=r.WordArray,s=r.BufferedBlockAlgorithm,a=e.enc,u=(a.Utf8,a.Base64),f=e.algo.EvpKDF,c=r.Cipher=s.extend({cfg:i.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,r){this.cfg=this.cfg.extend(r),this._xformMode=t,this._key=e,this.reset()},reset:function(){s.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function t(t){return"string"==typeof t?v:m}return function(e){return{encrypt:function(r,n,i){return t(n).encrypt(e,r,n,i)},decrypt:function(r,n,i){return t(n).decrypt(e,r,n,i)}}}}()}),h=(r.StreamCipher=c.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),e.mode={}),d=r.BlockCipherMode=i.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}}),l=h.CBC=function(){var e=d.extend();function r(e,r,n){var i,o=this._iv;o?(i=o,this._iv=t):i=this._prevBlock;for(var s=0;s<n;s++)e[r+s]^=i[s]}return e.Encryptor=e.extend({processBlock:function(t,e){var n=this._cipher,i=n.blockSize;r.call(this,t,e,i),n.encryptBlock(t,e),this._prevBlock=t.slice(e,e+i)}}),e.Decryptor=e.extend({processBlock:function(t,e){var n=this._cipher,i=n.blockSize,o=t.slice(e,e+i);n.decryptBlock(t,e),r.call(this,t,e,i),this._prevBlock=o}}),e}(),p=(e.pad={}).Pkcs7={pad:function(t,e){for(var r=4*e,n=r-t.sigBytes%r,i=n<<24|n<<16|n<<8|n,s=[],a=0;a<n;a+=4)s.push(i);var u=o.create(s,n);t.concat(u)},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},b=(r.BlockCipher=c.extend({cfg:c.cfg.extend({mode:l,padding:p}),reset:function(){var t;c.reset.call(this);var e=this.cfg,r=e.iv,n=e.mode;this._xformMode==this._ENC_XFORM_MODE?t=n.createEncryptor:(t=n.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==t?this._mode.init(this,r&&r.words):(this._mode=t.call(n,this,r&&r.words),this._mode.__creator=t)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t,e=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(e.pad(this._data,this.blockSize),t=this._process(!0)):(t=this._process(!0),e.unpad(t)),t},blockSize:4}),r.CipherParams=i.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}})),g=(e.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext,r=t.salt;return(r?o.create([1398893684,1701076831]).concat(r).concat(e):e).toString(u)},parse:function(t){var e,r=u.parse(t),n=r.words;return 1398893684==n[0]&&1701076831==n[1]&&(e=o.create(n.slice(2,4)),n.splice(0,4),r.sigBytes-=16),b.create({ciphertext:r,salt:e})}},m=r.SerializableCipher=i.extend({cfg:i.extend({format:g}),encrypt:function(t,e,r,n){n=this.cfg.extend(n);var i=t.createEncryptor(r,n),o=i.finalize(e),s=i.cfg;return b.create({ciphertext:o,key:r,iv:s.iv,algorithm:t,mode:s.mode,padding:s.padding,blockSize:t.blockSize,formatter:n.format})},decrypt:function(t,e,r,n){return n=this.cfg.extend(n),e=this._parse(e,n.format),t.createDecryptor(r,n).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),y=(e.kdf={}).OpenSSL={execute:function(t,e,r,n){n||(n=o.random(8));var i=f.create({keySize:e+r}).compute(t,n),s=o.create(i.words.slice(e),4*r);return i.sigBytes=4*e,b.create({key:i,iv:s,salt:n})}},v=r.PasswordBasedCipher=m.extend({cfg:m.cfg.extend({kdf:y}),encrypt:function(t,e,r,n){var i=(n=this.cfg.extend(n)).kdf.execute(r,t.keySize,t.ivSize);n.iv=i.iv;var o=m.encrypt.call(this,t,e,i.key,n);return o.mixIn(i),o},decrypt:function(t,e,r,n){n=this.cfg.extend(n),e=this._parse(e,n.format);var i=n.kdf.execute(r,t.keySize,t.ivSize,e.salt);return n.iv=i.iv,m.decrypt.call(this,t,e,i.key,n)}})}()))},7359:function(t,e,r){var n;t.exports=(n=n||function(t,e){var n;if("undefined"!=typeof window&&window.crypto&&(n=window.crypto),"undefined"!=typeof self&&self.crypto&&(n=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(n=globalThis.crypto),!n&&"undefined"!=typeof window&&window.msCrypto&&(n=window.msCrypto),!n&&void 0!==r.g&&r.g.crypto&&(n=r.g.crypto),!n)try{n=r(633)}catch(t){}var i=function(){if(n){if("function"==typeof n.getRandomValues)try{return n.getRandomValues(new Uint32Array(1))[0]}catch(t){}if("function"==typeof n.randomBytes)try{return n.randomBytes(4).readInt32LE()}catch(t){}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function t(){}return function(e){var r;return t.prototype=e,r=new t,t.prototype=null,r}}(),s={},a=s.lib={},u=a.Base={extend:function(t){var e=o(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},f=a.WordArray=u.extend({init:function(t,r){t=this.words=t||[],this.sigBytes=r!=e?r:4*t.length},toString:function(t){return(t||h).stringify(this)},concat:function(t){var e=this.words,r=t.words,n=this.sigBytes,i=t.sigBytes;if(this.clamp(),n%4)for(var o=0;o<i;o++){var s=r[o>>>2]>>>24-o%4*8&255;e[n+o>>>2]|=s<<24-(n+o)%4*8}else for(var a=0;a<i;a+=4)e[n+a>>>2]=r[a>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,r=this.sigBytes;e[r>>>2]&=4294967295<<32-r%4*8,e.length=t.ceil(r/4)},clone:function(){var t=u.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],r=0;r<t;r+=4)e.push(i());return new f.init(e,t)}}),c=s.enc={},h=c.Hex={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],i=0;i<r;i++){var o=e[i>>>2]>>>24-i%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r[n>>>3]|=parseInt(t.substr(n,2),16)<<24-n%8*4;return new f.init(r,e/2)}},d=c.Latin1={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],i=0;i<r;i++){var o=e[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(o))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n++)r[n>>>2]|=(255&t.charCodeAt(n))<<24-n%4*8;return new f.init(r,e)}},l=c.Utf8={stringify:function(t){try{return decodeURIComponent(escape(d.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return d.parse(unescape(encodeURIComponent(t)))}},p=a.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new f.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=l.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var r,n=this._data,i=n.words,o=n.sigBytes,s=this.blockSize,a=o/(4*s),u=(a=e?t.ceil(a):t.max((0|a)-this._minBufferSize,0))*s,c=t.min(4*u,o);if(u){for(var h=0;h<u;h+=s)this._doProcessBlock(i,h);r=i.splice(0,u),n.sigBytes-=c}return new f.init(r,c)},clone:function(){var t=u.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),b=(a.Hasher=p.extend({cfg:u.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,r){return new t.init(r).finalize(e)}},_createHmacHelper:function(t){return function(e,r){return new b.HMAC.init(t,r).finalize(e)}}}),s.algo={});return s}(Math),n)},8139:function(t,e,r){var n;t.exports=(n=r(7359),function(){var t=n,e=t.lib.WordArray;function r(t,r,n){for(var i=[],o=0,s=0;s<r;s++)if(s%4){var a=n[t.charCodeAt(s-1)]<<s%4*2|n[t.charCodeAt(s)]>>>6-s%4*2;i[o>>>2]|=a<<24-o%4*8,o++}return e.create(i,o)}t.enc.Base64={stringify:function(t){var e=t.words,r=t.sigBytes,n=this._map;t.clamp();for(var i=[],o=0;o<r;o+=3)for(var s=(e[o>>>2]>>>24-o%4*8&255)<<16|(e[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|e[o+2>>>2]>>>24-(o+2)%4*8&255,a=0;a<4&&o+.75*a<r;a++)i.push(n.charAt(s>>>6*(3-a)&63));var u=n.charAt(64);if(u)for(;i.length%4;)i.push(u);return i.join("")},parse:function(t){var e=t.length,n=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var o=0;o<n.length;o++)i[n.charCodeAt(o)]=o}var s=n.charAt(64);if(s){var a=t.indexOf(s);-1!==a&&(e=a)}return r(t,e,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),n.enc.Base64)},9950:function(t,e,r){var n;t.exports=(n=r(7359),function(){var t=n,e=t.lib.WordArray;function r(t,r,n){for(var i=[],o=0,s=0;s<r;s++)if(s%4){var a=n[t.charCodeAt(s-1)]<<s%4*2|n[t.charCodeAt(s)]>>>6-s%4*2;i[o>>>2]|=a<<24-o%4*8,o++}return e.create(i,o)}t.enc.Base64url={stringify:function(t,e=!0){var r=t.words,n=t.sigBytes,i=e?this._safe_map:this._map;t.clamp();for(var o=[],s=0;s<n;s+=3)for(var a=(r[s>>>2]>>>24-s%4*8&255)<<16|(r[s+1>>>2]>>>24-(s+1)%4*8&255)<<8|r[s+2>>>2]>>>24-(s+2)%4*8&255,u=0;u<4&&s+.75*u<n;u++)o.push(i.charAt(a>>>6*(3-u)&63));var f=i.charAt(64);if(f)for(;o.length%4;)o.push(f);return o.join("")},parse:function(t,e=!0){var n=t.length,i=e?this._safe_map:this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var s=0;s<i.length;s++)o[i.charCodeAt(s)]=s}var a=i.charAt(64);if(a){var u=t.indexOf(a);-1!==u&&(n=u)}return r(t,n,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"}}(),n.enc.Base64url)},7736:function(t,e,r){var n;t.exports=(n=r(7359),n.enc.Hex)},9576:function(t,e,r){var n;t.exports=(n=r(7359),n.enc.Latin1)},6164:function(t,e,r){var n;t.exports=(n=r(7359),function(){var t=n,e=t.lib.WordArray,r=t.enc;function i(t){return t<<8&4278255360|t>>>8&16711935}r.Utf16=r.Utf16BE={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],i=0;i<r;i+=2){var o=e[i>>>2]>>>16-i%4*8&65535;n.push(String.fromCharCode(o))}return n.join("")},parse:function(t){for(var r=t.length,n=[],i=0;i<r;i++)n[i>>>1]|=t.charCodeAt(i)<<16-i%2*16;return e.create(n,2*r)}},r.Utf16LE={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],o=0;o<r;o+=2){var s=i(e[o>>>2]>>>16-o%4*8&65535);n.push(String.fromCharCode(s))}return n.join("")},parse:function(t){for(var r=t.length,n=[],o=0;o<r;o++)n[o>>>1]|=i(t.charCodeAt(o)<<16-o%2*16);return e.create(n,2*r)}}}(),n.enc.Utf16)},6844:function(t,e,r){var n,i,o,s,a,u,f,c;t.exports=(c=r(7359),r(1637),r(6423),i=(n=c).lib,o=i.Base,s=i.WordArray,a=n.algo,u=a.MD5,f=a.EvpKDF=o.extend({cfg:o.extend({keySize:4,hasher:u,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var r,n=this.cfg,i=n.hasher.create(),o=s.create(),a=o.words,u=n.keySize,f=n.iterations;a.length<u;){r&&i.update(r),r=i.update(t).finalize(e),i.reset();for(var c=1;c<f;c++)r=i.finalize(r),i.reset();o.concat(r)}return o.sigBytes=4*u,o}}),n.EvpKDF=function(t,e,r){return f.create(r).compute(t,e)},c.EvpKDF)},7333:function(t,e,r){var n,i,o,s;t.exports=(s=r(7359),r(9951),i=(n=s).lib.CipherParams,o=n.enc.Hex,n.format.Hex={stringify:function(t){return t.ciphertext.toString(o)},parse:function(t){var e=o.parse(t);return i.create({ciphertext:e})}},s.format.Hex)},6423:function(t,e,r){var n,i,o,s;t.exports=(n=r(7359),o=(i=n).lib.Base,s=i.enc.Utf8,void(i.algo.HMAC=o.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=s.parse(e));var r=t.blockSize,n=4*r;e.sigBytes>n&&(e=t.finalize(e)),e.clamp();for(var i=this._oKey=e.clone(),o=this._iKey=e.clone(),a=i.words,u=o.words,f=0;f<r;f++)a[f]^=1549556828,u[f]^=909522486;i.sigBytes=o.sigBytes=n,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,r=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(r))}})))},6023:function(t,e,r){var n;t.exports=(n=r(7359),r(6467),r(1816),r(6164),r(8139),r(9950),r(9174),r(1637),r(1093),r(3640),r(1834),r(1716),r(7140),r(5293),r(6423),r(9414),r(6844),r(9951),r(3173),r(4782),r(8655),r(2957),r(2129),r(2994),r(9236),r(1476),r(7921),r(181),r(7333),r(7452),r(567),r(830),r(3480),r(4730),n)},1816:function(t,e,r){var n;t.exports=(n=r(7359),function(){if("function"==typeof ArrayBuffer){var t=n.lib.WordArray,e=t.init,r=t.init=function(t){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),(t instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)&&(t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),t instanceof Uint8Array){for(var r=t.byteLength,n=[],i=0;i<r;i++)n[i>>>2]|=t[i]<<24-i%4*8;e.call(this,n,r)}else e.apply(this,arguments)};r.prototype=t}}(),n.lib.WordArray)},9174:function(t,e,r){var n;t.exports=(n=r(7359),function(t){var e=n,r=e.lib,i=r.WordArray,o=r.Hasher,s=e.algo,a=[];!function(){for(var e=0;e<64;e++)a[e]=4294967296*t.abs(t.sin(e+1))|0}();var u=s.MD5=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var r=0;r<16;r++){var n=e+r,i=t[n];t[n]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o=this._hash.words,s=t[e+0],u=t[e+1],l=t[e+2],p=t[e+3],b=t[e+4],g=t[e+5],m=t[e+6],y=t[e+7],v=t[e+8],w=t[e+9],_=t[e+10],S=t[e+11],M=t[e+12],A=t[e+13],C=t[e+14],E=t[e+15],O=o[0],x=o[1],T=o[2],P=o[3];O=f(O,x,T,P,s,7,a[0]),P=f(P,O,x,T,u,12,a[1]),T=f(T,P,O,x,l,17,a[2]),x=f(x,T,P,O,p,22,a[3]),O=f(O,x,T,P,b,7,a[4]),P=f(P,O,x,T,g,12,a[5]),T=f(T,P,O,x,m,17,a[6]),x=f(x,T,P,O,y,22,a[7]),O=f(O,x,T,P,v,7,a[8]),P=f(P,O,x,T,w,12,a[9]),T=f(T,P,O,x,_,17,a[10]),x=f(x,T,P,O,S,22,a[11]),O=f(O,x,T,P,M,7,a[12]),P=f(P,O,x,T,A,12,a[13]),T=f(T,P,O,x,C,17,a[14]),O=c(O,x=f(x,T,P,O,E,22,a[15]),T,P,u,5,a[16]),P=c(P,O,x,T,m,9,a[17]),T=c(T,P,O,x,S,14,a[18]),x=c(x,T,P,O,s,20,a[19]),O=c(O,x,T,P,g,5,a[20]),P=c(P,O,x,T,_,9,a[21]),T=c(T,P,O,x,E,14,a[22]),x=c(x,T,P,O,b,20,a[23]),O=c(O,x,T,P,w,5,a[24]),P=c(P,O,x,T,C,9,a[25]),T=c(T,P,O,x,p,14,a[26]),x=c(x,T,P,O,v,20,a[27]),O=c(O,x,T,P,A,5,a[28]),P=c(P,O,x,T,l,9,a[29]),T=c(T,P,O,x,y,14,a[30]),O=h(O,x=c(x,T,P,O,M,20,a[31]),T,P,g,4,a[32]),P=h(P,O,x,T,v,11,a[33]),T=h(T,P,O,x,S,16,a[34]),x=h(x,T,P,O,C,23,a[35]),O=h(O,x,T,P,u,4,a[36]),P=h(P,O,x,T,b,11,a[37]),T=h(T,P,O,x,y,16,a[38]),x=h(x,T,P,O,_,23,a[39]),O=h(O,x,T,P,A,4,a[40]),P=h(P,O,x,T,s,11,a[41]),T=h(T,P,O,x,p,16,a[42]),x=h(x,T,P,O,m,23,a[43]),O=h(O,x,T,P,w,4,a[44]),P=h(P,O,x,T,M,11,a[45]),T=h(T,P,O,x,E,16,a[46]),O=d(O,x=h(x,T,P,O,l,23,a[47]),T,P,s,6,a[48]),P=d(P,O,x,T,y,10,a[49]),T=d(T,P,O,x,C,15,a[50]),x=d(x,T,P,O,g,21,a[51]),O=d(O,x,T,P,M,6,a[52]),P=d(P,O,x,T,p,10,a[53]),T=d(T,P,O,x,_,15,a[54]),x=d(x,T,P,O,u,21,a[55]),O=d(O,x,T,P,v,6,a[56]),P=d(P,O,x,T,E,10,a[57]),T=d(T,P,O,x,m,15,a[58]),x=d(x,T,P,O,A,21,a[59]),O=d(O,x,T,P,b,6,a[60]),P=d(P,O,x,T,S,10,a[61]),T=d(T,P,O,x,l,15,a[62]),x=d(x,T,P,O,w,21,a[63]),o[0]=o[0]+O|0,o[1]=o[1]+x|0,o[2]=o[2]+T|0,o[3]=o[3]+P|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;r[i>>>5]|=128<<24-i%32;var o=t.floor(n/4294967296),s=n;r[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),r[14+(i+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),e.sigBytes=4*(r.length+1),this._process();for(var a=this._hash,u=a.words,f=0;f<4;f++){var c=u[f];u[f]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}return a},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});function f(t,e,r,n,i,o,s){var a=t+(e&r|~e&n)+i+s;return(a<<o|a>>>32-o)+e}function c(t,e,r,n,i,o,s){var a=t+(e&n|r&~n)+i+s;return(a<<o|a>>>32-o)+e}function h(t,e,r,n,i,o,s){var a=t+(e^r^n)+i+s;return(a<<o|a>>>32-o)+e}function d(t,e,r,n,i,o,s){var a=t+(r^(e|~n))+i+s;return(a<<o|a>>>32-o)+e}e.MD5=o._createHelper(u),e.HmacMD5=o._createHmacHelper(u)}(Math),n.MD5)},3173:function(t,e,r){var n;t.exports=(n=r(7359),r(9951),n.mode.CFB=function(){var t=n.lib.BlockCipherMode.extend();function e(t,e,r,n){var i,o=this._iv;o?(i=o.slice(0),this._iv=void 0):i=this._prevBlock,n.encryptBlock(i,0);for(var s=0;s<r;s++)t[e+s]^=i[s]}return t.Encryptor=t.extend({processBlock:function(t,r){var n=this._cipher,i=n.blockSize;e.call(this,t,r,i,n),this._prevBlock=t.slice(r,r+i)}}),t.Decryptor=t.extend({processBlock:function(t,r){var n=this._cipher,i=n.blockSize,o=t.slice(r,r+i);e.call(this,t,r,i,n),this._prevBlock=o}}),t}(),n.mode.CFB)},8655:function(t,e,r){var n;t.exports=(n=r(7359),r(9951),n.mode.CTRGladman=function(){var t=n.lib.BlockCipherMode.extend();function e(t){if(255==(t>>24&255)){var e=t>>16&255,r=t>>8&255,n=255&t;255===e?(e=0,255===r?(r=0,255===n?n=0:++n):++r):++e,t=0,t+=e<<16,t+=r<<8,t+=n}else t+=1<<24;return t}function r(t){return 0===(t[0]=e(t[0]))&&(t[1]=e(t[1])),t}var i=t.Encryptor=t.extend({processBlock:function(t,e){var n=this._cipher,i=n.blockSize,o=this._iv,s=this._counter;o&&(s=this._counter=o.slice(0),this._iv=void 0),r(s);var a=s.slice(0);n.encryptBlock(a,0);for(var u=0;u<i;u++)t[e+u]^=a[u]}});return t.Decryptor=i,t}(),n.mode.CTRGladman)},4782:function(t,e,r){var n,i,o;t.exports=(o=r(7359),r(9951),o.mode.CTR=(n=o.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(t,e){var r=this._cipher,n=r.blockSize,i=this._iv,o=this._counter;i&&(o=this._counter=i.slice(0),this._iv=void 0);var s=o.slice(0);r.encryptBlock(s,0),o[n-1]=o[n-1]+1|0;for(var a=0;a<n;a++)t[e+a]^=s[a]}}),n.Decryptor=i,n),o.mode.CTR)},2129:function(t,e,r){var n,i;t.exports=(i=r(7359),r(9951),i.mode.ECB=((n=i.lib.BlockCipherMode.extend()).Encryptor=n.extend({processBlock:function(t,e){this._cipher.encryptBlock(t,e)}}),n.Decryptor=n.extend({processBlock:function(t,e){this._cipher.decryptBlock(t,e)}}),n),i.mode.ECB)},2957:function(t,e,r){var n,i,o;t.exports=(o=r(7359),r(9951),o.mode.OFB=(n=o.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(t,e){var r=this._cipher,n=r.blockSize,i=this._iv,o=this._keystream;i&&(o=this._keystream=i.slice(0),this._iv=void 0),r.encryptBlock(o,0);for(var s=0;s<n;s++)t[e+s]^=o[s]}}),n.Decryptor=i,n),o.mode.OFB)},2994:function(t,e,r){var n;t.exports=(n=r(7359),r(9951),n.pad.AnsiX923={pad:function(t,e){var r=t.sigBytes,n=4*e,i=n-r%n,o=r+i-1;t.clamp(),t.words[o>>>2]|=i<<24-o%4*8,t.sigBytes+=i},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},n.pad.Ansix923)},9236:function(t,e,r){var n;t.exports=(n=r(7359),r(9951),n.pad.Iso10126={pad:function(t,e){var r=4*e,i=r-t.sigBytes%r;t.concat(n.lib.WordArray.random(i-1)).concat(n.lib.WordArray.create([i<<24],1))},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},n.pad.Iso10126)},1476:function(t,e,r){var n;t.exports=(n=r(7359),r(9951),n.pad.Iso97971={pad:function(t,e){t.concat(n.lib.WordArray.create([2147483648],1)),n.pad.ZeroPadding.pad(t,e)},unpad:function(t){n.pad.ZeroPadding.unpad(t),t.sigBytes--}},n.pad.Iso97971)},181:function(t,e,r){var n;t.exports=(n=r(7359),r(9951),n.pad.NoPadding={pad:function(){},unpad:function(){}},n.pad.NoPadding)},7921:function(t,e,r){var n;t.exports=(n=r(7359),r(9951),n.pad.ZeroPadding={pad:function(t,e){var r=4*e;t.clamp(),t.sigBytes+=r-(t.sigBytes%r||r)},unpad:function(t){var e=t.words,r=t.sigBytes-1;for(r=t.sigBytes-1;r>=0;r--)if(e[r>>>2]>>>24-r%4*8&255){t.sigBytes=r+1;break}}},n.pad.ZeroPadding)},9414:function(t,e,r){var n,i,o,s,a,u,f,c,h;t.exports=(h=r(7359),r(1637),r(6423),i=(n=h).lib,o=i.Base,s=i.WordArray,a=n.algo,u=a.SHA1,f=a.HMAC,c=a.PBKDF2=o.extend({cfg:o.extend({keySize:4,hasher:u,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var r=this.cfg,n=f.create(r.hasher,t),i=s.create(),o=s.create([1]),a=i.words,u=o.words,c=r.keySize,h=r.iterations;a.length<c;){var d=n.update(e).finalize(o);n.reset();for(var l=d.words,p=l.length,b=d,g=1;g<h;g++){b=n.finalize(b),n.reset();for(var m=b.words,y=0;y<p;y++)l[y]^=m[y]}i.concat(d),u[0]++}return i.sigBytes=4*c,i}}),n.PBKDF2=function(t,e,r){return c.create(r).compute(t,e)},h.PBKDF2)},4730:function(t,e,r){var n;t.exports=(n=r(7359),r(8139),r(9174),r(6844),r(9951),function(){var t=n,e=t.lib.StreamCipher,r=t.algo,i=[],o=[],s=[],a=r.RabbitLegacy=e.extend({_doReset:function(){var t=this._key.words,e=this.cfg.iv,r=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],n=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];this._b=0;for(var i=0;i<4;i++)u.call(this);for(i=0;i<8;i++)n[i]^=r[i+4&7];if(e){var o=e.words,s=o[0],a=o[1],f=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),c=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),h=f>>>16|4294901760&c,d=c<<16|65535&f;for(n[0]^=f,n[1]^=h,n[2]^=c,n[3]^=d,n[4]^=f,n[5]^=h,n[6]^=c,n[7]^=d,i=0;i<4;i++)u.call(this)}},_doProcessBlock:function(t,e){var r=this._X;u.call(this),i[0]=r[0]^r[5]>>>16^r[3]<<16,i[1]=r[2]^r[7]>>>16^r[5]<<16,i[2]=r[4]^r[1]>>>16^r[7]<<16,i[3]=r[6]^r[3]>>>16^r[1]<<16;for(var n=0;n<4;n++)i[n]=16711935&(i[n]<<8|i[n]>>>24)|4278255360&(i[n]<<24|i[n]>>>8),t[e+n]^=i[n]},blockSize:4,ivSize:2});function u(){for(var t=this._X,e=this._C,r=0;r<8;r++)o[r]=e[r];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<o[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<o[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<o[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<o[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<o[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<o[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<o[6]>>>0?1:0)|0,this._b=e[7]>>>0<o[7]>>>0?1:0,r=0;r<8;r++){var n=t[r]+e[r],i=65535&n,a=n>>>16,u=((i*i>>>17)+i*a>>>15)+a*a,f=((4294901760&n)*n|0)+((65535&n)*n|0);s[r]=u^f}t[0]=s[0]+(s[7]<<16|s[7]>>>16)+(s[6]<<16|s[6]>>>16)|0,t[1]=s[1]+(s[0]<<8|s[0]>>>24)+s[7]|0,t[2]=s[2]+(s[1]<<16|s[1]>>>16)+(s[0]<<16|s[0]>>>16)|0,t[3]=s[3]+(s[2]<<8|s[2]>>>24)+s[1]|0,t[4]=s[4]+(s[3]<<16|s[3]>>>16)+(s[2]<<16|s[2]>>>16)|0,t[5]=s[5]+(s[4]<<8|s[4]>>>24)+s[3]|0,t[6]=s[6]+(s[5]<<16|s[5]>>>16)+(s[4]<<16|s[4]>>>16)|0,t[7]=s[7]+(s[6]<<8|s[6]>>>24)+s[5]|0}t.RabbitLegacy=e._createHelper(a)}(),n.RabbitLegacy)},3480:function(t,e,r){var n;t.exports=(n=r(7359),r(8139),r(9174),r(6844),r(9951),function(){var t=n,e=t.lib.StreamCipher,r=t.algo,i=[],o=[],s=[],a=r.Rabbit=e.extend({_doReset:function(){for(var t=this._key.words,e=this.cfg.iv,r=0;r<4;r++)t[r]=16711935&(t[r]<<8|t[r]>>>24)|4278255360&(t[r]<<24|t[r]>>>8);var n=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],i=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];for(this._b=0,r=0;r<4;r++)u.call(this);for(r=0;r<8;r++)i[r]^=n[r+4&7];if(e){var o=e.words,s=o[0],a=o[1],f=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),c=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),h=f>>>16|4294901760&c,d=c<<16|65535&f;for(i[0]^=f,i[1]^=h,i[2]^=c,i[3]^=d,i[4]^=f,i[5]^=h,i[6]^=c,i[7]^=d,r=0;r<4;r++)u.call(this)}},_doProcessBlock:function(t,e){var r=this._X;u.call(this),i[0]=r[0]^r[5]>>>16^r[3]<<16,i[1]=r[2]^r[7]>>>16^r[5]<<16,i[2]=r[4]^r[1]>>>16^r[7]<<16,i[3]=r[6]^r[3]>>>16^r[1]<<16;for(var n=0;n<4;n++)i[n]=16711935&(i[n]<<8|i[n]>>>24)|4278255360&(i[n]<<24|i[n]>>>8),t[e+n]^=i[n]},blockSize:4,ivSize:2});function u(){for(var t=this._X,e=this._C,r=0;r<8;r++)o[r]=e[r];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<o[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<o[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<o[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<o[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<o[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<o[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<o[6]>>>0?1:0)|0,this._b=e[7]>>>0<o[7]>>>0?1:0,r=0;r<8;r++){var n=t[r]+e[r],i=65535&n,a=n>>>16,u=((i*i>>>17)+i*a>>>15)+a*a,f=((4294901760&n)*n|0)+((65535&n)*n|0);s[r]=u^f}t[0]=s[0]+(s[7]<<16|s[7]>>>16)+(s[6]<<16|s[6]>>>16)|0,t[1]=s[1]+(s[0]<<8|s[0]>>>24)+s[7]|0,t[2]=s[2]+(s[1]<<16|s[1]>>>16)+(s[0]<<16|s[0]>>>16)|0,t[3]=s[3]+(s[2]<<8|s[2]>>>24)+s[1]|0,t[4]=s[4]+(s[3]<<16|s[3]>>>16)+(s[2]<<16|s[2]>>>16)|0,t[5]=s[5]+(s[4]<<8|s[4]>>>24)+s[3]|0,t[6]=s[6]+(s[5]<<16|s[5]>>>16)+(s[4]<<16|s[4]>>>16)|0,t[7]=s[7]+(s[6]<<8|s[6]>>>24)+s[5]|0}t.Rabbit=e._createHelper(a)}(),n.Rabbit)},830:function(t,e,r){var n;t.exports=(n=r(7359),r(8139),r(9174),r(6844),r(9951),function(){var t=n,e=t.lib.StreamCipher,r=t.algo,i=r.RC4=e.extend({_doReset:function(){for(var t=this._key,e=t.words,r=t.sigBytes,n=this._S=[],i=0;i<256;i++)n[i]=i;i=0;for(var o=0;i<256;i++){var s=i%r,a=e[s>>>2]>>>24-s%4*8&255;o=(o+n[i]+a)%256;var u=n[i];n[i]=n[o],n[o]=u}this._i=this._j=0},_doProcessBlock:function(t,e){t[e]^=o.call(this)},keySize:8,ivSize:0});function o(){for(var t=this._S,e=this._i,r=this._j,n=0,i=0;i<4;i++){r=(r+t[e=(e+1)%256])%256;var o=t[e];t[e]=t[r],t[r]=o,n|=t[(t[e]+t[r])%256]<<24-8*i}return this._i=e,this._j=r,n}t.RC4=e._createHelper(i);var s=r.RC4Drop=i.extend({cfg:i.cfg.extend({drop:192}),_doReset:function(){i._doReset.call(this);for(var t=this.cfg.drop;t>0;t--)o.call(this)}});t.RC4Drop=e._createHelper(s)}(),n.RC4)},5293:function(t,e,r){var n;t.exports=(n=r(7359),function(t){var e=n,r=e.lib,i=r.WordArray,o=r.Hasher,s=e.algo,a=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),u=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),f=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),c=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),h=i.create([0,1518500249,1859775393,2400959708,2840853838]),d=i.create([1352829926,1548603684,1836072691,2053994217,0]),l=s.RIPEMD160=o.extend({_doReset:function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var r=0;r<16;r++){var n=e+r,i=t[n];t[n]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o,s,l,w,_,S,M,A,C,E,O,x=this._hash.words,T=h.words,P=d.words,I=a.words,R=u.words,L=f.words,B=c.words;for(S=o=x[0],M=s=x[1],A=l=x[2],C=w=x[3],E=_=x[4],r=0;r<80;r+=1)O=o+t[e+I[r]]|0,O+=r<16?p(s,l,w)+T[0]:r<32?b(s,l,w)+T[1]:r<48?g(s,l,w)+T[2]:r<64?m(s,l,w)+T[3]:y(s,l,w)+T[4],O=(O=v(O|=0,L[r]))+_|0,o=_,_=w,w=v(l,10),l=s,s=O,O=S+t[e+R[r]]|0,O+=r<16?y(M,A,C)+P[0]:r<32?m(M,A,C)+P[1]:r<48?g(M,A,C)+P[2]:r<64?b(M,A,C)+P[3]:p(M,A,C)+P[4],O=(O=v(O|=0,B[r]))+E|0,S=E,E=C,C=v(A,10),A=M,M=O;O=x[1]+l+C|0,x[1]=x[2]+w+E|0,x[2]=x[3]+_+S|0,x[3]=x[4]+o+M|0,x[4]=x[0]+s+A|0,x[0]=O},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes;e[n>>>5]|=128<<24-n%32,e[14+(n+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),t.sigBytes=4*(e.length+1),this._process();for(var i=this._hash,o=i.words,s=0;s<5;s++){var a=o[s];o[s]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}return i},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});function p(t,e,r){return t^e^r}function b(t,e,r){return t&e|~t&r}function g(t,e,r){return(t|~e)^r}function m(t,e,r){return t&r|e&~r}function y(t,e,r){return t^(e|~r)}function v(t,e){return t<<e|t>>>32-e}e.RIPEMD160=o._createHelper(l),e.HmacRIPEMD160=o._createHmacHelper(l)}(Math),n.RIPEMD160)},1637:function(t,e,r){var n,i,o,s,a,u,f,c;t.exports=(c=r(7359),i=(n=c).lib,o=i.WordArray,s=i.Hasher,a=n.algo,u=[],f=a.SHA1=s.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],s=r[3],a=r[4],f=0;f<80;f++){if(f<16)u[f]=0|t[e+f];else{var c=u[f-3]^u[f-8]^u[f-14]^u[f-16];u[f]=c<<1|c>>>31}var h=(n<<5|n>>>27)+a+u[f];h+=f<20?1518500249+(i&o|~i&s):f<40?1859775393+(i^o^s):f<60?(i&o|i&s|o&s)-1894007588:(i^o^s)-899497514,a=s,s=o,o=i<<30|i>>>2,i=n,n=h}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+o|0,r[3]=r[3]+s|0,r[4]=r[4]+a|0},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes;return e[n>>>5]|=128<<24-n%32,e[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),e[15+(n+64>>>9<<4)]=r,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=s.clone.call(this);return t._hash=this._hash.clone(),t}}),n.SHA1=s._createHelper(f),n.HmacSHA1=s._createHmacHelper(f),c.SHA1)},3640:function(t,e,r){var n,i,o,s,a,u;t.exports=(u=r(7359),r(1093),i=(n=u).lib.WordArray,o=n.algo,s=o.SHA256,a=o.SHA224=s.extend({_doReset:function(){this._hash=new i.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var t=s._doFinalize.call(this);return t.sigBytes-=4,t}}),n.SHA224=s._createHelper(a),n.HmacSHA224=s._createHmacHelper(a),u.SHA224)},1093:function(t,e,r){var n;t.exports=(n=r(7359),function(t){var e=n,r=e.lib,i=r.WordArray,o=r.Hasher,s=e.algo,a=[],u=[];!function(){function e(e){for(var r=t.sqrt(e),n=2;n<=r;n++)if(!(e%n))return!1;return!0}function r(t){return 4294967296*(t-(0|t))|0}for(var n=2,i=0;i<64;)e(n)&&(i<8&&(a[i]=r(t.pow(n,.5))),u[i]=r(t.pow(n,1/3)),i++),n++}();var f=[],c=s.SHA256=o.extend({_doReset:function(){this._hash=new i.init(a.slice(0))},_doProcessBlock:function(t,e){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],s=r[3],a=r[4],c=r[5],h=r[6],d=r[7],l=0;l<64;l++){if(l<16)f[l]=0|t[e+l];else{var p=f[l-15],b=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,g=f[l-2],m=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;f[l]=b+f[l-7]+m+f[l-16]}var y=n&i^n&o^i&o,v=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),w=d+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&c^~a&h)+u[l]+f[l];d=h,h=c,c=a,a=s+w|0,s=o,o=i,i=n,n=w+(v+y)|0}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+o|0,r[3]=r[3]+s|0,r[4]=r[4]+a|0,r[5]=r[5]+c|0,r[6]=r[6]+h|0,r[7]=r[7]+d|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;return r[i>>>5]|=128<<24-i%32,r[14+(i+64>>>9<<4)]=t.floor(n/4294967296),r[15+(i+64>>>9<<4)]=n,e.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});e.SHA256=o._createHelper(c),e.HmacSHA256=o._createHmacHelper(c)}(Math),n.SHA256)},7140:function(t,e,r){var n;t.exports=(n=r(7359),r(6467),function(t){var e=n,r=e.lib,i=r.WordArray,o=r.Hasher,s=e.x64.Word,a=e.algo,u=[],f=[],c=[];!function(){for(var t=1,e=0,r=0;r<24;r++){u[t+5*e]=(r+1)*(r+2)/2%64;var n=(2*t+3*e)%5;t=e%5,e=n}for(t=0;t<5;t++)for(e=0;e<5;e++)f[t+5*e]=e+(2*t+3*e)%5*5;for(var i=1,o=0;o<24;o++){for(var a=0,h=0,d=0;d<7;d++){if(1&i){var l=(1<<d)-1;l<32?h^=1<<l:a^=1<<l-32}128&i?i=i<<1^113:i<<=1}c[o]=s.create(a,h)}}();var h=[];!function(){for(var t=0;t<25;t++)h[t]=s.create()}();var d=a.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var t=this._state=[],e=0;e<25;e++)t[e]=new s.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(t,e){for(var r=this._state,n=this.blockSize/2,i=0;i<n;i++){var o=t[e+2*i],s=t[e+2*i+1];o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),s=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),(x=r[i]).high^=s,x.low^=o}for(var a=0;a<24;a++){for(var d=0;d<5;d++){for(var l=0,p=0,b=0;b<5;b++)l^=(x=r[d+5*b]).high,p^=x.low;var g=h[d];g.high=l,g.low=p}for(d=0;d<5;d++){var m=h[(d+4)%5],y=h[(d+1)%5],v=y.high,w=y.low;for(l=m.high^(v<<1|w>>>31),p=m.low^(w<<1|v>>>31),b=0;b<5;b++)(x=r[d+5*b]).high^=l,x.low^=p}for(var _=1;_<25;_++){var S=(x=r[_]).high,M=x.low,A=u[_];A<32?(l=S<<A|M>>>32-A,p=M<<A|S>>>32-A):(l=M<<A-32|S>>>64-A,p=S<<A-32|M>>>64-A);var C=h[f[_]];C.high=l,C.low=p}var E=h[0],O=r[0];for(E.high=O.high,E.low=O.low,d=0;d<5;d++)for(b=0;b<5;b++){var x=r[_=d+5*b],T=h[_],P=h[(d+1)%5+5*b],I=h[(d+2)%5+5*b];x.high=T.high^~P.high&I.high,x.low=T.low^~P.low&I.low}x=r[0];var R=c[a];x.high^=R.high,x.low^=R.low}},_doFinalize:function(){var e=this._data,r=e.words,n=(this._nDataBytes,8*e.sigBytes),o=32*this.blockSize;r[n>>>5]|=1<<24-n%32,r[(t.ceil((n+1)/o)*o>>>5)-1]|=128,e.sigBytes=4*r.length,this._process();for(var s=this._state,a=this.cfg.outputLength/8,u=a/8,f=[],c=0;c<u;c++){var h=s[c],d=h.high,l=h.low;d=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8),l=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8),f.push(l),f.push(d)}return new i.init(f,a)},clone:function(){for(var t=o.clone.call(this),e=t._state=this._state.slice(0),r=0;r<25;r++)e[r]=e[r].clone();return t}});e.SHA3=o._createHelper(d),e.HmacSHA3=o._createHmacHelper(d)}(Math),n.SHA3)},1716:function(t,e,r){var n,i,o,s,a,u,f,c;t.exports=(c=r(7359),r(6467),r(1834),i=(n=c).x64,o=i.Word,s=i.WordArray,a=n.algo,u=a.SHA512,f=a.SHA384=u.extend({_doReset:function(){this._hash=new s.init([new o.init(3418070365,3238371032),new o.init(1654270250,914150663),new o.init(2438529370,812702999),new o.init(355462360,4144912697),new o.init(1731405415,4290775857),new o.init(2394180231,1750603025),new o.init(3675008525,1694076839),new o.init(1203062813,3204075428)])},_doFinalize:function(){var t=u._doFinalize.call(this);return t.sigBytes-=16,t}}),n.SHA384=u._createHelper(f),n.HmacSHA384=u._createHmacHelper(f),c.SHA384)},1834:function(t,e,r){var n;t.exports=(n=r(7359),r(6467),function(){var t=n,e=t.lib.Hasher,r=t.x64,i=r.Word,o=r.WordArray,s=t.algo;function a(){return i.create.apply(i,arguments)}var u=[a(1116352408,3609767458),a(1899447441,602891725),a(3049323471,3964484399),a(3921009573,2173295548),a(961987163,4081628472),a(1508970993,3053834265),a(2453635748,2937671579),a(2870763221,3664609560),a(3624381080,2734883394),a(310598401,1164996542),a(607225278,1323610764),a(1426881987,3590304994),a(1925078388,4068182383),a(2162078206,991336113),a(2614888103,633803317),a(3248222580,3479774868),a(3835390401,2666613458),a(4022224774,944711139),a(264347078,2341262773),a(604807628,2007800933),a(770255983,1495990901),a(1249150122,1856431235),a(1555081692,3175218132),a(1996064986,2198950837),a(2554220882,3999719339),a(2821834349,766784016),a(2952996808,2566594879),a(3210313671,3203337956),a(3336571891,1034457026),a(3584528711,2466948901),a(113926993,3758326383),a(338241895,168717936),a(666307205,1188179964),a(773529912,1546045734),a(1294757372,1522805485),a(1396182291,2643833823),a(1695183700,2343527390),a(1986661051,1014477480),a(2177026350,1206759142),a(2456956037,344077627),a(2730485921,1290863460),a(2820302411,3158454273),a(3259730800,3505952657),a(3345764771,106217008),a(3516065817,3606008344),a(3600352804,1432725776),a(4094571909,1467031594),a(275423344,851169720),a(430227734,3100823752),a(506948616,1363258195),a(659060556,3750685593),a(883997877,3785050280),a(958139571,3318307427),a(1322822218,3812723403),a(1537002063,2003034995),a(1747873779,3602036899),a(1955562222,1575990012),a(2024104815,1125592928),a(2227730452,2716904306),a(2361852424,442776044),a(2428436474,593698344),a(2756734187,3733110249),a(3204031479,2999351573),a(3329325298,3815920427),a(3391569614,3928383900),a(3515267271,566280711),a(3940187606,3454069534),a(4118630271,4000239992),a(116418474,1914138554),a(174292421,2731055270),a(289380356,3203993006),a(460393269,320620315),a(685471733,587496836),a(852142971,1086792851),a(1017036298,365543100),a(1126000580,2618297676),a(1288033470,3409855158),a(1501505948,4234509866),a(1607167915,987167468),a(1816402316,1246189591)],f=[];!function(){for(var t=0;t<80;t++)f[t]=a()}();var c=s.SHA512=e.extend({_doReset:function(){this._hash=new o.init([new i.init(1779033703,4089235720),new i.init(3144134277,2227873595),new i.init(1013904242,4271175723),new i.init(2773480762,1595750129),new i.init(1359893119,2917565137),new i.init(2600822924,725511199),new i.init(528734635,4215389547),new i.init(1541459225,327033209)])},_doProcessBlock:function(t,e){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],s=r[3],a=r[4],c=r[5],h=r[6],d=r[7],l=n.high,p=n.low,b=i.high,g=i.low,m=o.high,y=o.low,v=s.high,w=s.low,_=a.high,S=a.low,M=c.high,A=c.low,C=h.high,E=h.low,O=d.high,x=d.low,T=l,P=p,I=b,R=g,L=m,B=y,k=v,N=w,H=_,U=S,D=M,z=A,F=C,j=E,W=O,G=x,V=0;V<80;V++){var K,q,J=f[V];if(V<16)q=J.high=0|t[e+2*V],K=J.low=0|t[e+2*V+1];else{var Y=f[V-15],$=Y.high,Q=Y.low,Z=($>>>1|Q<<31)^($>>>8|Q<<24)^$>>>7,X=(Q>>>1|$<<31)^(Q>>>8|$<<24)^(Q>>>7|$<<25),tt=f[V-2],et=tt.high,rt=tt.low,nt=(et>>>19|rt<<13)^(et<<3|rt>>>29)^et>>>6,it=(rt>>>19|et<<13)^(rt<<3|et>>>29)^(rt>>>6|et<<26),ot=f[V-7],st=ot.high,at=ot.low,ut=f[V-16],ft=ut.high,ct=ut.low;q=(q=(q=Z+st+((K=X+at)>>>0<X>>>0?1:0))+nt+((K+=it)>>>0<it>>>0?1:0))+ft+((K+=ct)>>>0<ct>>>0?1:0),J.high=q,J.low=K}var ht,dt=H&D^~H&F,lt=U&z^~U&j,pt=T&I^T&L^I&L,bt=P&R^P&B^R&B,gt=(T>>>28|P<<4)^(T<<30|P>>>2)^(T<<25|P>>>7),mt=(P>>>28|T<<4)^(P<<30|T>>>2)^(P<<25|T>>>7),yt=(H>>>14|U<<18)^(H>>>18|U<<14)^(H<<23|U>>>9),vt=(U>>>14|H<<18)^(U>>>18|H<<14)^(U<<23|H>>>9),wt=u[V],_t=wt.high,St=wt.low,Mt=W+yt+((ht=G+vt)>>>0<G>>>0?1:0),At=mt+bt;W=F,G=j,F=D,j=z,D=H,z=U,H=k+(Mt=(Mt=(Mt=Mt+dt+((ht+=lt)>>>0<lt>>>0?1:0))+_t+((ht+=St)>>>0<St>>>0?1:0))+q+((ht+=K)>>>0<K>>>0?1:0))+((U=N+ht|0)>>>0<N>>>0?1:0)|0,k=L,N=B,L=I,B=R,I=T,R=P,T=Mt+(gt+pt+(At>>>0<mt>>>0?1:0))+((P=ht+At|0)>>>0<ht>>>0?1:0)|0}p=n.low=p+P,n.high=l+T+(p>>>0<P>>>0?1:0),g=i.low=g+R,i.high=b+I+(g>>>0<R>>>0?1:0),y=o.low=y+B,o.high=m+L+(y>>>0<B>>>0?1:0),w=s.low=w+N,s.high=v+k+(w>>>0<N>>>0?1:0),S=a.low=S+U,a.high=_+H+(S>>>0<U>>>0?1:0),A=c.low=A+z,c.high=M+D+(A>>>0<z>>>0?1:0),E=h.low=E+j,h.high=C+F+(E>>>0<j>>>0?1:0),x=d.low=x+G,d.high=O+W+(x>>>0<G>>>0?1:0)},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes;return e[n>>>5]|=128<<24-n%32,e[30+(n+128>>>10<<5)]=Math.floor(r/4294967296),e[31+(n+128>>>10<<5)]=r,t.sigBytes=4*e.length,this._process(),this._hash.toX32()},clone:function(){var t=e.clone.call(this);return t._hash=this._hash.clone(),t},blockSize:32});t.SHA512=e._createHelper(c),t.HmacSHA512=e._createHmacHelper(c)}(),n.SHA512)},567:function(t,e,r){var n;t.exports=(n=r(7359),r(8139),r(9174),r(6844),r(9951),function(){var t=n,e=t.lib,r=e.WordArray,i=e.BlockCipher,o=t.algo,s=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],a=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],f=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],c=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=o.DES=i.extend({_doReset:function(){for(var t=this._key.words,e=[],r=0;r<56;r++){var n=s[r]-1;e[r]=t[n>>>5]>>>31-n%32&1}for(var i=this._subKeys=[],o=0;o<16;o++){var f=i[o]=[],c=u[o];for(r=0;r<24;r++)f[r/6|0]|=e[(a[r]-1+c)%28]<<31-r%6,f[4+(r/6|0)]|=e[28+(a[r+24]-1+c)%28]<<31-r%6;for(f[0]=f[0]<<1|f[0]>>>31,r=1;r<7;r++)f[r]=f[r]>>>4*(r-1)+3;f[7]=f[7]<<5|f[7]>>>27}var h=this._invSubKeys=[];for(r=0;r<16;r++)h[r]=i[15-r]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._subKeys)},decryptBlock:function(t,e){this._doCryptBlock(t,e,this._invSubKeys)},_doCryptBlock:function(t,e,r){this._lBlock=t[e],this._rBlock=t[e+1],d.call(this,4,252645135),d.call(this,16,65535),l.call(this,2,858993459),l.call(this,8,16711935),d.call(this,1,1431655765);for(var n=0;n<16;n++){for(var i=r[n],o=this._lBlock,s=this._rBlock,a=0,u=0;u<8;u++)a|=f[u][((s^i[u])&c[u])>>>0];this._lBlock=s,this._rBlock=o^a}var h=this._lBlock;this._lBlock=this._rBlock,this._rBlock=h,d.call(this,1,1431655765),l.call(this,8,16711935),l.call(this,2,858993459),d.call(this,16,65535),d.call(this,4,252645135),t[e]=this._lBlock,t[e+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function d(t,e){var r=(this._lBlock>>>t^this._rBlock)&e;this._rBlock^=r,this._lBlock^=r<<t}function l(t,e){var r=(this._rBlock>>>t^this._lBlock)&e;this._lBlock^=r,this._rBlock^=r<<t}t.DES=i._createHelper(h);var p=o.TripleDES=i.extend({_doReset:function(){var t=this._key.words;if(2!==t.length&&4!==t.length&&t.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var e=t.slice(0,2),n=t.length<4?t.slice(0,2):t.slice(2,4),i=t.length<6?t.slice(0,2):t.slice(4,6);this._des1=h.createEncryptor(r.create(e)),this._des2=h.createEncryptor(r.create(n)),this._des3=h.createEncryptor(r.create(i))},encryptBlock:function(t,e){this._des1.encryptBlock(t,e),this._des2.decryptBlock(t,e),this._des3.encryptBlock(t,e)},decryptBlock:function(t,e){this._des3.decryptBlock(t,e),this._des2.encryptBlock(t,e),this._des1.decryptBlock(t,e)},keySize:6,ivSize:2,blockSize:2});t.TripleDES=i._createHelper(p)}(),n.TripleDES)},6467:function(t,e,r){var n;t.exports=(n=r(7359),function(t){var e=n,r=e.lib,i=r.Base,o=r.WordArray,s=e.x64={};s.Word=i.extend({init:function(t,e){this.high=t,this.low=e}}),s.WordArray=i.extend({init:function(e,r){e=this.words=e||[],this.sigBytes=r!=t?r:8*e.length},toX32:function(){for(var t=this.words,e=t.length,r=[],n=0;n<e;n++){var i=t[n];r.push(i.high),r.push(i.low)}return o.create(r,this.sigBytes)},clone:function(){for(var t=i.clone.call(this),e=t.words=this.words.slice(0),r=e.length,n=0;n<r;n++)e[n]=e[n].clone();return t}})}(),n)},7554:(t,e,r)=>{"use strict";var n=e;n.version=r(763).i8,n.utils=r(8288),n.rand=r(2745),n.curve=r(8610),n.curves=r(1479),n.ec=r(8596),n.eddsa=r(9208)},8919:(t,e,r)=>{"use strict";var n=r(2140),i=r(8288),o=i.getNAF,s=i.getJSF,a=i.assert;function u(t,e){this.type=t,this.p=new n(e.p,16),this.red=e.prime?n.red(e.prime):n.mont(this.p),this.zero=new n(0).toRed(this.red),this.one=new n(1).toRed(this.red),this.two=new n(2).toRed(this.red),this.n=e.n&&new n(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function f(t,e){this.curve=t,this.type=e,this.precomputed=null}t.exports=u,u.prototype.point=function(){throw new Error("Not implemented")},u.prototype.validate=function(){throw new Error("Not implemented")},u.prototype._fixedNafMul=function(t,e){a(t.precomputed);var r=t._getDoubles(),n=o(e,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var s,u,f=[];for(s=0;s<n.length;s+=r.step){u=0;for(var c=s+r.step-1;c>=s;c--)u=(u<<1)+n[c];f.push(u)}for(var h=this.jpoint(null,null,null),d=this.jpoint(null,null,null),l=i;l>0;l--){for(s=0;s<f.length;s++)(u=f[s])===l?d=d.mixedAdd(r.points[s]):u===-l&&(d=d.mixedAdd(r.points[s].neg()));h=h.add(d)}return h.toP()},u.prototype._wnafMul=function(t,e){var r=4,n=t._getNAFPoints(r);r=n.wnd;for(var i=n.points,s=o(e,r,this._bitLength),u=this.jpoint(null,null,null),f=s.length-1;f>=0;f--){for(var c=0;f>=0&&0===s[f];f--)c++;if(f>=0&&c++,u=u.dblp(c),f<0)break;var h=s[f];a(0!==h),u="affine"===t.type?h>0?u.mixedAdd(i[h-1>>1]):u.mixedAdd(i[-h-1>>1].neg()):h>0?u.add(i[h-1>>1]):u.add(i[-h-1>>1].neg())}return"affine"===t.type?u.toP():u},u.prototype._wnafMulAdd=function(t,e,r,n,i){var a,u,f,c=this._wnafT1,h=this._wnafT2,d=this._wnafT3,l=0;for(a=0;a<n;a++){var p=(f=e[a])._getNAFPoints(t);c[a]=p.wnd,h[a]=p.points}for(a=n-1;a>=1;a-=2){var b=a-1,g=a;if(1===c[b]&&1===c[g]){var m=[e[b],null,null,e[g]];0===e[b].y.cmp(e[g].y)?(m[1]=e[b].add(e[g]),m[2]=e[b].toJ().mixedAdd(e[g].neg())):0===e[b].y.cmp(e[g].y.redNeg())?(m[1]=e[b].toJ().mixedAdd(e[g]),m[2]=e[b].add(e[g].neg())):(m[1]=e[b].toJ().mixedAdd(e[g]),m[2]=e[b].toJ().mixedAdd(e[g].neg()));var y=[-3,-1,-5,-7,0,7,5,1,3],v=s(r[b],r[g]);for(l=Math.max(v[0].length,l),d[b]=new Array(l),d[g]=new Array(l),u=0;u<l;u++){var w=0|v[0][u],_=0|v[1][u];d[b][u]=y[3*(w+1)+(_+1)],d[g][u]=0,h[b]=m}}else d[b]=o(r[b],c[b],this._bitLength),d[g]=o(r[g],c[g],this._bitLength),l=Math.max(d[b].length,l),l=Math.max(d[g].length,l)}var S=this.jpoint(null,null,null),M=this._wnafT4;for(a=l;a>=0;a--){for(var A=0;a>=0;){var C=!0;for(u=0;u<n;u++)M[u]=0|d[u][a],0!==M[u]&&(C=!1);if(!C)break;A++,a--}if(a>=0&&A++,S=S.dblp(A),a<0)break;for(u=0;u<n;u++){var E=M[u];0!==E&&(E>0?f=h[u][E-1>>1]:E<0&&(f=h[u][-E-1>>1].neg()),S="affine"===f.type?S.mixedAdd(f):S.add(f))}}for(a=0;a<n;a++)h[a]=null;return i?S:S.toP()},u.BasePoint=f,f.prototype.eq=function(){throw new Error("Not implemented")},f.prototype.validate=function(){return this.curve.validate(this)},u.prototype.decodePoint=function(t,e){t=i.toArray(t,e);var r=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*r)return 6===t[0]?a(t[t.length-1]%2==0):7===t[0]&&a(t[t.length-1]%2==1),this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));if((2===t[0]||3===t[0])&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),3===t[0]);throw new Error("Unknown point format")},f.prototype.encodeCompressed=function(t){return this.encode(t,!0)},f.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",e))},f.prototype.encode=function(t,e){return i.encode(this._encode(e),t)},f.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},f.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},f.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<e;i+=t){for(var o=0;o<t;o++)n=n.dbl();r.push(n)}return{step:t,points:r}},f.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)e[i]=e[i-1].add(n);return{wnd:t,points:e}},f.prototype._getBeta=function(){return null},f.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e}},7105:(t,e,r)=>{"use strict";var n=r(8288),i=r(2140),o=r(1285),s=r(8919),a=n.assert;function u(t){this.twisted=1!=(0|t.a),this.mOneA=this.twisted&&-1==(0|t.a),this.extended=this.mOneA,s.call(this,"edwards",t),this.a=new i(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|t.c)}function f(t,e,r,n,o){s.BasePoint.call(this,t,"projective"),null===e&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(e,16),this.y=new i(r,16),this.z=n?new i(n,16):this.curve.one,this.t=o&&new i(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(u,s),t.exports=u,u.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)},u.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)},u.prototype.jpoint=function(t,e,r,n){return this.point(t,e,r,n)},u.prototype.pointFromX=function(t,e){(t=new i(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr(),n=this.c2.redSub(this.a.redMul(r)),o=this.one.redSub(this.c2.redMul(this.d).redMul(r)),s=n.redMul(o.redInvm()),a=s.redSqrt();if(0!==a.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");var u=a.fromRed().isOdd();return(e&&!u||!e&&u)&&(a=a.redNeg()),this.point(t,a)},u.prototype.pointFromY=function(t,e){(t=new i(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr(),n=r.redSub(this.c2),o=r.redMul(this.d).redMul(this.c2).redSub(this.a),s=n.redMul(o.redInvm());if(0===s.cmp(this.zero)){if(e)throw new Error("invalid point");return this.point(this.zero,t)}var a=s.redSqrt();if(0!==a.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");return a.fromRed().isOdd()!==e&&(a=a.redNeg()),this.point(a,t)},u.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var e=t.x.redSqr(),r=t.y.redSqr(),n=e.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(e).redMul(r)));return 0===n.cmp(i)},o(f,s.BasePoint),u.prototype.pointFromJSON=function(t){return f.fromJSON(this,t)},u.prototype.point=function(t,e,r,n){return new f(this,t,e,r,n)},f.fromJSON=function(t,e){return new f(t,e[0],e[1],e[2])},f.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},f.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},f.prototype._extDbl=function(){var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(t),i=this.x.redAdd(this.y).redSqr().redISub(t).redISub(e),o=n.redAdd(e),s=o.redSub(r),a=n.redSub(e),u=i.redMul(s),f=o.redMul(a),c=i.redMul(a),h=s.redMul(o);return this.curve.point(u,f,h,c)},f.prototype._projDbl=function(){var t,e,r,n,i,o,s=this.x.redAdd(this.y).redSqr(),a=this.x.redSqr(),u=this.y.redSqr();if(this.curve.twisted){var f=(n=this.curve._mulA(a)).redAdd(u);this.zOne?(t=s.redSub(a).redSub(u).redMul(f.redSub(this.curve.two)),e=f.redMul(n.redSub(u)),r=f.redSqr().redSub(f).redSub(f)):(i=this.z.redSqr(),o=f.redSub(i).redISub(i),t=s.redSub(a).redISub(u).redMul(o),e=f.redMul(n.redSub(u)),r=f.redMul(o))}else n=a.redAdd(u),i=this.curve._mulC(this.z).redSqr(),o=n.redSub(i).redSub(i),t=this.curve._mulC(s.redISub(n)).redMul(o),e=this.curve._mulC(n).redMul(a.redISub(u)),r=n.redMul(o);return this.curve.point(t,e,r)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},f.prototype._extAdd=function(t){var e=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),r=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),n=this.t.redMul(this.curve.dd).redMul(t.t),i=this.z.redMul(t.z.redAdd(t.z)),o=r.redSub(e),s=i.redSub(n),a=i.redAdd(n),u=r.redAdd(e),f=o.redMul(s),c=a.redMul(u),h=o.redMul(u),d=s.redMul(a);return this.curve.point(f,c,d,h)},f.prototype._projAdd=function(t){var e,r,n=this.z.redMul(t.z),i=n.redSqr(),o=this.x.redMul(t.x),s=this.y.redMul(t.y),a=this.curve.d.redMul(o).redMul(s),u=i.redSub(a),f=i.redAdd(a),c=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(o).redISub(s),h=n.redMul(u).redMul(c);return this.curve.twisted?(e=n.redMul(f).redMul(s.redSub(this.curve._mulA(o))),r=u.redMul(f)):(e=n.redMul(f).redMul(s.redSub(o)),r=this.curve._mulC(u).redMul(f)),this.curve.point(h,e,r)},f.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)},f.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)},f.prototype.mulAdd=function(t,e,r){return this.curve._wnafMulAdd(1,[this,e],[t,r],2,!1)},f.prototype.jmulAdd=function(t,e,r){return this.curve._wnafMulAdd(1,[this,e],[t,r],2,!0)},f.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this},f.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},f.prototype.getX=function(){return this.normalize(),this.x.fromRed()},f.prototype.getY=function(){return this.normalize(),this.y.fromRed()},f.prototype.eq=function(t){return this===t||0===this.getX().cmp(t.getX())&&0===this.getY().cmp(t.getY())},f.prototype.eqXToP=function(t){var e=t.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(e))return!0;for(var r=t.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(e.redIAdd(n),0===this.x.cmp(e))return!0}},f.prototype.toP=f.prototype.normalize,f.prototype.mixedAdd=f.prototype.add},8610:(t,e,r)=>{"use strict";var n=e;n.base=r(8919),n.short=r(7715),n.mont=r(5125),n.edwards=r(7105)},5125:(t,e,r)=>{"use strict";var n=r(2140),i=r(1285),o=r(8919),s=r(8288);function a(t){o.call(this,"mont",t),this.a=new n(t.a,16).toRed(this.red),this.b=new n(t.b,16).toRed(this.red),this.i4=new n(4).toRed(this.red).redInvm(),this.two=new n(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function u(t,e,r){o.BasePoint.call(this,t,"projective"),null===e&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new n(e,16),this.z=new n(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(a,o),t.exports=a,a.prototype.validate=function(t){var e=t.normalize().x,r=e.redSqr(),n=r.redMul(e).redAdd(r.redMul(this.a)).redAdd(e);return 0===n.redSqrt().redSqr().cmp(n)},i(u,o.BasePoint),a.prototype.decodePoint=function(t,e){return this.point(s.toArray(t,e),1)},a.prototype.point=function(t,e){return new u(this,t,e)},a.prototype.pointFromJSON=function(t){return u.fromJSON(this,t)},u.prototype.precompute=function(){},u.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},u.fromJSON=function(t,e){return new u(t,e[0],e[1]||t.one)},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},u.prototype.dbl=function(){var t=this.x.redAdd(this.z).redSqr(),e=this.x.redSub(this.z).redSqr(),r=t.redSub(e),n=t.redMul(e),i=r.redMul(e.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},u.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.diffAdd=function(t,e){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=t.x.redAdd(t.z),o=t.x.redSub(t.z).redMul(r),s=i.redMul(n),a=e.z.redMul(o.redAdd(s).redSqr()),u=e.x.redMul(o.redISub(s).redSqr());return this.curve.point(a,u)},u.prototype.mul=function(t){for(var e=t.clone(),r=this,n=this.curve.point(null,null),i=[];0!==e.cmpn(0);e.iushrn(1))i.push(e.andln(1));for(var o=i.length-1;o>=0;o--)0===i[o]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},u.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.eq=function(t){return 0===this.getX().cmp(t.getX())},u.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},7715:(t,e,r)=>{"use strict";var n=r(8288),i=r(2140),o=r(1285),s=r(8919),a=n.assert;function u(t){s.call(this,"short",t),this.a=new i(t.a,16).toRed(this.red),this.b=new i(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function f(t,e,r,n){s.BasePoint.call(this,t,"affine"),null===e&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(e,16),this.y=new i(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function c(t,e,r,n){s.BasePoint.call(this,t,"jacobian"),null===e&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(e,16),this.y=new i(r,16),this.z=new i(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(u,s),t.exports=u,u.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,r;if(t.beta)e=new i(t.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);e=(e=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(t.lambda)r=new i(t.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(e))?r=o[0]:(r=o[1],a(0===this.g.mul(r).x.cmp(this.g.x.redMul(e))))}return{beta:e,lambda:r,basis:t.basis?t.basis.map((function(t){return{a:new i(t.a,16),b:new i(t.b,16)}})):this._getEndoBasis(r)}}},u.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:i.mont(t),r=new i(2).toRed(e).redInvm(),n=r.redNeg(),o=new i(3).toRed(e).redNeg().redSqrt().redMul(r);return[n.redAdd(o).fromRed(),n.redSub(o).fromRed()]},u.prototype._getEndoBasis=function(t){for(var e,r,n,o,s,a,u,f,c,h=this.n.ushrn(Math.floor(this.n.bitLength()/2)),d=t,l=this.n.clone(),p=new i(1),b=new i(0),g=new i(0),m=new i(1),y=0;0!==d.cmpn(0);){var v=l.div(d);f=l.sub(v.mul(d)),c=g.sub(v.mul(p));var w=m.sub(v.mul(b));if(!n&&f.cmp(h)<0)e=u.neg(),r=p,n=f.neg(),o=c;else if(n&&2==++y)break;u=f,l=d,d=f,g=p,p=c,m=b,b=w}s=f.neg(),a=c;var _=n.sqr().add(o.sqr());return s.sqr().add(a.sqr()).cmp(_)>=0&&(s=e,a=r),n.negative&&(n=n.neg(),o=o.neg()),s.negative&&(s=s.neg(),a=a.neg()),[{a:n,b:o},{a:s,b:a}]},u.prototype._endoSplit=function(t){var e=this.endo.basis,r=e[0],n=e[1],i=n.b.mul(t).divRound(this.n),o=r.b.neg().mul(t).divRound(this.n),s=i.mul(r.a),a=o.mul(n.a),u=i.mul(r.b),f=o.mul(n.b);return{k1:t.sub(s).sub(a),k2:u.add(f).neg()}},u.prototype.pointFromX=function(t,e){(t=new i(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var o=n.fromRed().isOdd();return(e&&!o||!e&&o)&&(n=n.redNeg()),this.point(t,n)},u.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,r=t.y,n=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},u.prototype._endoWnafMulAdd=function(t,e,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<t.length;o++){var s=this._endoSplit(e[o]),a=t[o],u=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),u=u.neg(!0)),n[2*o]=a,n[2*o+1]=u,i[2*o]=s.k1,i[2*o+1]=s.k2}for(var f=this._wnafMulAdd(1,n,i,2*o,r),c=0;c<2*o;c++)n[c]=null,i[c]=null;return f},o(f,s.BasePoint),u.prototype.point=function(t,e,r){return new f(this,t,e,r)},u.prototype.pointFromJSON=function(t,e){return f.fromJSON(this,t,e)},f.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,n=function(t){return r.point(t.x.redMul(r.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(n)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(n)}}}return e}},f.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},f.fromJSON=function(t,e,r){"string"==typeof e&&(e=JSON.parse(e));var n=t.point(e[0],e[1],r);if(!e[2])return n;function i(e){return t.point(e[0],e[1],r)}var o=e[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},f.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},f.prototype.isInfinity=function(){return this.inf},f.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x),n=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},f.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),n=t.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},f.prototype.getX=function(){return this.x.fromRed()},f.prototype.getY=function(){return this.y.fromRed()},f.prototype.mul=function(t){return t=new i(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},f.prototype.mulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},f.prototype.jmulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},f.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},f.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,n=function(t){return t.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return e},f.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(c,s.BasePoint),u.prototype.jpoint=function(t,e,r){return new c(this,t,e,r)},c.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),n=this.y.redMul(e).redMul(t);return this.curve.point(r,n)},c.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},c.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(e),i=t.x.redMul(r),o=this.y.redMul(e.redMul(t.z)),s=t.y.redMul(r.redMul(this.z)),a=n.redSub(i),u=o.redSub(s);if(0===a.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var f=a.redSqr(),c=f.redMul(a),h=n.redMul(f),d=u.redSqr().redIAdd(c).redISub(h).redISub(h),l=u.redMul(h.redISub(d)).redISub(o.redMul(c)),p=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(d,l,p)},c.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,n=t.x.redMul(e),i=this.y,o=t.y.redMul(e).redMul(this.z),s=r.redSub(n),a=i.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=s.redSqr(),f=u.redMul(s),c=r.redMul(u),h=a.redSqr().redIAdd(f).redISub(c).redISub(c),d=a.redMul(c.redISub(h)).redISub(i.redMul(f)),l=this.z.redMul(s);return this.curve.jpoint(h,d,l)},c.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var r=this;for(e=0;e<t;e++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,u=a.redSqr().redSqr(),f=s.redAdd(s);for(e=0;e<t;e++){var c=o.redSqr(),h=f.redSqr(),d=h.redSqr(),l=c.redAdd(c).redIAdd(c).redIAdd(n.redMul(u)),p=o.redMul(h),b=l.redSqr().redISub(p.redAdd(p)),g=p.redISub(b),m=l.redMul(g);m=m.redIAdd(m).redISub(d);var y=f.redMul(a);e+1<t&&(u=u.redMul(d)),o=b,a=y,f=m}return this.curve.jpoint(o,f.redMul(i),a)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},c.prototype._zeroDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n),u=a.redSqr().redISub(s).redISub(s),f=o.redIAdd(o);f=(f=f.redIAdd(f)).redIAdd(f),t=u,e=a.redMul(s.redISub(u)).redISub(f),r=this.y.redAdd(this.y)}else{var c=this.x.redSqr(),h=this.y.redSqr(),d=h.redSqr(),l=this.x.redAdd(h).redSqr().redISub(c).redISub(d);l=l.redIAdd(l);var p=c.redAdd(c).redIAdd(c),b=p.redSqr(),g=d.redIAdd(d);g=(g=g.redIAdd(g)).redIAdd(g),t=b.redISub(l).redISub(l),e=p.redMul(l.redISub(t)).redISub(g),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(t,e,r)},c.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=a.redSqr().redISub(s).redISub(s);t=u;var f=o.redIAdd(o);f=(f=f.redIAdd(f)).redIAdd(f),e=a.redMul(s.redISub(u)).redISub(f),r=this.y.redAdd(this.y)}else{var c=this.z.redSqr(),h=this.y.redSqr(),d=this.x.redMul(h),l=this.x.redSub(c).redMul(this.x.redAdd(c));l=l.redAdd(l).redIAdd(l);var p=d.redIAdd(d),b=(p=p.redIAdd(p)).redAdd(p);t=l.redSqr().redISub(b),r=this.y.redAdd(this.z).redSqr().redISub(h).redISub(c);var g=h.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),e=l.redMul(p.redISub(t)).redISub(g)}return this.curve.jpoint(t,e,r)},c.prototype._dbl=function(){var t=this.curve.a,e=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=e.redSqr(),s=r.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(t.redMul(i)),u=e.redAdd(e),f=(u=u.redIAdd(u)).redMul(s),c=a.redSqr().redISub(f.redAdd(f)),h=f.redISub(c),d=s.redSqr();d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var l=a.redMul(h).redISub(d),p=r.redAdd(r).redMul(n);return this.curve.jpoint(c,l,p)},c.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),n=e.redSqr(),i=t.redAdd(t).redIAdd(t),o=i.redSqr(),s=this.x.redAdd(e).redSqr().redISub(t).redISub(n),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),u=n.redIAdd(n);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var f=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(u),c=e.redMul(f);c=(c=c.redIAdd(c)).redIAdd(c);var h=this.x.redMul(a).redISub(c);h=(h=h.redIAdd(h)).redIAdd(h);var d=this.y.redMul(f.redMul(u.redISub(f)).redISub(s.redMul(a)));d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var l=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(h,d,l)},c.prototype.mul=function(t,e){return t=new i(t,e),this.curve._wnafMul(this,t)},c.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),r=t.z.redSqr();if(0!==this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0))return!1;var n=e.redMul(this.z),i=r.redMul(t.z);return 0===this.y.redMul(i).redISub(t.y.redMul(n)).cmpn(0)},c.prototype.eqXToP=function(t){var e=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(r))return!0;for(var n=t.clone(),i=this.curve.redN.redMul(e);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},c.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},1479:(t,e,r)=>{"use strict";var n,i=e,o=r(4485),s=r(8610),a=r(8288).assert;function u(t){"short"===t.type?this.curve=new s.short(t):"edwards"===t.type?this.curve=new s.edwards(t):this.curve=new s.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function f(t,e){Object.defineProperty(i,t,{configurable:!0,enumerable:!0,get:function(){var r=new u(e);return Object.defineProperty(i,t,{configurable:!0,enumerable:!0,value:r}),r}})}i.PresetCurve=u,f("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),f("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),f("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),f("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),f("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),f("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),f("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=r(7983)}catch(t){n=void 0}f("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})},8596:(t,e,r)=>{"use strict";var n=r(2140),i=r(8873),o=r(8288),s=r(1479),a=r(2745),u=o.assert,f=r(2307),c=r(1798);function h(t){if(!(this instanceof h))return new h(t);"string"==typeof t&&(u(Object.prototype.hasOwnProperty.call(s,t),"Unknown curve "+t),t=s[t]),t instanceof s.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}t.exports=h,h.prototype.keyPair=function(t){return new f(this,t)},h.prototype.keyFromPrivate=function(t,e){return f.fromPrivate(this,t,e)},h.prototype.keyFromPublic=function(t,e){return f.fromPublic(this,t,e)},h.prototype.genKeyPair=function(t){t||(t={});for(var e=new i({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||a(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),o=this.n.sub(new n(2));;){var s=new n(e.generate(r));if(!(s.cmp(o)>0))return s.iaddn(1),this.keyFromPrivate(s)}},h.prototype._truncateToN=function(t,e){var r=8*t.byteLength()-this.n.bitLength();return r>0&&(t=t.ushrn(r)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},h.prototype.sign=function(t,e,r,o){"object"==typeof r&&(o=r,r=null),o||(o={}),e=this.keyFromPrivate(e,r),t=this._truncateToN(new n(t,16));for(var s=this.n.byteLength(),a=e.getPrivate().toArray("be",s),u=t.toArray("be",s),f=new i({hash:this.hash,entropy:a,nonce:u,pers:o.pers,persEnc:o.persEnc||"utf8"}),h=this.n.sub(new n(1)),d=0;;d++){var l=o.k?o.k(d):new n(f.generate(this.n.byteLength()));if(!((l=this._truncateToN(l,!0)).cmpn(1)<=0||l.cmp(h)>=0)){var p=this.g.mul(l);if(!p.isInfinity()){var b=p.getX(),g=b.umod(this.n);if(0!==g.cmpn(0)){var m=l.invm(this.n).mul(g.mul(e.getPrivate()).iadd(t));if(0!==(m=m.umod(this.n)).cmpn(0)){var y=(p.getY().isOdd()?1:0)|(0!==b.cmp(g)?2:0);return o.canonical&&m.cmp(this.nh)>0&&(m=this.n.sub(m),y^=1),new c({r:g,s:m,recoveryParam:y})}}}}}},h.prototype.verify=function(t,e,r,i){t=this._truncateToN(new n(t,16)),r=this.keyFromPublic(r,i);var o=(e=new c(e,"hex")).r,s=e.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var a,u=s.invm(this.n),f=u.mul(t).umod(this.n),h=u.mul(o).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(f,r.getPublic(),h)).isInfinity()&&a.eqXToP(o):!(a=this.g.mulAdd(f,r.getPublic(),h)).isInfinity()&&0===a.getX().umod(this.n).cmp(o)},h.prototype.recoverPubKey=function(t,e,r,i){u((3&r)===r,"The recovery param is more than two bits"),e=new c(e,i);var o=this.n,s=new n(t),a=e.r,f=e.s,h=1&r,d=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&d)throw new Error("Unable to find sencond key candinate");a=d?this.curve.pointFromX(a.add(this.curve.n),h):this.curve.pointFromX(a,h);var l=e.r.invm(o),p=o.sub(s).mul(l).umod(o),b=f.mul(l).umod(o);return this.g.mulAdd(p,a,b)},h.prototype.getKeyRecoveryParam=function(t,e,r,n){if(null!==(e=new c(e,n)).recoveryParam)return e.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(t,e,i)}catch(t){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")}},2307:(t,e,r)=>{"use strict";var n=r(2140),i=r(8288).assert;function o(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}t.exports=o,o.fromPublic=function(t,e,r){return e instanceof o?e:new o(t,{pub:e,pubEnc:r})},o.fromPrivate=function(t,e,r){return e instanceof o?e:new o(t,{priv:e,privEnc:r})},o.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(t,e){return"string"==typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},o.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(t,e){this.priv=new n(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?i(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||i(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},o.prototype.derive=function(t){return t.validate()||i(t.validate(),"public point not validated"),t.mul(this.priv).getX()},o.prototype.sign=function(t,e,r){return this.ec.sign(t,this,e,r)},o.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},1798:(t,e,r)=>{"use strict";var n=r(2140),i=r(8288),o=i.assert;function s(t,e){if(t instanceof s)return t;this._importDER(t,e)||(o(t.r&&t.s,"Signature without r or s"),this.r=new n(t.r,16),this.s=new n(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}function a(){this.place=0}function u(t,e){var r=t[e.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,o=0,s=e.place;o<n;o++,s++)i<<=8,i|=t[s],i>>>=0;return!(i<=127)&&(e.place=s,i)}function f(t){for(var e=0,r=t.length-1;!t[e]&&!(128&t[e+1])&&e<r;)e++;return 0===e?t:t.slice(e)}function c(t,e){if(e<128)t.push(e);else{var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|r);--r;)t.push(e>>>(r<<3)&255);t.push(e)}}t.exports=s,s.prototype._importDER=function(t,e){t=i.toArray(t,e);var r=new a;if(48!==t[r.place++])return!1;var o=u(t,r);if(!1===o)return!1;if(o+r.place!==t.length)return!1;if(2!==t[r.place++])return!1;var s=u(t,r);if(!1===s)return!1;var f=t.slice(r.place,s+r.place);if(r.place+=s,2!==t[r.place++])return!1;var c=u(t,r);if(!1===c)return!1;if(t.length!==c+r.place)return!1;var h=t.slice(r.place,c+r.place);if(0===f[0]){if(!(128&f[1]))return!1;f=f.slice(1)}if(0===h[0]){if(!(128&h[1]))return!1;h=h.slice(1)}return this.r=new n(f),this.s=new n(h),this.recoveryParam=null,!0},s.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r)),e=f(e),r=f(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];c(n,e.length),(n=n.concat(e)).push(2),c(n,r.length);var o=n.concat(r),s=[48];return c(s,o.length),s=s.concat(o),i.encode(s,t)}},9208:(t,e,r)=>{"use strict";var n=r(4485),i=r(1479),o=r(8288),s=o.assert,a=o.parseBytes,u=r(851),f=r(6117);function c(t){if(s("ed25519"===t,"only tested with ed25519 so far"),!(this instanceof c))return new c(t);t=i[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=n.sha512}t.exports=c,c.prototype.sign=function(t,e){t=a(t);var r=this.keyFromSecret(e),n=this.hashInt(r.messagePrefix(),t),i=this.g.mul(n),o=this.encodePoint(i),s=this.hashInt(o,r.pubBytes(),t).mul(r.priv()),u=n.add(s).umod(this.curve.n);return this.makeSignature({R:i,S:u,Rencoded:o})},c.prototype.verify=function(t,e,r){t=a(t),e=this.makeSignature(e);var n=this.keyFromPublic(r),i=this.hashInt(e.Rencoded(),n.pubBytes(),t),o=this.g.mul(e.S());return e.R().add(n.pub().mul(i)).eq(o)},c.prototype.hashInt=function(){for(var t=this.hash(),e=0;e<arguments.length;e++)t.update(arguments[e]);return o.intFromLE(t.digest()).umod(this.curve.n)},c.prototype.keyFromPublic=function(t){return u.fromPublic(this,t)},c.prototype.keyFromSecret=function(t){return u.fromSecret(this,t)},c.prototype.makeSignature=function(t){return t instanceof f?t:new f(this,t)},c.prototype.encodePoint=function(t){var e=t.getY().toArray("le",this.encodingLength);return e[this.encodingLength-1]|=t.getX().isOdd()?128:0,e},c.prototype.decodePoint=function(t){var e=(t=o.parseBytes(t)).length-1,r=t.slice(0,e).concat(-129&t[e]),n=0!=(128&t[e]),i=o.intFromLE(r);return this.curve.pointFromY(i,n)},c.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)},c.prototype.decodeInt=function(t){return o.intFromLE(t)},c.prototype.isPoint=function(t){return t instanceof this.pointClass}},851:(t,e,r)=>{"use strict";var n=r(8288),i=n.assert,o=n.parseBytes,s=n.cachedProperty;function a(t,e){this.eddsa=t,this._secret=o(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=o(e.pub)}a.fromPublic=function(t,e){return e instanceof a?e:new a(t,{pub:e})},a.fromSecret=function(t,e){return e instanceof a?e:new a(t,{secret:e})},a.prototype.secret=function(){return this._secret},s(a,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),s(a,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),s(a,"privBytes",(function(){var t=this.eddsa,e=this.hash(),r=t.encodingLength-1,n=e.slice(0,t.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n})),s(a,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),s(a,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),s(a,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),a.prototype.sign=function(t){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)},a.prototype.verify=function(t,e){return this.eddsa.verify(t,e,this)},a.prototype.getSecret=function(t){return i(this._secret,"KeyPair is public only"),n.encode(this.secret(),t)},a.prototype.getPublic=function(t){return n.encode(this.pubBytes(),t)},t.exports=a},6117:(t,e,r)=>{"use strict";var n=r(2140),i=r(8288),o=i.assert,s=i.cachedProperty,a=i.parseBytes;function u(t,e){this.eddsa=t,"object"!=typeof e&&(e=a(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),o(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof n&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}s(u,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),s(u,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),s(u,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),s(u,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),u.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},u.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},t.exports=u},7983:t=>{t.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},8288:(t,e,r)=>{"use strict";var n=e,i=r(2140),o=r(9561),s=r(3022);n.assert=o,n.toArray=s.toArray,n.zero2=s.zero2,n.toHex=s.toHex,n.encode=s.encode,n.getNAF=function(t,e,r){var n=new Array(Math.max(t.bitLength(),r)+1);n.fill(0);for(var i=1<<e+1,o=t.clone(),s=0;s<n.length;s++){var a,u=o.andln(i-1);o.isOdd()?(a=u>(i>>1)-1?(i>>1)-u:u,o.isubn(a)):a=0,n[s]=a,o.iushrn(1)}return n},n.getJSF=function(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n,i=0,o=0;t.cmpn(-i)>0||e.cmpn(-o)>0;){var s,a,u=t.andln(3)+i&3,f=e.andln(3)+o&3;3===u&&(u=-1),3===f&&(f=-1),s=0==(1&u)?0:3!==(n=t.andln(7)+i&7)&&5!==n||2!==f?u:-u,r[0].push(s),a=0==(1&f)?0:3!==(n=e.andln(7)+o&7)&&5!==n||2!==u?f:-f,r[1].push(a),2*i===s+1&&(i=1-i),2*o===a+1&&(o=1-o),t.iushrn(1),e.iushrn(1)}return r},n.cachedProperty=function(t,e,r){var n="_"+e;t.prototype[e]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},n.parseBytes=function(t){return"string"==typeof t?n.toArray(t,"hex"):t},n.intFromLE=function(t){return new i(t,"hex","le")}},2140:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var s;"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(488).Buffer}catch(t){}function a(t,e){var r=t.charCodeAt(e);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function u(t,e,r){var n=a(t,r);return r-1>=e&&(n|=a(t,r-1)<<4),n}function f(t,e,r,n){for(var i=0,o=Math.min(t.length,r),s=e;s<o;s++){var a=t.charCodeAt(s)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=u(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=u(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this.strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,s=o%n,a=Math.min(o,o-s)+r,u=0,c=r;c<a;c+=n)u=f(t,c,c+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var h=1;for(u=f(t,c,t.length,e),c=0;c<s;c++)h*=e;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function l(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var f=1;f<n;f++){for(var c=u>>>26,h=67108863&u,d=Math.min(f,e.length-1),l=Math.max(0,f-t.length+1);l<=d;l++){var p=f-l|0;c+=(s=(i=0|t.words[p])*(o=0|e.words[l])+h)/67108864|0,h=67108863&s}r.words[f]=0|h,u=0|c}return 0!==u?r.words[f]=0|u:r.length--,r.strip()}o.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);r=0!==(o=a>>>24-i&16777215)||s!==this.length-1?c[6-u.length]+u+r:u+r,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(r=o.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var f=h[t],l=d[t];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var b=p.modn(l).toString(t);r=(p=p.idivn(l)).isZero()?b+r:c[f-b.length]+b+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return n(void 0!==s),this.toArrayLike(s,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,r){var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0"),this.strip();var s,a,u="le"===e,f=new t(o),c=this.clone();if(u){for(a=0;!c.isZero();a++)s=c.andln(255),c.iushrn(8),f[a]=s;for(;a<o;a++)f[a]=0}else{for(a=0;a<o-i;a++)f[a]=0;for(a=0;!c.isZero();a++)s=c.andln(255),c.iushrn(8),f[o-a-1]=s}return f},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,s=0;s<n.length;s++)o=(e=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,r){var n,i,o,s=t.words,a=e.words,u=r.words,f=0,c=0|s[0],h=8191&c,d=c>>>13,l=0|s[1],p=8191&l,b=l>>>13,g=0|s[2],m=8191&g,y=g>>>13,v=0|s[3],w=8191&v,_=v>>>13,S=0|s[4],M=8191&S,A=S>>>13,C=0|s[5],E=8191&C,O=C>>>13,x=0|s[6],T=8191&x,P=x>>>13,I=0|s[7],R=8191&I,L=I>>>13,B=0|s[8],k=8191&B,N=B>>>13,H=0|s[9],U=8191&H,D=H>>>13,z=0|a[0],F=8191&z,j=z>>>13,W=0|a[1],G=8191&W,V=W>>>13,K=0|a[2],q=8191&K,J=K>>>13,Y=0|a[3],$=8191&Y,Q=Y>>>13,Z=0|a[4],X=8191&Z,tt=Z>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ut=8191&at,ft=at>>>13,ct=0|a[8],ht=8191&ct,dt=ct>>>13,lt=0|a[9],pt=8191&lt,bt=lt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(f+(n=Math.imul(h,F))|0)+((8191&(i=(i=Math.imul(h,j))+Math.imul(d,F)|0))<<13)|0;f=((o=Math.imul(d,j))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,F),i=(i=Math.imul(p,j))+Math.imul(b,F)|0,o=Math.imul(b,j);var mt=(f+(n=n+Math.imul(h,G)|0)|0)+((8191&(i=(i=i+Math.imul(h,V)|0)+Math.imul(d,G)|0))<<13)|0;f=((o=o+Math.imul(d,V)|0)+(i>>>13)|0)+(mt>>>26)|0,mt&=67108863,n=Math.imul(m,F),i=(i=Math.imul(m,j))+Math.imul(y,F)|0,o=Math.imul(y,j),n=n+Math.imul(p,G)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(b,G)|0,o=o+Math.imul(b,V)|0;var yt=(f+(n=n+Math.imul(h,q)|0)|0)+((8191&(i=(i=i+Math.imul(h,J)|0)+Math.imul(d,q)|0))<<13)|0;f=((o=o+Math.imul(d,J)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(w,F),i=(i=Math.imul(w,j))+Math.imul(_,F)|0,o=Math.imul(_,j),n=n+Math.imul(m,G)|0,i=(i=i+Math.imul(m,V)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,V)|0,n=n+Math.imul(p,q)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(b,q)|0,o=o+Math.imul(b,J)|0;var vt=(f+(n=n+Math.imul(h,$)|0)|0)+((8191&(i=(i=i+Math.imul(h,Q)|0)+Math.imul(d,$)|0))<<13)|0;f=((o=o+Math.imul(d,Q)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(M,F),i=(i=Math.imul(M,j))+Math.imul(A,F)|0,o=Math.imul(A,j),n=n+Math.imul(w,G)|0,i=(i=i+Math.imul(w,V)|0)+Math.imul(_,G)|0,o=o+Math.imul(_,V)|0,n=n+Math.imul(m,q)|0,i=(i=i+Math.imul(m,J)|0)+Math.imul(y,q)|0,o=o+Math.imul(y,J)|0,n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,Q)|0)+Math.imul(b,$)|0,o=o+Math.imul(b,Q)|0;var wt=(f+(n=n+Math.imul(h,X)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(d,X)|0))<<13)|0;f=((o=o+Math.imul(d,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(E,F),i=(i=Math.imul(E,j))+Math.imul(O,F)|0,o=Math.imul(O,j),n=n+Math.imul(M,G)|0,i=(i=i+Math.imul(M,V)|0)+Math.imul(A,G)|0,o=o+Math.imul(A,V)|0,n=n+Math.imul(w,q)|0,i=(i=i+Math.imul(w,J)|0)+Math.imul(_,q)|0,o=o+Math.imul(_,J)|0,n=n+Math.imul(m,$)|0,i=(i=i+Math.imul(m,Q)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,Q)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(b,X)|0,o=o+Math.imul(b,tt)|0;var _t=(f+(n=n+Math.imul(h,rt)|0)|0)+((8191&(i=(i=i+Math.imul(h,nt)|0)+Math.imul(d,rt)|0))<<13)|0;f=((o=o+Math.imul(d,nt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(T,F),i=(i=Math.imul(T,j))+Math.imul(P,F)|0,o=Math.imul(P,j),n=n+Math.imul(E,G)|0,i=(i=i+Math.imul(E,V)|0)+Math.imul(O,G)|0,o=o+Math.imul(O,V)|0,n=n+Math.imul(M,q)|0,i=(i=i+Math.imul(M,J)|0)+Math.imul(A,q)|0,o=o+Math.imul(A,J)|0,n=n+Math.imul(w,$)|0,i=(i=i+Math.imul(w,Q)|0)+Math.imul(_,$)|0,o=o+Math.imul(_,Q)|0,n=n+Math.imul(m,X)|0,i=(i=i+Math.imul(m,tt)|0)+Math.imul(y,X)|0,o=o+Math.imul(y,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(b,rt)|0,o=o+Math.imul(b,nt)|0;var St=(f+(n=n+Math.imul(h,ot)|0)|0)+((8191&(i=(i=i+Math.imul(h,st)|0)+Math.imul(d,ot)|0))<<13)|0;f=((o=o+Math.imul(d,st)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(R,F),i=(i=Math.imul(R,j))+Math.imul(L,F)|0,o=Math.imul(L,j),n=n+Math.imul(T,G)|0,i=(i=i+Math.imul(T,V)|0)+Math.imul(P,G)|0,o=o+Math.imul(P,V)|0,n=n+Math.imul(E,q)|0,i=(i=i+Math.imul(E,J)|0)+Math.imul(O,q)|0,o=o+Math.imul(O,J)|0,n=n+Math.imul(M,$)|0,i=(i=i+Math.imul(M,Q)|0)+Math.imul(A,$)|0,o=o+Math.imul(A,Q)|0,n=n+Math.imul(w,X)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(_,X)|0,o=o+Math.imul(_,tt)|0,n=n+Math.imul(m,rt)|0,i=(i=i+Math.imul(m,nt)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,nt)|0,n=n+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,st)|0)+Math.imul(b,ot)|0,o=o+Math.imul(b,st)|0;var Mt=(f+(n=n+Math.imul(h,ut)|0)|0)+((8191&(i=(i=i+Math.imul(h,ft)|0)+Math.imul(d,ut)|0))<<13)|0;f=((o=o+Math.imul(d,ft)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(k,F),i=(i=Math.imul(k,j))+Math.imul(N,F)|0,o=Math.imul(N,j),n=n+Math.imul(R,G)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(L,G)|0,o=o+Math.imul(L,V)|0,n=n+Math.imul(T,q)|0,i=(i=i+Math.imul(T,J)|0)+Math.imul(P,q)|0,o=o+Math.imul(P,J)|0,n=n+Math.imul(E,$)|0,i=(i=i+Math.imul(E,Q)|0)+Math.imul(O,$)|0,o=o+Math.imul(O,Q)|0,n=n+Math.imul(M,X)|0,i=(i=i+Math.imul(M,tt)|0)+Math.imul(A,X)|0,o=o+Math.imul(A,tt)|0,n=n+Math.imul(w,rt)|0,i=(i=i+Math.imul(w,nt)|0)+Math.imul(_,rt)|0,o=o+Math.imul(_,nt)|0,n=n+Math.imul(m,ot)|0,i=(i=i+Math.imul(m,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(b,ut)|0,o=o+Math.imul(b,ft)|0;var At=(f+(n=n+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,dt)|0)+Math.imul(d,ht)|0))<<13)|0;f=((o=o+Math.imul(d,dt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(U,F),i=(i=Math.imul(U,j))+Math.imul(D,F)|0,o=Math.imul(D,j),n=n+Math.imul(k,G)|0,i=(i=i+Math.imul(k,V)|0)+Math.imul(N,G)|0,o=o+Math.imul(N,V)|0,n=n+Math.imul(R,q)|0,i=(i=i+Math.imul(R,J)|0)+Math.imul(L,q)|0,o=o+Math.imul(L,J)|0,n=n+Math.imul(T,$)|0,i=(i=i+Math.imul(T,Q)|0)+Math.imul(P,$)|0,o=o+Math.imul(P,Q)|0,n=n+Math.imul(E,X)|0,i=(i=i+Math.imul(E,tt)|0)+Math.imul(O,X)|0,o=o+Math.imul(O,tt)|0,n=n+Math.imul(M,rt)|0,i=(i=i+Math.imul(M,nt)|0)+Math.imul(A,rt)|0,o=o+Math.imul(A,nt)|0,n=n+Math.imul(w,ot)|0,i=(i=i+Math.imul(w,st)|0)+Math.imul(_,ot)|0,o=o+Math.imul(_,st)|0,n=n+Math.imul(m,ut)|0,i=(i=i+Math.imul(m,ft)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,ft)|0,n=n+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,dt)|0)+Math.imul(b,ht)|0,o=o+Math.imul(b,dt)|0;var Ct=(f+(n=n+Math.imul(h,pt)|0)|0)+((8191&(i=(i=i+Math.imul(h,bt)|0)+Math.imul(d,pt)|0))<<13)|0;f=((o=o+Math.imul(d,bt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(U,G),i=(i=Math.imul(U,V))+Math.imul(D,G)|0,o=Math.imul(D,V),n=n+Math.imul(k,q)|0,i=(i=i+Math.imul(k,J)|0)+Math.imul(N,q)|0,o=o+Math.imul(N,J)|0,n=n+Math.imul(R,$)|0,i=(i=i+Math.imul(R,Q)|0)+Math.imul(L,$)|0,o=o+Math.imul(L,Q)|0,n=n+Math.imul(T,X)|0,i=(i=i+Math.imul(T,tt)|0)+Math.imul(P,X)|0,o=o+Math.imul(P,tt)|0,n=n+Math.imul(E,rt)|0,i=(i=i+Math.imul(E,nt)|0)+Math.imul(O,rt)|0,o=o+Math.imul(O,nt)|0,n=n+Math.imul(M,ot)|0,i=(i=i+Math.imul(M,st)|0)+Math.imul(A,ot)|0,o=o+Math.imul(A,st)|0,n=n+Math.imul(w,ut)|0,i=(i=i+Math.imul(w,ft)|0)+Math.imul(_,ut)|0,o=o+Math.imul(_,ft)|0,n=n+Math.imul(m,ht)|0,i=(i=i+Math.imul(m,dt)|0)+Math.imul(y,ht)|0,o=o+Math.imul(y,dt)|0;var Et=(f+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,bt)|0)+Math.imul(b,pt)|0))<<13)|0;f=((o=o+Math.imul(b,bt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(U,q),i=(i=Math.imul(U,J))+Math.imul(D,q)|0,o=Math.imul(D,J),n=n+Math.imul(k,$)|0,i=(i=i+Math.imul(k,Q)|0)+Math.imul(N,$)|0,o=o+Math.imul(N,Q)|0,n=n+Math.imul(R,X)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(L,X)|0,o=o+Math.imul(L,tt)|0,n=n+Math.imul(T,rt)|0,i=(i=i+Math.imul(T,nt)|0)+Math.imul(P,rt)|0,o=o+Math.imul(P,nt)|0,n=n+Math.imul(E,ot)|0,i=(i=i+Math.imul(E,st)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,st)|0,n=n+Math.imul(M,ut)|0,i=(i=i+Math.imul(M,ft)|0)+Math.imul(A,ut)|0,o=o+Math.imul(A,ft)|0,n=n+Math.imul(w,ht)|0,i=(i=i+Math.imul(w,dt)|0)+Math.imul(_,ht)|0,o=o+Math.imul(_,dt)|0;var Ot=(f+(n=n+Math.imul(m,pt)|0)|0)+((8191&(i=(i=i+Math.imul(m,bt)|0)+Math.imul(y,pt)|0))<<13)|0;f=((o=o+Math.imul(y,bt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,n=Math.imul(U,$),i=(i=Math.imul(U,Q))+Math.imul(D,$)|0,o=Math.imul(D,Q),n=n+Math.imul(k,X)|0,i=(i=i+Math.imul(k,tt)|0)+Math.imul(N,X)|0,o=o+Math.imul(N,tt)|0,n=n+Math.imul(R,rt)|0,i=(i=i+Math.imul(R,nt)|0)+Math.imul(L,rt)|0,o=o+Math.imul(L,nt)|0,n=n+Math.imul(T,ot)|0,i=(i=i+Math.imul(T,st)|0)+Math.imul(P,ot)|0,o=o+Math.imul(P,st)|0,n=n+Math.imul(E,ut)|0,i=(i=i+Math.imul(E,ft)|0)+Math.imul(O,ut)|0,o=o+Math.imul(O,ft)|0,n=n+Math.imul(M,ht)|0,i=(i=i+Math.imul(M,dt)|0)+Math.imul(A,ht)|0,o=o+Math.imul(A,dt)|0;var xt=(f+(n=n+Math.imul(w,pt)|0)|0)+((8191&(i=(i=i+Math.imul(w,bt)|0)+Math.imul(_,pt)|0))<<13)|0;f=((o=o+Math.imul(_,bt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(U,X),i=(i=Math.imul(U,tt))+Math.imul(D,X)|0,o=Math.imul(D,tt),n=n+Math.imul(k,rt)|0,i=(i=i+Math.imul(k,nt)|0)+Math.imul(N,rt)|0,o=o+Math.imul(N,nt)|0,n=n+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,st)|0)+Math.imul(L,ot)|0,o=o+Math.imul(L,st)|0,n=n+Math.imul(T,ut)|0,i=(i=i+Math.imul(T,ft)|0)+Math.imul(P,ut)|0,o=o+Math.imul(P,ft)|0,n=n+Math.imul(E,ht)|0,i=(i=i+Math.imul(E,dt)|0)+Math.imul(O,ht)|0,o=o+Math.imul(O,dt)|0;var Tt=(f+(n=n+Math.imul(M,pt)|0)|0)+((8191&(i=(i=i+Math.imul(M,bt)|0)+Math.imul(A,pt)|0))<<13)|0;f=((o=o+Math.imul(A,bt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(U,rt),i=(i=Math.imul(U,nt))+Math.imul(D,rt)|0,o=Math.imul(D,nt),n=n+Math.imul(k,ot)|0,i=(i=i+Math.imul(k,st)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,st)|0,n=n+Math.imul(R,ut)|0,i=(i=i+Math.imul(R,ft)|0)+Math.imul(L,ut)|0,o=o+Math.imul(L,ft)|0,n=n+Math.imul(T,ht)|0,i=(i=i+Math.imul(T,dt)|0)+Math.imul(P,ht)|0,o=o+Math.imul(P,dt)|0;var Pt=(f+(n=n+Math.imul(E,pt)|0)|0)+((8191&(i=(i=i+Math.imul(E,bt)|0)+Math.imul(O,pt)|0))<<13)|0;f=((o=o+Math.imul(O,bt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(U,ot),i=(i=Math.imul(U,st))+Math.imul(D,ot)|0,o=Math.imul(D,st),n=n+Math.imul(k,ut)|0,i=(i=i+Math.imul(k,ft)|0)+Math.imul(N,ut)|0,o=o+Math.imul(N,ft)|0,n=n+Math.imul(R,ht)|0,i=(i=i+Math.imul(R,dt)|0)+Math.imul(L,ht)|0,o=o+Math.imul(L,dt)|0;var It=(f+(n=n+Math.imul(T,pt)|0)|0)+((8191&(i=(i=i+Math.imul(T,bt)|0)+Math.imul(P,pt)|0))<<13)|0;f=((o=o+Math.imul(P,bt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(U,ut),i=(i=Math.imul(U,ft))+Math.imul(D,ut)|0,o=Math.imul(D,ft),n=n+Math.imul(k,ht)|0,i=(i=i+Math.imul(k,dt)|0)+Math.imul(N,ht)|0,o=o+Math.imul(N,dt)|0;var Rt=(f+(n=n+Math.imul(R,pt)|0)|0)+((8191&(i=(i=i+Math.imul(R,bt)|0)+Math.imul(L,pt)|0))<<13)|0;f=((o=o+Math.imul(L,bt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(U,ht),i=(i=Math.imul(U,dt))+Math.imul(D,ht)|0,o=Math.imul(D,dt);var Lt=(f+(n=n+Math.imul(k,pt)|0)|0)+((8191&(i=(i=i+Math.imul(k,bt)|0)+Math.imul(N,pt)|0))<<13)|0;f=((o=o+Math.imul(N,bt)|0)+(i>>>13)|0)+(Lt>>>26)|0,Lt&=67108863;var Bt=(f+(n=Math.imul(U,pt))|0)+((8191&(i=(i=Math.imul(U,bt))+Math.imul(D,pt)|0))<<13)|0;return f=((o=Math.imul(D,bt))+(i>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,u[0]=gt,u[1]=mt,u[2]=yt,u[3]=vt,u[4]=wt,u[5]=_t,u[6]=St,u[7]=Mt,u[8]=At,u[9]=Ct,u[10]=Et,u[11]=Ot,u[12]=xt,u[13]=Tt,u[14]=Pt,u[15]=It,u[16]=Rt,u[17]=Lt,u[18]=Bt,0!==f&&(u[19]=f,r.length++),r};function b(t,e,r){return(new g).mulp(t,e,r)}function g(t,e){this.x=t,this.y=e}Math.imul||(p=l),o.prototype.mulTo=function(t,e){var r,n=this.length+t.length;return r=10===this.length&&10===t.length?p(this,t,e):n<63?l(this,t,e):n<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,e.length-1),f=Math.max(0,o-t.length+1);f<=u;f++){var c=o-f,h=(0|t.words[c])*(0|e.words[f]),d=67108863&h;a=67108863&(d=d+a|0),i+=(s=(s=s+(h/67108864|0)|0)+(d>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,t,e):b(this,t,e),r},g.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},g.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},g.prototype.permute=function(t,e,r,n,i,o){for(var s=0;s<o;s++)n[s]=e[t[s]],i[s]=r[t[s]]},g.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),f=Math.sin(2*Math.PI/a),c=0;c<i;c+=a)for(var h=u,d=f,l=0;l<s;l++){var p=r[c+l],b=n[c+l],g=r[c+l+s],m=n[c+l+s],y=h*g-d*m;m=h*m+d*g,g=y,r[c+l]=p+g,n[c+l]=b+m,r[c+l+s]=p-g,n[c+l+s]=b-m,l!==a&&(y=u*h-f*d,d=u*d+f*h,h=y)}},g.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},g.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},g.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},g.prototype.convert13b=function(t,e,r,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)r[s]=0;n(0===o),n(0==(-8192&o))},g.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},g.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),f=new Array(n),c=new Array(n),h=new Array(n),d=r.words;d.length=n,this.convert13b(t.words,t.length,s,n),this.convert13b(e.words,e.length,f,n),this.transform(s,o,a,u,n,i),this.transform(f,o,c,h,n,i);for(var l=0;l<n;l++){var p=a[l]*c[l]-u[l]*h[l];u[l]=a[l]*h[l]+u[l]*c[l],a[l]=p}return this.conjugate(a,u,n),this.transform(a,u,d,o,n,i),this.conjugate(d,o,n),this.normalize13b(d,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),b(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){n("number"==typeof t),n(t<67108864);for(var e=0,r=0;r<this.length;r++){var i=(0|this.words[r])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[r]=67108863&o}return 0!==e&&(this.words[r]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,u=(0|this.words[e])-a<<r;this.words[e]=u|s,s=a>>>26-r}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,u=r;if(i-=s,i=Math.max(0,i),u){for(var f=0;f<s;f++)u.words[f]=this.words[f];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,f=0;f<this.length;f++)this.words[f]=this.words[f+s];else this.words[0]=0,this.length=1;var c=0;for(f=this.length-1;f>=0&&(0!==c||f>=i);f--){var h=0|this.words[f];this.words[f]=c<<26-o|h>>>o,c=h&a}return u&&0!==c&&(u.words[u.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,s=t.length+r;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,s=0|i.words[i.length-1];0!==(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==e){(a=new o(null)).length=u+1,a.words=new Array(a.length);for(var f=0;f<a.length;f++)a.words[f]=0}var c=n.clone()._ishlnsubmul(i,1,u);0===c.negative&&(n=c,a&&(a.words[u]=1));for(var h=u-1;h>=0;h--){var d=67108864*(0|n.words[i.length+h])+(0|n.words[i.length+h-1]);for(d=Math.min(d/s|0,67108863),n._ishlnsubmul(i,d,h);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(i,1,h),n.isZero()||(n.negative^=1);a&&(a.words[h]=d)}return a&&a.strip(),n.strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){n(t<=67108863);for(var e=(1<<26)%t,r=0,i=this.length-1;i>=0;i--)r=(e*r+(0|this.words[i]))%t;return r},o.prototype.idivn=function(t){n(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*e;this.words[r]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),u=new o(1),f=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++f;for(var c=r.clone(),h=e.clone();!e.isZero();){for(var d=0,l=1;0==(e.words[0]&l)&&d<26;++d,l<<=1);if(d>0)for(e.iushrn(d);d-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(c),s.isub(h)),i.iushrn(1),s.iushrn(1);for(var p=0,b=1;0==(r.words[0]&b)&&p<26;++p,b<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(c),u.isub(h)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),s.isub(u)):(r.isub(e),a.isub(i),u.isub(s))}return{a,b:u,gcd:r.iushln(f)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var f=0,c=1;0==(e.words[0]&c)&&f<26;++f,c<<=1);if(f>0)for(e.iushrn(f);f-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var h=0,d=1;0==(r.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(r.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),s.isub(a)):(r.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new M(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var m={k256:null,p224:null,p192:null,p25519:null};function y(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function S(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function M(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function A(t){M.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},y.prototype.split=function(t,e){t.iushrn(this.n,0,e)},y.prototype.imulK=function(t){return t.imul(this.k)},i(v,y),v.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&r,i=10;i<t.length;i++){var s=0|t.words[i];t.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},v.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(w,y),i(_,y),i(S,y),S.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(m[t])return m[t];var e;if("k256"===t)e=new v;else if("p224"===t)e=new w;else if("p192"===t)e=new _;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new S}return m[t]=e,e},M.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},M.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},M.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},M.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},M.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},M.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},M.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},M.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},M.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},M.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},M.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},M.prototype.isqr=function(t){return this.imul(t,t.clone())},M.prototype.sqr=function(t){return this.mul(t,t)},M.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),u=a.redNeg(),f=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new o(2*c*c).toRed(this);0!==this.pow(c,f).cmp(u);)c.redIAdd(u);for(var h=this.pow(c,i),d=this.pow(t,i.addn(1).iushrn(1)),l=this.pow(t,i),p=s;0!==l.cmp(a);){for(var b=l,g=0;0!==b.cmp(a);g++)b=b.redSqr();n(g<p);var m=this.pow(h,new o(1).iushln(p-g-1));d=d.redMul(m),h=m.redSqr(),l=l.redMul(h),p=g}return d},M.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},M.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],s=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var f=e.words[n],c=u-1;c>=0;c--){var h=f>>c&1;i!==r[0]&&(i=this.sqr(i)),0!==h||0!==s?(s<<=1,s|=h,(4===++a||0===n&&0===c)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}u=26}return i},M.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},M.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new A(t)},i(A,M),A.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},A.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},A.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},A.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},A.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},1037:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.scryptSync=e.scrypt=void 0;const n=r(2739),i=r(144);e.scrypt=async function(t,e,r,o,s,a,u){return(0,i.assertBytes)(t),(0,i.assertBytes)(e),(0,n.scryptAsync)(t,e,{N:r,r:s,p:o,dkLen:a,onProgress:u})},e.scryptSync=function(t,e,r,o,s,a,u){return(0,i.assertBytes)(t),(0,i.assertBytes)(e),(0,n.scrypt)(t,e,{N:r,r:s,p:o,dkLen:a,onProgress:u})}},144:function(t,e,r){"use strict";t=r.nmd(t);var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.crypto=e.wrapHash=e.equalsBytes=e.hexToBytes=e.bytesToUtf8=e.utf8ToBytes=e.createView=e.concatBytes=e.toHex=e.bytesToHex=e.assertBytes=e.assertBool=void 0;const i=n(r(3525)),o=r(64),s=i.default.bool;e.assertBool=s;const a=i.default.bytes;e.assertBytes=a;var u=r(64);Object.defineProperty(e,"bytesToHex",{enumerable:!0,get:function(){return u.bytesToHex}}),Object.defineProperty(e,"toHex",{enumerable:!0,get:function(){return u.bytesToHex}}),Object.defineProperty(e,"concatBytes",{enumerable:!0,get:function(){return u.concatBytes}}),Object.defineProperty(e,"createView",{enumerable:!0,get:function(){return u.createView}}),Object.defineProperty(e,"utf8ToBytes",{enumerable:!0,get:function(){return u.utf8ToBytes}}),e.bytesToUtf8=function(t){if(!(t instanceof Uint8Array))throw new TypeError("bytesToUtf8 expected Uint8Array, got "+typeof t);return(new TextDecoder).decode(t)},e.hexToBytes=function(t){const e=t.startsWith("0x")?t.substring(2):t;return(0,o.hexToBytes)(e)},e.equalsBytes=function(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0},e.wrapHash=function(t){return e=>(i.default.bytes(e),t(e))},e.crypto=(()=>{const e="object"==typeof self&&"crypto"in self?self.crypto:void 0,r="function"==typeof t.require&&t.require.bind(t);return{node:r&&!e?r("crypto"):void 0,web:e}})()},4485:(t,e,r)=>{var n=e;n.utils=r(212),n.common=r(4495),n.sha=r(5530),n.ripemd=r(1396),n.hmac=r(5047),n.sha1=n.sha.sha1,n.sha256=n.sha.sha256,n.sha224=n.sha.sha224,n.sha384=n.sha.sha384,n.sha512=n.sha.sha512,n.ripemd160=n.ripemd.ripemd160},4495:(t,e,r)=>{"use strict";var n=r(212),i=r(9561);function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}e.BlockHash=o,o.prototype.update=function(t,e){if(t=n.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var r=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-r,t.length),0===this.pending.length&&(this.pending=null),t=n.join32(t,0,t.length-r,this.endian);for(var i=0;i<t.length;i+=this._delta32)this._update(t,i,i+this._delta32)}return this},o.prototype.digest=function(t){return this.update(this._pad()),i(null===this.pending),this._digest(t)},o.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,r=e-(t+this.padLength)%e,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(t<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=t>>>24&255,n[i++]=t>>>16&255,n[i++]=t>>>8&255,n[i++]=255&t}else for(n[i++]=255&t,n[i++]=t>>>8&255,n[i++]=t>>>16&255,n[i++]=t>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,o=8;o<this.padLength;o++)n[i++]=0;return n}},5047:(t,e,r)=>{"use strict";var n=r(212),i=r(9561);function o(t,e,r){if(!(this instanceof o))return new o(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(e,r))}t.exports=o,o.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),i(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t)},o.prototype.update=function(t,e){return this.inner.update(t,e),this},o.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)}},1396:(t,e,r)=>{"use strict";var n=r(212),i=r(4495),o=n.rotl32,s=n.sum32,a=n.sum32_3,u=n.sum32_4,f=i.BlockHash;function c(){if(!(this instanceof c))return new c;f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function h(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function d(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function l(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}n.inherits(c,f),e.ripemd160=c,c.blockSize=512,c.outSize=160,c.hmacStrength=192,c.padLength=64,c.prototype._update=function(t,e){for(var r=this.h[0],n=this.h[1],i=this.h[2],f=this.h[3],c=this.h[4],y=r,v=n,w=i,_=f,S=c,M=0;M<80;M++){var A=s(o(u(r,h(M,n,i,f),t[p[M]+e],d(M)),g[M]),c);r=c,c=f,f=o(i,10),i=n,n=A,A=s(o(u(y,h(79-M,v,w,_),t[b[M]+e],l(M)),m[M]),S),y=S,S=_,_=o(w,10),w=v,v=A}A=a(this.h[1],i,_),this.h[1]=a(this.h[2],f,S),this.h[2]=a(this.h[3],c,y),this.h[3]=a(this.h[4],r,v),this.h[4]=a(this.h[0],n,w),this.h[0]=A},c.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"little"):n.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],b=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],m=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},5530:(t,e,r)=>{"use strict";e.sha1=r(5079),e.sha224=r(3823),e.sha256=r(8032),e.sha384=r(5328),e.sha512=r(168)},5079:(t,e,r)=>{"use strict";var n=r(212),i=r(4495),o=r(713),s=n.rotl32,a=n.sum32,u=n.sum32_5,f=o.ft_1,c=i.BlockHash,h=[1518500249,1859775393,2400959708,3395469782];function d(){if(!(this instanceof d))return new d;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}n.inherits(d,c),t.exports=d,d.blockSize=512,d.outSize=160,d.hmacStrength=80,d.padLength=64,d.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=s(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],o=this.h[1],c=this.h[2],d=this.h[3],l=this.h[4];for(n=0;n<r.length;n++){var p=~~(n/20),b=u(s(i,5),f(p,o,c,d),l,r[n],h[p]);l=d,d=c,c=s(o,30),o=i,i=b}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],c),this.h[3]=a(this.h[3],d),this.h[4]=a(this.h[4],l)},d.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},3823:(t,e,r)=>{"use strict";var n=r(212),i=r(8032);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}n.inherits(o,i),t.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},8032:(t,e,r)=>{"use strict";var n=r(212),i=r(4495),o=r(713),s=r(9561),a=n.sum32,u=n.sum32_4,f=n.sum32_5,c=o.ch32,h=o.maj32,d=o.s0_256,l=o.s1_256,p=o.g0_256,b=o.g1_256,g=i.BlockHash,m=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function y(){if(!(this instanceof y))return new y;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=m,this.W=new Array(64)}n.inherits(y,g),t.exports=y,y.blockSize=512,y.outSize=256,y.hmacStrength=192,y.padLength=64,y.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=u(b(r[n-2]),r[n-7],p(r[n-15]),r[n-16]);var i=this.h[0],o=this.h[1],g=this.h[2],m=this.h[3],y=this.h[4],v=this.h[5],w=this.h[6],_=this.h[7];for(s(this.k.length===r.length),n=0;n<r.length;n++){var S=f(_,l(y),c(y,v,w),this.k[n],r[n]),M=a(d(i),h(i,o,g));_=w,w=v,v=y,y=a(m,S),m=g,g=o,o=i,i=a(S,M)}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],g),this.h[3]=a(this.h[3],m),this.h[4]=a(this.h[4],y),this.h[5]=a(this.h[5],v),this.h[6]=a(this.h[6],w),this.h[7]=a(this.h[7],_)},y.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},5328:(t,e,r)=>{"use strict";var n=r(212),i=r(168);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}n.inherits(o,i),t.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},168:(t,e,r)=>{"use strict";var n=r(212),i=r(4495),o=r(9561),s=n.rotr64_hi,a=n.rotr64_lo,u=n.shr64_hi,f=n.shr64_lo,c=n.sum64,h=n.sum64_hi,d=n.sum64_lo,l=n.sum64_4_hi,p=n.sum64_4_lo,b=n.sum64_5_hi,g=n.sum64_5_lo,m=i.BlockHash,y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function v(){if(!(this instanceof v))return new v;m.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=y,this.W=new Array(160)}function w(t,e,r,n,i){var o=t&r^~t&i;return o<0&&(o+=4294967296),o}function _(t,e,r,n,i,o){var s=e&n^~e&o;return s<0&&(s+=4294967296),s}function S(t,e,r,n,i){var o=t&r^t&i^r&i;return o<0&&(o+=4294967296),o}function M(t,e,r,n,i,o){var s=e&n^e&o^n&o;return s<0&&(s+=4294967296),s}function A(t,e){var r=s(t,e,28)^s(e,t,2)^s(e,t,7);return r<0&&(r+=4294967296),r}function C(t,e){var r=a(t,e,28)^a(e,t,2)^a(e,t,7);return r<0&&(r+=4294967296),r}function E(t,e){var r=s(t,e,14)^s(t,e,18)^s(e,t,9);return r<0&&(r+=4294967296),r}function O(t,e){var r=a(t,e,14)^a(t,e,18)^a(e,t,9);return r<0&&(r+=4294967296),r}function x(t,e){var r=s(t,e,1)^s(t,e,8)^u(t,e,7);return r<0&&(r+=4294967296),r}function T(t,e){var r=a(t,e,1)^a(t,e,8)^f(t,e,7);return r<0&&(r+=4294967296),r}function P(t,e){var r=s(t,e,19)^s(e,t,29)^u(t,e,6);return r<0&&(r+=4294967296),r}function I(t,e){var r=a(t,e,19)^a(e,t,29)^f(t,e,6);return r<0&&(r+=4294967296),r}n.inherits(v,m),t.exports=v,v.blockSize=1024,v.outSize=512,v.hmacStrength=192,v.padLength=128,v.prototype._prepareBlock=function(t,e){for(var r=this.W,n=0;n<32;n++)r[n]=t[e+n];for(;n<r.length;n+=2){var i=P(r[n-4],r[n-3]),o=I(r[n-4],r[n-3]),s=r[n-14],a=r[n-13],u=x(r[n-30],r[n-29]),f=T(r[n-30],r[n-29]),c=r[n-32],h=r[n-31];r[n]=l(i,o,s,a,u,f,c,h),r[n+1]=p(i,o,s,a,u,f,c,h)}},v.prototype._update=function(t,e){this._prepareBlock(t,e);var r=this.W,n=this.h[0],i=this.h[1],s=this.h[2],a=this.h[3],u=this.h[4],f=this.h[5],l=this.h[6],p=this.h[7],m=this.h[8],y=this.h[9],v=this.h[10],x=this.h[11],T=this.h[12],P=this.h[13],I=this.h[14],R=this.h[15];o(this.k.length===r.length);for(var L=0;L<r.length;L+=2){var B=I,k=R,N=E(m,y),H=O(m,y),U=w(m,y,v,x,T),D=_(m,y,v,x,T,P),z=this.k[L],F=this.k[L+1],j=r[L],W=r[L+1],G=b(B,k,N,H,U,D,z,F,j,W),V=g(B,k,N,H,U,D,z,F,j,W);B=A(n,i),k=C(n,i),N=S(n,i,s,a,u),H=M(n,i,s,a,u,f);var K=h(B,k,N,H),q=d(B,k,N,H);I=T,R=P,T=v,P=x,v=m,x=y,m=h(l,p,G,V),y=d(p,p,G,V),l=u,p=f,u=s,f=a,s=n,a=i,n=h(G,V,K,q),i=d(G,V,K,q)}c(this.h,0,n,i),c(this.h,2,s,a),c(this.h,4,u,f),c(this.h,6,l,p),c(this.h,8,m,y),c(this.h,10,v,x),c(this.h,12,T,P),c(this.h,14,I,R)},v.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},713:(t,e,r)=>{"use strict";var n=r(212).rotr32;function i(t,e,r){return t&e^~t&r}function o(t,e,r){return t&e^t&r^e&r}function s(t,e,r){return t^e^r}e.ft_1=function(t,e,r,n){return 0===t?i(e,r,n):1===t||3===t?s(e,r,n):2===t?o(e,r,n):void 0},e.ch32=i,e.maj32=o,e.p32=s,e.s0_256=function(t){return n(t,2)^n(t,13)^n(t,22)},e.s1_256=function(t){return n(t,6)^n(t,11)^n(t,25)},e.g0_256=function(t){return n(t,7)^n(t,18)^t>>>3},e.g1_256=function(t){return n(t,17)^n(t,19)^t>>>10}},212:(t,e,r)=>{"use strict";var n=r(9561),i=r(1285);function o(t,e){return 55296==(64512&t.charCodeAt(e))&&(!(e<0||e+1>=t.length)&&56320==(64512&t.charCodeAt(e+1)))}function s(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function a(t){return 1===t.length?"0"+t:t}function u(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}e.inherits=i,e.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"==typeof t)if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var s=t.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=63&s|128):o(t,i)?(s=65536+((1023&s)<<10)+(1023&t.charCodeAt(++i)),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=63&s|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=63&s|128)}else for(i=0;i<t.length;i++)r[i]=0|t[i];return r},e.toHex=function(t){for(var e="",r=0;r<t.length;r++)e+=a(t[r].toString(16));return e},e.htonl=s,e.toHex32=function(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];"little"===e&&(i=s(i)),r+=u(i.toString(16))}return r},e.zero2=a,e.zero8=u,e.join32=function(t,e,r,i){var o=r-e;n(o%4==0);for(var s=new Array(o/4),a=0,u=e;a<s.length;a++,u+=4){var f;f="big"===i?t[u]<<24|t[u+1]<<16|t[u+2]<<8|t[u+3]:t[u+3]<<24|t[u+2]<<16|t[u+1]<<8|t[u],s[a]=f>>>0}return s},e.split32=function(t,e){for(var r=new Array(4*t.length),n=0,i=0;n<t.length;n++,i+=4){var o=t[n];"big"===e?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=255&o):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=255&o)}return r},e.rotr32=function(t,e){return t>>>e|t<<32-e},e.rotl32=function(t,e){return t<<e|t>>>32-e},e.sum32=function(t,e){return t+e>>>0},e.sum32_3=function(t,e,r){return t+e+r>>>0},e.sum32_4=function(t,e,r,n){return t+e+r+n>>>0},e.sum32_5=function(t,e,r,n,i){return t+e+r+n+i>>>0},e.sum64=function(t,e,r,n){var i=t[e],o=n+t[e+1]>>>0,s=(o<n?1:0)+r+i;t[e]=s>>>0,t[e+1]=o},e.sum64_hi=function(t,e,r,n){return(e+n>>>0<e?1:0)+t+r>>>0},e.sum64_lo=function(t,e,r,n){return e+n>>>0},e.sum64_4_hi=function(t,e,r,n,i,o,s,a){var u=0,f=e;return u+=(f=f+n>>>0)<e?1:0,u+=(f=f+o>>>0)<o?1:0,t+r+i+s+(u+=(f=f+a>>>0)<a?1:0)>>>0},e.sum64_4_lo=function(t,e,r,n,i,o,s,a){return e+n+o+a>>>0},e.sum64_5_hi=function(t,e,r,n,i,o,s,a,u,f){var c=0,h=e;return c+=(h=h+n>>>0)<e?1:0,c+=(h=h+o>>>0)<o?1:0,c+=(h=h+a>>>0)<a?1:0,t+r+i+s+u+(c+=(h=h+f>>>0)<f?1:0)>>>0},e.sum64_5_lo=function(t,e,r,n,i,o,s,a,u,f){return e+n+o+a+f>>>0},e.rotr64_hi=function(t,e,r){return(e<<32-r|t>>>r)>>>0},e.rotr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0},e.shr64_hi=function(t,e,r){return t>>>r},e.shr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0}},8873:(t,e,r)=>{"use strict";var n=r(4485),i=r(3022),o=r(9561);function s(t){if(!(this instanceof s))return new s(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=i.toArray(t.entropy,t.entropyEnc||"hex"),r=i.toArray(t.nonce,t.nonceEnc||"hex"),n=i.toArray(t.pers,t.persEnc||"hex");o(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}t.exports=s,s.prototype._init=function(t,e,r){var n=t.concat(e).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},s.prototype._hmac=function(){return new n.hmac(this.hash,this.K)},s.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},s.prototype.reseed=function(t,e,r,n){"string"!=typeof e&&(n=r,r=e,e=null),t=i.toArray(t,e),r=i.toArray(r,n),o(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(r||[])),this._reseed=1},s.prototype.generate=function(t,e,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(n=r,r=e,e=null),r&&(r=i.toArray(r,n||"hex"),this._update(r));for(var o=[];o.length<t;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var s=o.slice(0,t);return this._update(r),this._reseed++,i.encode(s,e)}},2333:(t,e)=>{e.read=function(t,e,r,n,i){var o,s,a=8*i-n-1,u=(1<<a)-1,f=u>>1,c=-7,h=r?i-1:0,d=r?-1:1,l=t[e+h];for(h+=d,o=l&(1<<-c)-1,l>>=-c,c+=a;c>0;o=256*o+t[e+h],h+=d,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=n;c>0;s=256*s+t[e+h],h+=d,c-=8);if(0===o)o=1-f;else{if(o===u)return s?NaN:1/0*(l?-1:1);s+=Math.pow(2,n),o-=f}return(l?-1:1)*s*Math.pow(2,o-n)},e.write=function(t,e,r,n,i,o){var s,a,u,f=8*o-i-1,c=(1<<f)-1,h=c>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,l=n?0:o-1,p=n?1:-1,b=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=c):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+h>=1?d/u:d*Math.pow(2,1-h))*u>=2&&(s++,u/=2),s+h>=c?(a=0,s=c):s+h>=1?(a=(e*u-1)*Math.pow(2,i),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;t[r+l]=255&a,l+=p,a/=256,i-=8);for(s=s<<i|a,f+=i;f>0;t[r+l]=255&s,l+=p,s/=256,f-=8);t[r+l-p]|=128*b}},1285:t=>{"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}},6635:function(t,e,r){var n;t=r.nmd(t),function(){var i,o="Expected a function",s="__lodash_hash_undefined__",a="__lodash_placeholder__",u=16,f=32,c=64,h=128,d=256,l=1/0,p=9007199254740991,b=NaN,g=4294967295,m=[["ary",h],["bind",1],["bindKey",2],["curry",8],["curryRight",u],["flip",512],["partial",f],["partialRight",c],["rearg",d]],y="[object Arguments]",v="[object Array]",w="[object Boolean]",_="[object Date]",S="[object Error]",M="[object Function]",A="[object GeneratorFunction]",C="[object Map]",E="[object Number]",O="[object Object]",x="[object Promise]",T="[object RegExp]",P="[object Set]",I="[object String]",R="[object Symbol]",L="[object WeakMap]",B="[object ArrayBuffer]",k="[object DataView]",N="[object Float32Array]",H="[object Float64Array]",U="[object Int8Array]",D="[object Int16Array]",z="[object Int32Array]",F="[object Uint8Array]",j="[object Uint8ClampedArray]",W="[object Uint16Array]",G="[object Uint32Array]",V=/\b__p \+= '';/g,K=/\b(__p \+=) '' \+/g,q=/(__e\(.*?\)|\b__t\)) \+\n'';/g,J=/&(?:amp|lt|gt|quot|#39);/g,Y=/[&<>"']/g,$=RegExp(J.source),Q=RegExp(Y.source),Z=/<%-([\s\S]+?)%>/g,X=/<%([\s\S]+?)%>/g,tt=/<%=([\s\S]+?)%>/g,et=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,rt=/^\w*$/,nt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,it=/[\\^$.*+?()[\]{}|]/g,ot=RegExp(it.source),st=/^\s+/,at=/\s/,ut=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ft=/\{\n\/\* \[wrapped with (.+)\] \*/,ct=/,? & /,ht=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,dt=/[()=,{}\[\]\/\s]/,lt=/\\(\\)?/g,pt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,bt=/\w*$/,gt=/^[-+]0x[0-9a-f]+$/i,mt=/^0b[01]+$/i,yt=/^\[object .+?Constructor\]$/,vt=/^0o[0-7]+$/i,wt=/^(?:0|[1-9]\d*)$/,_t=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,St=/($^)/,Mt=/['\n\r\u2028\u2029\\]/g,At="\\ud800-\\udfff",Ct="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Et="\\u2700-\\u27bf",Ot="a-z\\xdf-\\xf6\\xf8-\\xff",xt="A-Z\\xc0-\\xd6\\xd8-\\xde",Tt="\\ufe0e\\ufe0f",Pt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",It="['\u2019]",Rt="["+At+"]",Lt="["+Pt+"]",Bt="["+Ct+"]",kt="\\d+",Nt="["+Et+"]",Ht="["+Ot+"]",Ut="[^"+At+Pt+kt+Et+Ot+xt+"]",Dt="\\ud83c[\\udffb-\\udfff]",zt="[^"+At+"]",Ft="(?:\\ud83c[\\udde6-\\uddff]){2}",jt="[\\ud800-\\udbff][\\udc00-\\udfff]",Wt="["+xt+"]",Gt="\\u200d",Vt="(?:"+Ht+"|"+Ut+")",Kt="(?:"+Wt+"|"+Ut+")",qt="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Jt="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Yt="(?:"+Bt+"|"+Dt+")"+"?",$t="["+Tt+"]?",Qt=$t+Yt+("(?:"+Gt+"(?:"+[zt,Ft,jt].join("|")+")"+$t+Yt+")*"),Zt="(?:"+[Nt,Ft,jt].join("|")+")"+Qt,Xt="(?:"+[zt+Bt+"?",Bt,Ft,jt,Rt].join("|")+")",te=RegExp(It,"g"),ee=RegExp(Bt,"g"),re=RegExp(Dt+"(?="+Dt+")|"+Xt+Qt,"g"),ne=RegExp([Wt+"?"+Ht+"+"+qt+"(?="+[Lt,Wt,"$"].join("|")+")",Kt+"+"+Jt+"(?="+[Lt,Wt+Vt,"$"].join("|")+")",Wt+"?"+Vt+"+"+qt,Wt+"+"+Jt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",kt,Zt].join("|"),"g"),ie=RegExp("["+Gt+At+Ct+Tt+"]"),oe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,se=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ae=-1,ue={};ue[N]=ue[H]=ue[U]=ue[D]=ue[z]=ue[F]=ue[j]=ue[W]=ue[G]=!0,ue[y]=ue[v]=ue[B]=ue[w]=ue[k]=ue[_]=ue[S]=ue[M]=ue[C]=ue[E]=ue[O]=ue[T]=ue[P]=ue[I]=ue[L]=!1;var fe={};fe[y]=fe[v]=fe[B]=fe[k]=fe[w]=fe[_]=fe[N]=fe[H]=fe[U]=fe[D]=fe[z]=fe[C]=fe[E]=fe[O]=fe[T]=fe[P]=fe[I]=fe[R]=fe[F]=fe[j]=fe[W]=fe[G]=!0,fe[S]=fe[M]=fe[L]=!1;var ce={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},he=parseFloat,de=parseInt,le="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,pe="object"==typeof self&&self&&self.Object===Object&&self,be=le||pe||Function("return this")(),ge=e&&!e.nodeType&&e,me=ge&&t&&!t.nodeType&&t,ye=me&&me.exports===ge,ve=ye&&le.process,we=function(){try{var t=me&&me.require&&me.require("util").types;return t||ve&&ve.binding&&ve.binding("util")}catch(t){}}(),_e=we&&we.isArrayBuffer,Se=we&&we.isDate,Me=we&&we.isMap,Ae=we&&we.isRegExp,Ce=we&&we.isSet,Ee=we&&we.isTypedArray;function Oe(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function xe(t,e,r,n){for(var i=-1,o=null==t?0:t.length;++i<o;){var s=t[i];e(n,s,r(s),t)}return n}function Te(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}function Pe(t,e){for(var r=null==t?0:t.length;r--&&!1!==e(t[r],r,t););return t}function Ie(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}function Re(t,e){for(var r=-1,n=null==t?0:t.length,i=0,o=[];++r<n;){var s=t[r];e(s,r,t)&&(o[i++]=s)}return o}function Le(t,e){return!!(null==t?0:t.length)&&We(t,e,0)>-1}function Be(t,e,r){for(var n=-1,i=null==t?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}function ke(t,e){for(var r=-1,n=null==t?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}function Ne(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function He(t,e,r,n){var i=-1,o=null==t?0:t.length;for(n&&o&&(r=t[++i]);++i<o;)r=e(r,t[i],i,t);return r}function Ue(t,e,r,n){var i=null==t?0:t.length;for(n&&i&&(r=t[--i]);i--;)r=e(r,t[i],i,t);return r}function De(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var ze=qe("length");function Fe(t,e,r){var n;return r(t,(function(t,r,i){if(e(t,r,i))return n=r,!1})),n}function je(t,e,r,n){for(var i=t.length,o=r+(n?1:-1);n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function We(t,e,r){return e==e?function(t,e,r){var n=r-1,i=t.length;for(;++n<i;)if(t[n]===e)return n;return-1}(t,e,r):je(t,Ve,r)}function Ge(t,e,r,n){for(var i=r-1,o=t.length;++i<o;)if(n(t[i],e))return i;return-1}function Ve(t){return t!=t}function Ke(t,e){var r=null==t?0:t.length;return r?$e(t,e)/r:b}function qe(t){return function(e){return null==e?i:e[t]}}function Je(t){return function(e){return null==t?i:t[e]}}function Ye(t,e,r,n,i){return i(t,(function(t,i,o){r=n?(n=!1,t):e(r,t,i,o)})),r}function $e(t,e){for(var r,n=-1,o=t.length;++n<o;){var s=e(t[n]);s!==i&&(r=r===i?s:r+s)}return r}function Qe(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function Ze(t){return t?t.slice(0,br(t)+1).replace(st,""):t}function Xe(t){return function(e){return t(e)}}function tr(t,e){return ke(e,(function(e){return t[e]}))}function er(t,e){return t.has(e)}function rr(t,e){for(var r=-1,n=t.length;++r<n&&We(e,t[r],0)>-1;);return r}function nr(t,e){for(var r=t.length;r--&&We(e,t[r],0)>-1;);return r}var ir=Je({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),or=Je({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function sr(t){return"\\"+ce[t]}function ar(t){return ie.test(t)}function ur(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function fr(t,e){return function(r){return t(e(r))}}function cr(t,e){for(var r=-1,n=t.length,i=0,o=[];++r<n;){var s=t[r];s!==e&&s!==a||(t[r]=a,o[i++]=r)}return o}function hr(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}function dr(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=[t,t]})),r}function lr(t){return ar(t)?function(t){var e=re.lastIndex=0;for(;re.test(t);)++e;return e}(t):ze(t)}function pr(t){return ar(t)?function(t){return t.match(re)||[]}(t):function(t){return t.split("")}(t)}function br(t){for(var e=t.length;e--&&at.test(t.charAt(e)););return e}var gr=Je({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var mr=function t(e){var r,n=(e=null==e?be:mr.defaults(be.Object(),e,mr.pick(be,se))).Array,at=e.Date,At=e.Error,Ct=e.Function,Et=e.Math,Ot=e.Object,xt=e.RegExp,Tt=e.String,Pt=e.TypeError,It=n.prototype,Rt=Ct.prototype,Lt=Ot.prototype,Bt=e["__core-js_shared__"],kt=Rt.toString,Nt=Lt.hasOwnProperty,Ht=0,Ut=(r=/[^.]+$/.exec(Bt&&Bt.keys&&Bt.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",Dt=Lt.toString,zt=kt.call(Ot),Ft=be._,jt=xt("^"+kt.call(Nt).replace(it,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Wt=ye?e.Buffer:i,Gt=e.Symbol,Vt=e.Uint8Array,Kt=Wt?Wt.allocUnsafe:i,qt=fr(Ot.getPrototypeOf,Ot),Jt=Ot.create,Yt=Lt.propertyIsEnumerable,$t=It.splice,Qt=Gt?Gt.isConcatSpreadable:i,Zt=Gt?Gt.iterator:i,Xt=Gt?Gt.toStringTag:i,re=function(){try{var t=lo(Ot,"defineProperty");return t({},"",{}),t}catch(t){}}(),ie=e.clearTimeout!==be.clearTimeout&&e.clearTimeout,ce=at&&at.now!==be.Date.now&&at.now,le=e.setTimeout!==be.setTimeout&&e.setTimeout,pe=Et.ceil,ge=Et.floor,me=Ot.getOwnPropertySymbols,ve=Wt?Wt.isBuffer:i,we=e.isFinite,ze=It.join,Je=fr(Ot.keys,Ot),yr=Et.max,vr=Et.min,wr=at.now,_r=e.parseInt,Sr=Et.random,Mr=It.reverse,Ar=lo(e,"DataView"),Cr=lo(e,"Map"),Er=lo(e,"Promise"),Or=lo(e,"Set"),xr=lo(e,"WeakMap"),Tr=lo(Ot,"create"),Pr=xr&&new xr,Ir={},Rr=Do(Ar),Lr=Do(Cr),Br=Do(Er),kr=Do(Or),Nr=Do(xr),Hr=Gt?Gt.prototype:i,Ur=Hr?Hr.valueOf:i,Dr=Hr?Hr.toString:i;function zr(t){if(ra(t)&&!Vs(t)&&!(t instanceof Gr)){if(t instanceof Wr)return t;if(Nt.call(t,"__wrapped__"))return zo(t)}return new Wr(t)}var Fr=function(){function t(){}return function(e){if(!ea(e))return{};if(Jt)return Jt(e);t.prototype=e;var r=new t;return t.prototype=i,r}}();function jr(){}function Wr(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=i}function Gr(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function Vr(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Kr(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function qr(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Jr(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new qr;++e<r;)this.add(t[e])}function Yr(t){var e=this.__data__=new Kr(t);this.size=e.size}function $r(t,e){var r=Vs(t),n=!r&&Gs(t),i=!r&&!n&&Ys(t),o=!r&&!n&&!i&&ca(t),s=r||n||i||o,a=s?Qe(t.length,Tt):[],u=a.length;for(var f in t)!e&&!Nt.call(t,f)||s&&("length"==f||i&&("offset"==f||"parent"==f)||o&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||wo(f,u))||a.push(f);return a}function Qr(t){var e=t.length;return e?t[Yn(0,e-1)]:i}function Zr(t,e){return No(Pi(t),un(e,0,t.length))}function Xr(t){return No(Pi(t))}function tn(t,e,r){(r!==i&&!Fs(t[e],r)||r===i&&!(e in t))&&sn(t,e,r)}function en(t,e,r){var n=t[e];Nt.call(t,e)&&Fs(n,r)&&(r!==i||e in t)||sn(t,e,r)}function rn(t,e){for(var r=t.length;r--;)if(Fs(t[r][0],e))return r;return-1}function nn(t,e,r,n){return ln(t,(function(t,i,o){e(n,t,r(t),o)})),n}function on(t,e){return t&&Ii(e,Ra(e),t)}function sn(t,e,r){"__proto__"==e&&re?re(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function an(t,e){for(var r=-1,o=e.length,s=n(o),a=null==t;++r<o;)s[r]=a?i:Oa(t,e[r]);return s}function un(t,e,r){return t==t&&(r!==i&&(t=t<=r?t:r),e!==i&&(t=t>=e?t:e)),t}function fn(t,e,r,n,o,s){var a,u=1&e,f=2&e,c=4&e;if(r&&(a=o?r(t,n,o,s):r(t)),a!==i)return a;if(!ea(t))return t;var h=Vs(t);if(h){if(a=function(t){var e=t.length,r=new t.constructor(e);e&&"string"==typeof t[0]&&Nt.call(t,"index")&&(r.index=t.index,r.input=t.input);return r}(t),!u)return Pi(t,a)}else{var d=go(t),l=d==M||d==A;if(Ys(t))return Ai(t,u);if(d==O||d==y||l&&!o){if(a=f||l?{}:yo(t),!u)return f?function(t,e){return Ii(t,bo(t),e)}(t,function(t,e){return t&&Ii(e,La(e),t)}(a,t)):function(t,e){return Ii(t,po(t),e)}(t,on(a,t))}else{if(!fe[d])return o?t:{};a=function(t,e,r){var n=t.constructor;switch(e){case B:return Ci(t);case w:case _:return new n(+t);case k:return function(t,e){var r=e?Ci(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,r);case N:case H:case U:case D:case z:case F:case j:case W:case G:return Ei(t,r);case C:return new n;case E:case I:return new n(t);case T:return function(t){var e=new t.constructor(t.source,bt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case P:return new n;case R:return i=t,Ur?Ot(Ur.call(i)):{}}var i}(t,d,u)}}s||(s=new Yr);var p=s.get(t);if(p)return p;s.set(t,a),aa(t)?t.forEach((function(n){a.add(fn(n,e,r,n,t,s))})):na(t)&&t.forEach((function(n,i){a.set(i,fn(n,e,r,i,t,s))}));var b=h?i:(c?f?oo:io:f?La:Ra)(t);return Te(b||t,(function(n,i){b&&(n=t[i=n]),en(a,i,fn(n,e,r,i,t,s))})),a}function cn(t,e,r){var n=r.length;if(null==t)return!n;for(t=Ot(t);n--;){var o=r[n],s=e[o],a=t[o];if(a===i&&!(o in t)||!s(a))return!1}return!0}function hn(t,e,r){if("function"!=typeof t)throw new Pt(o);return Ro((function(){t.apply(i,r)}),e)}function dn(t,e,r,n){var i=-1,o=Le,s=!0,a=t.length,u=[],f=e.length;if(!a)return u;r&&(e=ke(e,Xe(r))),n?(o=Be,s=!1):e.length>=200&&(o=er,s=!1,e=new Jr(e));t:for(;++i<a;){var c=t[i],h=null==r?c:r(c);if(c=n||0!==c?c:0,s&&h==h){for(var d=f;d--;)if(e[d]===h)continue t;u.push(c)}else o(e,h,n)||u.push(c)}return u}zr.templateSettings={escape:Z,evaluate:X,interpolate:tt,variable:"",imports:{_:zr}},zr.prototype=jr.prototype,zr.prototype.constructor=zr,Wr.prototype=Fr(jr.prototype),Wr.prototype.constructor=Wr,Gr.prototype=Fr(jr.prototype),Gr.prototype.constructor=Gr,Vr.prototype.clear=function(){this.__data__=Tr?Tr(null):{},this.size=0},Vr.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Vr.prototype.get=function(t){var e=this.__data__;if(Tr){var r=e[t];return r===s?i:r}return Nt.call(e,t)?e[t]:i},Vr.prototype.has=function(t){var e=this.__data__;return Tr?e[t]!==i:Nt.call(e,t)},Vr.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Tr&&e===i?s:e,this},Kr.prototype.clear=function(){this.__data__=[],this.size=0},Kr.prototype.delete=function(t){var e=this.__data__,r=rn(e,t);return!(r<0)&&(r==e.length-1?e.pop():$t.call(e,r,1),--this.size,!0)},Kr.prototype.get=function(t){var e=this.__data__,r=rn(e,t);return r<0?i:e[r][1]},Kr.prototype.has=function(t){return rn(this.__data__,t)>-1},Kr.prototype.set=function(t,e){var r=this.__data__,n=rn(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this},qr.prototype.clear=function(){this.size=0,this.__data__={hash:new Vr,map:new(Cr||Kr),string:new Vr}},qr.prototype.delete=function(t){var e=co(this,t).delete(t);return this.size-=e?1:0,e},qr.prototype.get=function(t){return co(this,t).get(t)},qr.prototype.has=function(t){return co(this,t).has(t)},qr.prototype.set=function(t,e){var r=co(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},Jr.prototype.add=Jr.prototype.push=function(t){return this.__data__.set(t,s),this},Jr.prototype.has=function(t){return this.__data__.has(t)},Yr.prototype.clear=function(){this.__data__=new Kr,this.size=0},Yr.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},Yr.prototype.get=function(t){return this.__data__.get(t)},Yr.prototype.has=function(t){return this.__data__.has(t)},Yr.prototype.set=function(t,e){var r=this.__data__;if(r instanceof Kr){var n=r.__data__;if(!Cr||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new qr(n)}return r.set(t,e),this.size=r.size,this};var ln=Bi(_n),pn=Bi(Sn,!0);function bn(t,e){var r=!0;return ln(t,(function(t,n,i){return r=!!e(t,n,i)})),r}function gn(t,e,r){for(var n=-1,o=t.length;++n<o;){var s=t[n],a=e(s);if(null!=a&&(u===i?a==a&&!fa(a):r(a,u)))var u=a,f=s}return f}function mn(t,e){var r=[];return ln(t,(function(t,n,i){e(t,n,i)&&r.push(t)})),r}function yn(t,e,r,n,i){var o=-1,s=t.length;for(r||(r=vo),i||(i=[]);++o<s;){var a=t[o];e>0&&r(a)?e>1?yn(a,e-1,r,n,i):Ne(i,a):n||(i[i.length]=a)}return i}var vn=ki(),wn=ki(!0);function _n(t,e){return t&&vn(t,e,Ra)}function Sn(t,e){return t&&wn(t,e,Ra)}function Mn(t,e){return Re(e,(function(e){return Zs(t[e])}))}function An(t,e){for(var r=0,n=(e=wi(e,t)).length;null!=t&&r<n;)t=t[Uo(e[r++])];return r&&r==n?t:i}function Cn(t,e,r){var n=e(t);return Vs(t)?n:Ne(n,r(t))}function En(t){return null==t?t===i?"[object Undefined]":"[object Null]":Xt&&Xt in Ot(t)?function(t){var e=Nt.call(t,Xt),r=t[Xt];try{t[Xt]=i;var n=!0}catch(t){}var o=Dt.call(t);n&&(e?t[Xt]=r:delete t[Xt]);return o}(t):function(t){return Dt.call(t)}(t)}function On(t,e){return t>e}function xn(t,e){return null!=t&&Nt.call(t,e)}function Tn(t,e){return null!=t&&e in Ot(t)}function Pn(t,e,r){for(var o=r?Be:Le,s=t[0].length,a=t.length,u=a,f=n(a),c=1/0,h=[];u--;){var d=t[u];u&&e&&(d=ke(d,Xe(e))),c=vr(d.length,c),f[u]=!r&&(e||s>=120&&d.length>=120)?new Jr(u&&d):i}d=t[0];var l=-1,p=f[0];t:for(;++l<s&&h.length<c;){var b=d[l],g=e?e(b):b;if(b=r||0!==b?b:0,!(p?er(p,g):o(h,g,r))){for(u=a;--u;){var m=f[u];if(!(m?er(m,g):o(t[u],g,r)))continue t}p&&p.push(g),h.push(b)}}return h}function In(t,e,r){var n=null==(t=To(t,e=wi(e,t)))?t:t[Uo(Qo(e))];return null==n?i:Oe(n,t,r)}function Rn(t){return ra(t)&&En(t)==y}function Ln(t,e,r,n,o){return t===e||(null==t||null==e||!ra(t)&&!ra(e)?t!=t&&e!=e:function(t,e,r,n,o,s){var a=Vs(t),u=Vs(e),f=a?v:go(t),c=u?v:go(e),h=(f=f==y?O:f)==O,d=(c=c==y?O:c)==O,l=f==c;if(l&&Ys(t)){if(!Ys(e))return!1;a=!0,h=!1}if(l&&!h)return s||(s=new Yr),a||ca(t)?ro(t,e,r,n,o,s):function(t,e,r,n,i,o,s){switch(r){case k:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case B:return!(t.byteLength!=e.byteLength||!o(new Vt(t),new Vt(e)));case w:case _:case E:return Fs(+t,+e);case S:return t.name==e.name&&t.message==e.message;case T:case I:return t==e+"";case C:var a=ur;case P:var u=1&n;if(a||(a=hr),t.size!=e.size&&!u)return!1;var f=s.get(t);if(f)return f==e;n|=2,s.set(t,e);var c=ro(a(t),a(e),n,i,o,s);return s.delete(t),c;case R:if(Ur)return Ur.call(t)==Ur.call(e)}return!1}(t,e,f,r,n,o,s);if(!(1&r)){var p=h&&Nt.call(t,"__wrapped__"),b=d&&Nt.call(e,"__wrapped__");if(p||b){var g=p?t.value():t,m=b?e.value():e;return s||(s=new Yr),o(g,m,r,n,s)}}if(!l)return!1;return s||(s=new Yr),function(t,e,r,n,o,s){var a=1&r,u=io(t),f=u.length,c=io(e),h=c.length;if(f!=h&&!a)return!1;var d=f;for(;d--;){var l=u[d];if(!(a?l in e:Nt.call(e,l)))return!1}var p=s.get(t),b=s.get(e);if(p&&b)return p==e&&b==t;var g=!0;s.set(t,e),s.set(e,t);var m=a;for(;++d<f;){var y=t[l=u[d]],v=e[l];if(n)var w=a?n(v,y,l,e,t,s):n(y,v,l,t,e,s);if(!(w===i?y===v||o(y,v,r,n,s):w)){g=!1;break}m||(m="constructor"==l)}if(g&&!m){var _=t.constructor,S=e.constructor;_==S||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof S&&S instanceof S||(g=!1)}return s.delete(t),s.delete(e),g}(t,e,r,n,o,s)}(t,e,r,n,Ln,o))}function Bn(t,e,r,n){var o=r.length,s=o,a=!n;if(null==t)return!s;for(t=Ot(t);o--;){var u=r[o];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++o<s;){var f=(u=r[o])[0],c=t[f],h=u[1];if(a&&u[2]){if(c===i&&!(f in t))return!1}else{var d=new Yr;if(n)var l=n(c,h,f,t,e,d);if(!(l===i?Ln(h,c,3,n,d):l))return!1}}return!0}function kn(t){return!(!ea(t)||(e=t,Ut&&Ut in e))&&(Zs(t)?jt:yt).test(Do(t));var e}function Nn(t){return"function"==typeof t?t:null==t?iu:"object"==typeof t?Vs(t)?jn(t[0],t[1]):Fn(t):lu(t)}function Hn(t){if(!Co(t))return Je(t);var e=[];for(var r in Ot(t))Nt.call(t,r)&&"constructor"!=r&&e.push(r);return e}function Un(t){if(!ea(t))return function(t){var e=[];if(null!=t)for(var r in Ot(t))e.push(r);return e}(t);var e=Co(t),r=[];for(var n in t)("constructor"!=n||!e&&Nt.call(t,n))&&r.push(n);return r}function Dn(t,e){return t<e}function zn(t,e){var r=-1,i=qs(t)?n(t.length):[];return ln(t,(function(t,n,o){i[++r]=e(t,n,o)})),i}function Fn(t){var e=ho(t);return 1==e.length&&e[0][2]?Oo(e[0][0],e[0][1]):function(r){return r===t||Bn(r,t,e)}}function jn(t,e){return So(t)&&Eo(e)?Oo(Uo(t),e):function(r){var n=Oa(r,t);return n===i&&n===e?xa(r,t):Ln(e,n,3)}}function Wn(t,e,r,n,o){t!==e&&vn(e,(function(s,a){if(o||(o=new Yr),ea(s))!function(t,e,r,n,o,s,a){var u=Po(t,r),f=Po(e,r),c=a.get(f);if(c)return void tn(t,r,c);var h=s?s(u,f,r+"",t,e,a):i,d=h===i;if(d){var l=Vs(f),p=!l&&Ys(f),b=!l&&!p&&ca(f);h=f,l||p||b?Vs(u)?h=u:Js(u)?h=Pi(u):p?(d=!1,h=Ai(f,!0)):b?(d=!1,h=Ei(f,!0)):h=[]:oa(f)||Gs(f)?(h=u,Gs(u)?h=ya(u):ea(u)&&!Zs(u)||(h=yo(f))):d=!1}d&&(a.set(f,h),o(h,f,n,s,a),a.delete(f));tn(t,r,h)}(t,e,a,r,Wn,n,o);else{var u=n?n(Po(t,a),s,a+"",t,e,o):i;u===i&&(u=s),tn(t,a,u)}}),La)}function Gn(t,e){var r=t.length;if(r)return wo(e+=e<0?r:0,r)?t[e]:i}function Vn(t,e,r){e=e.length?ke(e,(function(t){return Vs(t)?function(e){return An(e,1===t.length?t[0]:t)}:t})):[iu];var n=-1;e=ke(e,Xe(fo()));var i=zn(t,(function(t,r,i){var o=ke(e,(function(e){return e(t)}));return{criteria:o,index:++n,value:t}}));return function(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}(i,(function(t,e){return function(t,e,r){var n=-1,i=t.criteria,o=e.criteria,s=i.length,a=r.length;for(;++n<s;){var u=Oi(i[n],o[n]);if(u)return n>=a?u:u*("desc"==r[n]?-1:1)}return t.index-e.index}(t,e,r)}))}function Kn(t,e,r){for(var n=-1,i=e.length,o={};++n<i;){var s=e[n],a=An(t,s);r(a,s)&&ti(o,wi(s,t),a)}return o}function qn(t,e,r,n){var i=n?Ge:We,o=-1,s=e.length,a=t;for(t===e&&(e=Pi(e)),r&&(a=ke(t,Xe(r)));++o<s;)for(var u=0,f=e[o],c=r?r(f):f;(u=i(a,c,u,n))>-1;)a!==t&&$t.call(a,u,1),$t.call(t,u,1);return t}function Jn(t,e){for(var r=t?e.length:0,n=r-1;r--;){var i=e[r];if(r==n||i!==o){var o=i;wo(i)?$t.call(t,i,1):di(t,i)}}return t}function Yn(t,e){return t+ge(Sr()*(e-t+1))}function $n(t,e){var r="";if(!t||e<1||e>p)return r;do{e%2&&(r+=t),(e=ge(e/2))&&(t+=t)}while(e);return r}function Qn(t,e){return Lo(xo(t,e,iu),t+"")}function Zn(t){return Qr(Fa(t))}function Xn(t,e){var r=Fa(t);return No(r,un(e,0,r.length))}function ti(t,e,r,n){if(!ea(t))return t;for(var o=-1,s=(e=wi(e,t)).length,a=s-1,u=t;null!=u&&++o<s;){var f=Uo(e[o]),c=r;if("__proto__"===f||"constructor"===f||"prototype"===f)return t;if(o!=a){var h=u[f];(c=n?n(h,f,u):i)===i&&(c=ea(h)?h:wo(e[o+1])?[]:{})}en(u,f,c),u=u[f]}return t}var ei=Pr?function(t,e){return Pr.set(t,e),t}:iu,ri=re?function(t,e){return re(t,"toString",{configurable:!0,enumerable:!1,value:eu(e),writable:!0})}:iu;function ni(t){return No(Fa(t))}function ii(t,e,r){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(r=r>o?o:r)<0&&(r+=o),o=e>r?0:r-e>>>0,e>>>=0;for(var s=n(o);++i<o;)s[i]=t[i+e];return s}function oi(t,e){var r;return ln(t,(function(t,n,i){return!(r=e(t,n,i))})),!!r}function si(t,e,r){var n=0,i=null==t?n:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;n<i;){var o=n+i>>>1,s=t[o];null!==s&&!fa(s)&&(r?s<=e:s<e)?n=o+1:i=o}return i}return ai(t,e,iu,r)}function ai(t,e,r,n){var o=0,s=null==t?0:t.length;if(0===s)return 0;for(var a=(e=r(e))!=e,u=null===e,f=fa(e),c=e===i;o<s;){var h=ge((o+s)/2),d=r(t[h]),l=d!==i,p=null===d,b=d==d,g=fa(d);if(a)var m=n||b;else m=c?b&&(n||l):u?b&&l&&(n||!p):f?b&&l&&!p&&(n||!g):!p&&!g&&(n?d<=e:d<e);m?o=h+1:s=h}return vr(s,4294967294)}function ui(t,e){for(var r=-1,n=t.length,i=0,o=[];++r<n;){var s=t[r],a=e?e(s):s;if(!r||!Fs(a,u)){var u=a;o[i++]=0===s?0:s}}return o}function fi(t){return"number"==typeof t?t:fa(t)?b:+t}function ci(t){if("string"==typeof t)return t;if(Vs(t))return ke(t,ci)+"";if(fa(t))return Dr?Dr.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function hi(t,e,r){var n=-1,i=Le,o=t.length,s=!0,a=[],u=a;if(r)s=!1,i=Be;else if(o>=200){var f=e?null:$i(t);if(f)return hr(f);s=!1,i=er,u=new Jr}else u=e?[]:a;t:for(;++n<o;){var c=t[n],h=e?e(c):c;if(c=r||0!==c?c:0,s&&h==h){for(var d=u.length;d--;)if(u[d]===h)continue t;e&&u.push(h),a.push(c)}else i(u,h,r)||(u!==a&&u.push(h),a.push(c))}return a}function di(t,e){return null==(t=To(t,e=wi(e,t)))||delete t[Uo(Qo(e))]}function li(t,e,r,n){return ti(t,e,r(An(t,e)),n)}function pi(t,e,r,n){for(var i=t.length,o=n?i:-1;(n?o--:++o<i)&&e(t[o],o,t););return r?ii(t,n?0:o,n?o+1:i):ii(t,n?o+1:0,n?i:o)}function bi(t,e){var r=t;return r instanceof Gr&&(r=r.value()),He(e,(function(t,e){return e.func.apply(e.thisArg,Ne([t],e.args))}),r)}function gi(t,e,r){var i=t.length;if(i<2)return i?hi(t[0]):[];for(var o=-1,s=n(i);++o<i;)for(var a=t[o],u=-1;++u<i;)u!=o&&(s[o]=dn(s[o]||a,t[u],e,r));return hi(yn(s,1),e,r)}function mi(t,e,r){for(var n=-1,o=t.length,s=e.length,a={};++n<o;){var u=n<s?e[n]:i;r(a,t[n],u)}return a}function yi(t){return Js(t)?t:[]}function vi(t){return"function"==typeof t?t:iu}function wi(t,e){return Vs(t)?t:So(t,e)?[t]:Ho(va(t))}var _i=Qn;function Si(t,e,r){var n=t.length;return r=r===i?n:r,!e&&r>=n?t:ii(t,e,r)}var Mi=ie||function(t){return be.clearTimeout(t)};function Ai(t,e){if(e)return t.slice();var r=t.length,n=Kt?Kt(r):new t.constructor(r);return t.copy(n),n}function Ci(t){var e=new t.constructor(t.byteLength);return new Vt(e).set(new Vt(t)),e}function Ei(t,e){var r=e?Ci(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function Oi(t,e){if(t!==e){var r=t!==i,n=null===t,o=t==t,s=fa(t),a=e!==i,u=null===e,f=e==e,c=fa(e);if(!u&&!c&&!s&&t>e||s&&a&&f&&!u&&!c||n&&a&&f||!r&&f||!o)return 1;if(!n&&!s&&!c&&t<e||c&&r&&o&&!n&&!s||u&&r&&o||!a&&o||!f)return-1}return 0}function xi(t,e,r,i){for(var o=-1,s=t.length,a=r.length,u=-1,f=e.length,c=yr(s-a,0),h=n(f+c),d=!i;++u<f;)h[u]=e[u];for(;++o<a;)(d||o<s)&&(h[r[o]]=t[o]);for(;c--;)h[u++]=t[o++];return h}function Ti(t,e,r,i){for(var o=-1,s=t.length,a=-1,u=r.length,f=-1,c=e.length,h=yr(s-u,0),d=n(h+c),l=!i;++o<h;)d[o]=t[o];for(var p=o;++f<c;)d[p+f]=e[f];for(;++a<u;)(l||o<s)&&(d[p+r[a]]=t[o++]);return d}function Pi(t,e){var r=-1,i=t.length;for(e||(e=n(i));++r<i;)e[r]=t[r];return e}function Ii(t,e,r,n){var o=!r;r||(r={});for(var s=-1,a=e.length;++s<a;){var u=e[s],f=n?n(r[u],t[u],u,r,t):i;f===i&&(f=t[u]),o?sn(r,u,f):en(r,u,f)}return r}function Ri(t,e){return function(r,n){var i=Vs(r)?xe:nn,o=e?e():{};return i(r,t,fo(n,2),o)}}function Li(t){return Qn((function(e,r){var n=-1,o=r.length,s=o>1?r[o-1]:i,a=o>2?r[2]:i;for(s=t.length>3&&"function"==typeof s?(o--,s):i,a&&_o(r[0],r[1],a)&&(s=o<3?i:s,o=1),e=Ot(e);++n<o;){var u=r[n];u&&t(e,u,n,s)}return e}))}function Bi(t,e){return function(r,n){if(null==r)return r;if(!qs(r))return t(r,n);for(var i=r.length,o=e?i:-1,s=Ot(r);(e?o--:++o<i)&&!1!==n(s[o],o,s););return r}}function ki(t){return function(e,r,n){for(var i=-1,o=Ot(e),s=n(e),a=s.length;a--;){var u=s[t?a:++i];if(!1===r(o[u],u,o))break}return e}}function Ni(t){return function(e){var r=ar(e=va(e))?pr(e):i,n=r?r[0]:e.charAt(0),o=r?Si(r,1).join(""):e.slice(1);return n[t]()+o}}function Hi(t){return function(e){return He(Za(Ga(e).replace(te,"")),t,"")}}function Ui(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var r=Fr(t.prototype),n=t.apply(r,e);return ea(n)?n:r}}function Di(t){return function(e,r,n){var o=Ot(e);if(!qs(e)){var s=fo(r,3);e=Ra(e),r=function(t){return s(o[t],t,o)}}var a=t(e,r,n);return a>-1?o[s?e[a]:a]:i}}function zi(t){return no((function(e){var r=e.length,n=r,s=Wr.prototype.thru;for(t&&e.reverse();n--;){var a=e[n];if("function"!=typeof a)throw new Pt(o);if(s&&!u&&"wrapper"==ao(a))var u=new Wr([],!0)}for(n=u?n:r;++n<r;){var f=ao(a=e[n]),c="wrapper"==f?so(a):i;u=c&&Mo(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?u[ao(c[0])].apply(u,c[3]):1==a.length&&Mo(a)?u[f]():u.thru(a)}return function(){var t=arguments,n=t[0];if(u&&1==t.length&&Vs(n))return u.plant(n).value();for(var i=0,o=r?e[i].apply(this,t):n;++i<r;)o=e[i].call(this,o);return o}}))}function Fi(t,e,r,o,s,a,u,f,c,d){var l=e&h,p=1&e,b=2&e,g=24&e,m=512&e,y=b?i:Ui(t);return function h(){for(var v=arguments.length,w=n(v),_=v;_--;)w[_]=arguments[_];if(g)var S=uo(h),M=function(t,e){for(var r=t.length,n=0;r--;)t[r]===e&&++n;return n}(w,S);if(o&&(w=xi(w,o,s,g)),a&&(w=Ti(w,a,u,g)),v-=M,g&&v<d){var A=cr(w,S);return Ji(t,e,Fi,h.placeholder,r,w,A,f,c,d-v)}var C=p?r:this,E=b?C[t]:t;return v=w.length,f?w=function(t,e){var r=t.length,n=vr(e.length,r),o=Pi(t);for(;n--;){var s=e[n];t[n]=wo(s,r)?o[s]:i}return t}(w,f):m&&v>1&&w.reverse(),l&&c<v&&(w.length=c),this&&this!==be&&this instanceof h&&(E=y||Ui(E)),E.apply(C,w)}}function ji(t,e){return function(r,n){return function(t,e,r,n){return _n(t,(function(t,i,o){e(n,r(t),i,o)})),n}(r,t,e(n),{})}}function Wi(t,e){return function(r,n){var o;if(r===i&&n===i)return e;if(r!==i&&(o=r),n!==i){if(o===i)return n;"string"==typeof r||"string"==typeof n?(r=ci(r),n=ci(n)):(r=fi(r),n=fi(n)),o=t(r,n)}return o}}function Gi(t){return no((function(e){return e=ke(e,Xe(fo())),Qn((function(r){var n=this;return t(e,(function(t){return Oe(t,n,r)}))}))}))}function Vi(t,e){var r=(e=e===i?" ":ci(e)).length;if(r<2)return r?$n(e,t):e;var n=$n(e,pe(t/lr(e)));return ar(e)?Si(pr(n),0,t).join(""):n.slice(0,t)}function Ki(t){return function(e,r,o){return o&&"number"!=typeof o&&_o(e,r,o)&&(r=o=i),e=pa(e),r===i?(r=e,e=0):r=pa(r),function(t,e,r,i){for(var o=-1,s=yr(pe((e-t)/(r||1)),0),a=n(s);s--;)a[i?s:++o]=t,t+=r;return a}(e,r,o=o===i?e<r?1:-1:pa(o),t)}}function qi(t){return function(e,r){return"string"==typeof e&&"string"==typeof r||(e=ma(e),r=ma(r)),t(e,r)}}function Ji(t,e,r,n,o,s,a,u,h,d){var l=8&e;e|=l?f:c,4&(e&=~(l?c:f))||(e&=-4);var p=[t,e,o,l?s:i,l?a:i,l?i:s,l?i:a,u,h,d],b=r.apply(i,p);return Mo(t)&&Io(b,p),b.placeholder=n,Bo(b,t,e)}function Yi(t){var e=Et[t];return function(t,r){if(t=ma(t),(r=null==r?0:vr(ba(r),292))&&we(t)){var n=(va(t)+"e").split("e");return+((n=(va(e(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return e(t)}}var $i=Or&&1/hr(new Or([,-0]))[1]==l?function(t){return new Or(t)}:fu;function Qi(t){return function(e){var r=go(e);return r==C?ur(e):r==P?dr(e):function(t,e){return ke(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Zi(t,e,r,s,l,p,b,g){var m=2&e;if(!m&&"function"!=typeof t)throw new Pt(o);var y=s?s.length:0;if(y||(e&=-97,s=l=i),b=b===i?b:yr(ba(b),0),g=g===i?g:ba(g),y-=l?l.length:0,e&c){var v=s,w=l;s=l=i}var _=m?i:so(t),S=[t,e,r,s,l,v,w,p,b,g];if(_&&function(t,e){var r=t[1],n=e[1],i=r|n,o=i<131,s=n==h&&8==r||n==h&&r==d&&t[7].length<=e[8]||384==n&&e[7].length<=e[8]&&8==r;if(!o&&!s)return t;1&n&&(t[2]=e[2],i|=1&r?0:4);var u=e[3];if(u){var f=t[3];t[3]=f?xi(f,u,e[4]):u,t[4]=f?cr(t[3],a):e[4]}(u=e[5])&&(f=t[5],t[5]=f?Ti(f,u,e[6]):u,t[6]=f?cr(t[5],a):e[6]);(u=e[7])&&(t[7]=u);n&h&&(t[8]=null==t[8]?e[8]:vr(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=i}(S,_),t=S[0],e=S[1],r=S[2],s=S[3],l=S[4],!(g=S[9]=S[9]===i?m?0:t.length:yr(S[9]-y,0))&&24&e&&(e&=-25),e&&1!=e)M=8==e||e==u?function(t,e,r){var o=Ui(t);return function s(){for(var a=arguments.length,u=n(a),f=a,c=uo(s);f--;)u[f]=arguments[f];var h=a<3&&u[0]!==c&&u[a-1]!==c?[]:cr(u,c);return(a-=h.length)<r?Ji(t,e,Fi,s.placeholder,i,u,h,i,i,r-a):Oe(this&&this!==be&&this instanceof s?o:t,this,u)}}(t,e,g):e!=f&&33!=e||l.length?Fi.apply(i,S):function(t,e,r,i){var o=1&e,s=Ui(t);return function e(){for(var a=-1,u=arguments.length,f=-1,c=i.length,h=n(c+u),d=this&&this!==be&&this instanceof e?s:t;++f<c;)h[f]=i[f];for(;u--;)h[f++]=arguments[++a];return Oe(d,o?r:this,h)}}(t,e,r,s);else var M=function(t,e,r){var n=1&e,i=Ui(t);return function e(){return(this&&this!==be&&this instanceof e?i:t).apply(n?r:this,arguments)}}(t,e,r);return Bo((_?ei:Io)(M,S),t,e)}function Xi(t,e,r,n){return t===i||Fs(t,Lt[r])&&!Nt.call(n,r)?e:t}function to(t,e,r,n,o,s){return ea(t)&&ea(e)&&(s.set(e,t),Wn(t,e,i,to,s),s.delete(e)),t}function eo(t){return oa(t)?i:t}function ro(t,e,r,n,o,s){var a=1&r,u=t.length,f=e.length;if(u!=f&&!(a&&f>u))return!1;var c=s.get(t),h=s.get(e);if(c&&h)return c==e&&h==t;var d=-1,l=!0,p=2&r?new Jr:i;for(s.set(t,e),s.set(e,t);++d<u;){var b=t[d],g=e[d];if(n)var m=a?n(g,b,d,e,t,s):n(b,g,d,t,e,s);if(m!==i){if(m)continue;l=!1;break}if(p){if(!De(e,(function(t,e){if(!er(p,e)&&(b===t||o(b,t,r,n,s)))return p.push(e)}))){l=!1;break}}else if(b!==g&&!o(b,g,r,n,s)){l=!1;break}}return s.delete(t),s.delete(e),l}function no(t){return Lo(xo(t,i,Ko),t+"")}function io(t){return Cn(t,Ra,po)}function oo(t){return Cn(t,La,bo)}var so=Pr?function(t){return Pr.get(t)}:fu;function ao(t){for(var e=t.name+"",r=Ir[e],n=Nt.call(Ir,e)?r.length:0;n--;){var i=r[n],o=i.func;if(null==o||o==t)return i.name}return e}function uo(t){return(Nt.call(zr,"placeholder")?zr:t).placeholder}function fo(){var t=zr.iteratee||ou;return t=t===ou?Nn:t,arguments.length?t(arguments[0],arguments[1]):t}function co(t,e){var r,n,i=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof e?"string":"hash"]:i.map}function ho(t){for(var e=Ra(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,Eo(i)]}return e}function lo(t,e){var r=function(t,e){return null==t?i:t[e]}(t,e);return kn(r)?r:i}var po=me?function(t){return null==t?[]:(t=Ot(t),Re(me(t),(function(e){return Yt.call(t,e)})))}:gu,bo=me?function(t){for(var e=[];t;)Ne(e,po(t)),t=qt(t);return e}:gu,go=En;function mo(t,e,r){for(var n=-1,i=(e=wi(e,t)).length,o=!1;++n<i;){var s=Uo(e[n]);if(!(o=null!=t&&r(t,s)))break;t=t[s]}return o||++n!=i?o:!!(i=null==t?0:t.length)&&ta(i)&&wo(s,i)&&(Vs(t)||Gs(t))}function yo(t){return"function"!=typeof t.constructor||Co(t)?{}:Fr(qt(t))}function vo(t){return Vs(t)||Gs(t)||!!(Qt&&t&&t[Qt])}function wo(t,e){var r=typeof t;return!!(e=null==e?p:e)&&("number"==r||"symbol"!=r&&wt.test(t))&&t>-1&&t%1==0&&t<e}function _o(t,e,r){if(!ea(r))return!1;var n=typeof e;return!!("number"==n?qs(r)&&wo(e,r.length):"string"==n&&e in r)&&Fs(r[e],t)}function So(t,e){if(Vs(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!fa(t))||(rt.test(t)||!et.test(t)||null!=e&&t in Ot(e))}function Mo(t){var e=ao(t),r=zr[e];if("function"!=typeof r||!(e in Gr.prototype))return!1;if(t===r)return!0;var n=so(r);return!!n&&t===n[0]}(Ar&&go(new Ar(new ArrayBuffer(1)))!=k||Cr&&go(new Cr)!=C||Er&&go(Er.resolve())!=x||Or&&go(new Or)!=P||xr&&go(new xr)!=L)&&(go=function(t){var e=En(t),r=e==O?t.constructor:i,n=r?Do(r):"";if(n)switch(n){case Rr:return k;case Lr:return C;case Br:return x;case kr:return P;case Nr:return L}return e});var Ao=Bt?Zs:mu;function Co(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Lt)}function Eo(t){return t==t&&!ea(t)}function Oo(t,e){return function(r){return null!=r&&(r[t]===e&&(e!==i||t in Ot(r)))}}function xo(t,e,r){return e=yr(e===i?t.length-1:e,0),function(){for(var i=arguments,o=-1,s=yr(i.length-e,0),a=n(s);++o<s;)a[o]=i[e+o];o=-1;for(var u=n(e+1);++o<e;)u[o]=i[o];return u[e]=r(a),Oe(t,this,u)}}function To(t,e){return e.length<2?t:An(t,ii(e,0,-1))}function Po(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Io=ko(ei),Ro=le||function(t,e){return be.setTimeout(t,e)},Lo=ko(ri);function Bo(t,e,r){var n=e+"";return Lo(t,function(t,e){var r=e.length;if(!r)return t;var n=r-1;return e[n]=(r>1?"& ":"")+e[n],e=e.join(r>2?", ":" "),t.replace(ut,"{\n/* [wrapped with "+e+"] */\n")}(n,function(t,e){return Te(m,(function(r){var n="_."+r[0];e&r[1]&&!Le(t,n)&&t.push(n)})),t.sort()}(function(t){var e=t.match(ft);return e?e[1].split(ct):[]}(n),r)))}function ko(t){var e=0,r=0;return function(){var n=wr(),o=16-(n-r);if(r=n,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(i,arguments)}}function No(t,e){var r=-1,n=t.length,o=n-1;for(e=e===i?n:e;++r<e;){var s=Yn(r,o),a=t[s];t[s]=t[r],t[r]=a}return t.length=e,t}var Ho=function(t){var e=ks(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(nt,(function(t,r,n,i){e.push(n?i.replace(lt,"$1"):r||t)})),e}));function Uo(t){if("string"==typeof t||fa(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Do(t){if(null!=t){try{return kt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function zo(t){if(t instanceof Gr)return t.clone();var e=new Wr(t.__wrapped__,t.__chain__);return e.__actions__=Pi(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Fo=Qn((function(t,e){return Js(t)?dn(t,yn(e,1,Js,!0)):[]})),jo=Qn((function(t,e){var r=Qo(e);return Js(r)&&(r=i),Js(t)?dn(t,yn(e,1,Js,!0),fo(r,2)):[]})),Wo=Qn((function(t,e){var r=Qo(e);return Js(r)&&(r=i),Js(t)?dn(t,yn(e,1,Js,!0),i,r):[]}));function Go(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=null==r?0:ba(r);return i<0&&(i=yr(n+i,0)),je(t,fo(e,3),i)}function Vo(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var o=n-1;return r!==i&&(o=ba(r),o=r<0?yr(n+o,0):vr(o,n-1)),je(t,fo(e,3),o,!0)}function Ko(t){return(null==t?0:t.length)?yn(t,1):[]}function qo(t){return t&&t.length?t[0]:i}var Jo=Qn((function(t){var e=ke(t,yi);return e.length&&e[0]===t[0]?Pn(e):[]})),Yo=Qn((function(t){var e=Qo(t),r=ke(t,yi);return e===Qo(r)?e=i:r.pop(),r.length&&r[0]===t[0]?Pn(r,fo(e,2)):[]})),$o=Qn((function(t){var e=Qo(t),r=ke(t,yi);return(e="function"==typeof e?e:i)&&r.pop(),r.length&&r[0]===t[0]?Pn(r,i,e):[]}));function Qo(t){var e=null==t?0:t.length;return e?t[e-1]:i}var Zo=Qn(Xo);function Xo(t,e){return t&&t.length&&e&&e.length?qn(t,e):t}var ts=no((function(t,e){var r=null==t?0:t.length,n=an(t,e);return Jn(t,ke(e,(function(t){return wo(t,r)?+t:t})).sort(Oi)),n}));function es(t){return null==t?t:Mr.call(t)}var rs=Qn((function(t){return hi(yn(t,1,Js,!0))})),ns=Qn((function(t){var e=Qo(t);return Js(e)&&(e=i),hi(yn(t,1,Js,!0),fo(e,2))})),is=Qn((function(t){var e=Qo(t);return e="function"==typeof e?e:i,hi(yn(t,1,Js,!0),i,e)}));function os(t){if(!t||!t.length)return[];var e=0;return t=Re(t,(function(t){if(Js(t))return e=yr(t.length,e),!0})),Qe(e,(function(e){return ke(t,qe(e))}))}function ss(t,e){if(!t||!t.length)return[];var r=os(t);return null==e?r:ke(r,(function(t){return Oe(e,i,t)}))}var as=Qn((function(t,e){return Js(t)?dn(t,e):[]})),us=Qn((function(t){return gi(Re(t,Js))})),fs=Qn((function(t){var e=Qo(t);return Js(e)&&(e=i),gi(Re(t,Js),fo(e,2))})),cs=Qn((function(t){var e=Qo(t);return e="function"==typeof e?e:i,gi(Re(t,Js),i,e)})),hs=Qn(os);var ds=Qn((function(t){var e=t.length,r=e>1?t[e-1]:i;return r="function"==typeof r?(t.pop(),r):i,ss(t,r)}));function ls(t){var e=zr(t);return e.__chain__=!0,e}function ps(t,e){return e(t)}var bs=no((function(t){var e=t.length,r=e?t[0]:0,n=this.__wrapped__,o=function(e){return an(e,t)};return!(e>1||this.__actions__.length)&&n instanceof Gr&&wo(r)?((n=n.slice(r,+r+(e?1:0))).__actions__.push({func:ps,args:[o],thisArg:i}),new Wr(n,this.__chain__).thru((function(t){return e&&!t.length&&t.push(i),t}))):this.thru(o)}));var gs=Ri((function(t,e,r){Nt.call(t,r)?++t[r]:sn(t,r,1)}));var ms=Di(Go),ys=Di(Vo);function vs(t,e){return(Vs(t)?Te:ln)(t,fo(e,3))}function ws(t,e){return(Vs(t)?Pe:pn)(t,fo(e,3))}var _s=Ri((function(t,e,r){Nt.call(t,r)?t[r].push(e):sn(t,r,[e])}));var Ss=Qn((function(t,e,r){var i=-1,o="function"==typeof e,s=qs(t)?n(t.length):[];return ln(t,(function(t){s[++i]=o?Oe(e,t,r):In(t,e,r)})),s})),Ms=Ri((function(t,e,r){sn(t,r,e)}));function As(t,e){return(Vs(t)?ke:zn)(t,fo(e,3))}var Cs=Ri((function(t,e,r){t[r?0:1].push(e)}),(function(){return[[],[]]}));var Es=Qn((function(t,e){if(null==t)return[];var r=e.length;return r>1&&_o(t,e[0],e[1])?e=[]:r>2&&_o(e[0],e[1],e[2])&&(e=[e[0]]),Vn(t,yn(e,1),[])})),Os=ce||function(){return be.Date.now()};function xs(t,e,r){return e=r?i:e,e=t&&null==e?t.length:e,Zi(t,h,i,i,i,i,e)}function Ts(t,e){var r;if("function"!=typeof e)throw new Pt(o);return t=ba(t),function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=i),r}}var Ps=Qn((function(t,e,r){var n=1;if(r.length){var i=cr(r,uo(Ps));n|=f}return Zi(t,n,e,r,i)})),Is=Qn((function(t,e,r){var n=3;if(r.length){var i=cr(r,uo(Is));n|=f}return Zi(e,n,t,r,i)}));function Rs(t,e,r){var n,s,a,u,f,c,h=0,d=!1,l=!1,p=!0;if("function"!=typeof t)throw new Pt(o);function b(e){var r=n,o=s;return n=s=i,h=e,u=t.apply(o,r)}function g(t){var r=t-c;return c===i||r>=e||r<0||l&&t-h>=a}function m(){var t=Os();if(g(t))return y(t);f=Ro(m,function(t){var r=e-(t-c);return l?vr(r,a-(t-h)):r}(t))}function y(t){return f=i,p&&n?b(t):(n=s=i,u)}function v(){var t=Os(),r=g(t);if(n=arguments,s=this,c=t,r){if(f===i)return function(t){return h=t,f=Ro(m,e),d?b(t):u}(c);if(l)return Mi(f),f=Ro(m,e),b(c)}return f===i&&(f=Ro(m,e)),u}return e=ma(e)||0,ea(r)&&(d=!!r.leading,a=(l="maxWait"in r)?yr(ma(r.maxWait)||0,e):a,p="trailing"in r?!!r.trailing:p),v.cancel=function(){f!==i&&Mi(f),h=0,n=c=s=f=i},v.flush=function(){return f===i?u:y(Os())},v}var Ls=Qn((function(t,e){return hn(t,1,e)})),Bs=Qn((function(t,e,r){return hn(t,ma(e)||0,r)}));function ks(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Pt(o);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=t.apply(this,n);return r.cache=o.set(i,s)||o,s};return r.cache=new(ks.Cache||qr),r}function Ns(t){if("function"!=typeof t)throw new Pt(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}ks.Cache=qr;var Hs=_i((function(t,e){var r=(e=1==e.length&&Vs(e[0])?ke(e[0],Xe(fo())):ke(yn(e,1),Xe(fo()))).length;return Qn((function(n){for(var i=-1,o=vr(n.length,r);++i<o;)n[i]=e[i].call(this,n[i]);return Oe(t,this,n)}))})),Us=Qn((function(t,e){var r=cr(e,uo(Us));return Zi(t,f,i,e,r)})),Ds=Qn((function(t,e){var r=cr(e,uo(Ds));return Zi(t,c,i,e,r)})),zs=no((function(t,e){return Zi(t,d,i,i,i,e)}));function Fs(t,e){return t===e||t!=t&&e!=e}var js=qi(On),Ws=qi((function(t,e){return t>=e})),Gs=Rn(function(){return arguments}())?Rn:function(t){return ra(t)&&Nt.call(t,"callee")&&!Yt.call(t,"callee")},Vs=n.isArray,Ks=_e?Xe(_e):function(t){return ra(t)&&En(t)==B};function qs(t){return null!=t&&ta(t.length)&&!Zs(t)}function Js(t){return ra(t)&&qs(t)}var Ys=ve||mu,$s=Se?Xe(Se):function(t){return ra(t)&&En(t)==_};function Qs(t){if(!ra(t))return!1;var e=En(t);return e==S||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!oa(t)}function Zs(t){if(!ea(t))return!1;var e=En(t);return e==M||e==A||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Xs(t){return"number"==typeof t&&t==ba(t)}function ta(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=p}function ea(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ra(t){return null!=t&&"object"==typeof t}var na=Me?Xe(Me):function(t){return ra(t)&&go(t)==C};function ia(t){return"number"==typeof t||ra(t)&&En(t)==E}function oa(t){if(!ra(t)||En(t)!=O)return!1;var e=qt(t);if(null===e)return!0;var r=Nt.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&kt.call(r)==zt}var sa=Ae?Xe(Ae):function(t){return ra(t)&&En(t)==T};var aa=Ce?Xe(Ce):function(t){return ra(t)&&go(t)==P};function ua(t){return"string"==typeof t||!Vs(t)&&ra(t)&&En(t)==I}function fa(t){return"symbol"==typeof t||ra(t)&&En(t)==R}var ca=Ee?Xe(Ee):function(t){return ra(t)&&ta(t.length)&&!!ue[En(t)]};var ha=qi(Dn),da=qi((function(t,e){return t<=e}));function la(t){if(!t)return[];if(qs(t))return ua(t)?pr(t):Pi(t);if(Zt&&t[Zt])return function(t){for(var e,r=[];!(e=t.next()).done;)r.push(e.value);return r}(t[Zt]());var e=go(t);return(e==C?ur:e==P?hr:Fa)(t)}function pa(t){return t?(t=ma(t))===l||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function ba(t){var e=pa(t),r=e%1;return e==e?r?e-r:e:0}function ga(t){return t?un(ba(t),0,g):0}function ma(t){if("number"==typeof t)return t;if(fa(t))return b;if(ea(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ea(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Ze(t);var r=mt.test(t);return r||vt.test(t)?de(t.slice(2),r?2:8):gt.test(t)?b:+t}function ya(t){return Ii(t,La(t))}function va(t){return null==t?"":ci(t)}var wa=Li((function(t,e){if(Co(e)||qs(e))Ii(e,Ra(e),t);else for(var r in e)Nt.call(e,r)&&en(t,r,e[r])})),_a=Li((function(t,e){Ii(e,La(e),t)})),Sa=Li((function(t,e,r,n){Ii(e,La(e),t,n)})),Ma=Li((function(t,e,r,n){Ii(e,Ra(e),t,n)})),Aa=no(an);var Ca=Qn((function(t,e){t=Ot(t);var r=-1,n=e.length,o=n>2?e[2]:i;for(o&&_o(e[0],e[1],o)&&(n=1);++r<n;)for(var s=e[r],a=La(s),u=-1,f=a.length;++u<f;){var c=a[u],h=t[c];(h===i||Fs(h,Lt[c])&&!Nt.call(t,c))&&(t[c]=s[c])}return t})),Ea=Qn((function(t){return t.push(i,to),Oe(ka,i,t)}));function Oa(t,e,r){var n=null==t?i:An(t,e);return n===i?r:n}function xa(t,e){return null!=t&&mo(t,e,Tn)}var Ta=ji((function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=Dt.call(e)),t[e]=r}),eu(iu)),Pa=ji((function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=Dt.call(e)),Nt.call(t,e)?t[e].push(r):t[e]=[r]}),fo),Ia=Qn(In);function Ra(t){return qs(t)?$r(t):Hn(t)}function La(t){return qs(t)?$r(t,!0):Un(t)}var Ba=Li((function(t,e,r){Wn(t,e,r)})),ka=Li((function(t,e,r,n){Wn(t,e,r,n)})),Na=no((function(t,e){var r={};if(null==t)return r;var n=!1;e=ke(e,(function(e){return e=wi(e,t),n||(n=e.length>1),e})),Ii(t,oo(t),r),n&&(r=fn(r,7,eo));for(var i=e.length;i--;)di(r,e[i]);return r}));var Ha=no((function(t,e){return null==t?{}:function(t,e){return Kn(t,e,(function(e,r){return xa(t,r)}))}(t,e)}));function Ua(t,e){if(null==t)return{};var r=ke(oo(t),(function(t){return[t]}));return e=fo(e),Kn(t,r,(function(t,r){return e(t,r[0])}))}var Da=Qi(Ra),za=Qi(La);function Fa(t){return null==t?[]:tr(t,Ra(t))}var ja=Hi((function(t,e,r){return e=e.toLowerCase(),t+(r?Wa(e):e)}));function Wa(t){return Qa(va(t).toLowerCase())}function Ga(t){return(t=va(t))&&t.replace(_t,ir).replace(ee,"")}var Va=Hi((function(t,e,r){return t+(r?"-":"")+e.toLowerCase()})),Ka=Hi((function(t,e,r){return t+(r?" ":"")+e.toLowerCase()})),qa=Ni("toLowerCase");var Ja=Hi((function(t,e,r){return t+(r?"_":"")+e.toLowerCase()}));var Ya=Hi((function(t,e,r){return t+(r?" ":"")+Qa(e)}));var $a=Hi((function(t,e,r){return t+(r?" ":"")+e.toUpperCase()})),Qa=Ni("toUpperCase");function Za(t,e,r){return t=va(t),(e=r?i:e)===i?function(t){return oe.test(t)}(t)?function(t){return t.match(ne)||[]}(t):function(t){return t.match(ht)||[]}(t):t.match(e)||[]}var Xa=Qn((function(t,e){try{return Oe(t,i,e)}catch(t){return Qs(t)?t:new At(t)}})),tu=no((function(t,e){return Te(e,(function(e){e=Uo(e),sn(t,e,Ps(t[e],t))})),t}));function eu(t){return function(){return t}}var ru=zi(),nu=zi(!0);function iu(t){return t}function ou(t){return Nn("function"==typeof t?t:fn(t,1))}var su=Qn((function(t,e){return function(r){return In(r,t,e)}})),au=Qn((function(t,e){return function(r){return In(t,r,e)}}));function uu(t,e,r){var n=Ra(e),i=Mn(e,n);null!=r||ea(e)&&(i.length||!n.length)||(r=e,e=t,t=this,i=Mn(e,Ra(e)));var o=!(ea(r)&&"chain"in r&&!r.chain),s=Zs(t);return Te(i,(function(r){var n=e[r];t[r]=n,s&&(t.prototype[r]=function(){var e=this.__chain__;if(o||e){var r=t(this.__wrapped__);return(r.__actions__=Pi(this.__actions__)).push({func:n,args:arguments,thisArg:t}),r.__chain__=e,r}return n.apply(t,Ne([this.value()],arguments))})})),t}function fu(){}var cu=Gi(ke),hu=Gi(Ie),du=Gi(De);function lu(t){return So(t)?qe(Uo(t)):function(t){return function(e){return An(e,t)}}(t)}var pu=Ki(),bu=Ki(!0);function gu(){return[]}function mu(){return!1}var yu=Wi((function(t,e){return t+e}),0),vu=Yi("ceil"),wu=Wi((function(t,e){return t/e}),1),_u=Yi("floor");var Su,Mu=Wi((function(t,e){return t*e}),1),Au=Yi("round"),Cu=Wi((function(t,e){return t-e}),0);return zr.after=function(t,e){if("function"!=typeof e)throw new Pt(o);return t=ba(t),function(){if(--t<1)return e.apply(this,arguments)}},zr.ary=xs,zr.assign=wa,zr.assignIn=_a,zr.assignInWith=Sa,zr.assignWith=Ma,zr.at=Aa,zr.before=Ts,zr.bind=Ps,zr.bindAll=tu,zr.bindKey=Is,zr.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Vs(t)?t:[t]},zr.chain=ls,zr.chunk=function(t,e,r){e=(r?_o(t,e,r):e===i)?1:yr(ba(e),0);var o=null==t?0:t.length;if(!o||e<1)return[];for(var s=0,a=0,u=n(pe(o/e));s<o;)u[a++]=ii(t,s,s+=e);return u},zr.compact=function(t){for(var e=-1,r=null==t?0:t.length,n=0,i=[];++e<r;){var o=t[e];o&&(i[n++]=o)}return i},zr.concat=function(){var t=arguments.length;if(!t)return[];for(var e=n(t-1),r=arguments[0],i=t;i--;)e[i-1]=arguments[i];return Ne(Vs(r)?Pi(r):[r],yn(e,1))},zr.cond=function(t){var e=null==t?0:t.length,r=fo();return t=e?ke(t,(function(t){if("function"!=typeof t[1])throw new Pt(o);return[r(t[0]),t[1]]})):[],Qn((function(r){for(var n=-1;++n<e;){var i=t[n];if(Oe(i[0],this,r))return Oe(i[1],this,r)}}))},zr.conforms=function(t){return function(t){var e=Ra(t);return function(r){return cn(r,t,e)}}(fn(t,1))},zr.constant=eu,zr.countBy=gs,zr.create=function(t,e){var r=Fr(t);return null==e?r:on(r,e)},zr.curry=function t(e,r,n){var o=Zi(e,8,i,i,i,i,i,r=n?i:r);return o.placeholder=t.placeholder,o},zr.curryRight=function t(e,r,n){var o=Zi(e,u,i,i,i,i,i,r=n?i:r);return o.placeholder=t.placeholder,o},zr.debounce=Rs,zr.defaults=Ca,zr.defaultsDeep=Ea,zr.defer=Ls,zr.delay=Bs,zr.difference=Fo,zr.differenceBy=jo,zr.differenceWith=Wo,zr.drop=function(t,e,r){var n=null==t?0:t.length;return n?ii(t,(e=r||e===i?1:ba(e))<0?0:e,n):[]},zr.dropRight=function(t,e,r){var n=null==t?0:t.length;return n?ii(t,0,(e=n-(e=r||e===i?1:ba(e)))<0?0:e):[]},zr.dropRightWhile=function(t,e){return t&&t.length?pi(t,fo(e,3),!0,!0):[]},zr.dropWhile=function(t,e){return t&&t.length?pi(t,fo(e,3),!0):[]},zr.fill=function(t,e,r,n){var o=null==t?0:t.length;return o?(r&&"number"!=typeof r&&_o(t,e,r)&&(r=0,n=o),function(t,e,r,n){var o=t.length;for((r=ba(r))<0&&(r=-r>o?0:o+r),(n=n===i||n>o?o:ba(n))<0&&(n+=o),n=r>n?0:ga(n);r<n;)t[r++]=e;return t}(t,e,r,n)):[]},zr.filter=function(t,e){return(Vs(t)?Re:mn)(t,fo(e,3))},zr.flatMap=function(t,e){return yn(As(t,e),1)},zr.flatMapDeep=function(t,e){return yn(As(t,e),l)},zr.flatMapDepth=function(t,e,r){return r=r===i?1:ba(r),yn(As(t,e),r)},zr.flatten=Ko,zr.flattenDeep=function(t){return(null==t?0:t.length)?yn(t,l):[]},zr.flattenDepth=function(t,e){return(null==t?0:t.length)?yn(t,e=e===i?1:ba(e)):[]},zr.flip=function(t){return Zi(t,512)},zr.flow=ru,zr.flowRight=nu,zr.fromPairs=function(t){for(var e=-1,r=null==t?0:t.length,n={};++e<r;){var i=t[e];n[i[0]]=i[1]}return n},zr.functions=function(t){return null==t?[]:Mn(t,Ra(t))},zr.functionsIn=function(t){return null==t?[]:Mn(t,La(t))},zr.groupBy=_s,zr.initial=function(t){return(null==t?0:t.length)?ii(t,0,-1):[]},zr.intersection=Jo,zr.intersectionBy=Yo,zr.intersectionWith=$o,zr.invert=Ta,zr.invertBy=Pa,zr.invokeMap=Ss,zr.iteratee=ou,zr.keyBy=Ms,zr.keys=Ra,zr.keysIn=La,zr.map=As,zr.mapKeys=function(t,e){var r={};return e=fo(e,3),_n(t,(function(t,n,i){sn(r,e(t,n,i),t)})),r},zr.mapValues=function(t,e){var r={};return e=fo(e,3),_n(t,(function(t,n,i){sn(r,n,e(t,n,i))})),r},zr.matches=function(t){return Fn(fn(t,1))},zr.matchesProperty=function(t,e){return jn(t,fn(e,1))},zr.memoize=ks,zr.merge=Ba,zr.mergeWith=ka,zr.method=su,zr.methodOf=au,zr.mixin=uu,zr.negate=Ns,zr.nthArg=function(t){return t=ba(t),Qn((function(e){return Gn(e,t)}))},zr.omit=Na,zr.omitBy=function(t,e){return Ua(t,Ns(fo(e)))},zr.once=function(t){return Ts(2,t)},zr.orderBy=function(t,e,r,n){return null==t?[]:(Vs(e)||(e=null==e?[]:[e]),Vs(r=n?i:r)||(r=null==r?[]:[r]),Vn(t,e,r))},zr.over=cu,zr.overArgs=Hs,zr.overEvery=hu,zr.overSome=du,zr.partial=Us,zr.partialRight=Ds,zr.partition=Cs,zr.pick=Ha,zr.pickBy=Ua,zr.property=lu,zr.propertyOf=function(t){return function(e){return null==t?i:An(t,e)}},zr.pull=Zo,zr.pullAll=Xo,zr.pullAllBy=function(t,e,r){return t&&t.length&&e&&e.length?qn(t,e,fo(r,2)):t},zr.pullAllWith=function(t,e,r){return t&&t.length&&e&&e.length?qn(t,e,i,r):t},zr.pullAt=ts,zr.range=pu,zr.rangeRight=bu,zr.rearg=zs,zr.reject=function(t,e){return(Vs(t)?Re:mn)(t,Ns(fo(e,3)))},zr.remove=function(t,e){var r=[];if(!t||!t.length)return r;var n=-1,i=[],o=t.length;for(e=fo(e,3);++n<o;){var s=t[n];e(s,n,t)&&(r.push(s),i.push(n))}return Jn(t,i),r},zr.rest=function(t,e){if("function"!=typeof t)throw new Pt(o);return Qn(t,e=e===i?e:ba(e))},zr.reverse=es,zr.sampleSize=function(t,e,r){return e=(r?_o(t,e,r):e===i)?1:ba(e),(Vs(t)?Zr:Xn)(t,e)},zr.set=function(t,e,r){return null==t?t:ti(t,e,r)},zr.setWith=function(t,e,r,n){return n="function"==typeof n?n:i,null==t?t:ti(t,e,r,n)},zr.shuffle=function(t){return(Vs(t)?Xr:ni)(t)},zr.slice=function(t,e,r){var n=null==t?0:t.length;return n?(r&&"number"!=typeof r&&_o(t,e,r)?(e=0,r=n):(e=null==e?0:ba(e),r=r===i?n:ba(r)),ii(t,e,r)):[]},zr.sortBy=Es,zr.sortedUniq=function(t){return t&&t.length?ui(t):[]},zr.sortedUniqBy=function(t,e){return t&&t.length?ui(t,fo(e,2)):[]},zr.split=function(t,e,r){return r&&"number"!=typeof r&&_o(t,e,r)&&(e=r=i),(r=r===i?g:r>>>0)?(t=va(t))&&("string"==typeof e||null!=e&&!sa(e))&&!(e=ci(e))&&ar(t)?Si(pr(t),0,r):t.split(e,r):[]},zr.spread=function(t,e){if("function"!=typeof t)throw new Pt(o);return e=null==e?0:yr(ba(e),0),Qn((function(r){var n=r[e],i=Si(r,0,e);return n&&Ne(i,n),Oe(t,this,i)}))},zr.tail=function(t){var e=null==t?0:t.length;return e?ii(t,1,e):[]},zr.take=function(t,e,r){return t&&t.length?ii(t,0,(e=r||e===i?1:ba(e))<0?0:e):[]},zr.takeRight=function(t,e,r){var n=null==t?0:t.length;return n?ii(t,(e=n-(e=r||e===i?1:ba(e)))<0?0:e,n):[]},zr.takeRightWhile=function(t,e){return t&&t.length?pi(t,fo(e,3),!1,!0):[]},zr.takeWhile=function(t,e){return t&&t.length?pi(t,fo(e,3)):[]},zr.tap=function(t,e){return e(t),t},zr.throttle=function(t,e,r){var n=!0,i=!0;if("function"!=typeof t)throw new Pt(o);return ea(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Rs(t,e,{leading:n,maxWait:e,trailing:i})},zr.thru=ps,zr.toArray=la,zr.toPairs=Da,zr.toPairsIn=za,zr.toPath=function(t){return Vs(t)?ke(t,Uo):fa(t)?[t]:Pi(Ho(va(t)))},zr.toPlainObject=ya,zr.transform=function(t,e,r){var n=Vs(t),i=n||Ys(t)||ca(t);if(e=fo(e,4),null==r){var o=t&&t.constructor;r=i?n?new o:[]:ea(t)&&Zs(o)?Fr(qt(t)):{}}return(i?Te:_n)(t,(function(t,n,i){return e(r,t,n,i)})),r},zr.unary=function(t){return xs(t,1)},zr.union=rs,zr.unionBy=ns,zr.unionWith=is,zr.uniq=function(t){return t&&t.length?hi(t):[]},zr.uniqBy=function(t,e){return t&&t.length?hi(t,fo(e,2)):[]},zr.uniqWith=function(t,e){return e="function"==typeof e?e:i,t&&t.length?hi(t,i,e):[]},zr.unset=function(t,e){return null==t||di(t,e)},zr.unzip=os,zr.unzipWith=ss,zr.update=function(t,e,r){return null==t?t:li(t,e,vi(r))},zr.updateWith=function(t,e,r,n){return n="function"==typeof n?n:i,null==t?t:li(t,e,vi(r),n)},zr.values=Fa,zr.valuesIn=function(t){return null==t?[]:tr(t,La(t))},zr.without=as,zr.words=Za,zr.wrap=function(t,e){return Us(vi(e),t)},zr.xor=us,zr.xorBy=fs,zr.xorWith=cs,zr.zip=hs,zr.zipObject=function(t,e){return mi(t||[],e||[],en)},zr.zipObjectDeep=function(t,e){return mi(t||[],e||[],ti)},zr.zipWith=ds,zr.entries=Da,zr.entriesIn=za,zr.extend=_a,zr.extendWith=Sa,uu(zr,zr),zr.add=yu,zr.attempt=Xa,zr.camelCase=ja,zr.capitalize=Wa,zr.ceil=vu,zr.clamp=function(t,e,r){return r===i&&(r=e,e=i),r!==i&&(r=(r=ma(r))==r?r:0),e!==i&&(e=(e=ma(e))==e?e:0),un(ma(t),e,r)},zr.clone=function(t){return fn(t,4)},zr.cloneDeep=function(t){return fn(t,5)},zr.cloneDeepWith=function(t,e){return fn(t,5,e="function"==typeof e?e:i)},zr.cloneWith=function(t,e){return fn(t,4,e="function"==typeof e?e:i)},zr.conformsTo=function(t,e){return null==e||cn(t,e,Ra(e))},zr.deburr=Ga,zr.defaultTo=function(t,e){return null==t||t!=t?e:t},zr.divide=wu,zr.endsWith=function(t,e,r){t=va(t),e=ci(e);var n=t.length,o=r=r===i?n:un(ba(r),0,n);return(r-=e.length)>=0&&t.slice(r,o)==e},zr.eq=Fs,zr.escape=function(t){return(t=va(t))&&Q.test(t)?t.replace(Y,or):t},zr.escapeRegExp=function(t){return(t=va(t))&&ot.test(t)?t.replace(it,"\\$&"):t},zr.every=function(t,e,r){var n=Vs(t)?Ie:bn;return r&&_o(t,e,r)&&(e=i),n(t,fo(e,3))},zr.find=ms,zr.findIndex=Go,zr.findKey=function(t,e){return Fe(t,fo(e,3),_n)},zr.findLast=ys,zr.findLastIndex=Vo,zr.findLastKey=function(t,e){return Fe(t,fo(e,3),Sn)},zr.floor=_u,zr.forEach=vs,zr.forEachRight=ws,zr.forIn=function(t,e){return null==t?t:vn(t,fo(e,3),La)},zr.forInRight=function(t,e){return null==t?t:wn(t,fo(e,3),La)},zr.forOwn=function(t,e){return t&&_n(t,fo(e,3))},zr.forOwnRight=function(t,e){return t&&Sn(t,fo(e,3))},zr.get=Oa,zr.gt=js,zr.gte=Ws,zr.has=function(t,e){return null!=t&&mo(t,e,xn)},zr.hasIn=xa,zr.head=qo,zr.identity=iu,zr.includes=function(t,e,r,n){t=qs(t)?t:Fa(t),r=r&&!n?ba(r):0;var i=t.length;return r<0&&(r=yr(i+r,0)),ua(t)?r<=i&&t.indexOf(e,r)>-1:!!i&&We(t,e,r)>-1},zr.indexOf=function(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=null==r?0:ba(r);return i<0&&(i=yr(n+i,0)),We(t,e,i)},zr.inRange=function(t,e,r){return e=pa(e),r===i?(r=e,e=0):r=pa(r),function(t,e,r){return t>=vr(e,r)&&t<yr(e,r)}(t=ma(t),e,r)},zr.invoke=Ia,zr.isArguments=Gs,zr.isArray=Vs,zr.isArrayBuffer=Ks,zr.isArrayLike=qs,zr.isArrayLikeObject=Js,zr.isBoolean=function(t){return!0===t||!1===t||ra(t)&&En(t)==w},zr.isBuffer=Ys,zr.isDate=$s,zr.isElement=function(t){return ra(t)&&1===t.nodeType&&!oa(t)},zr.isEmpty=function(t){if(null==t)return!0;if(qs(t)&&(Vs(t)||"string"==typeof t||"function"==typeof t.splice||Ys(t)||ca(t)||Gs(t)))return!t.length;var e=go(t);if(e==C||e==P)return!t.size;if(Co(t))return!Hn(t).length;for(var r in t)if(Nt.call(t,r))return!1;return!0},zr.isEqual=function(t,e){return Ln(t,e)},zr.isEqualWith=function(t,e,r){var n=(r="function"==typeof r?r:i)?r(t,e):i;return n===i?Ln(t,e,i,r):!!n},zr.isError=Qs,zr.isFinite=function(t){return"number"==typeof t&&we(t)},zr.isFunction=Zs,zr.isInteger=Xs,zr.isLength=ta,zr.isMap=na,zr.isMatch=function(t,e){return t===e||Bn(t,e,ho(e))},zr.isMatchWith=function(t,e,r){return r="function"==typeof r?r:i,Bn(t,e,ho(e),r)},zr.isNaN=function(t){return ia(t)&&t!=+t},zr.isNative=function(t){if(Ao(t))throw new At("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return kn(t)},zr.isNil=function(t){return null==t},zr.isNull=function(t){return null===t},zr.isNumber=ia,zr.isObject=ea,zr.isObjectLike=ra,zr.isPlainObject=oa,zr.isRegExp=sa,zr.isSafeInteger=function(t){return Xs(t)&&t>=-9007199254740991&&t<=p},zr.isSet=aa,zr.isString=ua,zr.isSymbol=fa,zr.isTypedArray=ca,zr.isUndefined=function(t){return t===i},zr.isWeakMap=function(t){return ra(t)&&go(t)==L},zr.isWeakSet=function(t){return ra(t)&&"[object WeakSet]"==En(t)},zr.join=function(t,e){return null==t?"":ze.call(t,e)},zr.kebabCase=Va,zr.last=Qo,zr.lastIndexOf=function(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var o=n;return r!==i&&(o=(o=ba(r))<0?yr(n+o,0):vr(o,n-1)),e==e?function(t,e,r){for(var n=r+1;n--;)if(t[n]===e)return n;return n}(t,e,o):je(t,Ve,o,!0)},zr.lowerCase=Ka,zr.lowerFirst=qa,zr.lt=ha,zr.lte=da,zr.max=function(t){return t&&t.length?gn(t,iu,On):i},zr.maxBy=function(t,e){return t&&t.length?gn(t,fo(e,2),On):i},zr.mean=function(t){return Ke(t,iu)},zr.meanBy=function(t,e){return Ke(t,fo(e,2))},zr.min=function(t){return t&&t.length?gn(t,iu,Dn):i},zr.minBy=function(t,e){return t&&t.length?gn(t,fo(e,2),Dn):i},zr.stubArray=gu,zr.stubFalse=mu,zr.stubObject=function(){return{}},zr.stubString=function(){return""},zr.stubTrue=function(){return!0},zr.multiply=Mu,zr.nth=function(t,e){return t&&t.length?Gn(t,ba(e)):i},zr.noConflict=function(){return be._===this&&(be._=Ft),this},zr.noop=fu,zr.now=Os,zr.pad=function(t,e,r){t=va(t);var n=(e=ba(e))?lr(t):0;if(!e||n>=e)return t;var i=(e-n)/2;return Vi(ge(i),r)+t+Vi(pe(i),r)},zr.padEnd=function(t,e,r){t=va(t);var n=(e=ba(e))?lr(t):0;return e&&n<e?t+Vi(e-n,r):t},zr.padStart=function(t,e,r){t=va(t);var n=(e=ba(e))?lr(t):0;return e&&n<e?Vi(e-n,r)+t:t},zr.parseInt=function(t,e,r){return r||null==e?e=0:e&&(e=+e),_r(va(t).replace(st,""),e||0)},zr.random=function(t,e,r){if(r&&"boolean"!=typeof r&&_o(t,e,r)&&(e=r=i),r===i&&("boolean"==typeof e?(r=e,e=i):"boolean"==typeof t&&(r=t,t=i)),t===i&&e===i?(t=0,e=1):(t=pa(t),e===i?(e=t,t=0):e=pa(e)),t>e){var n=t;t=e,e=n}if(r||t%1||e%1){var o=Sr();return vr(t+o*(e-t+he("1e-"+((o+"").length-1))),e)}return Yn(t,e)},zr.reduce=function(t,e,r){var n=Vs(t)?He:Ye,i=arguments.length<3;return n(t,fo(e,4),r,i,ln)},zr.reduceRight=function(t,e,r){var n=Vs(t)?Ue:Ye,i=arguments.length<3;return n(t,fo(e,4),r,i,pn)},zr.repeat=function(t,e,r){return e=(r?_o(t,e,r):e===i)?1:ba(e),$n(va(t),e)},zr.replace=function(){var t=arguments,e=va(t[0]);return t.length<3?e:e.replace(t[1],t[2])},zr.result=function(t,e,r){var n=-1,o=(e=wi(e,t)).length;for(o||(o=1,t=i);++n<o;){var s=null==t?i:t[Uo(e[n])];s===i&&(n=o,s=r),t=Zs(s)?s.call(t):s}return t},zr.round=Au,zr.runInContext=t,zr.sample=function(t){return(Vs(t)?Qr:Zn)(t)},zr.size=function(t){if(null==t)return 0;if(qs(t))return ua(t)?lr(t):t.length;var e=go(t);return e==C||e==P?t.size:Hn(t).length},zr.snakeCase=Ja,zr.some=function(t,e,r){var n=Vs(t)?De:oi;return r&&_o(t,e,r)&&(e=i),n(t,fo(e,3))},zr.sortedIndex=function(t,e){return si(t,e)},zr.sortedIndexBy=function(t,e,r){return ai(t,e,fo(r,2))},zr.sortedIndexOf=function(t,e){var r=null==t?0:t.length;if(r){var n=si(t,e);if(n<r&&Fs(t[n],e))return n}return-1},zr.sortedLastIndex=function(t,e){return si(t,e,!0)},zr.sortedLastIndexBy=function(t,e,r){return ai(t,e,fo(r,2),!0)},zr.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var r=si(t,e,!0)-1;if(Fs(t[r],e))return r}return-1},zr.startCase=Ya,zr.startsWith=function(t,e,r){return t=va(t),r=null==r?0:un(ba(r),0,t.length),e=ci(e),t.slice(r,r+e.length)==e},zr.subtract=Cu,zr.sum=function(t){return t&&t.length?$e(t,iu):0},zr.sumBy=function(t,e){return t&&t.length?$e(t,fo(e,2)):0},zr.template=function(t,e,r){var n=zr.templateSettings;r&&_o(t,e,r)&&(e=i),t=va(t),e=Sa({},e,n,Xi);var o,s,a=Sa({},e.imports,n.imports,Xi),u=Ra(a),f=tr(a,u),c=0,h=e.interpolate||St,d="__p += '",l=xt((e.escape||St).source+"|"+h.source+"|"+(h===tt?pt:St).source+"|"+(e.evaluate||St).source+"|$","g"),p="//# sourceURL="+(Nt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ae+"]")+"\n";t.replace(l,(function(e,r,n,i,a,u){return n||(n=i),d+=t.slice(c,u).replace(Mt,sr),r&&(o=!0,d+="' +\n__e("+r+") +\n'"),a&&(s=!0,d+="';\n"+a+";\n__p += '"),n&&(d+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),c=u+e.length,e})),d+="';\n";var b=Nt.call(e,"variable")&&e.variable;if(b){if(dt.test(b))throw new At("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(s?d.replace(V,""):d).replace(K,"$1").replace(q,"$1;"),d="function("+(b||"obj")+") {\n"+(b?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=Xa((function(){return Ct(u,p+"return "+d).apply(i,f)}));if(g.source=d,Qs(g))throw g;return g},zr.times=function(t,e){if((t=ba(t))<1||t>p)return[];var r=g,n=vr(t,g);e=fo(e),t-=g;for(var i=Qe(n,e);++r<t;)e(r);return i},zr.toFinite=pa,zr.toInteger=ba,zr.toLength=ga,zr.toLower=function(t){return va(t).toLowerCase()},zr.toNumber=ma,zr.toSafeInteger=function(t){return t?un(ba(t),-9007199254740991,p):0===t?t:0},zr.toString=va,zr.toUpper=function(t){return va(t).toUpperCase()},zr.trim=function(t,e,r){if((t=va(t))&&(r||e===i))return Ze(t);if(!t||!(e=ci(e)))return t;var n=pr(t),o=pr(e);return Si(n,rr(n,o),nr(n,o)+1).join("")},zr.trimEnd=function(t,e,r){if((t=va(t))&&(r||e===i))return t.slice(0,br(t)+1);if(!t||!(e=ci(e)))return t;var n=pr(t);return Si(n,0,nr(n,pr(e))+1).join("")},zr.trimStart=function(t,e,r){if((t=va(t))&&(r||e===i))return t.replace(st,"");if(!t||!(e=ci(e)))return t;var n=pr(t);return Si(n,rr(n,pr(e))).join("")},zr.truncate=function(t,e){var r=30,n="...";if(ea(e)){var o="separator"in e?e.separator:o;r="length"in e?ba(e.length):r,n="omission"in e?ci(e.omission):n}var s=(t=va(t)).length;if(ar(t)){var a=pr(t);s=a.length}if(r>=s)return t;var u=r-lr(n);if(u<1)return n;var f=a?Si(a,0,u).join(""):t.slice(0,u);if(o===i)return f+n;if(a&&(u+=f.length-u),sa(o)){if(t.slice(u).search(o)){var c,h=f;for(o.global||(o=xt(o.source,va(bt.exec(o))+"g")),o.lastIndex=0;c=o.exec(h);)var d=c.index;f=f.slice(0,d===i?u:d)}}else if(t.indexOf(ci(o),u)!=u){var l=f.lastIndexOf(o);l>-1&&(f=f.slice(0,l))}return f+n},zr.unescape=function(t){return(t=va(t))&&$.test(t)?t.replace(J,gr):t},zr.uniqueId=function(t){var e=++Ht;return va(t)+e},zr.upperCase=$a,zr.upperFirst=Qa,zr.each=vs,zr.eachRight=ws,zr.first=qo,uu(zr,(Su={},_n(zr,(function(t,e){Nt.call(zr.prototype,e)||(Su[e]=t)})),Su),{chain:!1}),zr.VERSION="4.17.21",Te(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){zr[t].placeholder=zr})),Te(["drop","take"],(function(t,e){Gr.prototype[t]=function(r){r=r===i?1:yr(ba(r),0);var n=this.__filtered__&&!e?new Gr(this):this.clone();return n.__filtered__?n.__takeCount__=vr(r,n.__takeCount__):n.__views__.push({size:vr(r,g),type:t+(n.__dir__<0?"Right":"")}),n},Gr.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Te(["filter","map","takeWhile"],(function(t,e){var r=e+1,n=1==r||3==r;Gr.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:fo(t,3),type:r}),e.__filtered__=e.__filtered__||n,e}})),Te(["head","last"],(function(t,e){var r="take"+(e?"Right":"");Gr.prototype[t]=function(){return this[r](1).value()[0]}})),Te(["initial","tail"],(function(t,e){var r="drop"+(e?"":"Right");Gr.prototype[t]=function(){return this.__filtered__?new Gr(this):this[r](1)}})),Gr.prototype.compact=function(){return this.filter(iu)},Gr.prototype.find=function(t){return this.filter(t).head()},Gr.prototype.findLast=function(t){return this.reverse().find(t)},Gr.prototype.invokeMap=Qn((function(t,e){return"function"==typeof t?new Gr(this):this.map((function(r){return In(r,t,e)}))})),Gr.prototype.reject=function(t){return this.filter(Ns(fo(t)))},Gr.prototype.slice=function(t,e){t=ba(t);var r=this;return r.__filtered__&&(t>0||e<0)?new Gr(r):(t<0?r=r.takeRight(-t):t&&(r=r.drop(t)),e!==i&&(r=(e=ba(e))<0?r.dropRight(-e):r.take(e-t)),r)},Gr.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Gr.prototype.toArray=function(){return this.take(g)},_n(Gr.prototype,(function(t,e){var r=/^(?:filter|find|map|reject)|While$/.test(e),n=/^(?:head|last)$/.test(e),o=zr[n?"take"+("last"==e?"Right":""):e],s=n||/^find/.test(e);o&&(zr.prototype[e]=function(){var e=this.__wrapped__,a=n?[1]:arguments,u=e instanceof Gr,f=a[0],c=u||Vs(e),h=function(t){var e=o.apply(zr,Ne([t],a));return n&&d?e[0]:e};c&&r&&"function"==typeof f&&1!=f.length&&(u=c=!1);var d=this.__chain__,l=!!this.__actions__.length,p=s&&!d,b=u&&!l;if(!s&&c){e=b?e:new Gr(this);var g=t.apply(e,a);return g.__actions__.push({func:ps,args:[h],thisArg:i}),new Wr(g,d)}return p&&b?t.apply(this,a):(g=this.thru(h),p?n?g.value()[0]:g.value():g)})})),Te(["pop","push","shift","sort","splice","unshift"],(function(t){var e=It[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",n=/^(?:pop|shift)$/.test(t);zr.prototype[t]=function(){var t=arguments;if(n&&!this.__chain__){var i=this.value();return e.apply(Vs(i)?i:[],t)}return this[r]((function(r){return e.apply(Vs(r)?r:[],t)}))}})),_n(Gr.prototype,(function(t,e){var r=zr[e];if(r){var n=r.name+"";Nt.call(Ir,n)||(Ir[n]=[]),Ir[n].push({name:e,func:r})}})),Ir[Fi(i,2).name]=[{name:"wrapper",func:i}],Gr.prototype.clone=function(){var t=new Gr(this.__wrapped__);return t.__actions__=Pi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Pi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Pi(this.__views__),t},Gr.prototype.reverse=function(){if(this.__filtered__){var t=new Gr(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Gr.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,r=Vs(t),n=e<0,i=r?t.length:0,o=function(t,e,r){var n=-1,i=r.length;for(;++n<i;){var o=r[n],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=vr(e,t+s);break;case"takeRight":t=yr(t,e-s)}}return{start:t,end:e}}(0,i,this.__views__),s=o.start,a=o.end,u=a-s,f=n?a:s-1,c=this.__iteratees__,h=c.length,d=0,l=vr(u,this.__takeCount__);if(!r||!n&&i==u&&l==u)return bi(t,this.__actions__);var p=[];t:for(;u--&&d<l;){for(var b=-1,g=t[f+=e];++b<h;){var m=c[b],y=m.iteratee,v=m.type,w=y(g);if(2==v)g=w;else if(!w){if(1==v)continue t;break t}}p[d++]=g}return p},zr.prototype.at=bs,zr.prototype.chain=function(){return ls(this)},zr.prototype.commit=function(){return new Wr(this.value(),this.__chain__)},zr.prototype.next=function(){this.__values__===i&&(this.__values__=la(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?i:this.__values__[this.__index__++]}},zr.prototype.plant=function(t){for(var e,r=this;r instanceof jr;){var n=zo(r);n.__index__=0,n.__values__=i,e?o.__wrapped__=n:e=n;var o=n;r=r.__wrapped__}return o.__wrapped__=t,e},zr.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Gr){var e=t;return this.__actions__.length&&(e=new Gr(this)),(e=e.reverse()).__actions__.push({func:ps,args:[es],thisArg:i}),new Wr(e,this.__chain__)}return this.thru(es)},zr.prototype.toJSON=zr.prototype.valueOf=zr.prototype.value=function(){return bi(this.__wrapped__,this.__actions__)},zr.prototype.first=zr.prototype.head,Zt&&(zr.prototype[Zt]=function(){return this}),zr}();be._=mr,(n=function(){return mr}.call(e,r,e,t))===i||(t.exports=n)}.call(this)},9552:function(t,e,r){var n,i;n=function(t){"use strict";var e,r,n=function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(e in arguments[r])Object.prototype.hasOwnProperty.call(arguments[r],e)&&(t[e]=arguments[r][e]);return t},i={template:"[%t] %l:",levelFormatter:function(t){return t.toUpperCase()},nameFormatter:function(t){return t||"root"},timestampFormatter:function(t){return t.toTimeString().replace(/.*(\d{2}:\d{2}:\d{2}).*/,"$1")},format:void 0},o={},s=function(t,r){if(!t||!t.setLevel)throw new TypeError("Argument is not a logger");var s=t.methodFactory,a=t.name||"",u=o[a]||o[""]||i;function f(t,e,r){var n=s(t,e,r),i=o[r]||o[""],u=-1!==i.template.indexOf("%t"),f=-1!==i.template.indexOf("%l"),c=-1!==i.template.indexOf("%n");return function(){for(var e="",s=arguments.length,h=Array(s),d=0;d<s;d++)h[d]=arguments[d];if(a||!o[r]){var l=i.timestampFormatter(new Date),p=i.levelFormatter(t),b=i.nameFormatter(r);i.format?e+=i.format(p,b,l):(e+=i.template,u&&(e=e.replace(/%t/,l)),f&&(e=e.replace(/%l/,p)),c&&(e=e.replace(/%n/,b))),h.length&&"string"==typeof h[0]?h[0]=e+" "+h[0]:h.unshift(e)}n.apply(void 0,h)}}return o[a]||(t.methodFactory=f),(r=r||{}).template&&(r.format=void 0),o[a]=n({},u,r),t.setLevel(t.getLevel()),e||t.warn("It is necessary to call the function reg() of loglevel-plugin-prefix before calling apply. From the next release, it will throw an error. See more: https://github.com/kutuluk/loglevel-plugin-prefix/blob/master/README.md"),t},a={reg:function(t){if(!t||!t.getLogger)throw new TypeError("Argument is not a root logger");e=t},apply:s};return t&&(r=t.prefix,a.noConflict=function(){return t.prefix===a&&(t.prefix=r),a}),a},void 0===(i="function"==typeof n?n.call(e,r,e,t):n)||(t.exports=i)},9640:function(t,e,r){var n,i;!function(o,s){"use strict";n=function(){var t=function(){},e="undefined",r=typeof window!==e&&typeof window.navigator!==e&&/Trident\/|MSIE /.test(window.navigator.userAgent),n=["trace","debug","info","warn","error"];function i(t,e){var r=t[e];if("function"==typeof r.bind)return r.bind(t);try{return Function.prototype.bind.call(r,t)}catch(e){return function(){return Function.prototype.apply.apply(r,[t,arguments])}}}function o(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function s(n){return"debug"===n&&(n="log"),typeof console!==e&&("trace"===n&&r?o:void 0!==console[n]?i(console,n):void 0!==console.log?i(console,"log"):t)}function a(e,r){for(var i=0;i<n.length;i++){var o=n[i];this[o]=i<e?t:this.methodFactory(o,e,r)}this.log=this.debug}function u(t,r,n){return function(){typeof console!==e&&(a.call(this,r,n),this[t].apply(this,arguments))}}function f(t,e,r){return s(t)||u.apply(this,arguments)}function c(t,r,i){var o,s=this;r=null==r?"WARN":r;var u="loglevel";function c(t){var r=(n[t]||"silent").toUpperCase();if(typeof window!==e&&u){try{return void(window.localStorage[u]=r)}catch(t){}try{window.document.cookie=encodeURIComponent(u)+"="+r+";"}catch(t){}}}function h(){var t;if(typeof window!==e&&u){try{t=window.localStorage[u]}catch(t){}if(typeof t===e)try{var r=window.document.cookie,n=r.indexOf(encodeURIComponent(u)+"=");-1!==n&&(t=/^([^;]+)/.exec(r.slice(n))[1])}catch(t){}return void 0===s.levels[t]&&(t=void 0),t}}function d(){if(typeof window!==e&&u){try{return void window.localStorage.removeItem(u)}catch(t){}try{window.document.cookie=encodeURIComponent(u)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(t){}}}"string"==typeof t?u+=":"+t:"symbol"==typeof t&&(u=void 0),s.name=t,s.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},s.methodFactory=i||f,s.getLevel=function(){return o},s.setLevel=function(r,n){if("string"==typeof r&&void 0!==s.levels[r.toUpperCase()]&&(r=s.levels[r.toUpperCase()]),!("number"==typeof r&&r>=0&&r<=s.levels.SILENT))throw"log.setLevel() called with invalid level: "+r;if(o=r,!1!==n&&c(r),a.call(s,r,t),typeof console===e&&r<s.levels.SILENT)return"No console available for logging"},s.setDefaultLevel=function(t){r=t,h()||s.setLevel(t,!1)},s.resetLevel=function(){s.setLevel(r,!1),d()},s.enableAll=function(t){s.setLevel(s.levels.TRACE,t)},s.disableAll=function(t){s.setLevel(s.levels.SILENT,t)};var l=h();null==l&&(l=r),s.setLevel(l,!1)}var h=new c,d={};h.getLogger=function(t){if("symbol"!=typeof t&&"string"!=typeof t||""===t)throw new TypeError("You must supply a name when creating a logger.");var e=d[t];return e||(e=d[t]=new c(t,h.getLevel(),h.methodFactory)),e};var l=typeof window!==e?window.log:void 0;return h.noConflict=function(){return typeof window!==e&&window.log===h&&(window.log=l),h},h.getLoggers=function(){return d},h.default=h,h},void 0===(i="function"==typeof n?n.call(e,r,e,t):n)||(t.exports=i)}()},9561:t=>{function e(t,e){if(!t)throw new Error(e||"Assertion failed")}t.exports=e,e.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)}},3022:(t,e)=>{"use strict";var r=e;function n(t){return 1===t.length?"0"+t:t}function i(t){for(var e="",r=0;r<t.length;r++)e+=n(t[r].toString(16));return e}r.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"!=typeof t){for(var n=0;n<t.length;n++)r[n]=0|t[n];return r}if("hex"===e){(t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t);for(n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(n=0;n<t.length;n++){var i=t.charCodeAt(n),o=i>>8,s=255&i;o?r.push(o,s):r.push(s)}return r},r.zero2=n,r.toHex=i,r.encode=function(t,e){return"hex"===e?i(t):t}},2526:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TX_VERSION=e.NEP2_FLAG=e.NEP2_HEADER=e.DEFAULT_ACCOUNT_CONTRACT=e.DEFAULT_WALLET=e.DEFAULT_SCRYPT=e.DEFAULT_REQ=e.ASSET_ID=e.NATIVE_CONTRACT_HASH=e.MAGIC_NUMBER=e.DEFAULT_ADDRESS_VERSION=e.ADDR_VERSION=void 0,e.ADDR_VERSION="35",e.DEFAULT_ADDRESS_VERSION=53,function(t){t[t.MainNet=860833102]="MainNet",t[t.TestNet=894710606]="TestNet",t[t.SoloNet=1234567890]="SoloNet"}(e.MAGIC_NUMBER||(e.MAGIC_NUMBER={})),function(t){t.NeoToken="ef4073a0f2b305a38ec4050e4d3d28bc40ea63f5",t.GasToken="d2a4cff31913016155e38e474a2c06d08be276cf",t.PolicyContract="cc5e4edd9f5f8dba8bb65734541df7a1c081c67b",t.ManagementContract="fffdc93764dbaddd97c48f252a53ea4643faa3fd",t.OracleContract="fe924b7cfe89ddd271abaf7210a80a7e11178758",t.LedgerContract="da65b600f7124ce6c79950c1772a36403104f2be",t.RoleManagement="49cf4e5378ffcd4dec034fd98a174c5491e395e2",t.StdLib="acce6fd80d44e1796aa0c2c625e9e4e0ce39efc0",t.CryptoLib="726cb6e0cd8628a1350a611384688911ab75f51b"}(e.NATIVE_CONTRACT_HASH||(e.NATIVE_CONTRACT_HASH={})),e.ASSET_ID={NEO:"de5f57d430d3dece511cf975a8d37848cb9e0525",GAS:"668e0c1f9d7b70a99dd9e06eadd4c784d641afbc"},e.DEFAULT_REQ={jsonrpc:"2.0",method:"getblockcount",params:[],id:1234},e.DEFAULT_SCRYPT={n:16384,r:8,p:8,size:64},e.DEFAULT_WALLET={name:"myWallet",version:"1.0",scrypt:e.DEFAULT_SCRYPT,extra:null},e.DEFAULT_ACCOUNT_CONTRACT={script:"",parameters:[{name:"signature",type:"Signature"}],deployed:!1},e.NEP2_HEADER="0142",e.NEP2_FLAG="e0",e.TX_VERSION=0},6097:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return i(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.logging=e.CONST=e.u=e.wallet=e.tx=e.sc=e.rpc=void 0;const s=o(r(2526));e.CONST=s;const a=o(r(7710));e.logging=a;const u=o(r(1932));e.rpc=u;const f=o(r(7885));e.sc=f;const c=o(r(9416));e.tx=c;const h=o(r(2287));e.u=h;const d=o(r(5914));e.wallet=d},3831:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseEnum=void 0,e.parseEnum=function(t,e){if("string"==typeof t){if(t in e)return e[t];throw new Error(`${t} not found in enum!`)}return t}},7710:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.logger=e.setAll=void 0;const i=n(r(9640)),o=n(r(9552));o.default.reg(i.default),i.default.setDefaultLevel("silent"),e.setAll=function(t){Object.keys(i.default.getLoggers()).map((e=>{i.default.getLogger(e).setLevel(t)}))};const s=(t,e,r)=>`[${r??(new Date).toUTCString()}] (${e}) ${t=t.toUpperCase()}: `;e.default=t=>{const e=i.default.getLogger(t);return o.default.apply(e,{format:s}),e},e.logger=i.default},4791:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BatchQuery=void 0;class r{constructor(t){this.queries=[t]}add(t){return this.queries.push(t),this}static of(t){return new r(t)}}e.BatchQuery=r},2298:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Network=void 0;const i=n(r(5279));function o(t,e){return t.length===e.length&&t.every((t=>e.indexOf(t)>=0))}class s{constructor(t={},e=null){this.name=t.Name||t.name||e||"RandomNet";const r=Object.assign({},t.protocol||t.ProtocolConfiguration||{});this.protocol=new i.default(r),this.nodes=t.Nodes||t.nodes||[],this.extra=Object.assign({},t.ExtraConfiguration||t.extra||{})}export(){return{name:this.name,protocol:this.protocol.export(),extra:this.extra,nodes:this.nodes}}toConfiguration(){return{Name:this.name,ProtocolConfiguration:this.protocol.toConfiguration(),ExtraConfiguration:this.extra,Nodes:this.nodes}}equals(t){return this.name===t.name&&this.protocol.equals(t.protocol??{})&&o(this.nodes,t.nodes??[])&&function(t,e){const r=Array.from(t.keys??[]);return!!o(r,Array.from(e.keys??[]))&&r.every((r=>t[r]===e[r]))}(this.extra,t.extra??{})}}e.Network=s,e.default=s},5279:(t,e)=>{"use strict";function r(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}Object.defineProperty(e,"__esModule",{value:!0}),e.Protocol=void 0;class n{constructor(t={}){this.magic=t.magic??t.Magic??0,this.addressVersion=t.addressVersion??t.AddressVersion??53,this.standbyValidators=t.standbyValidators??t.StandbyValidators??[],this.seedList=t.seedList??t.SeedList??[]}get[Symbol.toStringTag](){return"Protocol"}export(){return{magic:this.magic,addressVersion:this.addressVersion,standbyValidators:this.standbyValidators,seedList:this.seedList}}toConfiguration(){return{Magic:this.magic,AddressVersion:this.addressVersion,StandbyValidators:this.standbyValidators,SeedList:this.seedList}}equals(t){return this.magic===(t.magic??t.Magic)&&this.addressVersion===(t.addressVersion??t.AddressVersion)&&r(this.seedList,t.seedList??t.SeedList??[])&&r(this.standbyValidators,t.standbyValidators??t.StandbyValidators??[])}}e.Protocol=n,e.default=n},4849:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Query=void 0;const n=r(2526),i=r(9416),o=r(7885),s=r(2287),a=r(6635);function u(t){return t instanceof i.Transaction?s.HexString.fromHex(t.serialize(!0)).toBase64():t instanceof s.HexString?t.toBase64():t}function f(t){return null!=t&&"object"==typeof t}class c{static traverseIterator(t,e,r){return new c({method:"traverseiterator",params:[t,e,r]})}static calculateNetworkFee(t){const e=u(t);return new c({method:"calculatenetworkfee",params:[e]})}static getBestBlockHash(){return new c({method:"getbestblockhash"})}static getApplicationLog(t){return new c({method:"getapplicationlog",params:[t]})}static getBlock(t,e=0){return new c({method:"getblock",params:[t,e]})}static getBlockCount(){return new c({method:"getblockcount",params:[]})}static getBlockHash(t){return new c({method:"getblockhash",params:[t]})}static getBlockHeader(t,e=0){return new c({method:"getblockheader",params:[t,e]})}static getCommittee(){return new c({method:"getcommittee"})}static getConnectionCount(){return new c({method:"getconnectioncount"})}static getContractState(t){return new c({method:"getcontractstate",params:[t]})}static getNativeContracts(){return new c({method:"getnativecontracts"})}static getNep11Balances(t){return new c({method:"getnep11balances",params:[t]})}static getNep11Properties(t,e){return new c({method:"getnep11properties",params:[t,e]})}static getNep11Transfers(t,e,r){const n=[t];return e&&n.push(e),r&&n.push(r),new c({method:"getnep17transfers",params:n})}static getNep17Transfers(t,e,r){const n=[t];return e&&n.push(e),r&&n.push(r),new c({method:"getnep17transfers",params:n})}static getNep17Balances(t){return new c({method:"getnep17balances",params:[t]})}static getPeers(){return new c({method:"getpeers"})}static getRawMemPool(t=0){return new c({method:"getrawmempool",params:[t]})}static getRawTransaction(t,e=0){return new c({method:"getrawtransaction",params:[t,e]})}static getStorage(t,e){return new c({method:"getstorage",params:[t,s.HexString.fromHex(e).toBase64()]})}static getTransactionHeight(t){return new c({method:"gettransactionheight",params:[t]})}static getNextBlockValidators(){return new c({method:"getnextblockvalidators"})}static getVersion(){return new c({method:"getversion"})}static invokeContractVerify(t,e=[],r=[]){return new c({method:"invokecontractverify",params:[t,e.map((t=>t instanceof o.ContractParam?t.toJson():t)),r.map((t=>t instanceof i.Signer?t.toJson():t))]})}static invokeFunction(t,e,r=[],n=[]){return new c({method:"invokefunction",params:[t,e,r.map((t=>t instanceof o.ContractParam?t.toJson():t)),n.map((t=>t instanceof i.Signer?t.toJson():t))]})}static invokeScript(t,e=[]){return new c({method:"invokescript",params:[t instanceof s.HexString?t.toBase64():t,e.map((t=>t instanceof i.Signer?t.toJson():t))]})}static listPlugins(){return new c({method:"listplugins",params:[]})}static sendRawTransaction(t){const e=u(t);return new c({method:"sendrawtransaction",params:[e]})}static submitBlock(t){return new c({method:"submitblock",params:[t]})}static validateAddress(t){return new c({method:"validateaddress",params:[t]})}static getUnclaimedGas(t){return new c({method:"getunclaimedgas",params:[t]})}constructor(t){this.id=t?.id??n.DEFAULT_REQ.id,this.method=t?.method??n.DEFAULT_REQ.method,this.params=t?.params??[]}get[Symbol.toStringTag](){return"Query"}export(){return{params:this.params,jsonrpc:"2.0",id:this.id,method:this.method}}equals(t){if(this.id!==t.id&&this.method!==t.method)return!1;if(Array.isArray(this.params)&&Array.isArray(t.params)){const e=t.params;return this.params.length===e.length&&this.params.every(((t,r)=>e[r]===t))}return!(!f(this.params)||!f(t.params))&&(0,a.isEqual)(this.params,t.params)}}e.Query=c,e.default=c},6236:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RPCClient=void 0;const n=r(5645),i=r(5382);class o extends((0,i.TokenTrackerRpcMixin)((0,i.ApplicationLogsRpcMixin)((0,n.NeoServerRpcMixin)(i.RpcDispatcher)))){get[Symbol.toStringTag](){return`FullRpcClient(${this.url})`}}class s extends o{constructor(t){super(t),this.net=t,this.history=[],this.lastSeenHeight=0,this._latencies=[]}get[Symbol.toStringTag](){return`RPC Client(${this.net})`}get latency(){return 0===this._latencies.length?99999:Math.floor(this._latencies.reduce(((t,e)=>t+e),0)/this._latencies.length)}set latency(t){this._latencies.length>4&&this._latencies.shift(),this._latencies.push(t)}async ping(){const t=Date.now();try{const e=await this.getBlockCount();this.lastSeenHeight=e;const r=Date.now()-t;return this.latency=r,r}catch(t){return this.latency=2e3,2e3}}}e.RPCClient=s,e.default=s},270:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ApplicationLogsRpcClient=e.ApplicationLogsRpcMixin=void 0;const i=n(r(4849)),o=r(896);function s(t){return class extends t{async getApplicationLog(t){return await this.execute(i.default.getApplicationLog(t))}}}e.ApplicationLogsRpcMixin=s;class a extends(s(o.RpcDispatcher)){get[Symbol.toStringTag](){return`ApplicationLogsRpcClient(${this.url})`}}e.ApplicationLogsRpcClient=a},5645:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NeoServerRpcClient=e.NeoServerRpcMixin=void 0;const n=r(4849),i=r(896);function o(t){return class extends t{async traverseIterator(t,e,r){return await this.execute(n.Query.traverseIterator(t,e,r))}async getBestBlockHash(){return await this.execute(n.Query.getBestBlockHash())}async getBlock(t,e){return e?await this.execute(n.Query.getBlock(t,1)):await this.execute(n.Query.getBlock(t,0))}async getBlockHash(t){return await this.execute(n.Query.getBlockHash(t))}async getBlockCount(){return await this.execute(n.Query.getBlockCount())}async getBlockHeader(t,e){return e?await this.execute(n.Query.getBlockHeader(t,1)):await this.execute(n.Query.getBlockHeader(t,0))}async getCommittee(){return await this.execute(n.Query.getCommittee())}async getContractState(t){return await this.execute(n.Query.getContractState(t))}async getNativeContracts(){return await this.execute(n.Query.getNativeContracts())}async getRawMemPool(t=0){return t?await this.execute(n.Query.getRawMemPool(1)):await this.execute(n.Query.getRawMemPool(0))}async getRawTransaction(t,e){return e?await this.execute(n.Query.getRawTransaction(t,1)):await this.execute(n.Query.getRawTransaction(t,0))}async getStorage(t,e){return await this.execute(n.Query.getStorage(t,e))}async getTransactionHeight(t){return await this.execute(n.Query.getTransactionHeight(t))}async getConnectionCount(){return await this.execute(n.Query.getConnectionCount())}async getNextBlockValidators(){return await this.execute(n.Query.getNextBlockValidators())}async getPeers(){return await this.execute(n.Query.getPeers())}async getVersion(){return await this.execute(n.Query.getVersion())}async sendRawTransaction(t){return(await this.execute(n.Query.sendRawTransaction(t))).hash}async submitBlock(t){return(await this.execute(n.Query.submitBlock(t))).hash}async getUnclaimedGas(t){return(await this.execute(n.Query.getUnclaimedGas(t))).unclaimed}async invokeContractVerify(t,e,r=[]){return await this.execute(n.Query.invokeContractVerify(t,e,r))}async invokeFunction(t,e,r=[],i=[]){return await this.execute(n.Query.invokeFunction(t,e,r,i))}async invokeScript(t,e=[]){return await this.execute(n.Query.invokeScript(t,e))}async calculateNetworkFee(t){return(await this.execute(n.Query.calculateNetworkFee(t))).networkfee}async listPlugins(){return await this.execute(n.Query.listPlugins())}async validateAddress(t){return(await this.execute(n.Query.validateAddress(t))).isvalid}}}e.NeoServerRpcMixin=o;class s extends(o(i.RpcDispatcher)){get[Symbol.toStringTag](){return`NeoServerRpcClient(${this.url})`}}e.NeoServerRpcClient=s},896:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.RpcError=e.RpcDispatcher=e.sendQueryList=e.sendQuery=void 0;const i=n(r(7710)),o=r(6279),s=(0,i.default)("rpc");async function a(t,e,r={}){s.info(`RPC: ${t} executing Query[${e.method}]`);const n=f(e.export(),r),i=await(0,o.fetch)(t,n);if(i.ok)return i.json();throw new Error(`Encountered HTTP code ${i.status} while executing Query[${e.method}]`)}async function u(t,e,r={}){const n=f(e.map((t=>t.export())),r),i=await(0,o.fetch)(t,n);if(i.ok)return i.json();throw new Error(`Encountered HTTP code ${i.status} while executing Query[${e.map((t=>t.method)).join(",")}]`)}function f(t,e){const r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};if(e.timeout){const t=new AbortController;setTimeout((()=>t.abort()),e.timeout),r.signal=t.signal}return r}e.sendQuery=a,e.sendQueryList=u;e.RpcDispatcher=class{constructor(t){if(!t.startsWith("http://")&&!t.startsWith("https://"))throw new Error("Please provide an url that starts with http:// or https://");this.url=t}async execute(t,e){const r=await a(this.url,t,e??{});if(r.error)throw new c(r.error);return r.result}async executeAll(t,e){const r=await u(this.url,Array.isArray(t)?t:t.queries,e??{});if(r.some((t=>t.error))){const t={};throw r.forEach(((e,r)=>{e.error&&(t[`query[${r}]`]=e.error)})),new c({code:-1,message:JSON.stringify(t)})}return r.map((t=>t.result))}};class c extends Error{constructor(t){super(t.message),this.code=t.code}}e.RpcError=c},7242:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenTrackerRpcClient=e.TokenTrackerRpcMixin=void 0;const n=r(4849),i=r(896);function o(t){return class extends t{async getNep17Transfers(t,e,r){return this.execute(n.Query.getNep17Transfers(t,e,r))}async getNep17Balances(t){return this.execute(n.Query.getNep17Balances(t))}async getNep11Transfers(t,e,r){return this.execute(n.Query.getNep11Transfers(t,e,r))}async getNep11Balances(t){return this.execute(n.Query.getNep11Balances(t))}}}e.TokenTrackerRpcMixin=o;class s extends(o(i.RpcDispatcher)){get[Symbol.toStringTag](){return`TokenTrackerRpcClient(${this.url})`}}e.TokenTrackerRpcClient=s},5382:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r(896),e),i(r(270),e),i(r(7242),e),i(r(5645),e)},1932:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r(2298),e),i(r(5279),e),i(r(4849),e),i(r(6236),e),i(r(6047),e),i(r(5382),e),i(r(4791),e)},6047:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleParser=e.StringParser=e.IntegerParser=e.NoOpParser=e.buildParser=void 0;const n=r(2287);function i(t){if("InteropInterface"===t.type)throw new Error("Impossible to get value from InteropInterface type");if("string"!=typeof t.value)throw new Error("value received is not a string");return parseInt(t.value||"0",10)}function o(t){if("InteropInterface"===t.type)throw new Error("Impossible to get value from InteropInterface type");if("string"!=typeof t.value)throw new Error("value received is not a string");return(0,n.hexstring2str)(t.value)}e.buildParser=function(...t){return e=>{if(e.stack.length!==t.length)throw new Error(`Wrong number of items to parse! Expected ${t.length} but got ${e.stack.length}!`);return e.stack.map(((e,r)=>t[r](e)))}},e.NoOpParser=function(t){if("InteropInterface"===t.type)throw new Error("Impossible to get value from InteropInterface type");return t.value},e.IntegerParser=i,e.StringParser=o,e.SimpleParser=function(t){return t.stack.map((t=>{switch(t.type){case"ByteString":return o(t);case"Integer":return i(t);default:throw Error(`Unknown type: ${t.type}`)}}))}},495:(t,e)=>{"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.CallFlags=void 0,function(t){t[t.None=0]="None",t[t.ReadStates=1]="ReadStates",t[t.WriteStates=2]="WriteStates",t[t.AllowCall=4]="AllowCall",t[t.AllowNotify=8]="AllowNotify",t[t.States=3]="States",t[t.ReadOnly=5]="ReadOnly",t[t.All=15]="All"}(r=e.CallFlags||(e.CallFlags={})),e.default=r},897:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.likeContractParam=e.ContractParam=e.ContractParamType=void 0;const n=r(2287),i=r(5914),o=r(3831);var s;!function(t){t[t.Any=0]="Any",t[t.Boolean=16]="Boolean",t[t.Integer=17]="Integer",t[t.ByteArray=18]="ByteArray",t[t.String=19]="String",t[t.Hash160=20]="Hash160",t[t.Hash256=21]="Hash256",t[t.PublicKey=22]="PublicKey",t[t.Signature=23]="Signature",t[t.Array=32]="Array",t[t.Map=34]="Map",t[t.InteropInterface=48]="InteropInterface",t[t.Void=255]="Void"}(s=e.ContractParamType||(e.ContractParamType={}));class a{static any(t=null){return new a({type:s.Any,value:t})}static string(t){return new a({type:s.String,value:t})}static boolean(t){return new a({type:s.Boolean,value:!!t})}static publicKey(t){const e=t instanceof n.HexString?t.toBigEndian():t;if(!(0,i.isPublicKey)(e))throw new Error(`publicKey expected valid public key but got ${e}`);return new a({type:s.PublicKey,value:n.HexString.fromHex(e)})}static hash160(t){const e=t instanceof n.HexString?t:n.HexString.fromHex((0,i.isAddress)(t)?(0,i.getScriptHashFromAddress)(t):t);if(20!==e.byteLength)throw new Error(`hash160 expected 20 bytes but got ${e.byteLength} bytes instead.`);return new a({type:s.Hash160,value:e})}static hash256(t){const e=t instanceof n.HexString?t:n.HexString.fromHex(t);if(32!==e.byteLength)throw new Error(`hash256 expected 32 bytes but got ${e.byteLength} bytes instead.`);return new a({type:s.Hash256,value:e})}static integer(t){if("string"==typeof t)return new a({type:s.Integer,value:t.split(".")[0]});if("number"==typeof t)return new a({type:s.Integer,value:Math.round(t).toString()});if(t instanceof n.BigInteger)return new a({type:s.Integer,value:t.toString()});throw new Error(`Unknown input provided: ${t}`)}static byteArray(t){if("string"==typeof t)return new a({type:s.ByteArray,value:n.HexString.fromBase64(t,!0)});if(t instanceof n.HexString)return new a({type:s.ByteArray,value:t});throw new Error(`Unknown input provided: ${t}`)}static void(){return new a({type:s.Void})}static array(...t){const e=t.map((t=>a.fromJson(t)));return new a({type:s.Array,value:e})}static validateMap(t){const e=[s.String,s.Boolean,s.Integer,s.ByteArray];t.forEach((t=>{if("object"!=typeof t||!("key"in t)||!("value"in t))throw new Error("Please provide a valid map for value");if(!e.includes((0,o.parseEnum)(t.key.type,s)))throw new Error("Map keys only support primitive types")}))}static parseMap(t){this.validateMap(t);return t.map((t=>({key:t.key instanceof a?t.key:a.fromJson(t.key),value:t.value instanceof a?t.value:a.fromJson(t.value)})))}static map(...t){const e=this.parseMap(t);return new a({type:s.Map,value:e})}constructor(t){if("object"!=typeof t)throw new Error("Please provide an object for constructing ContractParam.");if(t instanceof a)return this.type=t.type,void(this.value=t.value);if(void 0===t.type)throw new Error("Please provide a type for ContractParam.");this.type=(0,o.parseEnum)(t.type,s);const e=t.value;switch(this.type){case s.Any:if(e instanceof n.HexString)return void(this.value=e.toBigEndian());if("string"==typeof e||null===e)return void(this.value=e);throw new Error("Please provide a hexstring for value!");case s.Boolean:if("boolean"==typeof e)return void(this.value=e);throw new Error("Please provide a boolean for value!");case s.ByteArray:case s.Hash160:case s.Hash256:case s.PublicKey:if(e instanceof n.HexString)return void(this.value=e);throw new Error("Please provide a HexString for value!");case s.Integer:case s.String:if("string"==typeof e)return void(this.value=e);throw new Error("Please provide a string for value!");case s.Array:if(Array.isArray(e))return void(this.value=e.map((t=>a.fromJson(t))));throw new Error("Please provide an array for value!");case s.Void:if(null==e)return void(this.value=null);throw new Error("Void should not have any value provided.");case s.Map:return void(this.value=a.parseMap(e));default:throw new Error(`${s[this.type]} not supported!`)}}get[Symbol.toStringTag](){return"ContractParam:"+s[this.type]}static fromJson(t){if(t instanceof a)return new a(t);const e=(0,o.parseEnum)(t.type,s),r=t.value;switch(e){case s.Any:if("string"==typeof r||r instanceof n.HexString||null==r)return a.any(r);break;case s.Array:if(Array.isArray(r))return a.array(...r);break;case s.Boolean:if("string"==typeof r||"number"==typeof r||"boolean"==typeof r)return a.boolean(r);break;case s.ByteArray:if("string"==typeof r||r instanceof n.HexString)return a.byteArray(r);break;case s.Hash160:if("string"==typeof r||r instanceof n.HexString)return a.hash160(r);break;case s.Hash256:if("string"==typeof r||r instanceof n.HexString)return a.hash256(r);break;case s.PublicKey:if("string"==typeof r||r instanceof n.HexString)return a.publicKey(r);break;case s.Integer:if("string"==typeof r||"number"==typeof r)return a.integer(r);break;case s.String:if("string"==typeof r)return a.string(r);break;case s.Void:return a.void();case s.Map:if(Array.isArray(r))return a.map(...r);break;default:throw new Error(`${s[e]} not supported!`)}throw new Error(`got ${typeof r} which is not convertable to ${s[e]}`)}export(){return this.toJson()}toJson(){switch(this.type){case s.Any:return{type:s[this.type],value:this.value instanceof n.HexString?this.value.toBigEndian():this.value};case s.Void:return{type:s[this.type],value:null};case s.ByteArray:return{type:s[this.type],value:this.value.toBase64(!0)};case s.Hash160:case s.Hash256:case s.PublicKey:return{type:s[this.type],value:this.value.toBigEndian()};case s.Array:return{type:s[this.type],value:this.value.map((t=>t.toJson()))};case s.Boolean:case s.Integer:case s.String:return{type:s[this.type],value:this.value};case s.Map:return{type:s[this.type],value:this.value.map((t=>({key:t.key.toJson(),value:t.value.toJson()})))};default:throw new Error("Unsupported!")}}equals(t){if(this.type===(0,o.parseEnum)(t.type,s))switch(this.type){case s.Array:return!(!Array.isArray(this.value)||!Array.isArray(t.value)||this.value.length!==t.value.length)&&this.value.every(((e,r)=>e.equals(t.value[r])));case s.Map:return!(!Array.isArray(this.value)||!Array.isArray(t.value)||this.value.length!==t.value.length)&&this.value.every(((e,r)=>e.key.equals(t.value[r].key)&&e.value.equals(t.value[r].value)));case s.ByteArray:case s.Hash160:case s.Hash256:case s.PublicKey:return(t.value instanceof n.HexString||"string"==typeof t.value)&&this.value.equals(t.value);case s.Integer:return"number"==typeof t.value?this.value===t.value.toString():"string"==typeof t.value&&this.value===t.value;case s.Void:return!0;case s.Boolean:case s.String:default:return this.value===t.value}return!1}}e.ContractParam=a,e.default=a,e.likeContractParam=function(t){return null!=t&&(t instanceof a||("Any"===t.type&&null===t.value||void 0!==t.type&&t.type in s&&null!==t.value&&void 0!==t.value))}},3858:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fromMethodName=e.generateInteropServiceCode=e.InteropServiceCode=void 0;const n=r(2287);var i;!function(t){t.SYSTEM_CONTRACT_CALL="627d5b52",t.SYSTEM_CONTRACT_CALLNATIVE="1af77b67",t.SYSTEM_CONTRACT_CREATEMULTISIGACCOUNT="6a33e909",t.SYSTEM_CONTRACT_CREATESTANDARDACCOUNT="cf998702",t.SYSTEM_CONTRACT_GETCALLFLAGS="95da3a81",t.SYSTEM_CONTRACT_NATIVEONPERSIST="2edbbc93",t.SYSTEM_CONTRACT_NATIVEPOSTPERSIST="44a15d16",t.SYSTEM_CRYPTO_CHECKMULTISIG="9ed0dc3a",t.SYSTEM_CRYPTO_CHECKSIG="56e7b327",t.SYSTEM_ITERATOR_NEXT="9c08ed9c",t.SYSTEM_ITERATOR_VALUE="f354bf1d",t.SYSTEM_RUNTIME_BURNGAS="c35a8cbc",t.SYSTEM_RUNTIME_CHECKWITNESS="f827ec8c",t.SYSTEM_RUNTIME_GASLEFT="1488d8ce",t.SYSTEM_RUNTIME_GETADDRESSVERSION="4c4992dc",t.SYSTEM_RUNTIME_GETCALLINGSCRIPTHASH="39536e3c",t.SYSTEM_RUNTIME_GETENTRYSCRIPTHASH="f9b4e238",t.SYSTEM_RUNTIME_GETEXECUTINGSCRIPTHASH="dbfea874",t.SYSTEM_RUNTIME_GETINVOCATIONCOUNTER="84271143",t.SYSTEM_RUNTIME_GETNETWORK="c5fba0e0",t.SYSTEM_RUNTIME_GETNOTIFICATIONS="274335f1",t.SYSTEM_RUNTIME_GETRANDOM="6bdea928",t.SYSTEM_RUNTIME_GETSCRIPTCONTAINER="2d510830",t.SYSTEM_RUNTIME_GETTIME="b7c38803",t.SYSTEM_RUNTIME_GETTRIGGER="e97d38a0",t.SYSTEM_RUNTIME_LOG="cfe74796",t.SYSTEM_RUNTIME_NOTIFY="95016f61",t.SYSTEM_RUNTIME_PLATFORM="b279fcf6",t.SYSTEM_STORAGE_ASREADONLY="764cbfe9",t.SYSTEM_STORAGE_DELETE="2f58c5ed",t.SYSTEM_STORAGE_FIND="df30b89a",t.SYSTEM_STORAGE_GET="925de831",t.SYSTEM_STORAGE_GETCONTEXT="9bf667ce",t.SYSTEM_STORAGE_GETREADONLYCONTEXT="f6b46be2",t.SYSTEM_STORAGE_PUT="e63f1884"}(i=e.InteropServiceCode||(e.InteropServiceCode={})),e.default=i,e.generateInteropServiceCode=function(t){const e=(0,n.str2hexstring)(t);return(0,n.sha256)(e).slice(0,8)},e.fromMethodName=function(t){const e=t.toUpperCase().replace(".","_");if(e in i)return i[e];throw new Error("Method name not found in InteropServiceCode!")}},3226:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getInteropServicePrice=void 0;const n=r(3858),i={[n.InteropServiceCode.SYSTEM_CONTRACT_CALL]:32768,[n.InteropServiceCode.SYSTEM_CONTRACT_CALLNATIVE]:0,[n.InteropServiceCode.SYSTEM_CONTRACT_CREATEMULTISIGACCOUNT]:256,[n.InteropServiceCode.SYSTEM_CONTRACT_CREATESTANDARDACCOUNT]:256,[n.InteropServiceCode.SYSTEM_CONTRACT_GETCALLFLAGS]:1024,[n.InteropServiceCode.SYSTEM_CONTRACT_NATIVEONPERSIST]:0,[n.InteropServiceCode.SYSTEM_CONTRACT_NATIVEPOSTPERSIST]:0,[n.InteropServiceCode.SYSTEM_CRYPTO_CHECKSIG]:32768,[n.InteropServiceCode.SYSTEM_RUNTIME_GETADDRESSVERSION]:8,[n.InteropServiceCode.SYSTEM_RUNTIME_GETINVOCATIONCOUNTER]:16,[n.InteropServiceCode.SYSTEM_RUNTIME_GETNETWORK]:8,[n.InteropServiceCode.SYSTEM_RUNTIME_GETNOTIFICATIONS]:4096,[n.InteropServiceCode.SYSTEM_RUNTIME_GETSCRIPTCONTAINER]:8,[n.InteropServiceCode.SYSTEM_RUNTIME_GETTIME]:8,[n.InteropServiceCode.SYSTEM_RUNTIME_GETTRIGGER]:8,[n.InteropServiceCode.SYSTEM_RUNTIME_LOG]:32768,[n.InteropServiceCode.SYSTEM_RUNTIME_NOTIFY]:32768,[n.InteropServiceCode.SYSTEM_RUNTIME_PLATFORM]:8,[n.InteropServiceCode.SYSTEM_STORAGE_ASREADONLY]:16,[n.InteropServiceCode.SYSTEM_STORAGE_DELETE]:32768,[n.InteropServiceCode.SYSTEM_STORAGE_FIND]:32768,[n.InteropServiceCode.SYSTEM_STORAGE_GET]:32768,[n.InteropServiceCode.SYSTEM_STORAGE_GETCONTEXT]:16,[n.InteropServiceCode.SYSTEM_STORAGE_GETREADONLYCONTEXT]:16,[n.InteropServiceCode.SYSTEM_STORAGE_PUT]:32768};e.getInteropServicePrice=function(t){if(t in i)return i[t];throw new Error(`InteropServiceCode ${t} not supported as it is dynamically priced.`)}},9904:(t,e,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.MethodToken=void 0;const i=r(2287),o=r(495);class s{constructor(t){const{hash:e="",method:r="",parametersCount:n=0,hasReturnValue:i=!1,callFlags:s=o.CallFlags.None}=t;this.hash=e,this.method=r,this.parametersCount=n,this.hasReturnValue=i,this.callFlags=s}static fromJson(t){return new s({hash:t.hash,method:t.method,parametersCount:t.parameterscount,hasReturnValue:t.hasreturnvalue,callFlags:t.callflags})}static fromStream(t){const e=t.read(20),r=(0,i.hexstring2str)(t.readVarBytes());if(r.startsWith("_"))throw new Error("MethodToken deserialization failure - method cannot start with '_'");const o=n.from(t.read(2),"hex").readUInt16LE(),a="00"!==t.read(1),u=Number.parseInt(t.read(1),16);return new s({hash:e,method:r,parametersCount:o,hasReturnValue:a,callFlags:u})}toJson(){return{hash:this.hash,method:this.method,parameterscount:this.parametersCount,hasreturnvalue:this.hasReturnValue,callflags:this.callFlags}}get size(){return this.serialize().length}serialize(){let t="";return t+=this.hash,t+=(0,i.num2VarInt)(this.method.length),t+=(0,i.str2hexstring)(this.method),t+=(0,i.num2hexstring)(this.parametersCount,2,!0),t+=this.hasReturnValue?"01":"00",t+=(0,i.num2hexstring)(this.callFlags),t}export(){return{hash:this.hash,method:this.method,parametersCount:this.parametersCount,hasReturnValue:this.hasReturnValue,callFlags:this.callFlags}}}e.MethodToken=s,e.default=s},6208:function(t,e,r){"use strict";var n,i=r(8764).Buffer,o=this&&this.__classPrivateFieldGet||function(t,e,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(t):n?n.value:e.get(t)},s=this&&this.__classPrivateFieldSet||function(t,e,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(t,r):i?i.value=r:e.set(t,r),r};Object.defineProperty(e,"__esModule",{value:!0}),e.NEF=void 0;const a=r(2287),u=r(9904);class f{get checksum(){return o(this,n,"f")||s(this,n,this.computeCheckSum(),"f"),o(this,n,"f")}constructor(t){n.set(this,void 0);const{compiler:e="",source:r="",tokens:i=[],script:o=""}=t;this.compiler=e,this.source=r,this.tokens=i.map((t=>new u.MethodToken(t))),this.script=o}static fromJson(t){if(t.magic!==this.MAGIC)throw new Error("Incorrect magic");const e=new f({compiler:t.compiler,source:t.source,tokens:t.tokens.map((t=>u.MethodToken.fromJson(t))),script:t.script});if(e.checksum!==t.checksum)throw new Error("Invalid checksum");return e}static fromBuffer(t){const e=new a.StringStream((0,a.ab2hexstring)(t));if(a.HexString.fromHex(e.read(4),!0).toNumber()!==this.MAGIC)throw new Error("NEF deserialization failure - incorrect magic");const r=i.from(e.read(64),"hex"),n=r.indexOf(0),o=r.slice(0,n).toString(),s=e.readVarInt();if(s>256)throw new Error("NEF deserialization failure - source field size exceeds maximum length of 256");const c=i.from(e.read(s),"hex").toString();if("00"!==e.read(1))throw new Error("NEF deserialization failure - reserved bytes must be 0");const h=e.readVarInt();if(h>128)throw new Error("NEF deserialization failure - token array exceeds maximum length of 128");const d=[];for(let t=0;t<h;t++)d.push(u.MethodToken.fromStream(e));if("0000"!==e.read(2))throw new Error("NEF deserialization failure - reserved bytes must be 0");const l=e.readVarInt();if(0===l)throw new Error("NEF deserialization failure - script length can't be 0");if(l>this.MAX_SCRIPT_LENGTH)throw new Error("NEF deserialization failure - max script length exceeded");const p=e.read(l),b=i.from(e.read(4),"hex").readUInt32LE(),g=new f({compiler:o,source:c,tokens:d,script:p});if(g.checksum!==b)throw new Error("NEF deserialization failure - invalid checksum");return g}toJson(){return{magic:f.MAGIC,compiler:this.compiler,source:this.source,tokens:this.tokens.map((t=>t.toJson())),script:this.script,checksum:this.checksum}}get size(){return this.serialize().length}serializeWithoutChecksum(){let t="";return t+=(0,a.num2hexstring)(f.MAGIC,4,!0),t+=(0,a.str2hexstring)(this.compiler).padEnd(128,"0"),t+=(0,a.num2VarInt)(this.source.length),t+=(0,a.str2hexstring)(this.source),t+="00",t+=(0,a.serializeArrayOf)(this.tokens),t+="0000",t+=(0,a.num2VarInt)(this.script.length/2),t+=this.script,t}serialize(){let t=this.serializeWithoutChecksum();return t+=(0,a.num2hexstring)(this.checksum,4,!0),t}export(){return{compiler:this.compiler,source:this.source,tokens:this.tokens.map((t=>t.export())),script:this.script}}computeCheckSum(){const t=this.serializeWithoutChecksum(),e=(0,a.hash256)(t);return i.from(e,"hex").readUInt32LE()}}n=new WeakMap,f.MAX_SCRIPT_LENGTH=524288,f.MAGIC=860243278,e.NEF=f,e.default=f},1702:(t,e)=>{"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.fromHex=e.OpCode=void 0,function(t){t[t.PUSHINT8=0]="PUSHINT8",t[t.PUSHINT16=1]="PUSHINT16",t[t.PUSHINT32=2]="PUSHINT32",t[t.PUSHINT64=3]="PUSHINT64",t[t.PUSHINT128=4]="PUSHINT128",t[t.PUSHINT256=5]="PUSHINT256",t[t.PUSHT=8]="PUSHT",t[t.PUSHF=9]="PUSHF",t[t.PUSHA=10]="PUSHA",t[t.PUSHNULL=11]="PUSHNULL",t[t.PUSHDATA1=12]="PUSHDATA1",t[t.PUSHDATA2=13]="PUSHDATA2",t[t.PUSHDATA4=14]="PUSHDATA4",t[t.PUSHM1=15]="PUSHM1",t[t.PUSH0=16]="PUSH0",t[t.PUSH1=17]="PUSH1",t[t.PUSH2=18]="PUSH2",t[t.PUSH3=19]="PUSH3",t[t.PUSH4=20]="PUSH4",t[t.PUSH5=21]="PUSH5",t[t.PUSH6=22]="PUSH6",t[t.PUSH7=23]="PUSH7",t[t.PUSH8=24]="PUSH8",t[t.PUSH9=25]="PUSH9",t[t.PUSH10=26]="PUSH10",t[t.PUSH11=27]="PUSH11",t[t.PUSH12=28]="PUSH12",t[t.PUSH13=29]="PUSH13",t[t.PUSH14=30]="PUSH14",t[t.PUSH15=31]="PUSH15",t[t.PUSH16=32]="PUSH16",t[t.NOP=33]="NOP",t[t.JMP=34]="JMP",t[t.JMP_L=35]="JMP_L",t[t.JMPIF=36]="JMPIF",t[t.JMPIF_L=37]="JMPIF_L",t[t.JMPIFNOT=38]="JMPIFNOT",t[t.JMPIFNOT_L=39]="JMPIFNOT_L",t[t.JMPEQ=40]="JMPEQ",t[t.JMPEQ_L=41]="JMPEQ_L",t[t.JMPNE=42]="JMPNE",t[t.JMPNE_L=43]="JMPNE_L",t[t.JMPGT=44]="JMPGT",t[t.JMPGT_L=45]="JMPGT_L",t[t.JMPGE=46]="JMPGE",t[t.JMPGE_L=47]="JMPGE_L",t[t.JMPLT=48]="JMPLT",t[t.JMPLT_L=49]="JMPLT_L",t[t.JMPLE=50]="JMPLE",t[t.JMPLE_L=51]="JMPLE_L",t[t.CALL=52]="CALL",t[t.CALL_L=53]="CALL_L",t[t.CALLA=54]="CALLA",t[t.CALLT=55]="CALLT",t[t.ABORT=56]="ABORT",t[t.ASSERT=57]="ASSERT",t[t.THROW=58]="THROW",t[t.TRY=59]="TRY",t[t.TRY_L=60]="TRY_L",t[t.ENDTRY=61]="ENDTRY",t[t.ENDTRY_L=62]="ENDTRY_L",t[t.ENDFINALLY=63]="ENDFINALLY",t[t.RET=64]="RET",t[t.SYSCALL=65]="SYSCALL",t[t.DEPTH=67]="DEPTH",t[t.DROP=69]="DROP",t[t.NIP=70]="NIP",t[t.XDROP=72]="XDROP",t[t.CLEAR=73]="CLEAR",t[t.DUP=74]="DUP",t[t.OVER=75]="OVER",t[t.PICK=77]="PICK",t[t.TUCK=78]="TUCK",t[t.SWAP=80]="SWAP",t[t.ROT=81]="ROT",t[t.ROLL=82]="ROLL",t[t.REVERSE3=83]="REVERSE3",t[t.REVERSE4=84]="REVERSE4",t[t.REVERSEN=85]="REVERSEN",t[t.INITSSLOT=86]="INITSSLOT",t[t.INITSLOT=87]="INITSLOT",t[t.LDSFLD0=88]="LDSFLD0",t[t.LDSFLD1=89]="LDSFLD1",t[t.LDSFLD2=90]="LDSFLD2",t[t.LDSFLD3=91]="LDSFLD3",t[t.LDSFLD4=92]="LDSFLD4",t[t.LDSFLD5=93]="LDSFLD5",t[t.LDSFLD6=94]="LDSFLD6",t[t.LDSFLD=95]="LDSFLD",t[t.STSFLD0=96]="STSFLD0",t[t.STSFLD1=97]="STSFLD1",t[t.STSFLD2=98]="STSFLD2",t[t.STSFLD3=99]="STSFLD3",t[t.STSFLD4=100]="STSFLD4",t[t.STSFLD5=101]="STSFLD5",t[t.STSFLD6=102]="STSFLD6",t[t.STSFLD=103]="STSFLD",t[t.LDLOC0=104]="LDLOC0",t[t.LDLOC1=105]="LDLOC1",t[t.LDLOC2=106]="LDLOC2",t[t.LDLOC3=107]="LDLOC3",t[t.LDLOC4=108]="LDLOC4",t[t.LDLOC5=109]="LDLOC5",t[t.LDLOC6=110]="LDLOC6",t[t.LDLOC=111]="LDLOC",t[t.STLOC0=112]="STLOC0",t[t.STLOC1=113]="STLOC1",t[t.STLOC2=114]="STLOC2",t[t.STLOC3=115]="STLOC3",t[t.STLOC4=116]="STLOC4",t[t.STLOC5=117]="STLOC5",t[t.STLOC6=118]="STLOC6",t[t.STLOC=119]="STLOC",t[t.LDARG0=120]="LDARG0",t[t.LDARG1=121]="LDARG1",t[t.LDARG2=122]="LDARG2",t[t.LDARG3=123]="LDARG3",t[t.LDARG4=124]="LDARG4",t[t.LDARG5=125]="LDARG5",t[t.LDARG6=126]="LDARG6",t[t.LDARG=127]="LDARG",t[t.STARG0=128]="STARG0",t[t.STARG1=129]="STARG1",t[t.STARG2=130]="STARG2",t[t.STARG3=131]="STARG3",t[t.STARG4=132]="STARG4",t[t.STARG5=133]="STARG5",t[t.STARG6=134]="STARG6",t[t.STARG=135]="STARG",t[t.NEWBUFFER=136]="NEWBUFFER",t[t.MEMCPY=137]="MEMCPY",t[t.CAT=139]="CAT",t[t.SUBSTR=140]="SUBSTR",t[t.LEFT=141]="LEFT",t[t.RIGHT=142]="RIGHT",t[t.INVERT=144]="INVERT",t[t.AND=145]="AND",t[t.OR=146]="OR",t[t.XOR=147]="XOR",t[t.EQUAL=151]="EQUAL",t[t.NOTEQUAL=152]="NOTEQUAL",t[t.SIGN=153]="SIGN",t[t.ABS=154]="ABS",t[t.NEGATE=155]="NEGATE",t[t.INC=156]="INC",t[t.DEC=157]="DEC",t[t.ADD=158]="ADD",t[t.SUB=159]="SUB",t[t.MUL=160]="MUL",t[t.DIV=161]="DIV",t[t.MOD=162]="MOD",t[t.POW=163]="POW",t[t.SQRT=164]="SQRT",t[t.SHL=168]="SHL",t[t.SHR=169]="SHR",t[t.NOT=170]="NOT",t[t.BOOLAND=171]="BOOLAND",t[t.BOOLOR=172]="BOOLOR",t[t.NZ=177]="NZ",t[t.NUMEQUAL=179]="NUMEQUAL",t[t.NUMNOTEQUAL=180]="NUMNOTEQUAL",t[t.LT=181]="LT",t[t.LE=182]="LE",t[t.GT=183]="GT",t[t.GE=184]="GE",t[t.MIN=185]="MIN",t[t.MAX=186]="MAX",t[t.WITHIN=187]="WITHIN",t[t.PACKMAP=190]="PACKMAP",t[t.PACKSTRUCT=191]="PACKSTRUCT",t[t.PACK=192]="PACK",t[t.UNPACK=193]="UNPACK",t[t.NEWARRAY0=194]="NEWARRAY0",t[t.NEWARRAY=195]="NEWARRAY",t[t.NEWARRAY_T=196]="NEWARRAY_T",t[t.NEWSTRUCT0=197]="NEWSTRUCT0",t[t.NEWSTRUCT=198]="NEWSTRUCT",t[t.NEWMAP=200]="NEWMAP",t[t.SIZE=202]="SIZE",t[t.HASKEY=203]="HASKEY",t[t.KEYS=204]="KEYS",t[t.VALUES=205]="VALUES",t[t.PICKITEM=206]="PICKITEM",t[t.APPEND=207]="APPEND",t[t.SETITEM=208]="SETITEM",t[t.REVERSEITEMS=209]="REVERSEITEMS",t[t.REMOVE=210]="REMOVE",t[t.CLEARITEMS=211]="CLEARITEMS",t[t.POPITEM=212]="POPITEM",t[t.ISNULL=216]="ISNULL",t[t.ISTYPE=217]="ISTYPE",t[t.CONVERT=219]="CONVERT"}(r=e.OpCode||(e.OpCode={})),e.fromHex=function(t){const e=parseInt(t,16);if(e in r)return e;throw new Error(`OpCode not found! Value: ${t}`)},e.default=r},7049:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OpCodeAnnotations=void 0;const n=r(1702);e.OpCodeAnnotations={[n.OpCode.PUSHINT8]:{operandSize:1},[n.OpCode.PUSHINT16]:{operandSize:2},[n.OpCode.PUSHINT32]:{operandSize:4},[n.OpCode.PUSHINT64]:{operandSize:8},[n.OpCode.PUSHINT128]:{operandSize:16},[n.OpCode.PUSHINT256]:{operandSize:32},[n.OpCode.PUSHT]:{},[n.OpCode.PUSHF]:{},[n.OpCode.PUSHA]:{operandSize:4},[n.OpCode.PUSHNULL]:{},[n.OpCode.PUSHDATA1]:{operandSizePrefix:1},[n.OpCode.PUSHDATA2]:{operandSizePrefix:2},[n.OpCode.PUSHDATA4]:{operandSizePrefix:4},[n.OpCode.PUSHM1]:{},[n.OpCode.PUSH0]:{},[n.OpCode.PUSH1]:{},[n.OpCode.PUSH2]:{},[n.OpCode.PUSH3]:{},[n.OpCode.PUSH4]:{},[n.OpCode.PUSH5]:{},[n.OpCode.PUSH6]:{},[n.OpCode.PUSH7]:{},[n.OpCode.PUSH8]:{},[n.OpCode.PUSH9]:{},[n.OpCode.PUSH10]:{},[n.OpCode.PUSH11]:{},[n.OpCode.PUSH12]:{},[n.OpCode.PUSH13]:{},[n.OpCode.PUSH14]:{},[n.OpCode.PUSH15]:{},[n.OpCode.PUSH16]:{},[n.OpCode.NOP]:{},[n.OpCode.JMP]:{operandSize:1},[n.OpCode.JMP_L]:{operandSize:4},[n.OpCode.JMPIF]:{operandSize:1},[n.OpCode.JMPIF_L]:{operandSize:4},[n.OpCode.JMPIFNOT]:{operandSize:1},[n.OpCode.JMPIFNOT_L]:{operandSize:4},[n.OpCode.JMPEQ]:{operandSize:1},[n.OpCode.JMPEQ_L]:{operandSize:4},[n.OpCode.JMPNE]:{operandSize:1},[n.OpCode.JMPNE_L]:{operandSize:4},[n.OpCode.JMPGT]:{operandSize:1},[n.OpCode.JMPGT_L]:{operandSize:4},[n.OpCode.JMPGE]:{operandSize:1},[n.OpCode.JMPGE_L]:{operandSize:4},[n.OpCode.JMPLT]:{operandSize:1},[n.OpCode.JMPLT_L]:{operandSize:4},[n.OpCode.JMPLE]:{operandSize:1},[n.OpCode.JMPLE_L]:{operandSize:4},[n.OpCode.CALL]:{operandSize:1},[n.OpCode.CALL_L]:{operandSize:4},[n.OpCode.CALLA]:{},[n.OpCode.CALLT]:{operandSize:2},[n.OpCode.ABORT]:{},[n.OpCode.ASSERT]:{},[n.OpCode.THROW]:{},[n.OpCode.TRY]:{operandSize:2},[n.OpCode.TRY_L]:{operandSize:8},[n.OpCode.ENDTRY]:{operandSize:1},[n.OpCode.ENDTRY_L]:{operandSize:4},[n.OpCode.ENDFINALLY]:{},[n.OpCode.RET]:{},[n.OpCode.SYSCALL]:{operandSize:4},[n.OpCode.DEPTH]:{},[n.OpCode.DROP]:{},[n.OpCode.NIP]:{},[n.OpCode.XDROP]:{},[n.OpCode.CLEAR]:{},[n.OpCode.DUP]:{},[n.OpCode.OVER]:{},[n.OpCode.PICK]:{},[n.OpCode.TUCK]:{},[n.OpCode.SWAP]:{},[n.OpCode.ROT]:{},[n.OpCode.ROLL]:{},[n.OpCode.REVERSE3]:{},[n.OpCode.REVERSE4]:{},[n.OpCode.REVERSEN]:{},[n.OpCode.INITSSLOT]:{operandSize:1},[n.OpCode.INITSLOT]:{operandSize:2},[n.OpCode.LDSFLD0]:{},[n.OpCode.LDSFLD1]:{},[n.OpCode.LDSFLD2]:{},[n.OpCode.LDSFLD3]:{},[n.OpCode.LDSFLD4]:{},[n.OpCode.LDSFLD5]:{},[n.OpCode.LDSFLD6]:{},[n.OpCode.LDSFLD]:{operandSize:1},[n.OpCode.STSFLD0]:{},[n.OpCode.STSFLD1]:{},[n.OpCode.STSFLD2]:{},[n.OpCode.STSFLD3]:{},[n.OpCode.STSFLD4]:{},[n.OpCode.STSFLD5]:{},[n.OpCode.STSFLD6]:{},[n.OpCode.STSFLD]:{operandSize:1},[n.OpCode.LDLOC0]:{},[n.OpCode.LDLOC1]:{},[n.OpCode.LDLOC2]:{},[n.OpCode.LDLOC3]:{},[n.OpCode.LDLOC4]:{},[n.OpCode.LDLOC5]:{},[n.OpCode.LDLOC6]:{},[n.OpCode.LDLOC]:{operandSize:1},[n.OpCode.STLOC0]:{},[n.OpCode.STLOC1]:{},[n.OpCode.STLOC2]:{},[n.OpCode.STLOC3]:{},[n.OpCode.STLOC4]:{},[n.OpCode.STLOC5]:{},[n.OpCode.STLOC6]:{},[n.OpCode.STLOC]:{operandSize:1},[n.OpCode.LDARG0]:{},[n.OpCode.LDARG1]:{},[n.OpCode.LDARG2]:{},[n.OpCode.LDARG3]:{},[n.OpCode.LDARG4]:{},[n.OpCode.LDARG5]:{},[n.OpCode.LDARG6]:{},[n.OpCode.LDARG]:{operandSize:1},[n.OpCode.STARG0]:{},[n.OpCode.STARG1]:{},[n.OpCode.STARG2]:{},[n.OpCode.STARG3]:{},[n.OpCode.STARG4]:{},[n.OpCode.STARG5]:{},[n.OpCode.STARG6]:{},[n.OpCode.STARG]:{operandSize:1},[n.OpCode.NEWBUFFER]:{},[n.OpCode.MEMCPY]:{},[n.OpCode.CAT]:{},[n.OpCode.SUBSTR]:{},[n.OpCode.LEFT]:{},[n.OpCode.RIGHT]:{},[n.OpCode.INVERT]:{},[n.OpCode.AND]:{},[n.OpCode.OR]:{},[n.OpCode.XOR]:{},[n.OpCode.EQUAL]:{},[n.OpCode.NOTEQUAL]:{},[n.OpCode.SIGN]:{},[n.OpCode.ABS]:{},[n.OpCode.NEGATE]:{},[n.OpCode.INC]:{},[n.OpCode.DEC]:{},[n.OpCode.ADD]:{},[n.OpCode.SUB]:{},[n.OpCode.MUL]:{},[n.OpCode.DIV]:{},[n.OpCode.MOD]:{},[n.OpCode.POW]:{},[n.OpCode.SQRT]:{},[n.OpCode.SHL]:{},[n.OpCode.SHR]:{},[n.OpCode.NOT]:{},[n.OpCode.BOOLAND]:{},[n.OpCode.BOOLOR]:{},[n.OpCode.NZ]:{},[n.OpCode.NUMEQUAL]:{},[n.OpCode.NUMNOTEQUAL]:{},[n.OpCode.LT]:{},[n.OpCode.LE]:{},[n.OpCode.GT]:{},[n.OpCode.GE]:{},[n.OpCode.MIN]:{},[n.OpCode.MAX]:{},[n.OpCode.WITHIN]:{},[n.OpCode.PACKMAP]:{},[n.OpCode.PACKSTRUCT]:{},[n.OpCode.PACK]:{},[n.OpCode.UNPACK]:{},[n.OpCode.NEWARRAY0]:{},[n.OpCode.NEWARRAY]:{},[n.OpCode.NEWARRAY_T]:{operandSize:1},[n.OpCode.NEWSTRUCT0]:{},[n.OpCode.NEWSTRUCT]:{},[n.OpCode.NEWMAP]:{},[n.OpCode.SIZE]:{},[n.OpCode.HASKEY]:{},[n.OpCode.KEYS]:{},[n.OpCode.VALUES]:{},[n.OpCode.PICKITEM]:{},[n.OpCode.APPEND]:{},[n.OpCode.SETITEM]:{},[n.OpCode.REVERSEITEMS]:{},[n.OpCode.REMOVE]:{},[n.OpCode.CLEARITEMS]:{},[n.OpCode.POPITEM]:{},[n.OpCode.ISNULL]:{},[n.OpCode.ISTYPE]:{operandSize:1},[n.OpCode.CONVERT]:{operandSize:1}}},2018:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OpCodePrices=void 0;const n=r(1702);e.OpCodePrices={[n.OpCode.PUSHINT8]:1,[n.OpCode.PUSHINT16]:1,[n.OpCode.PUSHINT32]:1,[n.OpCode.PUSHINT64]:1,[n.OpCode.PUSHINT128]:4,[n.OpCode.PUSHINT256]:4,[n.OpCode.PUSHT]:1,[n.OpCode.PUSHF]:1,[n.OpCode.PUSHA]:4,[n.OpCode.PUSHNULL]:1,[n.OpCode.PUSHDATA1]:8,[n.OpCode.PUSHDATA2]:512,[n.OpCode.PUSHDATA4]:4096,[n.OpCode.PUSHM1]:1,[n.OpCode.PUSH0]:1,[n.OpCode.PUSH1]:1,[n.OpCode.PUSH2]:1,[n.OpCode.PUSH3]:1,[n.OpCode.PUSH4]:1,[n.OpCode.PUSH5]:1,[n.OpCode.PUSH6]:1,[n.OpCode.PUSH7]:1,[n.OpCode.PUSH8]:1,[n.OpCode.PUSH9]:1,[n.OpCode.PUSH10]:1,[n.OpCode.PUSH11]:1,[n.OpCode.PUSH12]:1,[n.OpCode.PUSH13]:1,[n.OpCode.PUSH14]:1,[n.OpCode.PUSH15]:1,[n.OpCode.PUSH16]:1,[n.OpCode.NOP]:1,[n.OpCode.JMP]:2,[n.OpCode.JMP_L]:2,[n.OpCode.JMPIF]:2,[n.OpCode.JMPIF_L]:2,[n.OpCode.JMPIFNOT]:2,[n.OpCode.JMPIFNOT_L]:2,[n.OpCode.JMPEQ]:2,[n.OpCode.JMPEQ_L]:2,[n.OpCode.JMPNE]:2,[n.OpCode.JMPNE_L]:2,[n.OpCode.JMPGT]:2,[n.OpCode.JMPGT_L]:2,[n.OpCode.JMPGE]:2,[n.OpCode.JMPGE_L]:2,[n.OpCode.JMPLT]:2,[n.OpCode.JMPLT_L]:2,[n.OpCode.JMPLE]:2,[n.OpCode.JMPLE_L]:2,[n.OpCode.CALL]:512,[n.OpCode.CALL_L]:512,[n.OpCode.CALLA]:512,[n.OpCode.CALLT]:32768,[n.OpCode.ABORT]:0,[n.OpCode.ASSERT]:1,[n.OpCode.THROW]:512,[n.OpCode.TRY]:4,[n.OpCode.TRY_L]:4,[n.OpCode.ENDTRY]:4,[n.OpCode.ENDTRY_L]:4,[n.OpCode.ENDFINALLY]:4,[n.OpCode.RET]:0,[n.OpCode.SYSCALL]:0,[n.OpCode.DEPTH]:2,[n.OpCode.DROP]:2,[n.OpCode.NIP]:2,[n.OpCode.XDROP]:16,[n.OpCode.CLEAR]:16,[n.OpCode.DUP]:2,[n.OpCode.OVER]:2,[n.OpCode.PICK]:2,[n.OpCode.TUCK]:2,[n.OpCode.SWAP]:2,[n.OpCode.ROT]:2,[n.OpCode.ROLL]:16,[n.OpCode.REVERSE3]:2,[n.OpCode.REVERSE4]:2,[n.OpCode.REVERSEN]:16,[n.OpCode.INITSSLOT]:16,[n.OpCode.INITSLOT]:64,[n.OpCode.LDSFLD0]:2,[n.OpCode.LDSFLD1]:2,[n.OpCode.LDSFLD2]:2,[n.OpCode.LDSFLD3]:2,[n.OpCode.LDSFLD4]:2,[n.OpCode.LDSFLD5]:2,[n.OpCode.LDSFLD6]:2,[n.OpCode.LDSFLD]:2,[n.OpCode.STSFLD0]:2,[n.OpCode.STSFLD1]:2,[n.OpCode.STSFLD2]:2,[n.OpCode.STSFLD3]:2,[n.OpCode.STSFLD4]:2,[n.OpCode.STSFLD5]:2,[n.OpCode.STSFLD6]:2,[n.OpCode.STSFLD]:2,[n.OpCode.LDLOC0]:2,[n.OpCode.LDLOC1]:2,[n.OpCode.LDLOC2]:2,[n.OpCode.LDLOC3]:2,[n.OpCode.LDLOC4]:2,[n.OpCode.LDLOC5]:2,[n.OpCode.LDLOC6]:2,[n.OpCode.LDLOC]:2,[n.OpCode.STLOC0]:2,[n.OpCode.STLOC1]:2,[n.OpCode.STLOC2]:2,[n.OpCode.STLOC3]:2,[n.OpCode.STLOC4]:2,[n.OpCode.STLOC5]:2,[n.OpCode.STLOC6]:2,[n.OpCode.STLOC]:2,[n.OpCode.LDARG0]:2,[n.OpCode.LDARG1]:2,[n.OpCode.LDARG2]:2,[n.OpCode.LDARG3]:2,[n.OpCode.LDARG4]:2,[n.OpCode.LDARG5]:2,[n.OpCode.LDARG6]:2,[n.OpCode.LDARG]:2,[n.OpCode.STARG0]:2,[n.OpCode.STARG1]:2,[n.OpCode.STARG2]:2,[n.OpCode.STARG3]:2,[n.OpCode.STARG4]:2,[n.OpCode.STARG5]:2,[n.OpCode.STARG6]:2,[n.OpCode.STARG]:2,[n.OpCode.NEWBUFFER]:256,[n.OpCode.MEMCPY]:2048,[n.OpCode.CAT]:2048,[n.OpCode.SUBSTR]:2048,[n.OpCode.LEFT]:2048,[n.OpCode.RIGHT]:2048,[n.OpCode.INVERT]:4,[n.OpCode.AND]:8,[n.OpCode.OR]:8,[n.OpCode.XOR]:8,[n.OpCode.EQUAL]:32,[n.OpCode.NOTEQUAL]:32,[n.OpCode.SIGN]:4,[n.OpCode.ABS]:4,[n.OpCode.NEGATE]:4,[n.OpCode.INC]:4,[n.OpCode.DEC]:4,[n.OpCode.ADD]:8,[n.OpCode.SUB]:8,[n.OpCode.MUL]:8,[n.OpCode.DIV]:8,[n.OpCode.MOD]:8,[n.OpCode.POW]:64,[n.OpCode.SQRT]:64,[n.OpCode.SHL]:8,[n.OpCode.SHR]:8,[n.OpCode.NOT]:4,[n.OpCode.BOOLAND]:8,[n.OpCode.BOOLOR]:8,[n.OpCode.NZ]:4,[n.OpCode.NUMEQUAL]:8,[n.OpCode.NUMNOTEQUAL]:8,[n.OpCode.LT]:8,[n.OpCode.LE]:8,[n.OpCode.GT]:8,[n.OpCode.GE]:8,[n.OpCode.MIN]:8,[n.OpCode.MAX]:8,[n.OpCode.WITHIN]:8,[n.OpCode.PACKMAP]:2048,[n.OpCode.PACKSTRUCT]:2048,[n.OpCode.PACK]:2048,[n.OpCode.UNPACK]:2048,[n.OpCode.NEWARRAY0]:16,[n.OpCode.NEWARRAY]:512,[n.OpCode.NEWARRAY_T]:512,[n.OpCode.NEWSTRUCT0]:16,[n.OpCode.NEWSTRUCT]:512,[n.OpCode.NEWMAP]:8,[n.OpCode.SIZE]:4,[n.OpCode.HASKEY]:64,[n.OpCode.KEYS]:16,[n.OpCode.VALUES]:8192,[n.OpCode.PICKITEM]:64,[n.OpCode.APPEND]:8192,[n.OpCode.SETITEM]:8192,[n.OpCode.REVERSEITEMS]:8192,[n.OpCode.REMOVE]:16,[n.OpCode.CLEARITEMS]:16,[n.OpCode.POPITEM]:16,[n.OpCode.ISNULL]:2,[n.OpCode.ISTYPE]:2,[n.OpCode.CONVERT]:8192}},8344:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OpToken=void 0;const n=r(1702),i=r(7049),o=r(2287),s=[1,2,4,8,16,32];class a{static fromScript(t){if(!(0,o.isHex)(t))throw new Error(`Expected a hexstring but got ${t.length>20?t.substr(0,20)+"...":t}`);const e=new o.StringStream(t),r=[];for(;!e.isEmpty();){const t=e.read(1),n=parseInt(t,16),o=i.OpCodeAnnotations[n]??{},s=o.operandSize?u(o.operandSize):o.operandSizePrefix?f(o.operandSizePrefix):()=>{};r.push(new a(n,s(e)))}return r}static parseInt(t){if(t.code>=0&&t.code<=5){const e=2*s[t.code];return t.params?parseInt(o.BigInteger.fromTwos(t.params.substr(0,e),!0).toString()):0}if(t.code>=15&&t.code<=32)return t.code-16;throw new Error(`given OpToken ${n.OpCode[t.code]} isnt a parsable integer.`)}static forInteger(t){const e=t instanceof o.BigInteger?t:o.BigInteger.fromNumber(t);if(-1===t)return new a(n.OpCode.PUSHM1);if(e.compare(0)>=0&&e.compare(16)<=0)return new a(n.OpCode.PUSH0+parseInt(e.toString()));const r=e.toReverseTwos();if(r.length<=2)return new a(n.OpCode.PUSHINT8,r.padEnd(2,"0"));if(r.length<=4)return new a(n.OpCode.PUSHINT16,r.padEnd(4,"0"));if(r.length<=8)return new a(n.OpCode.PUSHINT32,r.padEnd(8,"0"));if(r.length<=16)return new a(n.OpCode.PUSHINT64,r.padEnd(16,"0"));if(r.length<=32)return new a(n.OpCode.PUSHINT128,r.padEnd(32,"0"));throw new Error("Number out of range")}constructor(t,e){this.code=t,this.params=e}prettyPrint(t=12){return`${this.params?n.OpCode[this.code].padEnd(t)+" "+this.params:n.OpCode[this.code]}`}toScript(){const t=o.HexString.fromNumber(this.code).toLittleEndian(),e=this.params??"",r=i.OpCodeAnnotations[this.code];if(r.operandSizePrefix){const n=o.HexString.fromNumber(e.length/2).toLittleEndian();if(n.length/2>r.operandSizePrefix){const t=Math.pow(2,8*r.operandSizePrefix);throw new Error(`Expected params to be less than ${t} but got ${e.length/2}`)}return t+n.padEnd(2*r.operandSizePrefix,"0")+e}if(r.operandSize&&e.length/2!==r.operandSize)throw new Error(`Expected params to be ${r.operandSize} bytes long but got ${e.length/2} instead.`);return t+e}}function u(t){return e=>e.read(t)}function f(t){return e=>e.read(o.HexString.fromHex(e.read(t),!0).toNumber())}e.OpToken=a},3813:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ScriptBuilder=void 0;const i=n(r(2197)),o=r(2287),s=r(897),a=r(1702),u=r(3858),f=r(495);class c extends o.StringStream{build(){return this.str.slice(0)}emit(t,e){return this.str+=(0,o.int2hex)(t),e&&(this.str+=e),this}emitAppCall(t,e,r=[],n=f.CallFlags.All){if(0===r.length)this.emit(a.OpCode.NEWARRAY0);else{for(let t=r.length-1;t>=0;t--)this.emitPush(r[t]);this.emitNumber(r.length),this.emit(a.OpCode.PACK)}return this.emitPush(n).emitString(e).emitHexString(o.HexString.fromHex(t)).emitSysCall(u.InteropServiceCode.SYSTEM_CONTRACT_CALL)}emitSysCall(t,...e){for(let t=e.length-1;t>=0;t--)this.emitPush(e[t]);return this.emit(a.OpCode.SYSCALL,t)}emitPush(t){switch(typeof t){case"boolean":return this.emitBoolean(t);case"string":return this.emitString(t);case"number":return this.emitNumber(t);case"undefined":return this.emitPush(!1);case"object":if(Array.isArray(t))return this.emitArray(t);if(t instanceof o.HexString)return this.emitHexString(t);if(null===t)return this.emitPush(!1);if((0,s.likeContractParam)(t))return this.emitContractParam(s.ContractParam.fromJson(t));throw new Error(`Unidentified object: ${t}`);default:throw new Error}}emitBoolean(t){return this.emit(t?a.OpCode.PUSHT:a.OpCode.PUSHF)}emitArray(t){for(let e=t.length-1;e>=0;e--)this.emitPush(t[e]);return this.emitNumber(t.length).emit(a.OpCode.PACK)}emitMap(t){for(let e=0;e<t.length;e++){const r=t[e].key.type;if(r!==s.ContractParamType.Boolean&&r!==s.ContractParamType.Integer&&r!==s.ContractParamType.String&&r!==s.ContractParamType.ByteArray)throw new Error(`Unsupported key type: ${r}`);this.emitPush(t[e].value),this.emitPush(t[e].key)}return this.emitPush(t.length),this.emit(a.OpCode.PACKMAP)}emitBytes(t){return this.emitHexString(o.HexString.fromArrayBuffer(t,!0))}emitString(t){const e=(new TextEncoder).encode(t);return this.emitBytes(e)}emitHexString(t){"string"==typeof t&&(t=o.HexString.fromHex(t,!0));const e=t.toLittleEndian(),r=t.byteLength;if(r<256)return this.emit(a.OpCode.PUSHDATA1,(0,o.num2hexstring)(r)+e);if(r<65536)return this.emit(a.OpCode.PUSHDATA2,(0,o.num2hexstring)(r,2,!0)+e);if(r<4294967296)return this.emit(a.OpCode.PUSHDATA4,(0,o.num2hexstring)(r,4,!0)+e);throw new Error("Data too big to emit!")}emitPublicKey(t){const e=t instanceof o.HexString?t.toBigEndian():t;return this.emit(a.OpCode.PUSHDATA1,(0,o.num2hexstring)(33)+e)}emitNumber(t){const e=new i.default(t,10,"be");if(e.gten(-1)&&e.lten(16))return this.emit(a.OpCode.PUSH0+e.toNumber());const r=e.isNeg(),n=o.BigInteger.fromNumber(t),s=n.toReverseTwos().length/2,u=this.roundToBestIntSize(s);if(u>32)throw new Error(`Number too long to be emitted: ${t.toString()}`);let f=n.toReverseTwos();switch(f=this.padRight(f,u,r),u){case 1:return this.emit(a.OpCode.PUSHINT8,f);case 2:return this.emit(a.OpCode.PUSHINT16,f);case 4:return this.emit(a.OpCode.PUSHINT32,f);case 8:return this.emit(a.OpCode.PUSHINT64,f);case 16:return this.emit(a.OpCode.PUSHINT128,f);case 32:return this.emit(a.OpCode.PUSHINT256,f);default:throw new Error}}roundToBestIntSize(t){switch(!0){case 1==t:return 1;case 2==t:return 2;case t<=4:return 4;case t<=8:return 8;case t<=16:return 16;case t<=32:return 32;default:return 64}}padRight(t,e,r){if(t.length/2>=e)return t;const n=r?"ff":"00";for(;t.length/2!=e;)t+=n;return t}emitContractParam(t){if(void 0===t.type)throw new Error("No type available!");switch(t.type){case s.ContractParamType.Any:return null===t.value?this.emit(a.OpCode.PUSHNULL):this.emitHexString(t.value??"");case s.ContractParamType.String:return this.emitString(t.value);case s.ContractParamType.Boolean:return this.emitBoolean(t.value);case s.ContractParamType.Integer:return this.emitNumber(t.value);case s.ContractParamType.ByteArray:return this.emitHexString(t.value);case s.ContractParamType.Array:return this.emitArray(t.value);case s.ContractParamType.Hash160:case s.ContractParamType.Hash256:return this.emitHexString(t.value);case s.ContractParamType.PublicKey:return this.emitPublicKey(t.value);case s.ContractParamType.Map:return this.emitMap(t.value);default:throw new Error(`Unaccounted ContractParamType!: ${t.type}`)}}emitContractCall(t){return this.emitAppCall(t.scriptHash,t.operation,t.args,t.callFlags)}appendScript(t){return this.str+=t,this}}e.ScriptBuilder=c,e.default=c},1079:(t,e)=>{"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.StackItem=e.hasChildren=e.StackItemType=void 0,function(t){t[t.Any=0]="Any",t[t.Pointer=16]="Pointer",t[t.Boolean=32]="Boolean",t[t.Integer=33]="Integer",t[t.ByteString=40]="ByteString",t[t.Buffer=48]="Buffer",t[t.Array=64]="Array",t[t.Struct=65]="Struct",t[t.Map=72]="Map",t[t.InteropInterface=96]="InteropInterface"}(r=e.StackItemType||(e.StackItemType={})),e.hasChildren=function(t){return t===r.Array||t===r.Struct||t===r.Map};class n{constructor(t){if(void 0===t.type)throw new Error("No type is provided");var e;if(this.type="string"==typeof(e=t.type)?r[e]:e,null!==t.value&&void 0!==t.value)switch(this.type){case r.Pointer:if("number"!=typeof t.value)throw new Error("value of a Pointer StackItem should be a number.");return void(this.value=t.value);case r.Integer:return void(this.value=t.value?.toString()??"0");case r.Buffer:case r.ByteString:if("string"!=typeof t.value)throw new Error("value of a ByteString/Buffer StackItem should be a string.");return void(this.value=t.value);case r.Boolean:return void(this.value=!!t.value);case r.Map:throw Array.isArray(t.value)&&t.value.every((t=>t&&"object"==typeof t&&"key"in t&&"value"in t))&&(this.value=t.value.map((t=>({key:new n(t.key),value:new n(t.value)})))),new Error("Mismatch value for type");case r.Array:case r.Struct:throw Array.isArray(t.value)&&function(t){return t.every(i)}(t.value)&&(this.value=t.value.map((t=>new n(t)))),new Error("Mismatch value for type");default:throw new Error("unsupported")}else this.value=function(t){switch(t){case r.Array:case r.Struct:case r.Map:return[];case r.Boolean:return!1;case r.Integer:return"0";case r.Pointer:return 0;default:return""}}(this.type)}export(){const t=r[this.type];switch(this.type){case r.Array:case r.Struct:return{type:t,value:this.value.map((t=>t.export()))};case r.Map:return{type:t,value:this.value.map((t=>({key:t.key.export(),value:t.value.export()})))};default:return{type:t,value:this.value}}}}function i(t){return"object"==typeof t&&null!==t&&"type"in t}e.StackItem=n,e.default=n},5809:function(t,e,r){"use strict";var n,i,o=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&o(e,t,r);return s(e,t),e},u=this&&this.__classPrivateFieldGet||function(t,e,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(t):n?n.value:e.get(t)},f=this&&this.__classPrivateFieldSet||function(t,e,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(t,r):i?i.value=r:e.set(t,r),r};Object.defineProperty(e,"__esModule",{value:!0}),e.BaseContract=void 0;const c=a(r(897)),h=r(495);e.BaseContract=class{get scriptHash(){return u(this,n,"f")}get methods(){return u(this,i,"f")}constructor(t,e=[]){n.set(this,void 0),i.set(this,{}),f(this,n,t,"f"),f(this,i,e.reduce(((t,e)=>(t[e.name]=e,t)),{}),"f")}call(t,...e){const r="string"==typeof t?u(this,i,"f")[t]:t;if(void 0===r)throw new Error(`The method ${t} is not defined on this contract.`);if(r.parameters.length!==e.length)throw new Error(`Invalid number of parameters provided. Method requires ${r.parameters.length} parameters but got ${e.length}.`);const n=e.map(((t,e)=>function(t,e){if("object"==typeof t){const i=t instanceof c.default?t:c.default.fromJson(t);if(r=i.type,(n=e)===r||n===c.ContractParamType.ByteArray&&(r===c.ContractParamType.Hash160||r===c.ContractParamType.Hash256))return i;throw new Error(`Provided ${i.type} when trying to get ${e}`)}var r,n;return c.default.fromJson({type:c.ContractParamType[e],value:t})}(t,r.parameters[e].type)));return{scriptHash:this.scriptHash,operation:r.name,callFlags:h.CallFlags.All,args:n}}},n=new WeakMap,i=new WeakMap},5038:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.GasContract=void 0;const i=r(2526),o=r(773),s=r(8212),a=n(r(2754));let u;class f extends s.Nep17Contract{static get INSTANCE(){return u||(u=new f),u}static getMethods(){return a.default.methods.map((t=>o.ContractMethodDefinition.fromJson(t)))}constructor(){super(i.NATIVE_CONTRACT_HASH.GasToken,f.getMethods())}}e.GasContract=f},7786:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.NeoContract=void 0;const i=r(2526),o=r(897),s=r(773),a=r(8212),u=n(r(2106));let f;class c extends a.Nep17Contract{static get INSTANCE(){return f||(f=new c),f}static getMethods(){return u.default.methods.map((t=>s.ContractMethodDefinition.fromJson(t)))}constructor(){super(i.NATIVE_CONTRACT_HASH.NeoToken,c.getMethods())}unclaimedGas(t,e){return this.call("unclaimedGas",o.ContractParam.hash160(t),o.ContractParam.integer(e))}getCandidates(){return this.call("getCandidates")}getRegisterPrice(){return this.call("getRegisterPrice")}registerCandidate(t){return this.call("registerCandidate",o.ContractParam.publicKey(t))}vote(t,e){return this.call("vote",o.ContractParam.hash160(t),o.ContractParam.publicKey(e))}}e.NeoContract=c},8212:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Nep17Contract=void 0;const i=r(897),o=r(3086),s=r(5809),a=n(r(269));class u extends s.BaseContract{static getMethods(){return a.default.methods.map((t=>o.ContractMethodDefinition.fromJson(t)))}constructor(t,e=[]){super(t,u.getMethods().concat(e))}symbol(){return this.call("symbol")}decimals(){return this.call("decimals")}balanceOf(t){return this.call("balanceOf",i.ContractParam.hash160(t))}totalSupply(){return this.call("totalSupply")}transfer(t,e,r,n){return this.call("transfer",i.ContractParam.hash160(t),i.ContractParam.hash160(e),i.ContractParam.integer(r),i.ContractParam.any(n))}}e.Nep17Contract=u},1732:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.PolicyContract=void 0;const i=r(3086),o=r(5809),s=n(r(986)),a=r(2526);let u;class f extends o.BaseContract{static get INSTANCE(){return u||(u=new f),u}static getMethods(){return s.default.methods.map((t=>i.ContractMethodDefinition.fromJson(t)))}constructor(){super(a.NATIVE_CONTRACT_HASH.PolicyContract,f.getMethods())}getFeePerByte(){return this.call("getFeePerByte")}getExecFeeFactor(){return this.call("getExecFeeFactor")}}e.PolicyContract=f},6469:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r(5809),e),i(r(8212),e),i(r(7786),e),i(r(5038),e),i(r(1732),e)},4218:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createScript=void 0;const n=r(3813);e.createScript=function(...t){const e=new n.ScriptBuilder;for(const r of t){if("string"==typeof r){e.str+=r;continue}const t=r;if(!t.scriptHash)throw new Error("No scriptHash found!");if(!t.operation)throw new Error("No operation found!");e.emitContractCall(r)}return e.build()}},3619:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.calculateExecutionFee=void 0;const n=r(2287),i=r(3858),o=r(3226),s=r(1702),a=r(2018),u=r(8344);e.calculateExecutionFee=function(t,e){const r="string"==typeof t?u.OpToken.fromScript(t):t,f="number"==typeof e?n.BigInteger.fromNumber(e):e;return r.map(((t,e)=>{if(t.code===s.OpCode.SYSCALL&&t.params&&8===t.params.length){const s=t.params;if(s===i.InteropServiceCode.SYSTEM_CRYPTO_CHECKMULTISIG){const s=function(t,e){const r=t[e-1],n=u.OpToken.parseInt(r),i=t[e-1-n-1];return u.OpToken.parseInt(i)}(r,e);return n.BigInteger.fromNumber(a.OpCodePrices[t.code]).add(n.BigInteger.fromNumber((0,o.getInteropServicePrice)(i.InteropServiceCode.SYSTEM_CRYPTO_CHECKSIG)).mul(s).mul(f))}return n.BigInteger.fromNumber(a.OpCodePrices[t.code]).add(n.BigInteger.fromNumber((0,o.getInteropServicePrice)(s))).mul(f)}if(null!==s.OpCode[t.code])return n.BigInteger.fromNumber(a.OpCodePrices[t.code]).mul(f);throw new Error(`OpCode ${t.code} not found!`)})).reduce(((t,e)=>t.add(e)),n.BigInteger.fromNumber(0))}},7885:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r(897),e),i(r(4218),e),i(r(3813),e),i(r(1702),e),i(r(2018),e),i(r(3858),e),i(r(3226),e),i(r(1079),e),i(r(773),e),i(r(8344),e),i(r(6469),e),i(r(3619),e),i(r(6208),e),i(r(495),e),i(r(9904),e),i(r(595),e),i(r(6698),e)},5839:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContractAbi=void 0;const n=r(3086),i=r(5099);class o{static fromJson(t){return new o({methods:t.methods.map((t=>n.ContractMethodDefinition.fromJson(t))),events:t.events.map((t=>i.ContractEventDefiniton.fromJson(t)))})}constructor(t){const{methods:e=[],events:r=[]}=t;this.methods=e.map((t=>new n.ContractMethodDefinition(t))),this.events=r.map((t=>new i.ContractEventDefiniton(t)))}toJson(){return{methods:this.methods.map((t=>t.toJson())),events:this.events.map((t=>t.toJson()))}}export(){return{methods:this.methods.map((t=>t.export())),events:this.events.map((t=>t.export()))}}}e.ContractAbi=o},5099:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContractEventDefiniton=void 0;const n=r(3831),i=r(897);class o{static fromJson(t){return new o({name:t.name,parameters:t.parameters.map((t=>({name:t.name,type:(0,n.parseEnum)(t.type,i.ContractParamType)})))})}constructor(t){const{name:e="",parameters:r=[]}=t;this.name=e,this.parameters=[...r]}toJson(){return{name:this.name,parameters:this.parameters.map((t=>({name:t.name,type:i.ContractParamType[t.type]})))}}export(){return{name:this.name,parameters:[...this.parameters]}}}e.ContractEventDefiniton=o},2438:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContractGroup=void 0;const n=r(2287);class i{static fromJson(t){return new i({pubKey:t.pubkey,signature:n.HexString.fromBase64(t.signature).toBigEndian()})}constructor(t){const{pubKey:e="",signature:r=""}=t;this.pubKey=e,this.signature=r}toJson(){return{pubkey:this.pubKey,signature:n.HexString.fromHex(this.signature).toBase64()}}export(){return{pubKey:this.pubKey,signature:this.signature}}}e.ContractGroup=i},7144:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContractManifest=void 0;const n=r(2438),i=r(5839),o=r(5705);class s{static fromJson(t){if(0!=Object.keys(t.features).length)throw new Error("Features is reserved for future use and must be empty");return new s({name:t.name,groups:t.groups.map((t=>n.ContractGroup.fromJson(t))),features:{},abi:i.ContractAbi.fromJson(t.abi),supportedStandards:t.supportedstandards,permissions:t.permissions,trusts:t.trusts,extra:t.extra})}constructor(t){const{name:e="",groups:r=[],features:s={},abi:a={},supportedStandards:u=[],permissions:f=[],trusts:c="*",extra:h}=t;this.name=e,this.groups=r.map((t=>new n.ContractGroup(t))),this.features=s,this.supportedStandards=u,this.abi=new i.ContractAbi(a),this.permissions=f.map((t=>new o.ContractPermission(t))),this.trusts=Array.isArray(c)?c.map((t=>o.ContractPermission.parseJsonDescriptor(t))):c,this.extra=h}toJson(){return{name:this.name,groups:this.groups.map((t=>t.toJson())),features:this.features,supportedstandards:this.supportedStandards,abi:this.abi.toJson(),permissions:this.permissions.map((t=>t.toJson())),trusts:Array.isArray(this.trusts)?this.trusts.map((t=>o.ContractPermission.toJsonDescriptor(t))):this.trusts,extra:this.extra}}export(){return{name:this.name,groups:this.groups.map((t=>t.export())),features:this.features,supportedStandards:this.supportedStandards,abi:this.abi.export(),permissions:this.permissions.map((t=>t.export())),trusts:this.trusts,extra:this.extra}}}s.MAX_LENGTH=65535,e.ContractManifest=s,e.default=s},3086:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContractMethodDefinition=void 0;const n=r(897),i=r(3831);class o{static fromJson(t){return new o({name:t.name,offset:t.offset,parameters:t.parameters.map((t=>({name:t.name,type:(0,i.parseEnum)(t.type,n.ContractParamType)}))),returnType:(0,i.parseEnum)(t.returntype,n.ContractParamType),safe:t.safe})}constructor(t){const{name:e="",offset:r=0,parameters:i=[],returnType:o=n.ContractParamType.Any,safe:s=!1}=t;this.name=e,this.offset=r,this.parameters=[...i],this.returnType=o,this.safe=s}toJson(){return{name:this.name,offset:this.offset,parameters:this.parameters.map((t=>({name:t.name,type:n.ContractParamType[t.type]}))),returntype:n.ContractParamType[this.returnType],safe:this.safe}}export(){return{name:this.name,offset:this.offset,parameters:[...this.parameters],returnType:this.returnType,safe:this.safe}}}e.ContractMethodDefinition=o},8640:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},5705:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContractPermission=void 0;class r{static parseJsonDescriptor(t){switch(!0){case 66===t.length:case 40===t.length:case"*"===t:return t;case 42===t.length&&0===t.indexOf("0x"):return t.slice(2);default:throw new Error(`This is not a ContractPermissionDescriptor: ${t}`)}}static toJsonDescriptor(t){return 40===t.length?`0x${t}`:t}fromJson(t){return new r(t)}constructor(t={}){const{contract:e="*",methods:n="*"}=t;this.contract=r.parseJsonDescriptor(e),this.methods=n}get isHash(){return 40===this.contract.length}get isGroup(){return 66===this.contract.length}get isWildcard(){return"*"===this.contract}toJson(){return{contract:r.toJsonDescriptor(this.contract),methods:this.methods}}export(){return{contract:this.contract,methods:this.methods}}}e.ContractPermission=r},773:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r(5839),e),i(r(5099),e),i(r(2438),e),i(r(7144),e),i(r(3086),e),i(r(8640),e),i(r(5705),e)},595:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},6698:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getNativeContractHash=e.isMultisigContract=e.isSignatureContract=void 0;const n=r(2287),i=r(1702),o=r(8764),s=r(3813),a=r(897),u=r(3858);e.isSignatureContract=function(t){const e=o.Buffer.from(t.toString(),"hex");return!(40!=e.length||e[0]!=i.OpCode.PUSHDATA1||33!=e[1]||e[35]!=i.OpCode.SYSCALL||e.slice(36,40).toString("hex")!=u.InteropServiceCode.SYSTEM_CRYPTO_CHECKSIG)},e.isMultisigContract=function(t){const e=o.Buffer.from(t.toString(),"hex");if(e.length<42)return!1;let r,n;if(e[0]==i.OpCode.PUSHINT8)r=e[1],n=2;else if(e[0]==i.OpCode.PUSHINT16)r=e.readUInt16LE(1),n=3;else{if(!(e[0]<=i.OpCode.PUSH1||e[0]>=i.OpCode.PUSH16))return!1;r=e[0]-i.OpCode.PUSH0,n=1}if(r<1||r>1024)return!1;let s=0;for(;e[n]==i.OpCode.PUSHDATA1;){if(e.length<=n+35)return!1;if(33!=e[n+1])return!1;n+=35,s+=1}if(s<r||s>1024)return!1;const a=e[n];if(a==i.OpCode.PUSHINT8){if(e.length<=n+1||s!=e[n+1])return!1;n+=2}else if(a==i.OpCode.PUSHINT16){if(e.length<n+3||s!=e.readUInt16LE(n+1))return!1;n+=3}else{if(!(i.OpCode.PUSH1<=a&&a<=i.OpCode.PUSH16))return!1;if(s!=a-i.OpCode.PUSH0)return!1;n+=1}return e.length==n+5&&e[n+1]==i.OpCode.SYSCALL&&(n+=2,e.slice(n,n+4).toString("hex")==u.InteropServiceCode.SYSTEM_CRYPTO_CHECKMULTISIG)},e.getNativeContractHash=function(t){const e=(new s.ScriptBuilder).emitString(t).emitSysCall(u.InteropServiceCode.SYSTEM_CONTRACT_CALLNATIVE).build(),r=(new s.ScriptBuilder).emit(i.OpCode.ABORT).emitContractParam(a.ContractParam.hash160("0".repeat(40))).emitHexString(e).build();return(0,n.reverseHex)((0,n.hash160)(r))}},686:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Signer=void 0;const n=r(3850),i=r(2287),o=r(8452);class s{static fromJson(t){return new s({account:t.account,scopes:(0,n.parse)(t.scopes),allowedContracts:t.allowedcontracts??[],allowedGroups:t.allowedgroups??[],rules:t.rules??[]})}constructor(t={}){const{account:e="",scopes:r=n.WitnessScope.None,allowedContracts:s=[],allowedGroups:a=[],rules:u=[]}=t;this.account=i.HexString.fromHex(e),this.scopes=255&("string"==typeof r?(0,n.parse)(r):r),this.allowedContracts=s.map((t=>i.HexString.fromHex(t))),this.allowedGroups=a.map((t=>i.HexString.fromHex(t))),this.rules=u.map((t=>new o.WitnessRule(t)))}get size(){return this.serialize().length/2}addAllowedContracts(...t){this.scopes&n.WitnessScope.Global||(this.scopes|=n.WitnessScope.CustomContracts,t.map((t=>i.HexString.fromHex(t))).forEach((t=>this.allowedContracts.push(t))))}addAllowedGroups(...t){this.scopes&n.WitnessScope.Global||(this.scopes|=n.WitnessScope.CustomGroups,t.map((t=>i.HexString.fromHex(t))).forEach((t=>this.allowedGroups.push(t))))}addRules(...t){if(!(this.scopes&n.WitnessScope.Global)){this.scopes|=n.WitnessScope.WitnessRules;for(const e of t)this.rules.push(e)}}static deserialize(t){const e=i.HexString.fromHex(t.read(20),!0),r=parseInt(t.read(),16),a=r&n.WitnessScope.CustomContracts?(0,i.deserializeArrayOf)((t=>i.HexString.fromHex(t.read(20),!0)),t):[],u=r&n.WitnessScope.CustomGroups?(0,i.deserializeArrayOf)((t=>i.HexString.fromHex(t.read(33))),t):[],f=r&n.WitnessScope.WitnessRules?(0,i.deserializeArrayOf)(o.WitnessRule.deserialize,t):[];return new s({account:e,scopes:r,allowedContracts:a,allowedGroups:u,rules:f})}merge(t){const e=t instanceof s?t:new s(t);if(!this.account.equals(e.account))throw new Error("Cannot merge Signers of different accounts!");if(this.scopes|=e.scopes,this.scopes&n.WitnessScope.Global)return this.scopes=n.WitnessScope.Global,this.allowedContracts=[],this.allowedGroups=[],this;if(e.allowedContracts){const t=e.allowedContracts.filter((t=>!this.allowedContracts.some((e=>e.equals(t)))));this.allowedContracts=this.allowedContracts.concat(t)}if(e.allowedGroups){const t=e.allowedGroups.filter((t=>!this.allowedGroups.some((e=>e.equals(t)))));this.allowedGroups=this.allowedGroups.concat(t)}return this}serialize(){let t="";return t+=this.account.toLittleEndian(),t+=(0,i.num2hexstring)(this.scopes,1),this.scopes&n.WitnessScope.CustomContracts&&(t+=(0,i.serializeArrayOf)(this.allowedContracts.map((t=>t.toLittleEndian())))),this.scopes&n.WitnessScope.CustomGroups&&(t+=(0,i.serializeArrayOf)(this.allowedGroups.map((t=>t.toBigEndian())))),this.scopes&n.WitnessScope.WitnessRules&&(t+=(0,i.serializeArrayOf)(this.rules)),t}export(){const t={account:this.account.toBigEndian(),scopes:this.scopes};return this.scopes&n.WitnessScope.CustomContracts&&(t.allowedContracts=[...this.allowedContracts.map((t=>t.toBigEndian()))]),this.scopes&n.WitnessScope.CustomGroups&&(t.allowedGroups=[...this.allowedGroups.map((t=>t.toBigEndian()))]),t}toJson(){const t={account:"0x"+this.account.toBigEndian(),scopes:(0,n.toString)(this.scopes)};return this.scopes&n.WitnessScope.CustomContracts&&(t.allowedcontracts=[...this.allowedContracts.map((t=>"0x"+t.toBigEndian()))]),this.scopes&n.WitnessScope.CustomGroups&&(t.allowedgroups=[...this.allowedGroups.map((t=>t.toBigEndian()))]),this.scopes&n.WitnessScope.WitnessRules&&(t.rules=[...this.rules.map((t=>t.toJson()))]),t}}e.Signer=s,e.default=s},9631:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OracleResponseAttribute=e.HighPriorityAttribute=e.TransactionAttribute=e.OracleResponseCode=e.TransactionAttributeType=void 0;const n=r(2287),i=r(3831);var o,s;!function(t){t[t.HighPriority=1]="HighPriority",t[t.OracleResponse=17]="OracleResponse"}(o=e.TransactionAttributeType||(e.TransactionAttributeType={})),function(t){t[t.Success=0]="Success",t[t.ProtocolNotSupported=16]="ProtocolNotSupported",t[t.ConsensusUnreachable=18]="ConsensusUnreachable",t[t.NotFound=20]="NotFound",t[t.Timeout=22]="Timeout",t[t.Forbidden=24]="Forbidden",t[t.ResponseTooLarge=26]="ResponseTooLarge",t[t.InsufficientFunds=28]="InsufficientFunds",t[t.ContentTypeNotSupported=31]="ContentTypeNotSupported",t[t.Error=255]="Error"}(s=e.OracleResponseCode||(e.OracleResponseCode={}));class a{get size(){return 1}static fromJson(t){const e=(0,i.parseEnum)(t.type,o);return this.getImplementation(e).fromJson(t)}static fromStream(t){return a.deserialize(t)}static deserialize(t){const e=parseInt(t.peek(1),16),r=(0,i.parseEnum)(e,o);return this.getImplementation(r).deserialize(t)}static getImplementation(t){switch(t){case o.HighPriority:return u;case o.OracleResponse:return f;default:throw new Error(`Unknown TransactionAttributeType: ${t}`)}}serialize(){return this.type.toString(16).padStart(2,"0")}}e.TransactionAttribute=a;class u extends a{get type(){return u._type}static fromJson(t){return new u}static deserialize(t){return c(t,this._type),new u}toJson(){return{type:"HighPriority"}}export(){return{type:this.type}}}u._type=o.HighPriority,e.HighPriorityAttribute=u;class f extends a{get type(){return f._type}get size(){return this.serialize().length/2}static fromJson(t){const e=(0,i.parseEnum)(t.code,s);return new f(t.id,e,t.result)}static deserialize(t){c(t,this._type);const e=parseInt(t.read(8),16),r=s[parseInt(t.read(1),16)],n=(0,i.parseEnum)(r,s),o=t.readVarInt();if(o>65535)throw new Error("Results size exceeds maximum");const a=t.read(o);return new f(e,n,a)}constructor(t,e,r){super(),this.id=t,this.code=e,this.result=r}toJson(){return{type:"OracleResponse",id:this.id,code:s[this.code],result:this.result}}serialize(){const t=(0,n.reverseHex)(this.id.toString(16).padStart(16,"0")),e=this.code.toString(16).padStart(2,"0"),r=(0,n.base642hex)(this.result.toString()),i=(0,n.num2VarInt)(r.length/2);return super.serialize()+t+e+i+r}export(){return{type:this.type,id:this.id,code:this.code,result:this.result}}}function c(t,e){const r=parseInt(t.read(1),16),n=(0,i.parseEnum)(r,o);if(n!==e)throw new Error(`Wrong TransactionAttributeType. Wanted ${o[e]} but got ${n}`)}f._type=o.OracleResponse,e.OracleResponseAttribute=f,e.default=a},2856:function(t,e,r){"use strict";var n,i=this&&this.__classPrivateFieldGet||function(t,e,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(t):n?n.value:e.get(t)},o=this&&this.__classPrivateFieldSet||function(t,e,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(t,r):i?i.value=r:e.set(t,r),r};Object.defineProperty(e,"__esModule",{value:!0}),e.Witness=void 0;const s=r(2287),a=r(5914);class u{static deserialize(t){const e=new s.StringStream(t);return this.fromStream(e)}static fromJson(t){return new u({invocationScript:s.HexString.fromBase64(t.invocation),verificationScript:s.HexString.fromBase64(t.verification)})}static fromStream(t){const e=t.readVarBytes(),r=t.readVarBytes();return new u({invocationScript:e,verificationScript:r})}static fromSignature(t,e){const r="0c40"+t,n=(0,a.getVerificationScriptFromPublicKey)(e);return new u({invocationScript:r,verificationScript:n})}static buildMultiSig(t,e,r){const n="string"==typeof r?r:s.HexString.fromBase64(r.contract.script).toBigEndian(),i=(0,a.getPublicKeysFromVerificationScript)(n),o=Array(i.length).fill("");e.forEach((e=>{if("string"==typeof e){const r=i.findIndex((r=>(0,a.verify)(t,e,r)));if(-1===r)throw new Error(`Invalid signature given: ${e}`);o[r]=e}else{if(!(e instanceof u))throw new Error("Unable to process given signature");{const t=(0,a.getPublicKeysFromVerificationScript)(e.verificationScript.toBigEndian());if(1!==t.length)throw new Error("Given witness contains more than 1 public key!");const r=i.indexOf(t[0]);o[r]=(0,a.getSignaturesFromInvocationScript)(e.invocationScript.toBigEndian())[0]}}}));const f=(0,a.getSigningThresholdFromVerificationScript)(n),c=o.filter((t=>""!==t));if(c.length<f)throw new Error(`Insufficient signatures: expected ${f} but got ${c.length} instead`);return new u({invocationScript:c.slice(0,f).map((t=>"0c40"+t)).join(""),verificationScript:n})}constructor(t={}){if(n.set(this,""),void 0===t.invocationScript||void 0===t.verificationScript)throw new Error("Witness requires invocationScript and verificationScript fields");this.invocationScript=s.HexString.fromHex(t.invocationScript),this.verificationScript=s.HexString.fromHex(t.verificationScript)}get size(){return(0,s.num2VarInt)(this.invocationScript.byteLength).length/2+(0,s.num2VarInt)(this.verificationScript.byteLength).length/2+this.verificationScript.byteLength+this.invocationScript.byteLength}get scriptHash(){if(i(this,n,"f"))return i(this,n,"f");if(this.verificationScript)return o(this,n,(0,s.reverseHex)((0,s.hash160)(this.verificationScript.toBigEndian())),"f"),i(this,n,"f");throw new Error("Unable to produce scriptHash from empty verificationScript")}serialize(){const t=(0,s.num2VarInt)(this.invocationScript.byteLength),e=(0,s.num2VarInt)(this.verificationScript.byteLength);return t+this.invocationScript.toBigEndian()+e+this.verificationScript.toBigEndian()}export(){return{invocationScript:this.invocationScript.toBigEndian(),verificationScript:this.verificationScript.toBigEndian()}}toJson(){return{invocation:this.invocationScript.toBase64(),verification:this.verificationScript.toBase64()}}equals(t){return this.invocationScript.equals(t.invocationScript??"")&&this.verificationScript.equals(t.verificationScript??"")}generateScriptHash(){o(this,n,(0,s.reverseHex)((0,s.hash160)(this.verificationScript.toBigEndian())),"f")}}e.Witness=u,n=new WeakMap,e.default=u},2667:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CalledByGroupWitnessCondition=e.CalledByContractWitnessCondition=e.CalledByEntryWitnessCondition=e.GroupWitnessCondition=e.ScriptHashWitnessCondition=e.OrWitnessCondition=e.NotWitnessCondition=e.AndWitnessCondition=e.BooleanWitnessCondition=e.WitnessCondition=e.WitnessConditionType=void 0;const n=r(3831),i=r(2287);var o;!function(t){t[t.Boolean=0]="Boolean",t[t.Not=1]="Not",t[t.And=2]="And",t[t.Or=3]="Or",t[t.ScriptHash=24]="ScriptHash",t[t.Group=25]="Group",t[t.CalledByEntry=32]="CalledByEntry",t[t.CalledByContract=40]="CalledByContract",t[t.CalledByGroup=41]="CalledByGroup"}(o=e.WitnessConditionType||(e.WitnessConditionType={}));class s{get size(){return 1}static fromJson(t){const e=(0,n.parseEnum)(t.type,o);return this.getImplementation(e).fromJson(t)}static deserialize(t){const e=parseInt(t.peek(1),16),r=(0,n.parseEnum)(e,o);return s.getImplementation(r).deserialize(t)}static getImplementation(t){switch(t){case o.And:return u;case o.Not:return f;case o.Boolean:return a;case o.Or:return c;case o.ScriptHash:return h;case o.Group:return d;case o.CalledByEntry:return l;case o.CalledByContract:return p;case o.CalledByGroup:return b;default:throw new Error(`Unknown WitnessConditionType: ${t}`)}}serialize(){return this.type.toString(16).padStart(2,"0")}}e.WitnessCondition=s;class a extends s{get type(){return a._type}static deserialize(t){g(t,this._type);const e="01"===t.read(1);return new a(e)}static fromJson(t){return new a(t.expression)}get size(){return super.size+1}constructor(t){super(),this.expression=t}serialize(){return super.serialize()+(this.expression?"01":"00")}toJson(){return{type:"Boolean",expression:this.expression}}}a._type=o.Boolean,e.BooleanWitnessCondition=a;class u extends s{get type(){return u._type}static deserialize(t){g(t,this._type);const e=(0,i.deserializeArrayOf)(s.deserialize,t);return new u(e)}static fromJson(t){return new u(t.expressions.map((t=>s.fromJson(t))))}get size(){return super.size+(0,i.getSerializedSize)(this.expressions)}constructor(t){super(),this.expressions=t}serialize(){return super.serialize()+(0,i.serializeArrayOf)(this.expressions)}toJson(){return{type:"And",expressions:this.expressions.map((t=>t.toJson()))}}}u._type=o.And,e.AndWitnessCondition=u;class f extends s{get type(){return f._type}static deserialize(t){g(t,this._type);const e=s.deserialize(t);return new f(e)}static fromJson(t){return new f(s.fromJson(t.expression))}get size(){return super.size+this.expression.size}constructor(t){super(),this.expression=t}serialize(){return super.serialize()+this.expression.serialize()}toJson(){return{type:"Not",expression:this.expression.toJson()}}}f._type=o.Not,e.NotWitnessCondition=f;class c extends s{get type(){return c._type}static deserialize(t){g(t,this._type);const e=(0,i.deserializeArrayOf)(s.deserialize,t);return new c(e)}static fromJson(t){return new c(t.expressions.map((t=>s.fromJson(t))))}get size(){return super.size+(0,i.getSerializedSize)(this.expressions)}constructor(t){super(),this.expressions=t}serialize(){return super.serialize()+(0,i.serializeArrayOf)(this.expressions)}toJson(){return{type:"Or",expressions:this.expressions.map((t=>t.toJson()))}}}c._type=o.Or,e.OrWitnessCondition=c;class h extends s{get type(){return h._type}static deserialize(t){g(t,this._type);const e=i.HexString.fromHex(t.read(20),!0);return new h(e)}static fromJson(t){return new h(t.hash)}get size(){return super.size+20}constructor(t){if(super(),this.hash=i.HexString.fromHex(t),40!==this.hash.length)throw new Error(`ScriptHashWitnessCondition only accepts a scripthash of 20 bytes but got ${this.hash.toString()}`)}serialize(){return super.serialize()+this.hash.toLittleEndian()}toJson(){return{type:"ScriptHash",hash:this.hash.toString()}}}h._type=o.ScriptHash,e.ScriptHashWitnessCondition=h;class d extends s{get type(){return d._type}static deserialize(t){g(t,this._type);const e=t.read(33);return new d(e)}static fromJson(t){return new d(t.group)}get size(){return super.size+33}constructor(t){if(super(),this.group=i.HexString.fromHex(t),66!==this.group.length)throw new Error(`GroupWitnessCondition only accepts a encoded public key of 33 bytes but got ${this.group.toString()}`)}serialize(){return super.serialize()+this.group.toString()}toJson(){return{type:"Group",group:this.group.toString()}}}d._type=o.Group,e.GroupWitnessCondition=d;class l extends s{get type(){return l._type}static deserialize(t){return g(t,this._type),new l}static fromJson(t){return new l}get size(){return super.size}constructor(){super()}serialize(){return super.serialize()}toJson(){return{type:"CalledByEntry"}}}l._type=o.CalledByEntry,e.CalledByEntryWitnessCondition=l;class p extends s{get type(){return p._type}static deserialize(t){g(t,this._type);const e=i.HexString.fromHex(t.read(20),!0);return new p(e)}static fromJson(t){return new p(t.hash)}get size(){return super.size+20}constructor(t){if(super(),this.hash=i.HexString.fromHex(t),40!==this.hash.length)throw new Error(`CalledByContractWitnessCondition only accepts a scripthash of 20 bytes but got ${this.hash.toString()}`)}serialize(){return super.serialize()+this.hash.toLittleEndian()}toJson(){return{type:"CalledByContract",hash:"0x"+this.hash.toString()}}}p._type=o.CalledByContract,e.CalledByContractWitnessCondition=p;class b extends s{get type(){return b._type}static deserialize(t){g(t,this._type);const e=t.read(33);return new b(e)}static fromJson(t){return new b(t.group)}get size(){return super.size+33}constructor(t){if(super(),this.group=i.HexString.fromHex(t),66!==this.group.length)throw new Error(`CalledByGroupWitnessCondition only accepts a encoded public key of 33 bytes but got ${this.group.toString()}`)}serialize(){return super.serialize()+this.group.toString()}toJson(){return{type:"CalledByGroup",group:this.group.toString()}}}function g(t,e){const r=parseInt(t.read(1),16),i=(0,n.parseEnum)(r,o);if(i!==e)throw new Error(`Wrong WitnessConditionType. Wanted ${o[e]} but got ${i}`)}b._type=o.CalledByGroup,e.CalledByGroupWitnessCondition=b},8452:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WitnessRule=e.WitnessRuleAction=void 0;const n=r(3831),i=r(2667);var o;!function(t){t[t.Deny=0]="Deny",t[t.Allow=1]="Allow"}(o=e.WitnessRuleAction||(e.WitnessRuleAction={}));class s{get size(){return 1+this.condition.size}static deserialize(t){const e=(0,n.parseEnum)(parseInt(t.read(1),16),o),r=i.WitnessCondition.deserialize(t);return new s({action:e,condition:r})}static fromJson(t){return new s(t)}constructor(t={}){this.action=void 0!==t.action?(0,n.parseEnum)(t.action,o):o.Deny,this.condition=void 0!==t.condition?t.condition instanceof i.WitnessCondition?t.condition:i.WitnessCondition.fromJson(t.condition):new i.CalledByEntryWitnessCondition}serialize(){return this.action.toString(16).padStart(2,"0")+this.condition.serialize()}toJson(){return{action:o[this.action],condition:this.condition.toJson()}}}e.WitnessRule=s},3850:(t,e)=>{"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.toString=e.parse=e.WitnessScope=void 0,function(t){t[t.None=0]="None",t[t.CalledByEntry=1]="CalledByEntry",t[t.CustomContracts=16]="CustomContracts",t[t.CustomGroups=32]="CustomGroups",t[t.WitnessRules=64]="WitnessRules",t[t.Global=128]="Global"}(r=e.WitnessScope||(e.WitnessScope={})),e.parse=function(t){return t.split(/\,/g).reduce(((t,e)=>t|r[e.trim()]),r.None)},e.toString=function(t){return t===r.None?"None":Object.values(r).filter((t=>"number"==typeof t)).filter((e=>t&e)).map((t=>r[t])).join(",")}},6395:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r(9631),e),i(r(2856),e),i(r(686),e),i(r(3850),e),i(r(8452),e),i(r(2667),e)},9416:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r(6395),e),i(r(9397),e)},3166:function(t,e,r){"use strict";var n,i=this&&this.__classPrivateFieldSet||function(t,e,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(t,r):i?i.value=r:e.set(t,r),r},o=this&&this.__classPrivateFieldGet||function(t,e,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(t):n?n.value:e.get(t)},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Transaction=void 0;const a=r(2526),u=s(r(7710)),f=r(2287),c=r(5914),h=r(6395),d=r(2010),l=(0,u.default)("tx");class p{get sender(){return this.signers&&this.signers.length>0?this.signers[0].account:f.HexString.fromHex("")}static fromJson(t){const e=new p({version:t.version,nonce:t.nonce,systemFee:f.BigInteger.fromDecimal(t.sysfee,0),networkFee:f.BigInteger.fromDecimal(t.netfee,0),validUntilBlock:t.validuntilblock,attributes:t.attributes.map((t=>h.TransactionAttribute.fromJson(t))),signers:t.signers.map((t=>h.Signer.fromJson(t))),script:f.HexString.fromBase64(t.script),witnesses:t.witnesses.map((t=>h.Witness.fromJson(t)))});return t.sender&&i(e,n,new c.Account(t.sender).addressVersion,"f"),e}constructor(t={}){n.set(this,null);const{version:e,nonce:r,systemFee:i,networkFee:o,validUntilBlock:s,signers:u=[],witnesses:c,script:d}=t;this.version=e??a.TX_VERSION,this.nonce=r??parseInt((0,f.ab2hexstring)((0,f.generateRandomArray)(4)),16),this.validUntilBlock=s??0,this.attributes=[],this.signers=[],this.witnesses=[],u.forEach((t=>this.addSigner(t))),this.witnesses=Array.isArray(c)?c.map((t=>new h.Witness(t))):[],this.systemFee=i instanceof f.BigInteger?i:f.BigInteger.fromNumber(i??0),this.networkFee=o instanceof f.BigInteger?o:f.BigInteger.fromNumber(o??0),this.script=f.HexString.fromHex(d??"")}get[(n=new WeakMap,Symbol.toStringTag)](){return"Transaction"}hash(){return(0,f.reverseHex)((0,f.sha256)(this.serialize(!1)))}get size(){return this.headerSize+(0,f.num2VarInt)(this.attributes.length).length/2+this.attributes.reduce(((t,e)=>t+e.size),0)+(0,f.num2VarInt)(this.signers.length).length/2+this.signers.reduce(((t,e)=>t+e.size),0)+(0,f.num2VarInt)(this.script.byteLength).length/2+this.script.byteLength+(0,f.num2VarInt)(this.witnesses.length).length/2+this.witnesses.reduce(((t,e)=>t+e.size),0)}get fees(){return this.systemFee.add(this.networkFee).toString()}get headerSize(){return 25}static deserialize(t){const e=new f.StringStream(t);let r=(0,d.deserializeVersion)(e);return r=(0,d.deserializeNonce)(e,r),r=(0,d.deserializeFee)(e,r),r=(0,d.deserializeValidUntilBlock)(e,r),r=(0,d.deserializeSigners)(e,r),r=(0,d.deserializeAttributes)(e,r),r=(0,d.deserializeScript)(e,r),e.isEmpty()||(r=(0,d.deserializeWitnesses)(e,r)),new p(r)}addSigner(t){const e=this.signers.map((t=>t.account)),r=f.HexString.fromHex(t.account);if(e.find((t=>t.equals(r))))throw new Error(`Cannot add duplicate cosigner: ${t.account}`);return this.signers.push(new h.Signer(t)),this.orderWitnesses(),this}addWitness(t){const e=new h.Witness(t),r=this.witnesses.find((t=>t.verificationScript.equals(e.verificationScript)));return r&&0!==e.invocationScript.byteLength?(r.invocationScript=e.invocationScript,this):(this.witnesses.push(e),this.orderWitnesses(),this)}orderWitnesses(){return this.signers.forEach(((t,e)=>{const r=t.account.toBigEndian(),n=this.witnesses.findIndex((t=>t.scriptHash===r));if(-1!==n){const t=this.witnesses.splice(n,1)[0];this.witnesses.splice(e,0,t)}})),this}serialize(t=!0){if(0!==this.version)throw new Error("Version must be 0");let e="";return e+=(0,f.num2hexstring)(this.version),e+=(0,f.num2hexstring)(this.nonce,4,!0),e+=this.systemFee.toReverseHex().padEnd(16,"0"),e+=this.networkFee.toReverseHex().padEnd(16,"0"),e+=(0,f.num2hexstring)(this.validUntilBlock,4,!0),e+=(0,f.serializeArrayOf)(this.signers),e+=(0,f.serializeArrayOf)(this.attributes),e+=(0,f.num2VarInt)(this.script.byteLength),e+=this.script.toString(),t&&(e+=(0,f.serializeArrayOf)(this.witnesses)),e}sign(t,e=a.MAGIC_NUMBER.MainNet,r){"string"==typeof t&&(t=new c.Account(t));const n=(0,c.sign)((0,f.num2hexstring)(e,4,!0)+(0,f.reverseHex)(this.hash()),t.privateKey,r);return l.info(`Signed Transaction with Account: ${t.label}`),this.addWitness(h.Witness.fromSignature(n,t.publicKey)),this}getMessageForSigning(t){return(0,f.num2hexstring)(t,4,!0)+(0,f.reverseHex)(this.hash())}equals(t){return t instanceof p?this.hash()===t.hash():this.hash()===new p(t).hash()}export(){return{version:this.version,nonce:this.nonce,systemFee:this.systemFee.toString(),networkFee:this.networkFee.toString(),validUntilBlock:this.validUntilBlock,attributes:this.attributes.map((t=>t.export())),signers:this.signers.map((t=>t.export())),witnesses:this.witnesses.map((t=>t.export())),script:this.script.toBigEndian()}}toJson(){return{size:this.size,version:this.version,nonce:this.nonce,sender:0===this.sender.byteLength||null===o(this,n,"f")?"":(0,c.getAddressFromScriptHash)(this.sender.toBigEndian(),o(this,n,"f")),sysfee:this.systemFee.toDecimal(0),netfee:this.networkFee.toDecimal(0),validuntilblock:this.validUntilBlock,attributes:this.attributes.map((t=>t.toJson())),signers:this.signers.map((t=>t.toJson())),script:this.script.toBase64(),witnesses:this.witnesses.map((t=>t.toJson()))}}getScriptHashesForVerifying(){return this.signers.map((t=>t.account.toBigEndian()))}}p.MAX_TRANSACTION_LIFESPAN=5760,e.Transaction=p,e.default=p},9397:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r(3166),e)},2010:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.deserializeSigners=e.formatSender=e.deserializeWitnesses=e.deserializeAttributes=e.deserializeValidUntilBlock=e.deserializeFee=e.deserializeScript=e.deserializeNonce=e.deserializeVersion=void 0;const i=r(2287),o=r(6395),s=r(5914),a=(0,n(r(7710)).default)("tx");e.deserializeVersion=function(t,e={}){const r=t.read(),n=parseInt(r,16);return 0!==n&&a.error(`Transaction version should be 0 not ${n}`),Object.assign(e,{version:n})},e.deserializeNonce=function(t,e={}){const r=parseInt((0,i.reverseHex)(t.read(4)),16);return Object.assign(e,{nonce:r})},e.deserializeScript=function(t,e={}){const r=t.readVarBytes();return 0===r.length&&a.error("Script should not be vacant."),Object.assign(e,{script:r})},e.deserializeFee=function(t,e={}){const r=i.BigInteger.fromTwos(t.read(8),!0),n=i.BigInteger.fromTwos(t.read(8),!0);return Object.assign(e,{systemFee:r,networkFee:n})},e.deserializeValidUntilBlock=function(t,e){const r=parseInt((0,i.reverseHex)(t.read(4)),16);return Object.assign(e,{validUntilBlock:r})},e.deserializeAttributes=function(t,e){const r=(0,i.deserializeArrayOf)(o.TransactionAttribute.fromStream,t).map((t=>t.export()));return Object.assign(e,{attributes:r})},e.deserializeWitnesses=function(t,e){const r=(0,i.deserializeArrayOf)(o.Witness.fromStream,t).map((t=>t.export()));return Object.assign(e,{witnesses:r})},e.formatSender=function(t){if(!t)return"";if(42===t.length&&t.startsWith("0x")){const e=t.slice(2);return(0,i.ensureHex)(e),e}if(40===t.length)return(0,i.ensureHex)(t),t;if(34===t.length)return(0,s.getScriptHashFromAddress)(t);throw new Error(`Sender format error: ${t}`)},e.deserializeSigners=function(t,e){const r=(0,i.deserializeArrayOf)(o.Signer.deserialize,t);return r.every((t=>r.indexOf(t)===r.lastIndexOf(t)))||a.warn("Signer should not duplicate."),Object.assign(e,{signers:r})}},5909:function(t,e,r){"use strict";var n,i=this&&this.__classPrivateFieldSet||function(t,e,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(t,r):i?i.value=r:e.set(t,r),r},o=this&&this.__classPrivateFieldGet||function(t,e,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(t):n?n.value:e.get(t)},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.BigInteger=void 0;const a=r(4626),u=s(r(2197)),f=r(7761);class c{static fromTwos(t,e=!1){const r=t instanceof f.HexString?t:f.HexString.fromHex(t,e);return new c(new u.default(r.toBigEndian(),16).fromTwos(8*r.byteLength))}static fromHex(t,e=!1){const r=t instanceof f.HexString?t:f.HexString.fromHex(t,e);return new c(new u.default(r.toBigEndian(),16))}static fromNumber(t){switch(typeof t){case"string":if(-1!==t.indexOf("."))throw new Error(`BigInteger only accepts integers. Got ${t}`);return new c(new u.default(t));case"number":if(t%1!=0)throw new Error(`BigInteger only accepts integers. Got ${t}`);return new c(new u.default(t.toString(16),16));default:throw new Error(`Input was not stringified number or number: ${typeof t} ${t}`)}}static fromDecimal(t,e){const r=("number"==typeof t?t.toFixed(e):t).split(".",2),n=r[0],i=2===r.length?r[1]:"";if(i.length>e)throw new Error(`Input had more decimal places than provided. Got ${i} but only got ${e} decimal places.`);const o=n+i+"0".repeat(e-i.length);return c.fromNumber(o)}constructor(t){n.set(this,void 0),i(this,n,t,"f")}toHex(){const t=o(this,n,"f").toString(16);return t.length%2!=0?"0"+t:t}toReverseHex(){return(0,a.reverseHex)(this.toHex())}toTwos(){const t=function(t){let e=t.byteLength();if(0===e)return 0;for(;e<=32;){if(h.length<e){d();continue}if(l(t,h[e-1]))return e;e++}throw new Error("Number too large to convert!")}(o(this,n,"f")),e=o(this,n,"f").toTwos(8*t).toString(16,2*t);return e.length%2!=0?"0"+e:e}toReverseTwos(){return(0,a.reverseHex)(this.toTwos())}toString(){return o(this,n,"f").toString()}toDecimal(t){if(0===t)return o(this,n,"f").toString();const e=o(this,n,"f").isNeg()?"-":"",r=o(this,n,"f").abs().toString(10);if(r.length<=t)return e+"0."+r.padStart(t,"0");const i=r.slice(0,r.length-t);return e+i+"."+r.slice(i.length)}add(t){const e=t instanceof c?t:c.fromNumber(t);return new c(o(this,n,"f").add(o(e,n,"f")))}sub(t){const e=t instanceof c?t:c.fromNumber(t);return new c(o(this,n,"f").sub(o(e,n,"f")))}mul(t){const e=t instanceof c?t:c.fromNumber(t);return new c(o(this,n,"f").mul(o(e,n,"f")))}div(t){const e=t instanceof c?t:c.fromNumber(t);return new c(o(this,n,"f").div(o(e,n,"f")))}mod(t){const e=t instanceof c?t:c.fromNumber(t);return new c(o(this,n,"f").mod(o(e,n,"f")))}compare(t){const e=t instanceof c?t:c.fromNumber(t);return o(this,n,"f").cmp(o(e,n,"f"))}equals(t){return 0===this.compare(t)}}e.BigInteger=c,n=new WeakMap;const h=[[new u.default(-128),new u.default(127)],[new u.default(-32768),new u.default(32767)],[new u.default(-8388608),new u.default(8388607)]];function d(){const t=h.length+1,e=new u.default(8*t-1);h.push([new u.default(2).pow(e).neg(),new u.default(2).pow(e).isubn(1)])}function l(t,e){return t.gte(e[0])&&t.lte(e[1])}},7761:function(t,e,r){"use strict";var n,i=this&&this.__classPrivateFieldGet||function(t,e,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(t):n?n.value:e.get(t)},o=this&&this.__classPrivateFieldSet||function(t,e,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(t,r):i?i.value=r:e.set(t,r),r};Object.defineProperty(e,"__esModule",{value:!0}),e.HexString=void 0;const s=r(4626),a=r(6597),u=r(2111);class f{get length(){return i(this,n,"f").length}get byteLength(){return i(this,n,"f").length/2}assert(t){(0,s.ensureHex)(t)}constructor(t,e=!1){n.set(this,void 0),t.startsWith("0x")&&(t=t.slice(2)),this.assert(t),o(this,n,e?(0,s.reverseHex)(t):t,"f")}toString(){return i(this,n,"f")}toBigEndian(){return i(this,n,"f")}toLittleEndian(){return(0,s.reverseHex)(i(this,n,"f"))}reversed(){return new f((0,s.reverseHex)(i(this,n,"f")))}equals(t){return"string"==typeof t?this.toBigEndian()===f.fromHex(t).toBigEndian():this.toBigEndian()===t.toBigEndian()}xor(t){return f.fromHex((0,a.hexXor)(this.toBigEndian(),t.toBigEndian()))}toAscii(){return(0,u.hexstring2str)(this.toBigEndian())}toNumber(t=!1){return parseInt(t?this.toLittleEndian():this.toBigEndian(),16)}toArrayBuffer(t=!1){return(0,u.hexstring2ab)(t?this.toLittleEndian():this.toBigEndian())}toBase64(t=!1){return(0,s.hex2base64)(t?this.toLittleEndian():this.toBigEndian())}static fromHex(t,e=!1){return"object"==typeof t&&t instanceof f?new f(t.toBigEndian()):new f(t,e)}static fromAscii(t){const e=(0,u.str2hexstring)(t);return new f(e)}static fromNumber(t){const e=t.toString(16);return e.length%2!=0?new f("0"+e):new f(e)}static fromArrayBuffer(t,e=!1){return new f((0,u.ab2hexstring)(t),e)}static fromBase64(t,e=!1){return new f((0,s.base642hex)(t),e)}}e.HexString=f,n=new WeakMap},5741:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringStream=void 0;const n=r(4626);class i{constructor(t=""){this.str=t,this.pter=0}isEmpty(){return this.pter>=this.str.length}peek(t=1){return this.isEmpty()?"":this.str.substr(this.pter,2*t)}read(t=1){if(0===t)return"";if(this.isEmpty())throw new Error("Reached the end of the stream!");const e=this.str.substr(this.pter,2*t);return this.pter+=2*t,e}readVarBytes(){return this.read(this.readVarInt())}readVarInt(){let t=parseInt(this.read(1),16);return 253===t?t=parseInt((0,n.reverseHex)(this.read(2)),16):254===t?t=parseInt((0,n.reverseHex)(this.read(4)),16):255===t&&(t=parseInt((0,n.reverseHex)(this.read(8)),16)),t}reset(){this.pter=0}context(){const t=this.pter>10?this.str.slice(this.pter-10,this.pter):this.str.slice(0,this.pter),e=this.read(1),r=this.peek(5);return this.pter-=2,`${t}|${e}|${r}`}}e.StringStream=i,e.default=i},6657:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.base642utf8=e.utf82base64=e.base642hex=e.hex2base64=void 0;const n=r(6023);e.hex2base64=function(t){return n.enc.Base64.stringify(n.enc.Hex.parse(t))},e.base642hex=function(t){return n.enc.Base64.parse(t).toString(n.enc.Hex)},e.utf82base64=function(t){return n.enc.Utf8.stringify(n.enc.Base64.parse(t))},e.base642utf8=function(t){return n.enc.Base64.parse(t).toString(n.enc.Utf8)}},3055:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.getCurve=e.EllipticCurvePreset=e.EllipticCurve=void 0;const i=r(7554),o=n(r(2197)),s=r(8764);class a{constructor(t){this.curve=new i.ec(t)}sign(t,e,r){if(void 0!==r){const n="number"==typeof r?new o.default(r):new o.default(r,"hex","be");if(n.cmpn(0)<=0)throw new Error("k must be a positive number");if(this.curve.n&&n.cmp(this.curve.n)>=0)throw new Error(`k must be smaller than ${this.curve.n.toString(10)}`);const i=this.curve.sign(s.Buffer.from(t,"hex"),s.Buffer.from(e,"hex"),{k:t=>new o.default(n).divn(t+1)});return{r:i.r.toString("hex",32),s:i.s.toString("hex",32)}}const n=this.curve.sign(s.Buffer.from(t,"hex"),s.Buffer.from(e,"hex"));return{r:n.r.toString("hex",32),s:n.s.toString("hex",32)}}verify(t,e,r){return this.curve.verify(t,{r:new o.default(e.r,16,"be"),s:new o.default(e.s,16,"be")},s.Buffer.from(r,"hex"),"hex")}getPublicKey(t,e=!0){const r=s.Buffer.from(t,"hex");return this.curve.keyFromPrivate(r,"hex").getPublic().encode("hex",e)}decodePublicKey(t){const e=s.Buffer.from(t,"hex");return this.curve.keyFromPublic(e,"hex").getPublic().encode("hex",!1)}}var u;e.EllipticCurve=a,function(t){t[t.SECP256R1=0]="SECP256R1",t[t.SECP256K1=1]="SECP256K1"}(u=e.EllipticCurvePreset||(e.EllipticCurvePreset={}));const f={[u.SECP256R1]:new a("p256"),[u.SECP256K1]:new a("secp256k1")};e.getCurve=function(t){return f[t]}},5487:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.hash256=e.hash160=e.ripemd160=e.sha256=void 0;const i=n(r(7736)),o=n(r(5293)),s=n(r(1093));function a(t,e){return e(i.default.parse(t)).toString(i.default)}function u(t){return a(t,s.default)}function f(t){return a(t,o.default)}e.sha256=u,e.ripemd160=f,e.hash160=function(t){return f(u(t))},e.hash256=function(t){const e=u(t);return u(e)}},5852:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.reverseHex=e.ensureHex=e.remove0xPrefix=e.isHex=void 0;const r=/^([0-9A-Fa-f]{2})*$/;function n(t){try{return r.test(t)}catch(t){return!1}}function i(t){if(!n(t))throw new Error(`Expected a hexstring but got ${t}`)}e.isHex=n,e.remove0xPrefix=function(t){return t.startsWith("0x")&&(t=t.substring(2)),t},e.ensureHex=i,e.reverseHex=function(t){i(t);let e="";for(let r=t.length-2;r>=0;r-=2)e+=t.substr(r,2);return e}},4626:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r(3055),e),i(r(5487),e),i(r(6511),e),i(r(5852),e),i(r(6657),e)},6511:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateRandomArray=void 0;const n=r(6023);e.generateRandomArray=t=>{const e=t%4==0?t:t+t%4;return(n.lib.WordArray.random(e).toString().substr(0,2*t).match(/.{1,2}/g)||[]).map((t=>parseInt(t,16)))}},2111:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.num2VarInt=e.num2hexstring=e.int2hex=e.hexstring2str=e.str2hexstring=e.ab2hexstring=e.hexstring2ab=e.str2ab=e.ab2str=void 0;const n=r(4626);function i(t){return String.fromCharCode.apply(null,Array.from(new Uint8Array(t)))}function o(t){if("string"!=typeof t)throw new Error(`str2ab expected a string but got ${typeof t} instead.`);const e=new Uint8Array(t.length);for(let r=0,n=t.length;r<n;r++)e[r]=t.charCodeAt(r);return e}function s(t){if((0,n.ensureHex)(t),!t.length)return new Uint8Array(0);const e=t.length/2,r=new Uint8Array(e);for(let n=0;n<e;n++)r[n]=parseInt(t.substring(0,2),16),t=t.substring(2);return r}function a(t){if("object"!=typeof t)throw new Error(`ab2hexstring expects an array. Input was ${t}`);let e="";const r=new Uint8Array(t);for(const t of r){let r=t.toString(16);r=0===r.length?"00":1===r.length?"0"+r:r,e+=r}return e}function u(t,e=1,r=!1){if("number"!=typeof t)throw new Error(`num2hexstring expected a number but got ${typeof t} instead.`);if(t<0)throw new RangeError(`num2hexstring expected a positive integer but got ${t} instead.`);if(e%1!=0)throw new Error(`num2hexstring expected a positive integer but got ${t} instead.`);if(!Number.isSafeInteger(t))throw new RangeError(`num2hexstring expected a safe integer but got ${t} instead.`);e*=2;let i=t.toString(16);return i=i.length%e==0?i:("0".repeat(e)+i).substring(i.length),r&&(i=(0,n.reverseHex)(i)),i}e.ab2str=i,e.str2ab=o,e.hexstring2ab=s,e.ab2hexstring=a,e.str2hexstring=function(t){return a(o(t))},e.hexstring2str=function(t){return i(s(t))},e.int2hex=function(t){if("number"!=typeof t)throw new Error(`int2hex expected a number but got ${typeof t} instead.`);const e=t.toString(16);return e.length%2?"0"+e:e},e.num2hexstring=u,e.num2VarInt=function(t){return t<253?u(t):t<=65535?"fd"+u(t,2,!0):t<=4294967295?"fe"+u(t,4,!0):"ff"+u(t,8,!0)}},2287:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r(4626),e),i(r(6597),e),i(r(2111),e),i(r(5741),e),i(r(7761),e),i(r(5909),e),i(r(3228),e)},6597:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.reverseArray=e.hexXor=void 0;const n=r(2111),i=r(4626);e.hexXor=function(t,e){if((0,i.ensureHex)(t),(0,i.ensureHex)(e),t.length!==e.length)throw new Error(`strings are disparate lengths. Inputs are of length ${t.length} and ${e.length}`);const r=[];for(let n=0;n<t.length;n+=2)r.push(parseInt(t.substr(n,2),16)^parseInt(e.substr(n,2),16));return(0,n.ab2hexstring)(r)},e.reverseArray=function(t){if("object"!=typeof t||!t.length)throw new Error("reverseArray expects an array");const e=new Array(t.length);for(let r=0;r<t.length;r++)e[r]=t[t.length-1-r];return e}},3228:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.serializeArrayOf=e.deserializeArrayOf=e.getSerializedSize=void 0;const n=r(2111),i=r(7761);e.getSerializedSize=function t(e){switch(typeof e){case"number":return e<253?1:e<=65535?3:5;case"object":if(e instanceof i.HexString){const r=e.byteLength;return t(r)+r}if(Array.isArray(e)){let r=0;return e.length>0&&"number"==typeof e[0].size&&"function"==typeof e[0].serialize&&(r=e.map((t=>t.size)).reduce(((t,e)=>t+e),0)),t(e.length)+r}default:throw new Error("Unsupported value type: "+typeof e)}},e.deserializeArrayOf=function(t,e){const r=[],n=e.readVarInt();for(let i=0;i<n;i++)r.push(t(e));return r},e.serializeArrayOf=function(t){return(0,n.num2VarInt)(t.length)+t.map((t=>"string"==typeof t?t:t.serialize())).join("")}},9533:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return i(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Account=void 0;const a=r(2526),u=s(r(7710)),f=r(2287),c=r(7885),h=o(r(8302)),d=r(8630),l=r(9089),p=r(4147),b=(0,u.default)("wallet");class g{static createMultiSig(t,e){const r=(0,d.constructMultiSigVerificationScript)(t,e);return new g({contract:{script:f.HexString.fromHex(r).toBase64(),parameters:Array(t).map(((t,e)=>({name:`signature${e}`,type:"Signature"}))),deployed:!1}})}constructor(t="",e={addressVersion:0}){if(this.addressVersion=a.DEFAULT_ADDRESS_VERSION,this.label="",this.isDefault=!1,this.lock=!1,this.contract=Object.assign({},a.DEFAULT_ACCOUNT_CONTRACT),e&&e.addressVersion>0&&(this.addressVersion=e.addressVersion),t)if("object"==typeof t)this._encrypted=t.key,this._address=t.address,this.label=t.label??"",this.isDefault=t.isDefault??!1,this.lock=t.lock??!1,this.contract=t.contract??Object.assign({},a.DEFAULT_ACCOUNT_CONTRACT);else if((0,p.isPrivateKey)(t))this._privateKey=t;else if((0,p.isPublicKey)(t,!1))this._publicKey=h.getPublicKeyEncoded(t);else if((0,p.isPublicKey)(t,!0))this._publicKey=t;else if((0,p.isScriptHash)(t))this._scriptHash=(0,f.remove0xPrefix)(t);else if((0,p.isAddress)(t)){this._address=t;const r=h.getAddressVersion(t);if(e.addressVersion>0&&e.addressVersion!==r)throw new Error(`Uncompatible address versions! Address ${t} uses version ${r} but config declares version ${e.addressVersion}`)}else if((0,p.isWIF)(t))this._privateKey=h.getPrivateKeyFromWIF(t),this._WIF=t;else{if(!(0,p.isNEP2)(t))throw new ReferenceError(`Invalid input: ${t}`);this._encrypted=t}else this._privateKey=h.generatePrivateKey();if(this._updateContractScript(),!this.label)try{this.label=this.address}catch(t){this.label=""}}get[Symbol.toStringTag](){return"Account"}get isMultiSig(){return(0,c.isMultisigContract)(f.HexString.fromBase64(this.contract?.script))}get encrypted(){if(this._encrypted)return this._encrypted;throw new Error("No encrypted key found")}get WIF(){return this._WIF||(this._WIF=h.getWIFFromPrivateKey(this.privateKey)),this._WIF}get privateKey(){if(this._privateKey)return this._privateKey;if(this._WIF)return this._privateKey=h.getPrivateKeyFromWIF(this._WIF),this._privateKey;throw this._encrypted?new ReferenceError("Private Key encrypted!"):new ReferenceError("No Private Key provided!")}get publicKey(){if(this._publicKey)return this._publicKey;if(this.contract?.script)try{const t=f.HexString.fromBase64(this.contract.script).toBigEndian();return this._publicKey=h.getPublicKeyFromVerificationScript(t),this._publicKey}catch{}return this._publicKey=h.getPublicKeyFromPrivateKey(this.privateKey),this._publicKey}getPublicKey(t=!0){return t?this.publicKey:h.getPublicKeyUnencoded(this.publicKey)}get scriptHash(){return this._scriptHash?this._scriptHash:this._address?(this._scriptHash=h.getScriptHashFromAddress(this.address),this._scriptHash):this.contract.script?(this._scriptHash=this._getScriptHashFromVerificationScript(),this._scriptHash):(this._scriptHash=h.getScriptHashFromPublicKey(this.publicKey),this._scriptHash)}get address(){return this._address||(this._address=h.getAddressFromScriptHash(this.scriptHash,this.addressVersion)),this._address}tryGet(t){switch(t){case"encrypted":return this._encrypted??"";case"WIF":return this._WIF??"";case"privateKey":return this._privateKey??"";case"publicKey":return this._publicKey??"";case"scriptHash":return this._scriptHash??"";case"address":return this._address??""}}async encrypt(t,e=a.DEFAULT_SCRYPT){return this._encrypted=await(0,l.encrypt)(this.privateKey,t,e),this}async decrypt(t,e=a.DEFAULT_SCRYPT){return this._WIF=await(0,l.decrypt)(this.encrypted,t,e),this._updateContractScript(),this}export(){if(this._privateKey&&!this._encrypted)throw new Error("Encrypt private key first!");const t=this._encrypted??"";return{address:this.address,label:this.label,isDefault:this.isDefault,lock:this.lock,key:t,contract:this.contract}}equals(t){return this.address===t.address}_updateContractScript(){try{if(""===this.contract.script){const t=this.publicKey;this.contract.script=f.HexString.fromHex(h.getVerificationScriptFromPublicKey(t)).toBase64(),this._scriptHash=this._getScriptHashFromVerificationScript(),b.debug(`Updated ContractScript for Account: ${this.address}`)}}catch(t){return}}_getScriptHashFromVerificationScript(){const t=f.HexString.fromBase64(this.contract.script).toBigEndian();return(0,f.reverseHex)((0,f.hash160)(t))}}e.Account=g,e.default=g},8726:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Wallet=void 0;const i=r(2526),o=n(r(7710)),s=r(9533),a=(0,o.default)("wallet");class u{constructor(t=i.DEFAULT_WALLET){if(this.name=t.name??"myWallet",this.version=t.version??i.DEFAULT_WALLET.version,this.scrypt=Object.assign({},i.DEFAULT_SCRYPT,t.scrypt),this.accounts=[],t.accounts)for(const e of t.accounts)this.addAccount(e);a.info(`New Wallet created: ${this.name}`)}get[Symbol.toStringTag](){return"Wallet"}get defaultAccount(){if(0===this.accounts.length)throw new Error("No accounts available in this Wallet!");for(const t of this.accounts)if(t.isDefault)return t;for(const t of this.accounts)if(t.tryGet("privateKey")||t.tryGet("WIF"))return t;for(const t of this.accounts)if(t.encrypted)return t;return this.accounts[0]}addAccount(t){const e=this.accounts.length;t instanceof s.Account||(t=new s.Account(t)),0===e&&(t.isDefault=!0),this.accounts.push(t);try{const e=t.address;a.info(`Added Account: ${e} to Wallet ${this.name}`)}catch(t){a.warn(`Encrypted account added to Wallet ${this.name}. You will not be able to export this wallet without first decrypting this account`)}return e}async decrypt(t,e){if(t<0)throw new Error(`Index cannot be negative! index: ${t}`);if(t>=this.accounts.length)throw new Error(`Index cannot larger than Accounts array! index: ${t}`);return await this.accounts[t].decrypt(e,this.scrypt),!0}decryptAll(t){return Promise.all(this.accounts.map(((e,r)=>this.decrypt(r,t))))}async encrypt(t,e){if(t<0)throw new Error("Index cannot be negative!");if(t>=this.accounts.length)throw new Error("Index cannot larger than Accounts array!");return await this.accounts[t].encrypt(e,this.scrypt),!0}encryptAll(t){return Promise.all(this.accounts.map(((e,r)=>this.encrypt(r,t))))}export(){return{name:this.name,version:this.version,scrypt:this.scrypt,accounts:this.accounts.map((t=>t.export()))}}setDefault(t){for(let e=0;e<this.accounts.length;e++)this.accounts[e].isDefault=e===t;return a.info(`Set Account: ${this.accounts[t]} as default for Wallet ${this.name}`),this}}e.Wallet=u,e.default=u},8302:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.getAddressVersion=e.generatePrivateKey=e.getScriptHashFromAddress=e.getAddressFromScriptHash=e.getScriptHashFromPublicKey=e.getScriptHashFromVerificationScript=e.getPublicKeyFromVerificationScript=e.getVerificationScriptFromPublicKey=e.getPublicKeyFromPrivateKey=e.getWIFFromPrivateKey=e.getPrivateKeyFromWIF=e.getPublicKeyUnencoded=e.getPublicKeyEncoded=void 0;const i=n(r(7022)),o=r(8764),s=r(2526),a=r(2287),u=r(7885),f=(0,a.getCurve)(a.EllipticCurvePreset.SECP256R1);function c(t){const e=new Uint8Array((0,a.hexstring2ab)(t));return e[64]%2==1?"03"+(0,a.ab2hexstring)(e.slice(1,33)):"02"+(0,a.ab2hexstring)(e.slice(1,33))}function h(t){return(new u.ScriptBuilder).emit(u.OpCode.PUSHDATA1,"21"+t).emitSysCall(u.InteropServiceCode.SYSTEM_CRYPTO_CHECKSIG).build()}e.getPublicKeyEncoded=c,e.getPublicKeyUnencoded=function(t){return f.decodePublicKey(t)},e.getPrivateKeyFromWIF=function(t){return(0,a.ab2hexstring)(i.default.decode(t)).substr(2,64)},e.getWIFFromPrivateKey=function(t){const e="80"+t+"01",r=e+(0,a.hash256)(e).substr(0,8);return i.default.encode((0,a.hexstring2ab)(r))},e.getPublicKeyFromPrivateKey=function(t,e=!0){return f.getPublicKey(t,e)},e.getVerificationScriptFromPublicKey=h,e.getPublicKeyFromVerificationScript=function(t){const e=u.OpToken.fromScript(t),r=e.pop();if(void 0===r||r.code!==u.OpCode.SYSCALL||(r.params??"")!==u.InteropServiceCode.SYSTEM_CRYPTO_CHECKSIG)throw new Error("script is not a single key account.");const n=e[0];if(n.code!==u.OpCode.PUSHDATA1||!n.params)throw new Error("cannot find public key");return n.params},e.getScriptHashFromVerificationScript=function(t){return(0,a.reverseHex)((0,a.hash160)(t))},e.getScriptHashFromPublicKey=function(t){"04"===t.substring(0,2)&&(t=c(t));const e=h(t);return(0,a.reverseHex)((0,a.hash160)(e))},e.getAddressFromScriptHash=function(t,e=s.DEFAULT_ADDRESS_VERSION){t=(0,a.reverseHex)(t);const r=e.toString(16),n=(0,a.hash256)(r+t).substr(0,8);return i.default.encode(o.Buffer.from(r+t+n,"hex"))},e.getScriptHashFromAddress=function(t){const e=(0,a.ab2hexstring)(i.default.decode(t));return(0,a.reverseHex)(e.substr(2,40))},e.generatePrivateKey=function(){return(0,a.ab2hexstring)((0,a.generateRandomArray)(32))},e.getAddressVersion=function(t){return i.default.decode(t)[0]}},5914:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r(9533),e),i(r(8302),e),i(r(9089),e),i(r(4147),e),i(r(2670),e),i(r(8726),e),i(r(8630),e),i(r(4447),e)},8630:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSignaturesFromInvocationScript=e.getSigningThresholdFromVerificationScript=e.getPublicKeysFromVerificationScript=e.constructMultiSigVerificationScript=void 0;const n=r(7885),i=r(4147);function o(t){return t.code===n.OpCode.PUSHDATA1&&!!t.params&&66===t.params.length}e.constructMultiSigVerificationScript=function(t,e){if(t<=0)throw new Error("signingThreshold must be bigger than zero.");if(t>e.length)throw new Error("signingThreshold must be smaller than or equal to number of keys");const r=new n.ScriptBuilder;return r.emitPush(t),e.forEach((t=>{if(!(0,i.isPublicKey)(t,!0))throw new Error(`${t} is not a valid encoded public key`);r.emitPublicKey(t)})),r.emitPush(e.length).emitSysCall(n.InteropServiceCode.SYSTEM_CRYPTO_CHECKMULTISIG).build()},e.getPublicKeysFromVerificationScript=function(t){return n.OpToken.fromScript(t).filter(o).map((t=>t.params))},e.getSigningThresholdFromVerificationScript=function(t){const e=n.OpToken.fromScript(t);return n.OpToken.parseInt(e[0])},e.getSignaturesFromInvocationScript=function(t){return n.OpToken.fromScript(t).filter((t=>t.code===n.OpCode.PUSHDATA1&&!!t.params&&128===t.params.length)).map((t=>t.params))}},9089:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.decryptNeo2=e.decrypt=e.encrypt=void 0;const i=n(r(7452)),o=n(r(7736)),s=n(r(9576)),a=n(r(2129)),u=n(r(181)),f=n(r(1093)),c=r(6023),h=r(1037),d=r(2526),l=n(r(7710)),p=r(2287),b=r(4147),g=r(8302),m=n(r(7022)),y=r(8764),v="17",w={Latin1:s.default,Hex:o.default},_={mode:a.default,padding:u.default},S=(0,l.default)("wallet");function M(t,e){return(0,g.getAddressFromScriptHash)((0,g.getScriptHashFromPublicKey)((0,g.getPublicKeyFromPrivateKey)(t)),e)}function A(t){const e="21"+(0,g.getPublicKeyFromPrivateKey)(t,!0)+"ac",r=(0,p.hash160)(e),n=(0,p.hash256)(v+r).substr(0,8);return m.default.encode(y.Buffer.from(v+r+n,"hex"))}async function C(t,e,r,n){const{n:o,r:s,p:a}=n,u=(0,p.ab2hexstring)(m.default.decode(t)),d=u.substr(0,u.length-8),l=u.substr(-8);if((0,p.hash256)(d).substr(0,8)!==l)throw new Error("Base58 checksum failed.");const b=d.substr(6,8),g=d.substr(-64),v=await(0,h.scrypt)(y.Buffer.from(e.normalize("NFC"),"utf8"),y.Buffer.from(b,"hex"),o,s,a,64,(()=>{})),M=y.Buffer.from(v).toString("hex"),A=M.slice(0,64),C=M.slice(64),E=c.lib.CipherParams.create({ciphertext:w.Hex.parse(g)}),O=i.default.decrypt(E,w.Hex.parse(C),_),x=(0,p.hexXor)(O.toString(),A),T=r(x);if(b!==(0,f.default)((0,f.default)(w.Latin1.parse(T))).toString().slice(0,8))throw new Error("Wrong password or scrypt parameters!");return S.info(`Successfully decrypted ${t}`),x}e.encrypt=function(t,e,r=d.DEFAULT_SCRYPT,n=d.DEFAULT_ADDRESS_VERSION){const o=(0,b.isWIF)(t)?(0,g.getPrivateKeyFromWIF)(t):t,s=M(o,n);return async function(t,e,r,n,o){const{n:s,r:a,p:u}=o,c=(0,f.default)(w.Latin1.parse(n)),l=(0,f.default)(c).toString().slice(0,8),b=await(0,h.scrypt)(y.Buffer.from(r.normalize("NFC"),"utf8"),y.Buffer.from(l,"hex"),s,a,u,64,(()=>{})),g=y.Buffer.from(b).toString("hex"),v=g.slice(0,64),M=g.slice(64),A=(0,p.hexXor)(e,v),C=i.default.encrypt(w.Hex.parse(A),w.Hex.parse(M),_),E=d.NEP2_HEADER+d.NEP2_FLAG+l+C.ciphertext.toString(),O=(0,p.hash256)(E).substr(0,8),x=m.default.encode((0,p.hexstring2ab)(E+O));return S.info(`Successfully encrypted key to ${x}`),x}((d.NEP2_HEADER,d.NEP2_FLAG),o,e,s,r)},e.decrypt=async function(t,e,r=d.DEFAULT_SCRYPT,n=d.DEFAULT_ADDRESS_VERSION){const i=await C(t,e,(t=>M(t,n)),r);return(0,g.getWIFFromPrivateKey)(i)},e.decryptNeo2=async function(t,e,r=d.DEFAULT_SCRYPT){const n=await C(t,e,A,r);return(0,g.getWIFFromPrivateKey)(n)}},2670:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateSignature=e.verify=e.sign=void 0;const n=r(2287),i=r(8302),o=r(4147),s=(0,n.getCurve)(n.EllipticCurvePreset.SECP256R1);function a(t,e,r){(0,o.isWIF)(e)&&(e=(0,i.getPrivateKeyFromWIF)(e));const a=(0,n.sha256)(t),u=s.sign(a,e,r);return u.r+u.s}e.sign=a,e.verify=function(t,e,r){if(!(0,o.isPublicKey)(r))throw new Error("Invalid public key");(0,o.isPublicKey)(r,!0)||(r=(0,i.getPublicKeyUnencoded)(r));const a={r:e.substr(0,64),s:e.substr(64,64)},u=(0,n.sha256)(t);return s.verify(u,a,r)},e.generateSignature=function(t,e){return a(t,e)}},4447:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.upgrade=void 0;const i=n(r(9533)),o=r(9089),s=r(2526);e.upgrade=async function(t,e="",r=s.DEFAULT_SCRYPT){if(!t.tryGet("privateKey")&&""===e)throw new Error("The account needs an unencrypted private key.");if(!t.address.startsWith("A"))throw new Error("This is not a neo2 Address.");if(e){const n=await(0,o.decryptNeo2)(t.encrypted,e,r),s=new i.default(n);return await s.encrypt(e,r)}const n=t.WIF;return new i.default(n)}},4147:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.isAddress=e.isScriptHash=e.isPublicKey=e.isPrivateKey=e.isWIF=e.isNEP2=void 0;const i=n(r(7022)),o=r(2287),s=r(8302);e.isNEP2=function(t){try{if(58!==t.length)return!1;const e=(0,o.ab2hexstring)(i.default.decode(t));return!(!e||86!==e.length)&&("01"===e.substr(0,2)&&("42"===e.substr(2,2)&&"e0"===e.substr(4,2)))}catch(t){return!1}},e.isWIF=function(t){if(52!==t.length)return!1;const e=(0,o.ab2hexstring)(i.default.decode(t)),r=e.substr(0,68),n=e.substr(-8);return(0,o.hash256)(r).substr(0,8)===n},e.isPrivateKey=function(t){return/^[0-9A-Fa-f]{64}$/.test(t)},e.isPublicKey=function(t,e){try{let r;switch(t.substr(0,2)){case"04":if(!0===e)return!1;r=(0,s.getPublicKeyEncoded)(t);break;case"02":case"03":if(!1===e)return!1;r=t;break;default:return!1}const n=(0,s.getPublicKeyUnencoded)(r),i=parseInt(n.substr(n.length-2,2),16);return"02"===r.substr(0,2)&&i%2==0||"03"===r.substr(0,2)&&i%2==1}catch(t){return!1}},e.isScriptHash=function(t){const e=(0,o.remove0xPrefix)(t);return(0,o.isHex)(e)&&40===e.length},e.isAddress=function(t,e=-1){try{const r=(0,o.ab2hexstring)(i.default.decode(t)),n=parseInt(r.slice(0,2),16);if(e>=0&&n!==e)return!1;if((0,o.hash256)(r.slice(0,42)).substr(0,8)!==r.substr(42,8))return!1;const a=(0,o.reverseHex)(r.slice(2,42));return(0,s.getAddressFromScriptHash)(a,n)===t}catch(t){return!1}}},8764:(t,e,r)=>{"use strict";const n=r(5766),i=r(2333),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50;const s=2147483647;function a(t){if(t>s)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,u.prototype),e}function u(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return h(t)}return f(t,e,r)}function f(t,e,r){if("string"==typeof t)return function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!u.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const r=0|b(t,e);let n=a(r);const i=n.write(t,e);i!==r&&(n=n.slice(0,i));return n}(t,e);if(ArrayBuffer.isView(t))return function(t){if(Y(t,Uint8Array)){const e=new Uint8Array(t);return l(e.buffer,e.byteOffset,e.byteLength)}return d(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Y(t,ArrayBuffer)||t&&Y(t.buffer,ArrayBuffer))return l(t,e,r);if("undefined"!=typeof SharedArrayBuffer&&(Y(t,SharedArrayBuffer)||t&&Y(t.buffer,SharedArrayBuffer)))return l(t,e,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return u.from(n,e,r);const i=function(t){if(u.isBuffer(t)){const e=0|p(t.length),r=a(e);return 0===r.length||t.copy(r,0,0,e),r}if(void 0!==t.length)return"number"!=typeof t.length||$(t.length)?a(0):d(t);if("Buffer"===t.type&&Array.isArray(t.data))return d(t.data)}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return u.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function h(t){return c(t),a(t<0?0:0|p(t))}function d(t){const e=t.length<0?0:0|p(t.length),r=a(e);for(let n=0;n<e;n+=1)r[n]=255&t[n];return r}function l(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,u.prototype),n}function p(t){if(t>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|t}function b(t,e){if(u.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Y(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return K(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return q(t).length;default:if(i)return n?-1:K(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,r){let n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return P(this,e,r);case"utf8":case"utf-8":return E(this,e,r);case"ascii":return x(this,e,r);case"latin1":case"binary":return T(this,e,r);case"base64":return C(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function m(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function y(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),$(r=+r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=u.from(e,n)),u.isBuffer(e))return 0===e.length?-1:v(t,e,r,n,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):v(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function v(t,e,r,n,i){let o,s=1,a=t.length,u=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,r/=2}function f(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){let n=-1;for(o=r;o<a;o++)if(f(t,o)===f(e,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===u)return n*s}else-1!==n&&(o-=o-n),n=-1}else for(r+u>a&&(r=a-u),o=r;o>=0;o--){let r=!0;for(let n=0;n<u;n++)if(f(t,o+n)!==f(e,n)){r=!1;break}if(r)return o}return-1}function w(t,e,r,n){r=Number(r)||0;const i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;const o=e.length;let s;for(n>o/2&&(n=o/2),s=0;s<n;++s){const n=parseInt(e.substr(2*s,2),16);if($(n))return s;t[r+s]=n}return s}function _(t,e,r,n){return J(K(e,t.length-r),t,r,n)}function S(t,e,r,n){return J(function(t){const e=[];for(let r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function M(t,e,r,n){return J(q(e),t,r,n)}function A(t,e,r,n){return J(function(t,e){let r,n,i;const o=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(e,t.length-r),t,r,n)}function C(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function E(t,e,r){r=Math.min(t.length,r);const n=[];let i=e;for(;i<r;){const e=t[i];let o=null,s=e>239?4:e>223?3:e>191?2:1;if(i+s<=r){let r,n,a,u;switch(s){case 1:e<128&&(o=e);break;case 2:r=t[i+1],128==(192&r)&&(u=(31&e)<<6|63&r,u>127&&(o=u));break;case 3:r=t[i+1],n=t[i+2],128==(192&r)&&128==(192&n)&&(u=(15&e)<<12|(63&r)<<6|63&n,u>2047&&(u<55296||u>57343)&&(o=u));break;case 4:r=t[i+1],n=t[i+2],a=t[i+3],128==(192&r)&&128==(192&n)&&128==(192&a)&&(u=(15&e)<<18|(63&r)<<12|(63&n)<<6|63&a,u>65535&&u<1114112&&(o=u))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=s}return function(t){const e=t.length;if(e<=O)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=O));return r}(n)}e.kMaxLength=s,u.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(t,e,r){return f(t,e,r)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(t,e,r){return function(t,e,r){return c(t),t<=0?a(t):void 0!==e?"string"==typeof r?a(t).fill(e,r):a(t).fill(e):a(t)}(t,e,r)},u.allocUnsafe=function(t){return h(t)},u.allocUnsafeSlow=function(t){return h(t)},u.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==u.prototype},u.compare=function(t,e){if(Y(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),Y(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let r=t.length,n=e.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);let r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;const n=u.allocUnsafe(e);let i=0;for(r=0;r<t.length;++r){let e=t[r];if(Y(e,Uint8Array))i+e.length>n.length?(u.isBuffer(e)||(e=u.from(e)),e.copy(n,i)):Uint8Array.prototype.set.call(n,e,i);else{if(!u.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(n,i)}i+=e.length}return n},u.byteLength=b,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)m(this,e,e+1);return this},u.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},u.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},u.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?E(this,0,t):g.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){let t="";const r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},o&&(u.prototype[o]=u.prototype.inspect),u.prototype.compare=function(t,e,r,n,i){if(Y(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;let o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(e>>>=0);const a=Math.min(o,s),f=this.slice(n,i),c=t.slice(e,r);for(let t=0;t<a;++t)if(f[t]!==c[t]){o=f[t],s=c[t];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},u.prototype.indexOf=function(t,e,r){return y(this,t,e,r,!0)},u.prototype.lastIndexOf=function(t,e,r){return y(this,t,e,r,!1)},u.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return w(this,t,e,r);case"utf8":case"utf-8":return _(this,t,e,r);case"ascii":case"latin1":case"binary":return S(this,t,e,r);case"base64":return M(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const O=4096;function x(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function T(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function P(t,e,r){const n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=e;n<r;++n)i+=Q[t[n]];return i}function I(t,e,r){const n=t.slice(e,r);let i="";for(let t=0;t<n.length-1;t+=2)i+=String.fromCharCode(n[t]+256*n[t+1]);return i}function R(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function L(t,e,r,n,i,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function B(t,e,r,n,i){j(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s,r}function k(t,e,r,n,i){j(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r+7]=o,o>>=8,t[r+6]=o,o>>=8,t[r+5]=o,o>>=8,t[r+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=s,s>>=8,t[r+2]=s,s>>=8,t[r+1]=s,s>>=8,t[r]=s,r+8}function N(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function H(t,e,r,n,o){return e=+e,r>>>=0,o||N(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function U(t,e,r,n,o){return e=+e,r>>>=0,o||N(t,0,r,8),i.write(t,e,r,n,52,8),r+8}u.prototype.slice=function(t,e){const r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);const n=this.subarray(t,e);return Object.setPrototypeOf(n,u.prototype),n},u.prototype.readUintLE=u.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||R(t,e,this.length);let n=this[t],i=1,o=0;for(;++o<e&&(i*=256);)n+=this[t+o]*i;return n},u.prototype.readUintBE=u.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||R(t,e,this.length);let n=this[t+--e],i=1;for(;e>0&&(i*=256);)n+=this[t+--e]*i;return n},u.prototype.readUint8=u.prototype.readUInt8=function(t,e){return t>>>=0,e||R(t,1,this.length),this[t]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(t,e){return t>>>=0,e||R(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(t,e){return t>>>=0,e||R(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(t,e){return t>>>=0,e||R(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(t,e){return t>>>=0,e||R(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readBigUInt64LE=Z((function(t){W(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||G(t,this.length-8);const n=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,i=this[++t]+256*this[++t]+65536*this[++t]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),u.prototype.readBigUInt64BE=Z((function(t){W(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||G(t,this.length-8);const n=e*2**24+65536*this[++t]+256*this[++t]+this[++t],i=this[++t]*2**24+65536*this[++t]+256*this[++t]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),u.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||R(t,e,this.length);let n=this[t],i=1,o=0;for(;++o<e&&(i*=256);)n+=this[t+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*e)),n},u.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||R(t,e,this.length);let n=e,i=1,o=this[t+--n];for(;n>0&&(i*=256);)o+=this[t+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return t>>>=0,e||R(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){t>>>=0,e||R(t,2,this.length);const r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(t,e){t>>>=0,e||R(t,2,this.length);const r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(t,e){return t>>>=0,e||R(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return t>>>=0,e||R(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readBigInt64LE=Z((function(t){W(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||G(t,this.length-8);const n=this[t+4]+256*this[t+5]+65536*this[t+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),u.prototype.readBigInt64BE=Z((function(t){W(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||G(t,this.length-8);const n=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(n)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+r)})),u.prototype.readFloatLE=function(t,e){return t>>>=0,e||R(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return t>>>=0,e||R(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return t>>>=0,e||R(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return t>>>=0,e||R(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(t,e,r,n){if(t=+t,e>>>=0,r>>>=0,!n){L(this,t,e,r,Math.pow(2,8*r)-1,0)}let i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(t,e,r,n){if(t=+t,e>>>=0,r>>>=0,!n){L(this,t,e,r,Math.pow(2,8*r)-1,0)}let i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},u.prototype.writeUint8=u.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||L(this,t,e,1,255,0),this[e]=255&t,e+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||L(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||L(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||L(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||L(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeBigUInt64LE=Z((function(t,e=0){return B(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeBigUInt64BE=Z((function(t,e=0){return k(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);L(this,t,e,r,n-1,-n)}let i=0,o=1,s=0;for(this[e]=255&t;++i<r&&(o*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/o>>0)-s&255;return e+r},u.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);L(this,t,e,r,n-1,-n)}let i=r-1,o=1,s=0;for(this[e+i]=255&t;--i>=0&&(o*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/o>>0)-s&255;return e+r},u.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||L(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||L(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||L(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||L(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},u.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||L(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeBigInt64LE=Z((function(t,e=0){return B(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeBigInt64BE=Z((function(t,e=0){return k(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeFloatLE=function(t,e,r){return H(this,t,e,!0,r)},u.prototype.writeFloatBE=function(t,e,r){return H(this,t,e,!1,r)},u.prototype.writeDoubleLE=function(t,e,r){return U(this,t,e,!0,r)},u.prototype.writeDoubleBE=function(t,e,r){return U(this,t,e,!1,r)},u.prototype.copy=function(t,e,r,n){if(!u.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);const i=n-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),i},u.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){const e=t.charCodeAt(0);("utf8"===n&&e<128||"latin1"===n)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;let i;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(i=e;i<r;++i)this[i]=t;else{const o=u.isBuffer(t)?t:u.from(t,n),s=o.length;if(0===s)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<r-e;++i)this[i+e]=o[i%s]}return this};const D={};function z(t,e,r){D[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function F(t){let e="",r=t.length;const n="-"===t[0]?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function j(t,e,r,n,i,o){if(t>r||t<e){const n="bigint"==typeof e?"n":"";let i;throw i=o>3?0===e||e===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(o+1)}${n}`:`>= -(2${n} ** ${8*(o+1)-1}${n}) and < 2 ** ${8*(o+1)-1}${n}`:`>= ${e}${n} and <= ${r}${n}`,new D.ERR_OUT_OF_RANGE("value",i,t)}!function(t,e,r){W(e,"offset"),void 0!==t[e]&&void 0!==t[e+r]||G(e,t.length-(r+1))}(n,i,o)}function W(t,e){if("number"!=typeof t)throw new D.ERR_INVALID_ARG_TYPE(e,"number",t)}function G(t,e,r){if(Math.floor(t)!==t)throw W(t,r),new D.ERR_OUT_OF_RANGE(r||"offset","an integer",t);if(e<0)throw new D.ERR_BUFFER_OUT_OF_BOUNDS;throw new D.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}z("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),z("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),z("ERR_OUT_OF_RANGE",(function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=F(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=F(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n}),RangeError);const V=/[^+/0-9A-Za-z-_]/g;function K(t,e){let r;e=e||1/0;const n=t.length;let i=null;const o=[];for(let s=0;s<n;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function q(t){return n.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(V,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function J(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function Y(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function $(t){return t!=t}const Q=function(){const t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function Z(t){return"undefined"==typeof BigInt?X:t}function X(){throw new Error("BigInt not supported")}},3196:()=>{},8087:()=>{},633:()=>{},488:()=>{},763:t=>{"use strict";t.exports={i8:"6.5.4"}},2754:t=>{"use strict";t.exports=JSON.parse('{"methods":[{"name":"totalSupply","parameters":[],"offset":0,"returntype":"Integer","safe":true},{"name":"balanceOf","parameters":[{"name":"account","type":"ByteArray"}],"offset":0,"returntype":"Integer","safe":true},{"name":"transfer","parameters":[{"name":"from","type":"ByteArray"},{"name":"to","type":"ByteArray"},{"name":"amount","type":"Integer"},{"name":"data","type":"Any"}],"offset":0,"returntype":"Boolean","safe":false},{"name":"symbol","parameters":[],"offset":0,"returntype":"String","safe":true},{"name":"decimals","parameters":[],"offset":0,"returntype":"Integer","safe":true}],"events":[{"name":"Transfer","parameters":[{"name":"from","type":"Hash160"},{"name":"to","type":"Hash160"},{"name":"amount","type":"Integer"}]}]}')},2106:t=>{"use strict";t.exports=JSON.parse('{"methods":[{"name":"balanceOf","parameters":[{"name":"account","type":"Hash160"}],"returntype":"Integer","offset":0,"safe":true},{"name":"decimals","parameters":[],"returntype":"Integer","offset":7,"safe":true},{"name":"getCandidates","parameters":[],"returntype":"Array","offset":14,"safe":true},{"name":"getCommittee","parameters":[],"returntype":"Array","offset":21,"safe":true},{"name":"getGasPerBlock","parameters":[],"returntype":"Integer","offset":28,"safe":true},{"name":"getNextBlockValidators","parameters":[],"returntype":"Array","offset":35,"safe":true},{"name":"getRegisterPrice","parameters":[],"returntype":"Integer","offset":42,"safe":true},{"name":"registerCandidate","parameters":[{"name":"pubkey","type":"PublicKey"}],"returntype":"Boolean","offset":49,"safe":false},{"name":"setGasPerBlock","parameters":[{"name":"gasPerBlock","type":"Integer"}],"returntype":"Void","offset":56,"safe":false},{"name":"setRegisterPrice","parameters":[{"name":"registerPrice","type":"Integer"}],"returntype":"Void","offset":63,"safe":false},{"name":"symbol","parameters":[],"returntype":"String","offset":70,"safe":true},{"name":"totalSupply","parameters":[],"returntype":"Integer","offset":77,"safe":true},{"name":"transfer","parameters":[{"name":"from","type":"Hash160"},{"name":"to","type":"Hash160"},{"name":"amount","type":"Integer"},{"name":"data","type":"Any"}],"returntype":"Boolean","offset":84,"safe":false},{"name":"unclaimedGas","parameters":[{"name":"account","type":"Hash160"},{"name":"end","type":"Integer"}],"returntype":"Integer","offset":91,"safe":true},{"name":"unregisterCandidate","parameters":[{"name":"pubkey","type":"PublicKey"}],"returntype":"Boolean","offset":98,"safe":false},{"name":"vote","parameters":[{"name":"account","type":"Hash160"},{"name":"voteTo","type":"PublicKey"}],"returntype":"Boolean","offset":105,"safe":false}],"events":[{"name":"Transfer","parameters":[{"name":"from","type":"Hash160"},{"name":"to","type":"Hash160"},{"name":"amount","type":"Integer"}]}]}')},269:t=>{"use strict";t.exports=JSON.parse('{"methods":[{"name":"totalSupply","parameters":[],"offset":0,"returntype":"Integer","safe":true},{"name":"balanceOf","parameters":[{"name":"account","type":"ByteArray"}],"offset":0,"returntype":"Integer","safe":true},{"name":"transfer","parameters":[{"name":"from","type":"ByteArray"},{"name":"to","type":"ByteArray"},{"name":"amount","type":"Integer"},{"name":"data","type":"Any"}],"offset":0,"returntype":"Boolean","safe":false},{"name":"symbol","parameters":[],"offset":0,"returntype":"String","safe":true},{"name":"decimals","parameters":[],"offset":0,"returntype":"Integer","safe":true}],"events":[{"name":"Transfer","parameters":[{"name":"from","type":"Hash160"},{"name":"to","type":"Hash160"},{"name":"amount","type":"Integer"}]}]}')},986:t=>{"use strict";t.exports=JSON.parse('{"methods":[{"name":"getMaxTransactionsPerBlock","parameters":[],"offset":0,"returntype":"Integer","safe":true},{"name":"getMaxBlockSize","parameters":[],"offset":0,"returntype":"Integer","safe":true},{"name":"getMaxBlockSystemFee","parameters":[],"offset":0,"returntype":"Integer","safe":true},{"name":"getFeePerByte","parameters":[],"offset":0,"returntype":"Integer","safe":true},{"name":"getExecFeeFactor","parameters":[],"offset":0,"returntype":"Integer","safe":true},{"name":"getStoragePrice","parameters":[],"offset":0,"returntype":"Integer","safe":true},{"name":"isBlocked","parameters":[{"name":"account","type":"ByteArray"}],"offset":0,"returntype":"Boolean","safe":true},{"name":"setMaxBlockSize","parameters":[{"name":"value","type":"Integer"}],"offset":0,"returntype":"Boolean","safe":false},{"name":"setMaxTransactionsPerBlock","parameters":[{"name":"value","type":"Integer"}],"offset":0,"returntype":"Boolean","safe":false},{"name":"setMaxBlockSystemFee","parameters":[{"name":"value","type":"Integer"}],"offset":0,"returntype":"Boolean","safe":false},{"name":"setFeePerByte","parameters":[{"name":"value","type":"Integer"}],"offset":0,"returntype":"Boolean","safe":false},{"name":"setExecFeeFactor","parameters":[{"name":"value","type":"Integer"}],"offset":0,"returntype":"Boolean","safe":false},{"name":"setStoragePrice","parameters":[{"name":"value","type":"Integer"}],"offset":0,"returntype":"Boolean","safe":false},{"name":"blockAccount","parameters":[{"name":"account","type":"ByteArray"}],"offset":0,"returntype":"Boolean","safe":false},{"name":"unblockAccount","parameters":[{"name":"account","type":"ByteArray"}],"offset":0,"returntype":"Boolean","safe":false}],"events":[]}')}},e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var o=e[n]={id:n,loaded:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}return r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),r(6097)})()));
//# sourceMappingURL=browser.js.map;
/*! For license information please see browser.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define('@cityofzion/neon-core-neo3',[],e):"object"==typeof exports?exports.NeonCore=e():t.NeonCore=e()}(self,(()=>(()=>{var t={3525:(t,e)=>{"use strict";function r(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function n(t){if("boolean"!=typeof t)throw new Error(`Expected boolean, not ${t}`)}function i(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function o(t){if("function"!=typeof t||"function"!=typeof t.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");r(t.outputLen),r(t.blockLen)}function s(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function a(t,e){i(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Object.defineProperty(e,"__esModule",{value:!0}),e.output=e.exists=e.hash=e.bytes=e.bool=e.number=void 0,e.number=r,e.bool=n,e.bytes=i,e.hash=o,e.exists=s,e.output=a;const u={number:r,bool:n,bytes:i,hash:o,exists:s,output:a};e.default=u},9350:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SHA2=void 0;const n=r(3525),i=r(64);class o extends i.Hash{constructor(t,e,r,n){super(),this.blockLen=t,this.outputLen=e,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=(0,i.createView)(this.buffer)}update(t){n.default.exists(this);const{view:e,buffer:r,blockLen:o}=this,s=(t=(0,i.toBytes)(t)).length;for(let n=0;n<s;){const a=Math.min(o-this.pos,s-n);if(a!==o)r.set(t.subarray(n,n+a),this.pos),this.pos+=a,n+=a,this.pos===o&&(this.process(e,0),this.pos=0);else{const e=(0,i.createView)(t);for(;o<=s-n;n+=o)this.process(e,n)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){n.default.exists(this),n.default.output(t,this),this.finished=!0;const{buffer:e,view:r,blockLen:o,isLE:s}=this;let{pos:a}=this;e[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>o-a&&(this.process(r,0),a=0);for(let t=a;t<o;t++)e[t]=0;!function(t,e,r,n){if("function"==typeof t.setBigUint64)return t.setBigUint64(e,r,n);const i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),u=n?4:0,f=n?0:4;t.setUint32(e+u,s,n),t.setUint32(e+f,a,n)}(r,o-8,BigInt(8*this.length),s),this.process(r,0);const u=(0,i.createView)(t),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=f/4,h=this.get();if(c>h.length)throw new Error("_sha2: outputLen bigger than state");for(let t=0;t<c;t++)u.setUint32(4*t,h[t],s)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const r=t.slice(0,e);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:r,length:n,finished:i,destroyed:o,pos:s}=this;return t.length=n,t.pos=s,t.finished=i,t.destroyed=o,n%e&&t.buffer.set(r),t}}e.SHA2=o},825:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.crypto=void 0,e.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},1377:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hmac=void 0;const n=r(3525),i=r(64);class o extends i.Hash{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,n.default.hash(t);const r=(0,i.toBytes)(e);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,s=new Uint8Array(o);s.set(r.length>o?t.create().update(r).digest():r);for(let t=0;t<s.length;t++)s[t]^=54;this.iHash.update(s),this.oHash=t.create();for(let t=0;t<s.length;t++)s[t]^=106;this.oHash.update(s),s.fill(0)}update(t){return n.default.exists(this),this.iHash.update(t),this}digestInto(t){n.default.exists(this),n.default.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:r,finished:n,destroyed:i,blockLen:o,outputLen:s}=this;return t.finished=n,t.destroyed=i,t.blockLen=o,t.outputLen=s,t.oHash=e._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}e.hmac=(t,e,r)=>new o(t,e).update(r).digest(),e.hmac.create=(t,e)=>new o(t,e)},9179:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pbkdf2Async=e.pbkdf2=void 0;const n=r(3525),i=r(1377),o=r(64);function s(t,e,r,s){n.default.hash(t);const a=(0,o.checkOpts)({dkLen:32,asyncTick:10},s),{c:u,dkLen:f,asyncTick:c}=a;if(n.default.number(u),n.default.number(f),n.default.number(c),u<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const h=(0,o.toBytes)(e),d=(0,o.toBytes)(r),l=new Uint8Array(f),p=i.hmac.create(t,h),b=p._cloneInto().update(d);return{c:u,dkLen:f,asyncTick:c,DK:l,PRF:p,PRFSalt:b}}function a(t,e,r,n,i){return t.destroy(),e.destroy(),n&&n.destroy(),i.fill(0),r}e.pbkdf2=function(t,e,r,n){const{c:i,dkLen:u,DK:f,PRF:c,PRFSalt:h}=s(t,e,r,n);let d;const l=new Uint8Array(4),p=(0,o.createView)(l),b=new Uint8Array(c.outputLen);for(let t=1,e=0;e<u;t++,e+=c.outputLen){const r=f.subarray(e,e+c.outputLen);p.setInt32(0,t,!1),(d=h._cloneInto(d)).update(l).digestInto(b),r.set(b.subarray(0,r.length));for(let t=1;t<i;t++){c._cloneInto(d).update(b).digestInto(b);for(let t=0;t<r.length;t++)r[t]^=b[t]}}return a(c,h,f,d,b)},e.pbkdf2Async=async function(t,e,r,n){const{c:i,dkLen:u,asyncTick:f,DK:c,PRF:h,PRFSalt:d}=s(t,e,r,n);let l;const p=new Uint8Array(4),b=(0,o.createView)(p),g=new Uint8Array(h.outputLen);for(let t=1,e=0;e<u;t++,e+=h.outputLen){const r=c.subarray(e,e+h.outputLen);b.setInt32(0,t,!1),(l=d._cloneInto(l)).update(p).digestInto(g),r.set(g.subarray(0,r.length)),await(0,o.asyncLoop)(i-1,f,(t=>{h._cloneInto(l).update(g).digestInto(g);for(let t=0;t<r.length;t++)r[t]^=g[t]}))}return a(h,d,c,l,g)}},2739:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.scryptAsync=e.scrypt=void 0;const n=r(3525),i=r(6053),o=r(9179),s=r(64),a=(t,e)=>t<<e|t>>>32-e;function u(t,e,r,n,i,o){let s=t[e++]^r[n++],u=t[e++]^r[n++],f=t[e++]^r[n++],c=t[e++]^r[n++],h=t[e++]^r[n++],d=t[e++]^r[n++],l=t[e++]^r[n++],p=t[e++]^r[n++],b=t[e++]^r[n++],g=t[e++]^r[n++],m=t[e++]^r[n++],y=t[e++]^r[n++],v=t[e++]^r[n++],w=t[e++]^r[n++],_=t[e++]^r[n++],S=t[e++]^r[n++],M=s,A=u,C=f,E=c,O=h,x=d,T=l,P=p,I=b,R=g,L=m,B=y,k=v,N=w,H=_,U=S;for(let t=0;t<8;t+=2)O^=a(M+k|0,7),I^=a(O+M|0,9),k^=a(I+O|0,13),M^=a(k+I|0,18),R^=a(x+A|0,7),N^=a(R+x|0,9),A^=a(N+R|0,13),x^=a(A+N|0,18),H^=a(L+T|0,7),C^=a(H+L|0,9),T^=a(C+H|0,13),L^=a(T+C|0,18),E^=a(U+B|0,7),P^=a(E+U|0,9),B^=a(P+E|0,13),U^=a(B+P|0,18),A^=a(M+E|0,7),C^=a(A+M|0,9),E^=a(C+A|0,13),M^=a(E+C|0,18),T^=a(x+O|0,7),P^=a(T+x|0,9),O^=a(P+T|0,13),x^=a(O+P|0,18),B^=a(L+R|0,7),I^=a(B+L|0,9),R^=a(I+B|0,13),L^=a(R+I|0,18),k^=a(U+H|0,7),N^=a(k+U|0,9),H^=a(N+k|0,13),U^=a(H+N|0,18);i[o++]=s+M|0,i[o++]=u+A|0,i[o++]=f+C|0,i[o++]=c+E|0,i[o++]=h+O|0,i[o++]=d+x|0,i[o++]=l+T|0,i[o++]=p+P|0,i[o++]=b+I|0,i[o++]=g+R|0,i[o++]=m+L|0,i[o++]=y+B|0,i[o++]=v+k|0,i[o++]=w+N|0,i[o++]=_+H|0,i[o++]=S+U|0}function f(t,e,r,n,i){let o=n+0,s=n+16*i;for(let n=0;n<16;n++)r[s+n]=t[e+16*(2*i-1)+n];for(let n=0;n<i;n++,o+=16,e+=16)u(r,s,t,e,r,o),n>0&&(s+=16),u(r,o,t,e+=16,r,s)}function c(t,e,r){const a=(0,s.checkOpts)({dkLen:32,asyncTick:10,maxmem:1073742848},r),{N:u,r:f,p:c,dkLen:h,asyncTick:d,maxmem:l,onProgress:p}=a;if(n.default.number(u),n.default.number(f),n.default.number(c),n.default.number(h),n.default.number(d),n.default.number(l),void 0!==p&&"function"!=typeof p)throw new Error("progressCb should be function");const b=128*f,g=b/4;if(u<=1||0!=(u&u-1)||u>=2**(b/8)||u>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(c<0||c>137438953440/b)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(h<0||h>137438953440)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");const m=b*(u+c);if(m>l)throw new Error(`Scrypt: parameters too large, ${m} (128 * r * (N + p)) > ${l} (maxmem)`);const y=(0,o.pbkdf2)(i.sha256,t,e,{c:1,dkLen:b*c}),v=(0,s.u32)(y),w=(0,s.u32)(new Uint8Array(b*u)),_=(0,s.u32)(new Uint8Array(b));let S=()=>{};if(p){const t=2*u*c,e=Math.max(Math.floor(t/1e4),1);let r=0;S=()=>{r++,!p||r%e&&r!==t||p(r/t)}}return{N:u,r:f,p:c,dkLen:h,blockSize32:g,V:w,B32:v,B:y,tmp:_,blockMixCb:S,asyncTick:d}}function h(t,e,r,n,s){const a=(0,o.pbkdf2)(i.sha256,t,r,{c:1,dkLen:e});return r.fill(0),n.fill(0),s.fill(0),a}e.scrypt=function(t,e,r){const{N:n,r:i,p:o,dkLen:s,blockSize32:a,V:u,B32:d,B:l,tmp:p,blockMixCb:b}=c(t,e,r);for(let t=0;t<o;t++){const e=a*t;for(let t=0;t<a;t++)u[t]=d[e+t];for(let t=0,e=0;t<n-1;t++)f(u,e,u,e+=a,i),b();f(u,(n-1)*a,d,e,i),b();for(let t=0;t<n;t++){const t=d[e+a-16]%n;for(let r=0;r<a;r++)p[r]=d[e+r]^u[t*a+r];f(p,0,d,e,i),b()}}return h(t,s,l,u,p)},e.scryptAsync=async function(t,e,r){const{N:n,r:i,p:o,dkLen:a,blockSize32:u,V:d,B32:l,B:p,tmp:b,blockMixCb:g,asyncTick:m}=c(t,e,r);for(let t=0;t<o;t++){const e=u*t;for(let t=0;t<u;t++)d[t]=l[e+t];let r=0;await(0,s.asyncLoop)(n-1,m,(t=>{f(d,r,d,r+=u,i),g()})),f(d,(n-1)*u,l,e,i),g(),await(0,s.asyncLoop)(n,m,(t=>{const r=l[e+u-16]%n;for(let t=0;t<u;t++)b[t]=l[e+t]^d[r*u+t];f(b,0,l,e,i),g()}))}return h(t,a,p,d,b)}},6053:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sha224=e.sha256=void 0;const n=r(9350),i=r(64),o=(t,e,r)=>t&e^t&r^e&r,s=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),u=new Uint32Array(64);class f extends n.SHA2{constructor(){super(64,32,8,!1),this.A=0|a[0],this.B=0|a[1],this.C=0|a[2],this.D=0|a[3],this.E=0|a[4],this.F=0|a[5],this.G=0|a[6],this.H=0|a[7]}get(){const{A:t,B:e,C:r,D:n,E:i,F:o,G:s,H:a}=this;return[t,e,r,n,i,o,s,a]}set(t,e,r,n,i,o,s,a){this.A=0|t,this.B=0|e,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(t,e){for(let r=0;r<16;r++,e+=4)u[r]=t.getUint32(e,!1);for(let t=16;t<64;t++){const e=u[t-15],r=u[t-2],n=(0,i.rotr)(e,7)^(0,i.rotr)(e,18)^e>>>3,o=(0,i.rotr)(r,17)^(0,i.rotr)(r,19)^r>>>10;u[t]=o+u[t-7]+n+u[t-16]|0}let{A:r,B:n,C:a,D:f,E:c,F:h,G:d,H:l}=this;for(let t=0;t<64;t++){const e=l+((0,i.rotr)(c,6)^(0,i.rotr)(c,11)^(0,i.rotr)(c,25))+((p=c)&h^~p&d)+s[t]+u[t]|0,b=((0,i.rotr)(r,2)^(0,i.rotr)(r,13)^(0,i.rotr)(r,22))+o(r,n,a)|0;l=d,d=h,h=c,c=f+e|0,f=a,a=n,n=r,r=e+b|0}var p;r=r+this.A|0,n=n+this.B|0,a=a+this.C|0,f=f+this.D|0,c=c+this.E|0,h=h+this.F|0,d=d+this.G|0,l=l+this.H|0,this.set(r,n,a,f,c,h,d,l)}roundClean(){u.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class c extends f{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}e.sha256=(0,i.wrapConstructor)((()=>new f)),e.sha224=(0,i.wrapConstructor)((()=>new c))},64:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.randomBytes=e.wrapConstructorWithOpts=e.wrapConstructor=e.checkOpts=e.Hash=e.concatBytes=e.toBytes=e.utf8ToBytes=e.asyncLoop=e.nextTick=e.hexToBytes=e.bytesToHex=e.isLE=e.rotr=e.createView=e.u32=e.u8=void 0;const n=r(825);e.u8=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength);e.u32=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4));e.createView=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);if(e.rotr=(t,e)=>t<<32-e|t>>>e,e.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!e.isLE)throw new Error("Non little-endian hardware is not supported");const i=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));e.bytesToHex=function(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=i[t[r]];return e},e.hexToBytes=function(t){if("string"!=typeof t)throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){const n=2*r,i=t.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");e[r]=o}return e};function o(t){if("string"!=typeof t)throw new TypeError("utf8ToBytes expected string, got "+typeof t);return(new TextEncoder).encode(t)}function s(t){if("string"==typeof t&&(t=o(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}e.nextTick=async()=>{},e.asyncLoop=async function(t,r,n){let i=Date.now();for(let o=0;o<t;o++){n(o);const t=Date.now()-i;t>=0&&t<r||(await(0,e.nextTick)(),i+=t)}},e.utf8ToBytes=o,e.toBytes=s,e.concatBytes=function(...t){if(!t.every((t=>t instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===t.length)return t[0];const e=t.reduce(((t,e)=>t+e.length),0),r=new Uint8Array(e);for(let e=0,n=0;e<t.length;e++){const i=t[e];r.set(i,n),n+=i.length}return r};e.Hash=class{clone(){return this._cloneInto()}};e.checkOpts=function(t,e){if(void 0!==e&&("object"!=typeof e||(r=e,"[object Object]"!==Object.prototype.toString.call(r)||r.constructor!==Object)))throw new TypeError("Options should be object or undefined");var r;return Object.assign(t,e)},e.wrapConstructor=function(t){const e=e=>t().update(s(e)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e},e.wrapConstructorWithOpts=function(t){const e=(e,r)=>t(r).update(s(e)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=e=>t(e),e},e.randomBytes=function(t=32){if(n.crypto&&"function"==typeof n.crypto.getRandomValues)return n.crypto.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}},8166:t=>{"use strict";t.exports=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),o=i.charCodeAt(0);if(255!==e[o])throw new TypeError(i+" is ambiguous");e[o]=n}var s=t.length,a=t.charAt(0),u=Math.log(s)/Math.log(256),f=Math.log(256)/Math.log(s);function c(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return new Uint8Array;for(var r=0,n=0,i=0;t[r]===a;)n++,r++;for(var o=(t.length-r)*u+1>>>0,f=new Uint8Array(o);t[r];){var c=e[t.charCodeAt(r)];if(255===c)return;for(var h=0,d=o-1;(0!==c||h<i)&&-1!==d;d--,h++)c+=s*f[d]>>>0,f[d]=c%256>>>0,c=c/256>>>0;if(0!==c)throw new Error("Non-zero carry");i=h,r++}for(var l=o-i;l!==o&&0===f[l];)l++;for(var p=new Uint8Array(n+(o-l)),b=n;l!==o;)p[b++]=f[l++];return p}return{encode:function(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===e.length)return"";for(var r=0,n=0,i=0,o=e.length;i!==o&&0===e[i];)i++,r++;for(var u=(o-i)*f+1>>>0,c=new Uint8Array(u);i!==o;){for(var h=e[i],d=0,l=u-1;(0!==h||d<n)&&-1!==l;l--,d++)h+=256*c[l]>>>0,c[l]=h%s>>>0,h=h/s>>>0;if(0!==h)throw new Error("Non-zero carry");n=d,i++}for(var p=u-n;p!==u&&0===c[p];)p++;for(var b=a.repeat(r);p<u;++p)b+=t.charAt(c[p]);return b},decodeUnsafe:c,decode:function(t){var e=c(t);if(e)return e;throw new Error("Non-base"+s+" character")}}}},5766:(t,e)=>{"use strict";e.byteLength=function(t){var e=a(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,r,o=a(t),s=o[0],u=o[1],f=new i(function(t,e,r){return 3*(e+r)/4-r}(0,s,u)),c=0,h=u>0?s-4:s;for(r=0;r<h;r+=4)e=n[t.charCodeAt(r)]<<18|n[t.charCodeAt(r+1)]<<12|n[t.charCodeAt(r+2)]<<6|n[t.charCodeAt(r+3)],f[c++]=e>>16&255,f[c++]=e>>8&255,f[c++]=255&e;2===u&&(e=n[t.charCodeAt(r)]<<2|n[t.charCodeAt(r+1)]>>4,f[c++]=255&e);1===u&&(e=n[t.charCodeAt(r)]<<10|n[t.charCodeAt(r+1)]<<4|n[t.charCodeAt(r+2)]>>2,f[c++]=e>>8&255,f[c++]=255&e);return f},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],s=16383,a=0,f=n-i;a<f;a+=s)o.push(u(t,a,a+s>f?f:a+s));1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return o.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)r[s]=o[s],n[o.charCodeAt(s)]=s;function a(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function u(t,e,n){for(var i,o,s=[],a=e;a<n;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return s.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},2197:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var s;"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(3196).Buffer}catch(t){}function a(t,e){var r=t.charCodeAt(e);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+t)}function u(t,e,r){var n=a(t,r);return r-1>=e&&(n|=a(t,r-1)<<4),n}function f(t,e,r,i){for(var o=0,s=0,a=Math.min(t.length,r),u=e;u<a;u++){var f=t.charCodeAt(u)-48;o*=i,s=f>=49?f-49+10:f>=17?f-17+10:f,n(f>=0&&s<i,"Invalid character"),o+=s}return o}function c(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this._strip()},o.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=u(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=u(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,s=o%n,a=Math.min(o,o-s)+r,u=0,c=r;c<a;c+=n)u=f(t,c,c+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var h=1;for(u=f(t,c,t.length,e),c=0;c<s;c++)h*=e;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype._move=function(t){c(t,this)},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch(t){o.prototype.inspect=h}else o.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);o=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,s--),r=0!==o||s!==this.length-1?d[6-u.length]+u+r:u+r}for(0!==o&&(r=o.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var f=l[t],c=p[t];r="";var h=this.clone();for(h.negative=0;!h.isZero();){var b=h.modrn(c).toString(t);r=(h=h.idivn(c)).isZero()?b+r:d[f-b.length]+b+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(t,e){return this.toArrayLike(s,t,e)}),o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function b(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var f=1;f<n;f++){for(var c=u>>>26,h=67108863&u,d=Math.min(f,e.length-1),l=Math.max(0,f-t.length+1);l<=d;l++){var p=f-l|0;c+=(s=(i=0|t.words[p])*(o=0|e.words[l])+h)/67108864|0,h=67108863&s}r.words[f]=0|h,u=0|c}return 0!==u?r.words[f]=0|u:r.length--,r._strip()}o.prototype.toArrayLike=function(t,e,r){this._strip();var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0");var s=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,o);return this["_toArrayLike"+("le"===e?"LE":"BE")](s,i),s},o.prototype._toArrayLikeLE=function(t,e){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;t[r++]=255&s,r<t.length&&(t[r++]=s>>8&255),r<t.length&&(t[r++]=s>>16&255),6===o?(r<t.length&&(t[r++]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r<t.length)for(t[r++]=n;r<t.length;)t[r++]=0},o.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;t[r--]=255&s,r>=0&&(t[r--]=s>>8&255),r>=0&&(t[r--]=s>>16&255),6===o?(r>=0&&(t[r--]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r>=0)for(t[r--]=n;r>=0;)t[r--]=0},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},o.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},o.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this._strip()},o.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,s=0;s<n.length;s++)o=(e=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var g=function(t,e,r){var n,i,o,s=t.words,a=e.words,u=r.words,f=0,c=0|s[0],h=8191&c,d=c>>>13,l=0|s[1],p=8191&l,b=l>>>13,g=0|s[2],m=8191&g,y=g>>>13,v=0|s[3],w=8191&v,_=v>>>13,S=0|s[4],M=8191&S,A=S>>>13,C=0|s[5],E=8191&C,O=C>>>13,x=0|s[6],T=8191&x,P=x>>>13,I=0|s[7],R=8191&I,L=I>>>13,B=0|s[8],k=8191&B,N=B>>>13,H=0|s[9],U=8191&H,D=H>>>13,z=0|a[0],F=8191&z,j=z>>>13,W=0|a[1],G=8191&W,V=W>>>13,K=0|a[2],q=8191&K,J=K>>>13,Y=0|a[3],$=8191&Y,Q=Y>>>13,Z=0|a[4],X=8191&Z,tt=Z>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ut=8191&at,ft=at>>>13,ct=0|a[8],ht=8191&ct,dt=ct>>>13,lt=0|a[9],pt=8191&lt,bt=lt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(f+(n=Math.imul(h,F))|0)+((8191&(i=(i=Math.imul(h,j))+Math.imul(d,F)|0))<<13)|0;f=((o=Math.imul(d,j))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,F),i=(i=Math.imul(p,j))+Math.imul(b,F)|0,o=Math.imul(b,j);var mt=(f+(n=n+Math.imul(h,G)|0)|0)+((8191&(i=(i=i+Math.imul(h,V)|0)+Math.imul(d,G)|0))<<13)|0;f=((o=o+Math.imul(d,V)|0)+(i>>>13)|0)+(mt>>>26)|0,mt&=67108863,n=Math.imul(m,F),i=(i=Math.imul(m,j))+Math.imul(y,F)|0,o=Math.imul(y,j),n=n+Math.imul(p,G)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(b,G)|0,o=o+Math.imul(b,V)|0;var yt=(f+(n=n+Math.imul(h,q)|0)|0)+((8191&(i=(i=i+Math.imul(h,J)|0)+Math.imul(d,q)|0))<<13)|0;f=((o=o+Math.imul(d,J)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(w,F),i=(i=Math.imul(w,j))+Math.imul(_,F)|0,o=Math.imul(_,j),n=n+Math.imul(m,G)|0,i=(i=i+Math.imul(m,V)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,V)|0,n=n+Math.imul(p,q)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(b,q)|0,o=o+Math.imul(b,J)|0;var vt=(f+(n=n+Math.imul(h,$)|0)|0)+((8191&(i=(i=i+Math.imul(h,Q)|0)+Math.imul(d,$)|0))<<13)|0;f=((o=o+Math.imul(d,Q)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(M,F),i=(i=Math.imul(M,j))+Math.imul(A,F)|0,o=Math.imul(A,j),n=n+Math.imul(w,G)|0,i=(i=i+Math.imul(w,V)|0)+Math.imul(_,G)|0,o=o+Math.imul(_,V)|0,n=n+Math.imul(m,q)|0,i=(i=i+Math.imul(m,J)|0)+Math.imul(y,q)|0,o=o+Math.imul(y,J)|0,n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,Q)|0)+Math.imul(b,$)|0,o=o+Math.imul(b,Q)|0;var wt=(f+(n=n+Math.imul(h,X)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(d,X)|0))<<13)|0;f=((o=o+Math.imul(d,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(E,F),i=(i=Math.imul(E,j))+Math.imul(O,F)|0,o=Math.imul(O,j),n=n+Math.imul(M,G)|0,i=(i=i+Math.imul(M,V)|0)+Math.imul(A,G)|0,o=o+Math.imul(A,V)|0,n=n+Math.imul(w,q)|0,i=(i=i+Math.imul(w,J)|0)+Math.imul(_,q)|0,o=o+Math.imul(_,J)|0,n=n+Math.imul(m,$)|0,i=(i=i+Math.imul(m,Q)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,Q)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(b,X)|0,o=o+Math.imul(b,tt)|0;var _t=(f+(n=n+Math.imul(h,rt)|0)|0)+((8191&(i=(i=i+Math.imul(h,nt)|0)+Math.imul(d,rt)|0))<<13)|0;f=((o=o+Math.imul(d,nt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(T,F),i=(i=Math.imul(T,j))+Math.imul(P,F)|0,o=Math.imul(P,j),n=n+Math.imul(E,G)|0,i=(i=i+Math.imul(E,V)|0)+Math.imul(O,G)|0,o=o+Math.imul(O,V)|0,n=n+Math.imul(M,q)|0,i=(i=i+Math.imul(M,J)|0)+Math.imul(A,q)|0,o=o+Math.imul(A,J)|0,n=n+Math.imul(w,$)|0,i=(i=i+Math.imul(w,Q)|0)+Math.imul(_,$)|0,o=o+Math.imul(_,Q)|0,n=n+Math.imul(m,X)|0,i=(i=i+Math.imul(m,tt)|0)+Math.imul(y,X)|0,o=o+Math.imul(y,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(b,rt)|0,o=o+Math.imul(b,nt)|0;var St=(f+(n=n+Math.imul(h,ot)|0)|0)+((8191&(i=(i=i+Math.imul(h,st)|0)+Math.imul(d,ot)|0))<<13)|0;f=((o=o+Math.imul(d,st)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(R,F),i=(i=Math.imul(R,j))+Math.imul(L,F)|0,o=Math.imul(L,j),n=n+Math.imul(T,G)|0,i=(i=i+Math.imul(T,V)|0)+Math.imul(P,G)|0,o=o+Math.imul(P,V)|0,n=n+Math.imul(E,q)|0,i=(i=i+Math.imul(E,J)|0)+Math.imul(O,q)|0,o=o+Math.imul(O,J)|0,n=n+Math.imul(M,$)|0,i=(i=i+Math.imul(M,Q)|0)+Math.imul(A,$)|0,o=o+Math.imul(A,Q)|0,n=n+Math.imul(w,X)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(_,X)|0,o=o+Math.imul(_,tt)|0,n=n+Math.imul(m,rt)|0,i=(i=i+Math.imul(m,nt)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,nt)|0,n=n+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,st)|0)+Math.imul(b,ot)|0,o=o+Math.imul(b,st)|0;var Mt=(f+(n=n+Math.imul(h,ut)|0)|0)+((8191&(i=(i=i+Math.imul(h,ft)|0)+Math.imul(d,ut)|0))<<13)|0;f=((o=o+Math.imul(d,ft)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(k,F),i=(i=Math.imul(k,j))+Math.imul(N,F)|0,o=Math.imul(N,j),n=n+Math.imul(R,G)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(L,G)|0,o=o+Math.imul(L,V)|0,n=n+Math.imul(T,q)|0,i=(i=i+Math.imul(T,J)|0)+Math.imul(P,q)|0,o=o+Math.imul(P,J)|0,n=n+Math.imul(E,$)|0,i=(i=i+Math.imul(E,Q)|0)+Math.imul(O,$)|0,o=o+Math.imul(O,Q)|0,n=n+Math.imul(M,X)|0,i=(i=i+Math.imul(M,tt)|0)+Math.imul(A,X)|0,o=o+Math.imul(A,tt)|0,n=n+Math.imul(w,rt)|0,i=(i=i+Math.imul(w,nt)|0)+Math.imul(_,rt)|0,o=o+Math.imul(_,nt)|0,n=n+Math.imul(m,ot)|0,i=(i=i+Math.imul(m,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(b,ut)|0,o=o+Math.imul(b,ft)|0;var At=(f+(n=n+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,dt)|0)+Math.imul(d,ht)|0))<<13)|0;f=((o=o+Math.imul(d,dt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(U,F),i=(i=Math.imul(U,j))+Math.imul(D,F)|0,o=Math.imul(D,j),n=n+Math.imul(k,G)|0,i=(i=i+Math.imul(k,V)|0)+Math.imul(N,G)|0,o=o+Math.imul(N,V)|0,n=n+Math.imul(R,q)|0,i=(i=i+Math.imul(R,J)|0)+Math.imul(L,q)|0,o=o+Math.imul(L,J)|0,n=n+Math.imul(T,$)|0,i=(i=i+Math.imul(T,Q)|0)+Math.imul(P,$)|0,o=o+Math.imul(P,Q)|0,n=n+Math.imul(E,X)|0,i=(i=i+Math.imul(E,tt)|0)+Math.imul(O,X)|0,o=o+Math.imul(O,tt)|0,n=n+Math.imul(M,rt)|0,i=(i=i+Math.imul(M,nt)|0)+Math.imul(A,rt)|0,o=o+Math.imul(A,nt)|0,n=n+Math.imul(w,ot)|0,i=(i=i+Math.imul(w,st)|0)+Math.imul(_,ot)|0,o=o+Math.imul(_,st)|0,n=n+Math.imul(m,ut)|0,i=(i=i+Math.imul(m,ft)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,ft)|0,n=n+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,dt)|0)+Math.imul(b,ht)|0,o=o+Math.imul(b,dt)|0;var Ct=(f+(n=n+Math.imul(h,pt)|0)|0)+((8191&(i=(i=i+Math.imul(h,bt)|0)+Math.imul(d,pt)|0))<<13)|0;f=((o=o+Math.imul(d,bt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(U,G),i=(i=Math.imul(U,V))+Math.imul(D,G)|0,o=Math.imul(D,V),n=n+Math.imul(k,q)|0,i=(i=i+Math.imul(k,J)|0)+Math.imul(N,q)|0,o=o+Math.imul(N,J)|0,n=n+Math.imul(R,$)|0,i=(i=i+Math.imul(R,Q)|0)+Math.imul(L,$)|0,o=o+Math.imul(L,Q)|0,n=n+Math.imul(T,X)|0,i=(i=i+Math.imul(T,tt)|0)+Math.imul(P,X)|0,o=o+Math.imul(P,tt)|0,n=n+Math.imul(E,rt)|0,i=(i=i+Math.imul(E,nt)|0)+Math.imul(O,rt)|0,o=o+Math.imul(O,nt)|0,n=n+Math.imul(M,ot)|0,i=(i=i+Math.imul(M,st)|0)+Math.imul(A,ot)|0,o=o+Math.imul(A,st)|0,n=n+Math.imul(w,ut)|0,i=(i=i+Math.imul(w,ft)|0)+Math.imul(_,ut)|0,o=o+Math.imul(_,ft)|0,n=n+Math.imul(m,ht)|0,i=(i=i+Math.imul(m,dt)|0)+Math.imul(y,ht)|0,o=o+Math.imul(y,dt)|0;var Et=(f+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,bt)|0)+Math.imul(b,pt)|0))<<13)|0;f=((o=o+Math.imul(b,bt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(U,q),i=(i=Math.imul(U,J))+Math.imul(D,q)|0,o=Math.imul(D,J),n=n+Math.imul(k,$)|0,i=(i=i+Math.imul(k,Q)|0)+Math.imul(N,$)|0,o=o+Math.imul(N,Q)|0,n=n+Math.imul(R,X)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(L,X)|0,o=o+Math.imul(L,tt)|0,n=n+Math.imul(T,rt)|0,i=(i=i+Math.imul(T,nt)|0)+Math.imul(P,rt)|0,o=o+Math.imul(P,nt)|0,n=n+Math.imul(E,ot)|0,i=(i=i+Math.imul(E,st)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,st)|0,n=n+Math.imul(M,ut)|0,i=(i=i+Math.imul(M,ft)|0)+Math.imul(A,ut)|0,o=o+Math.imul(A,ft)|0,n=n+Math.imul(w,ht)|0,i=(i=i+Math.imul(w,dt)|0)+Math.imul(_,ht)|0,o=o+Math.imul(_,dt)|0;var Ot=(f+(n=n+Math.imul(m,pt)|0)|0)+((8191&(i=(i=i+Math.imul(m,bt)|0)+Math.imul(y,pt)|0))<<13)|0;f=((o=o+Math.imul(y,bt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,n=Math.imul(U,$),i=(i=Math.imul(U,Q))+Math.imul(D,$)|0,o=Math.imul(D,Q),n=n+Math.imul(k,X)|0,i=(i=i+Math.imul(k,tt)|0)+Math.imul(N,X)|0,o=o+Math.imul(N,tt)|0,n=n+Math.imul(R,rt)|0,i=(i=i+Math.imul(R,nt)|0)+Math.imul(L,rt)|0,o=o+Math.imul(L,nt)|0,n=n+Math.imul(T,ot)|0,i=(i=i+Math.imul(T,st)|0)+Math.imul(P,ot)|0,o=o+Math.imul(P,st)|0,n=n+Math.imul(E,ut)|0,i=(i=i+Math.imul(E,ft)|0)+Math.imul(O,ut)|0,o=o+Math.imul(O,ft)|0,n=n+Math.imul(M,ht)|0,i=(i=i+Math.imul(M,dt)|0)+Math.imul(A,ht)|0,o=o+Math.imul(A,dt)|0;var xt=(f+(n=n+Math.imul(w,pt)|0)|0)+((8191&(i=(i=i+Math.imul(w,bt)|0)+Math.imul(_,pt)|0))<<13)|0;f=((o=o+Math.imul(_,bt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(U,X),i=(i=Math.imul(U,tt))+Math.imul(D,X)|0,o=Math.imul(D,tt),n=n+Math.imul(k,rt)|0,i=(i=i+Math.imul(k,nt)|0)+Math.imul(N,rt)|0,o=o+Math.imul(N,nt)|0,n=n+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,st)|0)+Math.imul(L,ot)|0,o=o+Math.imul(L,st)|0,n=n+Math.imul(T,ut)|0,i=(i=i+Math.imul(T,ft)|0)+Math.imul(P,ut)|0,o=o+Math.imul(P,ft)|0,n=n+Math.imul(E,ht)|0,i=(i=i+Math.imul(E,dt)|0)+Math.imul(O,ht)|0,o=o+Math.imul(O,dt)|0;var Tt=(f+(n=n+Math.imul(M,pt)|0)|0)+((8191&(i=(i=i+Math.imul(M,bt)|0)+Math.imul(A,pt)|0))<<13)|0;f=((o=o+Math.imul(A,bt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(U,rt),i=(i=Math.imul(U,nt))+Math.imul(D,rt)|0,o=Math.imul(D,nt),n=n+Math.imul(k,ot)|0,i=(i=i+Math.imul(k,st)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,st)|0,n=n+Math.imul(R,ut)|0,i=(i=i+Math.imul(R,ft)|0)+Math.imul(L,ut)|0,o=o+Math.imul(L,ft)|0,n=n+Math.imul(T,ht)|0,i=(i=i+Math.imul(T,dt)|0)+Math.imul(P,ht)|0,o=o+Math.imul(P,dt)|0;var Pt=(f+(n=n+Math.imul(E,pt)|0)|0)+((8191&(i=(i=i+Math.imul(E,bt)|0)+Math.imul(O,pt)|0))<<13)|0;f=((o=o+Math.imul(O,bt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(U,ot),i=(i=Math.imul(U,st))+Math.imul(D,ot)|0,o=Math.imul(D,st),n=n+Math.imul(k,ut)|0,i=(i=i+Math.imul(k,ft)|0)+Math.imul(N,ut)|0,o=o+Math.imul(N,ft)|0,n=n+Math.imul(R,ht)|0,i=(i=i+Math.imul(R,dt)|0)+Math.imul(L,ht)|0,o=o+Math.imul(L,dt)|0;var It=(f+(n=n+Math.imul(T,pt)|0)|0)+((8191&(i=(i=i+Math.imul(T,bt)|0)+Math.imul(P,pt)|0))<<13)|0;f=((o=o+Math.imul(P,bt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(U,ut),i=(i=Math.imul(U,ft))+Math.imul(D,ut)|0,o=Math.imul(D,ft),n=n+Math.imul(k,ht)|0,i=(i=i+Math.imul(k,dt)|0)+Math.imul(N,ht)|0,o=o+Math.imul(N,dt)|0;var Rt=(f+(n=n+Math.imul(R,pt)|0)|0)+((8191&(i=(i=i+Math.imul(R,bt)|0)+Math.imul(L,pt)|0))<<13)|0;f=((o=o+Math.imul(L,bt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(U,ht),i=(i=Math.imul(U,dt))+Math.imul(D,ht)|0,o=Math.imul(D,dt);var Lt=(f+(n=n+Math.imul(k,pt)|0)|0)+((8191&(i=(i=i+Math.imul(k,bt)|0)+Math.imul(N,pt)|0))<<13)|0;f=((o=o+Math.imul(N,bt)|0)+(i>>>13)|0)+(Lt>>>26)|0,Lt&=67108863;var Bt=(f+(n=Math.imul(U,pt))|0)+((8191&(i=(i=Math.imul(U,bt))+Math.imul(D,pt)|0))<<13)|0;return f=((o=Math.imul(D,bt))+(i>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,u[0]=gt,u[1]=mt,u[2]=yt,u[3]=vt,u[4]=wt,u[5]=_t,u[6]=St,u[7]=Mt,u[8]=At,u[9]=Ct,u[10]=Et,u[11]=Ot,u[12]=xt,u[13]=Tt,u[14]=Pt,u[15]=It,u[16]=Rt,u[17]=Lt,u[18]=Bt,0!==f&&(u[19]=f,r.length++),r};function m(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,e.length-1),f=Math.max(0,o-t.length+1);f<=u;f++){var c=o-f,h=(0|t.words[c])*(0|e.words[f]),d=67108863&h;a=67108863&(d=d+a|0),i+=(s=(s=s+(h/67108864|0)|0)+(d>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function y(t,e,r){return m(t,e,r)}function v(t,e){this.x=t,this.y=e}Math.imul||(g=b),o.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?g(this,t,e):r<63?b(this,t,e):r<1024?m(this,t,e):y(this,t,e)},v.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},v.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},v.prototype.permute=function(t,e,r,n,i,o){for(var s=0;s<o;s++)n[s]=e[t[s]],i[s]=r[t[s]]},v.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),f=Math.sin(2*Math.PI/a),c=0;c<i;c+=a)for(var h=u,d=f,l=0;l<s;l++){var p=r[c+l],b=n[c+l],g=r[c+l+s],m=n[c+l+s],y=h*g-d*m;m=h*m+d*g,g=y,r[c+l]=p+g,n[c+l]=b+m,r[c+l+s]=p-g,n[c+l+s]=b-m,l!==a&&(y=u*h-f*d,d=u*d+f*h,h=y)}},v.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},v.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},v.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},v.prototype.convert13b=function(t,e,r,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)r[s]=0;n(0===o),n(0==(-8192&o))},v.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},v.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),f=new Array(n),c=new Array(n),h=new Array(n),d=r.words;d.length=n,this.convert13b(t.words,t.length,s,n),this.convert13b(e.words,e.length,f,n),this.transform(s,o,a,u,n,i),this.transform(f,o,c,h,n,i);for(var l=0;l<n;l++){var p=a[l]*c[l]-u[l]*h[l];u[l]=a[l]*h[l]+u[l]*c[l],a[l]=p}return this.conjugate(a,u,n),this.transform(a,u,d,o,n,i),this.conjugate(d,o,n),this.normalize13b(d,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r._strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),y(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){var e=t<0;e&&(t=-t),n("number"==typeof t),n(t<67108864);for(var r=0,i=0;i<this.length;i++){var o=(0|this.words[i])*t,s=(67108863&o)+(67108863&r);r>>=26,r+=o/67108864|0,r+=s>>>26,this.words[i]=67108863&s}return 0!==r&&(this.words[i]=r,this.length++),e?this.ineg():this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=t.words[n]>>>i&1}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,u=(0|this.words[e])-a<<r;this.words[e]=u|s,s=a>>>26-r}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,u=r;if(i-=s,i=Math.max(0,i),u){for(var f=0;f<s;f++)u.words[f]=this.words[f];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,f=0;f<this.length;f++)this.words[f]=this.words[f+s];else this.words[0]=0,this.length=1;var c=0;for(f=this.length-1;f>=0&&(0!==c||f>=i);f--){var h=0|this.words[f];this.words[f]=c<<26-o|h>>>o,c=h&a}return u&&0!==c&&(u.words[u.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,s=t.length+r;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this._strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,s=0|i.words[i.length-1];0!==(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==e){(a=new o(null)).length=u+1,a.words=new Array(a.length);for(var f=0;f<a.length;f++)a.words[f]=0}var c=n.clone()._ishlnsubmul(i,1,u);0===c.negative&&(n=c,a&&(a.words[u]=1));for(var h=u-1;h>=0;h--){var d=67108864*(0|n.words[i.length+h])+(0|n.words[i.length+h-1]);for(d=Math.min(d/s|0,67108863),n._ishlnsubmul(i,d,h);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(i,1,h),n.isZero()||(n.negative^=1);a&&(a.words[h]=d)}return a&&a._strip(),n._strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modrn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modrn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=(1<<26)%t,i=0,o=this.length-1;o>=0;o--)i=(r*i+(0|this.words[o]))%t;return e?-i:i},o.prototype.modn=function(t){return this.modrn(t)},o.prototype.idivn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*r;this.words[i]=o/t|0,r=o%t}return this._strip(),e?this.ineg():this},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),u=new o(1),f=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++f;for(var c=r.clone(),h=e.clone();!e.isZero();){for(var d=0,l=1;0==(e.words[0]&l)&&d<26;++d,l<<=1);if(d>0)for(e.iushrn(d);d-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(c),s.isub(h)),i.iushrn(1),s.iushrn(1);for(var p=0,b=1;0==(r.words[0]&b)&&p<26;++p,b<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(c),u.isub(h)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),s.isub(u)):(r.isub(e),a.isub(i),u.isub(s))}return{a,b:u,gcd:r.iushln(f)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var f=0,c=1;0==(e.words[0]&c)&&f<26;++f,c<<=1);if(f>0)for(e.iushrn(f);f-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var h=0,d=1;0==(r.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(r.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),s.isub(a)):(r.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new E(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var w={k256:null,p224:null,p192:null,p25519:null};function _(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function S(){_.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function M(){_.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function A(){_.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function C(){_.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function O(t){E.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},_.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},_.prototype.split=function(t,e){t.iushrn(this.n,0,e)},_.prototype.imulK=function(t){return t.imul(this.k)},i(S,_),S.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&r,i=10;i<t.length;i++){var s=0|t.words[i];t.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},S.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(M,_),i(A,_),i(C,_),C.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(w[t])return w[t];var e;if("k256"===t)e=new S;else if("p224"===t)e=new M;else if("p192"===t)e=new A;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new C}return w[t]=e,e},E.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},E.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},E.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(c(t,t.umod(this.m)._forceRed(this)),t)},E.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},E.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},E.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},E.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},E.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},E.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},E.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},E.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},E.prototype.isqr=function(t){return this.imul(t,t.clone())},E.prototype.sqr=function(t){return this.mul(t,t)},E.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),u=a.redNeg(),f=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new o(2*c*c).toRed(this);0!==this.pow(c,f).cmp(u);)c.redIAdd(u);for(var h=this.pow(c,i),d=this.pow(t,i.addn(1).iushrn(1)),l=this.pow(t,i),p=s;0!==l.cmp(a);){for(var b=l,g=0;0!==b.cmp(a);g++)b=b.redSqr();n(g<p);var m=this.pow(h,new o(1).iushln(p-g-1));d=d.redMul(m),h=m.redSqr(),l=l.redMul(h),p=g}return d},E.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},E.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],s=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var f=e.words[n],c=u-1;c>=0;c--){var h=f>>c&1;i!==r[0]&&(i=this.sqr(i)),0!==h||0!==s?(s<<=1,s|=h,(4===++a||0===n&&0===c)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}u=26}return i},E.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},E.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new O(t)},i(O,E),O.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},O.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},O.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},O.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},O.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},2745:(t,e,r)=>{var n;function i(t){this.rand=t}if(t.exports=function(t){return n||(n=new i(null)),n.generate(t)},t.exports.Rand=i,i.prototype.generate=function(t){return this._rand(t)},i.prototype._rand=function(t){if(this.rand.getBytes)return this.rand.getBytes(t);for(var e=new Uint8Array(t),r=0;r<e.length;r++)e[r]=this.rand.getByte();return e},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(t){var e=new Uint8Array(t);return self.crypto.getRandomValues(e),e}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(t){var e=new Uint8Array(t);return self.msCrypto.getRandomValues(e),e}:"object"==typeof window&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=r(8087);if("function"!=typeof o.randomBytes)throw new Error("Not supported");i.prototype._rand=function(t){return o.randomBytes(t)}}catch(t){}},7022:(t,e,r)=>{const n=r(8166);t.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},6279:function(t,e){var r="undefined"!=typeof self?self:this,n=function(){function t(){this.fetch=!1,this.DOMException=r.DOMException}return t.prototype=r,new t}();!function(t){!function(e){var r="URLSearchParams"in t,n="Symbol"in t&&"iterator"in Symbol,i="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),o="FormData"in t,s="ArrayBuffer"in t;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(t){return t&&a.indexOf(Object.prototype.toString.call(t))>-1};function f(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function c(t){return"string"!=typeof t&&(t=String(t)),t}function h(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return n&&(e[Symbol.iterator]=function(){return e}),e}function d(t){this.map={},t instanceof d?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function l(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function p(t){return new Promise((function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}}))}function b(t){var e=new FileReader,r=p(e);return e.readAsArrayBuffer(t),r}function g(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:i&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:o&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:r&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():s&&i&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=g(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(t)||u(t))?this._bodyArrayBuffer=g(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var t=l(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?l(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(b)}),this.text=function(){var t,e,r,n=l(this);if(n)return n;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,r=p(e),e.readAsText(t),r;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),r=new Array(e.length),n=0;n<e.length;n++)r[n]=String.fromCharCode(e[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}d.prototype.append=function(t,e){t=f(t),e=c(e);var r=this.map[t];this.map[t]=r?r+", "+e:e},d.prototype.delete=function(t){delete this.map[f(t)]},d.prototype.get=function(t){return t=f(t),this.has(t)?this.map[t]:null},d.prototype.has=function(t){return this.map.hasOwnProperty(f(t))},d.prototype.set=function(t,e){this.map[f(t)]=c(e)},d.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},d.prototype.keys=function(){var t=[];return this.forEach((function(e,r){t.push(r)})),h(t)},d.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),h(t)},d.prototype.entries=function(){var t=[];return this.forEach((function(e,r){t.push([r,e])})),h(t)},n&&(d.prototype[Symbol.iterator]=d.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function v(t,e){var r,n,i=(e=e||{}).body;if(t instanceof v){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new d(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new d(e.headers)),this.method=(r=e.method||this.method||"GET",n=r.toUpperCase(),y.indexOf(n)>-1?n:r),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function w(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var r=t.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(i))}})),e}function _(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new d(e.headers),this.url=e.url||"",this._initBody(t)}v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},m.call(v.prototype),m.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},_.error=function(){var t=new _(null,{status:0,statusText:""});return t.type="error",t};var S=[301,302,303,307,308];_.redirect=function(t,e){if(-1===S.indexOf(e))throw new RangeError("Invalid status code");return new _(null,{status:e,headers:{location:t}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(t,e){this.message=t,this.name=e;var r=Error(t);this.stack=r.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function M(t,r){return new Promise((function(n,o){var s=new v(t,r);if(s.signal&&s.signal.aborted)return o(new e.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function u(){a.abort()}a.onload=function(){var t,e,r={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new d,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var r=t.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();e.append(n,i)}})),e)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;n(new _(i,r))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.onabort=function(){o(new e.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&i&&(a.responseType="blob"),s.headers.forEach((function(t,e){a.setRequestHeader(e,t)})),s.signal&&(s.signal.addEventListener("abort",u),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",u)}),a.send(void 0===s._bodyInit?null:s._bodyInit)}))}M.polyfill=!0,t.fetch||(t.fetch=M,t.Headers=d,t.Request=v,t.Response=_),e.Headers=d,e.Request=v,e.Response=_,e.fetch=M,Object.defineProperty(e,"__esModule",{value:!0})}({})}(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;(e=i.fetch).default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e},7452:function(t,e,r){var n;t.exports=(n=r(7359),r(8139),r(9174),r(6844),r(9951),function(){var t=n,e=t.lib.BlockCipher,r=t.algo,i=[],o=[],s=[],a=[],u=[],f=[],c=[],h=[],d=[],l=[];!function(){for(var t=[],e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;var r=0,n=0;for(e=0;e<256;e++){var p=n^n<<1^n<<2^n<<3^n<<4;p=p>>>8^255&p^99,i[r]=p,o[p]=r;var b=t[r],g=t[b],m=t[g],y=257*t[p]^16843008*p;s[r]=y<<24|y>>>8,a[r]=y<<16|y>>>16,u[r]=y<<8|y>>>24,f[r]=y,y=16843009*m^65537*g^257*b^16843008*r,c[p]=y<<24|y>>>8,h[p]=y<<16|y>>>16,d[p]=y<<8|y>>>24,l[p]=y,r?(r=b^t[t[t[m^b]]],n^=t[t[n]]):r=n=1}}();var p=[0,1,2,4,8,16,32,64,128,27,54],b=r.AES=e.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var t=this._keyPriorReset=this._key,e=t.words,r=t.sigBytes/4,n=4*((this._nRounds=r+6)+1),o=this._keySchedule=[],s=0;s<n;s++)s<r?o[s]=e[s]:(f=o[s-1],s%r?r>6&&s%r==4&&(f=i[f>>>24]<<24|i[f>>>16&255]<<16|i[f>>>8&255]<<8|i[255&f]):(f=i[(f=f<<8|f>>>24)>>>24]<<24|i[f>>>16&255]<<16|i[f>>>8&255]<<8|i[255&f],f^=p[s/r|0]<<24),o[s]=o[s-r]^f);for(var a=this._invKeySchedule=[],u=0;u<n;u++){if(s=n-u,u%4)var f=o[s];else f=o[s-4];a[u]=u<4||s<=4?f:c[i[f>>>24]]^h[i[f>>>16&255]]^d[i[f>>>8&255]]^l[i[255&f]]}}},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,s,a,u,f,i)},decryptBlock:function(t,e){var r=t[e+1];t[e+1]=t[e+3],t[e+3]=r,this._doCryptBlock(t,e,this._invKeySchedule,c,h,d,l,o),r=t[e+1],t[e+1]=t[e+3],t[e+3]=r},_doCryptBlock:function(t,e,r,n,i,o,s,a){for(var u=this._nRounds,f=t[e]^r[0],c=t[e+1]^r[1],h=t[e+2]^r[2],d=t[e+3]^r[3],l=4,p=1;p<u;p++){var b=n[f>>>24]^i[c>>>16&255]^o[h>>>8&255]^s[255&d]^r[l++],g=n[c>>>24]^i[h>>>16&255]^o[d>>>8&255]^s[255&f]^r[l++],m=n[h>>>24]^i[d>>>16&255]^o[f>>>8&255]^s[255&c]^r[l++],y=n[d>>>24]^i[f>>>16&255]^o[c>>>8&255]^s[255&h]^r[l++];f=b,c=g,h=m,d=y}b=(a[f>>>24]<<24|a[c>>>16&255]<<16|a[h>>>8&255]<<8|a[255&d])^r[l++],g=(a[c>>>24]<<24|a[h>>>16&255]<<16|a[d>>>8&255]<<8|a[255&f])^r[l++],m=(a[h>>>24]<<24|a[d>>>16&255]<<16|a[f>>>8&255]<<8|a[255&c])^r[l++],y=(a[d>>>24]<<24|a[f>>>16&255]<<16|a[c>>>8&255]<<8|a[255&h])^r[l++],t[e]=b,t[e+1]=g,t[e+2]=m,t[e+3]=y},keySize:8});t.AES=e._createHelper(b)}(),n.AES)},9951:function(t,e,r){var n;t.exports=(n=r(7359),r(6844),void(n.lib.Cipher||function(t){var e=n,r=e.lib,i=r.Base,o=r.WordArray,s=r.BufferedBlockAlgorithm,a=e.enc,u=(a.Utf8,a.Base64),f=e.algo.EvpKDF,c=r.Cipher=s.extend({cfg:i.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,r){this.cfg=this.cfg.extend(r),this._xformMode=t,this._key=e,this.reset()},reset:function(){s.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function t(t){return"string"==typeof t?v:m}return function(e){return{encrypt:function(r,n,i){return t(n).encrypt(e,r,n,i)},decrypt:function(r,n,i){return t(n).decrypt(e,r,n,i)}}}}()}),h=(r.StreamCipher=c.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),e.mode={}),d=r.BlockCipherMode=i.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}}),l=h.CBC=function(){var e=d.extend();function r(e,r,n){var i,o=this._iv;o?(i=o,this._iv=t):i=this._prevBlock;for(var s=0;s<n;s++)e[r+s]^=i[s]}return e.Encryptor=e.extend({processBlock:function(t,e){var n=this._cipher,i=n.blockSize;r.call(this,t,e,i),n.encryptBlock(t,e),this._prevBlock=t.slice(e,e+i)}}),e.Decryptor=e.extend({processBlock:function(t,e){var n=this._cipher,i=n.blockSize,o=t.slice(e,e+i);n.decryptBlock(t,e),r.call(this,t,e,i),this._prevBlock=o}}),e}(),p=(e.pad={}).Pkcs7={pad:function(t,e){for(var r=4*e,n=r-t.sigBytes%r,i=n<<24|n<<16|n<<8|n,s=[],a=0;a<n;a+=4)s.push(i);var u=o.create(s,n);t.concat(u)},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},b=(r.BlockCipher=c.extend({cfg:c.cfg.extend({mode:l,padding:p}),reset:function(){var t;c.reset.call(this);var e=this.cfg,r=e.iv,n=e.mode;this._xformMode==this._ENC_XFORM_MODE?t=n.createEncryptor:(t=n.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==t?this._mode.init(this,r&&r.words):(this._mode=t.call(n,this,r&&r.words),this._mode.__creator=t)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t,e=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(e.pad(this._data,this.blockSize),t=this._process(!0)):(t=this._process(!0),e.unpad(t)),t},blockSize:4}),r.CipherParams=i.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}})),g=(e.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext,r=t.salt;return(r?o.create([1398893684,1701076831]).concat(r).concat(e):e).toString(u)},parse:function(t){var e,r=u.parse(t),n=r.words;return 1398893684==n[0]&&1701076831==n[1]&&(e=o.create(n.slice(2,4)),n.splice(0,4),r.sigBytes-=16),b.create({ciphertext:r,salt:e})}},m=r.SerializableCipher=i.extend({cfg:i.extend({format:g}),encrypt:function(t,e,r,n){n=this.cfg.extend(n);var i=t.createEncryptor(r,n),o=i.finalize(e),s=i.cfg;return b.create({ciphertext:o,key:r,iv:s.iv,algorithm:t,mode:s.mode,padding:s.padding,blockSize:t.blockSize,formatter:n.format})},decrypt:function(t,e,r,n){return n=this.cfg.extend(n),e=this._parse(e,n.format),t.createDecryptor(r,n).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),y=(e.kdf={}).OpenSSL={execute:function(t,e,r,n){n||(n=o.random(8));var i=f.create({keySize:e+r}).compute(t,n),s=o.create(i.words.slice(e),4*r);return i.sigBytes=4*e,b.create({key:i,iv:s,salt:n})}},v=r.PasswordBasedCipher=m.extend({cfg:m.cfg.extend({kdf:y}),encrypt:function(t,e,r,n){var i=(n=this.cfg.extend(n)).kdf.execute(r,t.keySize,t.ivSize);n.iv=i.iv;var o=m.encrypt.call(this,t,e,i.key,n);return o.mixIn(i),o},decrypt:function(t,e,r,n){n=this.cfg.extend(n),e=this._parse(e,n.format);var i=n.kdf.execute(r,t.keySize,t.ivSize,e.salt);return n.iv=i.iv,m.decrypt.call(this,t,e,i.key,n)}})}()))},7359:function(t,e,r){var n;t.exports=(n=n||function(t,e){var n;if("undefined"!=typeof window&&window.crypto&&(n=window.crypto),"undefined"!=typeof self&&self.crypto&&(n=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(n=globalThis.crypto),!n&&"undefined"!=typeof window&&window.msCrypto&&(n=window.msCrypto),!n&&void 0!==r.g&&r.g.crypto&&(n=r.g.crypto),!n)try{n=r(633)}catch(t){}var i=function(){if(n){if("function"==typeof n.getRandomValues)try{return n.getRandomValues(new Uint32Array(1))[0]}catch(t){}if("function"==typeof n.randomBytes)try{return n.randomBytes(4).readInt32LE()}catch(t){}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function t(){}return function(e){var r;return t.prototype=e,r=new t,t.prototype=null,r}}(),s={},a=s.lib={},u=a.Base={extend:function(t){var e=o(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},f=a.WordArray=u.extend({init:function(t,r){t=this.words=t||[],this.sigBytes=r!=e?r:4*t.length},toString:function(t){return(t||h).stringify(this)},concat:function(t){var e=this.words,r=t.words,n=this.sigBytes,i=t.sigBytes;if(this.clamp(),n%4)for(var o=0;o<i;o++){var s=r[o>>>2]>>>24-o%4*8&255;e[n+o>>>2]|=s<<24-(n+o)%4*8}else for(var a=0;a<i;a+=4)e[n+a>>>2]=r[a>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,r=this.sigBytes;e[r>>>2]&=4294967295<<32-r%4*8,e.length=t.ceil(r/4)},clone:function(){var t=u.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],r=0;r<t;r+=4)e.push(i());return new f.init(e,t)}}),c=s.enc={},h=c.Hex={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],i=0;i<r;i++){var o=e[i>>>2]>>>24-i%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r[n>>>3]|=parseInt(t.substr(n,2),16)<<24-n%8*4;return new f.init(r,e/2)}},d=c.Latin1={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],i=0;i<r;i++){var o=e[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(o))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n++)r[n>>>2]|=(255&t.charCodeAt(n))<<24-n%4*8;return new f.init(r,e)}},l=c.Utf8={stringify:function(t){try{return decodeURIComponent(escape(d.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return d.parse(unescape(encodeURIComponent(t)))}},p=a.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new f.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=l.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var r,n=this._data,i=n.words,o=n.sigBytes,s=this.blockSize,a=o/(4*s),u=(a=e?t.ceil(a):t.max((0|a)-this._minBufferSize,0))*s,c=t.min(4*u,o);if(u){for(var h=0;h<u;h+=s)this._doProcessBlock(i,h);r=i.splice(0,u),n.sigBytes-=c}return new f.init(r,c)},clone:function(){var t=u.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),b=(a.Hasher=p.extend({cfg:u.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,r){return new t.init(r).finalize(e)}},_createHmacHelper:function(t){return function(e,r){return new b.HMAC.init(t,r).finalize(e)}}}),s.algo={});return s}(Math),n)},8139:function(t,e,r){var n;t.exports=(n=r(7359),function(){var t=n,e=t.lib.WordArray;function r(t,r,n){for(var i=[],o=0,s=0;s<r;s++)if(s%4){var a=n[t.charCodeAt(s-1)]<<s%4*2|n[t.charCodeAt(s)]>>>6-s%4*2;i[o>>>2]|=a<<24-o%4*8,o++}return e.create(i,o)}t.enc.Base64={stringify:function(t){var e=t.words,r=t.sigBytes,n=this._map;t.clamp();for(var i=[],o=0;o<r;o+=3)for(var s=(e[o>>>2]>>>24-o%4*8&255)<<16|(e[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|e[o+2>>>2]>>>24-(o+2)%4*8&255,a=0;a<4&&o+.75*a<r;a++)i.push(n.charAt(s>>>6*(3-a)&63));var u=n.charAt(64);if(u)for(;i.length%4;)i.push(u);return i.join("")},parse:function(t){var e=t.length,n=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var o=0;o<n.length;o++)i[n.charCodeAt(o)]=o}var s=n.charAt(64);if(s){var a=t.indexOf(s);-1!==a&&(e=a)}return r(t,e,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),n.enc.Base64)},9950:function(t,e,r){var n;t.exports=(n=r(7359),function(){var t=n,e=t.lib.WordArray;function r(t,r,n){for(var i=[],o=0,s=0;s<r;s++)if(s%4){var a=n[t.charCodeAt(s-1)]<<s%4*2|n[t.charCodeAt(s)]>>>6-s%4*2;i[o>>>2]|=a<<24-o%4*8,o++}return e.create(i,o)}t.enc.Base64url={stringify:function(t,e=!0){var r=t.words,n=t.sigBytes,i=e?this._safe_map:this._map;t.clamp();for(var o=[],s=0;s<n;s+=3)for(var a=(r[s>>>2]>>>24-s%4*8&255)<<16|(r[s+1>>>2]>>>24-(s+1)%4*8&255)<<8|r[s+2>>>2]>>>24-(s+2)%4*8&255,u=0;u<4&&s+.75*u<n;u++)o.push(i.charAt(a>>>6*(3-u)&63));var f=i.charAt(64);if(f)for(;o.length%4;)o.push(f);return o.join("")},parse:function(t,e=!0){var n=t.length,i=e?this._safe_map:this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var s=0;s<i.length;s++)o[i.charCodeAt(s)]=s}var a=i.charAt(64);if(a){var u=t.indexOf(a);-1!==u&&(n=u)}return r(t,n,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"}}(),n.enc.Base64url)},7736:function(t,e,r){var n;t.exports=(n=r(7359),n.enc.Hex)},9576:function(t,e,r){var n;t.exports=(n=r(7359),n.enc.Latin1)},6164:function(t,e,r){var n;t.exports=(n=r(7359),function(){var t=n,e=t.lib.WordArray,r=t.enc;function i(t){return t<<8&4278255360|t>>>8&16711935}r.Utf16=r.Utf16BE={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],i=0;i<r;i+=2){var o=e[i>>>2]>>>16-i%4*8&65535;n.push(String.fromCharCode(o))}return n.join("")},parse:function(t){for(var r=t.length,n=[],i=0;i<r;i++)n[i>>>1]|=t.charCodeAt(i)<<16-i%2*16;return e.create(n,2*r)}},r.Utf16LE={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],o=0;o<r;o+=2){var s=i(e[o>>>2]>>>16-o%4*8&65535);n.push(String.fromCharCode(s))}return n.join("")},parse:function(t){for(var r=t.length,n=[],o=0;o<r;o++)n[o>>>1]|=i(t.charCodeAt(o)<<16-o%2*16);return e.create(n,2*r)}}}(),n.enc.Utf16)},6844:function(t,e,r){var n,i,o,s,a,u,f,c;t.exports=(c=r(7359),r(1637),r(6423),i=(n=c).lib,o=i.Base,s=i.WordArray,a=n.algo,u=a.MD5,f=a.EvpKDF=o.extend({cfg:o.extend({keySize:4,hasher:u,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var r,n=this.cfg,i=n.hasher.create(),o=s.create(),a=o.words,u=n.keySize,f=n.iterations;a.length<u;){r&&i.update(r),r=i.update(t).finalize(e),i.reset();for(var c=1;c<f;c++)r=i.finalize(r),i.reset();o.concat(r)}return o.sigBytes=4*u,o}}),n.EvpKDF=function(t,e,r){return f.create(r).compute(t,e)},c.EvpKDF)},7333:function(t,e,r){var n,i,o,s;t.exports=(s=r(7359),r(9951),i=(n=s).lib.CipherParams,o=n.enc.Hex,n.format.Hex={stringify:function(t){return t.ciphertext.toString(o)},parse:function(t){var e=o.parse(t);return i.create({ciphertext:e})}},s.format.Hex)},6423:function(t,e,r){var n,i,o,s;t.exports=(n=r(7359),o=(i=n).lib.Base,s=i.enc.Utf8,void(i.algo.HMAC=o.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=s.parse(e));var r=t.blockSize,n=4*r;e.sigBytes>n&&(e=t.finalize(e)),e.clamp();for(var i=this._oKey=e.clone(),o=this._iKey=e.clone(),a=i.words,u=o.words,f=0;f<r;f++)a[f]^=1549556828,u[f]^=909522486;i.sigBytes=o.sigBytes=n,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,r=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(r))}})))},6023:function(t,e,r){var n;t.exports=(n=r(7359),r(6467),r(1816),r(6164),r(8139),r(9950),r(9174),r(1637),r(1093),r(3640),r(1834),r(1716),r(7140),r(5293),r(6423),r(9414),r(6844),r(9951),r(3173),r(4782),r(8655),r(2957),r(2129),r(2994),r(9236),r(1476),r(7921),r(181),r(7333),r(7452),r(567),r(830),r(3480),r(4730),n)},1816:function(t,e,r){var n;t.exports=(n=r(7359),function(){if("function"==typeof ArrayBuffer){var t=n.lib.WordArray,e=t.init,r=t.init=function(t){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),(t instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)&&(t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),t instanceof Uint8Array){for(var r=t.byteLength,n=[],i=0;i<r;i++)n[i>>>2]|=t[i]<<24-i%4*8;e.call(this,n,r)}else e.apply(this,arguments)};r.prototype=t}}(),n.lib.WordArray)},9174:function(t,e,r){var n;t.exports=(n=r(7359),function(t){var e=n,r=e.lib,i=r.WordArray,o=r.Hasher,s=e.algo,a=[];!function(){for(var e=0;e<64;e++)a[e]=4294967296*t.abs(t.sin(e+1))|0}();var u=s.MD5=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var r=0;r<16;r++){var n=e+r,i=t[n];t[n]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o=this._hash.words,s=t[e+0],u=t[e+1],l=t[e+2],p=t[e+3],b=t[e+4],g=t[e+5],m=t[e+6],y=t[e+7],v=t[e+8],w=t[e+9],_=t[e+10],S=t[e+11],M=t[e+12],A=t[e+13],C=t[e+14],E=t[e+15],O=o[0],x=o[1],T=o[2],P=o[3];O=f(O,x,T,P,s,7,a[0]),P=f(P,O,x,T,u,12,a[1]),T=f(T,P,O,x,l,17,a[2]),x=f(x,T,P,O,p,22,a[3]),O=f(O,x,T,P,b,7,a[4]),P=f(P,O,x,T,g,12,a[5]),T=f(T,P,O,x,m,17,a[6]),x=f(x,T,P,O,y,22,a[7]),O=f(O,x,T,P,v,7,a[8]),P=f(P,O,x,T,w,12,a[9]),T=f(T,P,O,x,_,17,a[10]),x=f(x,T,P,O,S,22,a[11]),O=f(O,x,T,P,M,7,a[12]),P=f(P,O,x,T,A,12,a[13]),T=f(T,P,O,x,C,17,a[14]),O=c(O,x=f(x,T,P,O,E,22,a[15]),T,P,u,5,a[16]),P=c(P,O,x,T,m,9,a[17]),T=c(T,P,O,x,S,14,a[18]),x=c(x,T,P,O,s,20,a[19]),O=c(O,x,T,P,g,5,a[20]),P=c(P,O,x,T,_,9,a[21]),T=c(T,P,O,x,E,14,a[22]),x=c(x,T,P,O,b,20,a[23]),O=c(O,x,T,P,w,5,a[24]),P=c(P,O,x,T,C,9,a[25]),T=c(T,P,O,x,p,14,a[26]),x=c(x,T,P,O,v,20,a[27]),O=c(O,x,T,P,A,5,a[28]),P=c(P,O,x,T,l,9,a[29]),T=c(T,P,O,x,y,14,a[30]),O=h(O,x=c(x,T,P,O,M,20,a[31]),T,P,g,4,a[32]),P=h(P,O,x,T,v,11,a[33]),T=h(T,P,O,x,S,16,a[34]),x=h(x,T,P,O,C,23,a[35]),O=h(O,x,T,P,u,4,a[36]),P=h(P,O,x,T,b,11,a[37]),T=h(T,P,O,x,y,16,a[38]),x=h(x,T,P,O,_,23,a[39]),O=h(O,x,T,P,A,4,a[40]),P=h(P,O,x,T,s,11,a[41]),T=h(T,P,O,x,p,16,a[42]),x=h(x,T,P,O,m,23,a[43]),O=h(O,x,T,P,w,4,a[44]),P=h(P,O,x,T,M,11,a[45]),T=h(T,P,O,x,E,16,a[46]),O=d(O,x=h(x,T,P,O,l,23,a[47]),T,P,s,6,a[48]),P=d(P,O,x,T,y,10,a[49]),T=d(T,P,O,x,C,15,a[50]),x=d(x,T,P,O,g,21,a[51]),O=d(O,x,T,P,M,6,a[52]),P=d(P,O,x,T,p,10,a[53]),T=d(T,P,O,x,_,15,a[54]),x=d(x,T,P,O,u,21,a[55]),O=d(O,x,T,P,v,6,a[56]),P=d(P,O,x,T,E,10,a[57]),T=d(T,P,O,x,m,15,a[58]),x=d(x,T,P,O,A,21,a[59]),O=d(O,x,T,P,b,6,a[60]),P=d(P,O,x,T,S,10,a[61]),T=d(T,P,O,x,l,15,a[62]),x=d(x,T,P,O,w,21,a[63]),o[0]=o[0]+O|0,o[1]=o[1]+x|0,o[2]=o[2]+T|0,o[3]=o[3]+P|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;r[i>>>5]|=128<<24-i%32;var o=t.floor(n/4294967296),s=n;r[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),r[14+(i+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),e.sigBytes=4*(r.length+1),this._process();for(var a=this._hash,u=a.words,f=0;f<4;f++){var c=u[f];u[f]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}return a},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});function f(t,e,r,n,i,o,s){var a=t+(e&r|~e&n)+i+s;return(a<<o|a>>>32-o)+e}function c(t,e,r,n,i,o,s){var a=t+(e&n|r&~n)+i+s;return(a<<o|a>>>32-o)+e}function h(t,e,r,n,i,o,s){var a=t+(e^r^n)+i+s;return(a<<o|a>>>32-o)+e}function d(t,e,r,n,i,o,s){var a=t+(r^(e|~n))+i+s;return(a<<o|a>>>32-o)+e}e.MD5=o._createHelper(u),e.HmacMD5=o._createHmacHelper(u)}(Math),n.MD5)},3173:function(t,e,r){var n;t.exports=(n=r(7359),r(9951),n.mode.CFB=function(){var t=n.lib.BlockCipherMode.extend();function e(t,e,r,n){var i,o=this._iv;o?(i=o.slice(0),this._iv=void 0):i=this._prevBlock,n.encryptBlock(i,0);for(var s=0;s<r;s++)t[e+s]^=i[s]}return t.Encryptor=t.extend({processBlock:function(t,r){var n=this._cipher,i=n.blockSize;e.call(this,t,r,i,n),this._prevBlock=t.slice(r,r+i)}}),t.Decryptor=t.extend({processBlock:function(t,r){var n=this._cipher,i=n.blockSize,o=t.slice(r,r+i);e.call(this,t,r,i,n),this._prevBlock=o}}),t}(),n.mode.CFB)},8655:function(t,e,r){var n;t.exports=(n=r(7359),r(9951),n.mode.CTRGladman=function(){var t=n.lib.BlockCipherMode.extend();function e(t){if(255==(t>>24&255)){var e=t>>16&255,r=t>>8&255,n=255&t;255===e?(e=0,255===r?(r=0,255===n?n=0:++n):++r):++e,t=0,t+=e<<16,t+=r<<8,t+=n}else t+=1<<24;return t}function r(t){return 0===(t[0]=e(t[0]))&&(t[1]=e(t[1])),t}var i=t.Encryptor=t.extend({processBlock:function(t,e){var n=this._cipher,i=n.blockSize,o=this._iv,s=this._counter;o&&(s=this._counter=o.slice(0),this._iv=void 0),r(s);var a=s.slice(0);n.encryptBlock(a,0);for(var u=0;u<i;u++)t[e+u]^=a[u]}});return t.Decryptor=i,t}(),n.mode.CTRGladman)},4782:function(t,e,r){var n,i,o;t.exports=(o=r(7359),r(9951),o.mode.CTR=(n=o.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(t,e){var r=this._cipher,n=r.blockSize,i=this._iv,o=this._counter;i&&(o=this._counter=i.slice(0),this._iv=void 0);var s=o.slice(0);r.encryptBlock(s,0),o[n-1]=o[n-1]+1|0;for(var a=0;a<n;a++)t[e+a]^=s[a]}}),n.Decryptor=i,n),o.mode.CTR)},2129:function(t,e,r){var n,i;t.exports=(i=r(7359),r(9951),i.mode.ECB=((n=i.lib.BlockCipherMode.extend()).Encryptor=n.extend({processBlock:function(t,e){this._cipher.encryptBlock(t,e)}}),n.Decryptor=n.extend({processBlock:function(t,e){this._cipher.decryptBlock(t,e)}}),n),i.mode.ECB)},2957:function(t,e,r){var n,i,o;t.exports=(o=r(7359),r(9951),o.mode.OFB=(n=o.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(t,e){var r=this._cipher,n=r.blockSize,i=this._iv,o=this._keystream;i&&(o=this._keystream=i.slice(0),this._iv=void 0),r.encryptBlock(o,0);for(var s=0;s<n;s++)t[e+s]^=o[s]}}),n.Decryptor=i,n),o.mode.OFB)},2994:function(t,e,r){var n;t.exports=(n=r(7359),r(9951),n.pad.AnsiX923={pad:function(t,e){var r=t.sigBytes,n=4*e,i=n-r%n,o=r+i-1;t.clamp(),t.words[o>>>2]|=i<<24-o%4*8,t.sigBytes+=i},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},n.pad.Ansix923)},9236:function(t,e,r){var n;t.exports=(n=r(7359),r(9951),n.pad.Iso10126={pad:function(t,e){var r=4*e,i=r-t.sigBytes%r;t.concat(n.lib.WordArray.random(i-1)).concat(n.lib.WordArray.create([i<<24],1))},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},n.pad.Iso10126)},1476:function(t,e,r){var n;t.exports=(n=r(7359),r(9951),n.pad.Iso97971={pad:function(t,e){t.concat(n.lib.WordArray.create([2147483648],1)),n.pad.ZeroPadding.pad(t,e)},unpad:function(t){n.pad.ZeroPadding.unpad(t),t.sigBytes--}},n.pad.Iso97971)},181:function(t,e,r){var n;t.exports=(n=r(7359),r(9951),n.pad.NoPadding={pad:function(){},unpad:function(){}},n.pad.NoPadding)},7921:function(t,e,r){var n;t.exports=(n=r(7359),r(9951),n.pad.ZeroPadding={pad:function(t,e){var r=4*e;t.clamp(),t.sigBytes+=r-(t.sigBytes%r||r)},unpad:function(t){var e=t.words,r=t.sigBytes-1;for(r=t.sigBytes-1;r>=0;r--)if(e[r>>>2]>>>24-r%4*8&255){t.sigBytes=r+1;break}}},n.pad.ZeroPadding)},9414:function(t,e,r){var n,i,o,s,a,u,f,c,h;t.exports=(h=r(7359),r(1637),r(6423),i=(n=h).lib,o=i.Base,s=i.WordArray,a=n.algo,u=a.SHA1,f=a.HMAC,c=a.PBKDF2=o.extend({cfg:o.extend({keySize:4,hasher:u,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var r=this.cfg,n=f.create(r.hasher,t),i=s.create(),o=s.create([1]),a=i.words,u=o.words,c=r.keySize,h=r.iterations;a.length<c;){var d=n.update(e).finalize(o);n.reset();for(var l=d.words,p=l.length,b=d,g=1;g<h;g++){b=n.finalize(b),n.reset();for(var m=b.words,y=0;y<p;y++)l[y]^=m[y]}i.concat(d),u[0]++}return i.sigBytes=4*c,i}}),n.PBKDF2=function(t,e,r){return c.create(r).compute(t,e)},h.PBKDF2)},4730:function(t,e,r){var n;t.exports=(n=r(7359),r(8139),r(9174),r(6844),r(9951),function(){var t=n,e=t.lib.StreamCipher,r=t.algo,i=[],o=[],s=[],a=r.RabbitLegacy=e.extend({_doReset:function(){var t=this._key.words,e=this.cfg.iv,r=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],n=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];this._b=0;for(var i=0;i<4;i++)u.call(this);for(i=0;i<8;i++)n[i]^=r[i+4&7];if(e){var o=e.words,s=o[0],a=o[1],f=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),c=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),h=f>>>16|4294901760&c,d=c<<16|65535&f;for(n[0]^=f,n[1]^=h,n[2]^=c,n[3]^=d,n[4]^=f,n[5]^=h,n[6]^=c,n[7]^=d,i=0;i<4;i++)u.call(this)}},_doProcessBlock:function(t,e){var r=this._X;u.call(this),i[0]=r[0]^r[5]>>>16^r[3]<<16,i[1]=r[2]^r[7]>>>16^r[5]<<16,i[2]=r[4]^r[1]>>>16^r[7]<<16,i[3]=r[6]^r[3]>>>16^r[1]<<16;for(var n=0;n<4;n++)i[n]=16711935&(i[n]<<8|i[n]>>>24)|4278255360&(i[n]<<24|i[n]>>>8),t[e+n]^=i[n]},blockSize:4,ivSize:2});function u(){for(var t=this._X,e=this._C,r=0;r<8;r++)o[r]=e[r];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<o[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<o[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<o[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<o[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<o[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<o[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<o[6]>>>0?1:0)|0,this._b=e[7]>>>0<o[7]>>>0?1:0,r=0;r<8;r++){var n=t[r]+e[r],i=65535&n,a=n>>>16,u=((i*i>>>17)+i*a>>>15)+a*a,f=((4294901760&n)*n|0)+((65535&n)*n|0);s[r]=u^f}t[0]=s[0]+(s[7]<<16|s[7]>>>16)+(s[6]<<16|s[6]>>>16)|0,t[1]=s[1]+(s[0]<<8|s[0]>>>24)+s[7]|0,t[2]=s[2]+(s[1]<<16|s[1]>>>16)+(s[0]<<16|s[0]>>>16)|0,t[3]=s[3]+(s[2]<<8|s[2]>>>24)+s[1]|0,t[4]=s[4]+(s[3]<<16|s[3]>>>16)+(s[2]<<16|s[2]>>>16)|0,t[5]=s[5]+(s[4]<<8|s[4]>>>24)+s[3]|0,t[6]=s[6]+(s[5]<<16|s[5]>>>16)+(s[4]<<16|s[4]>>>16)|0,t[7]=s[7]+(s[6]<<8|s[6]>>>24)+s[5]|0}t.RabbitLegacy=e._createHelper(a)}(),n.RabbitLegacy)},3480:function(t,e,r){var n;t.exports=(n=r(7359),r(8139),r(9174),r(6844),r(9951),function(){var t=n,e=t.lib.StreamCipher,r=t.algo,i=[],o=[],s=[],a=r.Rabbit=e.extend({_doReset:function(){for(var t=this._key.words,e=this.cfg.iv,r=0;r<4;r++)t[r]=16711935&(t[r]<<8|t[r]>>>24)|4278255360&(t[r]<<24|t[r]>>>8);var n=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],i=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];for(this._b=0,r=0;r<4;r++)u.call(this);for(r=0;r<8;r++)i[r]^=n[r+4&7];if(e){var o=e.words,s=o[0],a=o[1],f=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),c=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),h=f>>>16|4294901760&c,d=c<<16|65535&f;for(i[0]^=f,i[1]^=h,i[2]^=c,i[3]^=d,i[4]^=f,i[5]^=h,i[6]^=c,i[7]^=d,r=0;r<4;r++)u.call(this)}},_doProcessBlock:function(t,e){var r=this._X;u.call(this),i[0]=r[0]^r[5]>>>16^r[3]<<16,i[1]=r[2]^r[7]>>>16^r[5]<<16,i[2]=r[4]^r[1]>>>16^r[7]<<16,i[3]=r[6]^r[3]>>>16^r[1]<<16;for(var n=0;n<4;n++)i[n]=16711935&(i[n]<<8|i[n]>>>24)|4278255360&(i[n]<<24|i[n]>>>8),t[e+n]^=i[n]},blockSize:4,ivSize:2});function u(){for(var t=this._X,e=this._C,r=0;r<8;r++)o[r]=e[r];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<o[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<o[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<o[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<o[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<o[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<o[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<o[6]>>>0?1:0)|0,this._b=e[7]>>>0<o[7]>>>0?1:0,r=0;r<8;r++){var n=t[r]+e[r],i=65535&n,a=n>>>16,u=((i*i>>>17)+i*a>>>15)+a*a,f=((4294901760&n)*n|0)+((65535&n)*n|0);s[r]=u^f}t[0]=s[0]+(s[7]<<16|s[7]>>>16)+(s[6]<<16|s[6]>>>16)|0,t[1]=s[1]+(s[0]<<8|s[0]>>>24)+s[7]|0,t[2]=s[2]+(s[1]<<16|s[1]>>>16)+(s[0]<<16|s[0]>>>16)|0,t[3]=s[3]+(s[2]<<8|s[2]>>>24)+s[1]|0,t[4]=s[4]+(s[3]<<16|s[3]>>>16)+(s[2]<<16|s[2]>>>16)|0,t[5]=s[5]+(s[4]<<8|s[4]>>>24)+s[3]|0,t[6]=s[6]+(s[5]<<16|s[5]>>>16)+(s[4]<<16|s[4]>>>16)|0,t[7]=s[7]+(s[6]<<8|s[6]>>>24)+s[5]|0}t.Rabbit=e._createHelper(a)}(),n.Rabbit)},830:function(t,e,r){var n;t.exports=(n=r(7359),r(8139),r(9174),r(6844),r(9951),function(){var t=n,e=t.lib.StreamCipher,r=t.algo,i=r.RC4=e.extend({_doReset:function(){for(var t=this._key,e=t.words,r=t.sigBytes,n=this._S=[],i=0;i<256;i++)n[i]=i;i=0;for(var o=0;i<256;i++){var s=i%r,a=e[s>>>2]>>>24-s%4*8&255;o=(o+n[i]+a)%256;var u=n[i];n[i]=n[o],n[o]=u}this._i=this._j=0},_doProcessBlock:function(t,e){t[e]^=o.call(this)},keySize:8,ivSize:0});function o(){for(var t=this._S,e=this._i,r=this._j,n=0,i=0;i<4;i++){r=(r+t[e=(e+1)%256])%256;var o=t[e];t[e]=t[r],t[r]=o,n|=t[(t[e]+t[r])%256]<<24-8*i}return this._i=e,this._j=r,n}t.RC4=e._createHelper(i);var s=r.RC4Drop=i.extend({cfg:i.cfg.extend({drop:192}),_doReset:function(){i._doReset.call(this);for(var t=this.cfg.drop;t>0;t--)o.call(this)}});t.RC4Drop=e._createHelper(s)}(),n.RC4)},5293:function(t,e,r){var n;t.exports=(n=r(7359),function(t){var e=n,r=e.lib,i=r.WordArray,o=r.Hasher,s=e.algo,a=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),u=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),f=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),c=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),h=i.create([0,1518500249,1859775393,2400959708,2840853838]),d=i.create([1352829926,1548603684,1836072691,2053994217,0]),l=s.RIPEMD160=o.extend({_doReset:function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var r=0;r<16;r++){var n=e+r,i=t[n];t[n]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o,s,l,w,_,S,M,A,C,E,O,x=this._hash.words,T=h.words,P=d.words,I=a.words,R=u.words,L=f.words,B=c.words;for(S=o=x[0],M=s=x[1],A=l=x[2],C=w=x[3],E=_=x[4],r=0;r<80;r+=1)O=o+t[e+I[r]]|0,O+=r<16?p(s,l,w)+T[0]:r<32?b(s,l,w)+T[1]:r<48?g(s,l,w)+T[2]:r<64?m(s,l,w)+T[3]:y(s,l,w)+T[4],O=(O=v(O|=0,L[r]))+_|0,o=_,_=w,w=v(l,10),l=s,s=O,O=S+t[e+R[r]]|0,O+=r<16?y(M,A,C)+P[0]:r<32?m(M,A,C)+P[1]:r<48?g(M,A,C)+P[2]:r<64?b(M,A,C)+P[3]:p(M,A,C)+P[4],O=(O=v(O|=0,B[r]))+E|0,S=E,E=C,C=v(A,10),A=M,M=O;O=x[1]+l+C|0,x[1]=x[2]+w+E|0,x[2]=x[3]+_+S|0,x[3]=x[4]+o+M|0,x[4]=x[0]+s+A|0,x[0]=O},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes;e[n>>>5]|=128<<24-n%32,e[14+(n+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),t.sigBytes=4*(e.length+1),this._process();for(var i=this._hash,o=i.words,s=0;s<5;s++){var a=o[s];o[s]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}return i},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});function p(t,e,r){return t^e^r}function b(t,e,r){return t&e|~t&r}function g(t,e,r){return(t|~e)^r}function m(t,e,r){return t&r|e&~r}function y(t,e,r){return t^(e|~r)}function v(t,e){return t<<e|t>>>32-e}e.RIPEMD160=o._createHelper(l),e.HmacRIPEMD160=o._createHmacHelper(l)}(Math),n.RIPEMD160)},1637:function(t,e,r){var n,i,o,s,a,u,f,c;t.exports=(c=r(7359),i=(n=c).lib,o=i.WordArray,s=i.Hasher,a=n.algo,u=[],f=a.SHA1=s.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],s=r[3],a=r[4],f=0;f<80;f++){if(f<16)u[f]=0|t[e+f];else{var c=u[f-3]^u[f-8]^u[f-14]^u[f-16];u[f]=c<<1|c>>>31}var h=(n<<5|n>>>27)+a+u[f];h+=f<20?1518500249+(i&o|~i&s):f<40?1859775393+(i^o^s):f<60?(i&o|i&s|o&s)-1894007588:(i^o^s)-899497514,a=s,s=o,o=i<<30|i>>>2,i=n,n=h}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+o|0,r[3]=r[3]+s|0,r[4]=r[4]+a|0},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes;return e[n>>>5]|=128<<24-n%32,e[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),e[15+(n+64>>>9<<4)]=r,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=s.clone.call(this);return t._hash=this._hash.clone(),t}}),n.SHA1=s._createHelper(f),n.HmacSHA1=s._createHmacHelper(f),c.SHA1)},3640:function(t,e,r){var n,i,o,s,a,u;t.exports=(u=r(7359),r(1093),i=(n=u).lib.WordArray,o=n.algo,s=o.SHA256,a=o.SHA224=s.extend({_doReset:function(){this._hash=new i.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var t=s._doFinalize.call(this);return t.sigBytes-=4,t}}),n.SHA224=s._createHelper(a),n.HmacSHA224=s._createHmacHelper(a),u.SHA224)},1093:function(t,e,r){var n;t.exports=(n=r(7359),function(t){var e=n,r=e.lib,i=r.WordArray,o=r.Hasher,s=e.algo,a=[],u=[];!function(){function e(e){for(var r=t.sqrt(e),n=2;n<=r;n++)if(!(e%n))return!1;return!0}function r(t){return 4294967296*(t-(0|t))|0}for(var n=2,i=0;i<64;)e(n)&&(i<8&&(a[i]=r(t.pow(n,.5))),u[i]=r(t.pow(n,1/3)),i++),n++}();var f=[],c=s.SHA256=o.extend({_doReset:function(){this._hash=new i.init(a.slice(0))},_doProcessBlock:function(t,e){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],s=r[3],a=r[4],c=r[5],h=r[6],d=r[7],l=0;l<64;l++){if(l<16)f[l]=0|t[e+l];else{var p=f[l-15],b=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,g=f[l-2],m=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;f[l]=b+f[l-7]+m+f[l-16]}var y=n&i^n&o^i&o,v=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),w=d+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&c^~a&h)+u[l]+f[l];d=h,h=c,c=a,a=s+w|0,s=o,o=i,i=n,n=w+(v+y)|0}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+o|0,r[3]=r[3]+s|0,r[4]=r[4]+a|0,r[5]=r[5]+c|0,r[6]=r[6]+h|0,r[7]=r[7]+d|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;return r[i>>>5]|=128<<24-i%32,r[14+(i+64>>>9<<4)]=t.floor(n/4294967296),r[15+(i+64>>>9<<4)]=n,e.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});e.SHA256=o._createHelper(c),e.HmacSHA256=o._createHmacHelper(c)}(Math),n.SHA256)},7140:function(t,e,r){var n;t.exports=(n=r(7359),r(6467),function(t){var e=n,r=e.lib,i=r.WordArray,o=r.Hasher,s=e.x64.Word,a=e.algo,u=[],f=[],c=[];!function(){for(var t=1,e=0,r=0;r<24;r++){u[t+5*e]=(r+1)*(r+2)/2%64;var n=(2*t+3*e)%5;t=e%5,e=n}for(t=0;t<5;t++)for(e=0;e<5;e++)f[t+5*e]=e+(2*t+3*e)%5*5;for(var i=1,o=0;o<24;o++){for(var a=0,h=0,d=0;d<7;d++){if(1&i){var l=(1<<d)-1;l<32?h^=1<<l:a^=1<<l-32}128&i?i=i<<1^113:i<<=1}c[o]=s.create(a,h)}}();var h=[];!function(){for(var t=0;t<25;t++)h[t]=s.create()}();var d=a.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var t=this._state=[],e=0;e<25;e++)t[e]=new s.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(t,e){for(var r=this._state,n=this.blockSize/2,i=0;i<n;i++){var o=t[e+2*i],s=t[e+2*i+1];o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),s=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),(x=r[i]).high^=s,x.low^=o}for(var a=0;a<24;a++){for(var d=0;d<5;d++){for(var l=0,p=0,b=0;b<5;b++)l^=(x=r[d+5*b]).high,p^=x.low;var g=h[d];g.high=l,g.low=p}for(d=0;d<5;d++){var m=h[(d+4)%5],y=h[(d+1)%5],v=y.high,w=y.low;for(l=m.high^(v<<1|w>>>31),p=m.low^(w<<1|v>>>31),b=0;b<5;b++)(x=r[d+5*b]).high^=l,x.low^=p}for(var _=1;_<25;_++){var S=(x=r[_]).high,M=x.low,A=u[_];A<32?(l=S<<A|M>>>32-A,p=M<<A|S>>>32-A):(l=M<<A-32|S>>>64-A,p=S<<A-32|M>>>64-A);var C=h[f[_]];C.high=l,C.low=p}var E=h[0],O=r[0];for(E.high=O.high,E.low=O.low,d=0;d<5;d++)for(b=0;b<5;b++){var x=r[_=d+5*b],T=h[_],P=h[(d+1)%5+5*b],I=h[(d+2)%5+5*b];x.high=T.high^~P.high&I.high,x.low=T.low^~P.low&I.low}x=r[0];var R=c[a];x.high^=R.high,x.low^=R.low}},_doFinalize:function(){var e=this._data,r=e.words,n=(this._nDataBytes,8*e.sigBytes),o=32*this.blockSize;r[n>>>5]|=1<<24-n%32,r[(t.ceil((n+1)/o)*o>>>5)-1]|=128,e.sigBytes=4*r.length,this._process();for(var s=this._state,a=this.cfg.outputLength/8,u=a/8,f=[],c=0;c<u;c++){var h=s[c],d=h.high,l=h.low;d=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8),l=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8),f.push(l),f.push(d)}return new i.init(f,a)},clone:function(){for(var t=o.clone.call(this),e=t._state=this._state.slice(0),r=0;r<25;r++)e[r]=e[r].clone();return t}});e.SHA3=o._createHelper(d),e.HmacSHA3=o._createHmacHelper(d)}(Math),n.SHA3)},1716:function(t,e,r){var n,i,o,s,a,u,f,c;t.exports=(c=r(7359),r(6467),r(1834),i=(n=c).x64,o=i.Word,s=i.WordArray,a=n.algo,u=a.SHA512,f=a.SHA384=u.extend({_doReset:function(){this._hash=new s.init([new o.init(3418070365,3238371032),new o.init(1654270250,914150663),new o.init(2438529370,812702999),new o.init(355462360,4144912697),new o.init(1731405415,4290775857),new o.init(2394180231,1750603025),new o.init(3675008525,1694076839),new o.init(1203062813,3204075428)])},_doFinalize:function(){var t=u._doFinalize.call(this);return t.sigBytes-=16,t}}),n.SHA384=u._createHelper(f),n.HmacSHA384=u._createHmacHelper(f),c.SHA384)},1834:function(t,e,r){var n;t.exports=(n=r(7359),r(6467),function(){var t=n,e=t.lib.Hasher,r=t.x64,i=r.Word,o=r.WordArray,s=t.algo;function a(){return i.create.apply(i,arguments)}var u=[a(1116352408,3609767458),a(1899447441,602891725),a(3049323471,3964484399),a(3921009573,2173295548),a(961987163,4081628472),a(1508970993,3053834265),a(2453635748,2937671579),a(2870763221,3664609560),a(3624381080,2734883394),a(310598401,1164996542),a(607225278,1323610764),a(1426881987,3590304994),a(1925078388,4068182383),a(2162078206,991336113),a(2614888103,633803317),a(3248222580,3479774868),a(3835390401,2666613458),a(4022224774,944711139),a(264347078,2341262773),a(604807628,2007800933),a(770255983,1495990901),a(1249150122,1856431235),a(1555081692,3175218132),a(1996064986,2198950837),a(2554220882,3999719339),a(2821834349,766784016),a(2952996808,2566594879),a(3210313671,3203337956),a(3336571891,1034457026),a(3584528711,2466948901),a(113926993,3758326383),a(338241895,168717936),a(666307205,1188179964),a(773529912,1546045734),a(1294757372,1522805485),a(1396182291,2643833823),a(1695183700,2343527390),a(1986661051,1014477480),a(2177026350,1206759142),a(2456956037,344077627),a(2730485921,1290863460),a(2820302411,3158454273),a(3259730800,3505952657),a(3345764771,106217008),a(3516065817,3606008344),a(3600352804,1432725776),a(4094571909,1467031594),a(275423344,851169720),a(430227734,3100823752),a(506948616,1363258195),a(659060556,3750685593),a(883997877,3785050280),a(958139571,3318307427),a(1322822218,3812723403),a(1537002063,2003034995),a(1747873779,3602036899),a(1955562222,1575990012),a(2024104815,1125592928),a(2227730452,2716904306),a(2361852424,442776044),a(2428436474,593698344),a(2756734187,3733110249),a(3204031479,2999351573),a(3329325298,3815920427),a(3391569614,3928383900),a(3515267271,566280711),a(3940187606,3454069534),a(4118630271,4000239992),a(116418474,1914138554),a(174292421,2731055270),a(289380356,3203993006),a(460393269,320620315),a(685471733,587496836),a(852142971,1086792851),a(1017036298,365543100),a(1126000580,2618297676),a(1288033470,3409855158),a(1501505948,4234509866),a(1607167915,987167468),a(1816402316,1246189591)],f=[];!function(){for(var t=0;t<80;t++)f[t]=a()}();var c=s.SHA512=e.extend({_doReset:function(){this._hash=new o.init([new i.init(1779033703,4089235720),new i.init(3144134277,2227873595),new i.init(1013904242,4271175723),new i.init(2773480762,1595750129),new i.init(1359893119,2917565137),new i.init(2600822924,725511199),new i.init(528734635,4215389547),new i.init(1541459225,327033209)])},_doProcessBlock:function(t,e){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],s=r[3],a=r[4],c=r[5],h=r[6],d=r[7],l=n.high,p=n.low,b=i.high,g=i.low,m=o.high,y=o.low,v=s.high,w=s.low,_=a.high,S=a.low,M=c.high,A=c.low,C=h.high,E=h.low,O=d.high,x=d.low,T=l,P=p,I=b,R=g,L=m,B=y,k=v,N=w,H=_,U=S,D=M,z=A,F=C,j=E,W=O,G=x,V=0;V<80;V++){var K,q,J=f[V];if(V<16)q=J.high=0|t[e+2*V],K=J.low=0|t[e+2*V+1];else{var Y=f[V-15],$=Y.high,Q=Y.low,Z=($>>>1|Q<<31)^($>>>8|Q<<24)^$>>>7,X=(Q>>>1|$<<31)^(Q>>>8|$<<24)^(Q>>>7|$<<25),tt=f[V-2],et=tt.high,rt=tt.low,nt=(et>>>19|rt<<13)^(et<<3|rt>>>29)^et>>>6,it=(rt>>>19|et<<13)^(rt<<3|et>>>29)^(rt>>>6|et<<26),ot=f[V-7],st=ot.high,at=ot.low,ut=f[V-16],ft=ut.high,ct=ut.low;q=(q=(q=Z+st+((K=X+at)>>>0<X>>>0?1:0))+nt+((K+=it)>>>0<it>>>0?1:0))+ft+((K+=ct)>>>0<ct>>>0?1:0),J.high=q,J.low=K}var ht,dt=H&D^~H&F,lt=U&z^~U&j,pt=T&I^T&L^I&L,bt=P&R^P&B^R&B,gt=(T>>>28|P<<4)^(T<<30|P>>>2)^(T<<25|P>>>7),mt=(P>>>28|T<<4)^(P<<30|T>>>2)^(P<<25|T>>>7),yt=(H>>>14|U<<18)^(H>>>18|U<<14)^(H<<23|U>>>9),vt=(U>>>14|H<<18)^(U>>>18|H<<14)^(U<<23|H>>>9),wt=u[V],_t=wt.high,St=wt.low,Mt=W+yt+((ht=G+vt)>>>0<G>>>0?1:0),At=mt+bt;W=F,G=j,F=D,j=z,D=H,z=U,H=k+(Mt=(Mt=(Mt=Mt+dt+((ht+=lt)>>>0<lt>>>0?1:0))+_t+((ht+=St)>>>0<St>>>0?1:0))+q+((ht+=K)>>>0<K>>>0?1:0))+((U=N+ht|0)>>>0<N>>>0?1:0)|0,k=L,N=B,L=I,B=R,I=T,R=P,T=Mt+(gt+pt+(At>>>0<mt>>>0?1:0))+((P=ht+At|0)>>>0<ht>>>0?1:0)|0}p=n.low=p+P,n.high=l+T+(p>>>0<P>>>0?1:0),g=i.low=g+R,i.high=b+I+(g>>>0<R>>>0?1:0),y=o.low=y+B,o.high=m+L+(y>>>0<B>>>0?1:0),w=s.low=w+N,s.high=v+k+(w>>>0<N>>>0?1:0),S=a.low=S+U,a.high=_+H+(S>>>0<U>>>0?1:0),A=c.low=A+z,c.high=M+D+(A>>>0<z>>>0?1:0),E=h.low=E+j,h.high=C+F+(E>>>0<j>>>0?1:0),x=d.low=x+G,d.high=O+W+(x>>>0<G>>>0?1:0)},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes;return e[n>>>5]|=128<<24-n%32,e[30+(n+128>>>10<<5)]=Math.floor(r/4294967296),e[31+(n+128>>>10<<5)]=r,t.sigBytes=4*e.length,this._process(),this._hash.toX32()},clone:function(){var t=e.clone.call(this);return t._hash=this._hash.clone(),t},blockSize:32});t.SHA512=e._createHelper(c),t.HmacSHA512=e._createHmacHelper(c)}(),n.SHA512)},567:function(t,e,r){var n;t.exports=(n=r(7359),r(8139),r(9174),r(6844),r(9951),function(){var t=n,e=t.lib,r=e.WordArray,i=e.BlockCipher,o=t.algo,s=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],a=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],f=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],c=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=o.DES=i.extend({_doReset:function(){for(var t=this._key.words,e=[],r=0;r<56;r++){var n=s[r]-1;e[r]=t[n>>>5]>>>31-n%32&1}for(var i=this._subKeys=[],o=0;o<16;o++){var f=i[o]=[],c=u[o];for(r=0;r<24;r++)f[r/6|0]|=e[(a[r]-1+c)%28]<<31-r%6,f[4+(r/6|0)]|=e[28+(a[r+24]-1+c)%28]<<31-r%6;for(f[0]=f[0]<<1|f[0]>>>31,r=1;r<7;r++)f[r]=f[r]>>>4*(r-1)+3;f[7]=f[7]<<5|f[7]>>>27}var h=this._invSubKeys=[];for(r=0;r<16;r++)h[r]=i[15-r]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._subKeys)},decryptBlock:function(t,e){this._doCryptBlock(t,e,this._invSubKeys)},_doCryptBlock:function(t,e,r){this._lBlock=t[e],this._rBlock=t[e+1],d.call(this,4,252645135),d.call(this,16,65535),l.call(this,2,858993459),l.call(this,8,16711935),d.call(this,1,1431655765);for(var n=0;n<16;n++){for(var i=r[n],o=this._lBlock,s=this._rBlock,a=0,u=0;u<8;u++)a|=f[u][((s^i[u])&c[u])>>>0];this._lBlock=s,this._rBlock=o^a}var h=this._lBlock;this._lBlock=this._rBlock,this._rBlock=h,d.call(this,1,1431655765),l.call(this,8,16711935),l.call(this,2,858993459),d.call(this,16,65535),d.call(this,4,252645135),t[e]=this._lBlock,t[e+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function d(t,e){var r=(this._lBlock>>>t^this._rBlock)&e;this._rBlock^=r,this._lBlock^=r<<t}function l(t,e){var r=(this._rBlock>>>t^this._lBlock)&e;this._lBlock^=r,this._rBlock^=r<<t}t.DES=i._createHelper(h);var p=o.TripleDES=i.extend({_doReset:function(){var t=this._key.words;if(2!==t.length&&4!==t.length&&t.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var e=t.slice(0,2),n=t.length<4?t.slice(0,2):t.slice(2,4),i=t.length<6?t.slice(0,2):t.slice(4,6);this._des1=h.createEncryptor(r.create(e)),this._des2=h.createEncryptor(r.create(n)),this._des3=h.createEncryptor(r.create(i))},encryptBlock:function(t,e){this._des1.encryptBlock(t,e),this._des2.decryptBlock(t,e),this._des3.encryptBlock(t,e)},decryptBlock:function(t,e){this._des3.decryptBlock(t,e),this._des2.encryptBlock(t,e),this._des1.decryptBlock(t,e)},keySize:6,ivSize:2,blockSize:2});t.TripleDES=i._createHelper(p)}(),n.TripleDES)},6467:function(t,e,r){var n;t.exports=(n=r(7359),function(t){var e=n,r=e.lib,i=r.Base,o=r.WordArray,s=e.x64={};s.Word=i.extend({init:function(t,e){this.high=t,this.low=e}}),s.WordArray=i.extend({init:function(e,r){e=this.words=e||[],this.sigBytes=r!=t?r:8*e.length},toX32:function(){for(var t=this.words,e=t.length,r=[],n=0;n<e;n++){var i=t[n];r.push(i.high),r.push(i.low)}return o.create(r,this.sigBytes)},clone:function(){for(var t=i.clone.call(this),e=t.words=this.words.slice(0),r=e.length,n=0;n<r;n++)e[n]=e[n].clone();return t}})}(),n)},7554:(t,e,r)=>{"use strict";var n=e;n.version=r(763).i8,n.utils=r(8288),n.rand=r(2745),n.curve=r(8610),n.curves=r(1479),n.ec=r(8596),n.eddsa=r(9208)},8919:(t,e,r)=>{"use strict";var n=r(2140),i=r(8288),o=i.getNAF,s=i.getJSF,a=i.assert;function u(t,e){this.type=t,this.p=new n(e.p,16),this.red=e.prime?n.red(e.prime):n.mont(this.p),this.zero=new n(0).toRed(this.red),this.one=new n(1).toRed(this.red),this.two=new n(2).toRed(this.red),this.n=e.n&&new n(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function f(t,e){this.curve=t,this.type=e,this.precomputed=null}t.exports=u,u.prototype.point=function(){throw new Error("Not implemented")},u.prototype.validate=function(){throw new Error("Not implemented")},u.prototype._fixedNafMul=function(t,e){a(t.precomputed);var r=t._getDoubles(),n=o(e,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var s,u,f=[];for(s=0;s<n.length;s+=r.step){u=0;for(var c=s+r.step-1;c>=s;c--)u=(u<<1)+n[c];f.push(u)}for(var h=this.jpoint(null,null,null),d=this.jpoint(null,null,null),l=i;l>0;l--){for(s=0;s<f.length;s++)(u=f[s])===l?d=d.mixedAdd(r.points[s]):u===-l&&(d=d.mixedAdd(r.points[s].neg()));h=h.add(d)}return h.toP()},u.prototype._wnafMul=function(t,e){var r=4,n=t._getNAFPoints(r);r=n.wnd;for(var i=n.points,s=o(e,r,this._bitLength),u=this.jpoint(null,null,null),f=s.length-1;f>=0;f--){for(var c=0;f>=0&&0===s[f];f--)c++;if(f>=0&&c++,u=u.dblp(c),f<0)break;var h=s[f];a(0!==h),u="affine"===t.type?h>0?u.mixedAdd(i[h-1>>1]):u.mixedAdd(i[-h-1>>1].neg()):h>0?u.add(i[h-1>>1]):u.add(i[-h-1>>1].neg())}return"affine"===t.type?u.toP():u},u.prototype._wnafMulAdd=function(t,e,r,n,i){var a,u,f,c=this._wnafT1,h=this._wnafT2,d=this._wnafT3,l=0;for(a=0;a<n;a++){var p=(f=e[a])._getNAFPoints(t);c[a]=p.wnd,h[a]=p.points}for(a=n-1;a>=1;a-=2){var b=a-1,g=a;if(1===c[b]&&1===c[g]){var m=[e[b],null,null,e[g]];0===e[b].y.cmp(e[g].y)?(m[1]=e[b].add(e[g]),m[2]=e[b].toJ().mixedAdd(e[g].neg())):0===e[b].y.cmp(e[g].y.redNeg())?(m[1]=e[b].toJ().mixedAdd(e[g]),m[2]=e[b].add(e[g].neg())):(m[1]=e[b].toJ().mixedAdd(e[g]),m[2]=e[b].toJ().mixedAdd(e[g].neg()));var y=[-3,-1,-5,-7,0,7,5,1,3],v=s(r[b],r[g]);for(l=Math.max(v[0].length,l),d[b]=new Array(l),d[g]=new Array(l),u=0;u<l;u++){var w=0|v[0][u],_=0|v[1][u];d[b][u]=y[3*(w+1)+(_+1)],d[g][u]=0,h[b]=m}}else d[b]=o(r[b],c[b],this._bitLength),d[g]=o(r[g],c[g],this._bitLength),l=Math.max(d[b].length,l),l=Math.max(d[g].length,l)}var S=this.jpoint(null,null,null),M=this._wnafT4;for(a=l;a>=0;a--){for(var A=0;a>=0;){var C=!0;for(u=0;u<n;u++)M[u]=0|d[u][a],0!==M[u]&&(C=!1);if(!C)break;A++,a--}if(a>=0&&A++,S=S.dblp(A),a<0)break;for(u=0;u<n;u++){var E=M[u];0!==E&&(E>0?f=h[u][E-1>>1]:E<0&&(f=h[u][-E-1>>1].neg()),S="affine"===f.type?S.mixedAdd(f):S.add(f))}}for(a=0;a<n;a++)h[a]=null;return i?S:S.toP()},u.BasePoint=f,f.prototype.eq=function(){throw new Error("Not implemented")},f.prototype.validate=function(){return this.curve.validate(this)},u.prototype.decodePoint=function(t,e){t=i.toArray(t,e);var r=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*r)return 6===t[0]?a(t[t.length-1]%2==0):7===t[0]&&a(t[t.length-1]%2==1),this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));if((2===t[0]||3===t[0])&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),3===t[0]);throw new Error("Unknown point format")},f.prototype.encodeCompressed=function(t){return this.encode(t,!0)},f.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",e))},f.prototype.encode=function(t,e){return i.encode(this._encode(e),t)},f.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},f.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},f.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<e;i+=t){for(var o=0;o<t;o++)n=n.dbl();r.push(n)}return{step:t,points:r}},f.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)e[i]=e[i-1].add(n);return{wnd:t,points:e}},f.prototype._getBeta=function(){return null},f.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e}},7105:(t,e,r)=>{"use strict";var n=r(8288),i=r(2140),o=r(1285),s=r(8919),a=n.assert;function u(t){this.twisted=1!=(0|t.a),this.mOneA=this.twisted&&-1==(0|t.a),this.extended=this.mOneA,s.call(this,"edwards",t),this.a=new i(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|t.c)}function f(t,e,r,n,o){s.BasePoint.call(this,t,"projective"),null===e&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(e,16),this.y=new i(r,16),this.z=n?new i(n,16):this.curve.one,this.t=o&&new i(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(u,s),t.exports=u,u.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)},u.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)},u.prototype.jpoint=function(t,e,r,n){return this.point(t,e,r,n)},u.prototype.pointFromX=function(t,e){(t=new i(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr(),n=this.c2.redSub(this.a.redMul(r)),o=this.one.redSub(this.c2.redMul(this.d).redMul(r)),s=n.redMul(o.redInvm()),a=s.redSqrt();if(0!==a.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");var u=a.fromRed().isOdd();return(e&&!u||!e&&u)&&(a=a.redNeg()),this.point(t,a)},u.prototype.pointFromY=function(t,e){(t=new i(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr(),n=r.redSub(this.c2),o=r.redMul(this.d).redMul(this.c2).redSub(this.a),s=n.redMul(o.redInvm());if(0===s.cmp(this.zero)){if(e)throw new Error("invalid point");return this.point(this.zero,t)}var a=s.redSqrt();if(0!==a.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");return a.fromRed().isOdd()!==e&&(a=a.redNeg()),this.point(a,t)},u.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var e=t.x.redSqr(),r=t.y.redSqr(),n=e.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(e).redMul(r)));return 0===n.cmp(i)},o(f,s.BasePoint),u.prototype.pointFromJSON=function(t){return f.fromJSON(this,t)},u.prototype.point=function(t,e,r,n){return new f(this,t,e,r,n)},f.fromJSON=function(t,e){return new f(t,e[0],e[1],e[2])},f.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},f.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},f.prototype._extDbl=function(){var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(t),i=this.x.redAdd(this.y).redSqr().redISub(t).redISub(e),o=n.redAdd(e),s=o.redSub(r),a=n.redSub(e),u=i.redMul(s),f=o.redMul(a),c=i.redMul(a),h=s.redMul(o);return this.curve.point(u,f,h,c)},f.prototype._projDbl=function(){var t,e,r,n,i,o,s=this.x.redAdd(this.y).redSqr(),a=this.x.redSqr(),u=this.y.redSqr();if(this.curve.twisted){var f=(n=this.curve._mulA(a)).redAdd(u);this.zOne?(t=s.redSub(a).redSub(u).redMul(f.redSub(this.curve.two)),e=f.redMul(n.redSub(u)),r=f.redSqr().redSub(f).redSub(f)):(i=this.z.redSqr(),o=f.redSub(i).redISub(i),t=s.redSub(a).redISub(u).redMul(o),e=f.redMul(n.redSub(u)),r=f.redMul(o))}else n=a.redAdd(u),i=this.curve._mulC(this.z).redSqr(),o=n.redSub(i).redSub(i),t=this.curve._mulC(s.redISub(n)).redMul(o),e=this.curve._mulC(n).redMul(a.redISub(u)),r=n.redMul(o);return this.curve.point(t,e,r)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},f.prototype._extAdd=function(t){var e=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),r=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),n=this.t.redMul(this.curve.dd).redMul(t.t),i=this.z.redMul(t.z.redAdd(t.z)),o=r.redSub(e),s=i.redSub(n),a=i.redAdd(n),u=r.redAdd(e),f=o.redMul(s),c=a.redMul(u),h=o.redMul(u),d=s.redMul(a);return this.curve.point(f,c,d,h)},f.prototype._projAdd=function(t){var e,r,n=this.z.redMul(t.z),i=n.redSqr(),o=this.x.redMul(t.x),s=this.y.redMul(t.y),a=this.curve.d.redMul(o).redMul(s),u=i.redSub(a),f=i.redAdd(a),c=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(o).redISub(s),h=n.redMul(u).redMul(c);return this.curve.twisted?(e=n.redMul(f).redMul(s.redSub(this.curve._mulA(o))),r=u.redMul(f)):(e=n.redMul(f).redMul(s.redSub(o)),r=this.curve._mulC(u).redMul(f)),this.curve.point(h,e,r)},f.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)},f.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)},f.prototype.mulAdd=function(t,e,r){return this.curve._wnafMulAdd(1,[this,e],[t,r],2,!1)},f.prototype.jmulAdd=function(t,e,r){return this.curve._wnafMulAdd(1,[this,e],[t,r],2,!0)},f.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this},f.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},f.prototype.getX=function(){return this.normalize(),this.x.fromRed()},f.prototype.getY=function(){return this.normalize(),this.y.fromRed()},f.prototype.eq=function(t){return this===t||0===this.getX().cmp(t.getX())&&0===this.getY().cmp(t.getY())},f.prototype.eqXToP=function(t){var e=t.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(e))return!0;for(var r=t.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(e.redIAdd(n),0===this.x.cmp(e))return!0}},f.prototype.toP=f.prototype.normalize,f.prototype.mixedAdd=f.prototype.add},8610:(t,e,r)=>{"use strict";var n=e;n.base=r(8919),n.short=r(7715),n.mont=r(5125),n.edwards=r(7105)},5125:(t,e,r)=>{"use strict";var n=r(2140),i=r(1285),o=r(8919),s=r(8288);function a(t){o.call(this,"mont",t),this.a=new n(t.a,16).toRed(this.red),this.b=new n(t.b,16).toRed(this.red),this.i4=new n(4).toRed(this.red).redInvm(),this.two=new n(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function u(t,e,r){o.BasePoint.call(this,t,"projective"),null===e&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new n(e,16),this.z=new n(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(a,o),t.exports=a,a.prototype.validate=function(t){var e=t.normalize().x,r=e.redSqr(),n=r.redMul(e).redAdd(r.redMul(this.a)).redAdd(e);return 0===n.redSqrt().redSqr().cmp(n)},i(u,o.BasePoint),a.prototype.decodePoint=function(t,e){return this.point(s.toArray(t,e),1)},a.prototype.point=function(t,e){return new u(this,t,e)},a.prototype.pointFromJSON=function(t){return u.fromJSON(this,t)},u.prototype.precompute=function(){},u.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},u.fromJSON=function(t,e){return new u(t,e[0],e[1]||t.one)},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},u.prototype.dbl=function(){var t=this.x.redAdd(this.z).redSqr(),e=this.x.redSub(this.z).redSqr(),r=t.redSub(e),n=t.redMul(e),i=r.redMul(e.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},u.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.diffAdd=function(t,e){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=t.x.redAdd(t.z),o=t.x.redSub(t.z).redMul(r),s=i.redMul(n),a=e.z.redMul(o.redAdd(s).redSqr()),u=e.x.redMul(o.redISub(s).redSqr());return this.curve.point(a,u)},u.prototype.mul=function(t){for(var e=t.clone(),r=this,n=this.curve.point(null,null),i=[];0!==e.cmpn(0);e.iushrn(1))i.push(e.andln(1));for(var o=i.length-1;o>=0;o--)0===i[o]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},u.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.eq=function(t){return 0===this.getX().cmp(t.getX())},u.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},7715:(t,e,r)=>{"use strict";var n=r(8288),i=r(2140),o=r(1285),s=r(8919),a=n.assert;function u(t){s.call(this,"short",t),this.a=new i(t.a,16).toRed(this.red),this.b=new i(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function f(t,e,r,n){s.BasePoint.call(this,t,"affine"),null===e&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(e,16),this.y=new i(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function c(t,e,r,n){s.BasePoint.call(this,t,"jacobian"),null===e&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(e,16),this.y=new i(r,16),this.z=new i(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(u,s),t.exports=u,u.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,r;if(t.beta)e=new i(t.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);e=(e=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(t.lambda)r=new i(t.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(e))?r=o[0]:(r=o[1],a(0===this.g.mul(r).x.cmp(this.g.x.redMul(e))))}return{beta:e,lambda:r,basis:t.basis?t.basis.map((function(t){return{a:new i(t.a,16),b:new i(t.b,16)}})):this._getEndoBasis(r)}}},u.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:i.mont(t),r=new i(2).toRed(e).redInvm(),n=r.redNeg(),o=new i(3).toRed(e).redNeg().redSqrt().redMul(r);return[n.redAdd(o).fromRed(),n.redSub(o).fromRed()]},u.prototype._getEndoBasis=function(t){for(var e,r,n,o,s,a,u,f,c,h=this.n.ushrn(Math.floor(this.n.bitLength()/2)),d=t,l=this.n.clone(),p=new i(1),b=new i(0),g=new i(0),m=new i(1),y=0;0!==d.cmpn(0);){var v=l.div(d);f=l.sub(v.mul(d)),c=g.sub(v.mul(p));var w=m.sub(v.mul(b));if(!n&&f.cmp(h)<0)e=u.neg(),r=p,n=f.neg(),o=c;else if(n&&2==++y)break;u=f,l=d,d=f,g=p,p=c,m=b,b=w}s=f.neg(),a=c;var _=n.sqr().add(o.sqr());return s.sqr().add(a.sqr()).cmp(_)>=0&&(s=e,a=r),n.negative&&(n=n.neg(),o=o.neg()),s.negative&&(s=s.neg(),a=a.neg()),[{a:n,b:o},{a:s,b:a}]},u.prototype._endoSplit=function(t){var e=this.endo.basis,r=e[0],n=e[1],i=n.b.mul(t).divRound(this.n),o=r.b.neg().mul(t).divRound(this.n),s=i.mul(r.a),a=o.mul(n.a),u=i.mul(r.b),f=o.mul(n.b);return{k1:t.sub(s).sub(a),k2:u.add(f).neg()}},u.prototype.pointFromX=function(t,e){(t=new i(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var o=n.fromRed().isOdd();return(e&&!o||!e&&o)&&(n=n.redNeg()),this.point(t,n)},u.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,r=t.y,n=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},u.prototype._endoWnafMulAdd=function(t,e,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<t.length;o++){var s=this._endoSplit(e[o]),a=t[o],u=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),u=u.neg(!0)),n[2*o]=a,n[2*o+1]=u,i[2*o]=s.k1,i[2*o+1]=s.k2}for(var f=this._wnafMulAdd(1,n,i,2*o,r),c=0;c<2*o;c++)n[c]=null,i[c]=null;return f},o(f,s.BasePoint),u.prototype.point=function(t,e,r){return new f(this,t,e,r)},u.prototype.pointFromJSON=function(t,e){return f.fromJSON(this,t,e)},f.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,n=function(t){return r.point(t.x.redMul(r.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(n)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(n)}}}return e}},f.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},f.fromJSON=function(t,e,r){"string"==typeof e&&(e=JSON.parse(e));var n=t.point(e[0],e[1],r);if(!e[2])return n;function i(e){return t.point(e[0],e[1],r)}var o=e[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},f.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},f.prototype.isInfinity=function(){return this.inf},f.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x),n=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},f.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),n=t.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},f.prototype.getX=function(){return this.x.fromRed()},f.prototype.getY=function(){return this.y.fromRed()},f.prototype.mul=function(t){return t=new i(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},f.prototype.mulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},f.prototype.jmulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},f.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},f.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,n=function(t){return t.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return e},f.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(c,s.BasePoint),u.prototype.jpoint=function(t,e,r){return new c(this,t,e,r)},c.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),n=this.y.redMul(e).redMul(t);return this.curve.point(r,n)},c.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},c.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(e),i=t.x.redMul(r),o=this.y.redMul(e.redMul(t.z)),s=t.y.redMul(r.redMul(this.z)),a=n.redSub(i),u=o.redSub(s);if(0===a.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var f=a.redSqr(),c=f.redMul(a),h=n.redMul(f),d=u.redSqr().redIAdd(c).redISub(h).redISub(h),l=u.redMul(h.redISub(d)).redISub(o.redMul(c)),p=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(d,l,p)},c.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,n=t.x.redMul(e),i=this.y,o=t.y.redMul(e).redMul(this.z),s=r.redSub(n),a=i.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=s.redSqr(),f=u.redMul(s),c=r.redMul(u),h=a.redSqr().redIAdd(f).redISub(c).redISub(c),d=a.redMul(c.redISub(h)).redISub(i.redMul(f)),l=this.z.redMul(s);return this.curve.jpoint(h,d,l)},c.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var r=this;for(e=0;e<t;e++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,u=a.redSqr().redSqr(),f=s.redAdd(s);for(e=0;e<t;e++){var c=o.redSqr(),h=f.redSqr(),d=h.redSqr(),l=c.redAdd(c).redIAdd(c).redIAdd(n.redMul(u)),p=o.redMul(h),b=l.redSqr().redISub(p.redAdd(p)),g=p.redISub(b),m=l.redMul(g);m=m.redIAdd(m).redISub(d);var y=f.redMul(a);e+1<t&&(u=u.redMul(d)),o=b,a=y,f=m}return this.curve.jpoint(o,f.redMul(i),a)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},c.prototype._zeroDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n),u=a.redSqr().redISub(s).redISub(s),f=o.redIAdd(o);f=(f=f.redIAdd(f)).redIAdd(f),t=u,e=a.redMul(s.redISub(u)).redISub(f),r=this.y.redAdd(this.y)}else{var c=this.x.redSqr(),h=this.y.redSqr(),d=h.redSqr(),l=this.x.redAdd(h).redSqr().redISub(c).redISub(d);l=l.redIAdd(l);var p=c.redAdd(c).redIAdd(c),b=p.redSqr(),g=d.redIAdd(d);g=(g=g.redIAdd(g)).redIAdd(g),t=b.redISub(l).redISub(l),e=p.redMul(l.redISub(t)).redISub(g),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(t,e,r)},c.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=a.redSqr().redISub(s).redISub(s);t=u;var f=o.redIAdd(o);f=(f=f.redIAdd(f)).redIAdd(f),e=a.redMul(s.redISub(u)).redISub(f),r=this.y.redAdd(this.y)}else{var c=this.z.redSqr(),h=this.y.redSqr(),d=this.x.redMul(h),l=this.x.redSub(c).redMul(this.x.redAdd(c));l=l.redAdd(l).redIAdd(l);var p=d.redIAdd(d),b=(p=p.redIAdd(p)).redAdd(p);t=l.redSqr().redISub(b),r=this.y.redAdd(this.z).redSqr().redISub(h).redISub(c);var g=h.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),e=l.redMul(p.redISub(t)).redISub(g)}return this.curve.jpoint(t,e,r)},c.prototype._dbl=function(){var t=this.curve.a,e=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=e.redSqr(),s=r.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(t.redMul(i)),u=e.redAdd(e),f=(u=u.redIAdd(u)).redMul(s),c=a.redSqr().redISub(f.redAdd(f)),h=f.redISub(c),d=s.redSqr();d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var l=a.redMul(h).redISub(d),p=r.redAdd(r).redMul(n);return this.curve.jpoint(c,l,p)},c.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),n=e.redSqr(),i=t.redAdd(t).redIAdd(t),o=i.redSqr(),s=this.x.redAdd(e).redSqr().redISub(t).redISub(n),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),u=n.redIAdd(n);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var f=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(u),c=e.redMul(f);c=(c=c.redIAdd(c)).redIAdd(c);var h=this.x.redMul(a).redISub(c);h=(h=h.redIAdd(h)).redIAdd(h);var d=this.y.redMul(f.redMul(u.redISub(f)).redISub(s.redMul(a)));d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var l=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(h,d,l)},c.prototype.mul=function(t,e){return t=new i(t,e),this.curve._wnafMul(this,t)},c.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),r=t.z.redSqr();if(0!==this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0))return!1;var n=e.redMul(this.z),i=r.redMul(t.z);return 0===this.y.redMul(i).redISub(t.y.redMul(n)).cmpn(0)},c.prototype.eqXToP=function(t){var e=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(r))return!0;for(var n=t.clone(),i=this.curve.redN.redMul(e);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},c.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},1479:(t,e,r)=>{"use strict";var n,i=e,o=r(4485),s=r(8610),a=r(8288).assert;function u(t){"short"===t.type?this.curve=new s.short(t):"edwards"===t.type?this.curve=new s.edwards(t):this.curve=new s.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function f(t,e){Object.defineProperty(i,t,{configurable:!0,enumerable:!0,get:function(){var r=new u(e);return Object.defineProperty(i,t,{configurable:!0,enumerable:!0,value:r}),r}})}i.PresetCurve=u,f("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),f("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),f("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),f("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),f("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),f("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),f("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=r(7983)}catch(t){n=void 0}f("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})},8596:(t,e,r)=>{"use strict";var n=r(2140),i=r(8873),o=r(8288),s=r(1479),a=r(2745),u=o.assert,f=r(2307),c=r(1798);function h(t){if(!(this instanceof h))return new h(t);"string"==typeof t&&(u(Object.prototype.hasOwnProperty.call(s,t),"Unknown curve "+t),t=s[t]),t instanceof s.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}t.exports=h,h.prototype.keyPair=function(t){return new f(this,t)},h.prototype.keyFromPrivate=function(t,e){return f.fromPrivate(this,t,e)},h.prototype.keyFromPublic=function(t,e){return f.fromPublic(this,t,e)},h.prototype.genKeyPair=function(t){t||(t={});for(var e=new i({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||a(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),o=this.n.sub(new n(2));;){var s=new n(e.generate(r));if(!(s.cmp(o)>0))return s.iaddn(1),this.keyFromPrivate(s)}},h.prototype._truncateToN=function(t,e){var r=8*t.byteLength()-this.n.bitLength();return r>0&&(t=t.ushrn(r)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},h.prototype.sign=function(t,e,r,o){"object"==typeof r&&(o=r,r=null),o||(o={}),e=this.keyFromPrivate(e,r),t=this._truncateToN(new n(t,16));for(var s=this.n.byteLength(),a=e.getPrivate().toArray("be",s),u=t.toArray("be",s),f=new i({hash:this.hash,entropy:a,nonce:u,pers:o.pers,persEnc:o.persEnc||"utf8"}),h=this.n.sub(new n(1)),d=0;;d++){var l=o.k?o.k(d):new n(f.generate(this.n.byteLength()));if(!((l=this._truncateToN(l,!0)).cmpn(1)<=0||l.cmp(h)>=0)){var p=this.g.mul(l);if(!p.isInfinity()){var b=p.getX(),g=b.umod(this.n);if(0!==g.cmpn(0)){var m=l.invm(this.n).mul(g.mul(e.getPrivate()).iadd(t));if(0!==(m=m.umod(this.n)).cmpn(0)){var y=(p.getY().isOdd()?1:0)|(0!==b.cmp(g)?2:0);return o.canonical&&m.cmp(this.nh)>0&&(m=this.n.sub(m),y^=1),new c({r:g,s:m,recoveryParam:y})}}}}}},h.prototype.verify=function(t,e,r,i){t=this._truncateToN(new n(t,16)),r=this.keyFromPublic(r,i);var o=(e=new c(e,"hex")).r,s=e.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var a,u=s.invm(this.n),f=u.mul(t).umod(this.n),h=u.mul(o).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(f,r.getPublic(),h)).isInfinity()&&a.eqXToP(o):!(a=this.g.mulAdd(f,r.getPublic(),h)).isInfinity()&&0===a.getX().umod(this.n).cmp(o)},h.prototype.recoverPubKey=function(t,e,r,i){u((3&r)===r,"The recovery param is more than two bits"),e=new c(e,i);var o=this.n,s=new n(t),a=e.r,f=e.s,h=1&r,d=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&d)throw new Error("Unable to find sencond key candinate");a=d?this.curve.pointFromX(a.add(this.curve.n),h):this.curve.pointFromX(a,h);var l=e.r.invm(o),p=o.sub(s).mul(l).umod(o),b=f.mul(l).umod(o);return this.g.mulAdd(p,a,b)},h.prototype.getKeyRecoveryParam=function(t,e,r,n){if(null!==(e=new c(e,n)).recoveryParam)return e.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(t,e,i)}catch(t){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")}},2307:(t,e,r)=>{"use strict";var n=r(2140),i=r(8288).assert;function o(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}t.exports=o,o.fromPublic=function(t,e,r){return e instanceof o?e:new o(t,{pub:e,pubEnc:r})},o.fromPrivate=function(t,e,r){return e instanceof o?e:new o(t,{priv:e,privEnc:r})},o.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(t,e){return"string"==typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},o.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(t,e){this.priv=new n(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?i(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||i(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},o.prototype.derive=function(t){return t.validate()||i(t.validate(),"public point not validated"),t.mul(this.priv).getX()},o.prototype.sign=function(t,e,r){return this.ec.sign(t,this,e,r)},o.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},1798:(t,e,r)=>{"use strict";var n=r(2140),i=r(8288),o=i.assert;function s(t,e){if(t instanceof s)return t;this._importDER(t,e)||(o(t.r&&t.s,"Signature without r or s"),this.r=new n(t.r,16),this.s=new n(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}function a(){this.place=0}function u(t,e){var r=t[e.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,o=0,s=e.place;o<n;o++,s++)i<<=8,i|=t[s],i>>>=0;return!(i<=127)&&(e.place=s,i)}function f(t){for(var e=0,r=t.length-1;!t[e]&&!(128&t[e+1])&&e<r;)e++;return 0===e?t:t.slice(e)}function c(t,e){if(e<128)t.push(e);else{var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|r);--r;)t.push(e>>>(r<<3)&255);t.push(e)}}t.exports=s,s.prototype._importDER=function(t,e){t=i.toArray(t,e);var r=new a;if(48!==t[r.place++])return!1;var o=u(t,r);if(!1===o)return!1;if(o+r.place!==t.length)return!1;if(2!==t[r.place++])return!1;var s=u(t,r);if(!1===s)return!1;var f=t.slice(r.place,s+r.place);if(r.place+=s,2!==t[r.place++])return!1;var c=u(t,r);if(!1===c)return!1;if(t.length!==c+r.place)return!1;var h=t.slice(r.place,c+r.place);if(0===f[0]){if(!(128&f[1]))return!1;f=f.slice(1)}if(0===h[0]){if(!(128&h[1]))return!1;h=h.slice(1)}return this.r=new n(f),this.s=new n(h),this.recoveryParam=null,!0},s.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r)),e=f(e),r=f(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];c(n,e.length),(n=n.concat(e)).push(2),c(n,r.length);var o=n.concat(r),s=[48];return c(s,o.length),s=s.concat(o),i.encode(s,t)}},9208:(t,e,r)=>{"use strict";var n=r(4485),i=r(1479),o=r(8288),s=o.assert,a=o.parseBytes,u=r(851),f=r(6117);function c(t){if(s("ed25519"===t,"only tested with ed25519 so far"),!(this instanceof c))return new c(t);t=i[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=n.sha512}t.exports=c,c.prototype.sign=function(t,e){t=a(t);var r=this.keyFromSecret(e),n=this.hashInt(r.messagePrefix(),t),i=this.g.mul(n),o=this.encodePoint(i),s=this.hashInt(o,r.pubBytes(),t).mul(r.priv()),u=n.add(s).umod(this.curve.n);return this.makeSignature({R:i,S:u,Rencoded:o})},c.prototype.verify=function(t,e,r){t=a(t),e=this.makeSignature(e);var n=this.keyFromPublic(r),i=this.hashInt(e.Rencoded(),n.pubBytes(),t),o=this.g.mul(e.S());return e.R().add(n.pub().mul(i)).eq(o)},c.prototype.hashInt=function(){for(var t=this.hash(),e=0;e<arguments.length;e++)t.update(arguments[e]);return o.intFromLE(t.digest()).umod(this.curve.n)},c.prototype.keyFromPublic=function(t){return u.fromPublic(this,t)},c.prototype.keyFromSecret=function(t){return u.fromSecret(this,t)},c.prototype.makeSignature=function(t){return t instanceof f?t:new f(this,t)},c.prototype.encodePoint=function(t){var e=t.getY().toArray("le",this.encodingLength);return e[this.encodingLength-1]|=t.getX().isOdd()?128:0,e},c.prototype.decodePoint=function(t){var e=(t=o.parseBytes(t)).length-1,r=t.slice(0,e).concat(-129&t[e]),n=0!=(128&t[e]),i=o.intFromLE(r);return this.curve.pointFromY(i,n)},c.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)},c.prototype.decodeInt=function(t){return o.intFromLE(t)},c.prototype.isPoint=function(t){return t instanceof this.pointClass}},851:(t,e,r)=>{"use strict";var n=r(8288),i=n.assert,o=n.parseBytes,s=n.cachedProperty;function a(t,e){this.eddsa=t,this._secret=o(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=o(e.pub)}a.fromPublic=function(t,e){return e instanceof a?e:new a(t,{pub:e})},a.fromSecret=function(t,e){return e instanceof a?e:new a(t,{secret:e})},a.prototype.secret=function(){return this._secret},s(a,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),s(a,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),s(a,"privBytes",(function(){var t=this.eddsa,e=this.hash(),r=t.encodingLength-1,n=e.slice(0,t.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n})),s(a,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),s(a,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),s(a,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),a.prototype.sign=function(t){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)},a.prototype.verify=function(t,e){return this.eddsa.verify(t,e,this)},a.prototype.getSecret=function(t){return i(this._secret,"KeyPair is public only"),n.encode(this.secret(),t)},a.prototype.getPublic=function(t){return n.encode(this.pubBytes(),t)},t.exports=a},6117:(t,e,r)=>{"use strict";var n=r(2140),i=r(8288),o=i.assert,s=i.cachedProperty,a=i.parseBytes;function u(t,e){this.eddsa=t,"object"!=typeof e&&(e=a(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),o(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof n&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}s(u,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),s(u,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),s(u,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),s(u,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),u.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},u.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},t.exports=u},7983:t=>{t.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},8288:(t,e,r)=>{"use strict";var n=e,i=r(2140),o=r(9561),s=r(3022);n.assert=o,n.toArray=s.toArray,n.zero2=s.zero2,n.toHex=s.toHex,n.encode=s.encode,n.getNAF=function(t,e,r){var n=new Array(Math.max(t.bitLength(),r)+1);n.fill(0);for(var i=1<<e+1,o=t.clone(),s=0;s<n.length;s++){var a,u=o.andln(i-1);o.isOdd()?(a=u>(i>>1)-1?(i>>1)-u:u,o.isubn(a)):a=0,n[s]=a,o.iushrn(1)}return n},n.getJSF=function(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n,i=0,o=0;t.cmpn(-i)>0||e.cmpn(-o)>0;){var s,a,u=t.andln(3)+i&3,f=e.andln(3)+o&3;3===u&&(u=-1),3===f&&(f=-1),s=0==(1&u)?0:3!==(n=t.andln(7)+i&7)&&5!==n||2!==f?u:-u,r[0].push(s),a=0==(1&f)?0:3!==(n=e.andln(7)+o&7)&&5!==n||2!==u?f:-f,r[1].push(a),2*i===s+1&&(i=1-i),2*o===a+1&&(o=1-o),t.iushrn(1),e.iushrn(1)}return r},n.cachedProperty=function(t,e,r){var n="_"+e;t.prototype[e]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},n.parseBytes=function(t){return"string"==typeof t?n.toArray(t,"hex"):t},n.intFromLE=function(t){return new i(t,"hex","le")}},2140:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var s;"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(488).Buffer}catch(t){}function a(t,e){var r=t.charCodeAt(e);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function u(t,e,r){var n=a(t,r);return r-1>=e&&(n|=a(t,r-1)<<4),n}function f(t,e,r,n){for(var i=0,o=Math.min(t.length,r),s=e;s<o;s++){var a=t.charCodeAt(s)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=u(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=u(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this.strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,s=o%n,a=Math.min(o,o-s)+r,u=0,c=r;c<a;c+=n)u=f(t,c,c+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var h=1;for(u=f(t,c,t.length,e),c=0;c<s;c++)h*=e;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function l(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var f=1;f<n;f++){for(var c=u>>>26,h=67108863&u,d=Math.min(f,e.length-1),l=Math.max(0,f-t.length+1);l<=d;l++){var p=f-l|0;c+=(s=(i=0|t.words[p])*(o=0|e.words[l])+h)/67108864|0,h=67108863&s}r.words[f]=0|h,u=0|c}return 0!==u?r.words[f]=0|u:r.length--,r.strip()}o.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);r=0!==(o=a>>>24-i&16777215)||s!==this.length-1?c[6-u.length]+u+r:u+r,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(r=o.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var f=h[t],l=d[t];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var b=p.modn(l).toString(t);r=(p=p.idivn(l)).isZero()?b+r:c[f-b.length]+b+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return n(void 0!==s),this.toArrayLike(s,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,r){var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0"),this.strip();var s,a,u="le"===e,f=new t(o),c=this.clone();if(u){for(a=0;!c.isZero();a++)s=c.andln(255),c.iushrn(8),f[a]=s;for(;a<o;a++)f[a]=0}else{for(a=0;a<o-i;a++)f[a]=0;for(a=0;!c.isZero();a++)s=c.andln(255),c.iushrn(8),f[o-a-1]=s}return f},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,s=0;s<n.length;s++)o=(e=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,r){var n,i,o,s=t.words,a=e.words,u=r.words,f=0,c=0|s[0],h=8191&c,d=c>>>13,l=0|s[1],p=8191&l,b=l>>>13,g=0|s[2],m=8191&g,y=g>>>13,v=0|s[3],w=8191&v,_=v>>>13,S=0|s[4],M=8191&S,A=S>>>13,C=0|s[5],E=8191&C,O=C>>>13,x=0|s[6],T=8191&x,P=x>>>13,I=0|s[7],R=8191&I,L=I>>>13,B=0|s[8],k=8191&B,N=B>>>13,H=0|s[9],U=8191&H,D=H>>>13,z=0|a[0],F=8191&z,j=z>>>13,W=0|a[1],G=8191&W,V=W>>>13,K=0|a[2],q=8191&K,J=K>>>13,Y=0|a[3],$=8191&Y,Q=Y>>>13,Z=0|a[4],X=8191&Z,tt=Z>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ut=8191&at,ft=at>>>13,ct=0|a[8],ht=8191&ct,dt=ct>>>13,lt=0|a[9],pt=8191&lt,bt=lt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(f+(n=Math.imul(h,F))|0)+((8191&(i=(i=Math.imul(h,j))+Math.imul(d,F)|0))<<13)|0;f=((o=Math.imul(d,j))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,F),i=(i=Math.imul(p,j))+Math.imul(b,F)|0,o=Math.imul(b,j);var mt=(f+(n=n+Math.imul(h,G)|0)|0)+((8191&(i=(i=i+Math.imul(h,V)|0)+Math.imul(d,G)|0))<<13)|0;f=((o=o+Math.imul(d,V)|0)+(i>>>13)|0)+(mt>>>26)|0,mt&=67108863,n=Math.imul(m,F),i=(i=Math.imul(m,j))+Math.imul(y,F)|0,o=Math.imul(y,j),n=n+Math.imul(p,G)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(b,G)|0,o=o+Math.imul(b,V)|0;var yt=(f+(n=n+Math.imul(h,q)|0)|0)+((8191&(i=(i=i+Math.imul(h,J)|0)+Math.imul(d,q)|0))<<13)|0;f=((o=o+Math.imul(d,J)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(w,F),i=(i=Math.imul(w,j))+Math.imul(_,F)|0,o=Math.imul(_,j),n=n+Math.imul(m,G)|0,i=(i=i+Math.imul(m,V)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,V)|0,n=n+Math.imul(p,q)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(b,q)|0,o=o+Math.imul(b,J)|0;var vt=(f+(n=n+Math.imul(h,$)|0)|0)+((8191&(i=(i=i+Math.imul(h,Q)|0)+Math.imul(d,$)|0))<<13)|0;f=((o=o+Math.imul(d,Q)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(M,F),i=(i=Math.imul(M,j))+Math.imul(A,F)|0,o=Math.imul(A,j),n=n+Math.imul(w,G)|0,i=(i=i+Math.imul(w,V)|0)+Math.imul(_,G)|0,o=o+Math.imul(_,V)|0,n=n+Math.imul(m,q)|0,i=(i=i+Math.imul(m,J)|0)+Math.imul(y,q)|0,o=o+Math.imul(y,J)|0,n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,Q)|0)+Math.imul(b,$)|0,o=o+Math.imul(b,Q)|0;var wt=(f+(n=n+Math.imul(h,X)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(d,X)|0))<<13)|0;f=((o=o+Math.imul(d,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(E,F),i=(i=Math.imul(E,j))+Math.imul(O,F)|0,o=Math.imul(O,j),n=n+Math.imul(M,G)|0,i=(i=i+Math.imul(M,V)|0)+Math.imul(A,G)|0,o=o+Math.imul(A,V)|0,n=n+Math.imul(w,q)|0,i=(i=i+Math.imul(w,J)|0)+Math.imul(_,q)|0,o=o+Math.imul(_,J)|0,n=n+Math.imul(m,$)|0,i=(i=i+Math.imul(m,Q)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,Q)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(b,X)|0,o=o+Math.imul(b,tt)|0;var _t=(f+(n=n+Math.imul(h,rt)|0)|0)+((8191&(i=(i=i+Math.imul(h,nt)|0)+Math.imul(d,rt)|0))<<13)|0;f=((o=o+Math.imul(d,nt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(T,F),i=(i=Math.imul(T,j))+Math.imul(P,F)|0,o=Math.imul(P,j),n=n+Math.imul(E,G)|0,i=(i=i+Math.imul(E,V)|0)+Math.imul(O,G)|0,o=o+Math.imul(O,V)|0,n=n+Math.imul(M,q)|0,i=(i=i+Math.imul(M,J)|0)+Math.imul(A,q)|0,o=o+Math.imul(A,J)|0,n=n+Math.imul(w,$)|0,i=(i=i+Math.imul(w,Q)|0)+Math.imul(_,$)|0,o=o+Math.imul(_,Q)|0,n=n+Math.imul(m,X)|0,i=(i=i+Math.imul(m,tt)|0)+Math.imul(y,X)|0,o=o+Math.imul(y,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(b,rt)|0,o=o+Math.imul(b,nt)|0;var St=(f+(n=n+Math.imul(h,ot)|0)|0)+((8191&(i=(i=i+Math.imul(h,st)|0)+Math.imul(d,ot)|0))<<13)|0;f=((o=o+Math.imul(d,st)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(R,F),i=(i=Math.imul(R,j))+Math.imul(L,F)|0,o=Math.imul(L,j),n=n+Math.imul(T,G)|0,i=(i=i+Math.imul(T,V)|0)+Math.imul(P,G)|0,o=o+Math.imul(P,V)|0,n=n+Math.imul(E,q)|0,i=(i=i+Math.imul(E,J)|0)+Math.imul(O,q)|0,o=o+Math.imul(O,J)|0,n=n+Math.imul(M,$)|0,i=(i=i+Math.imul(M,Q)|0)+Math.imul(A,$)|0,o=o+Math.imul(A,Q)|0,n=n+Math.imul(w,X)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(_,X)|0,o=o+Math.imul(_,tt)|0,n=n+Math.imul(m,rt)|0,i=(i=i+Math.imul(m,nt)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,nt)|0,n=n+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,st)|0)+Math.imul(b,ot)|0,o=o+Math.imul(b,st)|0;var Mt=(f+(n=n+Math.imul(h,ut)|0)|0)+((8191&(i=(i=i+Math.imul(h,ft)|0)+Math.imul(d,ut)|0))<<13)|0;f=((o=o+Math.imul(d,ft)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(k,F),i=(i=Math.imul(k,j))+Math.imul(N,F)|0,o=Math.imul(N,j),n=n+Math.imul(R,G)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(L,G)|0,o=o+Math.imul(L,V)|0,n=n+Math.imul(T,q)|0,i=(i=i+Math.imul(T,J)|0)+Math.imul(P,q)|0,o=o+Math.imul(P,J)|0,n=n+Math.imul(E,$)|0,i=(i=i+Math.imul(E,Q)|0)+Math.imul(O,$)|0,o=o+Math.imul(O,Q)|0,n=n+Math.imul(M,X)|0,i=(i=i+Math.imul(M,tt)|0)+Math.imul(A,X)|0,o=o+Math.imul(A,tt)|0,n=n+Math.imul(w,rt)|0,i=(i=i+Math.imul(w,nt)|0)+Math.imul(_,rt)|0,o=o+Math.imul(_,nt)|0,n=n+Math.imul(m,ot)|0,i=(i=i+Math.imul(m,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(b,ut)|0,o=o+Math.imul(b,ft)|0;var At=(f+(n=n+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,dt)|0)+Math.imul(d,ht)|0))<<13)|0;f=((o=o+Math.imul(d,dt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(U,F),i=(i=Math.imul(U,j))+Math.imul(D,F)|0,o=Math.imul(D,j),n=n+Math.imul(k,G)|0,i=(i=i+Math.imul(k,V)|0)+Math.imul(N,G)|0,o=o+Math.imul(N,V)|0,n=n+Math.imul(R,q)|0,i=(i=i+Math.imul(R,J)|0)+Math.imul(L,q)|0,o=o+Math.imul(L,J)|0,n=n+Math.imul(T,$)|0,i=(i=i+Math.imul(T,Q)|0)+Math.imul(P,$)|0,o=o+Math.imul(P,Q)|0,n=n+Math.imul(E,X)|0,i=(i=i+Math.imul(E,tt)|0)+Math.imul(O,X)|0,o=o+Math.imul(O,tt)|0,n=n+Math.imul(M,rt)|0,i=(i=i+Math.imul(M,nt)|0)+Math.imul(A,rt)|0,o=o+Math.imul(A,nt)|0,n=n+Math.imul(w,ot)|0,i=(i=i+Math.imul(w,st)|0)+Math.imul(_,ot)|0,o=o+Math.imul(_,st)|0,n=n+Math.imul(m,ut)|0,i=(i=i+Math.imul(m,ft)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,ft)|0,n=n+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,dt)|0)+Math.imul(b,ht)|0,o=o+Math.imul(b,dt)|0;var Ct=(f+(n=n+Math.imul(h,pt)|0)|0)+((8191&(i=(i=i+Math.imul(h,bt)|0)+Math.imul(d,pt)|0))<<13)|0;f=((o=o+Math.imul(d,bt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(U,G),i=(i=Math.imul(U,V))+Math.imul(D,G)|0,o=Math.imul(D,V),n=n+Math.imul(k,q)|0,i=(i=i+Math.imul(k,J)|0)+Math.imul(N,q)|0,o=o+Math.imul(N,J)|0,n=n+Math.imul(R,$)|0,i=(i=i+Math.imul(R,Q)|0)+Math.imul(L,$)|0,o=o+Math.imul(L,Q)|0,n=n+Math.imul(T,X)|0,i=(i=i+Math.imul(T,tt)|0)+Math.imul(P,X)|0,o=o+Math.imul(P,tt)|0,n=n+Math.imul(E,rt)|0,i=(i=i+Math.imul(E,nt)|0)+Math.imul(O,rt)|0,o=o+Math.imul(O,nt)|0,n=n+Math.imul(M,ot)|0,i=(i=i+Math.imul(M,st)|0)+Math.imul(A,ot)|0,o=o+Math.imul(A,st)|0,n=n+Math.imul(w,ut)|0,i=(i=i+Math.imul(w,ft)|0)+Math.imul(_,ut)|0,o=o+Math.imul(_,ft)|0,n=n+Math.imul(m,ht)|0,i=(i=i+Math.imul(m,dt)|0)+Math.imul(y,ht)|0,o=o+Math.imul(y,dt)|0;var Et=(f+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,bt)|0)+Math.imul(b,pt)|0))<<13)|0;f=((o=o+Math.imul(b,bt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(U,q),i=(i=Math.imul(U,J))+Math.imul(D,q)|0,o=Math.imul(D,J),n=n+Math.imul(k,$)|0,i=(i=i+Math.imul(k,Q)|0)+Math.imul(N,$)|0,o=o+Math.imul(N,Q)|0,n=n+Math.imul(R,X)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(L,X)|0,o=o+Math.imul(L,tt)|0,n=n+Math.imul(T,rt)|0,i=(i=i+Math.imul(T,nt)|0)+Math.imul(P,rt)|0,o=o+Math.imul(P,nt)|0,n=n+Math.imul(E,ot)|0,i=(i=i+Math.imul(E,st)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,st)|0,n=n+Math.imul(M,ut)|0,i=(i=i+Math.imul(M,ft)|0)+Math.imul(A,ut)|0,o=o+Math.imul(A,ft)|0,n=n+Math.imul(w,ht)|0,i=(i=i+Math.imul(w,dt)|0)+Math.imul(_,ht)|0,o=o+Math.imul(_,dt)|0;var Ot=(f+(n=n+Math.imul(m,pt)|0)|0)+((8191&(i=(i=i+Math.imul(m,bt)|0)+Math.imul(y,pt)|0))<<13)|0;f=((o=o+Math.imul(y,bt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,n=Math.imul(U,$),i=(i=Math.imul(U,Q))+Math.imul(D,$)|0,o=Math.imul(D,Q),n=n+Math.imul(k,X)|0,i=(i=i+Math.imul(k,tt)|0)+Math.imul(N,X)|0,o=o+Math.imul(N,tt)|0,n=n+Math.imul(R,rt)|0,i=(i=i+Math.imul(R,nt)|0)+Math.imul(L,rt)|0,o=o+Math.imul(L,nt)|0,n=n+Math.imul(T,ot)|0,i=(i=i+Math.imul(T,st)|0)+Math.imul(P,ot)|0,o=o+Math.imul(P,st)|0,n=n+Math.imul(E,ut)|0,i=(i=i+Math.imul(E,ft)|0)+Math.imul(O,ut)|0,o=o+Math.imul(O,ft)|0,n=n+Math.imul(M,ht)|0,i=(i=i+Math.imul(M,dt)|0)+Math.imul(A,ht)|0,o=o+Math.imul(A,dt)|0;var xt=(f+(n=n+Math.imul(w,pt)|0)|0)+((8191&(i=(i=i+Math.imul(w,bt)|0)+Math.imul(_,pt)|0))<<13)|0;f=((o=o+Math.imul(_,bt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(U,X),i=(i=Math.imul(U,tt))+Math.imul(D,X)|0,o=Math.imul(D,tt),n=n+Math.imul(k,rt)|0,i=(i=i+Math.imul(k,nt)|0)+Math.imul(N,rt)|0,o=o+Math.imul(N,nt)|0,n=n+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,st)|0)+Math.imul(L,ot)|0,o=o+Math.imul(L,st)|0,n=n+Math.imul(T,ut)|0,i=(i=i+Math.imul(T,ft)|0)+Math.imul(P,ut)|0,o=o+Math.imul(P,ft)|0,n=n+Math.imul(E,ht)|0,i=(i=i+Math.imul(E,dt)|0)+Math.imul(O,ht)|0,o=o+Math.imul(O,dt)|0;var Tt=(f+(n=n+Math.imul(M,pt)|0)|0)+((8191&(i=(i=i+Math.imul(M,bt)|0)+Math.imul(A,pt)|0))<<13)|0;f=((o=o+Math.imul(A,bt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(U,rt),i=(i=Math.imul(U,nt))+Math.imul(D,rt)|0,o=Math.imul(D,nt),n=n+Math.imul(k,ot)|0,i=(i=i+Math.imul(k,st)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,st)|0,n=n+Math.imul(R,ut)|0,i=(i=i+Math.imul(R,ft)|0)+Math.imul(L,ut)|0,o=o+Math.imul(L,ft)|0,n=n+Math.imul(T,ht)|0,i=(i=i+Math.imul(T,dt)|0)+Math.imul(P,ht)|0,o=o+Math.imul(P,dt)|0;var Pt=(f+(n=n+Math.imul(E,pt)|0)|0)+((8191&(i=(i=i+Math.imul(E,bt)|0)+Math.imul(O,pt)|0))<<13)|0;f=((o=o+Math.imul(O,bt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(U,ot),i=(i=Math.imul(U,st))+Math.imul(D,ot)|0,o=Math.imul(D,st),n=n+Math.imul(k,ut)|0,i=(i=i+Math.imul(k,ft)|0)+Math.imul(N,ut)|0,o=o+Math.imul(N,ft)|0,n=n+Math.imul(R,ht)|0,i=(i=i+Math.imul(R,dt)|0)+Math.imul(L,ht)|0,o=o+Math.imul(L,dt)|0;var It=(f+(n=n+Math.imul(T,pt)|0)|0)+((8191&(i=(i=i+Math.imul(T,bt)|0)+Math.imul(P,pt)|0))<<13)|0;f=((o=o+Math.imul(P,bt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(U,ut),i=(i=Math.imul(U,ft))+Math.imul(D,ut)|0,o=Math.imul(D,ft),n=n+Math.imul(k,ht)|0,i=(i=i+Math.imul(k,dt)|0)+Math.imul(N,ht)|0,o=o+Math.imul(N,dt)|0;var Rt=(f+(n=n+Math.imul(R,pt)|0)|0)+((8191&(i=(i=i+Math.imul(R,bt)|0)+Math.imul(L,pt)|0))<<13)|0;f=((o=o+Math.imul(L,bt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(U,ht),i=(i=Math.imul(U,dt))+Math.imul(D,ht)|0,o=Math.imul(D,dt);var Lt=(f+(n=n+Math.imul(k,pt)|0)|0)+((8191&(i=(i=i+Math.imul(k,bt)|0)+Math.imul(N,pt)|0))<<13)|0;f=((o=o+Math.imul(N,bt)|0)+(i>>>13)|0)+(Lt>>>26)|0,Lt&=67108863;var Bt=(f+(n=Math.imul(U,pt))|0)+((8191&(i=(i=Math.imul(U,bt))+Math.imul(D,pt)|0))<<13)|0;return f=((o=Math.imul(D,bt))+(i>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,u[0]=gt,u[1]=mt,u[2]=yt,u[3]=vt,u[4]=wt,u[5]=_t,u[6]=St,u[7]=Mt,u[8]=At,u[9]=Ct,u[10]=Et,u[11]=Ot,u[12]=xt,u[13]=Tt,u[14]=Pt,u[15]=It,u[16]=Rt,u[17]=Lt,u[18]=Bt,0!==f&&(u[19]=f,r.length++),r};function b(t,e,r){return(new g).mulp(t,e,r)}function g(t,e){this.x=t,this.y=e}Math.imul||(p=l),o.prototype.mulTo=function(t,e){var r,n=this.length+t.length;return r=10===this.length&&10===t.length?p(this,t,e):n<63?l(this,t,e):n<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,e.length-1),f=Math.max(0,o-t.length+1);f<=u;f++){var c=o-f,h=(0|t.words[c])*(0|e.words[f]),d=67108863&h;a=67108863&(d=d+a|0),i+=(s=(s=s+(h/67108864|0)|0)+(d>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,t,e):b(this,t,e),r},g.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},g.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},g.prototype.permute=function(t,e,r,n,i,o){for(var s=0;s<o;s++)n[s]=e[t[s]],i[s]=r[t[s]]},g.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),f=Math.sin(2*Math.PI/a),c=0;c<i;c+=a)for(var h=u,d=f,l=0;l<s;l++){var p=r[c+l],b=n[c+l],g=r[c+l+s],m=n[c+l+s],y=h*g-d*m;m=h*m+d*g,g=y,r[c+l]=p+g,n[c+l]=b+m,r[c+l+s]=p-g,n[c+l+s]=b-m,l!==a&&(y=u*h-f*d,d=u*d+f*h,h=y)}},g.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},g.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},g.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},g.prototype.convert13b=function(t,e,r,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)r[s]=0;n(0===o),n(0==(-8192&o))},g.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},g.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),f=new Array(n),c=new Array(n),h=new Array(n),d=r.words;d.length=n,this.convert13b(t.words,t.length,s,n),this.convert13b(e.words,e.length,f,n),this.transform(s,o,a,u,n,i),this.transform(f,o,c,h,n,i);for(var l=0;l<n;l++){var p=a[l]*c[l]-u[l]*h[l];u[l]=a[l]*h[l]+u[l]*c[l],a[l]=p}return this.conjugate(a,u,n),this.transform(a,u,d,o,n,i),this.conjugate(d,o,n),this.normalize13b(d,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),b(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){n("number"==typeof t),n(t<67108864);for(var e=0,r=0;r<this.length;r++){var i=(0|this.words[r])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[r]=67108863&o}return 0!==e&&(this.words[r]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,u=(0|this.words[e])-a<<r;this.words[e]=u|s,s=a>>>26-r}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,u=r;if(i-=s,i=Math.max(0,i),u){for(var f=0;f<s;f++)u.words[f]=this.words[f];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,f=0;f<this.length;f++)this.words[f]=this.words[f+s];else this.words[0]=0,this.length=1;var c=0;for(f=this.length-1;f>=0&&(0!==c||f>=i);f--){var h=0|this.words[f];this.words[f]=c<<26-o|h>>>o,c=h&a}return u&&0!==c&&(u.words[u.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,s=t.length+r;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,s=0|i.words[i.length-1];0!==(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==e){(a=new o(null)).length=u+1,a.words=new Array(a.length);for(var f=0;f<a.length;f++)a.words[f]=0}var c=n.clone()._ishlnsubmul(i,1,u);0===c.negative&&(n=c,a&&(a.words[u]=1));for(var h=u-1;h>=0;h--){var d=67108864*(0|n.words[i.length+h])+(0|n.words[i.length+h-1]);for(d=Math.min(d/s|0,67108863),n._ishlnsubmul(i,d,h);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(i,1,h),n.isZero()||(n.negative^=1);a&&(a.words[h]=d)}return a&&a.strip(),n.strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){n(t<=67108863);for(var e=(1<<26)%t,r=0,i=this.length-1;i>=0;i--)r=(e*r+(0|this.words[i]))%t;return r},o.prototype.idivn=function(t){n(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*e;this.words[r]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),u=new o(1),f=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++f;for(var c=r.clone(),h=e.clone();!e.isZero();){for(var d=0,l=1;0==(e.words[0]&l)&&d<26;++d,l<<=1);if(d>0)for(e.iushrn(d);d-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(c),s.isub(h)),i.iushrn(1),s.iushrn(1);for(var p=0,b=1;0==(r.words[0]&b)&&p<26;++p,b<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(c),u.isub(h)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),s.isub(u)):(r.isub(e),a.isub(i),u.isub(s))}return{a,b:u,gcd:r.iushln(f)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var f=0,c=1;0==(e.words[0]&c)&&f<26;++f,c<<=1);if(f>0)for(e.iushrn(f);f-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var h=0,d=1;0==(r.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(r.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),s.isub(a)):(r.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new M(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var m={k256:null,p224:null,p192:null,p25519:null};function y(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function S(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function M(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function A(t){M.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},y.prototype.split=function(t,e){t.iushrn(this.n,0,e)},y.prototype.imulK=function(t){return t.imul(this.k)},i(v,y),v.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&r,i=10;i<t.length;i++){var s=0|t.words[i];t.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},v.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(w,y),i(_,y),i(S,y),S.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(m[t])return m[t];var e;if("k256"===t)e=new v;else if("p224"===t)e=new w;else if("p192"===t)e=new _;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new S}return m[t]=e,e},M.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},M.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},M.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},M.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},M.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},M.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},M.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},M.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},M.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},M.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},M.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},M.prototype.isqr=function(t){return this.imul(t,t.clone())},M.prototype.sqr=function(t){return this.mul(t,t)},M.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),u=a.redNeg(),f=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new o(2*c*c).toRed(this);0!==this.pow(c,f).cmp(u);)c.redIAdd(u);for(var h=this.pow(c,i),d=this.pow(t,i.addn(1).iushrn(1)),l=this.pow(t,i),p=s;0!==l.cmp(a);){for(var b=l,g=0;0!==b.cmp(a);g++)b=b.redSqr();n(g<p);var m=this.pow(h,new o(1).iushln(p-g-1));d=d.redMul(m),h=m.redSqr(),l=l.redMul(h),p=g}return d},M.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},M.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],s=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var f=e.words[n],c=u-1;c>=0;c--){var h=f>>c&1;i!==r[0]&&(i=this.sqr(i)),0!==h||0!==s?(s<<=1,s|=h,(4===++a||0===n&&0===c)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}u=26}return i},M.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},M.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new A(t)},i(A,M),A.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},A.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},A.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},A.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},A.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},1037:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.scryptSync=e.scrypt=void 0;const n=r(2739),i=r(144);e.scrypt=async function(t,e,r,o,s,a,u){return(0,i.assertBytes)(t),(0,i.assertBytes)(e),(0,n.scryptAsync)(t,e,{N:r,r:s,p:o,dkLen:a,onProgress:u})},e.scryptSync=function(t,e,r,o,s,a,u){return(0,i.assertBytes)(t),(0,i.assertBytes)(e),(0,n.scrypt)(t,e,{N:r,r:s,p:o,dkLen:a,onProgress:u})}},144:function(t,e,r){"use strict";t=r.nmd(t);var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.crypto=e.wrapHash=e.equalsBytes=e.hexToBytes=e.bytesToUtf8=e.utf8ToBytes=e.createView=e.concatBytes=e.toHex=e.bytesToHex=e.assertBytes=e.assertBool=void 0;const i=n(r(3525)),o=r(64),s=i.default.bool;e.assertBool=s;const a=i.default.bytes;e.assertBytes=a;var u=r(64);Object.defineProperty(e,"bytesToHex",{enumerable:!0,get:function(){return u.bytesToHex}}),Object.defineProperty(e,"toHex",{enumerable:!0,get:function(){return u.bytesToHex}}),Object.defineProperty(e,"concatBytes",{enumerable:!0,get:function(){return u.concatBytes}}),Object.defineProperty(e,"createView",{enumerable:!0,get:function(){return u.createView}}),Object.defineProperty(e,"utf8ToBytes",{enumerable:!0,get:function(){return u.utf8ToBytes}}),e.bytesToUtf8=function(t){if(!(t instanceof Uint8Array))throw new TypeError("bytesToUtf8 expected Uint8Array, got "+typeof t);return(new TextDecoder).decode(t)},e.hexToBytes=function(t){const e=t.startsWith("0x")?t.substring(2):t;return(0,o.hexToBytes)(e)},e.equalsBytes=function(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0},e.wrapHash=function(t){return e=>(i.default.bytes(e),t(e))},e.crypto=(()=>{const e="object"==typeof self&&"crypto"in self?self.crypto:void 0,r="function"==typeof t.require&&t.require.bind(t);return{node:r&&!e?r("crypto"):void 0,web:e}})()},4485:(t,e,r)=>{var n=e;n.utils=r(212),n.common=r(4495),n.sha=r(5530),n.ripemd=r(1396),n.hmac=r(5047),n.sha1=n.sha.sha1,n.sha256=n.sha.sha256,n.sha224=n.sha.sha224,n.sha384=n.sha.sha384,n.sha512=n.sha.sha512,n.ripemd160=n.ripemd.ripemd160},4495:(t,e,r)=>{"use strict";var n=r(212),i=r(9561);function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}e.BlockHash=o,o.prototype.update=function(t,e){if(t=n.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var r=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-r,t.length),0===this.pending.length&&(this.pending=null),t=n.join32(t,0,t.length-r,this.endian);for(var i=0;i<t.length;i+=this._delta32)this._update(t,i,i+this._delta32)}return this},o.prototype.digest=function(t){return this.update(this._pad()),i(null===this.pending),this._digest(t)},o.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,r=e-(t+this.padLength)%e,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(t<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=t>>>24&255,n[i++]=t>>>16&255,n[i++]=t>>>8&255,n[i++]=255&t}else for(n[i++]=255&t,n[i++]=t>>>8&255,n[i++]=t>>>16&255,n[i++]=t>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,o=8;o<this.padLength;o++)n[i++]=0;return n}},5047:(t,e,r)=>{"use strict";var n=r(212),i=r(9561);function o(t,e,r){if(!(this instanceof o))return new o(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(e,r))}t.exports=o,o.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),i(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t)},o.prototype.update=function(t,e){return this.inner.update(t,e),this},o.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)}},1396:(t,e,r)=>{"use strict";var n=r(212),i=r(4495),o=n.rotl32,s=n.sum32,a=n.sum32_3,u=n.sum32_4,f=i.BlockHash;function c(){if(!(this instanceof c))return new c;f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function h(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function d(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function l(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}n.inherits(c,f),e.ripemd160=c,c.blockSize=512,c.outSize=160,c.hmacStrength=192,c.padLength=64,c.prototype._update=function(t,e){for(var r=this.h[0],n=this.h[1],i=this.h[2],f=this.h[3],c=this.h[4],y=r,v=n,w=i,_=f,S=c,M=0;M<80;M++){var A=s(o(u(r,h(M,n,i,f),t[p[M]+e],d(M)),g[M]),c);r=c,c=f,f=o(i,10),i=n,n=A,A=s(o(u(y,h(79-M,v,w,_),t[b[M]+e],l(M)),m[M]),S),y=S,S=_,_=o(w,10),w=v,v=A}A=a(this.h[1],i,_),this.h[1]=a(this.h[2],f,S),this.h[2]=a(this.h[3],c,y),this.h[3]=a(this.h[4],r,v),this.h[4]=a(this.h[0],n,w),this.h[0]=A},c.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"little"):n.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],b=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],m=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},5530:(t,e,r)=>{"use strict";e.sha1=r(5079),e.sha224=r(3823),e.sha256=r(8032),e.sha384=r(5328),e.sha512=r(168)},5079:(t,e,r)=>{"use strict";var n=r(212),i=r(4495),o=r(713),s=n.rotl32,a=n.sum32,u=n.sum32_5,f=o.ft_1,c=i.BlockHash,h=[1518500249,1859775393,2400959708,3395469782];function d(){if(!(this instanceof d))return new d;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}n.inherits(d,c),t.exports=d,d.blockSize=512,d.outSize=160,d.hmacStrength=80,d.padLength=64,d.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=s(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],o=this.h[1],c=this.h[2],d=this.h[3],l=this.h[4];for(n=0;n<r.length;n++){var p=~~(n/20),b=u(s(i,5),f(p,o,c,d),l,r[n],h[p]);l=d,d=c,c=s(o,30),o=i,i=b}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],c),this.h[3]=a(this.h[3],d),this.h[4]=a(this.h[4],l)},d.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},3823:(t,e,r)=>{"use strict";var n=r(212),i=r(8032);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}n.inherits(o,i),t.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},8032:(t,e,r)=>{"use strict";var n=r(212),i=r(4495),o=r(713),s=r(9561),a=n.sum32,u=n.sum32_4,f=n.sum32_5,c=o.ch32,h=o.maj32,d=o.s0_256,l=o.s1_256,p=o.g0_256,b=o.g1_256,g=i.BlockHash,m=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function y(){if(!(this instanceof y))return new y;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=m,this.W=new Array(64)}n.inherits(y,g),t.exports=y,y.blockSize=512,y.outSize=256,y.hmacStrength=192,y.padLength=64,y.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=u(b(r[n-2]),r[n-7],p(r[n-15]),r[n-16]);var i=this.h[0],o=this.h[1],g=this.h[2],m=this.h[3],y=this.h[4],v=this.h[5],w=this.h[6],_=this.h[7];for(s(this.k.length===r.length),n=0;n<r.length;n++){var S=f(_,l(y),c(y,v,w),this.k[n],r[n]),M=a(d(i),h(i,o,g));_=w,w=v,v=y,y=a(m,S),m=g,g=o,o=i,i=a(S,M)}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],g),this.h[3]=a(this.h[3],m),this.h[4]=a(this.h[4],y),this.h[5]=a(this.h[5],v),this.h[6]=a(this.h[6],w),this.h[7]=a(this.h[7],_)},y.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},5328:(t,e,r)=>{"use strict";var n=r(212),i=r(168);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}n.inherits(o,i),t.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},168:(t,e,r)=>{"use strict";var n=r(212),i=r(4495),o=r(9561),s=n.rotr64_hi,a=n.rotr64_lo,u=n.shr64_hi,f=n.shr64_lo,c=n.sum64,h=n.sum64_hi,d=n.sum64_lo,l=n.sum64_4_hi,p=n.sum64_4_lo,b=n.sum64_5_hi,g=n.sum64_5_lo,m=i.BlockHash,y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function v(){if(!(this instanceof v))return new v;m.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=y,this.W=new Array(160)}function w(t,e,r,n,i){var o=t&r^~t&i;return o<0&&(o+=4294967296),o}function _(t,e,r,n,i,o){var s=e&n^~e&o;return s<0&&(s+=4294967296),s}function S(t,e,r,n,i){var o=t&r^t&i^r&i;return o<0&&(o+=4294967296),o}function M(t,e,r,n,i,o){var s=e&n^e&o^n&o;return s<0&&(s+=4294967296),s}function A(t,e){var r=s(t,e,28)^s(e,t,2)^s(e,t,7);return r<0&&(r+=4294967296),r}function C(t,e){var r=a(t,e,28)^a(e,t,2)^a(e,t,7);return r<0&&(r+=4294967296),r}function E(t,e){var r=s(t,e,14)^s(t,e,18)^s(e,t,9);return r<0&&(r+=4294967296),r}function O(t,e){var r=a(t,e,14)^a(t,e,18)^a(e,t,9);return r<0&&(r+=4294967296),r}function x(t,e){var r=s(t,e,1)^s(t,e,8)^u(t,e,7);return r<0&&(r+=4294967296),r}function T(t,e){var r=a(t,e,1)^a(t,e,8)^f(t,e,7);return r<0&&(r+=4294967296),r}function P(t,e){var r=s(t,e,19)^s(e,t,29)^u(t,e,6);return r<0&&(r+=4294967296),r}function I(t,e){var r=a(t,e,19)^a(e,t,29)^f(t,e,6);return r<0&&(r+=4294967296),r}n.inherits(v,m),t.exports=v,v.blockSize=1024,v.outSize=512,v.hmacStrength=192,v.padLength=128,v.prototype._prepareBlock=function(t,e){for(var r=this.W,n=0;n<32;n++)r[n]=t[e+n];for(;n<r.length;n+=2){var i=P(r[n-4],r[n-3]),o=I(r[n-4],r[n-3]),s=r[n-14],a=r[n-13],u=x(r[n-30],r[n-29]),f=T(r[n-30],r[n-29]),c=r[n-32],h=r[n-31];r[n]=l(i,o,s,a,u,f,c,h),r[n+1]=p(i,o,s,a,u,f,c,h)}},v.prototype._update=function(t,e){this._prepareBlock(t,e);var r=this.W,n=this.h[0],i=this.h[1],s=this.h[2],a=this.h[3],u=this.h[4],f=this.h[5],l=this.h[6],p=this.h[7],m=this.h[8],y=this.h[9],v=this.h[10],x=this.h[11],T=this.h[12],P=this.h[13],I=this.h[14],R=this.h[15];o(this.k.length===r.length);for(var L=0;L<r.length;L+=2){var B=I,k=R,N=E(m,y),H=O(m,y),U=w(m,y,v,x,T),D=_(m,y,v,x,T,P),z=this.k[L],F=this.k[L+1],j=r[L],W=r[L+1],G=b(B,k,N,H,U,D,z,F,j,W),V=g(B,k,N,H,U,D,z,F,j,W);B=A(n,i),k=C(n,i),N=S(n,i,s,a,u),H=M(n,i,s,a,u,f);var K=h(B,k,N,H),q=d(B,k,N,H);I=T,R=P,T=v,P=x,v=m,x=y,m=h(l,p,G,V),y=d(p,p,G,V),l=u,p=f,u=s,f=a,s=n,a=i,n=h(G,V,K,q),i=d(G,V,K,q)}c(this.h,0,n,i),c(this.h,2,s,a),c(this.h,4,u,f),c(this.h,6,l,p),c(this.h,8,m,y),c(this.h,10,v,x),c(this.h,12,T,P),c(this.h,14,I,R)},v.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},713:(t,e,r)=>{"use strict";var n=r(212).rotr32;function i(t,e,r){return t&e^~t&r}function o(t,e,r){return t&e^t&r^e&r}function s(t,e,r){return t^e^r}e.ft_1=function(t,e,r,n){return 0===t?i(e,r,n):1===t||3===t?s(e,r,n):2===t?o(e,r,n):void 0},e.ch32=i,e.maj32=o,e.p32=s,e.s0_256=function(t){return n(t,2)^n(t,13)^n(t,22)},e.s1_256=function(t){return n(t,6)^n(t,11)^n(t,25)},e.g0_256=function(t){return n(t,7)^n(t,18)^t>>>3},e.g1_256=function(t){return n(t,17)^n(t,19)^t>>>10}},212:(t,e,r)=>{"use strict";var n=r(9561),i=r(1285);function o(t,e){return 55296==(64512&t.charCodeAt(e))&&(!(e<0||e+1>=t.length)&&56320==(64512&t.charCodeAt(e+1)))}function s(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function a(t){return 1===t.length?"0"+t:t}function u(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}e.inherits=i,e.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"==typeof t)if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var s=t.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=63&s|128):o(t,i)?(s=65536+((1023&s)<<10)+(1023&t.charCodeAt(++i)),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=63&s|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=63&s|128)}else for(i=0;i<t.length;i++)r[i]=0|t[i];return r},e.toHex=function(t){for(var e="",r=0;r<t.length;r++)e+=a(t[r].toString(16));return e},e.htonl=s,e.toHex32=function(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];"little"===e&&(i=s(i)),r+=u(i.toString(16))}return r},e.zero2=a,e.zero8=u,e.join32=function(t,e,r,i){var o=r-e;n(o%4==0);for(var s=new Array(o/4),a=0,u=e;a<s.length;a++,u+=4){var f;f="big"===i?t[u]<<24|t[u+1]<<16|t[u+2]<<8|t[u+3]:t[u+3]<<24|t[u+2]<<16|t[u+1]<<8|t[u],s[a]=f>>>0}return s},e.split32=function(t,e){for(var r=new Array(4*t.length),n=0,i=0;n<t.length;n++,i+=4){var o=t[n];"big"===e?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=255&o):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=255&o)}return r},e.rotr32=function(t,e){return t>>>e|t<<32-e},e.rotl32=function(t,e){return t<<e|t>>>32-e},e.sum32=function(t,e){return t+e>>>0},e.sum32_3=function(t,e,r){return t+e+r>>>0},e.sum32_4=function(t,e,r,n){return t+e+r+n>>>0},e.sum32_5=function(t,e,r,n,i){return t+e+r+n+i>>>0},e.sum64=function(t,e,r,n){var i=t[e],o=n+t[e+1]>>>0,s=(o<n?1:0)+r+i;t[e]=s>>>0,t[e+1]=o},e.sum64_hi=function(t,e,r,n){return(e+n>>>0<e?1:0)+t+r>>>0},e.sum64_lo=function(t,e,r,n){return e+n>>>0},e.sum64_4_hi=function(t,e,r,n,i,o,s,a){var u=0,f=e;return u+=(f=f+n>>>0)<e?1:0,u+=(f=f+o>>>0)<o?1:0,t+r+i+s+(u+=(f=f+a>>>0)<a?1:0)>>>0},e.sum64_4_lo=function(t,e,r,n,i,o,s,a){return e+n+o+a>>>0},e.sum64_5_hi=function(t,e,r,n,i,o,s,a,u,f){var c=0,h=e;return c+=(h=h+n>>>0)<e?1:0,c+=(h=h+o>>>0)<o?1:0,c+=(h=h+a>>>0)<a?1:0,t+r+i+s+u+(c+=(h=h+f>>>0)<f?1:0)>>>0},e.sum64_5_lo=function(t,e,r,n,i,o,s,a,u,f){return e+n+o+a+f>>>0},e.rotr64_hi=function(t,e,r){return(e<<32-r|t>>>r)>>>0},e.rotr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0},e.shr64_hi=function(t,e,r){return t>>>r},e.shr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0}},8873:(t,e,r)=>{"use strict";var n=r(4485),i=r(3022),o=r(9561);function s(t){if(!(this instanceof s))return new s(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=i.toArray(t.entropy,t.entropyEnc||"hex"),r=i.toArray(t.nonce,t.nonceEnc||"hex"),n=i.toArray(t.pers,t.persEnc||"hex");o(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}t.exports=s,s.prototype._init=function(t,e,r){var n=t.concat(e).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},s.prototype._hmac=function(){return new n.hmac(this.hash,this.K)},s.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},s.prototype.reseed=function(t,e,r,n){"string"!=typeof e&&(n=r,r=e,e=null),t=i.toArray(t,e),r=i.toArray(r,n),o(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(r||[])),this._reseed=1},s.prototype.generate=function(t,e,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(n=r,r=e,e=null),r&&(r=i.toArray(r,n||"hex"),this._update(r));for(var o=[];o.length<t;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var s=o.slice(0,t);return this._update(r),this._reseed++,i.encode(s,e)}},2333:(t,e)=>{e.read=function(t,e,r,n,i){var o,s,a=8*i-n-1,u=(1<<a)-1,f=u>>1,c=-7,h=r?i-1:0,d=r?-1:1,l=t[e+h];for(h+=d,o=l&(1<<-c)-1,l>>=-c,c+=a;c>0;o=256*o+t[e+h],h+=d,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=n;c>0;s=256*s+t[e+h],h+=d,c-=8);if(0===o)o=1-f;else{if(o===u)return s?NaN:1/0*(l?-1:1);s+=Math.pow(2,n),o-=f}return(l?-1:1)*s*Math.pow(2,o-n)},e.write=function(t,e,r,n,i,o){var s,a,u,f=8*o-i-1,c=(1<<f)-1,h=c>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,l=n?0:o-1,p=n?1:-1,b=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=c):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+h>=1?d/u:d*Math.pow(2,1-h))*u>=2&&(s++,u/=2),s+h>=c?(a=0,s=c):s+h>=1?(a=(e*u-1)*Math.pow(2,i),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;t[r+l]=255&a,l+=p,a/=256,i-=8);for(s=s<<i|a,f+=i;f>0;t[r+l]=255&s,l+=p,s/=256,f-=8);t[r+l-p]|=128*b}},1285:t=>{"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}},6635:function(t,e,r){var n;t=r.nmd(t),function(){var i,o="Expected a function",s="__lodash_hash_undefined__",a="__lodash_placeholder__",u=16,f=32,c=64,h=128,d=256,l=1/0,p=9007199254740991,b=NaN,g=4294967295,m=[["ary",h],["bind",1],["bindKey",2],["curry",8],["curryRight",u],["flip",512],["partial",f],["partialRight",c],["rearg",d]],y="[object Arguments]",v="[object Array]",w="[object Boolean]",_="[object Date]",S="[object Error]",M="[object Function]",A="[object GeneratorFunction]",C="[object Map]",E="[object Number]",O="[object Object]",x="[object Promise]",T="[object RegExp]",P="[object Set]",I="[object String]",R="[object Symbol]",L="[object WeakMap]",B="[object ArrayBuffer]",k="[object DataView]",N="[object Float32Array]",H="[object Float64Array]",U="[object Int8Array]",D="[object Int16Array]",z="[object Int32Array]",F="[object Uint8Array]",j="[object Uint8ClampedArray]",W="[object Uint16Array]",G="[object Uint32Array]",V=/\b__p \+= '';/g,K=/\b(__p \+=) '' \+/g,q=/(__e\(.*?\)|\b__t\)) \+\n'';/g,J=/&(?:amp|lt|gt|quot|#39);/g,Y=/[&<>"']/g,$=RegExp(J.source),Q=RegExp(Y.source),Z=/<%-([\s\S]+?)%>/g,X=/<%([\s\S]+?)%>/g,tt=/<%=([\s\S]+?)%>/g,et=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,rt=/^\w*$/,nt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,it=/[\\^$.*+?()[\]{}|]/g,ot=RegExp(it.source),st=/^\s+/,at=/\s/,ut=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ft=/\{\n\/\* \[wrapped with (.+)\] \*/,ct=/,? & /,ht=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,dt=/[()=,{}\[\]\/\s]/,lt=/\\(\\)?/g,pt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,bt=/\w*$/,gt=/^[-+]0x[0-9a-f]+$/i,mt=/^0b[01]+$/i,yt=/^\[object .+?Constructor\]$/,vt=/^0o[0-7]+$/i,wt=/^(?:0|[1-9]\d*)$/,_t=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,St=/($^)/,Mt=/['\n\r\u2028\u2029\\]/g,At="\\ud800-\\udfff",Ct="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Et="\\u2700-\\u27bf",Ot="a-z\\xdf-\\xf6\\xf8-\\xff",xt="A-Z\\xc0-\\xd6\\xd8-\\xde",Tt="\\ufe0e\\ufe0f",Pt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",It="['\u2019]",Rt="["+At+"]",Lt="["+Pt+"]",Bt="["+Ct+"]",kt="\\d+",Nt="["+Et+"]",Ht="["+Ot+"]",Ut="[^"+At+Pt+kt+Et+Ot+xt+"]",Dt="\\ud83c[\\udffb-\\udfff]",zt="[^"+At+"]",Ft="(?:\\ud83c[\\udde6-\\uddff]){2}",jt="[\\ud800-\\udbff][\\udc00-\\udfff]",Wt="["+xt+"]",Gt="\\u200d",Vt="(?:"+Ht+"|"+Ut+")",Kt="(?:"+Wt+"|"+Ut+")",qt="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Jt="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Yt="(?:"+Bt+"|"+Dt+")"+"?",$t="["+Tt+"]?",Qt=$t+Yt+("(?:"+Gt+"(?:"+[zt,Ft,jt].join("|")+")"+$t+Yt+")*"),Zt="(?:"+[Nt,Ft,jt].join("|")+")"+Qt,Xt="(?:"+[zt+Bt+"?",Bt,Ft,jt,Rt].join("|")+")",te=RegExp(It,"g"),ee=RegExp(Bt,"g"),re=RegExp(Dt+"(?="+Dt+")|"+Xt+Qt,"g"),ne=RegExp([Wt+"?"+Ht+"+"+qt+"(?="+[Lt,Wt,"$"].join("|")+")",Kt+"+"+Jt+"(?="+[Lt,Wt+Vt,"$"].join("|")+")",Wt+"?"+Vt+"+"+qt,Wt+"+"+Jt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",kt,Zt].join("|"),"g"),ie=RegExp("["+Gt+At+Ct+Tt+"]"),oe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,se=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ae=-1,ue={};ue[N]=ue[H]=ue[U]=ue[D]=ue[z]=ue[F]=ue[j]=ue[W]=ue[G]=!0,ue[y]=ue[v]=ue[B]=ue[w]=ue[k]=ue[_]=ue[S]=ue[M]=ue[C]=ue[E]=ue[O]=ue[T]=ue[P]=ue[I]=ue[L]=!1;var fe={};fe[y]=fe[v]=fe[B]=fe[k]=fe[w]=fe[_]=fe[N]=fe[H]=fe[U]=fe[D]=fe[z]=fe[C]=fe[E]=fe[O]=fe[T]=fe[P]=fe[I]=fe[R]=fe[F]=fe[j]=fe[W]=fe[G]=!0,fe[S]=fe[M]=fe[L]=!1;var ce={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},he=parseFloat,de=parseInt,le="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,pe="object"==typeof self&&self&&self.Object===Object&&self,be=le||pe||Function("return this")(),ge=e&&!e.nodeType&&e,me=ge&&t&&!t.nodeType&&t,ye=me&&me.exports===ge,ve=ye&&le.process,we=function(){try{var t=me&&me.require&&me.require("util").types;return t||ve&&ve.binding&&ve.binding("util")}catch(t){}}(),_e=we&&we.isArrayBuffer,Se=we&&we.isDate,Me=we&&we.isMap,Ae=we&&we.isRegExp,Ce=we&&we.isSet,Ee=we&&we.isTypedArray;function Oe(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function xe(t,e,r,n){for(var i=-1,o=null==t?0:t.length;++i<o;){var s=t[i];e(n,s,r(s),t)}return n}function Te(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}function Pe(t,e){for(var r=null==t?0:t.length;r--&&!1!==e(t[r],r,t););return t}function Ie(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}function Re(t,e){for(var r=-1,n=null==t?0:t.length,i=0,o=[];++r<n;){var s=t[r];e(s,r,t)&&(o[i++]=s)}return o}function Le(t,e){return!!(null==t?0:t.length)&&We(t,e,0)>-1}function Be(t,e,r){for(var n=-1,i=null==t?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}function ke(t,e){for(var r=-1,n=null==t?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}function Ne(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function He(t,e,r,n){var i=-1,o=null==t?0:t.length;for(n&&o&&(r=t[++i]);++i<o;)r=e(r,t[i],i,t);return r}function Ue(t,e,r,n){var i=null==t?0:t.length;for(n&&i&&(r=t[--i]);i--;)r=e(r,t[i],i,t);return r}function De(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var ze=qe("length");function Fe(t,e,r){var n;return r(t,(function(t,r,i){if(e(t,r,i))return n=r,!1})),n}function je(t,e,r,n){for(var i=t.length,o=r+(n?1:-1);n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function We(t,e,r){return e==e?function(t,e,r){var n=r-1,i=t.length;for(;++n<i;)if(t[n]===e)return n;return-1}(t,e,r):je(t,Ve,r)}function Ge(t,e,r,n){for(var i=r-1,o=t.length;++i<o;)if(n(t[i],e))return i;return-1}function Ve(t){return t!=t}function Ke(t,e){var r=null==t?0:t.length;return r?$e(t,e)/r:b}function qe(t){return function(e){return null==e?i:e[t]}}function Je(t){return function(e){return null==t?i:t[e]}}function Ye(t,e,r,n,i){return i(t,(function(t,i,o){r=n?(n=!1,t):e(r,t,i,o)})),r}function $e(t,e){for(var r,n=-1,o=t.length;++n<o;){var s=e(t[n]);s!==i&&(r=r===i?s:r+s)}return r}function Qe(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function Ze(t){return t?t.slice(0,br(t)+1).replace(st,""):t}function Xe(t){return function(e){return t(e)}}function tr(t,e){return ke(e,(function(e){return t[e]}))}function er(t,e){return t.has(e)}function rr(t,e){for(var r=-1,n=t.length;++r<n&&We(e,t[r],0)>-1;);return r}function nr(t,e){for(var r=t.length;r--&&We(e,t[r],0)>-1;);return r}var ir=Je({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),or=Je({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function sr(t){return"\\"+ce[t]}function ar(t){return ie.test(t)}function ur(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function fr(t,e){return function(r){return t(e(r))}}function cr(t,e){for(var r=-1,n=t.length,i=0,o=[];++r<n;){var s=t[r];s!==e&&s!==a||(t[r]=a,o[i++]=r)}return o}function hr(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}function dr(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=[t,t]})),r}function lr(t){return ar(t)?function(t){var e=re.lastIndex=0;for(;re.test(t);)++e;return e}(t):ze(t)}function pr(t){return ar(t)?function(t){return t.match(re)||[]}(t):function(t){return t.split("")}(t)}function br(t){for(var e=t.length;e--&&at.test(t.charAt(e)););return e}var gr=Je({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var mr=function t(e){var r,n=(e=null==e?be:mr.defaults(be.Object(),e,mr.pick(be,se))).Array,at=e.Date,At=e.Error,Ct=e.Function,Et=e.Math,Ot=e.Object,xt=e.RegExp,Tt=e.String,Pt=e.TypeError,It=n.prototype,Rt=Ct.prototype,Lt=Ot.prototype,Bt=e["__core-js_shared__"],kt=Rt.toString,Nt=Lt.hasOwnProperty,Ht=0,Ut=(r=/[^.]+$/.exec(Bt&&Bt.keys&&Bt.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",Dt=Lt.toString,zt=kt.call(Ot),Ft=be._,jt=xt("^"+kt.call(Nt).replace(it,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Wt=ye?e.Buffer:i,Gt=e.Symbol,Vt=e.Uint8Array,Kt=Wt?Wt.allocUnsafe:i,qt=fr(Ot.getPrototypeOf,Ot),Jt=Ot.create,Yt=Lt.propertyIsEnumerable,$t=It.splice,Qt=Gt?Gt.isConcatSpreadable:i,Zt=Gt?Gt.iterator:i,Xt=Gt?Gt.toStringTag:i,re=function(){try{var t=lo(Ot,"defineProperty");return t({},"",{}),t}catch(t){}}(),ie=e.clearTimeout!==be.clearTimeout&&e.clearTimeout,ce=at&&at.now!==be.Date.now&&at.now,le=e.setTimeout!==be.setTimeout&&e.setTimeout,pe=Et.ceil,ge=Et.floor,me=Ot.getOwnPropertySymbols,ve=Wt?Wt.isBuffer:i,we=e.isFinite,ze=It.join,Je=fr(Ot.keys,Ot),yr=Et.max,vr=Et.min,wr=at.now,_r=e.parseInt,Sr=Et.random,Mr=It.reverse,Ar=lo(e,"DataView"),Cr=lo(e,"Map"),Er=lo(e,"Promise"),Or=lo(e,"Set"),xr=lo(e,"WeakMap"),Tr=lo(Ot,"create"),Pr=xr&&new xr,Ir={},Rr=Do(Ar),Lr=Do(Cr),Br=Do(Er),kr=Do(Or),Nr=Do(xr),Hr=Gt?Gt.prototype:i,Ur=Hr?Hr.valueOf:i,Dr=Hr?Hr.toString:i;function zr(t){if(ra(t)&&!Vs(t)&&!(t instanceof Gr)){if(t instanceof Wr)return t;if(Nt.call(t,"__wrapped__"))return zo(t)}return new Wr(t)}var Fr=function(){function t(){}return function(e){if(!ea(e))return{};if(Jt)return Jt(e);t.prototype=e;var r=new t;return t.prototype=i,r}}();function jr(){}function Wr(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=i}function Gr(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function Vr(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Kr(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function qr(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Jr(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new qr;++e<r;)this.add(t[e])}function Yr(t){var e=this.__data__=new Kr(t);this.size=e.size}function $r(t,e){var r=Vs(t),n=!r&&Gs(t),i=!r&&!n&&Ys(t),o=!r&&!n&&!i&&ca(t),s=r||n||i||o,a=s?Qe(t.length,Tt):[],u=a.length;for(var f in t)!e&&!Nt.call(t,f)||s&&("length"==f||i&&("offset"==f||"parent"==f)||o&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||wo(f,u))||a.push(f);return a}function Qr(t){var e=t.length;return e?t[Yn(0,e-1)]:i}function Zr(t,e){return No(Pi(t),un(e,0,t.length))}function Xr(t){return No(Pi(t))}function tn(t,e,r){(r!==i&&!Fs(t[e],r)||r===i&&!(e in t))&&sn(t,e,r)}function en(t,e,r){var n=t[e];Nt.call(t,e)&&Fs(n,r)&&(r!==i||e in t)||sn(t,e,r)}function rn(t,e){for(var r=t.length;r--;)if(Fs(t[r][0],e))return r;return-1}function nn(t,e,r,n){return ln(t,(function(t,i,o){e(n,t,r(t),o)})),n}function on(t,e){return t&&Ii(e,Ra(e),t)}function sn(t,e,r){"__proto__"==e&&re?re(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function an(t,e){for(var r=-1,o=e.length,s=n(o),a=null==t;++r<o;)s[r]=a?i:Oa(t,e[r]);return s}function un(t,e,r){return t==t&&(r!==i&&(t=t<=r?t:r),e!==i&&(t=t>=e?t:e)),t}function fn(t,e,r,n,o,s){var a,u=1&e,f=2&e,c=4&e;if(r&&(a=o?r(t,n,o,s):r(t)),a!==i)return a;if(!ea(t))return t;var h=Vs(t);if(h){if(a=function(t){var e=t.length,r=new t.constructor(e);e&&"string"==typeof t[0]&&Nt.call(t,"index")&&(r.index=t.index,r.input=t.input);return r}(t),!u)return Pi(t,a)}else{var d=go(t),l=d==M||d==A;if(Ys(t))return Ai(t,u);if(d==O||d==y||l&&!o){if(a=f||l?{}:yo(t),!u)return f?function(t,e){return Ii(t,bo(t),e)}(t,function(t,e){return t&&Ii(e,La(e),t)}(a,t)):function(t,e){return Ii(t,po(t),e)}(t,on(a,t))}else{if(!fe[d])return o?t:{};a=function(t,e,r){var n=t.constructor;switch(e){case B:return Ci(t);case w:case _:return new n(+t);case k:return function(t,e){var r=e?Ci(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,r);case N:case H:case U:case D:case z:case F:case j:case W:case G:return Ei(t,r);case C:return new n;case E:case I:return new n(t);case T:return function(t){var e=new t.constructor(t.source,bt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case P:return new n;case R:return i=t,Ur?Ot(Ur.call(i)):{}}var i}(t,d,u)}}s||(s=new Yr);var p=s.get(t);if(p)return p;s.set(t,a),aa(t)?t.forEach((function(n){a.add(fn(n,e,r,n,t,s))})):na(t)&&t.forEach((function(n,i){a.set(i,fn(n,e,r,i,t,s))}));var b=h?i:(c?f?oo:io:f?La:Ra)(t);return Te(b||t,(function(n,i){b&&(n=t[i=n]),en(a,i,fn(n,e,r,i,t,s))})),a}function cn(t,e,r){var n=r.length;if(null==t)return!n;for(t=Ot(t);n--;){var o=r[n],s=e[o],a=t[o];if(a===i&&!(o in t)||!s(a))return!1}return!0}function hn(t,e,r){if("function"!=typeof t)throw new Pt(o);return Ro((function(){t.apply(i,r)}),e)}function dn(t,e,r,n){var i=-1,o=Le,s=!0,a=t.length,u=[],f=e.length;if(!a)return u;r&&(e=ke(e,Xe(r))),n?(o=Be,s=!1):e.length>=200&&(o=er,s=!1,e=new Jr(e));t:for(;++i<a;){var c=t[i],h=null==r?c:r(c);if(c=n||0!==c?c:0,s&&h==h){for(var d=f;d--;)if(e[d]===h)continue t;u.push(c)}else o(e,h,n)||u.push(c)}return u}zr.templateSettings={escape:Z,evaluate:X,interpolate:tt,variable:"",imports:{_:zr}},zr.prototype=jr.prototype,zr.prototype.constructor=zr,Wr.prototype=Fr(jr.prototype),Wr.prototype.constructor=Wr,Gr.prototype=Fr(jr.prototype),Gr.prototype.constructor=Gr,Vr.prototype.clear=function(){this.__data__=Tr?Tr(null):{},this.size=0},Vr.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Vr.prototype.get=function(t){var e=this.__data__;if(Tr){var r=e[t];return r===s?i:r}return Nt.call(e,t)?e[t]:i},Vr.prototype.has=function(t){var e=this.__data__;return Tr?e[t]!==i:Nt.call(e,t)},Vr.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Tr&&e===i?s:e,this},Kr.prototype.clear=function(){this.__data__=[],this.size=0},Kr.prototype.delete=function(t){var e=this.__data__,r=rn(e,t);return!(r<0)&&(r==e.length-1?e.pop():$t.call(e,r,1),--this.size,!0)},Kr.prototype.get=function(t){var e=this.__data__,r=rn(e,t);return r<0?i:e[r][1]},Kr.prototype.has=function(t){return rn(this.__data__,t)>-1},Kr.prototype.set=function(t,e){var r=this.__data__,n=rn(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this},qr.prototype.clear=function(){this.size=0,this.__data__={hash:new Vr,map:new(Cr||Kr),string:new Vr}},qr.prototype.delete=function(t){var e=co(this,t).delete(t);return this.size-=e?1:0,e},qr.prototype.get=function(t){return co(this,t).get(t)},qr.prototype.has=function(t){return co(this,t).has(t)},qr.prototype.set=function(t,e){var r=co(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},Jr.prototype.add=Jr.prototype.push=function(t){return this.__data__.set(t,s),this},Jr.prototype.has=function(t){return this.__data__.has(t)},Yr.prototype.clear=function(){this.__data__=new Kr,this.size=0},Yr.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},Yr.prototype.get=function(t){return this.__data__.get(t)},Yr.prototype.has=function(t){return this.__data__.has(t)},Yr.prototype.set=function(t,e){var r=this.__data__;if(r instanceof Kr){var n=r.__data__;if(!Cr||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new qr(n)}return r.set(t,e),this.size=r.size,this};var ln=Bi(_n),pn=Bi(Sn,!0);function bn(t,e){var r=!0;return ln(t,(function(t,n,i){return r=!!e(t,n,i)})),r}function gn(t,e,r){for(var n=-1,o=t.length;++n<o;){var s=t[n],a=e(s);if(null!=a&&(u===i?a==a&&!fa(a):r(a,u)))var u=a,f=s}return f}function mn(t,e){var r=[];return ln(t,(function(t,n,i){e(t,n,i)&&r.push(t)})),r}function yn(t,e,r,n,i){var o=-1,s=t.length;for(r||(r=vo),i||(i=[]);++o<s;){var a=t[o];e>0&&r(a)?e>1?yn(a,e-1,r,n,i):Ne(i,a):n||(i[i.length]=a)}return i}var vn=ki(),wn=ki(!0);function _n(t,e){return t&&vn(t,e,Ra)}function Sn(t,e){return t&&wn(t,e,Ra)}function Mn(t,e){return Re(e,(function(e){return Zs(t[e])}))}function An(t,e){for(var r=0,n=(e=wi(e,t)).length;null!=t&&r<n;)t=t[Uo(e[r++])];return r&&r==n?t:i}function Cn(t,e,r){var n=e(t);return Vs(t)?n:Ne(n,r(t))}function En(t){return null==t?t===i?"[object Undefined]":"[object Null]":Xt&&Xt in Ot(t)?function(t){var e=Nt.call(t,Xt),r=t[Xt];try{t[Xt]=i;var n=!0}catch(t){}var o=Dt.call(t);n&&(e?t[Xt]=r:delete t[Xt]);return o}(t):function(t){return Dt.call(t)}(t)}function On(t,e){return t>e}function xn(t,e){return null!=t&&Nt.call(t,e)}function Tn(t,e){return null!=t&&e in Ot(t)}function Pn(t,e,r){for(var o=r?Be:Le,s=t[0].length,a=t.length,u=a,f=n(a),c=1/0,h=[];u--;){var d=t[u];u&&e&&(d=ke(d,Xe(e))),c=vr(d.length,c),f[u]=!r&&(e||s>=120&&d.length>=120)?new Jr(u&&d):i}d=t[0];var l=-1,p=f[0];t:for(;++l<s&&h.length<c;){var b=d[l],g=e?e(b):b;if(b=r||0!==b?b:0,!(p?er(p,g):o(h,g,r))){for(u=a;--u;){var m=f[u];if(!(m?er(m,g):o(t[u],g,r)))continue t}p&&p.push(g),h.push(b)}}return h}function In(t,e,r){var n=null==(t=To(t,e=wi(e,t)))?t:t[Uo(Qo(e))];return null==n?i:Oe(n,t,r)}function Rn(t){return ra(t)&&En(t)==y}function Ln(t,e,r,n,o){return t===e||(null==t||null==e||!ra(t)&&!ra(e)?t!=t&&e!=e:function(t,e,r,n,o,s){var a=Vs(t),u=Vs(e),f=a?v:go(t),c=u?v:go(e),h=(f=f==y?O:f)==O,d=(c=c==y?O:c)==O,l=f==c;if(l&&Ys(t)){if(!Ys(e))return!1;a=!0,h=!1}if(l&&!h)return s||(s=new Yr),a||ca(t)?ro(t,e,r,n,o,s):function(t,e,r,n,i,o,s){switch(r){case k:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case B:return!(t.byteLength!=e.byteLength||!o(new Vt(t),new Vt(e)));case w:case _:case E:return Fs(+t,+e);case S:return t.name==e.name&&t.message==e.message;case T:case I:return t==e+"";case C:var a=ur;case P:var u=1&n;if(a||(a=hr),t.size!=e.size&&!u)return!1;var f=s.get(t);if(f)return f==e;n|=2,s.set(t,e);var c=ro(a(t),a(e),n,i,o,s);return s.delete(t),c;case R:if(Ur)return Ur.call(t)==Ur.call(e)}return!1}(t,e,f,r,n,o,s);if(!(1&r)){var p=h&&Nt.call(t,"__wrapped__"),b=d&&Nt.call(e,"__wrapped__");if(p||b){var g=p?t.value():t,m=b?e.value():e;return s||(s=new Yr),o(g,m,r,n,s)}}if(!l)return!1;return s||(s=new Yr),function(t,e,r,n,o,s){var a=1&r,u=io(t),f=u.length,c=io(e),h=c.length;if(f!=h&&!a)return!1;var d=f;for(;d--;){var l=u[d];if(!(a?l in e:Nt.call(e,l)))return!1}var p=s.get(t),b=s.get(e);if(p&&b)return p==e&&b==t;var g=!0;s.set(t,e),s.set(e,t);var m=a;for(;++d<f;){var y=t[l=u[d]],v=e[l];if(n)var w=a?n(v,y,l,e,t,s):n(y,v,l,t,e,s);if(!(w===i?y===v||o(y,v,r,n,s):w)){g=!1;break}m||(m="constructor"==l)}if(g&&!m){var _=t.constructor,S=e.constructor;_==S||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof S&&S instanceof S||(g=!1)}return s.delete(t),s.delete(e),g}(t,e,r,n,o,s)}(t,e,r,n,Ln,o))}function Bn(t,e,r,n){var o=r.length,s=o,a=!n;if(null==t)return!s;for(t=Ot(t);o--;){var u=r[o];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++o<s;){var f=(u=r[o])[0],c=t[f],h=u[1];if(a&&u[2]){if(c===i&&!(f in t))return!1}else{var d=new Yr;if(n)var l=n(c,h,f,t,e,d);if(!(l===i?Ln(h,c,3,n,d):l))return!1}}return!0}function kn(t){return!(!ea(t)||(e=t,Ut&&Ut in e))&&(Zs(t)?jt:yt).test(Do(t));var e}function Nn(t){return"function"==typeof t?t:null==t?iu:"object"==typeof t?Vs(t)?jn(t[0],t[1]):Fn(t):lu(t)}function Hn(t){if(!Co(t))return Je(t);var e=[];for(var r in Ot(t))Nt.call(t,r)&&"constructor"!=r&&e.push(r);return e}function Un(t){if(!ea(t))return function(t){var e=[];if(null!=t)for(var r in Ot(t))e.push(r);return e}(t);var e=Co(t),r=[];for(var n in t)("constructor"!=n||!e&&Nt.call(t,n))&&r.push(n);return r}function Dn(t,e){return t<e}function zn(t,e){var r=-1,i=qs(t)?n(t.length):[];return ln(t,(function(t,n,o){i[++r]=e(t,n,o)})),i}function Fn(t){var e=ho(t);return 1==e.length&&e[0][2]?Oo(e[0][0],e[0][1]):function(r){return r===t||Bn(r,t,e)}}function jn(t,e){return So(t)&&Eo(e)?Oo(Uo(t),e):function(r){var n=Oa(r,t);return n===i&&n===e?xa(r,t):Ln(e,n,3)}}function Wn(t,e,r,n,o){t!==e&&vn(e,(function(s,a){if(o||(o=new Yr),ea(s))!function(t,e,r,n,o,s,a){var u=Po(t,r),f=Po(e,r),c=a.get(f);if(c)return void tn(t,r,c);var h=s?s(u,f,r+"",t,e,a):i,d=h===i;if(d){var l=Vs(f),p=!l&&Ys(f),b=!l&&!p&&ca(f);h=f,l||p||b?Vs(u)?h=u:Js(u)?h=Pi(u):p?(d=!1,h=Ai(f,!0)):b?(d=!1,h=Ei(f,!0)):h=[]:oa(f)||Gs(f)?(h=u,Gs(u)?h=ya(u):ea(u)&&!Zs(u)||(h=yo(f))):d=!1}d&&(a.set(f,h),o(h,f,n,s,a),a.delete(f));tn(t,r,h)}(t,e,a,r,Wn,n,o);else{var u=n?n(Po(t,a),s,a+"",t,e,o):i;u===i&&(u=s),tn(t,a,u)}}),La)}function Gn(t,e){var r=t.length;if(r)return wo(e+=e<0?r:0,r)?t[e]:i}function Vn(t,e,r){e=e.length?ke(e,(function(t){return Vs(t)?function(e){return An(e,1===t.length?t[0]:t)}:t})):[iu];var n=-1;e=ke(e,Xe(fo()));var i=zn(t,(function(t,r,i){var o=ke(e,(function(e){return e(t)}));return{criteria:o,index:++n,value:t}}));return function(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}(i,(function(t,e){return function(t,e,r){var n=-1,i=t.criteria,o=e.criteria,s=i.length,a=r.length;for(;++n<s;){var u=Oi(i[n],o[n]);if(u)return n>=a?u:u*("desc"==r[n]?-1:1)}return t.index-e.index}(t,e,r)}))}function Kn(t,e,r){for(var n=-1,i=e.length,o={};++n<i;){var s=e[n],a=An(t,s);r(a,s)&&ti(o,wi(s,t),a)}return o}function qn(t,e,r,n){var i=n?Ge:We,o=-1,s=e.length,a=t;for(t===e&&(e=Pi(e)),r&&(a=ke(t,Xe(r)));++o<s;)for(var u=0,f=e[o],c=r?r(f):f;(u=i(a,c,u,n))>-1;)a!==t&&$t.call(a,u,1),$t.call(t,u,1);return t}function Jn(t,e){for(var r=t?e.length:0,n=r-1;r--;){var i=e[r];if(r==n||i!==o){var o=i;wo(i)?$t.call(t,i,1):di(t,i)}}return t}function Yn(t,e){return t+ge(Sr()*(e-t+1))}function $n(t,e){var r="";if(!t||e<1||e>p)return r;do{e%2&&(r+=t),(e=ge(e/2))&&(t+=t)}while(e);return r}function Qn(t,e){return Lo(xo(t,e,iu),t+"")}function Zn(t){return Qr(Fa(t))}function Xn(t,e){var r=Fa(t);return No(r,un(e,0,r.length))}function ti(t,e,r,n){if(!ea(t))return t;for(var o=-1,s=(e=wi(e,t)).length,a=s-1,u=t;null!=u&&++o<s;){var f=Uo(e[o]),c=r;if("__proto__"===f||"constructor"===f||"prototype"===f)return t;if(o!=a){var h=u[f];(c=n?n(h,f,u):i)===i&&(c=ea(h)?h:wo(e[o+1])?[]:{})}en(u,f,c),u=u[f]}return t}var ei=Pr?function(t,e){return Pr.set(t,e),t}:iu,ri=re?function(t,e){return re(t,"toString",{configurable:!0,enumerable:!1,value:eu(e),writable:!0})}:iu;function ni(t){return No(Fa(t))}function ii(t,e,r){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(r=r>o?o:r)<0&&(r+=o),o=e>r?0:r-e>>>0,e>>>=0;for(var s=n(o);++i<o;)s[i]=t[i+e];return s}function oi(t,e){var r;return ln(t,(function(t,n,i){return!(r=e(t,n,i))})),!!r}function si(t,e,r){var n=0,i=null==t?n:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;n<i;){var o=n+i>>>1,s=t[o];null!==s&&!fa(s)&&(r?s<=e:s<e)?n=o+1:i=o}return i}return ai(t,e,iu,r)}function ai(t,e,r,n){var o=0,s=null==t?0:t.length;if(0===s)return 0;for(var a=(e=r(e))!=e,u=null===e,f=fa(e),c=e===i;o<s;){var h=ge((o+s)/2),d=r(t[h]),l=d!==i,p=null===d,b=d==d,g=fa(d);if(a)var m=n||b;else m=c?b&&(n||l):u?b&&l&&(n||!p):f?b&&l&&!p&&(n||!g):!p&&!g&&(n?d<=e:d<e);m?o=h+1:s=h}return vr(s,4294967294)}function ui(t,e){for(var r=-1,n=t.length,i=0,o=[];++r<n;){var s=t[r],a=e?e(s):s;if(!r||!Fs(a,u)){var u=a;o[i++]=0===s?0:s}}return o}function fi(t){return"number"==typeof t?t:fa(t)?b:+t}function ci(t){if("string"==typeof t)return t;if(Vs(t))return ke(t,ci)+"";if(fa(t))return Dr?Dr.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function hi(t,e,r){var n=-1,i=Le,o=t.length,s=!0,a=[],u=a;if(r)s=!1,i=Be;else if(o>=200){var f=e?null:$i(t);if(f)return hr(f);s=!1,i=er,u=new Jr}else u=e?[]:a;t:for(;++n<o;){var c=t[n],h=e?e(c):c;if(c=r||0!==c?c:0,s&&h==h){for(var d=u.length;d--;)if(u[d]===h)continue t;e&&u.push(h),a.push(c)}else i(u,h,r)||(u!==a&&u.push(h),a.push(c))}return a}function di(t,e){return null==(t=To(t,e=wi(e,t)))||delete t[Uo(Qo(e))]}function li(t,e,r,n){return ti(t,e,r(An(t,e)),n)}function pi(t,e,r,n){for(var i=t.length,o=n?i:-1;(n?o--:++o<i)&&e(t[o],o,t););return r?ii(t,n?0:o,n?o+1:i):ii(t,n?o+1:0,n?i:o)}function bi(t,e){var r=t;return r instanceof Gr&&(r=r.value()),He(e,(function(t,e){return e.func.apply(e.thisArg,Ne([t],e.args))}),r)}function gi(t,e,r){var i=t.length;if(i<2)return i?hi(t[0]):[];for(var o=-1,s=n(i);++o<i;)for(var a=t[o],u=-1;++u<i;)u!=o&&(s[o]=dn(s[o]||a,t[u],e,r));return hi(yn(s,1),e,r)}function mi(t,e,r){for(var n=-1,o=t.length,s=e.length,a={};++n<o;){var u=n<s?e[n]:i;r(a,t[n],u)}return a}function yi(t){return Js(t)?t:[]}function vi(t){return"function"==typeof t?t:iu}function wi(t,e){return Vs(t)?t:So(t,e)?[t]:Ho(va(t))}var _i=Qn;function Si(t,e,r){var n=t.length;return r=r===i?n:r,!e&&r>=n?t:ii(t,e,r)}var Mi=ie||function(t){return be.clearTimeout(t)};function Ai(t,e){if(e)return t.slice();var r=t.length,n=Kt?Kt(r):new t.constructor(r);return t.copy(n),n}function Ci(t){var e=new t.constructor(t.byteLength);return new Vt(e).set(new Vt(t)),e}function Ei(t,e){var r=e?Ci(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function Oi(t,e){if(t!==e){var r=t!==i,n=null===t,o=t==t,s=fa(t),a=e!==i,u=null===e,f=e==e,c=fa(e);if(!u&&!c&&!s&&t>e||s&&a&&f&&!u&&!c||n&&a&&f||!r&&f||!o)return 1;if(!n&&!s&&!c&&t<e||c&&r&&o&&!n&&!s||u&&r&&o||!a&&o||!f)return-1}return 0}function xi(t,e,r,i){for(var o=-1,s=t.length,a=r.length,u=-1,f=e.length,c=yr(s-a,0),h=n(f+c),d=!i;++u<f;)h[u]=e[u];for(;++o<a;)(d||o<s)&&(h[r[o]]=t[o]);for(;c--;)h[u++]=t[o++];return h}function Ti(t,e,r,i){for(var o=-1,s=t.length,a=-1,u=r.length,f=-1,c=e.length,h=yr(s-u,0),d=n(h+c),l=!i;++o<h;)d[o]=t[o];for(var p=o;++f<c;)d[p+f]=e[f];for(;++a<u;)(l||o<s)&&(d[p+r[a]]=t[o++]);return d}function Pi(t,e){var r=-1,i=t.length;for(e||(e=n(i));++r<i;)e[r]=t[r];return e}function Ii(t,e,r,n){var o=!r;r||(r={});for(var s=-1,a=e.length;++s<a;){var u=e[s],f=n?n(r[u],t[u],u,r,t):i;f===i&&(f=t[u]),o?sn(r,u,f):en(r,u,f)}return r}function Ri(t,e){return function(r,n){var i=Vs(r)?xe:nn,o=e?e():{};return i(r,t,fo(n,2),o)}}function Li(t){return Qn((function(e,r){var n=-1,o=r.length,s=o>1?r[o-1]:i,a=o>2?r[2]:i;for(s=t.length>3&&"function"==typeof s?(o--,s):i,a&&_o(r[0],r[1],a)&&(s=o<3?i:s,o=1),e=Ot(e);++n<o;){var u=r[n];u&&t(e,u,n,s)}return e}))}function Bi(t,e){return function(r,n){if(null==r)return r;if(!qs(r))return t(r,n);for(var i=r.length,o=e?i:-1,s=Ot(r);(e?o--:++o<i)&&!1!==n(s[o],o,s););return r}}function ki(t){return function(e,r,n){for(var i=-1,o=Ot(e),s=n(e),a=s.length;a--;){var u=s[t?a:++i];if(!1===r(o[u],u,o))break}return e}}function Ni(t){return function(e){var r=ar(e=va(e))?pr(e):i,n=r?r[0]:e.charAt(0),o=r?Si(r,1).join(""):e.slice(1);return n[t]()+o}}function Hi(t){return function(e){return He(Za(Ga(e).replace(te,"")),t,"")}}function Ui(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var r=Fr(t.prototype),n=t.apply(r,e);return ea(n)?n:r}}function Di(t){return function(e,r,n){var o=Ot(e);if(!qs(e)){var s=fo(r,3);e=Ra(e),r=function(t){return s(o[t],t,o)}}var a=t(e,r,n);return a>-1?o[s?e[a]:a]:i}}function zi(t){return no((function(e){var r=e.length,n=r,s=Wr.prototype.thru;for(t&&e.reverse();n--;){var a=e[n];if("function"!=typeof a)throw new Pt(o);if(s&&!u&&"wrapper"==ao(a))var u=new Wr([],!0)}for(n=u?n:r;++n<r;){var f=ao(a=e[n]),c="wrapper"==f?so(a):i;u=c&&Mo(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?u[ao(c[0])].apply(u,c[3]):1==a.length&&Mo(a)?u[f]():u.thru(a)}return function(){var t=arguments,n=t[0];if(u&&1==t.length&&Vs(n))return u.plant(n).value();for(var i=0,o=r?e[i].apply(this,t):n;++i<r;)o=e[i].call(this,o);return o}}))}function Fi(t,e,r,o,s,a,u,f,c,d){var l=e&h,p=1&e,b=2&e,g=24&e,m=512&e,y=b?i:Ui(t);return function h(){for(var v=arguments.length,w=n(v),_=v;_--;)w[_]=arguments[_];if(g)var S=uo(h),M=function(t,e){for(var r=t.length,n=0;r--;)t[r]===e&&++n;return n}(w,S);if(o&&(w=xi(w,o,s,g)),a&&(w=Ti(w,a,u,g)),v-=M,g&&v<d){var A=cr(w,S);return Ji(t,e,Fi,h.placeholder,r,w,A,f,c,d-v)}var C=p?r:this,E=b?C[t]:t;return v=w.length,f?w=function(t,e){var r=t.length,n=vr(e.length,r),o=Pi(t);for(;n--;){var s=e[n];t[n]=wo(s,r)?o[s]:i}return t}(w,f):m&&v>1&&w.reverse(),l&&c<v&&(w.length=c),this&&this!==be&&this instanceof h&&(E=y||Ui(E)),E.apply(C,w)}}function ji(t,e){return function(r,n){return function(t,e,r,n){return _n(t,(function(t,i,o){e(n,r(t),i,o)})),n}(r,t,e(n),{})}}function Wi(t,e){return function(r,n){var o;if(r===i&&n===i)return e;if(r!==i&&(o=r),n!==i){if(o===i)return n;"string"==typeof r||"string"==typeof n?(r=ci(r),n=ci(n)):(r=fi(r),n=fi(n)),o=t(r,n)}return o}}function Gi(t){return no((function(e){return e=ke(e,Xe(fo())),Qn((function(r){var n=this;return t(e,(function(t){return Oe(t,n,r)}))}))}))}function Vi(t,e){var r=(e=e===i?" ":ci(e)).length;if(r<2)return r?$n(e,t):e;var n=$n(e,pe(t/lr(e)));return ar(e)?Si(pr(n),0,t).join(""):n.slice(0,t)}function Ki(t){return function(e,r,o){return o&&"number"!=typeof o&&_o(e,r,o)&&(r=o=i),e=pa(e),r===i?(r=e,e=0):r=pa(r),function(t,e,r,i){for(var o=-1,s=yr(pe((e-t)/(r||1)),0),a=n(s);s--;)a[i?s:++o]=t,t+=r;return a}(e,r,o=o===i?e<r?1:-1:pa(o),t)}}function qi(t){return function(e,r){return"string"==typeof e&&"string"==typeof r||(e=ma(e),r=ma(r)),t(e,r)}}function Ji(t,e,r,n,o,s,a,u,h,d){var l=8&e;e|=l?f:c,4&(e&=~(l?c:f))||(e&=-4);var p=[t,e,o,l?s:i,l?a:i,l?i:s,l?i:a,u,h,d],b=r.apply(i,p);return Mo(t)&&Io(b,p),b.placeholder=n,Bo(b,t,e)}function Yi(t){var e=Et[t];return function(t,r){if(t=ma(t),(r=null==r?0:vr(ba(r),292))&&we(t)){var n=(va(t)+"e").split("e");return+((n=(va(e(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return e(t)}}var $i=Or&&1/hr(new Or([,-0]))[1]==l?function(t){return new Or(t)}:fu;function Qi(t){return function(e){var r=go(e);return r==C?ur(e):r==P?dr(e):function(t,e){return ke(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Zi(t,e,r,s,l,p,b,g){var m=2&e;if(!m&&"function"!=typeof t)throw new Pt(o);var y=s?s.length:0;if(y||(e&=-97,s=l=i),b=b===i?b:yr(ba(b),0),g=g===i?g:ba(g),y-=l?l.length:0,e&c){var v=s,w=l;s=l=i}var _=m?i:so(t),S=[t,e,r,s,l,v,w,p,b,g];if(_&&function(t,e){var r=t[1],n=e[1],i=r|n,o=i<131,s=n==h&&8==r||n==h&&r==d&&t[7].length<=e[8]||384==n&&e[7].length<=e[8]&&8==r;if(!o&&!s)return t;1&n&&(t[2]=e[2],i|=1&r?0:4);var u=e[3];if(u){var f=t[3];t[3]=f?xi(f,u,e[4]):u,t[4]=f?cr(t[3],a):e[4]}(u=e[5])&&(f=t[5],t[5]=f?Ti(f,u,e[6]):u,t[6]=f?cr(t[5],a):e[6]);(u=e[7])&&(t[7]=u);n&h&&(t[8]=null==t[8]?e[8]:vr(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=i}(S,_),t=S[0],e=S[1],r=S[2],s=S[3],l=S[4],!(g=S[9]=S[9]===i?m?0:t.length:yr(S[9]-y,0))&&24&e&&(e&=-25),e&&1!=e)M=8==e||e==u?function(t,e,r){var o=Ui(t);return function s(){for(var a=arguments.length,u=n(a),f=a,c=uo(s);f--;)u[f]=arguments[f];var h=a<3&&u[0]!==c&&u[a-1]!==c?[]:cr(u,c);return(a-=h.length)<r?Ji(t,e,Fi,s.placeholder,i,u,h,i,i,r-a):Oe(this&&this!==be&&this instanceof s?o:t,this,u)}}(t,e,g):e!=f&&33!=e||l.length?Fi.apply(i,S):function(t,e,r,i){var o=1&e,s=Ui(t);return function e(){for(var a=-1,u=arguments.length,f=-1,c=i.length,h=n(c+u),d=this&&this!==be&&this instanceof e?s:t;++f<c;)h[f]=i[f];for(;u--;)h[f++]=arguments[++a];return Oe(d,o?r:this,h)}}(t,e,r,s);else var M=function(t,e,r){var n=1&e,i=Ui(t);return function e(){return(this&&this!==be&&this instanceof e?i:t).apply(n?r:this,arguments)}}(t,e,r);return Bo((_?ei:Io)(M,S),t,e)}function Xi(t,e,r,n){return t===i||Fs(t,Lt[r])&&!Nt.call(n,r)?e:t}function to(t,e,r,n,o,s){return ea(t)&&ea(e)&&(s.set(e,t),Wn(t,e,i,to,s),s.delete(e)),t}function eo(t){return oa(t)?i:t}function ro(t,e,r,n,o,s){var a=1&r,u=t.length,f=e.length;if(u!=f&&!(a&&f>u))return!1;var c=s.get(t),h=s.get(e);if(c&&h)return c==e&&h==t;var d=-1,l=!0,p=2&r?new Jr:i;for(s.set(t,e),s.set(e,t);++d<u;){var b=t[d],g=e[d];if(n)var m=a?n(g,b,d,e,t,s):n(b,g,d,t,e,s);if(m!==i){if(m)continue;l=!1;break}if(p){if(!De(e,(function(t,e){if(!er(p,e)&&(b===t||o(b,t,r,n,s)))return p.push(e)}))){l=!1;break}}else if(b!==g&&!o(b,g,r,n,s)){l=!1;break}}return s.delete(t),s.delete(e),l}function no(t){return Lo(xo(t,i,Ko),t+"")}function io(t){return Cn(t,Ra,po)}function oo(t){return Cn(t,La,bo)}var so=Pr?function(t){return Pr.get(t)}:fu;function ao(t){for(var e=t.name+"",r=Ir[e],n=Nt.call(Ir,e)?r.length:0;n--;){var i=r[n],o=i.func;if(null==o||o==t)return i.name}return e}function uo(t){return(Nt.call(zr,"placeholder")?zr:t).placeholder}function fo(){var t=zr.iteratee||ou;return t=t===ou?Nn:t,arguments.length?t(arguments[0],arguments[1]):t}function co(t,e){var r,n,i=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof e?"string":"hash"]:i.map}function ho(t){for(var e=Ra(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,Eo(i)]}return e}function lo(t,e){var r=function(t,e){return null==t?i:t[e]}(t,e);return kn(r)?r:i}var po=me?function(t){return null==t?[]:(t=Ot(t),Re(me(t),(function(e){return Yt.call(t,e)})))}:gu,bo=me?function(t){for(var e=[];t;)Ne(e,po(t)),t=qt(t);return e}:gu,go=En;function mo(t,e,r){for(var n=-1,i=(e=wi(e,t)).length,o=!1;++n<i;){var s=Uo(e[n]);if(!(o=null!=t&&r(t,s)))break;t=t[s]}return o||++n!=i?o:!!(i=null==t?0:t.length)&&ta(i)&&wo(s,i)&&(Vs(t)||Gs(t))}function yo(t){return"function"!=typeof t.constructor||Co(t)?{}:Fr(qt(t))}function vo(t){return Vs(t)||Gs(t)||!!(Qt&&t&&t[Qt])}function wo(t,e){var r=typeof t;return!!(e=null==e?p:e)&&("number"==r||"symbol"!=r&&wt.test(t))&&t>-1&&t%1==0&&t<e}function _o(t,e,r){if(!ea(r))return!1;var n=typeof e;return!!("number"==n?qs(r)&&wo(e,r.length):"string"==n&&e in r)&&Fs(r[e],t)}function So(t,e){if(Vs(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!fa(t))||(rt.test(t)||!et.test(t)||null!=e&&t in Ot(e))}function Mo(t){var e=ao(t),r=zr[e];if("function"!=typeof r||!(e in Gr.prototype))return!1;if(t===r)return!0;var n=so(r);return!!n&&t===n[0]}(Ar&&go(new Ar(new ArrayBuffer(1)))!=k||Cr&&go(new Cr)!=C||Er&&go(Er.resolve())!=x||Or&&go(new Or)!=P||xr&&go(new xr)!=L)&&(go=function(t){var e=En(t),r=e==O?t.constructor:i,n=r?Do(r):"";if(n)switch(n){case Rr:return k;case Lr:return C;case Br:return x;case kr:return P;case Nr:return L}return e});var Ao=Bt?Zs:mu;function Co(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Lt)}function Eo(t){return t==t&&!ea(t)}function Oo(t,e){return function(r){return null!=r&&(r[t]===e&&(e!==i||t in Ot(r)))}}function xo(t,e,r){return e=yr(e===i?t.length-1:e,0),function(){for(var i=arguments,o=-1,s=yr(i.length-e,0),a=n(s);++o<s;)a[o]=i[e+o];o=-1;for(var u=n(e+1);++o<e;)u[o]=i[o];return u[e]=r(a),Oe(t,this,u)}}function To(t,e){return e.length<2?t:An(t,ii(e,0,-1))}function Po(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Io=ko(ei),Ro=le||function(t,e){return be.setTimeout(t,e)},Lo=ko(ri);function Bo(t,e,r){var n=e+"";return Lo(t,function(t,e){var r=e.length;if(!r)return t;var n=r-1;return e[n]=(r>1?"& ":"")+e[n],e=e.join(r>2?", ":" "),t.replace(ut,"{\n/* [wrapped with "+e+"] */\n")}(n,function(t,e){return Te(m,(function(r){var n="_."+r[0];e&r[1]&&!Le(t,n)&&t.push(n)})),t.sort()}(function(t){var e=t.match(ft);return e?e[1].split(ct):[]}(n),r)))}function ko(t){var e=0,r=0;return function(){var n=wr(),o=16-(n-r);if(r=n,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(i,arguments)}}function No(t,e){var r=-1,n=t.length,o=n-1;for(e=e===i?n:e;++r<e;){var s=Yn(r,o),a=t[s];t[s]=t[r],t[r]=a}return t.length=e,t}var Ho=function(t){var e=ks(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(nt,(function(t,r,n,i){e.push(n?i.replace(lt,"$1"):r||t)})),e}));function Uo(t){if("string"==typeof t||fa(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Do(t){if(null!=t){try{return kt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function zo(t){if(t instanceof Gr)return t.clone();var e=new Wr(t.__wrapped__,t.__chain__);return e.__actions__=Pi(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Fo=Qn((function(t,e){return Js(t)?dn(t,yn(e,1,Js,!0)):[]})),jo=Qn((function(t,e){var r=Qo(e);return Js(r)&&(r=i),Js(t)?dn(t,yn(e,1,Js,!0),fo(r,2)):[]})),Wo=Qn((function(t,e){var r=Qo(e);return Js(r)&&(r=i),Js(t)?dn(t,yn(e,1,Js,!0),i,r):[]}));function Go(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=null==r?0:ba(r);return i<0&&(i=yr(n+i,0)),je(t,fo(e,3),i)}function Vo(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var o=n-1;return r!==i&&(o=ba(r),o=r<0?yr(n+o,0):vr(o,n-1)),je(t,fo(e,3),o,!0)}function Ko(t){return(null==t?0:t.length)?yn(t,1):[]}function qo(t){return t&&t.length?t[0]:i}var Jo=Qn((function(t){var e=ke(t,yi);return e.length&&e[0]===t[0]?Pn(e):[]})),Yo=Qn((function(t){var e=Qo(t),r=ke(t,yi);return e===Qo(r)?e=i:r.pop(),r.length&&r[0]===t[0]?Pn(r,fo(e,2)):[]})),$o=Qn((function(t){var e=Qo(t),r=ke(t,yi);return(e="function"==typeof e?e:i)&&r.pop(),r.length&&r[0]===t[0]?Pn(r,i,e):[]}));function Qo(t){var e=null==t?0:t.length;return e?t[e-1]:i}var Zo=Qn(Xo);function Xo(t,e){return t&&t.length&&e&&e.length?qn(t,e):t}var ts=no((function(t,e){var r=null==t?0:t.length,n=an(t,e);return Jn(t,ke(e,(function(t){return wo(t,r)?+t:t})).sort(Oi)),n}));function es(t){return null==t?t:Mr.call(t)}var rs=Qn((function(t){return hi(yn(t,1,Js,!0))})),ns=Qn((function(t){var e=Qo(t);return Js(e)&&(e=i),hi(yn(t,1,Js,!0),fo(e,2))})),is=Qn((function(t){var e=Qo(t);return e="function"==typeof e?e:i,hi(yn(t,1,Js,!0),i,e)}));function os(t){if(!t||!t.length)return[];var e=0;return t=Re(t,(function(t){if(Js(t))return e=yr(t.length,e),!0})),Qe(e,(function(e){return ke(t,qe(e))}))}function ss(t,e){if(!t||!t.length)return[];var r=os(t);return null==e?r:ke(r,(function(t){return Oe(e,i,t)}))}var as=Qn((function(t,e){return Js(t)?dn(t,e):[]})),us=Qn((function(t){return gi(Re(t,Js))})),fs=Qn((function(t){var e=Qo(t);return Js(e)&&(e=i),gi(Re(t,Js),fo(e,2))})),cs=Qn((function(t){var e=Qo(t);return e="function"==typeof e?e:i,gi(Re(t,Js),i,e)})),hs=Qn(os);var ds=Qn((function(t){var e=t.length,r=e>1?t[e-1]:i;return r="function"==typeof r?(t.pop(),r):i,ss(t,r)}));function ls(t){var e=zr(t);return e.__chain__=!0,e}function ps(t,e){return e(t)}var bs=no((function(t){var e=t.length,r=e?t[0]:0,n=this.__wrapped__,o=function(e){return an(e,t)};return!(e>1||this.__actions__.length)&&n instanceof Gr&&wo(r)?((n=n.slice(r,+r+(e?1:0))).__actions__.push({func:ps,args:[o],thisArg:i}),new Wr(n,this.__chain__).thru((function(t){return e&&!t.length&&t.push(i),t}))):this.thru(o)}));var gs=Ri((function(t,e,r){Nt.call(t,r)?++t[r]:sn(t,r,1)}));var ms=Di(Go),ys=Di(Vo);function vs(t,e){return(Vs(t)?Te:ln)(t,fo(e,3))}function ws(t,e){return(Vs(t)?Pe:pn)(t,fo(e,3))}var _s=Ri((function(t,e,r){Nt.call(t,r)?t[r].push(e):sn(t,r,[e])}));var Ss=Qn((function(t,e,r){var i=-1,o="function"==typeof e,s=qs(t)?n(t.length):[];return ln(t,(function(t){s[++i]=o?Oe(e,t,r):In(t,e,r)})),s})),Ms=Ri((function(t,e,r){sn(t,r,e)}));function As(t,e){return(Vs(t)?ke:zn)(t,fo(e,3))}var Cs=Ri((function(t,e,r){t[r?0:1].push(e)}),(function(){return[[],[]]}));var Es=Qn((function(t,e){if(null==t)return[];var r=e.length;return r>1&&_o(t,e[0],e[1])?e=[]:r>2&&_o(e[0],e[1],e[2])&&(e=[e[0]]),Vn(t,yn(e,1),[])})),Os=ce||function(){return be.Date.now()};function xs(t,e,r){return e=r?i:e,e=t&&null==e?t.length:e,Zi(t,h,i,i,i,i,e)}function Ts(t,e){var r;if("function"!=typeof e)throw new Pt(o);return t=ba(t),function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=i),r}}var Ps=Qn((function(t,e,r){var n=1;if(r.length){var i=cr(r,uo(Ps));n|=f}return Zi(t,n,e,r,i)})),Is=Qn((function(t,e,r){var n=3;if(r.length){var i=cr(r,uo(Is));n|=f}return Zi(e,n,t,r,i)}));function Rs(t,e,r){var n,s,a,u,f,c,h=0,d=!1,l=!1,p=!0;if("function"!=typeof t)throw new Pt(o);function b(e){var r=n,o=s;return n=s=i,h=e,u=t.apply(o,r)}function g(t){var r=t-c;return c===i||r>=e||r<0||l&&t-h>=a}function m(){var t=Os();if(g(t))return y(t);f=Ro(m,function(t){var r=e-(t-c);return l?vr(r,a-(t-h)):r}(t))}function y(t){return f=i,p&&n?b(t):(n=s=i,u)}function v(){var t=Os(),r=g(t);if(n=arguments,s=this,c=t,r){if(f===i)return function(t){return h=t,f=Ro(m,e),d?b(t):u}(c);if(l)return Mi(f),f=Ro(m,e),b(c)}return f===i&&(f=Ro(m,e)),u}return e=ma(e)||0,ea(r)&&(d=!!r.leading,a=(l="maxWait"in r)?yr(ma(r.maxWait)||0,e):a,p="trailing"in r?!!r.trailing:p),v.cancel=function(){f!==i&&Mi(f),h=0,n=c=s=f=i},v.flush=function(){return f===i?u:y(Os())},v}var Ls=Qn((function(t,e){return hn(t,1,e)})),Bs=Qn((function(t,e,r){return hn(t,ma(e)||0,r)}));function ks(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Pt(o);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=t.apply(this,n);return r.cache=o.set(i,s)||o,s};return r.cache=new(ks.Cache||qr),r}function Ns(t){if("function"!=typeof t)throw new Pt(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}ks.Cache=qr;var Hs=_i((function(t,e){var r=(e=1==e.length&&Vs(e[0])?ke(e[0],Xe(fo())):ke(yn(e,1),Xe(fo()))).length;return Qn((function(n){for(var i=-1,o=vr(n.length,r);++i<o;)n[i]=e[i].call(this,n[i]);return Oe(t,this,n)}))})),Us=Qn((function(t,e){var r=cr(e,uo(Us));return Zi(t,f,i,e,r)})),Ds=Qn((function(t,e){var r=cr(e,uo(Ds));return Zi(t,c,i,e,r)})),zs=no((function(t,e){return Zi(t,d,i,i,i,e)}));function Fs(t,e){return t===e||t!=t&&e!=e}var js=qi(On),Ws=qi((function(t,e){return t>=e})),Gs=Rn(function(){return arguments}())?Rn:function(t){return ra(t)&&Nt.call(t,"callee")&&!Yt.call(t,"callee")},Vs=n.isArray,Ks=_e?Xe(_e):function(t){return ra(t)&&En(t)==B};function qs(t){return null!=t&&ta(t.length)&&!Zs(t)}function Js(t){return ra(t)&&qs(t)}var Ys=ve||mu,$s=Se?Xe(Se):function(t){return ra(t)&&En(t)==_};function Qs(t){if(!ra(t))return!1;var e=En(t);return e==S||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!oa(t)}function Zs(t){if(!ea(t))return!1;var e=En(t);return e==M||e==A||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Xs(t){return"number"==typeof t&&t==ba(t)}function ta(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=p}function ea(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ra(t){return null!=t&&"object"==typeof t}var na=Me?Xe(Me):function(t){return ra(t)&&go(t)==C};function ia(t){return"number"==typeof t||ra(t)&&En(t)==E}function oa(t){if(!ra(t)||En(t)!=O)return!1;var e=qt(t);if(null===e)return!0;var r=Nt.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&kt.call(r)==zt}var sa=Ae?Xe(Ae):function(t){return ra(t)&&En(t)==T};var aa=Ce?Xe(Ce):function(t){return ra(t)&&go(t)==P};function ua(t){return"string"==typeof t||!Vs(t)&&ra(t)&&En(t)==I}function fa(t){return"symbol"==typeof t||ra(t)&&En(t)==R}var ca=Ee?Xe(Ee):function(t){return ra(t)&&ta(t.length)&&!!ue[En(t)]};var ha=qi(Dn),da=qi((function(t,e){return t<=e}));function la(t){if(!t)return[];if(qs(t))return ua(t)?pr(t):Pi(t);if(Zt&&t[Zt])return function(t){for(var e,r=[];!(e=t.next()).done;)r.push(e.value);return r}(t[Zt]());var e=go(t);return(e==C?ur:e==P?hr:Fa)(t)}function pa(t){return t?(t=ma(t))===l||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function ba(t){var e=pa(t),r=e%1;return e==e?r?e-r:e:0}function ga(t){return t?un(ba(t),0,g):0}function ma(t){if("number"==typeof t)return t;if(fa(t))return b;if(ea(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ea(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Ze(t);var r=mt.test(t);return r||vt.test(t)?de(t.slice(2),r?2:8):gt.test(t)?b:+t}function ya(t){return Ii(t,La(t))}function va(t){return null==t?"":ci(t)}var wa=Li((function(t,e){if(Co(e)||qs(e))Ii(e,Ra(e),t);else for(var r in e)Nt.call(e,r)&&en(t,r,e[r])})),_a=Li((function(t,e){Ii(e,La(e),t)})),Sa=Li((function(t,e,r,n){Ii(e,La(e),t,n)})),Ma=Li((function(t,e,r,n){Ii(e,Ra(e),t,n)})),Aa=no(an);var Ca=Qn((function(t,e){t=Ot(t);var r=-1,n=e.length,o=n>2?e[2]:i;for(o&&_o(e[0],e[1],o)&&(n=1);++r<n;)for(var s=e[r],a=La(s),u=-1,f=a.length;++u<f;){var c=a[u],h=t[c];(h===i||Fs(h,Lt[c])&&!Nt.call(t,c))&&(t[c]=s[c])}return t})),Ea=Qn((function(t){return t.push(i,to),Oe(ka,i,t)}));function Oa(t,e,r){var n=null==t?i:An(t,e);return n===i?r:n}function xa(t,e){return null!=t&&mo(t,e,Tn)}var Ta=ji((function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=Dt.call(e)),t[e]=r}),eu(iu)),Pa=ji((function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=Dt.call(e)),Nt.call(t,e)?t[e].push(r):t[e]=[r]}),fo),Ia=Qn(In);function Ra(t){return qs(t)?$r(t):Hn(t)}function La(t){return qs(t)?$r(t,!0):Un(t)}var Ba=Li((function(t,e,r){Wn(t,e,r)})),ka=Li((function(t,e,r,n){Wn(t,e,r,n)})),Na=no((function(t,e){var r={};if(null==t)return r;var n=!1;e=ke(e,(function(e){return e=wi(e,t),n||(n=e.length>1),e})),Ii(t,oo(t),r),n&&(r=fn(r,7,eo));for(var i=e.length;i--;)di(r,e[i]);return r}));var Ha=no((function(t,e){return null==t?{}:function(t,e){return Kn(t,e,(function(e,r){return xa(t,r)}))}(t,e)}));function Ua(t,e){if(null==t)return{};var r=ke(oo(t),(function(t){return[t]}));return e=fo(e),Kn(t,r,(function(t,r){return e(t,r[0])}))}var Da=Qi(Ra),za=Qi(La);function Fa(t){return null==t?[]:tr(t,Ra(t))}var ja=Hi((function(t,e,r){return e=e.toLowerCase(),t+(r?Wa(e):e)}));function Wa(t){return Qa(va(t).toLowerCase())}function Ga(t){return(t=va(t))&&t.replace(_t,ir).replace(ee,"")}var Va=Hi((function(t,e,r){return t+(r?"-":"")+e.toLowerCase()})),Ka=Hi((function(t,e,r){return t+(r?" ":"")+e.toLowerCase()})),qa=Ni("toLowerCase");var Ja=Hi((function(t,e,r){return t+(r?"_":"")+e.toLowerCase()}));var Ya=Hi((function(t,e,r){return t+(r?" ":"")+Qa(e)}));var $a=Hi((function(t,e,r){return t+(r?" ":"")+e.toUpperCase()})),Qa=Ni("toUpperCase");function Za(t,e,r){return t=va(t),(e=r?i:e)===i?function(t){return oe.test(t)}(t)?function(t){return t.match(ne)||[]}(t):function(t){return t.match(ht)||[]}(t):t.match(e)||[]}var Xa=Qn((function(t,e){try{return Oe(t,i,e)}catch(t){return Qs(t)?t:new At(t)}})),tu=no((function(t,e){return Te(e,(function(e){e=Uo(e),sn(t,e,Ps(t[e],t))})),t}));function eu(t){return function(){return t}}var ru=zi(),nu=zi(!0);function iu(t){return t}function ou(t){return Nn("function"==typeof t?t:fn(t,1))}var su=Qn((function(t,e){return function(r){return In(r,t,e)}})),au=Qn((function(t,e){return function(r){return In(t,r,e)}}));function uu(t,e,r){var n=Ra(e),i=Mn(e,n);null!=r||ea(e)&&(i.length||!n.length)||(r=e,e=t,t=this,i=Mn(e,Ra(e)));var o=!(ea(r)&&"chain"in r&&!r.chain),s=Zs(t);return Te(i,(function(r){var n=e[r];t[r]=n,s&&(t.prototype[r]=function(){var e=this.__chain__;if(o||e){var r=t(this.__wrapped__);return(r.__actions__=Pi(this.__actions__)).push({func:n,args:arguments,thisArg:t}),r.__chain__=e,r}return n.apply(t,Ne([this.value()],arguments))})})),t}function fu(){}var cu=Gi(ke),hu=Gi(Ie),du=Gi(De);function lu(t){return So(t)?qe(Uo(t)):function(t){return function(e){return An(e,t)}}(t)}var pu=Ki(),bu=Ki(!0);function gu(){return[]}function mu(){return!1}var yu=Wi((function(t,e){return t+e}),0),vu=Yi("ceil"),wu=Wi((function(t,e){return t/e}),1),_u=Yi("floor");var Su,Mu=Wi((function(t,e){return t*e}),1),Au=Yi("round"),Cu=Wi((function(t,e){return t-e}),0);return zr.after=function(t,e){if("function"!=typeof e)throw new Pt(o);return t=ba(t),function(){if(--t<1)return e.apply(this,arguments)}},zr.ary=xs,zr.assign=wa,zr.assignIn=_a,zr.assignInWith=Sa,zr.assignWith=Ma,zr.at=Aa,zr.before=Ts,zr.bind=Ps,zr.bindAll=tu,zr.bindKey=Is,zr.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Vs(t)?t:[t]},zr.chain=ls,zr.chunk=function(t,e,r){e=(r?_o(t,e,r):e===i)?1:yr(ba(e),0);var o=null==t?0:t.length;if(!o||e<1)return[];for(var s=0,a=0,u=n(pe(o/e));s<o;)u[a++]=ii(t,s,s+=e);return u},zr.compact=function(t){for(var e=-1,r=null==t?0:t.length,n=0,i=[];++e<r;){var o=t[e];o&&(i[n++]=o)}return i},zr.concat=function(){var t=arguments.length;if(!t)return[];for(var e=n(t-1),r=arguments[0],i=t;i--;)e[i-1]=arguments[i];return Ne(Vs(r)?Pi(r):[r],yn(e,1))},zr.cond=function(t){var e=null==t?0:t.length,r=fo();return t=e?ke(t,(function(t){if("function"!=typeof t[1])throw new Pt(o);return[r(t[0]),t[1]]})):[],Qn((function(r){for(var n=-1;++n<e;){var i=t[n];if(Oe(i[0],this,r))return Oe(i[1],this,r)}}))},zr.conforms=function(t){return function(t){var e=Ra(t);return function(r){return cn(r,t,e)}}(fn(t,1))},zr.constant=eu,zr.countBy=gs,zr.create=function(t,e){var r=Fr(t);return null==e?r:on(r,e)},zr.curry=function t(e,r,n){var o=Zi(e,8,i,i,i,i,i,r=n?i:r);return o.placeholder=t.placeholder,o},zr.curryRight=function t(e,r,n){var o=Zi(e,u,i,i,i,i,i,r=n?i:r);return o.placeholder=t.placeholder,o},zr.debounce=Rs,zr.defaults=Ca,zr.defaultsDeep=Ea,zr.defer=Ls,zr.delay=Bs,zr.difference=Fo,zr.differenceBy=jo,zr.differenceWith=Wo,zr.drop=function(t,e,r){var n=null==t?0:t.length;return n?ii(t,(e=r||e===i?1:ba(e))<0?0:e,n):[]},zr.dropRight=function(t,e,r){var n=null==t?0:t.length;return n?ii(t,0,(e=n-(e=r||e===i?1:ba(e)))<0?0:e):[]},zr.dropRightWhile=function(t,e){return t&&t.length?pi(t,fo(e,3),!0,!0):[]},zr.dropWhile=function(t,e){return t&&t.length?pi(t,fo(e,3),!0):[]},zr.fill=function(t,e,r,n){var o=null==t?0:t.length;return o?(r&&"number"!=typeof r&&_o(t,e,r)&&(r=0,n=o),function(t,e,r,n){var o=t.length;for((r=ba(r))<0&&(r=-r>o?0:o+r),(n=n===i||n>o?o:ba(n))<0&&(n+=o),n=r>n?0:ga(n);r<n;)t[r++]=e;return t}(t,e,r,n)):[]},zr.filter=function(t,e){return(Vs(t)?Re:mn)(t,fo(e,3))},zr.flatMap=function(t,e){return yn(As(t,e),1)},zr.flatMapDeep=function(t,e){return yn(As(t,e),l)},zr.flatMapDepth=function(t,e,r){return r=r===i?1:ba(r),yn(As(t,e),r)},zr.flatten=Ko,zr.flattenDeep=function(t){return(null==t?0:t.length)?yn(t,l):[]},zr.flattenDepth=function(t,e){return(null==t?0:t.length)?yn(t,e=e===i?1:ba(e)):[]},zr.flip=function(t){return Zi(t,512)},zr.flow=ru,zr.flowRight=nu,zr.fromPairs=function(t){for(var e=-1,r=null==t?0:t.length,n={};++e<r;){var i=t[e];n[i[0]]=i[1]}return n},zr.functions=function(t){return null==t?[]:Mn(t,Ra(t))},zr.functionsIn=function(t){return null==t?[]:Mn(t,La(t))},zr.groupBy=_s,zr.initial=function(t){return(null==t?0:t.length)?ii(t,0,-1):[]},zr.intersection=Jo,zr.intersectionBy=Yo,zr.intersectionWith=$o,zr.invert=Ta,zr.invertBy=Pa,zr.invokeMap=Ss,zr.iteratee=ou,zr.keyBy=Ms,zr.keys=Ra,zr.keysIn=La,zr.map=As,zr.mapKeys=function(t,e){var r={};return e=fo(e,3),_n(t,(function(t,n,i){sn(r,e(t,n,i),t)})),r},zr.mapValues=function(t,e){var r={};return e=fo(e,3),_n(t,(function(t,n,i){sn(r,n,e(t,n,i))})),r},zr.matches=function(t){return Fn(fn(t,1))},zr.matchesProperty=function(t,e){return jn(t,fn(e,1))},zr.memoize=ks,zr.merge=Ba,zr.mergeWith=ka,zr.method=su,zr.methodOf=au,zr.mixin=uu,zr.negate=Ns,zr.nthArg=function(t){return t=ba(t),Qn((function(e){return Gn(e,t)}))},zr.omit=Na,zr.omitBy=function(t,e){return Ua(t,Ns(fo(e)))},zr.once=function(t){return Ts(2,t)},zr.orderBy=function(t,e,r,n){return null==t?[]:(Vs(e)||(e=null==e?[]:[e]),Vs(r=n?i:r)||(r=null==r?[]:[r]),Vn(t,e,r))},zr.over=cu,zr.overArgs=Hs,zr.overEvery=hu,zr.overSome=du,zr.partial=Us,zr.partialRight=Ds,zr.partition=Cs,zr.pick=Ha,zr.pickBy=Ua,zr.property=lu,zr.propertyOf=function(t){return function(e){return null==t?i:An(t,e)}},zr.pull=Zo,zr.pullAll=Xo,zr.pullAllBy=function(t,e,r){return t&&t.length&&e&&e.length?qn(t,e,fo(r,2)):t},zr.pullAllWith=function(t,e,r){return t&&t.length&&e&&e.length?qn(t,e,i,r):t},zr.pullAt=ts,zr.range=pu,zr.rangeRight=bu,zr.rearg=zs,zr.reject=function(t,e){return(Vs(t)?Re:mn)(t,Ns(fo(e,3)))},zr.remove=function(t,e){var r=[];if(!t||!t.length)return r;var n=-1,i=[],o=t.length;for(e=fo(e,3);++n<o;){var s=t[n];e(s,n,t)&&(r.push(s),i.push(n))}return Jn(t,i),r},zr.rest=function(t,e){if("function"!=typeof t)throw new Pt(o);return Qn(t,e=e===i?e:ba(e))},zr.reverse=es,zr.sampleSize=function(t,e,r){return e=(r?_o(t,e,r):e===i)?1:ba(e),(Vs(t)?Zr:Xn)(t,e)},zr.set=function(t,e,r){return null==t?t:ti(t,e,r)},zr.setWith=function(t,e,r,n){return n="function"==typeof n?n:i,null==t?t:ti(t,e,r,n)},zr.shuffle=function(t){return(Vs(t)?Xr:ni)(t)},zr.slice=function(t,e,r){var n=null==t?0:t.length;return n?(r&&"number"!=typeof r&&_o(t,e,r)?(e=0,r=n):(e=null==e?0:ba(e),r=r===i?n:ba(r)),ii(t,e,r)):[]},zr.sortBy=Es,zr.sortedUniq=function(t){return t&&t.length?ui(t):[]},zr.sortedUniqBy=function(t,e){return t&&t.length?ui(t,fo(e,2)):[]},zr.split=function(t,e,r){return r&&"number"!=typeof r&&_o(t,e,r)&&(e=r=i),(r=r===i?g:r>>>0)?(t=va(t))&&("string"==typeof e||null!=e&&!sa(e))&&!(e=ci(e))&&ar(t)?Si(pr(t),0,r):t.split(e,r):[]},zr.spread=function(t,e){if("function"!=typeof t)throw new Pt(o);return e=null==e?0:yr(ba(e),0),Qn((function(r){var n=r[e],i=Si(r,0,e);return n&&Ne(i,n),Oe(t,this,i)}))},zr.tail=function(t){var e=null==t?0:t.length;return e?ii(t,1,e):[]},zr.take=function(t,e,r){return t&&t.length?ii(t,0,(e=r||e===i?1:ba(e))<0?0:e):[]},zr.takeRight=function(t,e,r){var n=null==t?0:t.length;return n?ii(t,(e=n-(e=r||e===i?1:ba(e)))<0?0:e,n):[]},zr.takeRightWhile=function(t,e){return t&&t.length?pi(t,fo(e,3),!1,!0):[]},zr.takeWhile=function(t,e){return t&&t.length?pi(t,fo(e,3)):[]},zr.tap=function(t,e){return e(t),t},zr.throttle=function(t,e,r){var n=!0,i=!0;if("function"!=typeof t)throw new Pt(o);return ea(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Rs(t,e,{leading:n,maxWait:e,trailing:i})},zr.thru=ps,zr.toArray=la,zr.toPairs=Da,zr.toPairsIn=za,zr.toPath=function(t){return Vs(t)?ke(t,Uo):fa(t)?[t]:Pi(Ho(va(t)))},zr.toPlainObject=ya,zr.transform=function(t,e,r){var n=Vs(t),i=n||Ys(t)||ca(t);if(e=fo(e,4),null==r){var o=t&&t.constructor;r=i?n?new o:[]:ea(t)&&Zs(o)?Fr(qt(t)):{}}return(i?Te:_n)(t,(function(t,n,i){return e(r,t,n,i)})),r},zr.unary=function(t){return xs(t,1)},zr.union=rs,zr.unionBy=ns,zr.unionWith=is,zr.uniq=function(t){return t&&t.length?hi(t):[]},zr.uniqBy=function(t,e){return t&&t.length?hi(t,fo(e,2)):[]},zr.uniqWith=function(t,e){return e="function"==typeof e?e:i,t&&t.length?hi(t,i,e):[]},zr.unset=function(t,e){return null==t||di(t,e)},zr.unzip=os,zr.unzipWith=ss,zr.update=function(t,e,r){return null==t?t:li(t,e,vi(r))},zr.updateWith=function(t,e,r,n){return n="function"==typeof n?n:i,null==t?t:li(t,e,vi(r),n)},zr.values=Fa,zr.valuesIn=function(t){return null==t?[]:tr(t,La(t))},zr.without=as,zr.words=Za,zr.wrap=function(t,e){return Us(vi(e),t)},zr.xor=us,zr.xorBy=fs,zr.xorWith=cs,zr.zip=hs,zr.zipObject=function(t,e){return mi(t||[],e||[],en)},zr.zipObjectDeep=function(t,e){return mi(t||[],e||[],ti)},zr.zipWith=ds,zr.entries=Da,zr.entriesIn=za,zr.extend=_a,zr.extendWith=Sa,uu(zr,zr),zr.add=yu,zr.attempt=Xa,zr.camelCase=ja,zr.capitalize=Wa,zr.ceil=vu,zr.clamp=function(t,e,r){return r===i&&(r=e,e=i),r!==i&&(r=(r=ma(r))==r?r:0),e!==i&&(e=(e=ma(e))==e?e:0),un(ma(t),e,r)},zr.clone=function(t){return fn(t,4)},zr.cloneDeep=function(t){return fn(t,5)},zr.cloneDeepWith=function(t,e){return fn(t,5,e="function"==typeof e?e:i)},zr.cloneWith=function(t,e){return fn(t,4,e="function"==typeof e?e:i)},zr.conformsTo=function(t,e){return null==e||cn(t,e,Ra(e))},zr.deburr=Ga,zr.defaultTo=function(t,e){return null==t||t!=t?e:t},zr.divide=wu,zr.endsWith=function(t,e,r){t=va(t),e=ci(e);var n=t.length,o=r=r===i?n:un(ba(r),0,n);return(r-=e.length)>=0&&t.slice(r,o)==e},zr.eq=Fs,zr.escape=function(t){return(t=va(t))&&Q.test(t)?t.replace(Y,or):t},zr.escapeRegExp=function(t){return(t=va(t))&&ot.test(t)?t.replace(it,"\\$&"):t},zr.every=function(t,e,r){var n=Vs(t)?Ie:bn;return r&&_o(t,e,r)&&(e=i),n(t,fo(e,3))},zr.find=ms,zr.findIndex=Go,zr.findKey=function(t,e){return Fe(t,fo(e,3),_n)},zr.findLast=ys,zr.findLastIndex=Vo,zr.findLastKey=function(t,e){return Fe(t,fo(e,3),Sn)},zr.floor=_u,zr.forEach=vs,zr.forEachRight=ws,zr.forIn=function(t,e){return null==t?t:vn(t,fo(e,3),La)},zr.forInRight=function(t,e){return null==t?t:wn(t,fo(e,3),La)},zr.forOwn=function(t,e){return t&&_n(t,fo(e,3))},zr.forOwnRight=function(t,e){return t&&Sn(t,fo(e,3))},zr.get=Oa,zr.gt=js,zr.gte=Ws,zr.has=function(t,e){return null!=t&&mo(t,e,xn)},zr.hasIn=xa,zr.head=qo,zr.identity=iu,zr.includes=function(t,e,r,n){t=qs(t)?t:Fa(t),r=r&&!n?ba(r):0;var i=t.length;return r<0&&(r=yr(i+r,0)),ua(t)?r<=i&&t.indexOf(e,r)>-1:!!i&&We(t,e,r)>-1},zr.indexOf=function(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=null==r?0:ba(r);return i<0&&(i=yr(n+i,0)),We(t,e,i)},zr.inRange=function(t,e,r){return e=pa(e),r===i?(r=e,e=0):r=pa(r),function(t,e,r){return t>=vr(e,r)&&t<yr(e,r)}(t=ma(t),e,r)},zr.invoke=Ia,zr.isArguments=Gs,zr.isArray=Vs,zr.isArrayBuffer=Ks,zr.isArrayLike=qs,zr.isArrayLikeObject=Js,zr.isBoolean=function(t){return!0===t||!1===t||ra(t)&&En(t)==w},zr.isBuffer=Ys,zr.isDate=$s,zr.isElement=function(t){return ra(t)&&1===t.nodeType&&!oa(t)},zr.isEmpty=function(t){if(null==t)return!0;if(qs(t)&&(Vs(t)||"string"==typeof t||"function"==typeof t.splice||Ys(t)||ca(t)||Gs(t)))return!t.length;var e=go(t);if(e==C||e==P)return!t.size;if(Co(t))return!Hn(t).length;for(var r in t)if(Nt.call(t,r))return!1;return!0},zr.isEqual=function(t,e){return Ln(t,e)},zr.isEqualWith=function(t,e,r){var n=(r="function"==typeof r?r:i)?r(t,e):i;return n===i?Ln(t,e,i,r):!!n},zr.isError=Qs,zr.isFinite=function(t){return"number"==typeof t&&we(t)},zr.isFunction=Zs,zr.isInteger=Xs,zr.isLength=ta,zr.isMap=na,zr.isMatch=function(t,e){return t===e||Bn(t,e,ho(e))},zr.isMatchWith=function(t,e,r){return r="function"==typeof r?r:i,Bn(t,e,ho(e),r)},zr.isNaN=function(t){return ia(t)&&t!=+t},zr.isNative=function(t){if(Ao(t))throw new At("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return kn(t)},zr.isNil=function(t){return null==t},zr.isNull=function(t){return null===t},zr.isNumber=ia,zr.isObject=ea,zr.isObjectLike=ra,zr.isPlainObject=oa,zr.isRegExp=sa,zr.isSafeInteger=function(t){return Xs(t)&&t>=-9007199254740991&&t<=p},zr.isSet=aa,zr.isString=ua,zr.isSymbol=fa,zr.isTypedArray=ca,zr.isUndefined=function(t){return t===i},zr.isWeakMap=function(t){return ra(t)&&go(t)==L},zr.isWeakSet=function(t){return ra(t)&&"[object WeakSet]"==En(t)},zr.join=function(t,e){return null==t?"":ze.call(t,e)},zr.kebabCase=Va,zr.last=Qo,zr.lastIndexOf=function(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var o=n;return r!==i&&(o=(o=ba(r))<0?yr(n+o,0):vr(o,n-1)),e==e?function(t,e,r){for(var n=r+1;n--;)if(t[n]===e)return n;return n}(t,e,o):je(t,Ve,o,!0)},zr.lowerCase=Ka,zr.lowerFirst=qa,zr.lt=ha,zr.lte=da,zr.max=function(t){return t&&t.length?gn(t,iu,On):i},zr.maxBy=function(t,e){return t&&t.length?gn(t,fo(e,2),On):i},zr.mean=function(t){return Ke(t,iu)},zr.meanBy=function(t,e){return Ke(t,fo(e,2))},zr.min=function(t){return t&&t.length?gn(t,iu,Dn):i},zr.minBy=function(t,e){return t&&t.length?gn(t,fo(e,2),Dn):i},zr.stubArray=gu,zr.stubFalse=mu,zr.stubObject=function(){return{}},zr.stubString=function(){return""},zr.stubTrue=function(){return!0},zr.multiply=Mu,zr.nth=function(t,e){return t&&t.length?Gn(t,ba(e)):i},zr.noConflict=function(){return be._===this&&(be._=Ft),this},zr.noop=fu,zr.now=Os,zr.pad=function(t,e,r){t=va(t);var n=(e=ba(e))?lr(t):0;if(!e||n>=e)return t;var i=(e-n)/2;return Vi(ge(i),r)+t+Vi(pe(i),r)},zr.padEnd=function(t,e,r){t=va(t);var n=(e=ba(e))?lr(t):0;return e&&n<e?t+Vi(e-n,r):t},zr.padStart=function(t,e,r){t=va(t);var n=(e=ba(e))?lr(t):0;return e&&n<e?Vi(e-n,r)+t:t},zr.parseInt=function(t,e,r){return r||null==e?e=0:e&&(e=+e),_r(va(t).replace(st,""),e||0)},zr.random=function(t,e,r){if(r&&"boolean"!=typeof r&&_o(t,e,r)&&(e=r=i),r===i&&("boolean"==typeof e?(r=e,e=i):"boolean"==typeof t&&(r=t,t=i)),t===i&&e===i?(t=0,e=1):(t=pa(t),e===i?(e=t,t=0):e=pa(e)),t>e){var n=t;t=e,e=n}if(r||t%1||e%1){var o=Sr();return vr(t+o*(e-t+he("1e-"+((o+"").length-1))),e)}return Yn(t,e)},zr.reduce=function(t,e,r){var n=Vs(t)?He:Ye,i=arguments.length<3;return n(t,fo(e,4),r,i,ln)},zr.reduceRight=function(t,e,r){var n=Vs(t)?Ue:Ye,i=arguments.length<3;return n(t,fo(e,4),r,i,pn)},zr.repeat=function(t,e,r){return e=(r?_o(t,e,r):e===i)?1:ba(e),$n(va(t),e)},zr.replace=function(){var t=arguments,e=va(t[0]);return t.length<3?e:e.replace(t[1],t[2])},zr.result=function(t,e,r){var n=-1,o=(e=wi(e,t)).length;for(o||(o=1,t=i);++n<o;){var s=null==t?i:t[Uo(e[n])];s===i&&(n=o,s=r),t=Zs(s)?s.call(t):s}return t},zr.round=Au,zr.runInContext=t,zr.sample=function(t){return(Vs(t)?Qr:Zn)(t)},zr.size=function(t){if(null==t)return 0;if(qs(t))return ua(t)?lr(t):t.length;var e=go(t);return e==C||e==P?t.size:Hn(t).length},zr.snakeCase=Ja,zr.some=function(t,e,r){var n=Vs(t)?De:oi;return r&&_o(t,e,r)&&(e=i),n(t,fo(e,3))},zr.sortedIndex=function(t,e){return si(t,e)},zr.sortedIndexBy=function(t,e,r){return ai(t,e,fo(r,2))},zr.sortedIndexOf=function(t,e){var r=null==t?0:t.length;if(r){var n=si(t,e);if(n<r&&Fs(t[n],e))return n}return-1},zr.sortedLastIndex=function(t,e){return si(t,e,!0)},zr.sortedLastIndexBy=function(t,e,r){return ai(t,e,fo(r,2),!0)},zr.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var r=si(t,e,!0)-1;if(Fs(t[r],e))return r}return-1},zr.startCase=Ya,zr.startsWith=function(t,e,r){return t=va(t),r=null==r?0:un(ba(r),0,t.length),e=ci(e),t.slice(r,r+e.length)==e},zr.subtract=Cu,zr.sum=function(t){return t&&t.length?$e(t,iu):0},zr.sumBy=function(t,e){return t&&t.length?$e(t,fo(e,2)):0},zr.template=function(t,e,r){var n=zr.templateSettings;r&&_o(t,e,r)&&(e=i),t=va(t),e=Sa({},e,n,Xi);var o,s,a=Sa({},e.imports,n.imports,Xi),u=Ra(a),f=tr(a,u),c=0,h=e.interpolate||St,d="__p += '",l=xt((e.escape||St).source+"|"+h.source+"|"+(h===tt?pt:St).source+"|"+(e.evaluate||St).source+"|$","g"),p="//# sourceURL="+(Nt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ae+"]")+"\n";t.replace(l,(function(e,r,n,i,a,u){return n||(n=i),d+=t.slice(c,u).replace(Mt,sr),r&&(o=!0,d+="' +\n__e("+r+") +\n'"),a&&(s=!0,d+="';\n"+a+";\n__p += '"),n&&(d+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),c=u+e.length,e})),d+="';\n";var b=Nt.call(e,"variable")&&e.variable;if(b){if(dt.test(b))throw new At("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(s?d.replace(V,""):d).replace(K,"$1").replace(q,"$1;"),d="function("+(b||"obj")+") {\n"+(b?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=Xa((function(){return Ct(u,p+"return "+d).apply(i,f)}));if(g.source=d,Qs(g))throw g;return g},zr.times=function(t,e){if((t=ba(t))<1||t>p)return[];var r=g,n=vr(t,g);e=fo(e),t-=g;for(var i=Qe(n,e);++r<t;)e(r);return i},zr.toFinite=pa,zr.toInteger=ba,zr.toLength=ga,zr.toLower=function(t){return va(t).toLowerCase()},zr.toNumber=ma,zr.toSafeInteger=function(t){return t?un(ba(t),-9007199254740991,p):0===t?t:0},zr.toString=va,zr.toUpper=function(t){return va(t).toUpperCase()},zr.trim=function(t,e,r){if((t=va(t))&&(r||e===i))return Ze(t);if(!t||!(e=ci(e)))return t;var n=pr(t),o=pr(e);return Si(n,rr(n,o),nr(n,o)+1).join("")},zr.trimEnd=function(t,e,r){if((t=va(t))&&(r||e===i))return t.slice(0,br(t)+1);if(!t||!(e=ci(e)))return t;var n=pr(t);return Si(n,0,nr(n,pr(e))+1).join("")},zr.trimStart=function(t,e,r){if((t=va(t))&&(r||e===i))return t.replace(st,"");if(!t||!(e=ci(e)))return t;var n=pr(t);return Si(n,rr(n,pr(e))).join("")},zr.truncate=function(t,e){var r=30,n="...";if(ea(e)){var o="separator"in e?e.separator:o;r="length"in e?ba(e.length):r,n="omission"in e?ci(e.omission):n}var s=(t=va(t)).length;if(ar(t)){var a=pr(t);s=a.length}if(r>=s)return t;var u=r-lr(n);if(u<1)return n;var f=a?Si(a,0,u).join(""):t.slice(0,u);if(o===i)return f+n;if(a&&(u+=f.length-u),sa(o)){if(t.slice(u).search(o)){var c,h=f;for(o.global||(o=xt(o.source,va(bt.exec(o))+"g")),o.lastIndex=0;c=o.exec(h);)var d=c.index;f=f.slice(0,d===i?u:d)}}else if(t.indexOf(ci(o),u)!=u){var l=f.lastIndexOf(o);l>-1&&(f=f.slice(0,l))}return f+n},zr.unescape=function(t){return(t=va(t))&&$.test(t)?t.replace(J,gr):t},zr.uniqueId=function(t){var e=++Ht;return va(t)+e},zr.upperCase=$a,zr.upperFirst=Qa,zr.each=vs,zr.eachRight=ws,zr.first=qo,uu(zr,(Su={},_n(zr,(function(t,e){Nt.call(zr.prototype,e)||(Su[e]=t)})),Su),{chain:!1}),zr.VERSION="4.17.21",Te(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){zr[t].placeholder=zr})),Te(["drop","take"],(function(t,e){Gr.prototype[t]=function(r){r=r===i?1:yr(ba(r),0);var n=this.__filtered__&&!e?new Gr(this):this.clone();return n.__filtered__?n.__takeCount__=vr(r,n.__takeCount__):n.__views__.push({size:vr(r,g),type:t+(n.__dir__<0?"Right":"")}),n},Gr.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Te(["filter","map","takeWhile"],(function(t,e){var r=e+1,n=1==r||3==r;Gr.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:fo(t,3),type:r}),e.__filtered__=e.__filtered__||n,e}})),Te(["head","last"],(function(t,e){var r="take"+(e?"Right":"");Gr.prototype[t]=function(){return this[r](1).value()[0]}})),Te(["initial","tail"],(function(t,e){var r="drop"+(e?"":"Right");Gr.prototype[t]=function(){return this.__filtered__?new Gr(this):this[r](1)}})),Gr.prototype.compact=function(){return this.filter(iu)},Gr.prototype.find=function(t){return this.filter(t).head()},Gr.prototype.findLast=function(t){return this.reverse().find(t)},Gr.prototype.invokeMap=Qn((function(t,e){return"function"==typeof t?new Gr(this):this.map((function(r){return In(r,t,e)}))})),Gr.prototype.reject=function(t){return this.filter(Ns(fo(t)))},Gr.prototype.slice=function(t,e){t=ba(t);var r=this;return r.__filtered__&&(t>0||e<0)?new Gr(r):(t<0?r=r.takeRight(-t):t&&(r=r.drop(t)),e!==i&&(r=(e=ba(e))<0?r.dropRight(-e):r.take(e-t)),r)},Gr.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Gr.prototype.toArray=function(){return this.take(g)},_n(Gr.prototype,(function(t,e){var r=/^(?:filter|find|map|reject)|While$/.test(e),n=/^(?:head|last)$/.test(e),o=zr[n?"take"+("last"==e?"Right":""):e],s=n||/^find/.test(e);o&&(zr.prototype[e]=function(){var e=this.__wrapped__,a=n?[1]:arguments,u=e instanceof Gr,f=a[0],c=u||Vs(e),h=function(t){var e=o.apply(zr,Ne([t],a));return n&&d?e[0]:e};c&&r&&"function"==typeof f&&1!=f.length&&(u=c=!1);var d=this.__chain__,l=!!this.__actions__.length,p=s&&!d,b=u&&!l;if(!s&&c){e=b?e:new Gr(this);var g=t.apply(e,a);return g.__actions__.push({func:ps,args:[h],thisArg:i}),new Wr(g,d)}return p&&b?t.apply(this,a):(g=this.thru(h),p?n?g.value()[0]:g.value():g)})})),Te(["pop","push","shift","sort","splice","unshift"],(function(t){var e=It[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",n=/^(?:pop|shift)$/.test(t);zr.prototype[t]=function(){var t=arguments;if(n&&!this.__chain__){var i=this.value();return e.apply(Vs(i)?i:[],t)}return this[r]((function(r){return e.apply(Vs(r)?r:[],t)}))}})),_n(Gr.prototype,(function(t,e){var r=zr[e];if(r){var n=r.name+"";Nt.call(Ir,n)||(Ir[n]=[]),Ir[n].push({name:e,func:r})}})),Ir[Fi(i,2).name]=[{name:"wrapper",func:i}],Gr.prototype.clone=function(){var t=new Gr(this.__wrapped__);return t.__actions__=Pi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Pi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Pi(this.__views__),t},Gr.prototype.reverse=function(){if(this.__filtered__){var t=new Gr(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Gr.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,r=Vs(t),n=e<0,i=r?t.length:0,o=function(t,e,r){var n=-1,i=r.length;for(;++n<i;){var o=r[n],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=vr(e,t+s);break;case"takeRight":t=yr(t,e-s)}}return{start:t,end:e}}(0,i,this.__views__),s=o.start,a=o.end,u=a-s,f=n?a:s-1,c=this.__iteratees__,h=c.length,d=0,l=vr(u,this.__takeCount__);if(!r||!n&&i==u&&l==u)return bi(t,this.__actions__);var p=[];t:for(;u--&&d<l;){for(var b=-1,g=t[f+=e];++b<h;){var m=c[b],y=m.iteratee,v=m.type,w=y(g);if(2==v)g=w;else if(!w){if(1==v)continue t;break t}}p[d++]=g}return p},zr.prototype.at=bs,zr.prototype.chain=function(){return ls(this)},zr.prototype.commit=function(){return new Wr(this.value(),this.__chain__)},zr.prototype.next=function(){this.__values__===i&&(this.__values__=la(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?i:this.__values__[this.__index__++]}},zr.prototype.plant=function(t){for(var e,r=this;r instanceof jr;){var n=zo(r);n.__index__=0,n.__values__=i,e?o.__wrapped__=n:e=n;var o=n;r=r.__wrapped__}return o.__wrapped__=t,e},zr.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Gr){var e=t;return this.__actions__.length&&(e=new Gr(this)),(e=e.reverse()).__actions__.push({func:ps,args:[es],thisArg:i}),new Wr(e,this.__chain__)}return this.thru(es)},zr.prototype.toJSON=zr.prototype.valueOf=zr.prototype.value=function(){return bi(this.__wrapped__,this.__actions__)},zr.prototype.first=zr.prototype.head,Zt&&(zr.prototype[Zt]=function(){return this}),zr}();be._=mr,(n=function(){return mr}.call(e,r,e,t))===i||(t.exports=n)}.call(this)},9552:function(t,e,r){var n,i;n=function(t){"use strict";var e,r,n=function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(e in arguments[r])Object.prototype.hasOwnProperty.call(arguments[r],e)&&(t[e]=arguments[r][e]);return t},i={template:"[%t] %l:",levelFormatter:function(t){return t.toUpperCase()},nameFormatter:function(t){return t||"root"},timestampFormatter:function(t){return t.toTimeString().replace(/.*(\d{2}:\d{2}:\d{2}).*/,"$1")},format:void 0},o={},s=function(t,r){if(!t||!t.setLevel)throw new TypeError("Argument is not a logger");var s=t.methodFactory,a=t.name||"",u=o[a]||o[""]||i;function f(t,e,r){var n=s(t,e,r),i=o[r]||o[""],u=-1!==i.template.indexOf("%t"),f=-1!==i.template.indexOf("%l"),c=-1!==i.template.indexOf("%n");return function(){for(var e="",s=arguments.length,h=Array(s),d=0;d<s;d++)h[d]=arguments[d];if(a||!o[r]){var l=i.timestampFormatter(new Date),p=i.levelFormatter(t),b=i.nameFormatter(r);i.format?e+=i.format(p,b,l):(e+=i.template,u&&(e=e.replace(/%t/,l)),f&&(e=e.replace(/%l/,p)),c&&(e=e.replace(/%n/,b))),h.length&&"string"==typeof h[0]?h[0]=e+" "+h[0]:h.unshift(e)}n.apply(void 0,h)}}return o[a]||(t.methodFactory=f),(r=r||{}).template&&(r.format=void 0),o[a]=n({},u,r),t.setLevel(t.getLevel()),e||t.warn("It is necessary to call the function reg() of loglevel-plugin-prefix before calling apply. From the next release, it will throw an error. See more: https://github.com/kutuluk/loglevel-plugin-prefix/blob/master/README.md"),t},a={reg:function(t){if(!t||!t.getLogger)throw new TypeError("Argument is not a root logger");e=t},apply:s};return t&&(r=t.prefix,a.noConflict=function(){return t.prefix===a&&(t.prefix=r),a}),a},void 0===(i="function"==typeof n?n.call(e,r,e,t):n)||(t.exports=i)},9640:function(t,e,r){var n,i;!function(o,s){"use strict";n=function(){var t=function(){},e="undefined",r=typeof window!==e&&typeof window.navigator!==e&&/Trident\/|MSIE /.test(window.navigator.userAgent),n=["trace","debug","info","warn","error"];function i(t,e){var r=t[e];if("function"==typeof r.bind)return r.bind(t);try{return Function.prototype.bind.call(r,t)}catch(e){return function(){return Function.prototype.apply.apply(r,[t,arguments])}}}function o(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function s(n){return"debug"===n&&(n="log"),typeof console!==e&&("trace"===n&&r?o:void 0!==console[n]?i(console,n):void 0!==console.log?i(console,"log"):t)}function a(e,r){for(var i=0;i<n.length;i++){var o=n[i];this[o]=i<e?t:this.methodFactory(o,e,r)}this.log=this.debug}function u(t,r,n){return function(){typeof console!==e&&(a.call(this,r,n),this[t].apply(this,arguments))}}function f(t,e,r){return s(t)||u.apply(this,arguments)}function c(t,r,i){var o,s=this;r=null==r?"WARN":r;var u="loglevel";function c(t){var r=(n[t]||"silent").toUpperCase();if(typeof window!==e&&u){try{return void(window.localStorage[u]=r)}catch(t){}try{window.document.cookie=encodeURIComponent(u)+"="+r+";"}catch(t){}}}function h(){var t;if(typeof window!==e&&u){try{t=window.localStorage[u]}catch(t){}if(typeof t===e)try{var r=window.document.cookie,n=r.indexOf(encodeURIComponent(u)+"=");-1!==n&&(t=/^([^;]+)/.exec(r.slice(n))[1])}catch(t){}return void 0===s.levels[t]&&(t=void 0),t}}function d(){if(typeof window!==e&&u){try{return void window.localStorage.removeItem(u)}catch(t){}try{window.document.cookie=encodeURIComponent(u)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(t){}}}"string"==typeof t?u+=":"+t:"symbol"==typeof t&&(u=void 0),s.name=t,s.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},s.methodFactory=i||f,s.getLevel=function(){return o},s.setLevel=function(r,n){if("string"==typeof r&&void 0!==s.levels[r.toUpperCase()]&&(r=s.levels[r.toUpperCase()]),!("number"==typeof r&&r>=0&&r<=s.levels.SILENT))throw"log.setLevel() called with invalid level: "+r;if(o=r,!1!==n&&c(r),a.call(s,r,t),typeof console===e&&r<s.levels.SILENT)return"No console available for logging"},s.setDefaultLevel=function(t){r=t,h()||s.setLevel(t,!1)},s.resetLevel=function(){s.setLevel(r,!1),d()},s.enableAll=function(t){s.setLevel(s.levels.TRACE,t)},s.disableAll=function(t){s.setLevel(s.levels.SILENT,t)};var l=h();null==l&&(l=r),s.setLevel(l,!1)}var h=new c,d={};h.getLogger=function(t){if("symbol"!=typeof t&&"string"!=typeof t||""===t)throw new TypeError("You must supply a name when creating a logger.");var e=d[t];return e||(e=d[t]=new c(t,h.getLevel(),h.methodFactory)),e};var l=typeof window!==e?window.log:void 0;return h.noConflict=function(){return typeof window!==e&&window.log===h&&(window.log=l),h},h.getLoggers=function(){return d},h.default=h,h},void 0===(i="function"==typeof n?n.call(e,r,e,t):n)||(t.exports=i)}()},9561:t=>{function e(t,e){if(!t)throw new Error(e||"Assertion failed")}t.exports=e,e.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)}},3022:(t,e)=>{"use strict";var r=e;function n(t){return 1===t.length?"0"+t:t}function i(t){for(var e="",r=0;r<t.length;r++)e+=n(t[r].toString(16));return e}r.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"!=typeof t){for(var n=0;n<t.length;n++)r[n]=0|t[n];return r}if("hex"===e){(t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t);for(n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(n=0;n<t.length;n++){var i=t.charCodeAt(n),o=i>>8,s=255&i;o?r.push(o,s):r.push(s)}return r},r.zero2=n,r.toHex=i,r.encode=function(t,e){return"hex"===e?i(t):t}},2526:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TX_VERSION=e.NEP2_FLAG=e.NEP2_HEADER=e.DEFAULT_ACCOUNT_CONTRACT=e.DEFAULT_WALLET=e.DEFAULT_SCRYPT=e.DEFAULT_REQ=e.ASSET_ID=e.NATIVE_CONTRACT_HASH=e.MAGIC_NUMBER=e.DEFAULT_ADDRESS_VERSION=e.ADDR_VERSION=void 0,e.ADDR_VERSION="35",e.DEFAULT_ADDRESS_VERSION=53,function(t){t[t.MainNet=860833102]="MainNet",t[t.TestNet=894710606]="TestNet",t[t.SoloNet=1234567890]="SoloNet"}(e.MAGIC_NUMBER||(e.MAGIC_NUMBER={})),function(t){t.NeoToken="ef4073a0f2b305a38ec4050e4d3d28bc40ea63f5",t.GasToken="d2a4cff31913016155e38e474a2c06d08be276cf",t.PolicyContract="cc5e4edd9f5f8dba8bb65734541df7a1c081c67b",t.ManagementContract="fffdc93764dbaddd97c48f252a53ea4643faa3fd",t.OracleContract="fe924b7cfe89ddd271abaf7210a80a7e11178758",t.LedgerContract="da65b600f7124ce6c79950c1772a36403104f2be",t.RoleManagement="49cf4e5378ffcd4dec034fd98a174c5491e395e2",t.StdLib="acce6fd80d44e1796aa0c2c625e9e4e0ce39efc0",t.CryptoLib="726cb6e0cd8628a1350a611384688911ab75f51b"}(e.NATIVE_CONTRACT_HASH||(e.NATIVE_CONTRACT_HASH={})),e.ASSET_ID={NEO:"de5f57d430d3dece511cf975a8d37848cb9e0525",GAS:"668e0c1f9d7b70a99dd9e06eadd4c784d641afbc"},e.DEFAULT_REQ={jsonrpc:"2.0",method:"getblockcount",params:[],id:1234},e.DEFAULT_SCRYPT={n:16384,r:8,p:8,size:64},e.DEFAULT_WALLET={name:"myWallet",version:"1.0",scrypt:e.DEFAULT_SCRYPT,extra:null},e.DEFAULT_ACCOUNT_CONTRACT={script:"",parameters:[{name:"signature",type:"Signature"}],deployed:!1},e.NEP2_HEADER="0142",e.NEP2_FLAG="e0",e.TX_VERSION=0},6097:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return i(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.logging=e.CONST=e.u=e.wallet=e.tx=e.sc=e.rpc=void 0;const s=o(r(2526));e.CONST=s;const a=o(r(7710));e.logging=a;const u=o(r(1932));e.rpc=u;const f=o(r(7885));e.sc=f;const c=o(r(9416));e.tx=c;const h=o(r(2287));e.u=h;const d=o(r(5914));e.wallet=d},3831:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseEnum=void 0,e.parseEnum=function(t,e){if("string"==typeof t){if(t in e)return e[t];throw new Error(`${t} not found in enum!`)}return t}},7710:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.logger=e.setAll=void 0;const i=n(r(9640)),o=n(r(9552));o.default.reg(i.default),i.default.setDefaultLevel("silent"),e.setAll=function(t){Object.keys(i.default.getLoggers()).map((e=>{i.default.getLogger(e).setLevel(t)}))};const s=(t,e,r)=>`[${r??(new Date).toUTCString()}] (${e}) ${t=t.toUpperCase()}: `;e.default=t=>{const e=i.default.getLogger(t);return o.default.apply(e,{format:s}),e},e.logger=i.default},4791:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BatchQuery=void 0;class r{constructor(t){this.queries=[t]}add(t){return this.queries.push(t),this}static of(t){return new r(t)}}e.BatchQuery=r},2298:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Network=void 0;const i=n(r(5279));function o(t,e){return t.length===e.length&&t.every((t=>e.indexOf(t)>=0))}class s{constructor(t={},e=null){this.name=t.Name||t.name||e||"RandomNet";const r=Object.assign({},t.protocol||t.ProtocolConfiguration||{});this.protocol=new i.default(r),this.nodes=t.Nodes||t.nodes||[],this.extra=Object.assign({},t.ExtraConfiguration||t.extra||{})}export(){return{name:this.name,protocol:this.protocol.export(),extra:this.extra,nodes:this.nodes}}toConfiguration(){return{Name:this.name,ProtocolConfiguration:this.protocol.toConfiguration(),ExtraConfiguration:this.extra,Nodes:this.nodes}}equals(t){return this.name===t.name&&this.protocol.equals(t.protocol??{})&&o(this.nodes,t.nodes??[])&&function(t,e){const r=Array.from(t.keys??[]);return!!o(r,Array.from(e.keys??[]))&&r.every((r=>t[r]===e[r]))}(this.extra,t.extra??{})}}e.Network=s,e.default=s},5279:(t,e)=>{"use strict";function r(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}Object.defineProperty(e,"__esModule",{value:!0}),e.Protocol=void 0;class n{constructor(t={}){this.magic=t.magic??t.Magic??0,this.addressVersion=t.addressVersion??t.AddressVersion??53,this.standbyValidators=t.standbyValidators??t.StandbyValidators??[],this.seedList=t.seedList??t.SeedList??[]}get[Symbol.toStringTag](){return"Protocol"}export(){return{magic:this.magic,addressVersion:this.addressVersion,standbyValidators:this.standbyValidators,seedList:this.seedList}}toConfiguration(){return{Magic:this.magic,AddressVersion:this.addressVersion,StandbyValidators:this.standbyValidators,SeedList:this.seedList}}equals(t){return this.magic===(t.magic??t.Magic)&&this.addressVersion===(t.addressVersion??t.AddressVersion)&&r(this.seedList,t.seedList??t.SeedList??[])&&r(this.standbyValidators,t.standbyValidators??t.StandbyValidators??[])}}e.Protocol=n,e.default=n},4849:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Query=void 0;const n=r(2526),i=r(9416),o=r(7885),s=r(2287),a=r(6635);function u(t){return t instanceof i.Transaction?s.HexString.fromHex(t.serialize(!0)).toBase64():t instanceof s.HexString?t.toBase64():t}function f(t){return null!=t&&"object"==typeof t}class c{static traverseIterator(t,e,r){return new c({method:"traverseiterator",params:[t,e,r]})}static calculateNetworkFee(t){const e=u(t);return new c({method:"calculatenetworkfee",params:[e]})}static getBestBlockHash(){return new c({method:"getbestblockhash"})}static getApplicationLog(t){return new c({method:"getapplicationlog",params:[t]})}static getBlock(t,e=0){return new c({method:"getblock",params:[t,e]})}static getBlockCount(){return new c({method:"getblockcount",params:[]})}static getBlockHash(t){return new c({method:"getblockhash",params:[t]})}static getBlockHeader(t,e=0){return new c({method:"getblockheader",params:[t,e]})}static getCommittee(){return new c({method:"getcommittee"})}static getConnectionCount(){return new c({method:"getconnectioncount"})}static getContractState(t){return new c({method:"getcontractstate",params:[t]})}static getNativeContracts(){return new c({method:"getnativecontracts"})}static getNep11Balances(t){return new c({method:"getnep11balances",params:[t]})}static getNep11Properties(t,e){return new c({method:"getnep11properties",params:[t,e]})}static getNep11Transfers(t,e,r){const n=[t];return e&&n.push(e),r&&n.push(r),new c({method:"getnep17transfers",params:n})}static getNep17Transfers(t,e,r){const n=[t];return e&&n.push(e),r&&n.push(r),new c({method:"getnep17transfers",params:n})}static getNep17Balances(t){return new c({method:"getnep17balances",params:[t]})}static getPeers(){return new c({method:"getpeers"})}static getRawMemPool(t=0){return new c({method:"getrawmempool",params:[t]})}static getRawTransaction(t,e=0){return new c({method:"getrawtransaction",params:[t,e]})}static getStorage(t,e){return new c({method:"getstorage",params:[t,s.HexString.fromHex(e).toBase64()]})}static getTransactionHeight(t){return new c({method:"gettransactionheight",params:[t]})}static getNextBlockValidators(){return new c({method:"getnextblockvalidators"})}static getVersion(){return new c({method:"getversion"})}static invokeContractVerify(t,e=[],r=[]){return new c({method:"invokecontractverify",params:[t,e.map((t=>t instanceof o.ContractParam?t.toJson():t)),r.map((t=>t instanceof i.Signer?t.toJson():t))]})}static invokeFunction(t,e,r=[],n=[]){return new c({method:"invokefunction",params:[t,e,r.map((t=>t instanceof o.ContractParam?t.toJson():t)),n.map((t=>t instanceof i.Signer?t.toJson():t))]})}static invokeScript(t,e=[]){return new c({method:"invokescript",params:[t instanceof s.HexString?t.toBase64():t,e.map((t=>t instanceof i.Signer?t.toJson():t))]})}static listPlugins(){return new c({method:"listplugins",params:[]})}static sendRawTransaction(t){const e=u(t);return new c({method:"sendrawtransaction",params:[e]})}static submitBlock(t){return new c({method:"submitblock",params:[t]})}static validateAddress(t){return new c({method:"validateaddress",params:[t]})}static getUnclaimedGas(t){return new c({method:"getunclaimedgas",params:[t]})}constructor(t){this.id=t?.id??n.DEFAULT_REQ.id,this.method=t?.method??n.DEFAULT_REQ.method,this.params=t?.params??[]}get[Symbol.toStringTag](){return"Query"}export(){return{params:this.params,jsonrpc:"2.0",id:this.id,method:this.method}}equals(t){if(this.id!==t.id&&this.method!==t.method)return!1;if(Array.isArray(this.params)&&Array.isArray(t.params)){const e=t.params;return this.params.length===e.length&&this.params.every(((t,r)=>e[r]===t))}return!(!f(this.params)||!f(t.params))&&(0,a.isEqual)(this.params,t.params)}}e.Query=c,e.default=c},6236:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RPCClient=void 0;const n=r(5645),i=r(5382);class o extends((0,i.TokenTrackerRpcMixin)((0,i.ApplicationLogsRpcMixin)((0,n.NeoServerRpcMixin)(i.RpcDispatcher)))){get[Symbol.toStringTag](){return`FullRpcClient(${this.url})`}}class s extends o{constructor(t){super(t),this.net=t,this.history=[],this.lastSeenHeight=0,this._latencies=[]}get[Symbol.toStringTag](){return`RPC Client(${this.net})`}get latency(){return 0===this._latencies.length?99999:Math.floor(this._latencies.reduce(((t,e)=>t+e),0)/this._latencies.length)}set latency(t){this._latencies.length>4&&this._latencies.shift(),this._latencies.push(t)}async ping(){const t=Date.now();try{const e=await this.getBlockCount();this.lastSeenHeight=e;const r=Date.now()-t;return this.latency=r,r}catch(t){return this.latency=2e3,2e3}}}e.RPCClient=s,e.default=s},270:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ApplicationLogsRpcClient=e.ApplicationLogsRpcMixin=void 0;const i=n(r(4849)),o=r(896);function s(t){return class extends t{async getApplicationLog(t){return await this.execute(i.default.getApplicationLog(t))}}}e.ApplicationLogsRpcMixin=s;class a extends(s(o.RpcDispatcher)){get[Symbol.toStringTag](){return`ApplicationLogsRpcClient(${this.url})`}}e.ApplicationLogsRpcClient=a},5645:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NeoServerRpcClient=e.NeoServerRpcMixin=void 0;const n=r(4849),i=r(896);function o(t){return class extends t{async traverseIterator(t,e,r){return await this.execute(n.Query.traverseIterator(t,e,r))}async getBestBlockHash(){return await this.execute(n.Query.getBestBlockHash())}async getBlock(t,e){return e?await this.execute(n.Query.getBlock(t,1)):await this.execute(n.Query.getBlock(t,0))}async getBlockHash(t){return await this.execute(n.Query.getBlockHash(t))}async getBlockCount(){return await this.execute(n.Query.getBlockCount())}async getBlockHeader(t,e){return e?await this.execute(n.Query.getBlockHeader(t,1)):await this.execute(n.Query.getBlockHeader(t,0))}async getCommittee(){return await this.execute(n.Query.getCommittee())}async getContractState(t){return await this.execute(n.Query.getContractState(t))}async getNativeContracts(){return await this.execute(n.Query.getNativeContracts())}async getRawMemPool(t=0){return t?await this.execute(n.Query.getRawMemPool(1)):await this.execute(n.Query.getRawMemPool(0))}async getRawTransaction(t,e){return e?await this.execute(n.Query.getRawTransaction(t,1)):await this.execute(n.Query.getRawTransaction(t,0))}async getStorage(t,e){return await this.execute(n.Query.getStorage(t,e))}async getTransactionHeight(t){return await this.execute(n.Query.getTransactionHeight(t))}async getConnectionCount(){return await this.execute(n.Query.getConnectionCount())}async getNextBlockValidators(){return await this.execute(n.Query.getNextBlockValidators())}async getPeers(){return await this.execute(n.Query.getPeers())}async getVersion(){return await this.execute(n.Query.getVersion())}async sendRawTransaction(t){return(await this.execute(n.Query.sendRawTransaction(t))).hash}async submitBlock(t){return(await this.execute(n.Query.submitBlock(t))).hash}async getUnclaimedGas(t){return(await this.execute(n.Query.getUnclaimedGas(t))).unclaimed}async invokeContractVerify(t,e,r=[]){return await this.execute(n.Query.invokeContractVerify(t,e,r))}async invokeFunction(t,e,r=[],i=[]){return await this.execute(n.Query.invokeFunction(t,e,r,i))}async invokeScript(t,e=[]){return await this.execute(n.Query.invokeScript(t,e))}async calculateNetworkFee(t){return(await this.execute(n.Query.calculateNetworkFee(t))).networkfee}async listPlugins(){return await this.execute(n.Query.listPlugins())}async validateAddress(t){return(await this.execute(n.Query.validateAddress(t))).isvalid}}}e.NeoServerRpcMixin=o;class s extends(o(i.RpcDispatcher)){get[Symbol.toStringTag](){return`NeoServerRpcClient(${this.url})`}}e.NeoServerRpcClient=s},896:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.RpcError=e.RpcDispatcher=e.sendQueryList=e.sendQuery=void 0;const i=n(r(7710)),o=r(6279),s=(0,i.default)("rpc");async function a(t,e,r={}){s.info(`RPC: ${t} executing Query[${e.method}]`);const n=f(e.export(),r),i=await(0,o.fetch)(t,n);if(i.ok)return i.json();throw new Error(`Encountered HTTP code ${i.status} while executing Query[${e.method}]`)}async function u(t,e,r={}){const n=f(e.map((t=>t.export())),r),i=await(0,o.fetch)(t,n);if(i.ok)return i.json();throw new Error(`Encountered HTTP code ${i.status} while executing Query[${e.map((t=>t.method)).join(",")}]`)}function f(t,e){const r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};if(e.timeout){const t=new AbortController;setTimeout((()=>t.abort()),e.timeout),r.signal=t.signal}return r}e.sendQuery=a,e.sendQueryList=u;e.RpcDispatcher=class{constructor(t){if(!t.startsWith("http://")&&!t.startsWith("https://"))throw new Error("Please provide an url that starts with http:// or https://");this.url=t}async execute(t,e){const r=await a(this.url,t,e??{});if(r.error)throw new c(r.error);return r.result}async executeAll(t,e){const r=await u(this.url,Array.isArray(t)?t:t.queries,e??{});if(r.some((t=>t.error))){const t={};throw r.forEach(((e,r)=>{e.error&&(t[`query[${r}]`]=e.error)})),new c({code:-1,message:JSON.stringify(t)})}return r.map((t=>t.result))}};class c extends Error{constructor(t){super(t.message),this.code=t.code}}e.RpcError=c},7242:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenTrackerRpcClient=e.TokenTrackerRpcMixin=void 0;const n=r(4849),i=r(896);function o(t){return class extends t{async getNep17Transfers(t,e,r){return this.execute(n.Query.getNep17Transfers(t,e,r))}async getNep17Balances(t){return this.execute(n.Query.getNep17Balances(t))}async getNep11Transfers(t,e,r){return this.execute(n.Query.getNep11Transfers(t,e,r))}async getNep11Balances(t){return this.execute(n.Query.getNep11Balances(t))}}}e.TokenTrackerRpcMixin=o;class s extends(o(i.RpcDispatcher)){get[Symbol.toStringTag](){return`TokenTrackerRpcClient(${this.url})`}}e.TokenTrackerRpcClient=s},5382:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r(896),e),i(r(270),e),i(r(7242),e),i(r(5645),e)},1932:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r(2298),e),i(r(5279),e),i(r(4849),e),i(r(6236),e),i(r(6047),e),i(r(5382),e),i(r(4791),e)},6047:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleParser=e.StringParser=e.IntegerParser=e.NoOpParser=e.buildParser=void 0;const n=r(2287);function i(t){if("InteropInterface"===t.type)throw new Error("Impossible to get value from InteropInterface type");if("string"!=typeof t.value)throw new Error("value received is not a string");return parseInt(t.value||"0",10)}function o(t){if("InteropInterface"===t.type)throw new Error("Impossible to get value from InteropInterface type");if("string"!=typeof t.value)throw new Error("value received is not a string");return(0,n.hexstring2str)(t.value)}e.buildParser=function(...t){return e=>{if(e.stack.length!==t.length)throw new Error(`Wrong number of items to parse! Expected ${t.length} but got ${e.stack.length}!`);return e.stack.map(((e,r)=>t[r](e)))}},e.NoOpParser=function(t){if("InteropInterface"===t.type)throw new Error("Impossible to get value from InteropInterface type");return t.value},e.IntegerParser=i,e.StringParser=o,e.SimpleParser=function(t){return t.stack.map((t=>{switch(t.type){case"ByteString":return o(t);case"Integer":return i(t);default:throw Error(`Unknown type: ${t.type}`)}}))}},495:(t,e)=>{"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.CallFlags=void 0,function(t){t[t.None=0]="None",t[t.ReadStates=1]="ReadStates",t[t.WriteStates=2]="WriteStates",t[t.AllowCall=4]="AllowCall",t[t.AllowNotify=8]="AllowNotify",t[t.States=3]="States",t[t.ReadOnly=5]="ReadOnly",t[t.All=15]="All"}(r=e.CallFlags||(e.CallFlags={})),e.default=r},897:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.likeContractParam=e.ContractParam=e.ContractParamType=void 0;const n=r(2287),i=r(5914),o=r(3831);var s;!function(t){t[t.Any=0]="Any",t[t.Boolean=16]="Boolean",t[t.Integer=17]="Integer",t[t.ByteArray=18]="ByteArray",t[t.String=19]="String",t[t.Hash160=20]="Hash160",t[t.Hash256=21]="Hash256",t[t.PublicKey=22]="PublicKey",t[t.Signature=23]="Signature",t[t.Array=32]="Array",t[t.Map=34]="Map",t[t.InteropInterface=48]="InteropInterface",t[t.Void=255]="Void"}(s=e.ContractParamType||(e.ContractParamType={}));class a{static any(t=null){return new a({type:s.Any,value:t})}static string(t){return new a({type:s.String,value:t})}static boolean(t){return new a({type:s.Boolean,value:!!t})}static publicKey(t){const e=t instanceof n.HexString?t.toBigEndian():t;if(!(0,i.isPublicKey)(e))throw new Error(`publicKey expected valid public key but got ${e}`);return new a({type:s.PublicKey,value:n.HexString.fromHex(e)})}static hash160(t){const e=t instanceof n.HexString?t:n.HexString.fromHex((0,i.isAddress)(t)?(0,i.getScriptHashFromAddress)(t):t);if(20!==e.byteLength)throw new Error(`hash160 expected 20 bytes but got ${e.byteLength} bytes instead.`);return new a({type:s.Hash160,value:e})}static hash256(t){const e=t instanceof n.HexString?t:n.HexString.fromHex(t);if(32!==e.byteLength)throw new Error(`hash256 expected 32 bytes but got ${e.byteLength} bytes instead.`);return new a({type:s.Hash256,value:e})}static integer(t){if("string"==typeof t)return new a({type:s.Integer,value:t.split(".")[0]});if("number"==typeof t)return new a({type:s.Integer,value:Math.round(t).toString()});if(t instanceof n.BigInteger)return new a({type:s.Integer,value:t.toString()});throw new Error(`Unknown input provided: ${t}`)}static byteArray(t){if("string"==typeof t)return new a({type:s.ByteArray,value:n.HexString.fromBase64(t,!0)});if(t instanceof n.HexString)return new a({type:s.ByteArray,value:t});throw new Error(`Unknown input provided: ${t}`)}static void(){return new a({type:s.Void})}static array(...t){const e=t.map((t=>a.fromJson(t)));return new a({type:s.Array,value:e})}static validateMap(t){const e=[s.String,s.Boolean,s.Integer,s.ByteArray];t.forEach((t=>{if("object"!=typeof t||!("key"in t)||!("value"in t))throw new Error("Please provide a valid map for value");if(!e.includes((0,o.parseEnum)(t.key.type,s)))throw new Error("Map keys only support primitive types")}))}static parseMap(t){this.validateMap(t);return t.map((t=>({key:t.key instanceof a?t.key:a.fromJson(t.key),value:t.value instanceof a?t.value:a.fromJson(t.value)})))}static map(...t){const e=this.parseMap(t);return new a({type:s.Map,value:e})}constructor(t){if("object"!=typeof t)throw new Error("Please provide an object for constructing ContractParam.");if(t instanceof a)return this.type=t.type,void(this.value=t.value);if(void 0===t.type)throw new Error("Please provide a type for ContractParam.");this.type=(0,o.parseEnum)(t.type,s);const e=t.value;switch(this.type){case s.Any:if(e instanceof n.HexString)return void(this.value=e.toBigEndian());if("string"==typeof e||null===e)return void(this.value=e);throw new Error("Please provide a hexstring for value!");case s.Boolean:if("boolean"==typeof e)return void(this.value=e);throw new Error("Please provide a boolean for value!");case s.ByteArray:case s.Hash160:case s.Hash256:case s.PublicKey:if(e instanceof n.HexString)return void(this.value=e);throw new Error("Please provide a HexString for value!");case s.Integer:case s.String:if("string"==typeof e)return void(this.value=e);throw new Error("Please provide a string for value!");case s.Array:if(Array.isArray(e))return void(this.value=e.map((t=>a.fromJson(t))));throw new Error("Please provide an array for value!");case s.Void:if(null==e)return void(this.value=null);throw new Error("Void should not have any value provided.");case s.Map:return void(this.value=a.parseMap(e));default:throw new Error(`${s[this.type]} not supported!`)}}get[Symbol.toStringTag](){return"ContractParam:"+s[this.type]}static fromJson(t){if(t instanceof a)return new a(t);const e=(0,o.parseEnum)(t.type,s),r=t.value;switch(e){case s.Any:if("string"==typeof r||r instanceof n.HexString||null==r)return a.any(r);break;case s.Array:if(Array.isArray(r))return a.array(...r);break;case s.Boolean:if("string"==typeof r||"number"==typeof r||"boolean"==typeof r)return a.boolean(r);break;case s.ByteArray:if("string"==typeof r||r instanceof n.HexString)return a.byteArray(r);break;case s.Hash160:if("string"==typeof r||r instanceof n.HexString)return a.hash160(r);break;case s.Hash256:if("string"==typeof r||r instanceof n.HexString)return a.hash256(r);break;case s.PublicKey:if("string"==typeof r||r instanceof n.HexString)return a.publicKey(r);break;case s.Integer:if("string"==typeof r||"number"==typeof r)return a.integer(r);break;case s.String:if("string"==typeof r)return a.string(r);break;case s.Void:return a.void();case s.Map:if(Array.isArray(r))return a.map(...r);break;default:throw new Error(`${s[e]} not supported!`)}throw new Error(`got ${typeof r} which is not convertable to ${s[e]}`)}export(){return this.toJson()}toJson(){switch(this.type){case s.Any:return{type:s[this.type],value:this.value instanceof n.HexString?this.value.toBigEndian():this.value};case s.Void:return{type:s[this.type],value:null};case s.ByteArray:return{type:s[this.type],value:this.value.toBase64(!0)};case s.Hash160:case s.Hash256:case s.PublicKey:return{type:s[this.type],value:this.value.toBigEndian()};case s.Array:return{type:s[this.type],value:this.value.map((t=>t.toJson()))};case s.Boolean:case s.Integer:case s.String:return{type:s[this.type],value:this.value};case s.Map:return{type:s[this.type],value:this.value.map((t=>({key:t.key.toJson(),value:t.value.toJson()})))};default:throw new Error("Unsupported!")}}equals(t){if(this.type===(0,o.parseEnum)(t.type,s))switch(this.type){case s.Array:return!(!Array.isArray(this.value)||!Array.isArray(t.value)||this.value.length!==t.value.length)&&this.value.every(((e,r)=>e.equals(t.value[r])));case s.Map:return!(!Array.isArray(this.value)||!Array.isArray(t.value)||this.value.length!==t.value.length)&&this.value.every(((e,r)=>e.key.equals(t.value[r].key)&&e.value.equals(t.value[r].value)));case s.ByteArray:case s.Hash160:case s.Hash256:case s.PublicKey:return(t.value instanceof n.HexString||"string"==typeof t.value)&&this.value.equals(t.value);case s.Integer:return"number"==typeof t.value?this.value===t.value.toString():"string"==typeof t.value&&this.value===t.value;case s.Void:return!0;case s.Boolean:case s.String:default:return this.value===t.value}return!1}}e.ContractParam=a,e.default=a,e.likeContractParam=function(t){return null!=t&&(t instanceof a||("Any"===t.type&&null===t.value||void 0!==t.type&&t.type in s&&null!==t.value&&void 0!==t.value))}},3858:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fromMethodName=e.generateInteropServiceCode=e.InteropServiceCode=void 0;const n=r(2287);var i;!function(t){t.SYSTEM_CONTRACT_CALL="627d5b52",t.SYSTEM_CONTRACT_CALLNATIVE="1af77b67",t.SYSTEM_CONTRACT_CREATEMULTISIGACCOUNT="6a33e909",t.SYSTEM_CONTRACT_CREATESTANDARDACCOUNT="cf998702",t.SYSTEM_CONTRACT_GETCALLFLAGS="95da3a81",t.SYSTEM_CONTRACT_NATIVEONPERSIST="2edbbc93",t.SYSTEM_CONTRACT_NATIVEPOSTPERSIST="44a15d16",t.SYSTEM_CRYPTO_CHECKMULTISIG="9ed0dc3a",t.SYSTEM_CRYPTO_CHECKSIG="56e7b327",t.SYSTEM_ITERATOR_NEXT="9c08ed9c",t.SYSTEM_ITERATOR_VALUE="f354bf1d",t.SYSTEM_RUNTIME_BURNGAS="c35a8cbc",t.SYSTEM_RUNTIME_CHECKWITNESS="f827ec8c",t.SYSTEM_RUNTIME_GASLEFT="1488d8ce",t.SYSTEM_RUNTIME_GETADDRESSVERSION="4c4992dc",t.SYSTEM_RUNTIME_GETCALLINGSCRIPTHASH="39536e3c",t.SYSTEM_RUNTIME_GETENTRYSCRIPTHASH="f9b4e238",t.SYSTEM_RUNTIME_GETEXECUTINGSCRIPTHASH="dbfea874",t.SYSTEM_RUNTIME_GETINVOCATIONCOUNTER="84271143",t.SYSTEM_RUNTIME_GETNETWORK="c5fba0e0",t.SYSTEM_RUNTIME_GETNOTIFICATIONS="274335f1",t.SYSTEM_RUNTIME_GETRANDOM="6bdea928",t.SYSTEM_RUNTIME_GETSCRIPTCONTAINER="2d510830",t.SYSTEM_RUNTIME_GETTIME="b7c38803",t.SYSTEM_RUNTIME_GETTRIGGER="e97d38a0",t.SYSTEM_RUNTIME_LOG="cfe74796",t.SYSTEM_RUNTIME_NOTIFY="95016f61",t.SYSTEM_RUNTIME_PLATFORM="b279fcf6",t.SYSTEM_STORAGE_ASREADONLY="764cbfe9",t.SYSTEM_STORAGE_DELETE="2f58c5ed",t.SYSTEM_STORAGE_FIND="df30b89a",t.SYSTEM_STORAGE_GET="925de831",t.SYSTEM_STORAGE_GETCONTEXT="9bf667ce",t.SYSTEM_STORAGE_GETREADONLYCONTEXT="f6b46be2",t.SYSTEM_STORAGE_PUT="e63f1884"}(i=e.InteropServiceCode||(e.InteropServiceCode={})),e.default=i,e.generateInteropServiceCode=function(t){const e=(0,n.str2hexstring)(t);return(0,n.sha256)(e).slice(0,8)},e.fromMethodName=function(t){const e=t.toUpperCase().replace(".","_");if(e in i)return i[e];throw new Error("Method name not found in InteropServiceCode!")}},3226:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getInteropServicePrice=void 0;const n=r(3858),i={[n.InteropServiceCode.SYSTEM_CONTRACT_CALL]:32768,[n.InteropServiceCode.SYSTEM_CONTRACT_CALLNATIVE]:0,[n.InteropServiceCode.SYSTEM_CONTRACT_CREATEMULTISIGACCOUNT]:256,[n.InteropServiceCode.SYSTEM_CONTRACT_CREATESTANDARDACCOUNT]:256,[n.InteropServiceCode.SYSTEM_CONTRACT_GETCALLFLAGS]:1024,[n.InteropServiceCode.SYSTEM_CONTRACT_NATIVEONPERSIST]:0,[n.InteropServiceCode.SYSTEM_CONTRACT_NATIVEPOSTPERSIST]:0,[n.InteropServiceCode.SYSTEM_CRYPTO_CHECKSIG]:32768,[n.InteropServiceCode.SYSTEM_RUNTIME_GETADDRESSVERSION]:8,[n.InteropServiceCode.SYSTEM_RUNTIME_GETINVOCATIONCOUNTER]:16,[n.InteropServiceCode.SYSTEM_RUNTIME_GETNETWORK]:8,[n.InteropServiceCode.SYSTEM_RUNTIME_GETNOTIFICATIONS]:4096,[n.InteropServiceCode.SYSTEM_RUNTIME_GETSCRIPTCONTAINER]:8,[n.InteropServiceCode.SYSTEM_RUNTIME_GETTIME]:8,[n.InteropServiceCode.SYSTEM_RUNTIME_GETTRIGGER]:8,[n.InteropServiceCode.SYSTEM_RUNTIME_LOG]:32768,[n.InteropServiceCode.SYSTEM_RUNTIME_NOTIFY]:32768,[n.InteropServiceCode.SYSTEM_RUNTIME_PLATFORM]:8,[n.InteropServiceCode.SYSTEM_STORAGE_ASREADONLY]:16,[n.InteropServiceCode.SYSTEM_STORAGE_DELETE]:32768,[n.InteropServiceCode.SYSTEM_STORAGE_FIND]:32768,[n.InteropServiceCode.SYSTEM_STORAGE_GET]:32768,[n.InteropServiceCode.SYSTEM_STORAGE_GETCONTEXT]:16,[n.InteropServiceCode.SYSTEM_STORAGE_GETREADONLYCONTEXT]:16,[n.InteropServiceCode.SYSTEM_STORAGE_PUT]:32768};e.getInteropServicePrice=function(t){if(t in i)return i[t];throw new Error(`InteropServiceCode ${t} not supported as it is dynamically priced.`)}},9904:(t,e,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.MethodToken=void 0;const i=r(2287),o=r(495);class s{constructor(t){const{hash:e="",method:r="",parametersCount:n=0,hasReturnValue:i=!1,callFlags:s=o.CallFlags.None}=t;this.hash=e,this.method=r,this.parametersCount=n,this.hasReturnValue=i,this.callFlags=s}static fromJson(t){return new s({hash:t.hash,method:t.method,parametersCount:t.parameterscount,hasReturnValue:t.hasreturnvalue,callFlags:t.callflags})}static fromStream(t){const e=t.read(20),r=(0,i.hexstring2str)(t.readVarBytes());if(r.startsWith("_"))throw new Error("MethodToken deserialization failure - method cannot start with '_'");const o=n.from(t.read(2),"hex").readUInt16LE(),a="00"!==t.read(1),u=Number.parseInt(t.read(1),16);return new s({hash:e,method:r,parametersCount:o,hasReturnValue:a,callFlags:u})}toJson(){return{hash:this.hash,method:this.method,parameterscount:this.parametersCount,hasreturnvalue:this.hasReturnValue,callflags:this.callFlags}}get size(){return this.serialize().length}serialize(){let t="";return t+=this.hash,t+=(0,i.num2VarInt)(this.method.length),t+=(0,i.str2hexstring)(this.method),t+=(0,i.num2hexstring)(this.parametersCount,2,!0),t+=this.hasReturnValue?"01":"00",t+=(0,i.num2hexstring)(this.callFlags),t}export(){return{hash:this.hash,method:this.method,parametersCount:this.parametersCount,hasReturnValue:this.hasReturnValue,callFlags:this.callFlags}}}e.MethodToken=s,e.default=s},6208:function(t,e,r){"use strict";var n,i=r(8764).Buffer,o=this&&this.__classPrivateFieldGet||function(t,e,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(t):n?n.value:e.get(t)},s=this&&this.__classPrivateFieldSet||function(t,e,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(t,r):i?i.value=r:e.set(t,r),r};Object.defineProperty(e,"__esModule",{value:!0}),e.NEF=void 0;const a=r(2287),u=r(9904);class f{get checksum(){return o(this,n,"f")||s(this,n,this.computeCheckSum(),"f"),o(this,n,"f")}constructor(t){n.set(this,void 0);const{compiler:e="",source:r="",tokens:i=[],script:o=""}=t;this.compiler=e,this.source=r,this.tokens=i.map((t=>new u.MethodToken(t))),this.script=o}static fromJson(t){if(t.magic!==this.MAGIC)throw new Error("Incorrect magic");const e=new f({compiler:t.compiler,source:t.source,tokens:t.tokens.map((t=>u.MethodToken.fromJson(t))),script:t.script});if(e.checksum!==t.checksum)throw new Error("Invalid checksum");return e}static fromBuffer(t){const e=new a.StringStream((0,a.ab2hexstring)(t));if(a.HexString.fromHex(e.read(4),!0).toNumber()!==this.MAGIC)throw new Error("NEF deserialization failure - incorrect magic");const r=i.from(e.read(64),"hex"),n=r.indexOf(0),o=r.slice(0,n).toString(),s=e.readVarInt();if(s>256)throw new Error("NEF deserialization failure - source field size exceeds maximum length of 256");const c=i.from(e.read(s),"hex").toString();if("00"!==e.read(1))throw new Error("NEF deserialization failure - reserved bytes must be 0");const h=e.readVarInt();if(h>128)throw new Error("NEF deserialization failure - token array exceeds maximum length of 128");const d=[];for(let t=0;t<h;t++)d.push(u.MethodToken.fromStream(e));if("0000"!==e.read(2))throw new Error("NEF deserialization failure - reserved bytes must be 0");const l=e.readVarInt();if(0===l)throw new Error("NEF deserialization failure - script length can't be 0");if(l>this.MAX_SCRIPT_LENGTH)throw new Error("NEF deserialization failure - max script length exceeded");const p=e.read(l),b=i.from(e.read(4),"hex").readUInt32LE(),g=new f({compiler:o,source:c,tokens:d,script:p});if(g.checksum!==b)throw new Error("NEF deserialization failure - invalid checksum");return g}toJson(){return{magic:f.MAGIC,compiler:this.compiler,source:this.source,tokens:this.tokens.map((t=>t.toJson())),script:this.script,checksum:this.checksum}}get size(){return this.serialize().length}serializeWithoutChecksum(){let t="";return t+=(0,a.num2hexstring)(f.MAGIC,4,!0),t+=(0,a.str2hexstring)(this.compiler).padEnd(128,"0"),t+=(0,a.num2VarInt)(this.source.length),t+=(0,a.str2hexstring)(this.source),t+="00",t+=(0,a.serializeArrayOf)(this.tokens),t+="0000",t+=(0,a.num2VarInt)(this.script.length/2),t+=this.script,t}serialize(){let t=this.serializeWithoutChecksum();return t+=(0,a.num2hexstring)(this.checksum,4,!0),t}export(){return{compiler:this.compiler,source:this.source,tokens:this.tokens.map((t=>t.export())),script:this.script}}computeCheckSum(){const t=this.serializeWithoutChecksum(),e=(0,a.hash256)(t);return i.from(e,"hex").readUInt32LE()}}n=new WeakMap,f.MAX_SCRIPT_LENGTH=524288,f.MAGIC=860243278,e.NEF=f,e.default=f},1702:(t,e)=>{"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.fromHex=e.OpCode=void 0,function(t){t[t.PUSHINT8=0]="PUSHINT8",t[t.PUSHINT16=1]="PUSHINT16",t[t.PUSHINT32=2]="PUSHINT32",t[t.PUSHINT64=3]="PUSHINT64",t[t.PUSHINT128=4]="PUSHINT128",t[t.PUSHINT256=5]="PUSHINT256",t[t.PUSHT=8]="PUSHT",t[t.PUSHF=9]="PUSHF",t[t.PUSHA=10]="PUSHA",t[t.PUSHNULL=11]="PUSHNULL",t[t.PUSHDATA1=12]="PUSHDATA1",t[t.PUSHDATA2=13]="PUSHDATA2",t[t.PUSHDATA4=14]="PUSHDATA4",t[t.PUSHM1=15]="PUSHM1",t[t.PUSH0=16]="PUSH0",t[t.PUSH1=17]="PUSH1",t[t.PUSH2=18]="PUSH2",t[t.PUSH3=19]="PUSH3",t[t.PUSH4=20]="PUSH4",t[t.PUSH5=21]="PUSH5",t[t.PUSH6=22]="PUSH6",t[t.PUSH7=23]="PUSH7",t[t.PUSH8=24]="PUSH8",t[t.PUSH9=25]="PUSH9",t[t.PUSH10=26]="PUSH10",t[t.PUSH11=27]="PUSH11",t[t.PUSH12=28]="PUSH12",t[t.PUSH13=29]="PUSH13",t[t.PUSH14=30]="PUSH14",t[t.PUSH15=31]="PUSH15",t[t.PUSH16=32]="PUSH16",t[t.NOP=33]="NOP",t[t.JMP=34]="JMP",t[t.JMP_L=35]="JMP_L",t[t.JMPIF=36]="JMPIF",t[t.JMPIF_L=37]="JMPIF_L",t[t.JMPIFNOT=38]="JMPIFNOT",t[t.JMPIFNOT_L=39]="JMPIFNOT_L",t[t.JMPEQ=40]="JMPEQ",t[t.JMPEQ_L=41]="JMPEQ_L",t[t.JMPNE=42]="JMPNE",t[t.JMPNE_L=43]="JMPNE_L",t[t.JMPGT=44]="JMPGT",t[t.JMPGT_L=45]="JMPGT_L",t[t.JMPGE=46]="JMPGE",t[t.JMPGE_L=47]="JMPGE_L",t[t.JMPLT=48]="JMPLT",t[t.JMPLT_L=49]="JMPLT_L",t[t.JMPLE=50]="JMPLE",t[t.JMPLE_L=51]="JMPLE_L",t[t.CALL=52]="CALL",t[t.CALL_L=53]="CALL_L",t[t.CALLA=54]="CALLA",t[t.CALLT=55]="CALLT",t[t.ABORT=56]="ABORT",t[t.ASSERT=57]="ASSERT",t[t.THROW=58]="THROW",t[t.TRY=59]="TRY",t[t.TRY_L=60]="TRY_L",t[t.ENDTRY=61]="ENDTRY",t[t.ENDTRY_L=62]="ENDTRY_L",t[t.ENDFINALLY=63]="ENDFINALLY",t[t.RET=64]="RET",t[t.SYSCALL=65]="SYSCALL",t[t.DEPTH=67]="DEPTH",t[t.DROP=69]="DROP",t[t.NIP=70]="NIP",t[t.XDROP=72]="XDROP",t[t.CLEAR=73]="CLEAR",t[t.DUP=74]="DUP",t[t.OVER=75]="OVER",t[t.PICK=77]="PICK",t[t.TUCK=78]="TUCK",t[t.SWAP=80]="SWAP",t[t.ROT=81]="ROT",t[t.ROLL=82]="ROLL",t[t.REVERSE3=83]="REVERSE3",t[t.REVERSE4=84]="REVERSE4",t[t.REVERSEN=85]="REVERSEN",t[t.INITSSLOT=86]="INITSSLOT",t[t.INITSLOT=87]="INITSLOT",t[t.LDSFLD0=88]="LDSFLD0",t[t.LDSFLD1=89]="LDSFLD1",t[t.LDSFLD2=90]="LDSFLD2",t[t.LDSFLD3=91]="LDSFLD3",t[t.LDSFLD4=92]="LDSFLD4",t[t.LDSFLD5=93]="LDSFLD5",t[t.LDSFLD6=94]="LDSFLD6",t[t.LDSFLD=95]="LDSFLD",t[t.STSFLD0=96]="STSFLD0",t[t.STSFLD1=97]="STSFLD1",t[t.STSFLD2=98]="STSFLD2",t[t.STSFLD3=99]="STSFLD3",t[t.STSFLD4=100]="STSFLD4",t[t.STSFLD5=101]="STSFLD5",t[t.STSFLD6=102]="STSFLD6",t[t.STSFLD=103]="STSFLD",t[t.LDLOC0=104]="LDLOC0",t[t.LDLOC1=105]="LDLOC1",t[t.LDLOC2=106]="LDLOC2",t[t.LDLOC3=107]="LDLOC3",t[t.LDLOC4=108]="LDLOC4",t[t.LDLOC5=109]="LDLOC5",t[t.LDLOC6=110]="LDLOC6",t[t.LDLOC=111]="LDLOC",t[t.STLOC0=112]="STLOC0",t[t.STLOC1=113]="STLOC1",t[t.STLOC2=114]="STLOC2",t[t.STLOC3=115]="STLOC3",t[t.STLOC4=116]="STLOC4",t[t.STLOC5=117]="STLOC5",t[t.STLOC6=118]="STLOC6",t[t.STLOC=119]="STLOC",t[t.LDARG0=120]="LDARG0",t[t.LDARG1=121]="LDARG1",t[t.LDARG2=122]="LDARG2",t[t.LDARG3=123]="LDARG3",t[t.LDARG4=124]="LDARG4",t[t.LDARG5=125]="LDARG5",t[t.LDARG6=126]="LDARG6",t[t.LDARG=127]="LDARG",t[t.STARG0=128]="STARG0",t[t.STARG1=129]="STARG1",t[t.STARG2=130]="STARG2",t[t.STARG3=131]="STARG3",t[t.STARG4=132]="STARG4",t[t.STARG5=133]="STARG5",t[t.STARG6=134]="STARG6",t[t.STARG=135]="STARG",t[t.NEWBUFFER=136]="NEWBUFFER",t[t.MEMCPY=137]="MEMCPY",t[t.CAT=139]="CAT",t[t.SUBSTR=140]="SUBSTR",t[t.LEFT=141]="LEFT",t[t.RIGHT=142]="RIGHT",t[t.INVERT=144]="INVERT",t[t.AND=145]="AND",t[t.OR=146]="OR",t[t.XOR=147]="XOR",t[t.EQUAL=151]="EQUAL",t[t.NOTEQUAL=152]="NOTEQUAL",t[t.SIGN=153]="SIGN",t[t.ABS=154]="ABS",t[t.NEGATE=155]="NEGATE",t[t.INC=156]="INC",t[t.DEC=157]="DEC",t[t.ADD=158]="ADD",t[t.SUB=159]="SUB",t[t.MUL=160]="MUL",t[t.DIV=161]="DIV",t[t.MOD=162]="MOD",t[t.POW=163]="POW",t[t.SQRT=164]="SQRT",t[t.SHL=168]="SHL",t[t.SHR=169]="SHR",t[t.NOT=170]="NOT",t[t.BOOLAND=171]="BOOLAND",t[t.BOOLOR=172]="BOOLOR",t[t.NZ=177]="NZ",t[t.NUMEQUAL=179]="NUMEQUAL",t[t.NUMNOTEQUAL=180]="NUMNOTEQUAL",t[t.LT=181]="LT",t[t.LE=182]="LE",t[t.GT=183]="GT",t[t.GE=184]="GE",t[t.MIN=185]="MIN",t[t.MAX=186]="MAX",t[t.WITHIN=187]="WITHIN",t[t.PACKMAP=190]="PACKMAP",t[t.PACKSTRUCT=191]="PACKSTRUCT",t[t.PACK=192]="PACK",t[t.UNPACK=193]="UNPACK",t[t.NEWARRAY0=194]="NEWARRAY0",t[t.NEWARRAY=195]="NEWARRAY",t[t.NEWARRAY_T=196]="NEWARRAY_T",t[t.NEWSTRUCT0=197]="NEWSTRUCT0",t[t.NEWSTRUCT=198]="NEWSTRUCT",t[t.NEWMAP=200]="NEWMAP",t[t.SIZE=202]="SIZE",t[t.HASKEY=203]="HASKEY",t[t.KEYS=204]="KEYS",t[t.VALUES=205]="VALUES",t[t.PICKITEM=206]="PICKITEM",t[t.APPEND=207]="APPEND",t[t.SETITEM=208]="SETITEM",t[t.REVERSEITEMS=209]="REVERSEITEMS",t[t.REMOVE=210]="REMOVE",t[t.CLEARITEMS=211]="CLEARITEMS",t[t.POPITEM=212]="POPITEM",t[t.ISNULL=216]="ISNULL",t[t.ISTYPE=217]="ISTYPE",t[t.CONVERT=219]="CONVERT"}(r=e.OpCode||(e.OpCode={})),e.fromHex=function(t){const e=parseInt(t,16);if(e in r)return e;throw new Error(`OpCode not found! Value: ${t}`)},e.default=r},7049:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OpCodeAnnotations=void 0;const n=r(1702);e.OpCodeAnnotations={[n.OpCode.PUSHINT8]:{operandSize:1},[n.OpCode.PUSHINT16]:{operandSize:2},[n.OpCode.PUSHINT32]:{operandSize:4},[n.OpCode.PUSHINT64]:{operandSize:8},[n.OpCode.PUSHINT128]:{operandSize:16},[n.OpCode.PUSHINT256]:{operandSize:32},[n.OpCode.PUSHT]:{},[n.OpCode.PUSHF]:{},[n.OpCode.PUSHA]:{operandSize:4},[n.OpCode.PUSHNULL]:{},[n.OpCode.PUSHDATA1]:{operandSizePrefix:1},[n.OpCode.PUSHDATA2]:{operandSizePrefix:2},[n.OpCode.PUSHDATA4]:{operandSizePrefix:4},[n.OpCode.PUSHM1]:{},[n.OpCode.PUSH0]:{},[n.OpCode.PUSH1]:{},[n.OpCode.PUSH2]:{},[n.OpCode.PUSH3]:{},[n.OpCode.PUSH4]:{},[n.OpCode.PUSH5]:{},[n.OpCode.PUSH6]:{},[n.OpCode.PUSH7]:{},[n.OpCode.PUSH8]:{},[n.OpCode.PUSH9]:{},[n.OpCode.PUSH10]:{},[n.OpCode.PUSH11]:{},[n.OpCode.PUSH12]:{},[n.OpCode.PUSH13]:{},[n.OpCode.PUSH14]:{},[n.OpCode.PUSH15]:{},[n.OpCode.PUSH16]:{},[n.OpCode.NOP]:{},[n.OpCode.JMP]:{operandSize:1},[n.OpCode.JMP_L]:{operandSize:4},[n.OpCode.JMPIF]:{operandSize:1},[n.OpCode.JMPIF_L]:{operandSize:4},[n.OpCode.JMPIFNOT]:{operandSize:1},[n.OpCode.JMPIFNOT_L]:{operandSize:4},[n.OpCode.JMPEQ]:{operandSize:1},[n.OpCode.JMPEQ_L]:{operandSize:4},[n.OpCode.JMPNE]:{operandSize:1},[n.OpCode.JMPNE_L]:{operandSize:4},[n.OpCode.JMPGT]:{operandSize:1},[n.OpCode.JMPGT_L]:{operandSize:4},[n.OpCode.JMPGE]:{operandSize:1},[n.OpCode.JMPGE_L]:{operandSize:4},[n.OpCode.JMPLT]:{operandSize:1},[n.OpCode.JMPLT_L]:{operandSize:4},[n.OpCode.JMPLE]:{operandSize:1},[n.OpCode.JMPLE_L]:{operandSize:4},[n.OpCode.CALL]:{operandSize:1},[n.OpCode.CALL_L]:{operandSize:4},[n.OpCode.CALLA]:{},[n.OpCode.CALLT]:{operandSize:2},[n.OpCode.ABORT]:{},[n.OpCode.ASSERT]:{},[n.OpCode.THROW]:{},[n.OpCode.TRY]:{operandSize:2},[n.OpCode.TRY_L]:{operandSize:8},[n.OpCode.ENDTRY]:{operandSize:1},[n.OpCode.ENDTRY_L]:{operandSize:4},[n.OpCode.ENDFINALLY]:{},[n.OpCode.RET]:{},[n.OpCode.SYSCALL]:{operandSize:4},[n.OpCode.DEPTH]:{},[n.OpCode.DROP]:{},[n.OpCode.NIP]:{},[n.OpCode.XDROP]:{},[n.OpCode.CLEAR]:{},[n.OpCode.DUP]:{},[n.OpCode.OVER]:{},[n.OpCode.PICK]:{},[n.OpCode.TUCK]:{},[n.OpCode.SWAP]:{},[n.OpCode.ROT]:{},[n.OpCode.ROLL]:{},[n.OpCode.REVERSE3]:{},[n.OpCode.REVERSE4]:{},[n.OpCode.REVERSEN]:{},[n.OpCode.INITSSLOT]:{operandSize:1},[n.OpCode.INITSLOT]:{operandSize:2},[n.OpCode.LDSFLD0]:{},[n.OpCode.LDSFLD1]:{},[n.OpCode.LDSFLD2]:{},[n.OpCode.LDSFLD3]:{},[n.OpCode.LDSFLD4]:{},[n.OpCode.LDSFLD5]:{},[n.OpCode.LDSFLD6]:{},[n.OpCode.LDSFLD]:{operandSize:1},[n.OpCode.STSFLD0]:{},[n.OpCode.STSFLD1]:{},[n.OpCode.STSFLD2]:{},[n.OpCode.STSFLD3]:{},[n.OpCode.STSFLD4]:{},[n.OpCode.STSFLD5]:{},[n.OpCode.STSFLD6]:{},[n.OpCode.STSFLD]:{operandSize:1},[n.OpCode.LDLOC0]:{},[n.OpCode.LDLOC1]:{},[n.OpCode.LDLOC2]:{},[n.OpCode.LDLOC3]:{},[n.OpCode.LDLOC4]:{},[n.OpCode.LDLOC5]:{},[n.OpCode.LDLOC6]:{},[n.OpCode.LDLOC]:{operandSize:1},[n.OpCode.STLOC0]:{},[n.OpCode.STLOC1]:{},[n.OpCode.STLOC2]:{},[n.OpCode.STLOC3]:{},[n.OpCode.STLOC4]:{},[n.OpCode.STLOC5]:{},[n.OpCode.STLOC6]:{},[n.OpCode.STLOC]:{operandSize:1},[n.OpCode.LDARG0]:{},[n.OpCode.LDARG1]:{},[n.OpCode.LDARG2]:{},[n.OpCode.LDARG3]:{},[n.OpCode.LDARG4]:{},[n.OpCode.LDARG5]:{},[n.OpCode.LDARG6]:{},[n.OpCode.LDARG]:{operandSize:1},[n.OpCode.STARG0]:{},[n.OpCode.STARG1]:{},[n.OpCode.STARG2]:{},[n.OpCode.STARG3]:{},[n.OpCode.STARG4]:{},[n.OpCode.STARG5]:{},[n.OpCode.STARG6]:{},[n.OpCode.STARG]:{operandSize:1},[n.OpCode.NEWBUFFER]:{},[n.OpCode.MEMCPY]:{},[n.OpCode.CAT]:{},[n.OpCode.SUBSTR]:{},[n.OpCode.LEFT]:{},[n.OpCode.RIGHT]:{},[n.OpCode.INVERT]:{},[n.OpCode.AND]:{},[n.OpCode.OR]:{},[n.OpCode.XOR]:{},[n.OpCode.EQUAL]:{},[n.OpCode.NOTEQUAL]:{},[n.OpCode.SIGN]:{},[n.OpCode.ABS]:{},[n.OpCode.NEGATE]:{},[n.OpCode.INC]:{},[n.OpCode.DEC]:{},[n.OpCode.ADD]:{},[n.OpCode.SUB]:{},[n.OpCode.MUL]:{},[n.OpCode.DIV]:{},[n.OpCode.MOD]:{},[n.OpCode.POW]:{},[n.OpCode.SQRT]:{},[n.OpCode.SHL]:{},[n.OpCode.SHR]:{},[n.OpCode.NOT]:{},[n.OpCode.BOOLAND]:{},[n.OpCode.BOOLOR]:{},[n.OpCode.NZ]:{},[n.OpCode.NUMEQUAL]:{},[n.OpCode.NUMNOTEQUAL]:{},[n.OpCode.LT]:{},[n.OpCode.LE]:{},[n.OpCode.GT]:{},[n.OpCode.GE]:{},[n.OpCode.MIN]:{},[n.OpCode.MAX]:{},[n.OpCode.WITHIN]:{},[n.OpCode.PACKMAP]:{},[n.OpCode.PACKSTRUCT]:{},[n.OpCode.PACK]:{},[n.OpCode.UNPACK]:{},[n.OpCode.NEWARRAY0]:{},[n.OpCode.NEWARRAY]:{},[n.OpCode.NEWARRAY_T]:{operandSize:1},[n.OpCode.NEWSTRUCT0]:{},[n.OpCode.NEWSTRUCT]:{},[n.OpCode.NEWMAP]:{},[n.OpCode.SIZE]:{},[n.OpCode.HASKEY]:{},[n.OpCode.KEYS]:{},[n.OpCode.VALUES]:{},[n.OpCode.PICKITEM]:{},[n.OpCode.APPEND]:{},[n.OpCode.SETITEM]:{},[n.OpCode.REVERSEITEMS]:{},[n.OpCode.REMOVE]:{},[n.OpCode.CLEARITEMS]:{},[n.OpCode.POPITEM]:{},[n.OpCode.ISNULL]:{},[n.OpCode.ISTYPE]:{operandSize:1},[n.OpCode.CONVERT]:{operandSize:1}}},2018:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OpCodePrices=void 0;const n=r(1702);e.OpCodePrices={[n.OpCode.PUSHINT8]:1,[n.OpCode.PUSHINT16]:1,[n.OpCode.PUSHINT32]:1,[n.OpCode.PUSHINT64]:1,[n.OpCode.PUSHINT128]:4,[n.OpCode.PUSHINT256]:4,[n.OpCode.PUSHT]:1,[n.OpCode.PUSHF]:1,[n.OpCode.PUSHA]:4,[n.OpCode.PUSHNULL]:1,[n.OpCode.PUSHDATA1]:8,[n.OpCode.PUSHDATA2]:512,[n.OpCode.PUSHDATA4]:4096,[n.OpCode.PUSHM1]:1,[n.OpCode.PUSH0]:1,[n.OpCode.PUSH1]:1,[n.OpCode.PUSH2]:1,[n.OpCode.PUSH3]:1,[n.OpCode.PUSH4]:1,[n.OpCode.PUSH5]:1,[n.OpCode.PUSH6]:1,[n.OpCode.PUSH7]:1,[n.OpCode.PUSH8]:1,[n.OpCode.PUSH9]:1,[n.OpCode.PUSH10]:1,[n.OpCode.PUSH11]:1,[n.OpCode.PUSH12]:1,[n.OpCode.PUSH13]:1,[n.OpCode.PUSH14]:1,[n.OpCode.PUSH15]:1,[n.OpCode.PUSH16]:1,[n.OpCode.NOP]:1,[n.OpCode.JMP]:2,[n.OpCode.JMP_L]:2,[n.OpCode.JMPIF]:2,[n.OpCode.JMPIF_L]:2,[n.OpCode.JMPIFNOT]:2,[n.OpCode.JMPIFNOT_L]:2,[n.OpCode.JMPEQ]:2,[n.OpCode.JMPEQ_L]:2,[n.OpCode.JMPNE]:2,[n.OpCode.JMPNE_L]:2,[n.OpCode.JMPGT]:2,[n.OpCode.JMPGT_L]:2,[n.OpCode.JMPGE]:2,[n.OpCode.JMPGE_L]:2,[n.OpCode.JMPLT]:2,[n.OpCode.JMPLT_L]:2,[n.OpCode.JMPLE]:2,[n.OpCode.JMPLE_L]:2,[n.OpCode.CALL]:512,[n.OpCode.CALL_L]:512,[n.OpCode.CALLA]:512,[n.OpCode.CALLT]:32768,[n.OpCode.ABORT]:0,[n.OpCode.ASSERT]:1,[n.OpCode.THROW]:512,[n.OpCode.TRY]:4,[n.OpCode.TRY_L]:4,[n.OpCode.ENDTRY]:4,[n.OpCode.ENDTRY_L]:4,[n.OpCode.ENDFINALLY]:4,[n.OpCode.RET]:0,[n.OpCode.SYSCALL]:0,[n.OpCode.DEPTH]:2,[n.OpCode.DROP]:2,[n.OpCode.NIP]:2,[n.OpCode.XDROP]:16,[n.OpCode.CLEAR]:16,[n.OpCode.DUP]:2,[n.OpCode.OVER]:2,[n.OpCode.PICK]:2,[n.OpCode.TUCK]:2,[n.OpCode.SWAP]:2,[n.OpCode.ROT]:2,[n.OpCode.ROLL]:16,[n.OpCode.REVERSE3]:2,[n.OpCode.REVERSE4]:2,[n.OpCode.REVERSEN]:16,[n.OpCode.INITSSLOT]:16,[n.OpCode.INITSLOT]:64,[n.OpCode.LDSFLD0]:2,[n.OpCode.LDSFLD1]:2,[n.OpCode.LDSFLD2]:2,[n.OpCode.LDSFLD3]:2,[n.OpCode.LDSFLD4]:2,[n.OpCode.LDSFLD5]:2,[n.OpCode.LDSFLD6]:2,[n.OpCode.LDSFLD]:2,[n.OpCode.STSFLD0]:2,[n.OpCode.STSFLD1]:2,[n.OpCode.STSFLD2]:2,[n.OpCode.STSFLD3]:2,[n.OpCode.STSFLD4]:2,[n.OpCode.STSFLD5]:2,[n.OpCode.STSFLD6]:2,[n.OpCode.STSFLD]:2,[n.OpCode.LDLOC0]:2,[n.OpCode.LDLOC1]:2,[n.OpCode.LDLOC2]:2,[n.OpCode.LDLOC3]:2,[n.OpCode.LDLOC4]:2,[n.OpCode.LDLOC5]:2,[n.OpCode.LDLOC6]:2,[n.OpCode.LDLOC]:2,[n.OpCode.STLOC0]:2,[n.OpCode.STLOC1]:2,[n.OpCode.STLOC2]:2,[n.OpCode.STLOC3]:2,[n.OpCode.STLOC4]:2,[n.OpCode.STLOC5]:2,[n.OpCode.STLOC6]:2,[n.OpCode.STLOC]:2,[n.OpCode.LDARG0]:2,[n.OpCode.LDARG1]:2,[n.OpCode.LDARG2]:2,[n.OpCode.LDARG3]:2,[n.OpCode.LDARG4]:2,[n.OpCode.LDARG5]:2,[n.OpCode.LDARG6]:2,[n.OpCode.LDARG]:2,[n.OpCode.STARG0]:2,[n.OpCode.STARG1]:2,[n.OpCode.STARG2]:2,[n.OpCode.STARG3]:2,[n.OpCode.STARG4]:2,[n.OpCode.STARG5]:2,[n.OpCode.STARG6]:2,[n.OpCode.STARG]:2,[n.OpCode.NEWBUFFER]:256,[n.OpCode.MEMCPY]:2048,[n.OpCode.CAT]:2048,[n.OpCode.SUBSTR]:2048,[n.OpCode.LEFT]:2048,[n.OpCode.RIGHT]:2048,[n.OpCode.INVERT]:4,[n.OpCode.AND]:8,[n.OpCode.OR]:8,[n.OpCode.XOR]:8,[n.OpCode.EQUAL]:32,[n.OpCode.NOTEQUAL]:32,[n.OpCode.SIGN]:4,[n.OpCode.ABS]:4,[n.OpCode.NEGATE]:4,[n.OpCode.INC]:4,[n.OpCode.DEC]:4,[n.OpCode.ADD]:8,[n.OpCode.SUB]:8,[n.OpCode.MUL]:8,[n.OpCode.DIV]:8,[n.OpCode.MOD]:8,[n.OpCode.POW]:64,[n.OpCode.SQRT]:64,[n.OpCode.SHL]:8,[n.OpCode.SHR]:8,[n.OpCode.NOT]:4,[n.OpCode.BOOLAND]:8,[n.OpCode.BOOLOR]:8,[n.OpCode.NZ]:4,[n.OpCode.NUMEQUAL]:8,[n.OpCode.NUMNOTEQUAL]:8,[n.OpCode.LT]:8,[n.OpCode.LE]:8,[n.OpCode.GT]:8,[n.OpCode.GE]:8,[n.OpCode.MIN]:8,[n.OpCode.MAX]:8,[n.OpCode.WITHIN]:8,[n.OpCode.PACKMAP]:2048,[n.OpCode.PACKSTRUCT]:2048,[n.OpCode.PACK]:2048,[n.OpCode.UNPACK]:2048,[n.OpCode.NEWARRAY0]:16,[n.OpCode.NEWARRAY]:512,[n.OpCode.NEWARRAY_T]:512,[n.OpCode.NEWSTRUCT0]:16,[n.OpCode.NEWSTRUCT]:512,[n.OpCode.NEWMAP]:8,[n.OpCode.SIZE]:4,[n.OpCode.HASKEY]:64,[n.OpCode.KEYS]:16,[n.OpCode.VALUES]:8192,[n.OpCode.PICKITEM]:64,[n.OpCode.APPEND]:8192,[n.OpCode.SETITEM]:8192,[n.OpCode.REVERSEITEMS]:8192,[n.OpCode.REMOVE]:16,[n.OpCode.CLEARITEMS]:16,[n.OpCode.POPITEM]:16,[n.OpCode.ISNULL]:2,[n.OpCode.ISTYPE]:2,[n.OpCode.CONVERT]:8192}},8344:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OpToken=void 0;const n=r(1702),i=r(7049),o=r(2287),s=[1,2,4,8,16,32];class a{static fromScript(t){if(!(0,o.isHex)(t))throw new Error(`Expected a hexstring but got ${t.length>20?t.substr(0,20)+"...":t}`);const e=new o.StringStream(t),r=[];for(;!e.isEmpty();){const t=e.read(1),n=parseInt(t,16),o=i.OpCodeAnnotations[n]??{},s=o.operandSize?u(o.operandSize):o.operandSizePrefix?f(o.operandSizePrefix):()=>{};r.push(new a(n,s(e)))}return r}static parseInt(t){if(t.code>=0&&t.code<=5){const e=2*s[t.code];return t.params?parseInt(o.BigInteger.fromTwos(t.params.substr(0,e),!0).toString()):0}if(t.code>=15&&t.code<=32)return t.code-16;throw new Error(`given OpToken ${n.OpCode[t.code]} isnt a parsable integer.`)}static forInteger(t){const e=t instanceof o.BigInteger?t:o.BigInteger.fromNumber(t);if(-1===t)return new a(n.OpCode.PUSHM1);if(e.compare(0)>=0&&e.compare(16)<=0)return new a(n.OpCode.PUSH0+parseInt(e.toString()));const r=e.toReverseTwos();if(r.length<=2)return new a(n.OpCode.PUSHINT8,r.padEnd(2,"0"));if(r.length<=4)return new a(n.OpCode.PUSHINT16,r.padEnd(4,"0"));if(r.length<=8)return new a(n.OpCode.PUSHINT32,r.padEnd(8,"0"));if(r.length<=16)return new a(n.OpCode.PUSHINT64,r.padEnd(16,"0"));if(r.length<=32)return new a(n.OpCode.PUSHINT128,r.padEnd(32,"0"));throw new Error("Number out of range")}constructor(t,e){this.code=t,this.params=e}prettyPrint(t=12){return`${this.params?n.OpCode[this.code].padEnd(t)+" "+this.params:n.OpCode[this.code]}`}toScript(){const t=o.HexString.fromNumber(this.code).toLittleEndian(),e=this.params??"",r=i.OpCodeAnnotations[this.code];if(r.operandSizePrefix){const n=o.HexString.fromNumber(e.length/2).toLittleEndian();if(n.length/2>r.operandSizePrefix){const t=Math.pow(2,8*r.operandSizePrefix);throw new Error(`Expected params to be less than ${t} but got ${e.length/2}`)}return t+n.padEnd(2*r.operandSizePrefix,"0")+e}if(r.operandSize&&e.length/2!==r.operandSize)throw new Error(`Expected params to be ${r.operandSize} bytes long but got ${e.length/2} instead.`);return t+e}}function u(t){return e=>e.read(t)}function f(t){return e=>e.read(o.HexString.fromHex(e.read(t),!0).toNumber())}e.OpToken=a},3813:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ScriptBuilder=void 0;const i=n(r(2197)),o=r(2287),s=r(897),a=r(1702),u=r(3858),f=r(495);class c extends o.StringStream{build(){return this.str.slice(0)}emit(t,e){return this.str+=(0,o.int2hex)(t),e&&(this.str+=e),this}emitAppCall(t,e,r=[],n=f.CallFlags.All){if(0===r.length)this.emit(a.OpCode.NEWARRAY0);else{for(let t=r.length-1;t>=0;t--)this.emitPush(r[t]);this.emitNumber(r.length),this.emit(a.OpCode.PACK)}return this.emitPush(n).emitString(e).emitHexString(o.HexString.fromHex(t)).emitSysCall(u.InteropServiceCode.SYSTEM_CONTRACT_CALL)}emitSysCall(t,...e){for(let t=e.length-1;t>=0;t--)this.emitPush(e[t]);return this.emit(a.OpCode.SYSCALL,t)}emitPush(t){switch(typeof t){case"boolean":return this.emitBoolean(t);case"string":return this.emitString(t);case"number":return this.emitNumber(t);case"undefined":return this.emitPush(!1);case"object":if(Array.isArray(t))return this.emitArray(t);if(t instanceof o.HexString)return this.emitHexString(t);if(null===t)return this.emitPush(!1);if((0,s.likeContractParam)(t))return this.emitContractParam(s.ContractParam.fromJson(t));throw new Error(`Unidentified object: ${t}`);default:throw new Error}}emitBoolean(t){return this.emit(t?a.OpCode.PUSHT:a.OpCode.PUSHF)}emitArray(t){for(let e=t.length-1;e>=0;e--)this.emitPush(t[e]);return this.emitNumber(t.length).emit(a.OpCode.PACK)}emitMap(t){for(let e=0;e<t.length;e++){const r=t[e].key.type;if(r!==s.ContractParamType.Boolean&&r!==s.ContractParamType.Integer&&r!==s.ContractParamType.String&&r!==s.ContractParamType.ByteArray)throw new Error(`Unsupported key type: ${r}`);this.emitPush(t[e].value),this.emitPush(t[e].key)}return this.emitPush(t.length),this.emit(a.OpCode.PACKMAP)}emitBytes(t){return this.emitHexString(o.HexString.fromArrayBuffer(t,!0))}emitString(t){const e=(new TextEncoder).encode(t);return this.emitBytes(e)}emitHexString(t){"string"==typeof t&&(t=o.HexString.fromHex(t,!0));const e=t.toLittleEndian(),r=t.byteLength;if(r<256)return this.emit(a.OpCode.PUSHDATA1,(0,o.num2hexstring)(r)+e);if(r<65536)return this.emit(a.OpCode.PUSHDATA2,(0,o.num2hexstring)(r,2,!0)+e);if(r<4294967296)return this.emit(a.OpCode.PUSHDATA4,(0,o.num2hexstring)(r,4,!0)+e);throw new Error("Data too big to emit!")}emitPublicKey(t){const e=t instanceof o.HexString?t.toBigEndian():t;return this.emit(a.OpCode.PUSHDATA1,(0,o.num2hexstring)(33)+e)}emitNumber(t){const e=new i.default(t,10,"be");if(e.gten(-1)&&e.lten(16))return this.emit(a.OpCode.PUSH0+e.toNumber());const r=e.isNeg(),n=o.BigInteger.fromNumber(t),s=n.toReverseTwos().length/2,u=this.roundToBestIntSize(s);if(u>32)throw new Error(`Number too long to be emitted: ${t.toString()}`);let f=n.toReverseTwos();switch(f=this.padRight(f,u,r),u){case 1:return this.emit(a.OpCode.PUSHINT8,f);case 2:return this.emit(a.OpCode.PUSHINT16,f);case 4:return this.emit(a.OpCode.PUSHINT32,f);case 8:return this.emit(a.OpCode.PUSHINT64,f);case 16:return this.emit(a.OpCode.PUSHINT128,f);case 32:return this.emit(a.OpCode.PUSHINT256,f);default:throw new Error}}roundToBestIntSize(t){switch(!0){case 1==t:return 1;case 2==t:return 2;case t<=4:return 4;case t<=8:return 8;case t<=16:return 16;case t<=32:return 32;default:return 64}}padRight(t,e,r){if(t.length/2>=e)return t;const n=r?"ff":"00";for(;t.length/2!=e;)t+=n;return t}emitContractParam(t){if(void 0===t.type)throw new Error("No type available!");switch(t.type){case s.ContractParamType.Any:return null===t.value?this.emit(a.OpCode.PUSHNULL):this.emitHexString(t.value??"");case s.ContractParamType.String:return this.emitString(t.value);case s.ContractParamType.Boolean:return this.emitBoolean(t.value);case s.ContractParamType.Integer:return this.emitNumber(t.value);case s.ContractParamType.ByteArray:return this.emitHexString(t.value);case s.ContractParamType.Array:return this.emitArray(t.value);case s.ContractParamType.Hash160:case s.ContractParamType.Hash256:return this.emitHexString(t.value);case s.ContractParamType.PublicKey:return this.emitPublicKey(t.value);case s.ContractParamType.Map:return this.emitMap(t.value);default:throw new Error(`Unaccounted ContractParamType!: ${t.type}`)}}emitContractCall(t){return this.emitAppCall(t.scriptHash,t.operation,t.args,t.callFlags)}appendScript(t){return this.str+=t,this}}e.ScriptBuilder=c,e.default=c},1079:(t,e)=>{"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.StackItem=e.hasChildren=e.StackItemType=void 0,function(t){t[t.Any=0]="Any",t[t.Pointer=16]="Pointer",t[t.Boolean=32]="Boolean",t[t.Integer=33]="Integer",t[t.ByteString=40]="ByteString",t[t.Buffer=48]="Buffer",t[t.Array=64]="Array",t[t.Struct=65]="Struct",t[t.Map=72]="Map",t[t.InteropInterface=96]="InteropInterface"}(r=e.StackItemType||(e.StackItemType={})),e.hasChildren=function(t){return t===r.Array||t===r.Struct||t===r.Map};class n{constructor(t){if(void 0===t.type)throw new Error("No type is provided");var e;if(this.type="string"==typeof(e=t.type)?r[e]:e,null!==t.value&&void 0!==t.value)switch(this.type){case r.Pointer:if("number"!=typeof t.value)throw new Error("value of a Pointer StackItem should be a number.");return void(this.value=t.value);case r.Integer:return void(this.value=t.value?.toString()??"0");case r.Buffer:case r.ByteString:if("string"!=typeof t.value)throw new Error("value of a ByteString/Buffer StackItem should be a string.");return void(this.value=t.value);case r.Boolean:return void(this.value=!!t.value);case r.Map:throw Array.isArray(t.value)&&t.value.every((t=>t&&"object"==typeof t&&"key"in t&&"value"in t))&&(this.value=t.value.map((t=>({key:new n(t.key),value:new n(t.value)})))),new Error("Mismatch value for type");case r.Array:case r.Struct:throw Array.isArray(t.value)&&function(t){return t.every(i)}(t.value)&&(this.value=t.value.map((t=>new n(t)))),new Error("Mismatch value for type");default:throw new Error("unsupported")}else this.value=function(t){switch(t){case r.Array:case r.Struct:case r.Map:return[];case r.Boolean:return!1;case r.Integer:return"0";case r.Pointer:return 0;default:return""}}(this.type)}export(){const t=r[this.type];switch(this.type){case r.Array:case r.Struct:return{type:t,value:this.value.map((t=>t.export()))};case r.Map:return{type:t,value:this.value.map((t=>({key:t.key.export(),value:t.value.export()})))};default:return{type:t,value:this.value}}}}function i(t){return"object"==typeof t&&null!==t&&"type"in t}e.StackItem=n,e.default=n},5809:function(t,e,r){"use strict";var n,i,o=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&o(e,t,r);return s(e,t),e},u=this&&this.__classPrivateFieldGet||function(t,e,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(t):n?n.value:e.get(t)},f=this&&this.__classPrivateFieldSet||function(t,e,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(t,r):i?i.value=r:e.set(t,r),r};Object.defineProperty(e,"__esModule",{value:!0}),e.BaseContract=void 0;const c=a(r(897)),h=r(495);e.BaseContract=class{get scriptHash(){return u(this,n,"f")}get methods(){return u(this,i,"f")}constructor(t,e=[]){n.set(this,void 0),i.set(this,{}),f(this,n,t,"f"),f(this,i,e.reduce(((t,e)=>(t[e.name]=e,t)),{}),"f")}call(t,...e){const r="string"==typeof t?u(this,i,"f")[t]:t;if(void 0===r)throw new Error(`The method ${t} is not defined on this contract.`);if(r.parameters.length!==e.length)throw new Error(`Invalid number of parameters provided. Method requires ${r.parameters.length} parameters but got ${e.length}.`);const n=e.map(((t,e)=>function(t,e){if("object"==typeof t){const i=t instanceof c.default?t:c.default.fromJson(t);if(r=i.type,(n=e)===r||n===c.ContractParamType.ByteArray&&(r===c.ContractParamType.Hash160||r===c.ContractParamType.Hash256))return i;throw new Error(`Provided ${i.type} when trying to get ${e}`)}var r,n;return c.default.fromJson({type:c.ContractParamType[e],value:t})}(t,r.parameters[e].type)));return{scriptHash:this.scriptHash,operation:r.name,callFlags:h.CallFlags.All,args:n}}},n=new WeakMap,i=new WeakMap},5038:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.GasContract=void 0;const i=r(2526),o=r(773),s=r(8212),a=n(r(2754));let u;class f extends s.Nep17Contract{static get INSTANCE(){return u||(u=new f),u}static getMethods(){return a.default.methods.map((t=>o.ContractMethodDefinition.fromJson(t)))}constructor(){super(i.NATIVE_CONTRACT_HASH.GasToken,f.getMethods())}}e.GasContract=f},7786:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.NeoContract=void 0;const i=r(2526),o=r(897),s=r(773),a=r(8212),u=n(r(2106));let f;class c extends a.Nep17Contract{static get INSTANCE(){return f||(f=new c),f}static getMethods(){return u.default.methods.map((t=>s.ContractMethodDefinition.fromJson(t)))}constructor(){super(i.NATIVE_CONTRACT_HASH.NeoToken,c.getMethods())}unclaimedGas(t,e){return this.call("unclaimedGas",o.ContractParam.hash160(t),o.ContractParam.integer(e))}getCandidates(){return this.call("getCandidates")}getRegisterPrice(){return this.call("getRegisterPrice")}registerCandidate(t){return this.call("registerCandidate",o.ContractParam.publicKey(t))}vote(t,e){return this.call("vote",o.ContractParam.hash160(t),o.ContractParam.publicKey(e))}}e.NeoContract=c},8212:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Nep17Contract=void 0;const i=r(897),o=r(3086),s=r(5809),a=n(r(269));class u extends s.BaseContract{static getMethods(){return a.default.methods.map((t=>o.ContractMethodDefinition.fromJson(t)))}constructor(t,e=[]){super(t,u.getMethods().concat(e))}symbol(){return this.call("symbol")}decimals(){return this.call("decimals")}balanceOf(t){return this.call("balanceOf",i.ContractParam.hash160(t))}totalSupply(){return this.call("totalSupply")}transfer(t,e,r,n){return this.call("transfer",i.ContractParam.hash160(t),i.ContractParam.hash160(e),i.ContractParam.integer(r),i.ContractParam.any(n))}}e.Nep17Contract=u},1732:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.PolicyContract=void 0;const i=r(3086),o=r(5809),s=n(r(986)),a=r(2526);let u;class f extends o.BaseContract{static get INSTANCE(){return u||(u=new f),u}static getMethods(){return s.default.methods.map((t=>i.ContractMethodDefinition.fromJson(t)))}constructor(){super(a.NATIVE_CONTRACT_HASH.PolicyContract,f.getMethods())}getFeePerByte(){return this.call("getFeePerByte")}getExecFeeFactor(){return this.call("getExecFeeFactor")}}e.PolicyContract=f},6469:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r(5809),e),i(r(8212),e),i(r(7786),e),i(r(5038),e),i(r(1732),e)},4218:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createScript=void 0;const n=r(3813);e.createScript=function(...t){const e=new n.ScriptBuilder;for(const r of t){if("string"==typeof r){e.str+=r;continue}const t=r;if(!t.scriptHash)throw new Error("No scriptHash found!");if(!t.operation)throw new Error("No operation found!");e.emitContractCall(r)}return e.build()}},3619:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.calculateExecutionFee=void 0;const n=r(2287),i=r(3858),o=r(3226),s=r(1702),a=r(2018),u=r(8344);e.calculateExecutionFee=function(t,e){const r="string"==typeof t?u.OpToken.fromScript(t):t,f="number"==typeof e?n.BigInteger.fromNumber(e):e;return r.map(((t,e)=>{if(t.code===s.OpCode.SYSCALL&&t.params&&8===t.params.length){const s=t.params;if(s===i.InteropServiceCode.SYSTEM_CRYPTO_CHECKMULTISIG){const s=function(t,e){const r=t[e-1],n=u.OpToken.parseInt(r),i=t[e-1-n-1];return u.OpToken.parseInt(i)}(r,e);return n.BigInteger.fromNumber(a.OpCodePrices[t.code]).add(n.BigInteger.fromNumber((0,o.getInteropServicePrice)(i.InteropServiceCode.SYSTEM_CRYPTO_CHECKSIG)).mul(s).mul(f))}return n.BigInteger.fromNumber(a.OpCodePrices[t.code]).add(n.BigInteger.fromNumber((0,o.getInteropServicePrice)(s))).mul(f)}if(null!==s.OpCode[t.code])return n.BigInteger.fromNumber(a.OpCodePrices[t.code]).mul(f);throw new Error(`OpCode ${t.code} not found!`)})).reduce(((t,e)=>t.add(e)),n.BigInteger.fromNumber(0))}},7885:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r(897),e),i(r(4218),e),i(r(3813),e),i(r(1702),e),i(r(2018),e),i(r(3858),e),i(r(3226),e),i(r(1079),e),i(r(773),e),i(r(8344),e),i(r(6469),e),i(r(3619),e),i(r(6208),e),i(r(495),e),i(r(9904),e),i(r(595),e),i(r(6698),e)},5839:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContractAbi=void 0;const n=r(3086),i=r(5099);class o{static fromJson(t){return new o({methods:t.methods.map((t=>n.ContractMethodDefinition.fromJson(t))),events:t.events.map((t=>i.ContractEventDefiniton.fromJson(t)))})}constructor(t){const{methods:e=[],events:r=[]}=t;this.methods=e.map((t=>new n.ContractMethodDefinition(t))),this.events=r.map((t=>new i.ContractEventDefiniton(t)))}toJson(){return{methods:this.methods.map((t=>t.toJson())),events:this.events.map((t=>t.toJson()))}}export(){return{methods:this.methods.map((t=>t.export())),events:this.events.map((t=>t.export()))}}}e.ContractAbi=o},5099:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContractEventDefiniton=void 0;const n=r(3831),i=r(897);class o{static fromJson(t){return new o({name:t.name,parameters:t.parameters.map((t=>({name:t.name,type:(0,n.parseEnum)(t.type,i.ContractParamType)})))})}constructor(t){const{name:e="",parameters:r=[]}=t;this.name=e,this.parameters=[...r]}toJson(){return{name:this.name,parameters:this.parameters.map((t=>({name:t.name,type:i.ContractParamType[t.type]})))}}export(){return{name:this.name,parameters:[...this.parameters]}}}e.ContractEventDefiniton=o},2438:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContractGroup=void 0;const n=r(2287);class i{static fromJson(t){return new i({pubKey:t.pubkey,signature:n.HexString.fromBase64(t.signature).toBigEndian()})}constructor(t){const{pubKey:e="",signature:r=""}=t;this.pubKey=e,this.signature=r}toJson(){return{pubkey:this.pubKey,signature:n.HexString.fromHex(this.signature).toBase64()}}export(){return{pubKey:this.pubKey,signature:this.signature}}}e.ContractGroup=i},7144:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContractManifest=void 0;const n=r(2438),i=r(5839),o=r(5705);class s{static fromJson(t){if(0!=Object.keys(t.features).length)throw new Error("Features is reserved for future use and must be empty");return new s({name:t.name,groups:t.groups.map((t=>n.ContractGroup.fromJson(t))),features:{},abi:i.ContractAbi.fromJson(t.abi),supportedStandards:t.supportedstandards,permissions:t.permissions,trusts:t.trusts,extra:t.extra})}constructor(t){const{name:e="",groups:r=[],features:s={},abi:a={},supportedStandards:u=[],permissions:f=[],trusts:c="*",extra:h}=t;this.name=e,this.groups=r.map((t=>new n.ContractGroup(t))),this.features=s,this.supportedStandards=u,this.abi=new i.ContractAbi(a),this.permissions=f.map((t=>new o.ContractPermission(t))),this.trusts=Array.isArray(c)?c.map((t=>o.ContractPermission.parseJsonDescriptor(t))):c,this.extra=h}toJson(){return{name:this.name,groups:this.groups.map((t=>t.toJson())),features:this.features,supportedstandards:this.supportedStandards,abi:this.abi.toJson(),permissions:this.permissions.map((t=>t.toJson())),trusts:Array.isArray(this.trusts)?this.trusts.map((t=>o.ContractPermission.toJsonDescriptor(t))):this.trusts,extra:this.extra}}export(){return{name:this.name,groups:this.groups.map((t=>t.export())),features:this.features,supportedStandards:this.supportedStandards,abi:this.abi.export(),permissions:this.permissions.map((t=>t.export())),trusts:this.trusts,extra:this.extra}}}s.MAX_LENGTH=65535,e.ContractManifest=s,e.default=s},3086:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContractMethodDefinition=void 0;const n=r(897),i=r(3831);class o{static fromJson(t){return new o({name:t.name,offset:t.offset,parameters:t.parameters.map((t=>({name:t.name,type:(0,i.parseEnum)(t.type,n.ContractParamType)}))),returnType:(0,i.parseEnum)(t.returntype,n.ContractParamType),safe:t.safe})}constructor(t){const{name:e="",offset:r=0,parameters:i=[],returnType:o=n.ContractParamType.Any,safe:s=!1}=t;this.name=e,this.offset=r,this.parameters=[...i],this.returnType=o,this.safe=s}toJson(){return{name:this.name,offset:this.offset,parameters:this.parameters.map((t=>({name:t.name,type:n.ContractParamType[t.type]}))),returntype:n.ContractParamType[this.returnType],safe:this.safe}}export(){return{name:this.name,offset:this.offset,parameters:[...this.parameters],returnType:this.returnType,safe:this.safe}}}e.ContractMethodDefinition=o},8640:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},5705:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContractPermission=void 0;class r{static parseJsonDescriptor(t){switch(!0){case 66===t.length:case 40===t.length:case"*"===t:return t;case 42===t.length&&0===t.indexOf("0x"):return t.slice(2);default:throw new Error(`This is not a ContractPermissionDescriptor: ${t}`)}}static toJsonDescriptor(t){return 40===t.length?`0x${t}`:t}fromJson(t){return new r(t)}constructor(t={}){const{contract:e="*",methods:n="*"}=t;this.contract=r.parseJsonDescriptor(e),this.methods=n}get isHash(){return 40===this.contract.length}get isGroup(){return 66===this.contract.length}get isWildcard(){return"*"===this.contract}toJson(){return{contract:r.toJsonDescriptor(this.contract),methods:this.methods}}export(){return{contract:this.contract,methods:this.methods}}}e.ContractPermission=r},773:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r(5839),e),i(r(5099),e),i(r(2438),e),i(r(7144),e),i(r(3086),e),i(r(8640),e),i(r(5705),e)},595:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},6698:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getNativeContractHash=e.isMultisigContract=e.isSignatureContract=void 0;const n=r(2287),i=r(1702),o=r(8764),s=r(3813),a=r(897),u=r(3858);e.isSignatureContract=function(t){const e=o.Buffer.from(t.toString(),"hex");return!(40!=e.length||e[0]!=i.OpCode.PUSHDATA1||33!=e[1]||e[35]!=i.OpCode.SYSCALL||e.slice(36,40).toString("hex")!=u.InteropServiceCode.SYSTEM_CRYPTO_CHECKSIG)},e.isMultisigContract=function(t){const e=o.Buffer.from(t.toString(),"hex");if(e.length<42)return!1;let r,n;if(e[0]==i.OpCode.PUSHINT8)r=e[1],n=2;else if(e[0]==i.OpCode.PUSHINT16)r=e.readUInt16LE(1),n=3;else{if(!(e[0]<=i.OpCode.PUSH1||e[0]>=i.OpCode.PUSH16))return!1;r=e[0]-i.OpCode.PUSH0,n=1}if(r<1||r>1024)return!1;let s=0;for(;e[n]==i.OpCode.PUSHDATA1;){if(e.length<=n+35)return!1;if(33!=e[n+1])return!1;n+=35,s+=1}if(s<r||s>1024)return!1;const a=e[n];if(a==i.OpCode.PUSHINT8){if(e.length<=n+1||s!=e[n+1])return!1;n+=2}else if(a==i.OpCode.PUSHINT16){if(e.length<n+3||s!=e.readUInt16LE(n+1))return!1;n+=3}else{if(!(i.OpCode.PUSH1<=a&&a<=i.OpCode.PUSH16))return!1;if(s!=a-i.OpCode.PUSH0)return!1;n+=1}return e.length==n+5&&e[n+1]==i.OpCode.SYSCALL&&(n+=2,e.slice(n,n+4).toString("hex")==u.InteropServiceCode.SYSTEM_CRYPTO_CHECKMULTISIG)},e.getNativeContractHash=function(t){const e=(new s.ScriptBuilder).emitString(t).emitSysCall(u.InteropServiceCode.SYSTEM_CONTRACT_CALLNATIVE).build(),r=(new s.ScriptBuilder).emit(i.OpCode.ABORT).emitContractParam(a.ContractParam.hash160("0".repeat(40))).emitHexString(e).build();return(0,n.reverseHex)((0,n.hash160)(r))}},686:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Signer=void 0;const n=r(3850),i=r(2287),o=r(8452);class s{static fromJson(t){return new s({account:t.account,scopes:(0,n.parse)(t.scopes),allowedContracts:t.allowedcontracts??[],allowedGroups:t.allowedgroups??[],rules:t.rules??[]})}constructor(t={}){const{account:e="",scopes:r=n.WitnessScope.None,allowedContracts:s=[],allowedGroups:a=[],rules:u=[]}=t;this.account=i.HexString.fromHex(e),this.scopes=255&("string"==typeof r?(0,n.parse)(r):r),this.allowedContracts=s.map((t=>i.HexString.fromHex(t))),this.allowedGroups=a.map((t=>i.HexString.fromHex(t))),this.rules=u.map((t=>new o.WitnessRule(t)))}get size(){return this.serialize().length/2}addAllowedContracts(...t){this.scopes&n.WitnessScope.Global||(this.scopes|=n.WitnessScope.CustomContracts,t.map((t=>i.HexString.fromHex(t))).forEach((t=>this.allowedContracts.push(t))))}addAllowedGroups(...t){this.scopes&n.WitnessScope.Global||(this.scopes|=n.WitnessScope.CustomGroups,t.map((t=>i.HexString.fromHex(t))).forEach((t=>this.allowedGroups.push(t))))}addRules(...t){if(!(this.scopes&n.WitnessScope.Global)){this.scopes|=n.WitnessScope.WitnessRules;for(const e of t)this.rules.push(e)}}static deserialize(t){const e=i.HexString.fromHex(t.read(20),!0),r=parseInt(t.read(),16),a=r&n.WitnessScope.CustomContracts?(0,i.deserializeArrayOf)((t=>i.HexString.fromHex(t.read(20),!0)),t):[],u=r&n.WitnessScope.CustomGroups?(0,i.deserializeArrayOf)((t=>i.HexString.fromHex(t.read(33))),t):[],f=r&n.WitnessScope.WitnessRules?(0,i.deserializeArrayOf)(o.WitnessRule.deserialize,t):[];return new s({account:e,scopes:r,allowedContracts:a,allowedGroups:u,rules:f})}merge(t){const e=t instanceof s?t:new s(t);if(!this.account.equals(e.account))throw new Error("Cannot merge Signers of different accounts!");if(this.scopes|=e.scopes,this.scopes&n.WitnessScope.Global)return this.scopes=n.WitnessScope.Global,this.allowedContracts=[],this.allowedGroups=[],this;if(e.allowedContracts){const t=e.allowedContracts.filter((t=>!this.allowedContracts.some((e=>e.equals(t)))));this.allowedContracts=this.allowedContracts.concat(t)}if(e.allowedGroups){const t=e.allowedGroups.filter((t=>!this.allowedGroups.some((e=>e.equals(t)))));this.allowedGroups=this.allowedGroups.concat(t)}return this}serialize(){let t="";return t+=this.account.toLittleEndian(),t+=(0,i.num2hexstring)(this.scopes,1),this.scopes&n.WitnessScope.CustomContracts&&(t+=(0,i.serializeArrayOf)(this.allowedContracts.map((t=>t.toLittleEndian())))),this.scopes&n.WitnessScope.CustomGroups&&(t+=(0,i.serializeArrayOf)(this.allowedGroups.map((t=>t.toBigEndian())))),this.scopes&n.WitnessScope.WitnessRules&&(t+=(0,i.serializeArrayOf)(this.rules)),t}export(){const t={account:this.account.toBigEndian(),scopes:this.scopes};return this.scopes&n.WitnessScope.CustomContracts&&(t.allowedContracts=[...this.allowedContracts.map((t=>t.toBigEndian()))]),this.scopes&n.WitnessScope.CustomGroups&&(t.allowedGroups=[...this.allowedGroups.map((t=>t.toBigEndian()))]),t}toJson(){const t={account:"0x"+this.account.toBigEndian(),scopes:(0,n.toString)(this.scopes)};return this.scopes&n.WitnessScope.CustomContracts&&(t.allowedcontracts=[...this.allowedContracts.map((t=>"0x"+t.toBigEndian()))]),this.scopes&n.WitnessScope.CustomGroups&&(t.allowedgroups=[...this.allowedGroups.map((t=>t.toBigEndian()))]),this.scopes&n.WitnessScope.WitnessRules&&(t.rules=[...this.rules.map((t=>t.toJson()))]),t}}e.Signer=s,e.default=s},9631:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OracleResponseAttribute=e.HighPriorityAttribute=e.TransactionAttribute=e.OracleResponseCode=e.TransactionAttributeType=void 0;const n=r(2287),i=r(3831);var o,s;!function(t){t[t.HighPriority=1]="HighPriority",t[t.OracleResponse=17]="OracleResponse"}(o=e.TransactionAttributeType||(e.TransactionAttributeType={})),function(t){t[t.Success=0]="Success",t[t.ProtocolNotSupported=16]="ProtocolNotSupported",t[t.ConsensusUnreachable=18]="ConsensusUnreachable",t[t.NotFound=20]="NotFound",t[t.Timeout=22]="Timeout",t[t.Forbidden=24]="Forbidden",t[t.ResponseTooLarge=26]="ResponseTooLarge",t[t.InsufficientFunds=28]="InsufficientFunds",t[t.ContentTypeNotSupported=31]="ContentTypeNotSupported",t[t.Error=255]="Error"}(s=e.OracleResponseCode||(e.OracleResponseCode={}));class a{get size(){return 1}static fromJson(t){const e=(0,i.parseEnum)(t.type,o);return this.getImplementation(e).fromJson(t)}static fromStream(t){return a.deserialize(t)}static deserialize(t){const e=parseInt(t.peek(1),16),r=(0,i.parseEnum)(e,o);return this.getImplementation(r).deserialize(t)}static getImplementation(t){switch(t){case o.HighPriority:return u;case o.OracleResponse:return f;default:throw new Error(`Unknown TransactionAttributeType: ${t}`)}}serialize(){return this.type.toString(16).padStart(2,"0")}}e.TransactionAttribute=a;class u extends a{get type(){return u._type}static fromJson(t){return new u}static deserialize(t){return c(t,this._type),new u}toJson(){return{type:"HighPriority"}}export(){return{type:this.type}}}u._type=o.HighPriority,e.HighPriorityAttribute=u;class f extends a{get type(){return f._type}get size(){return this.serialize().length/2}static fromJson(t){const e=(0,i.parseEnum)(t.code,s);return new f(t.id,e,t.result)}static deserialize(t){c(t,this._type);const e=parseInt(t.read(8),16),r=s[parseInt(t.read(1),16)],n=(0,i.parseEnum)(r,s),o=t.readVarInt();if(o>65535)throw new Error("Results size exceeds maximum");const a=t.read(o);return new f(e,n,a)}constructor(t,e,r){super(),this.id=t,this.code=e,this.result=r}toJson(){return{type:"OracleResponse",id:this.id,code:s[this.code],result:this.result}}serialize(){const t=(0,n.reverseHex)(this.id.toString(16).padStart(16,"0")),e=this.code.toString(16).padStart(2,"0"),r=(0,n.base642hex)(this.result.toString()),i=(0,n.num2VarInt)(r.length/2);return super.serialize()+t+e+i+r}export(){return{type:this.type,id:this.id,code:this.code,result:this.result}}}function c(t,e){const r=parseInt(t.read(1),16),n=(0,i.parseEnum)(r,o);if(n!==e)throw new Error(`Wrong TransactionAttributeType. Wanted ${o[e]} but got ${n}`)}f._type=o.OracleResponse,e.OracleResponseAttribute=f,e.default=a},2856:function(t,e,r){"use strict";var n,i=this&&this.__classPrivateFieldGet||function(t,e,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(t):n?n.value:e.get(t)},o=this&&this.__classPrivateFieldSet||function(t,e,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(t,r):i?i.value=r:e.set(t,r),r};Object.defineProperty(e,"__esModule",{value:!0}),e.Witness=void 0;const s=r(2287),a=r(5914);class u{static deserialize(t){const e=new s.StringStream(t);return this.fromStream(e)}static fromJson(t){return new u({invocationScript:s.HexString.fromBase64(t.invocation),verificationScript:s.HexString.fromBase64(t.verification)})}static fromStream(t){const e=t.readVarBytes(),r=t.readVarBytes();return new u({invocationScript:e,verificationScript:r})}static fromSignature(t,e){const r="0c40"+t,n=(0,a.getVerificationScriptFromPublicKey)(e);return new u({invocationScript:r,verificationScript:n})}static buildMultiSig(t,e,r){const n="string"==typeof r?r:s.HexString.fromBase64(r.contract.script).toBigEndian(),i=(0,a.getPublicKeysFromVerificationScript)(n),o=Array(i.length).fill("");e.forEach((e=>{if("string"==typeof e){const r=i.findIndex((r=>(0,a.verify)(t,e,r)));if(-1===r)throw new Error(`Invalid signature given: ${e}`);o[r]=e}else{if(!(e instanceof u))throw new Error("Unable to process given signature");{const t=(0,a.getPublicKeysFromVerificationScript)(e.verificationScript.toBigEndian());if(1!==t.length)throw new Error("Given witness contains more than 1 public key!");const r=i.indexOf(t[0]);o[r]=(0,a.getSignaturesFromInvocationScript)(e.invocationScript.toBigEndian())[0]}}}));const f=(0,a.getSigningThresholdFromVerificationScript)(n),c=o.filter((t=>""!==t));if(c.length<f)throw new Error(`Insufficient signatures: expected ${f} but got ${c.length} instead`);return new u({invocationScript:c.slice(0,f).map((t=>"0c40"+t)).join(""),verificationScript:n})}constructor(t={}){if(n.set(this,""),void 0===t.invocationScript||void 0===t.verificationScript)throw new Error("Witness requires invocationScript and verificationScript fields");this.invocationScript=s.HexString.fromHex(t.invocationScript),this.verificationScript=s.HexString.fromHex(t.verificationScript)}get size(){return(0,s.num2VarInt)(this.invocationScript.byteLength).length/2+(0,s.num2VarInt)(this.verificationScript.byteLength).length/2+this.verificationScript.byteLength+this.invocationScript.byteLength}get scriptHash(){if(i(this,n,"f"))return i(this,n,"f");if(this.verificationScript)return o(this,n,(0,s.reverseHex)((0,s.hash160)(this.verificationScript.toBigEndian())),"f"),i(this,n,"f");throw new Error("Unable to produce scriptHash from empty verificationScript")}serialize(){const t=(0,s.num2VarInt)(this.invocationScript.byteLength),e=(0,s.num2VarInt)(this.verificationScript.byteLength);return t+this.invocationScript.toBigEndian()+e+this.verificationScript.toBigEndian()}export(){return{invocationScript:this.invocationScript.toBigEndian(),verificationScript:this.verificationScript.toBigEndian()}}toJson(){return{invocation:this.invocationScript.toBase64(),verification:this.verificationScript.toBase64()}}equals(t){return this.invocationScript.equals(t.invocationScript??"")&&this.verificationScript.equals(t.verificationScript??"")}generateScriptHash(){o(this,n,(0,s.reverseHex)((0,s.hash160)(this.verificationScript.toBigEndian())),"f")}}e.Witness=u,n=new WeakMap,e.default=u},2667:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CalledByGroupWitnessCondition=e.CalledByContractWitnessCondition=e.CalledByEntryWitnessCondition=e.GroupWitnessCondition=e.ScriptHashWitnessCondition=e.OrWitnessCondition=e.NotWitnessCondition=e.AndWitnessCondition=e.BooleanWitnessCondition=e.WitnessCondition=e.WitnessConditionType=void 0;const n=r(3831),i=r(2287);var o;!function(t){t[t.Boolean=0]="Boolean",t[t.Not=1]="Not",t[t.And=2]="And",t[t.Or=3]="Or",t[t.ScriptHash=24]="ScriptHash",t[t.Group=25]="Group",t[t.CalledByEntry=32]="CalledByEntry",t[t.CalledByContract=40]="CalledByContract",t[t.CalledByGroup=41]="CalledByGroup"}(o=e.WitnessConditionType||(e.WitnessConditionType={}));class s{get size(){return 1}static fromJson(t){const e=(0,n.parseEnum)(t.type,o);return this.getImplementation(e).fromJson(t)}static deserialize(t){const e=parseInt(t.peek(1),16),r=(0,n.parseEnum)(e,o);return s.getImplementation(r).deserialize(t)}static getImplementation(t){switch(t){case o.And:return u;case o.Not:return f;case o.Boolean:return a;case o.Or:return c;case o.ScriptHash:return h;case o.Group:return d;case o.CalledByEntry:return l;case o.CalledByContract:return p;case o.CalledByGroup:return b;default:throw new Error(`Unknown WitnessConditionType: ${t}`)}}serialize(){return this.type.toString(16).padStart(2,"0")}}e.WitnessCondition=s;class a extends s{get type(){return a._type}static deserialize(t){g(t,this._type);const e="01"===t.read(1);return new a(e)}static fromJson(t){return new a(t.expression)}get size(){return super.size+1}constructor(t){super(),this.expression=t}serialize(){return super.serialize()+(this.expression?"01":"00")}toJson(){return{type:"Boolean",expression:this.expression}}}a._type=o.Boolean,e.BooleanWitnessCondition=a;class u extends s{get type(){return u._type}static deserialize(t){g(t,this._type);const e=(0,i.deserializeArrayOf)(s.deserialize,t);return new u(e)}static fromJson(t){return new u(t.expressions.map((t=>s.fromJson(t))))}get size(){return super.size+(0,i.getSerializedSize)(this.expressions)}constructor(t){super(),this.expressions=t}serialize(){return super.serialize()+(0,i.serializeArrayOf)(this.expressions)}toJson(){return{type:"And",expressions:this.expressions.map((t=>t.toJson()))}}}u._type=o.And,e.AndWitnessCondition=u;class f extends s{get type(){return f._type}static deserialize(t){g(t,this._type);const e=s.deserialize(t);return new f(e)}static fromJson(t){return new f(s.fromJson(t.expression))}get size(){return super.size+this.expression.size}constructor(t){super(),this.expression=t}serialize(){return super.serialize()+this.expression.serialize()}toJson(){return{type:"Not",expression:this.expression.toJson()}}}f._type=o.Not,e.NotWitnessCondition=f;class c extends s{get type(){return c._type}static deserialize(t){g(t,this._type);const e=(0,i.deserializeArrayOf)(s.deserialize,t);return new c(e)}static fromJson(t){return new c(t.expressions.map((t=>s.fromJson(t))))}get size(){return super.size+(0,i.getSerializedSize)(this.expressions)}constructor(t){super(),this.expressions=t}serialize(){return super.serialize()+(0,i.serializeArrayOf)(this.expressions)}toJson(){return{type:"Or",expressions:this.expressions.map((t=>t.toJson()))}}}c._type=o.Or,e.OrWitnessCondition=c;class h extends s{get type(){return h._type}static deserialize(t){g(t,this._type);const e=i.HexString.fromHex(t.read(20),!0);return new h(e)}static fromJson(t){return new h(t.hash)}get size(){return super.size+20}constructor(t){if(super(),this.hash=i.HexString.fromHex(t),40!==this.hash.length)throw new Error(`ScriptHashWitnessCondition only accepts a scripthash of 20 bytes but got ${this.hash.toString()}`)}serialize(){return super.serialize()+this.hash.toLittleEndian()}toJson(){return{type:"ScriptHash",hash:this.hash.toString()}}}h._type=o.ScriptHash,e.ScriptHashWitnessCondition=h;class d extends s{get type(){return d._type}static deserialize(t){g(t,this._type);const e=t.read(33);return new d(e)}static fromJson(t){return new d(t.group)}get size(){return super.size+33}constructor(t){if(super(),this.group=i.HexString.fromHex(t),66!==this.group.length)throw new Error(`GroupWitnessCondition only accepts a encoded public key of 33 bytes but got ${this.group.toString()}`)}serialize(){return super.serialize()+this.group.toString()}toJson(){return{type:"Group",group:this.group.toString()}}}d._type=o.Group,e.GroupWitnessCondition=d;class l extends s{get type(){return l._type}static deserialize(t){return g(t,this._type),new l}static fromJson(t){return new l}get size(){return super.size}constructor(){super()}serialize(){return super.serialize()}toJson(){return{type:"CalledByEntry"}}}l._type=o.CalledByEntry,e.CalledByEntryWitnessCondition=l;class p extends s{get type(){return p._type}static deserialize(t){g(t,this._type);const e=i.HexString.fromHex(t.read(20),!0);return new p(e)}static fromJson(t){return new p(t.hash)}get size(){return super.size+20}constructor(t){if(super(),this.hash=i.HexString.fromHex(t),40!==this.hash.length)throw new Error(`CalledByContractWitnessCondition only accepts a scripthash of 20 bytes but got ${this.hash.toString()}`)}serialize(){return super.serialize()+this.hash.toLittleEndian()}toJson(){return{type:"CalledByContract",hash:"0x"+this.hash.toString()}}}p._type=o.CalledByContract,e.CalledByContractWitnessCondition=p;class b extends s{get type(){return b._type}static deserialize(t){g(t,this._type);const e=t.read(33);return new b(e)}static fromJson(t){return new b(t.group)}get size(){return super.size+33}constructor(t){if(super(),this.group=i.HexString.fromHex(t),66!==this.group.length)throw new Error(`CalledByGroupWitnessCondition only accepts a encoded public key of 33 bytes but got ${this.group.toString()}`)}serialize(){return super.serialize()+this.group.toString()}toJson(){return{type:"CalledByGroup",group:this.group.toString()}}}function g(t,e){const r=parseInt(t.read(1),16),i=(0,n.parseEnum)(r,o);if(i!==e)throw new Error(`Wrong WitnessConditionType. Wanted ${o[e]} but got ${i}`)}b._type=o.CalledByGroup,e.CalledByGroupWitnessCondition=b},8452:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WitnessRule=e.WitnessRuleAction=void 0;const n=r(3831),i=r(2667);var o;!function(t){t[t.Deny=0]="Deny",t[t.Allow=1]="Allow"}(o=e.WitnessRuleAction||(e.WitnessRuleAction={}));class s{get size(){return 1+this.condition.size}static deserialize(t){const e=(0,n.parseEnum)(parseInt(t.read(1),16),o),r=i.WitnessCondition.deserialize(t);return new s({action:e,condition:r})}static fromJson(t){return new s(t)}constructor(t={}){this.action=void 0!==t.action?(0,n.parseEnum)(t.action,o):o.Deny,this.condition=void 0!==t.condition?t.condition instanceof i.WitnessCondition?t.condition:i.WitnessCondition.fromJson(t.condition):new i.CalledByEntryWitnessCondition}serialize(){return this.action.toString(16).padStart(2,"0")+this.condition.serialize()}toJson(){return{action:o[this.action],condition:this.condition.toJson()}}}e.WitnessRule=s},3850:(t,e)=>{"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.toString=e.parse=e.WitnessScope=void 0,function(t){t[t.None=0]="None",t[t.CalledByEntry=1]="CalledByEntry",t[t.CustomContracts=16]="CustomContracts",t[t.CustomGroups=32]="CustomGroups",t[t.WitnessRules=64]="WitnessRules",t[t.Global=128]="Global"}(r=e.WitnessScope||(e.WitnessScope={})),e.parse=function(t){return t.split(/\,/g).reduce(((t,e)=>t|r[e.trim()]),r.None)},e.toString=function(t){return t===r.None?"None":Object.values(r).filter((t=>"number"==typeof t)).filter((e=>t&e)).map((t=>r[t])).join(",")}},6395:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r(9631),e),i(r(2856),e),i(r(686),e),i(r(3850),e),i(r(8452),e),i(r(2667),e)},9416:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r(6395),e),i(r(9397),e)},3166:function(t,e,r){"use strict";var n,i=this&&this.__classPrivateFieldSet||function(t,e,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(t,r):i?i.value=r:e.set(t,r),r},o=this&&this.__classPrivateFieldGet||function(t,e,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(t):n?n.value:e.get(t)},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Transaction=void 0;const a=r(2526),u=s(r(7710)),f=r(2287),c=r(5914),h=r(6395),d=r(2010),l=(0,u.default)("tx");class p{get sender(){return this.signers&&this.signers.length>0?this.signers[0].account:f.HexString.fromHex("")}static fromJson(t){const e=new p({version:t.version,nonce:t.nonce,systemFee:f.BigInteger.fromDecimal(t.sysfee,0),networkFee:f.BigInteger.fromDecimal(t.netfee,0),validUntilBlock:t.validuntilblock,attributes:t.attributes.map((t=>h.TransactionAttribute.fromJson(t))),signers:t.signers.map((t=>h.Signer.fromJson(t))),script:f.HexString.fromBase64(t.script),witnesses:t.witnesses.map((t=>h.Witness.fromJson(t)))});return t.sender&&i(e,n,new c.Account(t.sender).addressVersion,"f"),e}constructor(t={}){n.set(this,null);const{version:e,nonce:r,systemFee:i,networkFee:o,validUntilBlock:s,signers:u=[],witnesses:c,script:d}=t;this.version=e??a.TX_VERSION,this.nonce=r??parseInt((0,f.ab2hexstring)((0,f.generateRandomArray)(4)),16),this.validUntilBlock=s??0,this.attributes=[],this.signers=[],this.witnesses=[],u.forEach((t=>this.addSigner(t))),this.witnesses=Array.isArray(c)?c.map((t=>new h.Witness(t))):[],this.systemFee=i instanceof f.BigInteger?i:f.BigInteger.fromNumber(i??0),this.networkFee=o instanceof f.BigInteger?o:f.BigInteger.fromNumber(o??0),this.script=f.HexString.fromHex(d??"")}get[(n=new WeakMap,Symbol.toStringTag)](){return"Transaction"}hash(){return(0,f.reverseHex)((0,f.sha256)(this.serialize(!1)))}get size(){return this.headerSize+(0,f.num2VarInt)(this.attributes.length).length/2+this.attributes.reduce(((t,e)=>t+e.size),0)+(0,f.num2VarInt)(this.signers.length).length/2+this.signers.reduce(((t,e)=>t+e.size),0)+(0,f.num2VarInt)(this.script.byteLength).length/2+this.script.byteLength+(0,f.num2VarInt)(this.witnesses.length).length/2+this.witnesses.reduce(((t,e)=>t+e.size),0)}get fees(){return this.systemFee.add(this.networkFee).toString()}get headerSize(){return 25}static deserialize(t){const e=new f.StringStream(t);let r=(0,d.deserializeVersion)(e);return r=(0,d.deserializeNonce)(e,r),r=(0,d.deserializeFee)(e,r),r=(0,d.deserializeValidUntilBlock)(e,r),r=(0,d.deserializeSigners)(e,r),r=(0,d.deserializeAttributes)(e,r),r=(0,d.deserializeScript)(e,r),e.isEmpty()||(r=(0,d.deserializeWitnesses)(e,r)),new p(r)}addSigner(t){const e=this.signers.map((t=>t.account)),r=f.HexString.fromHex(t.account);if(e.find((t=>t.equals(r))))throw new Error(`Cannot add duplicate cosigner: ${t.account}`);return this.signers.push(new h.Signer(t)),this.orderWitnesses(),this}addWitness(t){const e=new h.Witness(t),r=this.witnesses.find((t=>t.verificationScript.equals(e.verificationScript)));return r&&0!==e.invocationScript.byteLength?(r.invocationScript=e.invocationScript,this):(this.witnesses.push(e),this.orderWitnesses(),this)}orderWitnesses(){return this.signers.forEach(((t,e)=>{const r=t.account.toBigEndian(),n=this.witnesses.findIndex((t=>t.scriptHash===r));if(-1!==n){const t=this.witnesses.splice(n,1)[0];this.witnesses.splice(e,0,t)}})),this}serialize(t=!0){if(0!==this.version)throw new Error("Version must be 0");let e="";return e+=(0,f.num2hexstring)(this.version),e+=(0,f.num2hexstring)(this.nonce,4,!0),e+=this.systemFee.toReverseHex().padEnd(16,"0"),e+=this.networkFee.toReverseHex().padEnd(16,"0"),e+=(0,f.num2hexstring)(this.validUntilBlock,4,!0),e+=(0,f.serializeArrayOf)(this.signers),e+=(0,f.serializeArrayOf)(this.attributes),e+=(0,f.num2VarInt)(this.script.byteLength),e+=this.script.toString(),t&&(e+=(0,f.serializeArrayOf)(this.witnesses)),e}sign(t,e=a.MAGIC_NUMBER.MainNet,r){"string"==typeof t&&(t=new c.Account(t));const n=(0,c.sign)((0,f.num2hexstring)(e,4,!0)+(0,f.reverseHex)(this.hash()),t.privateKey,r);return l.info(`Signed Transaction with Account: ${t.label}`),this.addWitness(h.Witness.fromSignature(n,t.publicKey)),this}getMessageForSigning(t){return(0,f.num2hexstring)(t,4,!0)+(0,f.reverseHex)(this.hash())}equals(t){return t instanceof p?this.hash()===t.hash():this.hash()===new p(t).hash()}export(){return{version:this.version,nonce:this.nonce,systemFee:this.systemFee.toString(),networkFee:this.networkFee.toString(),validUntilBlock:this.validUntilBlock,attributes:this.attributes.map((t=>t.export())),signers:this.signers.map((t=>t.export())),witnesses:this.witnesses.map((t=>t.export())),script:this.script.toBigEndian()}}toJson(){return{size:this.size,version:this.version,nonce:this.nonce,sender:0===this.sender.byteLength||null===o(this,n,"f")?"":(0,c.getAddressFromScriptHash)(this.sender.toBigEndian(),o(this,n,"f")),sysfee:this.systemFee.toDecimal(0),netfee:this.networkFee.toDecimal(0),validuntilblock:this.validUntilBlock,attributes:this.attributes.map((t=>t.toJson())),signers:this.signers.map((t=>t.toJson())),script:this.script.toBase64(),witnesses:this.witnesses.map((t=>t.toJson()))}}getScriptHashesForVerifying(){return this.signers.map((t=>t.account.toBigEndian()))}}p.MAX_TRANSACTION_LIFESPAN=5760,e.Transaction=p,e.default=p},9397:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r(3166),e)},2010:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.deserializeSigners=e.formatSender=e.deserializeWitnesses=e.deserializeAttributes=e.deserializeValidUntilBlock=e.deserializeFee=e.deserializeScript=e.deserializeNonce=e.deserializeVersion=void 0;const i=r(2287),o=r(6395),s=r(5914),a=(0,n(r(7710)).default)("tx");e.deserializeVersion=function(t,e={}){const r=t.read(),n=parseInt(r,16);return 0!==n&&a.error(`Transaction version should be 0 not ${n}`),Object.assign(e,{version:n})},e.deserializeNonce=function(t,e={}){const r=parseInt((0,i.reverseHex)(t.read(4)),16);return Object.assign(e,{nonce:r})},e.deserializeScript=function(t,e={}){const r=t.readVarBytes();return 0===r.length&&a.error("Script should not be vacant."),Object.assign(e,{script:r})},e.deserializeFee=function(t,e={}){const r=i.BigInteger.fromTwos(t.read(8),!0),n=i.BigInteger.fromTwos(t.read(8),!0);return Object.assign(e,{systemFee:r,networkFee:n})},e.deserializeValidUntilBlock=function(t,e){const r=parseInt((0,i.reverseHex)(t.read(4)),16);return Object.assign(e,{validUntilBlock:r})},e.deserializeAttributes=function(t,e){const r=(0,i.deserializeArrayOf)(o.TransactionAttribute.fromStream,t).map((t=>t.export()));return Object.assign(e,{attributes:r})},e.deserializeWitnesses=function(t,e){const r=(0,i.deserializeArrayOf)(o.Witness.fromStream,t).map((t=>t.export()));return Object.assign(e,{witnesses:r})},e.formatSender=function(t){if(!t)return"";if(42===t.length&&t.startsWith("0x")){const e=t.slice(2);return(0,i.ensureHex)(e),e}if(40===t.length)return(0,i.ensureHex)(t),t;if(34===t.length)return(0,s.getScriptHashFromAddress)(t);throw new Error(`Sender format error: ${t}`)},e.deserializeSigners=function(t,e){const r=(0,i.deserializeArrayOf)(o.Signer.deserialize,t);return r.every((t=>r.indexOf(t)===r.lastIndexOf(t)))||a.warn("Signer should not duplicate."),Object.assign(e,{signers:r})}},5909:function(t,e,r){"use strict";var n,i=this&&this.__classPrivateFieldSet||function(t,e,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(t,r):i?i.value=r:e.set(t,r),r},o=this&&this.__classPrivateFieldGet||function(t,e,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(t):n?n.value:e.get(t)},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.BigInteger=void 0;const a=r(4626),u=s(r(2197)),f=r(7761);class c{static fromTwos(t,e=!1){const r=t instanceof f.HexString?t:f.HexString.fromHex(t,e);return new c(new u.default(r.toBigEndian(),16).fromTwos(8*r.byteLength))}static fromHex(t,e=!1){const r=t instanceof f.HexString?t:f.HexString.fromHex(t,e);return new c(new u.default(r.toBigEndian(),16))}static fromNumber(t){switch(typeof t){case"string":if(-1!==t.indexOf("."))throw new Error(`BigInteger only accepts integers. Got ${t}`);return new c(new u.default(t));case"number":if(t%1!=0)throw new Error(`BigInteger only accepts integers. Got ${t}`);return new c(new u.default(t.toString(16),16));default:throw new Error(`Input was not stringified number or number: ${typeof t} ${t}`)}}static fromDecimal(t,e){const r=("number"==typeof t?t.toFixed(e):t).split(".",2),n=r[0],i=2===r.length?r[1]:"";if(i.length>e)throw new Error(`Input had more decimal places than provided. Got ${i} but only got ${e} decimal places.`);const o=n+i+"0".repeat(e-i.length);return c.fromNumber(o)}constructor(t){n.set(this,void 0),i(this,n,t,"f")}toHex(){const t=o(this,n,"f").toString(16);return t.length%2!=0?"0"+t:t}toReverseHex(){return(0,a.reverseHex)(this.toHex())}toTwos(){const t=function(t){let e=t.byteLength();if(0===e)return 0;for(;e<=32;){if(h.length<e){d();continue}if(l(t,h[e-1]))return e;e++}throw new Error("Number too large to convert!")}(o(this,n,"f")),e=o(this,n,"f").toTwos(8*t).toString(16,2*t);return e.length%2!=0?"0"+e:e}toReverseTwos(){return(0,a.reverseHex)(this.toTwos())}toString(){return o(this,n,"f").toString()}toDecimal(t){if(0===t)return o(this,n,"f").toString();const e=o(this,n,"f").isNeg()?"-":"",r=o(this,n,"f").abs().toString(10);if(r.length<=t)return e+"0."+r.padStart(t,"0");const i=r.slice(0,r.length-t);return e+i+"."+r.slice(i.length)}add(t){const e=t instanceof c?t:c.fromNumber(t);return new c(o(this,n,"f").add(o(e,n,"f")))}sub(t){const e=t instanceof c?t:c.fromNumber(t);return new c(o(this,n,"f").sub(o(e,n,"f")))}mul(t){const e=t instanceof c?t:c.fromNumber(t);return new c(o(this,n,"f").mul(o(e,n,"f")))}div(t){const e=t instanceof c?t:c.fromNumber(t);return new c(o(this,n,"f").div(o(e,n,"f")))}mod(t){const e=t instanceof c?t:c.fromNumber(t);return new c(o(this,n,"f").mod(o(e,n,"f")))}compare(t){const e=t instanceof c?t:c.fromNumber(t);return o(this,n,"f").cmp(o(e,n,"f"))}equals(t){return 0===this.compare(t)}}e.BigInteger=c,n=new WeakMap;const h=[[new u.default(-128),new u.default(127)],[new u.default(-32768),new u.default(32767)],[new u.default(-8388608),new u.default(8388607)]];function d(){const t=h.length+1,e=new u.default(8*t-1);h.push([new u.default(2).pow(e).neg(),new u.default(2).pow(e).isubn(1)])}function l(t,e){return t.gte(e[0])&&t.lte(e[1])}},7761:function(t,e,r){"use strict";var n,i=this&&this.__classPrivateFieldGet||function(t,e,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(t):n?n.value:e.get(t)},o=this&&this.__classPrivateFieldSet||function(t,e,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(t,r):i?i.value=r:e.set(t,r),r};Object.defineProperty(e,"__esModule",{value:!0}),e.HexString=void 0;const s=r(4626),a=r(6597),u=r(2111);class f{get length(){return i(this,n,"f").length}get byteLength(){return i(this,n,"f").length/2}assert(t){(0,s.ensureHex)(t)}constructor(t,e=!1){n.set(this,void 0),t.startsWith("0x")&&(t=t.slice(2)),this.assert(t),o(this,n,e?(0,s.reverseHex)(t):t,"f")}toString(){return i(this,n,"f")}toBigEndian(){return i(this,n,"f")}toLittleEndian(){return(0,s.reverseHex)(i(this,n,"f"))}reversed(){return new f((0,s.reverseHex)(i(this,n,"f")))}equals(t){return"string"==typeof t?this.toBigEndian()===f.fromHex(t).toBigEndian():this.toBigEndian()===t.toBigEndian()}xor(t){return f.fromHex((0,a.hexXor)(this.toBigEndian(),t.toBigEndian()))}toAscii(){return(0,u.hexstring2str)(this.toBigEndian())}toNumber(t=!1){return parseInt(t?this.toLittleEndian():this.toBigEndian(),16)}toArrayBuffer(t=!1){return(0,u.hexstring2ab)(t?this.toLittleEndian():this.toBigEndian())}toBase64(t=!1){return(0,s.hex2base64)(t?this.toLittleEndian():this.toBigEndian())}static fromHex(t,e=!1){return"object"==typeof t&&t instanceof f?new f(t.toBigEndian()):new f(t,e)}static fromAscii(t){const e=(0,u.str2hexstring)(t);return new f(e)}static fromNumber(t){const e=t.toString(16);return e.length%2!=0?new f("0"+e):new f(e)}static fromArrayBuffer(t,e=!1){return new f((0,u.ab2hexstring)(t),e)}static fromBase64(t,e=!1){return new f((0,s.base642hex)(t),e)}}e.HexString=f,n=new WeakMap},5741:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringStream=void 0;const n=r(4626);class i{constructor(t=""){this.str=t,this.pter=0}isEmpty(){return this.pter>=this.str.length}peek(t=1){return this.isEmpty()?"":this.str.substr(this.pter,2*t)}read(t=1){if(0===t)return"";if(this.isEmpty())throw new Error("Reached the end of the stream!");const e=this.str.substr(this.pter,2*t);return this.pter+=2*t,e}readVarBytes(){return this.read(this.readVarInt())}readVarInt(){let t=parseInt(this.read(1),16);return 253===t?t=parseInt((0,n.reverseHex)(this.read(2)),16):254===t?t=parseInt((0,n.reverseHex)(this.read(4)),16):255===t&&(t=parseInt((0,n.reverseHex)(this.read(8)),16)),t}reset(){this.pter=0}context(){const t=this.pter>10?this.str.slice(this.pter-10,this.pter):this.str.slice(0,this.pter),e=this.read(1),r=this.peek(5);return this.pter-=2,`${t}|${e}|${r}`}}e.StringStream=i,e.default=i},6657:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.base642utf8=e.utf82base64=e.base642hex=e.hex2base64=void 0;const n=r(6023);e.hex2base64=function(t){return n.enc.Base64.stringify(n.enc.Hex.parse(t))},e.base642hex=function(t){return n.enc.Base64.parse(t).toString(n.enc.Hex)},e.utf82base64=function(t){return n.enc.Utf8.stringify(n.enc.Base64.parse(t))},e.base642utf8=function(t){return n.enc.Base64.parse(t).toString(n.enc.Utf8)}},3055:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.getCurve=e.EllipticCurvePreset=e.EllipticCurve=void 0;const i=r(7554),o=n(r(2197)),s=r(8764);class a{constructor(t){this.curve=new i.ec(t)}sign(t,e,r){if(void 0!==r){const n="number"==typeof r?new o.default(r):new o.default(r,"hex","be");if(n.cmpn(0)<=0)throw new Error("k must be a positive number");if(this.curve.n&&n.cmp(this.curve.n)>=0)throw new Error(`k must be smaller than ${this.curve.n.toString(10)}`);const i=this.curve.sign(s.Buffer.from(t,"hex"),s.Buffer.from(e,"hex"),{k:t=>new o.default(n).divn(t+1)});return{r:i.r.toString("hex",32),s:i.s.toString("hex",32)}}const n=this.curve.sign(s.Buffer.from(t,"hex"),s.Buffer.from(e,"hex"));return{r:n.r.toString("hex",32),s:n.s.toString("hex",32)}}verify(t,e,r){return this.curve.verify(t,{r:new o.default(e.r,16,"be"),s:new o.default(e.s,16,"be")},s.Buffer.from(r,"hex"),"hex")}getPublicKey(t,e=!0){const r=s.Buffer.from(t,"hex");return this.curve.keyFromPrivate(r,"hex").getPublic().encode("hex",e)}decodePublicKey(t){const e=s.Buffer.from(t,"hex");return this.curve.keyFromPublic(e,"hex").getPublic().encode("hex",!1)}}var u;e.EllipticCurve=a,function(t){t[t.SECP256R1=0]="SECP256R1",t[t.SECP256K1=1]="SECP256K1"}(u=e.EllipticCurvePreset||(e.EllipticCurvePreset={}));const f={[u.SECP256R1]:new a("p256"),[u.SECP256K1]:new a("secp256k1")};e.getCurve=function(t){return f[t]}},5487:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.hash256=e.hash160=e.ripemd160=e.sha256=void 0;const i=n(r(7736)),o=n(r(5293)),s=n(r(1093));function a(t,e){return e(i.default.parse(t)).toString(i.default)}function u(t){return a(t,s.default)}function f(t){return a(t,o.default)}e.sha256=u,e.ripemd160=f,e.hash160=function(t){return f(u(t))},e.hash256=function(t){const e=u(t);return u(e)}},5852:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.reverseHex=e.ensureHex=e.remove0xPrefix=e.isHex=void 0;const r=/^([0-9A-Fa-f]{2})*$/;function n(t){try{return r.test(t)}catch(t){return!1}}function i(t){if(!n(t))throw new Error(`Expected a hexstring but got ${t}`)}e.isHex=n,e.remove0xPrefix=function(t){return t.startsWith("0x")&&(t=t.substring(2)),t},e.ensureHex=i,e.reverseHex=function(t){i(t);let e="";for(let r=t.length-2;r>=0;r-=2)e+=t.substr(r,2);return e}},4626:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r(3055),e),i(r(5487),e),i(r(6511),e),i(r(5852),e),i(r(6657),e)},6511:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateRandomArray=void 0;const n=r(6023);e.generateRandomArray=t=>{const e=t%4==0?t:t+t%4;return(n.lib.WordArray.random(e).toString().substr(0,2*t).match(/.{1,2}/g)||[]).map((t=>parseInt(t,16)))}},2111:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.num2VarInt=e.num2hexstring=e.int2hex=e.hexstring2str=e.str2hexstring=e.ab2hexstring=e.hexstring2ab=e.str2ab=e.ab2str=void 0;const n=r(4626);function i(t){return String.fromCharCode.apply(null,Array.from(new Uint8Array(t)))}function o(t){if("string"!=typeof t)throw new Error(`str2ab expected a string but got ${typeof t} instead.`);const e=new Uint8Array(t.length);for(let r=0,n=t.length;r<n;r++)e[r]=t.charCodeAt(r);return e}function s(t){if((0,n.ensureHex)(t),!t.length)return new Uint8Array(0);const e=t.length/2,r=new Uint8Array(e);for(let n=0;n<e;n++)r[n]=parseInt(t.substring(0,2),16),t=t.substring(2);return r}function a(t){if("object"!=typeof t)throw new Error(`ab2hexstring expects an array. Input was ${t}`);let e="";const r=new Uint8Array(t);for(const t of r){let r=t.toString(16);r=0===r.length?"00":1===r.length?"0"+r:r,e+=r}return e}function u(t,e=1,r=!1){if("number"!=typeof t)throw new Error(`num2hexstring expected a number but got ${typeof t} instead.`);if(t<0)throw new RangeError(`num2hexstring expected a positive integer but got ${t} instead.`);if(e%1!=0)throw new Error(`num2hexstring expected a positive integer but got ${t} instead.`);if(!Number.isSafeInteger(t))throw new RangeError(`num2hexstring expected a safe integer but got ${t} instead.`);e*=2;let i=t.toString(16);return i=i.length%e==0?i:("0".repeat(e)+i).substring(i.length),r&&(i=(0,n.reverseHex)(i)),i}e.ab2str=i,e.str2ab=o,e.hexstring2ab=s,e.ab2hexstring=a,e.str2hexstring=function(t){return a(o(t))},e.hexstring2str=function(t){return i(s(t))},e.int2hex=function(t){if("number"!=typeof t)throw new Error(`int2hex expected a number but got ${typeof t} instead.`);const e=t.toString(16);return e.length%2?"0"+e:e},e.num2hexstring=u,e.num2VarInt=function(t){return t<253?u(t):t<=65535?"fd"+u(t,2,!0):t<=4294967295?"fe"+u(t,4,!0):"ff"+u(t,8,!0)}},2287:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r(4626),e),i(r(6597),e),i(r(2111),e),i(r(5741),e),i(r(7761),e),i(r(5909),e),i(r(3228),e)},6597:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.reverseArray=e.hexXor=void 0;const n=r(2111),i=r(4626);e.hexXor=function(t,e){if((0,i.ensureHex)(t),(0,i.ensureHex)(e),t.length!==e.length)throw new Error(`strings are disparate lengths. Inputs are of length ${t.length} and ${e.length}`);const r=[];for(let n=0;n<t.length;n+=2)r.push(parseInt(t.substr(n,2),16)^parseInt(e.substr(n,2),16));return(0,n.ab2hexstring)(r)},e.reverseArray=function(t){if("object"!=typeof t||!t.length)throw new Error("reverseArray expects an array");const e=new Array(t.length);for(let r=0;r<t.length;r++)e[r]=t[t.length-1-r];return e}},3228:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.serializeArrayOf=e.deserializeArrayOf=e.getSerializedSize=void 0;const n=r(2111),i=r(7761);e.getSerializedSize=function t(e){switch(typeof e){case"number":return e<253?1:e<=65535?3:5;case"object":if(e instanceof i.HexString){const r=e.byteLength;return t(r)+r}if(Array.isArray(e)){let r=0;return e.length>0&&"number"==typeof e[0].size&&"function"==typeof e[0].serialize&&(r=e.map((t=>t.size)).reduce(((t,e)=>t+e),0)),t(e.length)+r}default:throw new Error("Unsupported value type: "+typeof e)}},e.deserializeArrayOf=function(t,e){const r=[],n=e.readVarInt();for(let i=0;i<n;i++)r.push(t(e));return r},e.serializeArrayOf=function(t){return(0,n.num2VarInt)(t.length)+t.map((t=>"string"==typeof t?t:t.serialize())).join("")}},9533:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return i(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Account=void 0;const a=r(2526),u=s(r(7710)),f=r(2287),c=r(7885),h=o(r(8302)),d=r(8630),l=r(9089),p=r(4147),b=(0,u.default)("wallet");class g{static createMultiSig(t,e){const r=(0,d.constructMultiSigVerificationScript)(t,e);return new g({contract:{script:f.HexString.fromHex(r).toBase64(),parameters:Array(t).map(((t,e)=>({name:`signature${e}`,type:"Signature"}))),deployed:!1}})}constructor(t="",e={addressVersion:0}){if(this.addressVersion=a.DEFAULT_ADDRESS_VERSION,this.label="",this.isDefault=!1,this.lock=!1,this.contract=Object.assign({},a.DEFAULT_ACCOUNT_CONTRACT),e&&e.addressVersion>0&&(this.addressVersion=e.addressVersion),t)if("object"==typeof t)this._encrypted=t.key,this._address=t.address,this.label=t.label??"",this.isDefault=t.isDefault??!1,this.lock=t.lock??!1,this.contract=t.contract??Object.assign({},a.DEFAULT_ACCOUNT_CONTRACT);else if((0,p.isPrivateKey)(t))this._privateKey=t;else if((0,p.isPublicKey)(t,!1))this._publicKey=h.getPublicKeyEncoded(t);else if((0,p.isPublicKey)(t,!0))this._publicKey=t;else if((0,p.isScriptHash)(t))this._scriptHash=(0,f.remove0xPrefix)(t);else if((0,p.isAddress)(t)){this._address=t;const r=h.getAddressVersion(t);if(e.addressVersion>0&&e.addressVersion!==r)throw new Error(`Uncompatible address versions! Address ${t} uses version ${r} but config declares version ${e.addressVersion}`)}else if((0,p.isWIF)(t))this._privateKey=h.getPrivateKeyFromWIF(t),this._WIF=t;else{if(!(0,p.isNEP2)(t))throw new ReferenceError(`Invalid input: ${t}`);this._encrypted=t}else this._privateKey=h.generatePrivateKey();if(this._updateContractScript(),!this.label)try{this.label=this.address}catch(t){this.label=""}}get[Symbol.toStringTag](){return"Account"}get isMultiSig(){return(0,c.isMultisigContract)(f.HexString.fromBase64(this.contract?.script))}get encrypted(){if(this._encrypted)return this._encrypted;throw new Error("No encrypted key found")}get WIF(){return this._WIF||(this._WIF=h.getWIFFromPrivateKey(this.privateKey)),this._WIF}get privateKey(){if(this._privateKey)return this._privateKey;if(this._WIF)return this._privateKey=h.getPrivateKeyFromWIF(this._WIF),this._privateKey;throw this._encrypted?new ReferenceError("Private Key encrypted!"):new ReferenceError("No Private Key provided!")}get publicKey(){if(this._publicKey)return this._publicKey;if(this.contract?.script)try{const t=f.HexString.fromBase64(this.contract.script).toBigEndian();return this._publicKey=h.getPublicKeyFromVerificationScript(t),this._publicKey}catch{}return this._publicKey=h.getPublicKeyFromPrivateKey(this.privateKey),this._publicKey}getPublicKey(t=!0){return t?this.publicKey:h.getPublicKeyUnencoded(this.publicKey)}get scriptHash(){return this._scriptHash?this._scriptHash:this._address?(this._scriptHash=h.getScriptHashFromAddress(this.address),this._scriptHash):this.contract.script?(this._scriptHash=this._getScriptHashFromVerificationScript(),this._scriptHash):(this._scriptHash=h.getScriptHashFromPublicKey(this.publicKey),this._scriptHash)}get address(){return this._address||(this._address=h.getAddressFromScriptHash(this.scriptHash,this.addressVersion)),this._address}tryGet(t){switch(t){case"encrypted":return this._encrypted??"";case"WIF":return this._WIF??"";case"privateKey":return this._privateKey??"";case"publicKey":return this._publicKey??"";case"scriptHash":return this._scriptHash??"";case"address":return this._address??""}}async encrypt(t,e=a.DEFAULT_SCRYPT){return this._encrypted=await(0,l.encrypt)(this.privateKey,t,e),this}async decrypt(t,e=a.DEFAULT_SCRYPT){return this._WIF=await(0,l.decrypt)(this.encrypted,t,e),this._updateContractScript(),this}export(){if(this._privateKey&&!this._encrypted)throw new Error("Encrypt private key first!");const t=this._encrypted??"";return{address:this.address,label:this.label,isDefault:this.isDefault,lock:this.lock,key:t,contract:this.contract}}equals(t){return this.address===t.address}_updateContractScript(){try{if(""===this.contract.script){const t=this.publicKey;this.contract.script=f.HexString.fromHex(h.getVerificationScriptFromPublicKey(t)).toBase64(),this._scriptHash=this._getScriptHashFromVerificationScript(),b.debug(`Updated ContractScript for Account: ${this.address}`)}}catch(t){return}}_getScriptHashFromVerificationScript(){const t=f.HexString.fromBase64(this.contract.script).toBigEndian();return(0,f.reverseHex)((0,f.hash160)(t))}}e.Account=g,e.default=g},8726:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Wallet=void 0;const i=r(2526),o=n(r(7710)),s=r(9533),a=(0,o.default)("wallet");class u{constructor(t=i.DEFAULT_WALLET){if(this.name=t.name??"myWallet",this.version=t.version??i.DEFAULT_WALLET.version,this.scrypt=Object.assign({},i.DEFAULT_SCRYPT,t.scrypt),this.accounts=[],t.accounts)for(const e of t.accounts)this.addAccount(e);a.info(`New Wallet created: ${this.name}`)}get[Symbol.toStringTag](){return"Wallet"}get defaultAccount(){if(0===this.accounts.length)throw new Error("No accounts available in this Wallet!");for(const t of this.accounts)if(t.isDefault)return t;for(const t of this.accounts)if(t.tryGet("privateKey")||t.tryGet("WIF"))return t;for(const t of this.accounts)if(t.encrypted)return t;return this.accounts[0]}addAccount(t){const e=this.accounts.length;t instanceof s.Account||(t=new s.Account(t)),0===e&&(t.isDefault=!0),this.accounts.push(t);try{const e=t.address;a.info(`Added Account: ${e} to Wallet ${this.name}`)}catch(t){a.warn(`Encrypted account added to Wallet ${this.name}. You will not be able to export this wallet without first decrypting this account`)}return e}async decrypt(t,e){if(t<0)throw new Error(`Index cannot be negative! index: ${t}`);if(t>=this.accounts.length)throw new Error(`Index cannot larger than Accounts array! index: ${t}`);return await this.accounts[t].decrypt(e,this.scrypt),!0}decryptAll(t){return Promise.all(this.accounts.map(((e,r)=>this.decrypt(r,t))))}async encrypt(t,e){if(t<0)throw new Error("Index cannot be negative!");if(t>=this.accounts.length)throw new Error("Index cannot larger than Accounts array!");return await this.accounts[t].encrypt(e,this.scrypt),!0}encryptAll(t){return Promise.all(this.accounts.map(((e,r)=>this.encrypt(r,t))))}export(){return{name:this.name,version:this.version,scrypt:this.scrypt,accounts:this.accounts.map((t=>t.export()))}}setDefault(t){for(let e=0;e<this.accounts.length;e++)this.accounts[e].isDefault=e===t;return a.info(`Set Account: ${this.accounts[t]} as default for Wallet ${this.name}`),this}}e.Wallet=u,e.default=u},8302:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.getAddressVersion=e.generatePrivateKey=e.getScriptHashFromAddress=e.getAddressFromScriptHash=e.getScriptHashFromPublicKey=e.getScriptHashFromVerificationScript=e.getPublicKeyFromVerificationScript=e.getVerificationScriptFromPublicKey=e.getPublicKeyFromPrivateKey=e.getWIFFromPrivateKey=e.getPrivateKeyFromWIF=e.getPublicKeyUnencoded=e.getPublicKeyEncoded=void 0;const i=n(r(7022)),o=r(8764),s=r(2526),a=r(2287),u=r(7885),f=(0,a.getCurve)(a.EllipticCurvePreset.SECP256R1);function c(t){const e=new Uint8Array((0,a.hexstring2ab)(t));return e[64]%2==1?"03"+(0,a.ab2hexstring)(e.slice(1,33)):"02"+(0,a.ab2hexstring)(e.slice(1,33))}function h(t){return(new u.ScriptBuilder).emit(u.OpCode.PUSHDATA1,"21"+t).emitSysCall(u.InteropServiceCode.SYSTEM_CRYPTO_CHECKSIG).build()}e.getPublicKeyEncoded=c,e.getPublicKeyUnencoded=function(t){return f.decodePublicKey(t)},e.getPrivateKeyFromWIF=function(t){return(0,a.ab2hexstring)(i.default.decode(t)).substr(2,64)},e.getWIFFromPrivateKey=function(t){const e="80"+t+"01",r=e+(0,a.hash256)(e).substr(0,8);return i.default.encode((0,a.hexstring2ab)(r))},e.getPublicKeyFromPrivateKey=function(t,e=!0){return f.getPublicKey(t,e)},e.getVerificationScriptFromPublicKey=h,e.getPublicKeyFromVerificationScript=function(t){const e=u.OpToken.fromScript(t),r=e.pop();if(void 0===r||r.code!==u.OpCode.SYSCALL||(r.params??"")!==u.InteropServiceCode.SYSTEM_CRYPTO_CHECKSIG)throw new Error("script is not a single key account.");const n=e[0];if(n.code!==u.OpCode.PUSHDATA1||!n.params)throw new Error("cannot find public key");return n.params},e.getScriptHashFromVerificationScript=function(t){return(0,a.reverseHex)((0,a.hash160)(t))},e.getScriptHashFromPublicKey=function(t){"04"===t.substring(0,2)&&(t=c(t));const e=h(t);return(0,a.reverseHex)((0,a.hash160)(e))},e.getAddressFromScriptHash=function(t,e=s.DEFAULT_ADDRESS_VERSION){t=(0,a.reverseHex)(t);const r=e.toString(16),n=(0,a.hash256)(r+t).substr(0,8);return i.default.encode(o.Buffer.from(r+t+n,"hex"))},e.getScriptHashFromAddress=function(t){const e=(0,a.ab2hexstring)(i.default.decode(t));return(0,a.reverseHex)(e.substr(2,40))},e.generatePrivateKey=function(){return(0,a.ab2hexstring)((0,a.generateRandomArray)(32))},e.getAddressVersion=function(t){return i.default.decode(t)[0]}},5914:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r(9533),e),i(r(8302),e),i(r(9089),e),i(r(4147),e),i(r(2670),e),i(r(8726),e),i(r(8630),e),i(r(4447),e)},8630:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSignaturesFromInvocationScript=e.getSigningThresholdFromVerificationScript=e.getPublicKeysFromVerificationScript=e.constructMultiSigVerificationScript=void 0;const n=r(7885),i=r(4147);function o(t){return t.code===n.OpCode.PUSHDATA1&&!!t.params&&66===t.params.length}e.constructMultiSigVerificationScript=function(t,e){if(t<=0)throw new Error("signingThreshold must be bigger than zero.");if(t>e.length)throw new Error("signingThreshold must be smaller than or equal to number of keys");const r=new n.ScriptBuilder;return r.emitPush(t),e.forEach((t=>{if(!(0,i.isPublicKey)(t,!0))throw new Error(`${t} is not a valid encoded public key`);r.emitPublicKey(t)})),r.emitPush(e.length).emitSysCall(n.InteropServiceCode.SYSTEM_CRYPTO_CHECKMULTISIG).build()},e.getPublicKeysFromVerificationScript=function(t){return n.OpToken.fromScript(t).filter(o).map((t=>t.params))},e.getSigningThresholdFromVerificationScript=function(t){const e=n.OpToken.fromScript(t);return n.OpToken.parseInt(e[0])},e.getSignaturesFromInvocationScript=function(t){return n.OpToken.fromScript(t).filter((t=>t.code===n.OpCode.PUSHDATA1&&!!t.params&&128===t.params.length)).map((t=>t.params))}},9089:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.decryptNeo2=e.decrypt=e.encrypt=void 0;const i=n(r(7452)),o=n(r(7736)),s=n(r(9576)),a=n(r(2129)),u=n(r(181)),f=n(r(1093)),c=r(6023),h=r(1037),d=r(2526),l=n(r(7710)),p=r(2287),b=r(4147),g=r(8302),m=n(r(7022)),y=r(8764),v="17",w={Latin1:s.default,Hex:o.default},_={mode:a.default,padding:u.default},S=(0,l.default)("wallet");function M(t,e){return(0,g.getAddressFromScriptHash)((0,g.getScriptHashFromPublicKey)((0,g.getPublicKeyFromPrivateKey)(t)),e)}function A(t){const e="21"+(0,g.getPublicKeyFromPrivateKey)(t,!0)+"ac",r=(0,p.hash160)(e),n=(0,p.hash256)(v+r).substr(0,8);return m.default.encode(y.Buffer.from(v+r+n,"hex"))}async function C(t,e,r,n){const{n:o,r:s,p:a}=n,u=(0,p.ab2hexstring)(m.default.decode(t)),d=u.substr(0,u.length-8),l=u.substr(-8);if((0,p.hash256)(d).substr(0,8)!==l)throw new Error("Base58 checksum failed.");const b=d.substr(6,8),g=d.substr(-64),v=await(0,h.scrypt)(y.Buffer.from(e.normalize("NFC"),"utf8"),y.Buffer.from(b,"hex"),o,s,a,64,(()=>{})),M=y.Buffer.from(v).toString("hex"),A=M.slice(0,64),C=M.slice(64),E=c.lib.CipherParams.create({ciphertext:w.Hex.parse(g)}),O=i.default.decrypt(E,w.Hex.parse(C),_),x=(0,p.hexXor)(O.toString(),A),T=r(x);if(b!==(0,f.default)((0,f.default)(w.Latin1.parse(T))).toString().slice(0,8))throw new Error("Wrong password or scrypt parameters!");return S.info(`Successfully decrypted ${t}`),x}e.encrypt=function(t,e,r=d.DEFAULT_SCRYPT,n=d.DEFAULT_ADDRESS_VERSION){const o=(0,b.isWIF)(t)?(0,g.getPrivateKeyFromWIF)(t):t,s=M(o,n);return async function(t,e,r,n,o){const{n:s,r:a,p:u}=o,c=(0,f.default)(w.Latin1.parse(n)),l=(0,f.default)(c).toString().slice(0,8),b=await(0,h.scrypt)(y.Buffer.from(r.normalize("NFC"),"utf8"),y.Buffer.from(l,"hex"),s,a,u,64,(()=>{})),g=y.Buffer.from(b).toString("hex"),v=g.slice(0,64),M=g.slice(64),A=(0,p.hexXor)(e,v),C=i.default.encrypt(w.Hex.parse(A),w.Hex.parse(M),_),E=d.NEP2_HEADER+d.NEP2_FLAG+l+C.ciphertext.toString(),O=(0,p.hash256)(E).substr(0,8),x=m.default.encode((0,p.hexstring2ab)(E+O));return S.info(`Successfully encrypted key to ${x}`),x}((d.NEP2_HEADER,d.NEP2_FLAG),o,e,s,r)},e.decrypt=async function(t,e,r=d.DEFAULT_SCRYPT,n=d.DEFAULT_ADDRESS_VERSION){const i=await C(t,e,(t=>M(t,n)),r);return(0,g.getWIFFromPrivateKey)(i)},e.decryptNeo2=async function(t,e,r=d.DEFAULT_SCRYPT){const n=await C(t,e,A,r);return(0,g.getWIFFromPrivateKey)(n)}},2670:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateSignature=e.verify=e.sign=void 0;const n=r(2287),i=r(8302),o=r(4147),s=(0,n.getCurve)(n.EllipticCurvePreset.SECP256R1);function a(t,e,r){(0,o.isWIF)(e)&&(e=(0,i.getPrivateKeyFromWIF)(e));const a=(0,n.sha256)(t),u=s.sign(a,e,r);return u.r+u.s}e.sign=a,e.verify=function(t,e,r){if(!(0,o.isPublicKey)(r))throw new Error("Invalid public key");(0,o.isPublicKey)(r,!0)||(r=(0,i.getPublicKeyUnencoded)(r));const a={r:e.substr(0,64),s:e.substr(64,64)},u=(0,n.sha256)(t);return s.verify(u,a,r)},e.generateSignature=function(t,e){return a(t,e)}},4447:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.upgrade=void 0;const i=n(r(9533)),o=r(9089),s=r(2526);e.upgrade=async function(t,e="",r=s.DEFAULT_SCRYPT){if(!t.tryGet("privateKey")&&""===e)throw new Error("The account needs an unencrypted private key.");if(!t.address.startsWith("A"))throw new Error("This is not a neo2 Address.");if(e){const n=await(0,o.decryptNeo2)(t.encrypted,e,r),s=new i.default(n);return await s.encrypt(e,r)}const n=t.WIF;return new i.default(n)}},4147:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.isAddress=e.isScriptHash=e.isPublicKey=e.isPrivateKey=e.isWIF=e.isNEP2=void 0;const i=n(r(7022)),o=r(2287),s=r(8302);e.isNEP2=function(t){try{if(58!==t.length)return!1;const e=(0,o.ab2hexstring)(i.default.decode(t));return!(!e||86!==e.length)&&("01"===e.substr(0,2)&&("42"===e.substr(2,2)&&"e0"===e.substr(4,2)))}catch(t){return!1}},e.isWIF=function(t){if(52!==t.length)return!1;const e=(0,o.ab2hexstring)(i.default.decode(t)),r=e.substr(0,68),n=e.substr(-8);return(0,o.hash256)(r).substr(0,8)===n},e.isPrivateKey=function(t){return/^[0-9A-Fa-f]{64}$/.test(t)},e.isPublicKey=function(t,e){try{let r;switch(t.substr(0,2)){case"04":if(!0===e)return!1;r=(0,s.getPublicKeyEncoded)(t);break;case"02":case"03":if(!1===e)return!1;r=t;break;default:return!1}const n=(0,s.getPublicKeyUnencoded)(r),i=parseInt(n.substr(n.length-2,2),16);return"02"===r.substr(0,2)&&i%2==0||"03"===r.substr(0,2)&&i%2==1}catch(t){return!1}},e.isScriptHash=function(t){const e=(0,o.remove0xPrefix)(t);return(0,o.isHex)(e)&&40===e.length},e.isAddress=function(t,e=-1){try{const r=(0,o.ab2hexstring)(i.default.decode(t)),n=parseInt(r.slice(0,2),16);if(e>=0&&n!==e)return!1;if((0,o.hash256)(r.slice(0,42)).substr(0,8)!==r.substr(42,8))return!1;const a=(0,o.reverseHex)(r.slice(2,42));return(0,s.getAddressFromScriptHash)(a,n)===t}catch(t){return!1}}},8764:(t,e,r)=>{"use strict";const n=r(5766),i=r(2333),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50;const s=2147483647;function a(t){if(t>s)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,u.prototype),e}function u(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return h(t)}return f(t,e,r)}function f(t,e,r){if("string"==typeof t)return function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!u.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const r=0|b(t,e);let n=a(r);const i=n.write(t,e);i!==r&&(n=n.slice(0,i));return n}(t,e);if(ArrayBuffer.isView(t))return function(t){if(Y(t,Uint8Array)){const e=new Uint8Array(t);return l(e.buffer,e.byteOffset,e.byteLength)}return d(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Y(t,ArrayBuffer)||t&&Y(t.buffer,ArrayBuffer))return l(t,e,r);if("undefined"!=typeof SharedArrayBuffer&&(Y(t,SharedArrayBuffer)||t&&Y(t.buffer,SharedArrayBuffer)))return l(t,e,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return u.from(n,e,r);const i=function(t){if(u.isBuffer(t)){const e=0|p(t.length),r=a(e);return 0===r.length||t.copy(r,0,0,e),r}if(void 0!==t.length)return"number"!=typeof t.length||$(t.length)?a(0):d(t);if("Buffer"===t.type&&Array.isArray(t.data))return d(t.data)}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return u.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function h(t){return c(t),a(t<0?0:0|p(t))}function d(t){const e=t.length<0?0:0|p(t.length),r=a(e);for(let n=0;n<e;n+=1)r[n]=255&t[n];return r}function l(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,u.prototype),n}function p(t){if(t>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|t}function b(t,e){if(u.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Y(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return K(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return q(t).length;default:if(i)return n?-1:K(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,r){let n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return P(this,e,r);case"utf8":case"utf-8":return E(this,e,r);case"ascii":return x(this,e,r);case"latin1":case"binary":return T(this,e,r);case"base64":return C(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function m(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function y(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),$(r=+r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=u.from(e,n)),u.isBuffer(e))return 0===e.length?-1:v(t,e,r,n,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):v(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function v(t,e,r,n,i){let o,s=1,a=t.length,u=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,r/=2}function f(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){let n=-1;for(o=r;o<a;o++)if(f(t,o)===f(e,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===u)return n*s}else-1!==n&&(o-=o-n),n=-1}else for(r+u>a&&(r=a-u),o=r;o>=0;o--){let r=!0;for(let n=0;n<u;n++)if(f(t,o+n)!==f(e,n)){r=!1;break}if(r)return o}return-1}function w(t,e,r,n){r=Number(r)||0;const i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;const o=e.length;let s;for(n>o/2&&(n=o/2),s=0;s<n;++s){const n=parseInt(e.substr(2*s,2),16);if($(n))return s;t[r+s]=n}return s}function _(t,e,r,n){return J(K(e,t.length-r),t,r,n)}function S(t,e,r,n){return J(function(t){const e=[];for(let r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function M(t,e,r,n){return J(q(e),t,r,n)}function A(t,e,r,n){return J(function(t,e){let r,n,i;const o=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(e,t.length-r),t,r,n)}function C(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function E(t,e,r){r=Math.min(t.length,r);const n=[];let i=e;for(;i<r;){const e=t[i];let o=null,s=e>239?4:e>223?3:e>191?2:1;if(i+s<=r){let r,n,a,u;switch(s){case 1:e<128&&(o=e);break;case 2:r=t[i+1],128==(192&r)&&(u=(31&e)<<6|63&r,u>127&&(o=u));break;case 3:r=t[i+1],n=t[i+2],128==(192&r)&&128==(192&n)&&(u=(15&e)<<12|(63&r)<<6|63&n,u>2047&&(u<55296||u>57343)&&(o=u));break;case 4:r=t[i+1],n=t[i+2],a=t[i+3],128==(192&r)&&128==(192&n)&&128==(192&a)&&(u=(15&e)<<18|(63&r)<<12|(63&n)<<6|63&a,u>65535&&u<1114112&&(o=u))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=s}return function(t){const e=t.length;if(e<=O)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=O));return r}(n)}e.kMaxLength=s,u.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(t,e,r){return f(t,e,r)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(t,e,r){return function(t,e,r){return c(t),t<=0?a(t):void 0!==e?"string"==typeof r?a(t).fill(e,r):a(t).fill(e):a(t)}(t,e,r)},u.allocUnsafe=function(t){return h(t)},u.allocUnsafeSlow=function(t){return h(t)},u.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==u.prototype},u.compare=function(t,e){if(Y(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),Y(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let r=t.length,n=e.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);let r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;const n=u.allocUnsafe(e);let i=0;for(r=0;r<t.length;++r){let e=t[r];if(Y(e,Uint8Array))i+e.length>n.length?(u.isBuffer(e)||(e=u.from(e)),e.copy(n,i)):Uint8Array.prototype.set.call(n,e,i);else{if(!u.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(n,i)}i+=e.length}return n},u.byteLength=b,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)m(this,e,e+1);return this},u.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},u.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},u.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?E(this,0,t):g.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){let t="";const r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},o&&(u.prototype[o]=u.prototype.inspect),u.prototype.compare=function(t,e,r,n,i){if(Y(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;let o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(e>>>=0);const a=Math.min(o,s),f=this.slice(n,i),c=t.slice(e,r);for(let t=0;t<a;++t)if(f[t]!==c[t]){o=f[t],s=c[t];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},u.prototype.indexOf=function(t,e,r){return y(this,t,e,r,!0)},u.prototype.lastIndexOf=function(t,e,r){return y(this,t,e,r,!1)},u.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return w(this,t,e,r);case"utf8":case"utf-8":return _(this,t,e,r);case"ascii":case"latin1":case"binary":return S(this,t,e,r);case"base64":return M(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const O=4096;function x(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function T(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function P(t,e,r){const n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=e;n<r;++n)i+=Q[t[n]];return i}function I(t,e,r){const n=t.slice(e,r);let i="";for(let t=0;t<n.length-1;t+=2)i+=String.fromCharCode(n[t]+256*n[t+1]);return i}function R(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function L(t,e,r,n,i,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function B(t,e,r,n,i){j(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s,r}function k(t,e,r,n,i){j(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r+7]=o,o>>=8,t[r+6]=o,o>>=8,t[r+5]=o,o>>=8,t[r+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=s,s>>=8,t[r+2]=s,s>>=8,t[r+1]=s,s>>=8,t[r]=s,r+8}function N(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function H(t,e,r,n,o){return e=+e,r>>>=0,o||N(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function U(t,e,r,n,o){return e=+e,r>>>=0,o||N(t,0,r,8),i.write(t,e,r,n,52,8),r+8}u.prototype.slice=function(t,e){const r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);const n=this.subarray(t,e);return Object.setPrototypeOf(n,u.prototype),n},u.prototype.readUintLE=u.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||R(t,e,this.length);let n=this[t],i=1,o=0;for(;++o<e&&(i*=256);)n+=this[t+o]*i;return n},u.prototype.readUintBE=u.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||R(t,e,this.length);let n=this[t+--e],i=1;for(;e>0&&(i*=256);)n+=this[t+--e]*i;return n},u.prototype.readUint8=u.prototype.readUInt8=function(t,e){return t>>>=0,e||R(t,1,this.length),this[t]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(t,e){return t>>>=0,e||R(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(t,e){return t>>>=0,e||R(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(t,e){return t>>>=0,e||R(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(t,e){return t>>>=0,e||R(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readBigUInt64LE=Z((function(t){W(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||G(t,this.length-8);const n=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,i=this[++t]+256*this[++t]+65536*this[++t]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),u.prototype.readBigUInt64BE=Z((function(t){W(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||G(t,this.length-8);const n=e*2**24+65536*this[++t]+256*this[++t]+this[++t],i=this[++t]*2**24+65536*this[++t]+256*this[++t]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),u.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||R(t,e,this.length);let n=this[t],i=1,o=0;for(;++o<e&&(i*=256);)n+=this[t+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*e)),n},u.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||R(t,e,this.length);let n=e,i=1,o=this[t+--n];for(;n>0&&(i*=256);)o+=this[t+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return t>>>=0,e||R(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){t>>>=0,e||R(t,2,this.length);const r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(t,e){t>>>=0,e||R(t,2,this.length);const r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(t,e){return t>>>=0,e||R(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return t>>>=0,e||R(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readBigInt64LE=Z((function(t){W(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||G(t,this.length-8);const n=this[t+4]+256*this[t+5]+65536*this[t+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),u.prototype.readBigInt64BE=Z((function(t){W(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||G(t,this.length-8);const n=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(n)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+r)})),u.prototype.readFloatLE=function(t,e){return t>>>=0,e||R(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return t>>>=0,e||R(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return t>>>=0,e||R(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return t>>>=0,e||R(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(t,e,r,n){if(t=+t,e>>>=0,r>>>=0,!n){L(this,t,e,r,Math.pow(2,8*r)-1,0)}let i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(t,e,r,n){if(t=+t,e>>>=0,r>>>=0,!n){L(this,t,e,r,Math.pow(2,8*r)-1,0)}let i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},u.prototype.writeUint8=u.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||L(this,t,e,1,255,0),this[e]=255&t,e+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||L(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||L(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||L(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||L(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeBigUInt64LE=Z((function(t,e=0){return B(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeBigUInt64BE=Z((function(t,e=0){return k(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);L(this,t,e,r,n-1,-n)}let i=0,o=1,s=0;for(this[e]=255&t;++i<r&&(o*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/o>>0)-s&255;return e+r},u.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);L(this,t,e,r,n-1,-n)}let i=r-1,o=1,s=0;for(this[e+i]=255&t;--i>=0&&(o*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/o>>0)-s&255;return e+r},u.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||L(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||L(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||L(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||L(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},u.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||L(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeBigInt64LE=Z((function(t,e=0){return B(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeBigInt64BE=Z((function(t,e=0){return k(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeFloatLE=function(t,e,r){return H(this,t,e,!0,r)},u.prototype.writeFloatBE=function(t,e,r){return H(this,t,e,!1,r)},u.prototype.writeDoubleLE=function(t,e,r){return U(this,t,e,!0,r)},u.prototype.writeDoubleBE=function(t,e,r){return U(this,t,e,!1,r)},u.prototype.copy=function(t,e,r,n){if(!u.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);const i=n-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),i},u.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){const e=t.charCodeAt(0);("utf8"===n&&e<128||"latin1"===n)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;let i;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(i=e;i<r;++i)this[i]=t;else{const o=u.isBuffer(t)?t:u.from(t,n),s=o.length;if(0===s)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<r-e;++i)this[i+e]=o[i%s]}return this};const D={};function z(t,e,r){D[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function F(t){let e="",r=t.length;const n="-"===t[0]?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function j(t,e,r,n,i,o){if(t>r||t<e){const n="bigint"==typeof e?"n":"";let i;throw i=o>3?0===e||e===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(o+1)}${n}`:`>= -(2${n} ** ${8*(o+1)-1}${n}) and < 2 ** ${8*(o+1)-1}${n}`:`>= ${e}${n} and <= ${r}${n}`,new D.ERR_OUT_OF_RANGE("value",i,t)}!function(t,e,r){W(e,"offset"),void 0!==t[e]&&void 0!==t[e+r]||G(e,t.length-(r+1))}(n,i,o)}function W(t,e){if("number"!=typeof t)throw new D.ERR_INVALID_ARG_TYPE(e,"number",t)}function G(t,e,r){if(Math.floor(t)!==t)throw W(t,r),new D.ERR_OUT_OF_RANGE(r||"offset","an integer",t);if(e<0)throw new D.ERR_BUFFER_OUT_OF_BOUNDS;throw new D.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}z("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),z("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),z("ERR_OUT_OF_RANGE",(function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=F(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=F(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n}),RangeError);const V=/[^+/0-9A-Za-z-_]/g;function K(t,e){let r;e=e||1/0;const n=t.length;let i=null;const o=[];for(let s=0;s<n;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function q(t){return n.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(V,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function J(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function Y(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function $(t){return t!=t}const Q=function(){const t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function Z(t){return"undefined"==typeof BigInt?X:t}function X(){throw new Error("BigInt not supported")}},3196:()=>{},8087:()=>{},633:()=>{},488:()=>{},763:t=>{"use strict";t.exports={i8:"6.5.4"}},2754:t=>{"use strict";t.exports=JSON.parse('{"methods":[{"name":"totalSupply","parameters":[],"offset":0,"returntype":"Integer","safe":true},{"name":"balanceOf","parameters":[{"name":"account","type":"ByteArray"}],"offset":0,"returntype":"Integer","safe":true},{"name":"transfer","parameters":[{"name":"from","type":"ByteArray"},{"name":"to","type":"ByteArray"},{"name":"amount","type":"Integer"},{"name":"data","type":"Any"}],"offset":0,"returntype":"Boolean","safe":false},{"name":"symbol","parameters":[],"offset":0,"returntype":"String","safe":true},{"name":"decimals","parameters":[],"offset":0,"returntype":"Integer","safe":true}],"events":[{"name":"Transfer","parameters":[{"name":"from","type":"Hash160"},{"name":"to","type":"Hash160"},{"name":"amount","type":"Integer"}]}]}')},2106:t=>{"use strict";t.exports=JSON.parse('{"methods":[{"name":"balanceOf","parameters":[{"name":"account","type":"Hash160"}],"returntype":"Integer","offset":0,"safe":true},{"name":"decimals","parameters":[],"returntype":"Integer","offset":7,"safe":true},{"name":"getCandidates","parameters":[],"returntype":"Array","offset":14,"safe":true},{"name":"getCommittee","parameters":[],"returntype":"Array","offset":21,"safe":true},{"name":"getGasPerBlock","parameters":[],"returntype":"Integer","offset":28,"safe":true},{"name":"getNextBlockValidators","parameters":[],"returntype":"Array","offset":35,"safe":true},{"name":"getRegisterPrice","parameters":[],"returntype":"Integer","offset":42,"safe":true},{"name":"registerCandidate","parameters":[{"name":"pubkey","type":"PublicKey"}],"returntype":"Boolean","offset":49,"safe":false},{"name":"setGasPerBlock","parameters":[{"name":"gasPerBlock","type":"Integer"}],"returntype":"Void","offset":56,"safe":false},{"name":"setRegisterPrice","parameters":[{"name":"registerPrice","type":"Integer"}],"returntype":"Void","offset":63,"safe":false},{"name":"symbol","parameters":[],"returntype":"String","offset":70,"safe":true},{"name":"totalSupply","parameters":[],"returntype":"Integer","offset":77,"safe":true},{"name":"transfer","parameters":[{"name":"from","type":"Hash160"},{"name":"to","type":"Hash160"},{"name":"amount","type":"Integer"},{"name":"data","type":"Any"}],"returntype":"Boolean","offset":84,"safe":false},{"name":"unclaimedGas","parameters":[{"name":"account","type":"Hash160"},{"name":"end","type":"Integer"}],"returntype":"Integer","offset":91,"safe":true},{"name":"unregisterCandidate","parameters":[{"name":"pubkey","type":"PublicKey"}],"returntype":"Boolean","offset":98,"safe":false},{"name":"vote","parameters":[{"name":"account","type":"Hash160"},{"name":"voteTo","type":"PublicKey"}],"returntype":"Boolean","offset":105,"safe":false}],"events":[{"name":"Transfer","parameters":[{"name":"from","type":"Hash160"},{"name":"to","type":"Hash160"},{"name":"amount","type":"Integer"}]}]}')},269:t=>{"use strict";t.exports=JSON.parse('{"methods":[{"name":"totalSupply","parameters":[],"offset":0,"returntype":"Integer","safe":true},{"name":"balanceOf","parameters":[{"name":"account","type":"ByteArray"}],"offset":0,"returntype":"Integer","safe":true},{"name":"transfer","parameters":[{"name":"from","type":"ByteArray"},{"name":"to","type":"ByteArray"},{"name":"amount","type":"Integer"},{"name":"data","type":"Any"}],"offset":0,"returntype":"Boolean","safe":false},{"name":"symbol","parameters":[],"offset":0,"returntype":"String","safe":true},{"name":"decimals","parameters":[],"offset":0,"returntype":"Integer","safe":true}],"events":[{"name":"Transfer","parameters":[{"name":"from","type":"Hash160"},{"name":"to","type":"Hash160"},{"name":"amount","type":"Integer"}]}]}')},986:t=>{"use strict";t.exports=JSON.parse('{"methods":[{"name":"getMaxTransactionsPerBlock","parameters":[],"offset":0,"returntype":"Integer","safe":true},{"name":"getMaxBlockSize","parameters":[],"offset":0,"returntype":"Integer","safe":true},{"name":"getMaxBlockSystemFee","parameters":[],"offset":0,"returntype":"Integer","safe":true},{"name":"getFeePerByte","parameters":[],"offset":0,"returntype":"Integer","safe":true},{"name":"getExecFeeFactor","parameters":[],"offset":0,"returntype":"Integer","safe":true},{"name":"getStoragePrice","parameters":[],"offset":0,"returntype":"Integer","safe":true},{"name":"isBlocked","parameters":[{"name":"account","type":"ByteArray"}],"offset":0,"returntype":"Boolean","safe":true},{"name":"setMaxBlockSize","parameters":[{"name":"value","type":"Integer"}],"offset":0,"returntype":"Boolean","safe":false},{"name":"setMaxTransactionsPerBlock","parameters":[{"name":"value","type":"Integer"}],"offset":0,"returntype":"Boolean","safe":false},{"name":"setMaxBlockSystemFee","parameters":[{"name":"value","type":"Integer"}],"offset":0,"returntype":"Boolean","safe":false},{"name":"setFeePerByte","parameters":[{"name":"value","type":"Integer"}],"offset":0,"returntype":"Boolean","safe":false},{"name":"setExecFeeFactor","parameters":[{"name":"value","type":"Integer"}],"offset":0,"returntype":"Boolean","safe":false},{"name":"setStoragePrice","parameters":[{"name":"value","type":"Integer"}],"offset":0,"returntype":"Boolean","safe":false},{"name":"blockAccount","parameters":[{"name":"account","type":"ByteArray"}],"offset":0,"returntype":"Boolean","safe":false},{"name":"unblockAccount","parameters":[{"name":"account","type":"ByteArray"}],"offset":0,"returntype":"Boolean","safe":false}],"events":[]}')}},e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var o=e[n]={id:n,loaded:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}return r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),r(6097)})()));
//# sourceMappingURL=browser.js.map;
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define('axios',t):(e="undefined"!=typeof globalThis?globalThis:e||self).axios=t()}(this,(function(){"use strict";function e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function t(t){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?e(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function r(){r=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof m?t:m,a=Object.create(o.prototype),s=new N(n||[]);return i(a,"_invoke",{value:A(e,r,s)}),a}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",d="executing",y="completed",v={};function m(){}function g(){}function b(){}var w={};f(w,s,(function(){return this}));var E=Object.getPrototypeOf,O=E&&E(E(k([])));O&&O!==n&&o.call(O,s)&&(w=O);var S=b.prototype=m.prototype=Object.create(w);function j(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,t){function r(n,i,a,s){var u=h(e[n],e,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==typeof f&&o.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return r("throw",e,a,s)}))}s(u.arg)}var n;i(this,"_invoke",{value:function(e,o){function i(){return new t((function(t,n){r(e,o,t,n)}))}return n=n?n.then(i,i):i()}})}function A(t,r,n){var o=p;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var u=T(s,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var c=h(t,r,n);if("normal"===c.type){if(o=n.done?y:"suspendedYield",c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=y,n.method="throw",n.arg=c.arg)}}}function T(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,T(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=h(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function k(t){if(t||""===t){var r=t[s];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function r(){for(;++n<t.length;)if(o.call(t,n))return r.value=t[n],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=b,i(S,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:g,configurable:!0}),g.displayName=f(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,f(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},j(R.prototype),f(R.prototype,u,(function(){return this})),t.AsyncIterator=R,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new R(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},j(S),f(S,c,"Generator"),f(S,s,(function(){return this})),f(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=k,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var u=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:k(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function n(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,n(o.key),o)}}function u(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e,t){return h(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||d(e,t)||v()}function l(e){return function(e){if(Array.isArray(e))return y(e)}(e)||p(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e){if(Array.isArray(e))return e}function p(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function d(e,t){if(e){if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function v(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e,t){return function(){return e.apply(t,arguments)}}var g,b=Object.prototype.toString,w=Object.getPrototypeOf,E=(g=Object.create(null),function(e){var t=b.call(e);return g[t]||(g[t]=t.slice(8,-1).toLowerCase())}),O=function(e){return e=e.toLowerCase(),function(t){return E(t)===e}},S=function(e){return function(t){return o(t)===e}},j=Array.isArray,R=S("undefined");var A=O("ArrayBuffer");var T=S("string"),x=S("function"),P=S("number"),N=function(e){return null!==e&&"object"===o(e)},k=function(e){if("object"!==E(e))return!1;var t=w(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},_=O("Date"),L=O("File"),C=O("Blob"),F=O("FileList"),U=O("URLSearchParams");function D(e,t){var r,n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.allOwnKeys,s=void 0!==a&&a;if(null!=e)if("object"!==o(e)&&(e=[e]),j(e))for(r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else{var u,c=s?Object.getOwnPropertyNames(e):Object.keys(e),f=c.length;for(r=0;r<f;r++)u=c[r],t.call(null,e[u],u,e)}}function B(e,t){t=t.toLowerCase();for(var r,n=Object.keys(e),o=n.length;o-- >0;)if(t===(r=n[o]).toLowerCase())return r;return null}var I="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,q=function(e){return!R(e)&&e!==I};var z,M=(z="undefined"!=typeof Uint8Array&&w(Uint8Array),function(e){return z&&e instanceof z}),H=O("HTMLFormElement"),J=function(e){var t=Object.prototype.hasOwnProperty;return function(e,r){return t.call(e,r)}}(),G=O("RegExp"),W=function(e,t){var r=Object.getOwnPropertyDescriptors(e),n={};D(r,(function(r,o){var i;!1!==(i=t(r,o,e))&&(n[o]=i||r)})),Object.defineProperties(e,n)},K="abcdefghijklmnopqrstuvwxyz",V="0123456789",X={DIGIT:V,ALPHA:K,ALPHA_DIGIT:K+K.toUpperCase()+V};var $=O("AsyncFunction"),Q={isArray:j,isArrayBuffer:A,isBuffer:function(e){return null!==e&&!R(e)&&null!==e.constructor&&!R(e.constructor)&&x(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t;return e&&("function"==typeof FormData&&e instanceof FormData||x(e.append)&&("formdata"===(t=E(e))||"object"===t&&x(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&A(e.buffer)},isString:T,isNumber:P,isBoolean:function(e){return!0===e||!1===e},isObject:N,isPlainObject:k,isUndefined:R,isDate:_,isFile:L,isBlob:C,isRegExp:G,isFunction:x,isStream:function(e){return N(e)&&x(e.pipe)},isURLSearchParams:U,isTypedArray:M,isFileList:F,forEach:D,merge:function e(){for(var t=q(this)&&this||{},r=t.caseless,n={},o=function(t,o){var i=r&&B(n,o)||o;k(n[i])&&k(t)?n[i]=e(n[i],t):k(t)?n[i]=e({},t):j(t)?n[i]=t.slice():n[i]=t},i=0,a=arguments.length;i<a;i++)arguments[i]&&D(arguments[i],o);return n},extend:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=n.allOwnKeys;return D(t,(function(t,n){r&&x(t)?e[n]=m(t,r):e[n]=t}),{allOwnKeys:o}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,r,n){e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:function(e,t,r,n){var o,i,a,s={};if(t=t||{},null==e)return t;do{for(i=(o=Object.getOwnPropertyNames(e)).length;i-- >0;)a=o[i],n&&!n(a,e,t)||s[a]||(t[a]=e[a],s[a]=!0);e=!1!==r&&w(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:E,kindOfTest:O,endsWith:function(e,t,r){e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;var n=e.indexOf(t,r);return-1!==n&&n===r},toArray:function(e){if(!e)return null;if(j(e))return e;var t=e.length;if(!P(t))return null;for(var r=new Array(t);t-- >0;)r[t]=e[t];return r},forEachEntry:function(e,t){for(var r,n=(e&&e[Symbol.iterator]).call(e);(r=n.next())&&!r.done;){var o=r.value;t.call(e,o[0],o[1])}},matchAll:function(e,t){for(var r,n=[];null!==(r=e.exec(t));)n.push(r);return n},isHTMLForm:H,hasOwnProperty:J,hasOwnProp:J,reduceDescriptors:W,freezeMethods:function(e){W(e,(function(t,r){if(x(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;var n=e[r];x(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not rewrite read-only method '"+r+"'")}))}))},toObjectSet:function(e,t){var r={},n=function(e){e.forEach((function(e){r[e]=!0}))};return j(e)?n(e):n(String(e).split(t)),r},toCamelCase:function(e){return e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,r){return t.toUpperCase()+r}))},noop:function(){},toFiniteNumber:function(e,t){return e=+e,Number.isFinite(e)?e:t},findKey:B,global:I,isContextDefined:q,ALPHABET:X,generateString:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:X.ALPHA_DIGIT,r="",n=t.length;e--;)r+=t[Math.random()*n|0];return r},isSpecCompliantForm:function(e){return!!(e&&x(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:function(e){var t=new Array(10);return function e(r,n){if(N(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[n]=r;var o=j(r)?[]:{};return D(r,(function(t,r){var i=e(t,n+1);!R(i)&&(o[r]=i)})),t[n]=void 0,o}}return r}(e,0)},isAsyncFn:$,isThenable:function(e){return e&&(N(e)||x(e))&&x(e.then)&&x(e.catch)}};function Y(e,t,r,n,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),o&&(this.response=o)}Q.inherits(Y,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Q.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var Z=Y.prototype,ee={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){ee[e]={value:e}})),Object.defineProperties(Y,ee),Object.defineProperty(Z,"isAxiosError",{value:!0}),Y.from=function(e,t,r,n,o,i){var a=Object.create(Z);return Q.toFlatObject(e,a,(function(e){return e!==Error.prototype}),(function(e){return"isAxiosError"!==e})),Y.call(a,e.message,t,r,n,o),a.cause=e,a.name=e.name,i&&Object.assign(a,i),a};function te(e){return Q.isPlainObject(e)||Q.isArray(e)}function re(e){return Q.endsWith(e,"[]")?e.slice(0,-2):e}function ne(e,t,r){return e?e.concat(t).map((function(e,t){return e=re(e),!r&&t?"["+e+"]":e})).join(r?".":""):t}var oe=Q.toFlatObject(Q,{},null,(function(e){return/^is[A-Z]/.test(e)}));function ie(e,t,r){if(!Q.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;var n=(r=Q.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Q.isUndefined(t[e])}))).metaTokens,i=r.visitor||f,a=r.dots,s=r.indexes,u=(r.Blob||"undefined"!=typeof Blob&&Blob)&&Q.isSpecCompliantForm(t);if(!Q.isFunction(i))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(Q.isDate(e))return e.toISOString();if(!u&&Q.isBlob(e))throw new Y("Blob is not supported. Use a Buffer instead.");return Q.isArrayBuffer(e)||Q.isTypedArray(e)?u&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function f(e,r,i){var u=e;if(e&&!i&&"object"===o(e))if(Q.endsWith(r,"{}"))r=n?r:r.slice(0,-2),e=JSON.stringify(e);else if(Q.isArray(e)&&function(e){return Q.isArray(e)&&!e.some(te)}(e)||(Q.isFileList(e)||Q.endsWith(r,"[]"))&&(u=Q.toArray(e)))return r=re(r),u.forEach((function(e,n){!Q.isUndefined(e)&&null!==e&&t.append(!0===s?ne([r],n,a):null===s?r:r+"[]",c(e))})),!1;return!!te(e)||(t.append(ne(i,r,a),c(e)),!1)}var l=[],h=Object.assign(oe,{defaultVisitor:f,convertValue:c,isVisitable:te});if(!Q.isObject(e))throw new TypeError("data must be an object");return function e(r,n){if(!Q.isUndefined(r)){if(-1!==l.indexOf(r))throw Error("Circular reference detected in "+n.join("."));l.push(r),Q.forEach(r,(function(r,o){!0===(!(Q.isUndefined(r)||null===r)&&i.call(t,r,Q.isString(o)?o.trim():o,n,h))&&e(r,n?n.concat(o):[o])})),l.pop()}}(e),t}function ae(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function se(e,t){this._pairs=[],e&&ie(e,this,t)}var ue=se.prototype;function ce(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function fe(e,t,r){if(!t)return e;var n,o=r&&r.encode||ce,i=r&&r.serialize;if(n=i?i(t,r):Q.isURLSearchParams(t)?t.toString():new se(t,r).toString(o)){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+n}return e}ue.append=function(e,t){this._pairs.push([e,t])},ue.toString=function(e){var t=e?function(t){return e.call(this,t,ae)}:ae;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var le,he=function(){function e(){a(this,e),this.handlers=[]}return u(e,[{key:"use",value:function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){Q.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}]),e}(),pe={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},de={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:se,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},ye="undefined"!=typeof window&&"undefined"!=typeof document,ve=(le="undefined"!=typeof navigator&&navigator.product,ye&&["ReactNative","NativeScript","NS"].indexOf(le)<0),me="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,ge=t(t({},Object.freeze({__proto__:null,hasBrowserEnv:ye,hasStandardBrowserWebWorkerEnv:me,hasStandardBrowserEnv:ve})),de);function be(e){function t(e,r,n,o){var i=e[o++];if("__proto__"===i)return!0;var a=Number.isFinite(+i),s=o>=e.length;return i=!i&&Q.isArray(n)?n.length:i,s?(Q.hasOwnProp(n,i)?n[i]=[n[i],r]:n[i]=r,!a):(n[i]&&Q.isObject(n[i])||(n[i]=[]),t(e,r,n[i],o)&&Q.isArray(n[i])&&(n[i]=function(e){var t,r,n={},o=Object.keys(e),i=o.length;for(t=0;t<i;t++)n[r=o[t]]=e[r];return n}(n[i])),!a)}if(Q.isFormData(e)&&Q.isFunction(e.entries)){var r={};return Q.forEachEntry(e,(function(e,n){t(function(e){return Q.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),n,r,0)})),r}return null}var we={transitional:pe,adapter:["xhr","http"],transformRequest:[function(e,t){var r,n=t.getContentType()||"",o=n.indexOf("application/json")>-1,i=Q.isObject(e);if(i&&Q.isHTMLForm(e)&&(e=new FormData(e)),Q.isFormData(e))return o?JSON.stringify(be(e)):e;if(Q.isArrayBuffer(e)||Q.isBuffer(e)||Q.isStream(e)||Q.isFile(e)||Q.isBlob(e))return e;if(Q.isArrayBufferView(e))return e.buffer;if(Q.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return ie(e,new ge.classes.URLSearchParams,Object.assign({visitor:function(e,t,r,n){return ge.isNode&&Q.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((r=Q.isFileList(e))||n.indexOf("multipart/form-data")>-1){var a=this.env&&this.env.FormData;return ie(r?{"files[]":e}:e,a&&new a,this.formSerializer)}}return i||o?(t.setContentType("application/json",!1),function(e,t,r){if(Q.isString(e))try{return(t||JSON.parse)(e),Q.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||we.transitional,r=t&&t.forcedJSONParsing,n="json"===this.responseType;if(e&&Q.isString(e)&&(r&&!this.responseType||n)){var o=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(e){if(o){if("SyntaxError"===e.name)throw Y.from(e,Y.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ge.classes.FormData,Blob:ge.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Q.forEach(["delete","get","head","post","put","patch"],(function(e){we.headers[e]={}}));var Ee=we,Oe=Q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Se=Symbol("internals");function je(e){return e&&String(e).trim().toLowerCase()}function Re(e){return!1===e||null==e?e:Q.isArray(e)?e.map(Re):String(e)}function Ae(e,t,r,n,o){return Q.isFunction(n)?n.call(this,t,r):(o&&(t=r),Q.isString(t)?Q.isString(n)?-1!==t.indexOf(n):Q.isRegExp(n)?n.test(t):void 0:void 0)}var Te=function(e,t){function r(e){a(this,r),e&&this.set(e)}return u(r,[{key:"set",value:function(e,t,r){var n=this;function o(e,t,r){var o=je(t);if(!o)throw new Error("header name must be a non-empty string");var i=Q.findKey(n,o);(!i||void 0===n[i]||!0===r||void 0===r&&!1!==n[i])&&(n[i||t]=Re(e))}var i,a,s,u,c,f=function(e,t){return Q.forEach(e,(function(e,r){return o(e,r,t)}))};return Q.isPlainObject(e)||e instanceof this.constructor?f(e,t):Q.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?f((c={},(i=e)&&i.split("\n").forEach((function(e){u=e.indexOf(":"),a=e.substring(0,u).trim().toLowerCase(),s=e.substring(u+1).trim(),!a||c[a]&&Oe[a]||("set-cookie"===a?c[a]?c[a].push(s):c[a]=[s]:c[a]=c[a]?c[a]+", "+s:s)})),c),t):null!=e&&o(t,e,r),this}},{key:"get",value:function(e,t){if(e=je(e)){var r=Q.findKey(this,e);if(r){var n=this[r];if(!t)return n;if(!0===t)return function(e){for(var t,r=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=n.exec(e);)r[t[1]]=t[2];return r}(n);if(Q.isFunction(t))return t.call(this,n,r);if(Q.isRegExp(t))return t.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(e,t){if(e=je(e)){var r=Q.findKey(this,e);return!(!r||void 0===this[r]||t&&!Ae(0,this[r],r,t))}return!1}},{key:"delete",value:function(e,t){var r=this,n=!1;function o(e){if(e=je(e)){var o=Q.findKey(r,e);!o||t&&!Ae(0,r[o],o,t)||(delete r[o],n=!0)}}return Q.isArray(e)?e.forEach(o):o(e),n}},{key:"clear",value:function(e){for(var t=Object.keys(this),r=t.length,n=!1;r--;){var o=t[r];e&&!Ae(0,this[o],o,e,!0)||(delete this[o],n=!0)}return n}},{key:"normalize",value:function(e){var t=this,r={};return Q.forEach(this,(function(n,o){var i=Q.findKey(r,o);if(i)return t[i]=Re(n),void delete t[o];var a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(e,t,r){return t.toUpperCase()+r}))}(o):String(o).trim();a!==o&&delete t[o],t[a]=Re(n),r[a]=!0})),this}},{key:"concat",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.constructor).concat.apply(e,[this].concat(r))}},{key:"toJSON",value:function(e){var t=Object.create(null);return Q.forEach(this,(function(r,n){null!=r&&!1!==r&&(t[n]=e&&Q.isArray(r)?r.join(", "):r)})),t}},{key:Symbol.iterator,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map((function(e){var t=f(e,2);return t[0]+": "+t[1]})).join("\n")}},{key:Symbol.toStringTag,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(e){return e instanceof this?e:new this(e)}},{key:"concat",value:function(e){for(var t=new this(e),r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return n.forEach((function(e){return t.set(e)})),t}},{key:"accessor",value:function(e){var t=(this[Se]=this[Se]={accessors:{}}).accessors,r=this.prototype;function n(e){var n=je(e);t[n]||(!function(e,t){var r=Q.toCamelCase(" "+t);["get","set","has"].forEach((function(n){Object.defineProperty(e,n+r,{value:function(e,r,o){return this[n].call(this,t,e,r,o)},configurable:!0})}))}(r,e),t[n]=!0)}return Q.isArray(e)?e.forEach(n):n(e),this}}]),r}();Te.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Q.reduceDescriptors(Te.prototype,(function(e,t){var r=e.value,n=t[0].toUpperCase()+t.slice(1);return{get:function(){return r},set:function(e){this[n]=e}}})),Q.freezeMethods(Te);var xe=Te;function Pe(e,t){var r=this||Ee,n=t||r,o=xe.from(n.headers),i=n.data;return Q.forEach(e,(function(e){i=e.call(r,i,o.normalize(),t?t.status:void 0)})),o.normalize(),i}function Ne(e){return!(!e||!e.__CANCEL__)}function ke(e,t,r){Y.call(this,null==e?"canceled":e,Y.ERR_CANCELED,t,r),this.name="CanceledError"}Q.inherits(ke,Y,{__CANCEL__:!0});var _e=ge.hasStandardBrowserEnv?{write:function(e,t,r,n,o,i){var a=[e+"="+encodeURIComponent(t)];Q.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),Q.isString(n)&&a.push("path="+n),Q.isString(o)&&a.push("domain="+o),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function Le(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var Ce=ge.hasStandardBrowserEnv?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function n(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=n(window.location.href),function(t){var r=Q.isString(t)?n(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0};function Fe(e,t){var r=0,n=function(e,t){e=e||10;var r,n=new Array(e),o=new Array(e),i=0,a=0;return t=void 0!==t?t:1e3,function(s){var u=Date.now(),c=o[a];r||(r=u),n[i]=s,o[i]=u;for(var f=a,l=0;f!==i;)l+=n[f++],f%=e;if((i=(i+1)%e)===a&&(a=(a+1)%e),!(u-r<t)){var h=c&&u-c;return h?Math.round(1e3*l/h):void 0}}}(50,250);return function(o){var i=o.loaded,a=o.lengthComputable?o.total:void 0,s=i-r,u=n(s);r=i;var c={loaded:i,total:a,progress:a?i/a:void 0,bytes:s,rate:u||void 0,estimated:u&&a&&i<=a?(a-i)/u:void 0,event:o};c[t?"download":"upload"]=!0,e(c)}}var Ue={http:null,xhr:"undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,r){var n,o,i,a=e.data,s=xe.from(e.headers).normalize(),u=e.responseType,c=e.withXSRFToken;function f(){e.cancelToken&&e.cancelToken.unsubscribe(n),e.signal&&e.signal.removeEventListener("abort",n)}if(Q.isFormData(a))if(ge.hasStandardBrowserEnv||ge.hasStandardBrowserWebWorkerEnv)s.setContentType(!1);else if(!1!==(o=s.getContentType())){var y=o?o.split(";").map((function(e){return e.trim()})).filter(Boolean):[],m=h(i=y)||p(i)||d(i)||v(),g=m[0],b=m.slice(1);s.setContentType([g||"multipart/form-data"].concat(l(b)).join("; "))}var w=new XMLHttpRequest;if(e.auth){var E=e.auth.username||"",O=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";s.set("Authorization","Basic "+btoa(E+":"+O))}var S=Le(e.baseURL,e.url);function j(){if(w){var n=xe.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders());!function(e,t,r){var n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(new Y("Request failed with status code "+r.status,[Y.ERR_BAD_REQUEST,Y.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}((function(e){t(e),f()}),(function(e){r(e),f()}),{data:u&&"text"!==u&&"json"!==u?w.response:w.responseText,status:w.status,statusText:w.statusText,headers:n,config:e,request:w}),w=null}}if(w.open(e.method.toUpperCase(),fe(S,e.params,e.paramsSerializer),!0),w.timeout=e.timeout,"onloadend"in w?w.onloadend=j:w.onreadystatechange=function(){w&&4===w.readyState&&(0!==w.status||w.responseURL&&0===w.responseURL.indexOf("file:"))&&setTimeout(j)},w.onabort=function(){w&&(r(new Y("Request aborted",Y.ECONNABORTED,e,w)),w=null)},w.onerror=function(){r(new Y("Network Error",Y.ERR_NETWORK,e,w)),w=null},w.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",n=e.transitional||pe;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(new Y(t,n.clarifyTimeoutError?Y.ETIMEDOUT:Y.ECONNABORTED,e,w)),w=null},ge.hasStandardBrowserEnv&&(c&&Q.isFunction(c)&&(c=c(e)),c||!1!==c&&Ce(S))){var R=e.xsrfHeaderName&&e.xsrfCookieName&&_e.read(e.xsrfCookieName);R&&s.set(e.xsrfHeaderName,R)}void 0===a&&s.setContentType(null),"setRequestHeader"in w&&Q.forEach(s.toJSON(),(function(e,t){w.setRequestHeader(t,e)})),Q.isUndefined(e.withCredentials)||(w.withCredentials=!!e.withCredentials),u&&"json"!==u&&(w.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&w.addEventListener("progress",Fe(e.onDownloadProgress,!0)),"function"==typeof e.onUploadProgress&&w.upload&&w.upload.addEventListener("progress",Fe(e.onUploadProgress)),(e.cancelToken||e.signal)&&(n=function(t){w&&(r(!t||t.type?new ke(null,e,w):t),w.abort(),w=null)},e.cancelToken&&e.cancelToken.subscribe(n),e.signal&&(e.signal.aborted?n():e.signal.addEventListener("abort",n)));var A,T=(A=/^([-+\w]{1,25})(:?\/\/|:)/.exec(S))&&A[1]||"";T&&-1===ge.protocols.indexOf(T)?r(new Y("Unsupported protocol "+T+":",Y.ERR_BAD_REQUEST,e)):w.send(a||null)}))}};Q.forEach(Ue,(function(e,t){if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));var De=function(e){return"- ".concat(e)},Be=function(e){return Q.isFunction(e)||null===e||!1===e},Ie=function(e){for(var t,r,n=(e=Q.isArray(e)?e:[e]).length,o={},i=0;i<n;i++){var a=void 0;if(r=t=e[i],!Be(t)&&void 0===(r=Ue[(a=String(t)).toLowerCase()]))throw new Y("Unknown adapter '".concat(a,"'"));if(r)break;o[a||"#"+i]=r}if(!r){var s=Object.entries(o).map((function(e){var t=f(e,2),r=t[0],n=t[1];return"adapter ".concat(r," ")+(!1===n?"is not supported by the environment":"is not available in the build")}));throw new Y("There is no suitable adapter to dispatch the request "+(n?s.length>1?"since :\n"+s.map(De).join("\n"):" "+De(s[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return r};function qe(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ke(null,e)}function ze(e){return qe(e),e.headers=xe.from(e.headers),e.data=Pe.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Ie(e.adapter||Ee.adapter)(e).then((function(t){return qe(e),t.data=Pe.call(e,e.transformResponse,t),t.headers=xe.from(t.headers),t}),(function(t){return Ne(t)||(qe(e),t&&t.response&&(t.response.data=Pe.call(e,e.transformResponse,t.response),t.response.headers=xe.from(t.response.headers))),Promise.reject(t)}))}var Me=function(e){return e instanceof xe?t({},e):e};function He(e,t){t=t||{};var r={};function n(e,t,r){return Q.isPlainObject(e)&&Q.isPlainObject(t)?Q.merge.call({caseless:r},e,t):Q.isPlainObject(t)?Q.merge({},t):Q.isArray(t)?t.slice():t}function o(e,t,r){return Q.isUndefined(t)?Q.isUndefined(e)?void 0:n(void 0,e,r):n(e,t,r)}function i(e,t){if(!Q.isUndefined(t))return n(void 0,t)}function a(e,t){return Q.isUndefined(t)?Q.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function s(r,o,i){return i in t?n(r,o):i in e?n(void 0,r):void 0}var u={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:function(e,t){return o(Me(e),Me(t),!0)}};return Q.forEach(Object.keys(Object.assign({},e,t)),(function(n){var i=u[n]||o,a=i(e[n],t[n],n);Q.isUndefined(a)&&i!==s||(r[n]=a)})),r}var Je="1.6.8",Ge={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){Ge[e]=function(r){return o(r)===e||"a"+(t<1?"n ":" ")+e}}));var We={};Ge.transitional=function(e,t,r){function n(e,t){return"[Axios v1.6.8] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(r,o,i){if(!1===e)throw new Y(n(o," has been removed"+(t?" in "+t:"")),Y.ERR_DEPRECATED);return t&&!We[o]&&(We[o]=!0,console.warn(n(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,o,i)}};var Ke={assertOptions:function(e,t,r){if("object"!==o(e))throw new Y("options must be an object",Y.ERR_BAD_OPTION_VALUE);for(var n=Object.keys(e),i=n.length;i-- >0;){var a=n[i],s=t[a];if(s){var u=e[a],c=void 0===u||s(u,a,e);if(!0!==c)throw new Y("option "+a+" must be "+c,Y.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new Y("Unknown option "+a,Y.ERR_BAD_OPTION)}},validators:Ge},Ve=Ke.validators,Xe=function(){function e(t){a(this,e),this.defaults=t,this.interceptors={request:new he,response:new he}}var t,n;return u(e,[{key:"request",value:(t=r().mark((function e(t,n){var o,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._request(t,n);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),e.t0 instanceof Error&&(Error.captureStackTrace?Error.captureStackTrace(o={}):o=new Error,i=o.stack?o.stack.replace(/^.+\n/,""):"",e.t0.stack?i&&!String(e.t0.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(e.t0.stack+="\n"+i):e.t0.stack=i),e.t0;case 10:case"end":return e.stop()}}),e,this,[[0,6]])})),n=function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function s(e){i(a,n,o,s,u,"next",e)}function u(e){i(a,n,o,s,u,"throw",e)}s(void 0)}))},function(e,t){return n.apply(this,arguments)})},{key:"_request",value:function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{};var r=t=He(this.defaults,t),n=r.transitional,o=r.paramsSerializer,i=r.headers;void 0!==n&&Ke.assertOptions(n,{silentJSONParsing:Ve.transitional(Ve.boolean),forcedJSONParsing:Ve.transitional(Ve.boolean),clarifyTimeoutError:Ve.transitional(Ve.boolean)},!1),null!=o&&(Q.isFunction(o)?t.paramsSerializer={serialize:o}:Ke.assertOptions(o,{encode:Ve.function,serialize:Ve.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();var a=i&&Q.merge(i.common,i[t.method]);i&&Q.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete i[e]})),t.headers=xe.concat(a,i);var s=[],u=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(u=u&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));var c,f=[];this.interceptors.response.forEach((function(e){f.push(e.fulfilled,e.rejected)}));var l,h=0;if(!u){var p=[ze.bind(this),void 0];for(p.unshift.apply(p,s),p.push.apply(p,f),l=p.length,c=Promise.resolve(t);h<l;)c=c.then(p[h++],p[h++]);return c}l=s.length;var d=t;for(h=0;h<l;){var y=s[h++],v=s[h++];try{d=y(d)}catch(e){v.call(this,e);break}}try{c=ze.call(this,d)}catch(e){return Promise.reject(e)}for(h=0,l=f.length;h<l;)c=c.then(f[h++],f[h++]);return c}},{key:"getUri",value:function(e){return fe(Le((e=He(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}]),e}();Q.forEach(["delete","get","head","options"],(function(e){Xe.prototype[e]=function(t,r){return this.request(He(r||{},{method:e,url:t,data:(r||{}).data}))}})),Q.forEach(["post","put","patch"],(function(e){function t(t){return function(r,n,o){return this.request(He(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}Xe.prototype[e]=t(),Xe.prototype[e+"Form"]=t(!0)}));var $e=Xe,Qe=function(){function e(t){if(a(this,e),"function"!=typeof t)throw new TypeError("executor must be a function.");var r;this.promise=new Promise((function(e){r=e}));var n=this;this.promise.then((function(e){if(n._listeners){for(var t=n._listeners.length;t-- >0;)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},t((function(e,t,o){n.reason||(n.reason=new ke(e,t,o),r(n.reason))}))}return u(e,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}}],[{key:"source",value:function(){var t;return{token:new e((function(e){t=e})),cancel:t}}}]),e}();var Ye={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ye).forEach((function(e){var t=f(e,2),r=t[0],n=t[1];Ye[n]=r}));var Ze=Ye;var et=function e(t){var r=new $e(t),n=m($e.prototype.request,r);return Q.extend(n,$e.prototype,r,{allOwnKeys:!0}),Q.extend(n,r,null,{allOwnKeys:!0}),n.create=function(r){return e(He(t,r))},n}(Ee);return et.Axios=$e,et.CanceledError=ke,et.CancelToken=Qe,et.isCancel=Ne,et.VERSION=Je,et.toFormData=ie,et.AxiosError=Y,et.Cancel=et.CanceledError,et.all=function(e){return Promise.all(e)},et.spread=function(e){return function(t){return e.apply(null,t)}},et.isAxiosError=function(e){return Q.isObject(e)&&!0===e.isAxiosError},et.mergeConfig=He,et.AxiosHeaders=xe,et.formToJSON=function(e){return be(Q.isHTMLForm(e)?new FormData(e):e)},et.getAdapter=Ie,et.HttpStatusCode=Ze,et.default=et,et}));
//# sourceMappingURL=axios.min.js.map
;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojdvt-toolkit',["exports","ojs/ojthemeutils"],function(t,e){"use strict";const i=function(){};i._GET_FUNCTION_NAME_REGEXP=/function\s+([\S^]+)\s*\(/,i.createSubclass=function(t,e){var n=i._tempSubclassConstructor;n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.superclass=e.prototype},i._tempSubclassConstructor=function(){},i.prototype.clone=function(){return null},i.createCallback=function(t,e){return function(){return e.apply(t,arguments)}},i.compareValues=function(t,e,i){return t.oj.KeyUtils.equals(e,i)};const n=function(t,e){this.x=null===t||isNaN(t)?0:t,this.y=null===e||isNaN(e)?0:e};n.prototype.equals=function(t){return t instanceof n&&this.x===t.x&&this.y===t.y};const r=function(){};var o;r.setAgentInfo=function(t){o=t},r.getAgentInfo=function(){return o},Object.defineProperty(r,"browser",{enumerable:!0,get:function(){return r.getAgentInfo().browser}}),Object.defineProperty(r,"engine",{enumerable:!0,get:function(){return r.getAgentInfo().engine}}),Object.defineProperty(r,"version",{enumerable:!0,get:function(){return r.getAgentInfo().browserVersion}}),Object.defineProperty(r,"os",{enumerable:!0,get:function(){return r.getAgentInfo().os.toLowerCase()}}),i.createSubclass(r,i),r.FOCUS_COLOR_DEFAULT="#0645AD",r.FOCUS_COLOR_IE="#090909",r.deferAriaCreation=function(){return!r.isTouchDevice()&&!r.isEnvironmentTest()},r.getDevicePixelRatio=function(){return r._initialize(),r._devicePixelRatio},r.getElementPosition=function(t){return"ie"===r.browser||"edge"===r.browser?r._getElementPositionIE(t):r._getElementPositionDefault(t)},r.isRightToLeft=function(t){return r._initialize(),t&&null!=t.getReadingDirection()?"rtl"==t.getReadingDirection():r._bRtl},r.isTouchDevice=function(){return r._initialize(),r._bTouchDevice},r.setEnvironment=function(t){r._environment=t},r.isEnvironmentTest=function(){return"test"==r._environment},r.setHighContrast=function(t){r._highContrast=t},r.isHighContrast=function(){return!0===r._highContrast},r.workaroundFirefoxRepaint=function(t){if("firefox"===r.browser){var e=t.getParent();if(e){var i=e.getChildIndex(t);e.removeChildAt(i),e.addChildAt(t,i)}}},r._initialize=function(){r._bInitialized||(r._bRtl=!(!document||!document.documentElement)&&"rtl"==document.documentElement.dir,r._bTouchDevice="ios"===r.os||"android"===r.os,r._devicePixelRatio=window&&null!=window.devicePixelRatio?window.devicePixelRatio:1,r._bInitialized=!0)},r._getElementPositionDefault=function(t){var e=t.getBoundingClientRect(),i=Math.round(e.top),r=e.left,o=t.ownerDocument.documentElement,s=t.ownerDocument.body;return r+=o.scrollLeft||s.scrollLeft,i+=o.scrollTop||s.scrollTop,new n(r,i)},r._getElementPositionIE=function(t){var e=t.getBoundingClientRect(),i=e.top,r=e.left,o=t.ownerDocument.documentElement,s=o.scrollLeft;return r-=o.clientLeft-s,i-=o.clientTop-o.scrollTop,new n(r,i)},r.getFocusColor=function(){if(r._initialize(),!r._focusColor){var t;if("blink"===r.engine||"safari"===r.browser){var e=document.getElementsByTagName("body")[0],i=document.createElement("div");e.appendChild(i),i.style.outline="-webkit-focus-ring-color",t=window.getComputedStyle(i).getPropertyValue("outline-color"),e.removeChild(i)}else"ie"!==r.browser&&"edge"!==r.browser||(t=r.FOCUS_COLOR_IE);r._focusColor=t||r.FOCUS_COLOR_DEFAULT}return r._focusColor};const s={};i.createSubclass(s,i),s.getDragFeedbackBounds=function(t,e){if(!t)return null;var i=null;if(t instanceof Array){if(t.length>0){i=t[0].getDimensions(e||t[0].getParent());for(var n=1;n<t.length;n++){var r=t[n],o=r.getDimensions(e||r.getParent());o.x<i.x&&(i.w+=i.x-o.x,i.x=o.x),o.y<i.y&&(i.h+=i.y-o.y,i.y=o.y),o.x+o.w>i.x+i.w&&(i.w=o.x+o.w-i.x),o.y+o.h>i.y+i.h&&(i.h=o.y+o.h-i.y)}}}else i=t.getDimensions(e||t.getParent());return i};const a=function(t){this.Init(t)};i.createSubclass(a,i),a.DRAG_FEEDBACK_MARGIN=2,a.prototype.Init=function(t){this._context=t,this._dragCandidate=null,this._dragObj=null,this._dragCoords=null},a.prototype.getDragCandidate=function(){return this._dragCandidate},a.prototype.setDragCandidate=function(t){t&&t.isDragAvailable&&t.getDragTransferable?this._dragCandidate=t:this._dragCandidate=null},a.prototype.isDragAvailable=function(t){return null!=this._dragCandidate?this._dragCandidate.isDragAvailable(t):null},a.prototype.getDragTransferable=function(t,e){return this._dragCandidate?(this._dragObj=this._dragCandidate,this._dragCoords={x:t,y:e},this._dragCandidate.getDragTransferable(t,e)):null},a.prototype.getDragOverFeedback=function(t,e){this._context.getTooltipManager().hideTooltip();var i=this.getDragObject();return i&&i.getDragFeedback?i.getDragFeedback(t,e):null},a.prototype.getDragContext=function(t,e){return this._dragObj&&this._dragObj.getDragContext?this._dragObj.getDragContext(t,e):null},a.prototype.getDragObject=function(){return this._dragObj},a.prototype.getDragCoords=function(){return this._dragCoords},a.prototype.getDragOffset=function(t,e){var i={},n=this.getDragOverFeedback(t,e);if(n){var r=s.getDragFeedbackBounds(n,this._context.getStage()),o=this.getDragObject();o&&o.afterDragOverFeedback&&o.afterDragOverFeedback(n),r&&(i.x=t-r.x,i.y=e-r.y,i.x+=a.DRAG_FEEDBACK_MARGIN,i.y+=a.DRAG_FEEDBACK_MARGIN)}else i.x=0,i.y=0;return i},a.prototype.getPointerOffset=function(t,e){return{x:0,y:0}},a.prototype.initiateDrag=function(){var t=this.getTouchManager();r.isTouchDevice()&&t&&t.cancelTouchHold()},a.prototype.dragDropEnd=function(){this._dragCandidate=null,this._dragObj=null,this._dragCoords=null},a.prototype.setTouchManager=function(t){this._touchManager=t},a.prototype.getTouchManager=function(){return this._touchManager};const h=function(t,e){this.w=null===t||isNaN(t)?0:t,this.h=null===e||isNaN(e)?0:e},l=function(t,e,i,n,r,o){this._a=null==t?1:t,this._b=null==e?0:e,this._c=null==i?0:i,this._d=null==n?1:n,this._tx=null==r?0:r,this._ty=null==o?0:o,this._u=0,this._v=0,this._w=1};i.createSubclass(l,i),l._DECOMP_TX=0,l._DECOMP_TY=1,l._DECOMP_R=2,l._DECOMP_SKEWX=3,l._DECOMP_SX=4,l._DECOMP_SY=5,l.prototype.getA=function(){return this._a},l.prototype.getB=function(){return this._b},l.prototype.getC=function(){return this._c},l.prototype.getD=function(){return this._d},l.prototype.getTx=function(){return this._tx},l.prototype.getTy=function(){return this._ty},l.prototype.concat=function(t){var e=this._a*t.getA()+this._c*t.getB()+this._u*t.getTx(),i=this._b*t.getA()+this._d*t.getB()+this._v*t.getTx(),n=this._tx*t.getA()+this._ty*t.getB()+this._w*t.getTx(),r=this._a*t.getC()+this._c*t.getD()+this._u*t.getTy(),o=this._b*t.getC()+this._d*t.getD()+this._v*t.getTy(),s=this._tx*t.getC()+this._ty*t.getD()+this._w*t.getTy();return new l(e,i,r,o,n,s)},l.prototype.translate=function(t,e){return this.concat(new l(1,0,0,1,t,e))},l.prototype.scale=function(t,e,i,n){var r=this;(i||n)&&(r=this.translate(-i,-n));var o=new l(t,0,0,e);return r=r.concat(o),(i||n)&&(r=r.translate(i,n)),r},l.prototype.rotate=function(t){var e=Math.cos(t),i=Math.sin(t),n=new l(e,-i,i,e);return this.concat(n)},l.prototype.skew=function(t,e){var i=new l(1,Math.tan(t),Math.tan(e),1);return this.concat(i)},l.prototype._determinant=function(){return this._a*(this._d*this._w-this._ty*this._v)-this._b*(this._c*this._w-this._ty*this._u)+this._tx*(this._c*this._v-this._d*this._u)},l.prototype.invert=function(){var t=this._determinant(),e=this._d*this._w-this._ty*this._v,i=this._tx*this._v-this._b*this._w,n=this._b*this._ty-this._tx*this._d,r=this._ty*this._u-this._c*this._w,o=this._a*this._w-this._tx*this._u,s=this._tx*this._c-this._a*this._ty;return new l(e/t,i/t,r/t,o/t,n/t,s/t)},l.prototype._decompose=function(){var t=this._a,e=this._b,i=this._c,n=this._d,r=this._tx,o=this._ty;if(t*n-e*i==0)return null;var s=Math.sqrt(t*t+i*i),a=(t/=s)*e+(i/=s)*n;e-=t*a,n-=i*a;var h=Math.sqrt(e*e+n*n);return a/=h,-1===t*(n/=h)-(e/=h)*i&&(a=-a,h=-h),[r,o,Math.atan2(i,t),Math.atan(a),s,h]},l.prototype._recompose=function(t){var e=new l,i=t[0],n=t[1],r=t[2],o=t[3],s=t[4],a=t[5];return(e=(e=(e=e.scale(s,a)).skew(o,0)).rotate(r)).translate(i,n)},l.prototype.equals=function(t){return!(!this&&t)&&(!(this&&!t)&&(!this&&!t||this._a===t.getA()&&this._b===t.getB()&&this._c===t.getC()&&this._d===t.getD()&&this._tx===t.getTx()&&this._ty===t.getTy()))},l.prototype.transformPoint=function(t){var e=this._a*t.x+this._b*t.y+1*this._tx,i=this._c*t.x+this._d*t.y+1*this._ty;return new n(e,i)},l.prototype.isIdentity=function(){return 1===this._a&&0===this._b&&0===this._c&&1===this._d&&0===this._tx&&0===this._ty};const u={};i.createSubclass(u,i),u.SVG_NS="http://www.w3.org/2000/svg",u.XLINK_NS="http://www.w3.org/1999/xlink",u._IMAGE_URL_CACHE={},u._ICON_CACHE={},u.createSvgDocument=function(t){var e=document.createElementNS(u.SVG_NS,"svg");return null!=t&&u.setAttrNullNS(e,"id",t),u.setAttrNullNS(e,"width","100%"),u.setAttrNullNS(e,"height","100%"),"ie"!==r.browser&&"edge"!==r.browser||u.setAttrNullNS(e,"focusable","false"),e},u.getDragFeedback=function(t,e){var i=new Object;if(!t)return i.width=1,i.height=1,i.svg=u.createSvgDocument("dnd"),i;t instanceof Array||(t=[t]);var n=s.getDragFeedbackBounds(t,e),r=u._getDragFeedbackSVG(t,n);return i.width=n.w+2*a.DRAG_FEEDBACK_MARGIN,i.height=n.h+2*a.DRAG_FEEDBACK_MARGIN,r&&(i.svg=r),i},u._getDragFeedbackSVG=function(t,e){var i=u.createSvgDocument("dnd");u.setAttrNullNS(i,"class","oj-drag");var n="translate("+(a.DRAG_FEEDBACK_MARGIN-e.x)+","+(a.DRAG_FEEDBACK_MARGIN-e.y)+")",r=document.createElementNS(u.SVG_NS,"g");u.setAttrNullNS(r,"transform",n),u.appendChildElem(i,r);for(var o=0;o<t.length;o++){var s=t[o],h=s.getElem().cloneNode(!0);u.getAttrNullNS(h,"filter")&&u.setAttrNullNS(h,"filter",null);var l=document.createElementNS(u.SVG_NS,"g");u.appendChildElem(r,l);for(var c=s.getPathToStage(),_=null,p=1;p<c.length;p++)_=_?_.concat(c[p].getMatrix()):c[p].getMatrix();if(_){var d="matrix("+_.getA()+","+_.getC()+","+_.getB()+","+_.getD()+","+_.getTx()+","+_.getTy()+")";u.setAttrNullNS(l,"transform",d)}u.appendChildElem(l,h)}return i},u.addDomEventListener=function(t,e,i,n){t&&t.addEventListener&&t.addEventListener(e,i,n)},u.removeDomEventListener=function(t,e,i,n){t&&t.removeEventListener&&t.removeEventListener(e,i,n)},u.appendChildElem=function(t,e){return t.appendChild(e)},u.removeChildElem=function(t,e){return e.parentNode!=t?null:t.removeChild(e)},u.getAttrNullNS=function(t,e){return t.getAttribute(e)},u.hasAttrNullNS=function(t,e){return t.hasAttribute(e)},u.setAttrNullNS=function(t,e,i,n){null==n||i!=n?t.setAttribute(e,i):u.hasAttrNullNS(t,e)&&u.removeAttrNullNS(t,e)},u.removeAttrNullNS=function(t,e){u.hasAttrNullNS(t,e)&&t.removeAttribute(e)},u.setHref=function(t,e){"safari"===r.browser||"firefox"===r.browser&&r.version<51?t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e):u.setAttrNullNS(t,"href",e)},u.getLinkCallback=function(t,e){if(t||e){var i=this;return function(){if(null==t)i.location=e;else{var n=window.open(e,t);n&&n.focus()}}}return null},u.getUrlPathById=function(t){return(("ie"===r.browser||"edge"===r.browser?null!=document.querySelector("base"):document.URL!=document.baseURI)?document.URL.split("#")[0]+"#":"#")+t},u.getUrlById=function(t){return"url("+u.getUrlPathById(t)+")"},u.setSvgSize=function(t,e,i){var n=t.getSvgDocument();u.setAttrNullNS(n,"width",e+"px"),u.setAttrNullNS(n,"height",i+"px")},u.getOuterDivSize=function(t){var e=t.getSvgDocument().parentNode,i=window.getComputedStyle(e);return new h(parseFloat(i.width),parseFloat(i.height))},u.getEventForSyntax=function(t,e){var i=e.getNativeEvent();if(!t.isCustomElement()&&"undefined"!=typeof $){var n=$.event.fix(i);return n.dataTransfer=i.dataTransfer,n}return i},u.getImageUrl=function(t,e){return null==e||-1!==e.indexOf(".")?e:u.getImageUrls(t,[e])[e]},u.getImageUrls=function(t,e){if(0==e.length)return{};var i={},n=document.createElement("div");n.style.display="none";for(var r=0;r<e.length;r++){var o,s,a=e[r];null!=a&&(-1===a.indexOf(".")?null==(o=u._IMAGE_URL_CACHE[a])?((s=document.createElement("div")).className=a,u.appendChildElem(n,s)):i[a]=o:i[a]=a)}return n.hasChildNodes()?(u.appendChildElem(t.getContainer(),n),Array.prototype.forEach.call(n.childNodes,function(t){var e=t.className,n=window.getComputedStyle(t).getPropertyValue("background-image");n=n&&-1!==n.indexOf("url(")?n.slice(n.indexOf("url(")+4,n.length-1).replace(/["']/g,""):e,i[e]=n,u._IMAGE_URL_CACHE[e]=n}),u.removeChildElem(t.getContainer(),n),i):i},u.getIconStyle=function(t,e){return u.getIconStyles(t,[e])[e]},u.getIconStyles=function(t,e){if(0==e.length)return{};var i={},n=document.createElement("div"),r=n.style;r.width="0px",r.height="0px",r.visibility="hidden";for(var o=0;o<e.length;o++){var s,a,h=e[o];null!=h&&(null==(s=u._ICON_CACHE[h])?((a=document.createElement("div")).className=h,u.appendChildElem(n,a)):i[h]=s)}return n.hasChildNodes()?(u.appendChildElem(t.getContainer(),n),Array.prototype.forEach.call(n.childNodes,function(t){var e,n=t.className,r=window.getComputedStyle(t,":before"),o=r.getPropertyValue("content"),s=o.charAt('"'===o.charAt(0)?1:0),a=r.getPropertyValue("transform");if("none"===a)e=new l;else{var h=a.match(/matrix\((.*)\)/)[1].split(", ").map(t=>Number(t));e=new l(...h)}var c={character:s,transform:e};i[n]=c,u._ICON_CACHE[n]=c}),u.removeChildElem(t.getContainer(),n),i):i},u.addClassName=function(t,e){if(t&&e)if(u.hasAttrNullNS(t,"class")){var i=u.getAttrNullNS(t,"class").split(" ");-1==i.indexOf(e)&&(i.push(e),u.setAttrNullNS(t,"class",i.join(" ")))}else u.setAttrNullNS(t,"class",e)},u.removeClassName=function(t,e){if(t&&e&&u.hasAttrNullNS(t,"class")){var i=u.getAttrNullNS(t,"class").split(" "),n=i.indexOf(e);n>=0&&(i.splice(n,1),u.setAttrNullNS(t,"class",i.join(" ")))}},u.getGrabCursor=function(){return"ie"===r.browser?"move":"grab"},u.getGrabbingCursor=function(){return"ie"===r.browser?"move":"grabbing"},u.cleanDragDataContext=function(t){return delete t.componentElement,delete t.component,t},u.getUseCaptureFromOptions=function(t){return null!=t&&("boolean"==typeof t?t:t.capture||!1)};const c=function(t){return r.isTouchDevice()&&"chrome"===r.browser?window.setTimeout(t,1e3/60):window.requestAnimationFrame(t)},_=function(t){r.isTouchDevice()&&"chrome"===r.browser?clearTimeout(t):window.cancelAnimationFrame(t)},p=function(t){this._id=(t?t+"$":"")+"cp"+p._uniqueSeed++,this._regions=[]};i.createSubclass(p,i),p._uniqueSeed=0,p.NONE=0,p.RECT=1,p.PATH=2,p.POLYGON=3,p.CIRCLE=5,p.prototype.getId=function(){return this._id},p.prototype.getRegions=function(t){return this._regions},p.prototype.addRect=function(t,e,i,n,r,o){var s={type:p.RECT,x:t,y:e,w:i,h:n,rx:r,ry:o};this._regions.push(s)},p.prototype.addCircle=function(t,e,i){var n={type:p.CIRCLE,cx:t,cy:e,r:i};this._regions.push(n)},p.prototype.addPolygon=function(t){var e={type:p.POLYGON,points:t};this._regions.push(e)},p.prototype.addPath=function(t){var e={type:p.PATH,d:t};this._regions.push(e)};const d=new Object;i.createSubclass(d,i),d.removeItem=function(t,e){var i=t.indexOf(e);i>-1&&t.splice(i,1)},d.insert=function(t,e,i){if(!Array.isArray(t))return null;if(!Array.isArray(e))return t;var n;if(0===i)n=e.concat(t);else if(i>0&&i<t.length){var r=t.splice(0,i);n=(r=r.concat(e)).concat(t)}else n=t.concat(e);return n},d.equals=function(t,e){if(!t&&e)return!1;if(t&&!e)return!1;if(t||e){if(t.length!=e.length)return!1;for(var i=0;i<=t.length;i++)if(t[i]!==e[i])return!1;return!0}return!0},d.hasAnyMapItem=function(t,e){if(!t||!e)return!1;for(var i=0;i<e.length;i++)if(t[e[i]])return!0;return!1},d.hasAllMapItems=function(t,e){if(!t||!e)return!1;for(var i=0;i<e.length;i++)if(!t[e[i]])return!1;return!0},d.hasAnyItem=function(t,e){return d.hasAnyMapItem(d.createBooleanMap(t),e)},d.hasAllItems=function(t,e){return d.hasAllMapItems(d.createBooleanMap(t),e)},d.createBooleanMap=function(t){if(!t)return null;for(var e={},i=0;i<t.length;i++)e[t[i]]=!0;return e};const g=function(t,e,i,n){this.Init(t,e,i,n)};i.createSubclass(g,i),g.prototype.getAlphas=function(){return this._arAlphas},g.prototype.getBounds=function(){return this._arBounds},g.prototype.getColors=function(){return this._arColors},g.prototype.getStops=function(){return this._arStops},g.prototype.Init=function(t,e,i,n){if(!e&&(e=[],t))for(var r=0;r<t.length;r++)e.push(1);var o=t?t.length-1:0;if(!i){i=[];var s=o>0?1/o:0,a=0;do{i.push(a),a+=s}while(--o>0);i.push(1)}this._arColors=t,this._arAlphas=e,this._arStops=i,this._arBounds=n},g.prototype.equals=function(t){return t instanceof g&&d.equals(this.getColors(),t.getColors())&&d.equals(this.getStops(),t.getStops())&&d.equals(this.getAlphas(),t.getAlphas())&&d.equals(this.getBounds(),t.getBounds())};const f=function(){};i.createSubclass(f,i),f.createElem=function(t,e){var i,n=document.createElementNS(u.SVG_NS,"linearGradient");u.setAttrNullNS(n,"id",e);var r=t.getColors(),o=t.getAlphas(),s=t.getStops(),a=t.getBounds(),h=r.length;for(i=0;i<h;i++){var l=document.createElementNS(u.SVG_NS,"stop");u.setAttrNullNS(l,"offset",100*s[i]+"%");var c=r[i];if(c){var _=o[i];u.setAttrNullNS(l,"stop-color",c),null!=_&&u.setAttrNullNS(l,"stop-opacity",_,1)}u.appendChildElem(n,l)}var p=!a||0==a[0]&&0==a[1]&&0==a[2]&&0==a[3],d=t.getAngle(),g="0%",f="0%",y="100%",v="0%",S=!0;if(p)45===d?(f="100%",y="100%"):90===d?(f="100%",y="0%"):135===d?(g="100%",y="0%",v="100%"):270===d?(y="0%",v="100%"):0!==d&&(d=-d,u.setAttrNullNS(n,"gradientTransform","rotate("+d+" .5 .5)"),S=!1);else{u.setAttrNullNS(n,"gradientUnits","userSpaceOnUse"),g="0",f="0.5",y="1",v="0.5";var T=a[2],E=a[3],m=a[0],b=a[1],C="scale("+T+" "+E+")"+" "+("rotate("+(d=-d)+" .5 .5)");0==m&&0==b||(C="translate("+m+" "+b+")"+" "+C),u.setAttrNullNS(n,"gradientTransform",C)}return S&&(u.setAttrNullNS(n,"x1",g),u.setAttrNullNS(n,"y1",f),u.setAttrNullNS(n,"x2",y),u.setAttrNullNS(n,"y2",v)),n};const y=function(t,e,i,n){this._pattern=t?y._convertPatternValue(t):y.SM_DIAG_UP_LT,this._fillColor=e||"#000000",this._backgroundColor=i||"#ffffff",this._matrix=n};i.createSubclass(y,i),y.SM_DIAG_UP_LT="sDUL",y.LG_DIAG_UP_LT="lDUL",y.SM_DIAG_UP_RT="sDUR",y.LG_DIAG_UP_RT="lDUR",y.SM_CROSSHATCH="sC",y.LG_CROSSHATCH="lC",y.SM_CHECK="sCh",y.LG_CHECK="lCh",y.SM_TRIANGLE_CHECK="sTCh",y.LG_TRIANGLE_CHECK="lTCh",y.SM_DIAMOND_CHECK="sDCh",y.LG_DIAMOND_CHECK="lDCh",y.prototype.getPattern=function(){return this._pattern},y.prototype.getColor=function(){return this._fillColor},y.prototype.getBackgroundColor=function(){return this._backgroundColor},y.prototype.equals=function(t){return t instanceof y&&t.getPattern()==this.getPattern()&&t.getColor()==this.getColor()&&t.getBackgroundColor()==this.getBackgroundColor()},y.prototype.getMatrix=function(){return this._matrix||new l},y._convertPatternValue=function(t){return"smallDiagonalLeft"==t?y.SM_DIAG_UP_LT:"largeDiagonalLeft"==t?y.LG_DIAG_UP_LT:"smallDiagonalRight"==t?y.SM_DIAG_UP_RT:"largeDiagonalRight"==t?y.LG_DIAG_UP_RT:"smallCrosshatch"==t?y.SM_CROSSHATCH:"largeCrosshatch"==t?y.LG_CROSSHATCH:"smallChecker"==t?y.SM_CHECK:"largeChecker"==t?y.LG_CHECK:"smallTriangle"==t?y.SM_TRIANGLE_CHECK:"largeTriangle"==t?y.LG_TRIANGLE_CHECK:"smallDiamond"==t?y.SM_DIAMOND_CHECK:"largeDiamond"==t?y.LG_DIAMOND_CHECK:t};const v=function(t){this.Init(t)};i.createSubclass(v,i),v._TARGET_SIZE=1e3,v._BUFFER_SIZE=.5,v.prototype.Init=function(t){this._targetSize=null!=t?t:v._TARGET_SIZE,this._maxSize=Math.ceil(this._targetSize*(1+v._BUFFER_SIZE)),this._cache={},this._lruArray=[],this._hits=0,this._misses=0},v.prototype.get=function(t){var e=this._cache[t];return null!=e?(this._hits++,e):(this._misses++,null)},v.prototype.put=function(t,e){var i=null!=this._cache[t];if(this._cache[t]=e,i){var n=this._lruArray.indexOf(t);this._lruArray.splice(n,1),this._lruArray.push(t)}else if(this._lruArray.push(t),this._lruArray.length>this._maxSize)for(var r=this._lruArray.splice(0,this._maxSize-this._targetSize),o=0;o<r.length;o++)delete this._cache[r[o]]},v.prototype.toString=function(){var t="Cache Size: "+this._lruArray.length;return t+="\nHits: "+this._hits,t+="\nMisses: "+this._misses,t+="\nHit %: "+Math.round(1e4*this._hits/(this._hits+this._misses))/100};const S=new Object;i.createSubclass(S,i),S.RADS_PER_DEGREE=Math.PI/180,S.DEGREES_PER_RAD=180/Math.PI,S.TWO_PI=2*Math.PI,S.HALF_PI=Math.PI/2,S.QUARTER_PI=Math.PI/4,S.TOLERANCE=.1,S.degreesToRads=function(t){return t*S.RADS_PER_DEGREE},S.radsToDegrees=function(t){return t*S.DEGREES_PER_RAD},S.interpolateNumber=function(t,e,i){return t+i*(e-t)},S.log10=function(t){return Math.log(t)/Math.LN10},S.calculateAngleBetweenTwoVectors=function(t,e,i,n){var r=Math.atan2(n,i)-Math.atan2(e,t);return r<0?r+S.TWO_PI:r};const T={};i.createSubclass(T,i),T._RED=0,T._GREEN=1,T._BLUE=2,T._ALPHA=3,T._RGBA="rgba(",T._RGB="rgb(",T._POUND="#",T._FACTOR=.15,T._names,T._CONTRASTING_TEXT_COLOR_CACHE={},T.getColorFromName=function(t){if(!T._names){var e={aliceblue:"#f0f8ff",antiquewhite:"#faEbd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffE4c4",black:"#000000",blanchedalmond:"#ffEbcd",blue:"#0000ff",blueviolet:"#8a2bE2",brown:"#a52a2a",burlywood:"#dEb887",cadetblue:"#5f9Ea0",chartreuse:"#7fff00",chocolate:"#d2691E",coral:"#ff7f50",cornflowerblue:"#6495Ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#E9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00cEd1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1E90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c","indigo ":"#4b0082",ivory:"#fffff0",khaki:"#f0E68c",lavender:"#E6E6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8E6",lightcoral:"#f08080",lightcyan:"#E0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90EE90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cEfa",lightslategray:"#778899",lightsteelblue:"#b0c4dE",lightyellow:"#ffffE0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0E6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68EE",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffE4E1",moccasin:"#ffE4b5",navajowhite:"#ffdEad",navy:"#000080",oldlace:"#fdf5E6",olive:"#808000",olivedrab:"#6b8E23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#EEE8aa",palegreen:"#98fb98",paleturquoise:"#afEEEE",palevioletred:"#db7093",papayawhip:"#ffEfd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169E1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2E8b57",seashell:"#fff5EE",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87cEEb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40E0d0",violet:"#EE82EE",wheat:"#f5dEb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32",transparent:"rgba(255,255,255,0)"};T._names=e}return T._names[t.toLowerCase()]},T._getChannel=function(t,e){var i=e,n=null,r=T.getColorFromName(i);if(r&&(i=r),t===T._ALPHA){if("#"===i.charAt(0))return i.length>7?parseInt(i.substring(1,3),16)/255:1;if("none"===i)return 0}var o,s=i.indexOf("(");return s<0?(o=[],i.length>7?(o[0]=parseInt(i.substr(3,2),16),o[1]=parseInt(i.substr(5,2),16),o[2]=parseInt(i.substr(7,2),16),o[3]=parseInt(i.substr(1,2),16)/255):(o[0]=parseInt(i.substr(1,2),16),o[1]=parseInt(i.substr(3,2),16),o[2]=parseInt(i.substr(5,2),16),o[3]=1),n=o[t]):n=3===(o=i.substring(s+1).match(/[^,|)]+/gm)).length&&t===T._ALPHA?1:parseFloat(o[t]),n},T.getDarker=function(t,e){var i=T.getRed(t),n=T.getGreen(t),r=T.getBlue(t),o=T.getAlpha(t);return e||(e=T._FACTOR),i=Math.max(parseInt(i*(1-e)),0),n=Math.max(parseInt(n*(1-e)),0),r=Math.max(parseInt(r*(1-e)),0),T.makeRGBA(i,n,r,o)},T.getBrighter=function(t,e){var i=T.getAlpha(t),n=T.getRed(t),r=T.getGreen(t),o=T.getBlue(t);e||(e=T._FACTOR);var s=Math.min(n+parseInt((255-n)*e),255),a=Math.min(r+parseInt((255-r)*e),255),h=Math.min(o+parseInt((255-o)*e),255);return T.makeRGBA(s,a,h,i)},T.makeRGB=function(t,e,i){return i=null===i||isNaN(i)?0:i,e=null===e||isNaN(e)?0:e,t=null===t||isNaN(t)?0:t,T._RGB+t+","+e+","+i+")"},T.makeRGBA=function(t,e,i,n){return i=null===i||isNaN(i)?0:Math.round(i),e=null===e||isNaN(e)?0:Math.round(e),t=null===t||isNaN(t)?0:Math.round(t),n=null===n||isNaN(n)?1:n,T._RGBA+t+","+e+","+i+","+n+")"},T.makePound=function(t,e,i){var n=Math.round(t),r=Math.round(e),o=Math.round(i),s=n.toString(16),a=r.toString(16),h=o.toString(16);return"#"+(1===s.length?"0":"")+s+(1===a.length?"0":"")+a+(1===h.length?"0":"")+h},T.getPound=function(t){var e;if("#"===t.charAt(0)){if(t.length<=7)return t;e=T._POUND,e+=t.substring(3,5)+t.substring(5,7)+t.substring(7,9)}else{var i=T.getRed(t),n=T.getGreen(t),r=T.getBlue(t);e=T.makePound(i,n,r)}return e},T.getRGB=function(t){var e,i=T.getColorFromName(t);if(i&&(t=i),"#"===t.charAt(0)){e=T._RGB;var n=t.length;if(n>7)e+=parseInt(t.substring(3,5),16)+","+parseInt(t.substring(5,7),16)+","+parseInt(t.substring(7,9),16);else if(7===n)e+=parseInt(t.substring(1,3),16)+","+parseInt(t.substring(3,5),16)+","+parseInt(t.substr(5),16);else if(4===n){var r=t.substring(1,2);r+=r;var o=t.substring(2,3);o+=o;var s=t.substring(3);s+=s,e+=parseInt(r,16)+","+parseInt(o,16)+","+parseInt(s,16)}else 5===n?e+=parseInt(t.substring(1,3),16)+","+parseInt(t.substring(3,5),16)+",0,1":3===n&&(e+=parseInt(t.substring(1,3),16)+",0,0,1");e+=")"}else if(t.substr(0,5)===T._RGBA){var a=t.lastIndexOf(",");e=T._RGB,e+=t.substring(5,a),e+=")"}else e=t;return e},T.getRGBA=function(t){var e,i=T.getColorFromName(t);if(i&&(t=i),"#"===t.charAt(0)){e=T._RGBA;var n=t.length;if(n>7)e+=parseInt(t.substring(3,5),16)+","+parseInt(t.substring(5,7),16)+","+parseInt(t.substring(7,9),16)+","+parseInt(t.substring(1,3),16)/255;else if(7===n)e+=parseInt(t.substring(1,3),16)+","+parseInt(t.substring(3,5),16)+","+parseInt(t.substr(5),16)+",1";else if(5===n)e+=parseInt(t.substring(1,3),16)+","+parseInt(t.substring(3,5),16)+",0,1";else if(4===n){var r=t.substring(1,2);r+=r;var o=t.substring(2,3);o+=o;var s=t.substring(3);s+=s,e+=parseInt(r,16)+","+parseInt(o,16)+","+parseInt(s,16)+",1"}else 3===n&&(e+=parseInt(t.substring(1,3),16)+",0,0,1");e+=")"}else t.substr(0,4)===T._RGB?(e=T._RGBA,e+=t.substring(4,t.length-1)+",1)"):e=t;return e},T._setChannel=function(t,e,i){if(void 0===t||void 0===i||t<T._RED||t>T._ALPHA)return e;var n,r=T.getColorFromName(e);r&&(e=r);var o,s="#"===e.charAt(0);if(s)(n=[]).push(parseInt(e.substr(1,2),16)),n.push(parseInt(e.substr(3,2),16)),n.push(parseInt(e.substr(5,2),16)),t===T._ALPHA&&(n.push(i),s=!1,o=!0);else{o=e.substr(0,5)===T._RGBA;var a=e.indexOf("("),h=e.indexOf(")");n=e.substring(a+1,h).split(","),o||t!==T._ALPHA||(n.push(i),o=!0)}return n[t]=i,s?T.makePound(n[0],n[1],n[2]):o?T.makeRGBA(n[0],n[1],n[2],n[3]):T.makeRGB(n[0],n[1],n[2])};["Red","Green","Blue","Alpha"].forEach(function(t){T["get"+t]=T._getChannel.bind(null,T["_"+t.toUpperCase()]),T["set"+t]=T._setChannel.bind(null,T["_"+t.toUpperCase()])}),T.rgb2hsl=function(t,e,i){t/=255,e/=255,i/=255;var n,r,o=Math.max(t,e,i),s=Math.min(t,e,i),a=o+s,h=a/2;if(o==s)n=0,r=0;else{var l=o-s;r=h>.5?l/(2-a):l/a,n=o==t?(e-i)/l+(e<i?6:0):o==e?(i-t)/l+2:o==i?(t-e)/l+4:0,n/=6}return{h:360*n,s:r,l:h}},T.hsl2rgb=function(t,e,i){var n,r,o;if(t/=360,0==e)n=r=o=i;else{var s=i<.5?i*(1+e):i+e-i*e,a=2*i-s;n=T._hue2rgb(a,s,t+1/3),r=T._hue2rgb(a,s,t),o=T._hue2rgb(a,s,t-1/3)}return{r:255*n,g:255*r,b:255*o}},T._hue2rgb=function(t,e,i){return i<0?i+=1:i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t},T.adjustHSL=function(t,e,i,n){T._hslCache||(T._hslCache=new v(100));var r=t+":"+e+":"+i+":"+n,o=T._hslCache.get(r);if(null!=o)return o;var s=T.getRed(t),a=T.getGreen(t),h=T.getBlue(t),l=T.getAlpha(t),u=T.rgb2hsl(s,a,h),c=Math.min(Math.max(0,u.h+e),360),_=Math.min(Math.max(0,u.s+i),1),p=Math.min(Math.max(0,u.l+n),1),d=T.hsl2rgb(c,_,p);return o=1==l?T.makePound(d.r,d.g,d.b):T.makeRGBA(d.r,d.g,d.b,l),T._hslCache.put(r,o),o},T.interpolateColor=function(t,e,i){var n=T.getRed(t),r=T.getGreen(t),o=T.getBlue(t),s=T.getAlpha(t),a=T.getRed(e),h=T.getGreen(e),l=T.getBlue(e),u=T.getAlpha(e),c=Math.round(S.interpolateNumber(n,a,i)),_=Math.round(S.interpolateNumber(r,h,i)),p=Math.round(S.interpolateNumber(o,l,i)),d=S.interpolateNumber(s,u,i);return T.makeRGBA(c,_,p,d)},T.getLuminance=function(t){var e=function(t){var e=t/255;return e<.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)},i=T.getRed(t),n=T.getGreen(t),r=T.getBlue(t);return.2126*e(i)+.7152*e(n)+.0722*e(r)},T.getContrastRatio=function(t,e){return T.getContrastRatioByLuminance(T.getLuminance(t),T.getLuminance(e))},T.getContrastRatioByLuminance=function(t,e){var i=t+.05,n=e+.05;return i>n?i/n:n/i},T.getContrastingTextColor=function(t){if(!T._CONTRASTING_TEXT_COLOR_CACHE[t]){var e=T.getLuminance(t),i=T.getContrastRatioByLuminance(e,1)>T.getContrastRatioByLuminance(e,0)?"#FFFFFF":"#000000";T._CONTRASTING_TEXT_COLOR_CACHE[t]=i}return T._CONTRASTING_TEXT_COLOR_CACHE[t]},T.fixColorForPlatform=function(t,e){if(!t)return null;"#"==t.charAt(0)&&t.length>8&&(t=T.getRGBA(t));var i={};return i.color=t,null!=e&&(i.alpha=e),i};const E={};i.createSubclass(E,i),E.lineLinear=function(t){return t.join("L")},E.lineCardinalClosed=function(t,e){return t.length<3?E.lineLinear(t):t[0]+E.lineHermite((t.push(t[0]),t),E.lineCardinalTangents([t[t.length-2]].concat(t,[t[1]]),e))},E.lineCardinal=function(t,e){return t.length<3?E.lineLinear(t):t[0]+E.lineHermite(t,E.lineCardinalTangents(t,e))},E.lineHermite=function(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return E.lineLinear(t);var i=t.length!=e.length,n="",r=t[0],o=t[1],s=e[0],a=s,h=1;if(i&&(n+="Q"+Math.round(o[0]-2*s[0]/3)+","+Math.round(o[1]-2*s[1]/3)+","+Math.round(o[0])+","+Math.round(o[1]),r=t[1],h=2),e.length>1){a=e[1],o=t[h],h++,n+="C"+Math.round(r[0]+s[0])+","+Math.round(r[1]+s[1])+","+Math.round(o[0]-a[0])+","+Math.round(o[1]-a[1])+","+Math.round(o[0])+","+Math.round(o[1]);for(var l=2;l<e.length;l++,h++)o=t[h],a=e[l],n+="S"+Math.round(o[0]-a[0])+","+Math.round(o[1]-a[1])+","+Math.round(o[0])+","+Math.round(o[1])}if(i){var u=t[h];n+="Q"+Math.round(o[0]+2*a[0]/3)+","+Math.round(o[1]+2*a[1]/3)+","+Math.round(u[0])+","+Math.round(u[1])}return n},E.lineCardinalTangents=function(t,e){for(var i,n=[],r=(1-e)/2,o=t[0],s=t[1],a=1,h=t.length;++a<h;)i=o,o=s,s=t[a],n.push([r*(s[0]-i[0]),r*(s[1]-i[1])]);return n},E.lineSlope=function(t,e){return(e[1]-t[1])/(e[0]-t[0])},E.lineFiniteDifferences=function(t){for(var e=0,i=t.length-1,n=[],r=t[0],o=t[1],s=n[0]=E.lineSlope(r,o);++e<i;)n[e]=(s+(s=E.lineSlope(r=o,o=t[e+1])))/2;return n[e]=s,n},E.lineMonotoneTangents=function(t,e){e&&(t=E._rotatePoints(t));for(var i,n,r,o,s=[],a=E.lineFiniteDifferences(t),h=-1,l=t.length-1;++h<l;)i=E.lineSlope(t[h],t[h+1]),Math.abs(i)<1e-6?a[h]=a[h+1]=0:(o=(n=a[h]/i)*n+(r=a[h+1]/i)*r)>9&&(o=3*i/Math.sqrt(o),a[h]=o*n,a[h+1]=o*r);for(h=-1;++h<=l;)o=(t[Math.min(l,h+1)][0]-t[Math.max(0,h-1)][0])/(6*(1+a[h]*a[h])),s.push([o||0,a[h]*o||0]);return e&&(s=E._rotatePoints(s)),s},E.lineMonotone=function(t,e){return t.length<3?E.lineLinear(t):t[0]+E.lineHermite(t,E.lineMonotoneTangents(t,e))},E._rotatePoints=function(t){for(var e=[],i=0;i<t.length;i++)e.push([t[i][1],t[i][0]]);return e};const m=function(t,e,i,n){this.x=null===t||isNaN(t)?0:t,this.y=null===e||isNaN(e)?0:e,this.w=null===i||isNaN(i)?0:i,this.h=null===n||isNaN(n)?0:n};i.createSubclass(m,i),m.create=function(t){return new m(t[0],t[1],t[2],t[3])},m.prototype.containsPoint=function(t,e){return t>=this.x&&t<=this.x+this.w&&e>=this.y&&e<=this.y+this.h},m.prototype.getCenter=function(){return new n(this.x+this.w/2,this.y+this.h/2)},m.prototype.getUnion=function(t){var e=new m;if(t&&0!==t.w&&0!==t.h)if(0!==this.w&&0!==this.h){var i=this.x+this.w,n=this.y+this.h,r=t.x+t.w,o=t.y+t.h,s=Math.min(this.x,t.x),a=Math.min(this.y,t.y);e.w=i<r?r-s:i-s,e.h=n>o?n-a:o-a,e.x=s,e.y=a}else e.x=t.x,e.y=t.y,e.w=t.w,e.h=t.h;else e.x=this.x,e.y=this.y,e.w=this.w,e.h=this.h;return e},m.prototype.getIntersection=function(t){var e=new m;if(!t||0===t.w||0===t.h)return null;if(0===this.w||0===this.h)return null;var i=this.x+this.w,n=this.y+this.h,r=t.x+t.w,o=t.y+t.h,s=Math.max(this.x,t.x),a=Math.max(this.y,t.y);return s>=i||s>=r||a>=n||a>=o?null:(e.w=i<r?i-s:r-s,e.h=n>o?o-a:n-a,e.x=s,e.y=a,e)},m.prototype.intersects=function(t){if(t&&0!==t.w&&0!==t.h&&0!==this.w&&0!==this.h){var e=this.x+this.w,i=this.y+this.h,n=t.x+t.w,r=t.y+t.h;return!(t.x>e||n<this.x||t.y>i||r<this.y)}return!1},m.prototype.clone=function(){return new m(this.x,this.y,this.w,this.h)},m.prototype.equals=function(t){return t instanceof m&&this.x==t.x&&this.y==t.y&&this.w==t.w&&this.h==t.h},m.prototype.toString=function(){return this.x+", "+this.y+", "+this.w+", "+this.h};const b={};i.createSubclass(b,i),b.SPLINE_TYPE_MONOTONE_VERTICAL="mv",b.SPLINE_TYPE_MONOTONE_HORIZONTAL="mh",b.SPLINE_TYPE_CARDINAL_CLOSED="cc",b.SPLINE_TYPE_CARDINAL="c",b.moveTo=function(t,e){return"M"+t+","+e},b.lineTo=function(t,e){return"L"+t+","+e},b.quadTo=function(t,e,i,n){return"Q"+t+","+e+","+i+","+n},b.horizontalLineTo=function(t){return"H"+t},b.verticalLineTo=function(t){return"V"+t},b.cubicTo=function(t,e,i,n,r,o){return"C"+t+","+e+","+i+","+n+","+r+","+o},b.arcTo=function(t,e,i,n,r,o){var s="A"+t+","+e+",0,";return i>Math.PI?s+="1,":s+="0,",s+=n+","+r+","+o},b.closePath=function(){return"Z"},b.roundedRectangle=function(t,e,i,n,r,o,s,a){return b._roundedRectangle(t,e,i,n,r,r,o,o,s,s,a,a)},b.rectangleWithBorderRadius=function(t,e,i,n,r,o,s){var a=s,h=s,l=s,u=s,c=s,_=s,p=s,d=s;if(r)if(-1!=r.indexOf("/")){var g=r.split("/"),f=g[0].trim().split(/\s+/),y=g[1].trim().split(/\s+/);1==f.length?a=l=c=p=f[0]:2==f.length?(a=c=f[0],l=p=f[1]):3==f.length?(a=f[0],l=p=f[1],c=f[2]):4==f.length&&(a=f[0],l=f[1],c=f[2],p=f[3]),1==y.length?h=u=_=d=y[0]:2==y.length?(h=_=y[0],u=d=y[1]):3==y.length?(h=y[0],u=d=y[1],_=y[2]):4==y.length&&(h=y[0],u=y[1],_=y[2],d=y[3])}else if("auto"!=r){var v=r.trim().split(/\s+/);1==v.length?a=l=c=p=h=u=_=d=v[0]:2==v.length?(a=c=h=_=v[0],l=p=u=d=v[1]):3==v.length?(a=h=v[0],l=p=u=d=v[1],c=_=v[2]):4==v.length&&(a=h=v[0],l=u=v[1],c=_=v[2],p=d=v[3])}return r&&"0"!=r?b._roundedRectangle(t,e,i,n,b._parseBorderRadiusItem(a,o),b._parseBorderRadiusItem(h,o),b._parseBorderRadiusItem(l,o),b._parseBorderRadiusItem(u,o),b._parseBorderRadiusItem(c,o),b._parseBorderRadiusItem(_,o),b._parseBorderRadiusItem(p,o),b._parseBorderRadiusItem(d,o)):b._rectangle(t,e,i,n)},b._parseBorderRadiusItem=function(t,e){var i=Math.min(parseFloat(t),e/2);return-1!=t.indexOf("%")&&(i=.01*Math.min(50,parseFloat(t))*e),i},b._roundedRectangle=function(t,e,i,n,r,o,s,a,h,l,u,c){return o=Math.min(o,.5*n),a=Math.min(a,.5*n),l=Math.min(l,.5*n),c=Math.min(c,.5*n),r=Math.min(r,.5*i),s=Math.min(s,.5*i),h=Math.min(h,.5*i),u=Math.min(u,.5*i),b.moveTo(t+r,e)+b.lineTo(t+i-s,e)+b.arcTo(s,a,Math.PI/2,1,t+i,e+a)+b.lineTo(t+i,e+n-l)+b.arcTo(h,l,Math.PI/2,1,t+i-h,e+n)+b.lineTo(t+u,e+n)+b.arcTo(u,c,Math.PI/2,1,t,e+n-c)+b.lineTo(t,e+o)+b.arcTo(r,o,Math.PI/2,1,t+r,e)+b.closePath()},b.polyline=function(t,e){if(t.length<2)return"";for(var i=e?b.lineTo(t[0],t[1]):b.moveTo(t[0],t[1]),n=2;n<t.length;n+=2)i+=b.lineTo(t[n],t[n+1]);return i},b.curveThroughPoints=function(t,e,i){if(0==t.length)return"";for(var n=[],r=0;r<t.length;r+=2)n.push([t[r],t[r+1]]);var o=e?"L":"M";return i==b.SPLINE_TYPE_MONOTONE_VERTICAL?o+E.lineMonotone(n,!1):i==b.SPLINE_TYPE_MONOTONE_HORIZONTAL?o+E.lineMonotone(n,!0):i==b.SPLINE_TYPE_CARDINAL_CLOSED?o+E.lineCardinalClosed(n,.7):o+E.lineCardinal(n,.7)},b.createPathArray=function(t){if(!t)return null;var e,i=(t=t.replace(/([0-9])([\-])/g,"$1 $2")).replace(/([mlqhvzcast])/gi,",$1,").split(/[ ,]/g),n=i.length;for(e=0;e<n;e++){var r=i[e];r?isNaN(r)||(i[e]=parseFloat(r)):(i.splice(e,1),e--,n--)}return i},b.getDimensions=function(t){if(!t||!t.length)return new m;var e,i,n,r,o,s,a,h,l,u,c,_,p=t.length,d=!0,g=Number.MAX_VALUE,f=-1*Number.MAX_VALUE,y=Number.MAX_VALUE,v=-1*Number.MAX_VALUE,S=[];for(u=0;u<p;u++){n=!1;var T=0;switch(c=0,t[u]){case"m":n=!0;case"M":do{r=t[u+1],o=t[u+2],d?d=!1:n&&(r+=e,o+=i),e=r,i=o,S[c++]=r,S[c++]=o,T++,u+=2}while(!isNaN(t[u+1]));break;case"c":n=!0;case"C":do{r=t[u+1],o=t[u+2],s=t[u+3],a=t[u+4],h=t[u+5],l=t[u+6],n&&(r+=e,o+=i,s+=e,a+=i,h+=e,l+=i),e=h,i=l,S[c++]=h,S[c++]=l,T++,u+=6}while(!isNaN(t[u+1]));break;case"q":n=!0;case"Q":do{r=t[u+1],o=t[u+2],s=t[u+3],a=t[u+4],n&&(r+=e,o+=i,s+=e,a+=i),e=s,i=a,S[c++]=s,S[c++]=a,T++,u+=4}while(!isNaN(t[u+1]));break;case"l":n=!0;case"L":do{r=t[u+1],o=t[u+2],n&&(r+=e,o+=i),e=r,i=o,S[c++]=r,S[c++]=o,T++,u+=2}while(!isNaN(t[u+1]));break;case"h":n=!0;case"H":do{r=t[u+1],n&&(r+=e),e=r,S[c++]=r,S[c++]=i,T++,u+=1}while(!isNaN(t[u+1]));break;case"v":n=!0;case"V":do{o=t[u+1],n&&(o+=i),i=o,S[c++]=e,S[c++]=o,T++,u+=1}while(!isNaN(t[u+1]));break;case"a":n=!0;case"A":do{var E=t[u+1],C=t[u+2],A=t[u+3],O=t[u+4],I=t[u+5],N=t[u+6],R=t[u+7];n&&(N+=e,R+=i);var D=b._getArcDims(e,i,E,C,A,O,I,N,R);S[c++]=D[0],S[c++]=D[1],S[c++]=D[2],S[c++]=D[3],T+=2,e=N,i=R,u+=7}while(!isNaN(t[u+1]))}for(c=0,_=0;_<T;_++)r=S[c++],o=S[c++],g=Math.min(g,r),f=Math.max(f,r),y=Math.min(y,o),v=Math.max(v,o)}return new m(g,y,Math.abs(f-g),Math.abs(v-y))},b.getPathString=function(t){for(var e="",i=t.length,n=0;n<i;n++)null!=t[n]&&(e+=(n>0?" ":"")+t[n]);return e},b.transformPath=function(t,e,i,n,r){if(t){for(var o,s="",a="",h=0;h<t.length;h++){"string"==typeof t[h]&&(o=(a=t[h])===a.toUpperCase(),s+=a+" ");for(var l=[];h<t.length-1&&"number"==typeof t[h+1];)h++,l.push(t[h]);if("A"===a.toUpperCase())for(var u=0;u<l.length;u+=7)s+=parseFloat(l[u])*n+" ",s+=parseFloat(l[u+1])*r+" ",s+=l[u+2]+" ",s+=l[u+3]+" ",s+=l[u+4]+" ",s+=parseFloat(l[u+5])*n+(o?e:0)+" ",s+=parseFloat(l[u+6])*r+(o?i:0)+" ";else{var c=[],_=[];"H"===a.toUpperCase()?(c.push(n),_.push(o?e:0)):"V"===a.toUpperCase()?(c.push(r),_.push(o?i:0)):(c.push(n),c.push(r),_.push(o?e:0),_.push(o?i:0));for(u=0;u<l.length;u++){var p=c[u%c.length],d=_[u%_.length];s+=parseFloat(l[u])*p+d+" "}}}return s}},b._fitsInScale=function(t,e,i){return Math.abs(t)>i||Math.abs(e)>i},b.simplifyPath=function(t,e){for(var i,n,r="",o="",s=0,a=0,h=0,l=0,u=0,c=0;c<t.length;c++)if(isNaN(t[c]))"Z"!=(i=t[c])&&"z"!=i||(n=i,o+=i,u>0&&(r+=o,h=0,l=0),o="",u=0,s=0,a=0);else switch(i){case"M":h=0,l=0;case"m":o=o+i+(h+=t[c])+" "+(l+=t[c+1]),n=i,c++;break;case"l":s+=t[c],a+=t[c+1],b._fitsInScale(s,a,e)&&(n!=i?(n=i,o+=i):o+=" ",o=o+s+" "+a,s=0,a=0,u++),c++;break;case"h":case"v":"h"==i?s+=t[c]:a+=t[c],b._fitsInScale(s,a,e)&&(0!=s&&0!=a?("l"!=n?(n="l",o+="l"):o+=" ",o=o+s+" "+a):(n=i,o=o+i+("h"==i?s:a)),s=0,a=0,u++)}return r},b._rectangle=function(t,e,i,n){return b.moveTo(t,e)+b.horizontalLineTo(t+i)+b.verticalLineTo(e+n)+b.horizontalLineTo(t)+b.closePath()},b._getArcDims=function(t,e,i,r,o,s,a,h,l){let u=b._convertArc(t,e,i,r,o,s,a,h,l);i=u[2],r=u[3];const c=new n(t,e),_=new n(h,l),p=new n(u[0],u[1]),d=[new n(p.x+i,p.y),new n(p.x,p.y+r),new n(p.x-i,p.y),new n(p.x,p.y-r)];let g=[c,_];const f=b._getClockwiseAngle(c,_),y=0===a?[f,f+Math.PI]:[f+Math.PI,f+2*Math.PI];d.forEach(t=>{var e=b._getClockwiseAngle(c,t);(e>=y[0]&&e<=y[1]||e+2*Math.PI>=y[0]&&e+2*Math.PI<=y[1])&&g.push(t)});const v=g.map(t=>t.x),S=g.map(t=>t.y);return[Math.min(...v),Math.min(...S),Math.max(...v),Math.max(...S)]},b._getClockwiseAngle=function(t,e){var i=Math.atan2(e.y-t.y,e.x-t.x);return i=i<0?i+2*Math.PI:i},b._convertArc=function(t,e,i,n,r,o,s,a,h){var l=(t-a)/2,u=(e-h)/2,c=(r=Math.PI*(r%360)/180,Math.cos(r)),_=Math.sin(r),p=c*l+_*u,d=-_*l+c*u,g=(i=Math.abs(i))*i,f=(n=Math.abs(n))*n,y=p*p,v=d*d,S=y/g+v/f;S>1&&(g=(i=Math.sqrt(S)*i)*i,f=(n=Math.sqrt(S)*n)*n);var T=o==s?-1:1,E=(g*f-g*v-f*y)/(g*v+f*y);E=E<0?0:E;var m,b,C=T*Math.sqrt(E),A=C*(i*d/n),O=C*(-n*p/i),I=(t+a)/2+(c*A-_*O),N=(e+h)/2+(_*A+c*O),R=(p-A)/i,D=(d-O)/n,x=(-p-A)/i,M=(-d-O)/n;b=Math.sqrt(R*R+D*D),m=R;var w=(T=D<0?-1:1)*Math.acos(m/b)*180/Math.PI;b=Math.sqrt((R*R+D*D)*(x*x+M*M)),m=R*x+D*M;var L=(T=R*M-D*x<0?-1:1)*Math.acos(m/b)*180/Math.PI;return!s&&L>0?L-=360:s&&L<0&&(L+=360),[I,N,i,n,w%=360,L%=360,r]};const C=function(){};i.createSubclass(C,i),C._SM_WIDTH=8,C._SM_HEIGHT=8,C._LG_WIDTH=16,C._LG_HEIGHT=16,C.createElem=function(t,e){var i=document.createElementNS(u.SVG_NS,"pattern");u.setAttrNullNS(i,"id",e);var n,r,o=t.getPattern();C.IsSmallPattern(o)?(n=C._SM_WIDTH,r=C._SM_HEIGHT):(n=C._LG_WIDTH,r=C._LG_HEIGHT),u.setAttrNullNS(i,"x",0),u.setAttrNullNS(i,"y",0),u.setAttrNullNS(i,"width",n),u.setAttrNullNS(i,"height",r),u.setAttrNullNS(i,"patternUnits","userSpaceOnUse");var s=t.getMatrix();if(s){var a="matrix("+s.getA()+","+s.getC()+","+s.getB()+","+s.getD()+","+s.getTx()+","+s.getTy()+")";u.setAttrNullNS(i,"patternTransform",a)}return C.CreatePatternElems(t,i),i},C.IsSmallPattern=function(t){return"s"===t.charAt(0)},C.CreatePatternElems=function(t,e){var i,n,r,o,s,a,h;const l="stroke-opacity",c="stroke-width",_="fill-opacity";var p=t.getPattern(),d=t.getColor(),g=T.getRGB(d),f=T.getAlpha(d),v=t.getBackgroundColor(),S=T.getRGB(v),E=T.getAlpha(v);C.IsSmallPattern(p)?(i=C._SM_WIDTH,n=C._SM_HEIGHT,r=C._SM_WIDTH,o=C._SM_HEIGHT):(i=C._LG_WIDTH,n=C._LG_HEIGHT,r=C._LG_WIDTH,o=C._LG_HEIGHT),S&&E>0&&(h=document.createElementNS(u.SVG_NS,"rect"),u.setAttrNullNS(h,"stroke",S),u.setAttrNullNS(h,l,E),u.setAttrNullNS(h,c,1),u.setAttrNullNS(h,"fill",S),u.setAttrNullNS(h,_,E),u.setAttrNullNS(h,"x",0),u.setAttrNullNS(h,"y",0),u.setAttrNullNS(h,"width",i),u.setAttrNullNS(h,"height",n),u.appendChildElem(e,h)),p===y.SM_DIAG_UP_LT||p===y.LG_DIAG_UP_LT?(h=document.createElementNS(u.SVG_NS,"path"),u.setAttrNullNS(h,"stroke",g),u.setAttrNullNS(h,l,f),u.setAttrNullNS(h,c,1),u.setAttrNullNS(h,"stroke-linecap","square"),u.setAttrNullNS(h,"d",b.moveTo(0,-o/2)+b.lineTo(3*r/2,o)+b.moveTo(-r/2,0)+b.lineTo(r/2,o)),u.appendChildElem(e,h)):p===y.SM_DIAG_UP_RT||p===y.LG_DIAG_UP_RT?(h=document.createElementNS(u.SVG_NS,"path"),u.setAttrNullNS(h,"stroke",g),u.setAttrNullNS(h,l,f),u.setAttrNullNS(h,c,1),u.setAttrNullNS(h,"stroke-linecap","square"),u.setAttrNullNS(h,"d",b.moveTo(-r/2,o)+b.lineTo(r,-o/2)+b.moveTo(0,3*o/2)+b.lineTo(3*r/2,0)),u.appendChildElem(e,h)):p===y.SM_CROSSHATCH||p===y.LG_CROSSHATCH?(h=document.createElementNS(u.SVG_NS,"path"),u.setAttrNullNS(h,"stroke",g),u.setAttrNullNS(h,l,f),u.setAttrNullNS(h,c,1),u.setAttrNullNS(h,"d","M0,0L"+i+","+n+"M"+i+",0L0,"+n),u.appendChildElem(e,h)):p===y.SM_CHECK||p===y.LG_CHECK?(s=r/2,a=o/2,h=document.createElementNS(u.SVG_NS,"path"),u.setAttrNullNS(h,"stroke",g),u.setAttrNullNS(h,l,f),u.setAttrNullNS(h,c,1),u.setAttrNullNS(h,"fill",g),u.setAttrNullNS(h,_,f),u.setAttrNullNS(h,"d","M"+s+",0L"+r+",0L"+r+","+a+"L"+s+","+a+"ZM0,"+a+"L"+s+","+a+"L"+s+","+o+"L0,"+o+"Z"),u.appendChildElem(e,h)):p===y.SM_TRIANGLE_CHECK||p===y.LG_TRIANGLE_CHECK?(h=document.createElementNS(u.SVG_NS,"polygon"),u.setAttrNullNS(h,"stroke",g),u.setAttrNullNS(h,l,f),u.setAttrNullNS(h,c,1),u.setAttrNullNS(h,"fill",g),u.setAttrNullNS(h,_,f),u.setAttrNullNS(h,"points","0,"+n+" "+i+",0 "+i+","+n),u.appendChildElem(e,h)):p!==y.SM_DIAMOND_CHECK&&p!==y.LG_DIAMOND_CHECK||(s=r/2,a=o/2,h=document.createElementNS(u.SVG_NS,"polygon"),u.setAttrNullNS(h,"stroke",g),u.setAttrNullNS(h,l,f),u.setAttrNullNS(h,c,1),u.setAttrNullNS(h,"fill",g),u.setAttrNullNS(h,_,f),u.setAttrNullNS(h,"points","0,"+a+" "+s+",0 "+i+","+s+" "+s+","+n),u.appendChildElem(e,h))};const A=function(){};i.createSubclass(A,i),A._uniqueSeed=0,A.addClipPath=function(t,e){var i=t.getId();if(!i)return!1;var n=e.getDefs();if(!n)return!1;for(var r=n.childNodes,o=r.length,s=0;s<o;s++){if(r[s].id===i)return!0}var a=A.createElement("clipPath",i);e.appendDefs(a);var h=t.getRegions();for(s=0;s<h.length;s++){var l=h[s];if(l){var c=null;l.type===p.RECT?(c=A.createElement("rect"),u.setAttrNullNS(c,"x",l.x),u.setAttrNullNS(c,"y",l.y),u.setAttrNullNS(c,"width",l.w),u.setAttrNullNS(c,"height",l.h),l.rx&&u.setAttrNullNS(c,"rx",l.rx),l.ry&&u.setAttrNullNS(c,"ry",l.ry)):l.type===p.PATH?(c=A.createElement("path"),u.setAttrNullNS(c,"d",l.d)):l.type===p.POLYGON?(c=A.createElement("polygon"),u.setAttrNullNS(c,"points",l.points)):l.type===p.ELLIPSE?(c=A.createElement("ellipse"),u.setAttrNullNS(c,"cx",l.cx),u.setAttrNullNS(c,"cy",l.cy),u.setAttrNullNS(c,"rx",l.rx),u.setAttrNullNS(c,"ry",l.ry)):l.type===p.CIRCLE&&(c=A.createElement("circle"),u.setAttrNullNS(c,"cx",l.cx),u.setAttrNullNS(c,"cy",l.cy),u.setAttrNullNS(c,"r",l.r)),c&&u.appendChildElem(a,c)}}return!0},A.addMask=function(t,e){var i=t.getId();if(!i)return!1;var n=e.getDefs();if(!n)return!1;for(var r=n.childNodes,o=r.length,s=0;s<o;s++){if(r[s].id===i)return!0}var a=A.createElement("mask",i);e.appendDefs(a);var h=t.getGradient(),l=A.addSpecialFill(h,e),c=t.getBounds(),_=A.createElement("rect");return u.setAttrNullNS(_,"x",c.x),u.setAttrNullNS(_,"y",c.y),u.setAttrNullNS(_,"width",c.w),u.setAttrNullNS(_,"height",c.h),u.setAttrNullNS(_,"fill",u.getUrlById(l)),u.appendChildElem(a,_),!0},A.addSpecialFill=function(t,e){if(!t._defPresent){var i=t._defElem;i||(t instanceof g?(t._id=A.getUniqueId("Gr"),i=f.createElem(t,t._id)):t instanceof y&&(t._id=A.getUniqueId("pat"),i=C.createElem(t,t._id))),t._defElem=i,e.appendDefs(i),t._defPresent=!0}return t._id},A.createElement=function(t,e){var i=document.createElementNS(u.SVG_NS,t);return e&&u.setAttrNullNS(i,"id",e),i},A.getUniqueId=function(t){return(t||"$")+A._uniqueSeed++},A.convertPointsArray=function(t){for(var e=t.length,i="",n=0;n<e;n++)n>0&&(i+=" "),i+=t[n];return i};const O={ARIA_LABEL_STATE_DELIMITER:", ",ARIA_LABEL_DESC_DELIMITER:". ",processAriaLabel:function(t){var e=t;return e&&(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/(<|&#60;)/g,"&lt;")).replace(/(>|&#62;)/g,"&gt;")).replace(/&lt;b&gt;/g,"")).replace(/&lt;\/b&gt;/g,"")).replace(/&lt;i&gt;/g,"")).replace(/&lt;\/i&gt;/g,"")).replace(/\n/g,"; ")).replace(/&#92;n/g,"; ")).replace(/&lt;br&gt;/g,"; ")).replace(/&lt;br\/&gt;/g,"; ")),e}},I=function(){this.Init()};i.createSubclass(I,i),I.prototype.Init=function(){this._regionPctRect=new m(-10,-10,120,120),this._counter=0},I.prototype.getRegionPctRect=function(){return this._regionPctRect},I.prototype.createResultId=function(t){return t||(t="filtRes"),t+this._counter++};const N=function(t,e,i,n){this.__type="shadow",this._dx=t,this._dy=e,this._stdDeviation=i,this._floodColor=n,this._Id="ds"+N._uniqueId++};i.createSubclass(N,i),N._uniqueId=1;const R=function(){};i.createSubclass(R,i),R.RADS_PER_DEGREE=Math.PI/180,R.createFilterPrimitives=function(t,e,i,n){var o=e._dx,s=e._dy,a=e._stdDeviation,h=e._floodColor;const l="flood-color";var c=i.getDimensions(i.getParent());if(c){var _=2*a,p=_,d=_,g=_,f=_;(p-=o)<0&&(p=0),(g-=s)<0&&(g=0),(d+=o)<0&&(d=0),(f+=s)<0&&(f=0);var y=p/c.w*100,v=d/c.w*100,S=g/c.h*100,T=f/c.h*100;n.getRegionPctRect().x>-y&&(n.getRegionPctRect().x=-y),n.getRegionPctRect().y>-S&&(n.getRegionPctRect().y=-S),n.getRegionPctRect().w<100+y+v&&(n.getRegionPctRect().w=100+y+v),n.getRegionPctRect().h<100+S+T&&(n.getRegionPctRect().h=100+S+T)}if(i.requiresStrokeAdjustmentForShadow()){var E=i.getStroke().getWidth();E>1&&(n.getRegionPctRect().h=n.getRegionPctRect().h+E,n.getRegionPctRect().y=n.getRegionPctRect().y-E)}if("ie"!==r.browser&&"edge"!==r.browser){var m=A.createElement("feDropShadow");u.setAttrNullNS(m,"dx",o),u.setAttrNullNS(m,"dy",s),u.setAttrNullNS(m,"stdDeviation",a),u.setAttrNullNS(m,l,h),u.appendChildElem(t,m)}else{var b=A.createElement("feGaussianBlur");u.setAttrNullNS(b,"stdDeviation",a);var C=A.createElement("feOffset"),O=n.createResultId("offset");u.setAttrNullNS(C,"dx",o),u.setAttrNullNS(C,"dy",s),u.setAttrNullNS(C,"result",O);var I=A.createElement("feFlood"),N=h.split(/[\(,\)]/);6===N.length?(u.setAttrNullNS(I,l,`${N[0].substr(0,3)}(${N[1]},${N[2]},${N[3]})`),u.setAttrNullNS(I,"flood-opacity",N[4])):u.setAttrNullNS(I,l,h);var R=A.createElement("feComposite");u.setAttrNullNS(R,"in2",O),u.setAttrNullNS(R,"operator","in");var D=A.createElement("feMerge"),x=A.createElement("feMergeNode"),M=A.createElement("feMergeNode");u.setAttrNullNS(M,"in","SourceGraphic"),u.appendChildElem(D,x),u.appendChildElem(D,M),u.appendChildElem(t,b),u.appendChildElem(t,C),u.appendChildElem(t,I),u.appendChildElem(t,R),u.appendChildElem(t,D)}};const D=function(){};i.createSubclass(D,i),D._counter=0,D.createFilter=function(t,e){for(var i=A.createElement("filter",D.CreateFilterId()),n=new I,r=0;r<t.length;r++){var o=t[r];o&&D.CreateFilterPrimitives(i,o,e,n)}var s=!1;if(e){var a=e.getElem().getBBox();if(a){var h=a.width,l=a.height;if(0==l||0==h){var c;e.getStroke&&(c=e.getStroke());var _=10;c&&(_=c.getWidth());var p=a.x,d=a.y;0==l&&(l=2*_,d-=_),0==h&&(h=2*_,p-=_),u.setAttrNullNS(i,"x",p),u.setAttrNullNS(i,"y",d),u.setAttrNullNS(i,"width",h),u.setAttrNullNS(i,"height",l),u.setAttrNullNS(i,"filterUnits","userSpaceOnUse"),s=!0}}}return s||(-10!=n.getRegionPctRect().x&&"Infinity"!=n.getRegionPctRect().x&&"-Infinity"!=n.getRegionPctRect().x&&u.setAttrNullNS(i,"x",n.getRegionPctRect().x+"%"),-10!=n.getRegionPctRect().y&&"Infinity"!=n.getRegionPctRect().y&&"-Infinity"!=n.getRegionPctRect().y&&u.setAttrNullNS(i,"y",n.getRegionPctRect().y+"%"),120!=n.getRegionPctRect().w&&"Infinity"!=n.getRegionPctRect().w&&"-Infinity"!=n.getRegionPctRect().w&&u.setAttrNullNS(i,"width",n.getRegionPctRect().w+"%"),120!=n.getRegionPctRect().h&&"Infinity"!=n.getRegionPctRect().h&&"-Infinity"!=n.getRegionPctRect().h&&u.setAttrNullNS(i,"height",n.getRegionPctRect().h+"%")),i},D.CreateFilterPrimitives=function(t,e,i,n){return e instanceof N&&R.createFilterPrimitives(t,e,i,n),null},D.CreateFilterId=function(){return"filt"+D._counter++};const x={addDrawEffect:function(t){this._drawEffects||(this._drawEffects=[]),this._drawEffects.push(t),this._applyDrawEffects()},removeAllDrawEffects:function(){this._drawEffects&&(this._drawEffects=null,this._applyDrawEffects(this._drawEffects))},_applyDrawEffects:function(){var t=this._drawEffects;if(this._filter&&(u.removeAttrNullNS(this.getOuterElem(),"filter"),this.getCtx().removeDefs(this._filter),this._filter=null),!this._outerElem&&this._matrix&&this._createOuterGroupElem(),t&&t.length>0&&(this._filter=D.createFilter(t,this),this._filter)){this.getCtx().appendDefs(this._filter);var e=u.getAttrNullNS(this._filter,"id");u.setAttrNullNS(this.getOuterElem(),"filter",u.getUrlById(e))}},requiresStrokeAdjustmentForShadow:function(){return!1}},M=function(){};i.createSubclass(M,i),M.prototype.Init=function(t){this.type=t.type,this.target=M.FindDisplayable(t.target),this._isPropagationStopped=!1,this._event=t},M.prototype.getNativeEvent=function(){return this._event},M.prototype.preventDefault=function(){this._event.cancelable&&this._event.preventDefault()},M.prototype.stopPropagation=function(){this._event.stopPropagation&&this._event.stopPropagation(),this._event.cancelBubble=!0,this._event.cancel=!0,this._event.returnValue=!1,this._isPropagationStopped=!0},M.prototype.isPropagationStopped=function(){return this._isPropagationStopped},M.FindDisplayable=function(t){for(;t;){if(t._obj)return t._obj;t=t.parentNode}return null};const w=function(t){this.Init(t)};i.createSubclass(w,i),w.prototype.Init=function(t){this.clientX=t.clientX,this.clientY=t.clientY,this.screenX=t.screenX,this.screenY=t.screenY,this.pageX=t.pageX,this.pageY=t.pageY,this.target=t.target,this.identifier=null==t.identifier||isNaN(t.identifier)?1:t.identifier};const L=function(t){this.Init(t)};i.createSubclass(L,M),L.TOUCHSTART="touchstart",L.TOUCHMOVE="touchmove",L.TOUCHEND="touchend",L.TOUCHCANCEL="touchcancel",L.prototype.Init=function(t){L.superclass.Init.call(this,t),t.type==L.TOUCHCANCEL&&(this.type=L.TOUCHEND),this.touches=L.createTouchArray(t.touches),this.targetTouches=L.createTouchArray(t.targetTouches),this.changedTouches=L.createTouchArray(t.changedTouches),this._touchManager=null},L.prototype.blockTouchHold=function(){this.getNativeEvent()._touchHoldBlocked=!0},L.prototype.isInitialTouch=function(){return this.touches.length-this.changedTouches.length==0},L.prototype.isTouchHoldBlocked=function(){return!!this.getNativeEvent()._touchHoldBlocked},L.createTouchArray=function(t){for(var e=new Array,i=0;i<t.length;i++){var n=t[i],r=new w(n);e.push(r)}return e},L.prototype.stopPropagation=function(){L.superclass.stopPropagation.call(this),this._touchManager&&this._touchManager.postEventBubble(this)},L.prototype.setTouchManager=function(t){this._touchManager=t};const P=function(t){this.Init(t)};i.createSubclass(P,M),P.KEYDOWN="keydown",P.KEYUP="keyup",P.KEYPRESS="keypress",P.TAB=9,P.ENTER=13,P.SHIFT=16,P.CONTROL=17,P.ESCAPE=27,P.SPACE=32,P.PAGE_UP=33,P.PAGE_DOWN=34,P.UP_ARROW=38,P.DOWN_ARROW=40,P.LEFT_ARROW=37,P.RIGHT_ARROW=39,P.F2=113,P.OPEN_BRACKET=219,P.CLOSE_BRACKET=221,P.ZERO=48,P.NUMPAD_ZERO=96,P.NUMPAD_PLUS=107,P.NUMPAD_MINUS=109,P.WEBKIT_PLUS=187,P.WEBKIT_MINUS=189,P.GECKO_PLUS=61,P.GECKO_MINUS=173,P.M=77,P.OPEN_ANGLED_BRACKET=188,P.CLOSE_ANGLED_BRACKET=190,P.prototype.Init=function(t){P.superclass.Init.call(this,t),this.bubbles=t.bubbles,this.cancelable=t.cancelable,this.view=t.view,this.charCode=t.charCode,this.keyCode=t.keyCode,this.location=t.location,this.ctrlKey=t.ctrlKey||t.metaKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.repeat=t.repeat,this.locale=t.locale},P.isPlus=function(t){var e=t.keyCode;return e==P.NUMPAD_PLUS||("firefox"===r.browser?!(e!=P.GECKO_PLUS||!t.shiftKey):!(e!=P.WEBKIT_PLUS||!t.shiftKey))},P.isEquals=function(t){var e=t.keyCode;return"firefox"===r.browser?e==P.GECKO_PLUS&&!t.shiftKey:e==P.WEBKIT_PLUS&&!t.shiftKey},P.isMinus=function(t){var e=t.keyCode;return e==P.NUMPAD_MINUS||("firefox"===r.browser?e==P.GECKO_MINUS&&!t.shiftKey:e==P.WEBKIT_MINUS&&!t.shiftKey)},P.isUnderscore=function(t){var e=t.keyCode;return"firefox"===r.browser?!(e!=P.GECKO_MINUS||!t.shiftKey):!(e!=P.WEBKIT_MINUS||!t.shiftKey)};const H=function(t){this.Init(t)};i.createSubclass(H,M),H.FOCUS="focus",H.FOCUSIN="focusin",H.FOCUSOUT="focusout",H.BLUR="blur",H.prototype.Init=function(t){H.superclass.Init.call(this,t),this.bubbles=t.bubbles,this.cancelable=t.cancelable,this.view=t.view,null!=t.relatedTarget&&(this.relatedTarget=M.FindDisplayable(t.relatedTarget))};const F=function(t){this.Init(t)};i.createSubclass(F,M),F.CLICK="click",F.DBLCLICK="dblclick",F.MOUSEOVER="mouseover",F.MOUSEOUT="mouseout",F.MOUSEDOWN="mousedown",F.MOUSEUP="mouseup",F.MOUSEMOVE="mousemove",F.MOUSEWHEEL="wheel",F.RIGHT_CLICK_BUTTON=2,F.prototype.Init=function(t){F.superclass.Init.call(this,t),null!=t.relatedTarget&&(this.relatedTarget=M.FindDisplayable(t.relatedTarget)),this.button=t.button,this.ctrlKey=t.ctrlKey||t.metaKey,this.shiftKey=t.shiftKey,this.pageX=t.pageX,this.pageY=t.pageY,this._isEventModifiedForIE=!1,null!=t.wheelDeltaY?this.wheelDelta=t.wheelDeltaY/40:null!=t.deltaY?(this.deltaMode=t.deltaMode,this.deltaY=t.deltaY,t.deltaMode==t.DOM_DELTA_LINE?this.wheelDelta=-t.deltaY:t.deltaMode==t.DOM_DELTA_PIXEL&&(this.wheelDelta=-t.deltaY/15)):null!=t.wheelDelta?this.wheelDelta=t.wheelDelta/40:this.wheelDelta=t.detail},F.prototype.modifyEventForIE=function(t,e){this._isEventModifiedForIE||(this.type=t,this.relatedTarget=this.target,this.target=M.FindDisplayable(e),this._isEventModifiedForIE=!0)};const k=new Object;i.createSubclass(k,i),k.newEvent=function(t,e){var i=t.type;return i==L.TOUCHSTART||i==L.TOUCHMOVE||i==L.TOUCHEND||i==L.TOUCHCANCEL?new L(t):i==P.KEYDOWN||i==P.KEYUP||i==P.KEYPRESS?new P(t):(e._nativeEvent!=t&&(e._nativeEvent=t,e._logicalEvent=i==H.FOCUS||i==H.FOCUSIN||i==H.FOCUSOUT||i==H.BLUR?new H(t):new F(t)),e._logicalEvent)};const G=function(){};i.createSubclass(G,i),G.getListener=function(t){return t?G._captureListener:G._bubbleListener},G._bubbleListener=function(t){G._commonListener.call(this,t,!1)},G._captureListener=function(t){G._commonListener.call(this,t,!0)},G._commonListener=function(t,e){var i;if(this._currentObj){if("focus"==t.type)return void(this._focusEvent=t);var n=this._currentObj.getCtx();this._focusEvent&&(n.resetCurrentKeyboardFocus(t),i=k.newEvent(this._focusEvent,n),this._currentObj.FireListener(i,e),this._focusEvent=null),i=k.newEvent(t,n),this._currentObj.FireListener(i,e)}else if(Array.isArray(this._keyboardListeners))for(var r,o=this._keyboardListeners.length,s=0;s<o;s++)r=this._keyboardListeners[s],i=k.newEvent(t,r.getCtx()),r.FireListener(i,e)};const B={addEvtListener:function(t,e,i,n){var r=u.getUseCaptureFromOptions(i),o=this._getListeners(t,r,!0);o.push(e),o.push(n),this._addListener(t,i)},removeEvtListener:function(t,e,i,n){var r=u.getUseCaptureFromOptions(i),o=this._getListeners(t,r,!1);if(o)for(var s=0;s<o.length;s+=2)if(o[s]===e&&o[s+1]===n){o.splice(s,2);break}o&&o.length<=0&&this._removeListener(t,i)},AddElemListener:function(t,e,i){u.addDomEventListener(this.getElem(),t,e,i),t==L.TOUCHEND&&u.addDomEventListener(this.getElem(),L.TOUCHCANCEL,e,i)},FireListener:function(t,e){var i=this._getListeners(t.type,e,!1);if(i)for(var n=0;n<i.length;n+=2){var r=i[n+1];i[n]&&i[n].call(r,t)}},fireKeyboardListener:function(t,e){this.FireListener(t,e)},_getListeners:function(t,e,i){if(!this._listenerObj){if(!i)return null;this._listenerObj={}}var n=t+"_"+!!e,r=this._listenerObj[n];return!r&&i&&(r=[],this._listenerObj[n]=r),r},_addListener:function(t,e){var i=u.getUseCaptureFromOptions(e),n=this._getListener(i);if(t==P.KEYUP||t==P.KEYDOWN||t==P.KEYPRESS||t==H.FOCUS||t==H.FOCUSIN||t==H.FOCUSOUT||t==H.BLUR){var r=this.getCtx().getStage().getSVGRoot().parentNode;if(!r)return;r._keyboardListeners||(r._keyboardListeners=[]),-1==r._keyboardListeners.indexOf(this)&&r._keyboardListeners.push(this),n=G.getListener(i),u.addDomEventListener(r,t,n,e)}else this.AddElemListener(t,n,e)},_removeListener:function(t,e){var i=u.getUseCaptureFromOptions(e),n=this._getListener(i);if(t==P.KEYUP||t==P.KEYDOWN||t==P.KEYPRESS||t==H.FOCUS||t==H.FOCUSIN||t==H.FOCUSOUT||t==H.BLUR){var r=this.getCtx().getStage().getSVGRoot().parentNode;u.removeDomEventListener(r,t,n,e);var o=r._keyboardListeners.indexOf(this);-1!==o&&r._keyboardListeners.splice(o,1)}else u.removeDomEventListener(this.getElem(),t,n,e)},_getListener:function(t){var e=this;return t?(this._captureClosure||(this._captureClosure=function(t){e._captureListener(t)}),this._captureClosure):(this._bubbleClosure||(this._bubbleClosure=function(t){e._bubbleListener(t)}),this._bubbleClosure)},_shouldIgnoreEvent:function(t,e){var i=e?this._captureHoverItem:this._bubbleHoverItem;if(i){if(t.type===F.MOUSEOVER)return i===t.target;if(t.type===F.MOUSEOUT)return i===t.relatedTarget}return!1},_fireMissedEvent:function(t,e){if(t.type===F.MOUSEOVER||F.MOUSEOUT){var i=e?this._captureHoverItem:this._bubbleHoverItem;if(i&&i!==t.target){var n=k.newEvent(t,this.getCtx());n.modifyEventForIE(F.MOUSEOUT,i),this.FireListener(n,e)}}},_bubbleListener:function(t){if("ie"===r.browser||"edge"===r.browser){if(this._shouldIgnoreEvent(t,!1))return;this._fireMissedEvent(t,!1),t.type==F.MOUSEOVER?this._bubbleHoverItem=t.target:t.type==F.MOUSEOUT&&(this._bubbleHoverItem=null)}var e=k.newEvent(t,this.getCtx());this.FireListener(e,!1)},_captureListener:function(t){if("ie"===r.browser||"edge"===r.browser){if(this._shouldIgnoreEvent(t,!0))return;this._fireMissedEvent(t,!0),t.type==F.MOUSEOVER?this._captureHoverItem=t.target:t.type==F.MOUSEOUT&&(this._captureHoverItem=null)}var e=k.newEvent(t,this.getCtx());this.FireListener(e,!0)}},U=function(t){this.Init(t)};i.createSubclass(U,i),U.LINEAR=0,U.RADIAL=1,U.prototype.Init=function(t){this._type=t},U.prototype.getAlphas=function(){return this._arAlphas},U.prototype.setAlphas=function(t){this._arAlphas=t},U.prototype.getColors=function(){return this._arColors},U.prototype.setColors=function(t){this._arColors=t},U.prototype.getRatios=function(){return this._arRatios},U.prototype.setRatios=function(t){this._arRatios=t};const W=function(){this.Init()};i.createSubclass(W,U),W.LEFT=0,W.BOTTOM_LEFT=45,W.BOTTOM=90,W.BOTTOM_RIGHT=135,W.RIGHT=180,W.TOP_RIGHT=225,W.TOP=270,W.TOP_LEFT=315,W.prototype.Init=function(){W.superclass.Init.call(this,U.LINEAR)},W.prototype.getAngle=function(){return this._angle},W.prototype.setAngle=function(t){this._angle=t};const Y={parseLeadingColor:function(t,e){var i,n=t.trim(),r=n.length,o=-1;if(!n)return n;if(0==n.indexOf("rgb"))o=n.indexOf(")")+1,i=n.slice(0,o);else{-1==(o=n.indexOf(" "))&&(o=r);var s=n.slice(0,o);(i=T.getColorFromName(s))||(i=Y.parseHexColor(s))}return i&&(e.push(i),n=n.slice(o)),n},parseHexColor:function(t){return t?"#"!==t.charAt(0)||isNaN("0x"+t.substring(1))?"#000000":t:null}},V=function(){};i.createSubclass(V,i),V.GD_LINEAR="linear-gradient",V.GD_TOP="top",V.GD_BOTTOM="bottom",V.GD_LEFT="left",V.GD_RIGHT="right",V.GD_TO="to",V.parseCSSGradient=function(t){return null!=t&&(t=t.trim(),V._startsWith(t,V.GD_LINEAR))?(t=V._removeParenthesis(t,V.GD_LINEAR),V._parseLinearGradient(t)):null},V._parseLinearGradient=function(t){var e=new RegExp("(-?(?:\\d*\\.)?\\d+)"),i=new RegExp("(deg|rad|grad|turn)"),n=new RegExp("(left|right)"),r=new RegExp("(top|bottom)"),o=new RegExp("(?:(to)\\s+)"),s=new RegExp("(?:"+e.source+i.source+")"),a=new RegExp("(?:"+n.source+"(?:\\s+"+r.source+")?)"),h=new RegExp("(?:"+r.source+"(?:\\s+"+n.source+")?)"),l=new RegExp("(?:"+a.source+"|"+h.source+")"),u=new RegExp("(?:"+s.source+"|(?:"+o.source+"?"+l.source+"))"),c=new RegExp("(?:\\s*"+u.source+"\\s*,\\s*)","i"),_=t.match(c);if(null==_||0==_.length)return null;_.length;var p=new W,d=_[5]==V.GD_TOP||_[6]==V.GD_TOP,g=_[5]==V.GD_BOTTOM||_[6]==V.GD_BOTTOM,f=_[4]==V.GD_LEFT||_[7]==V.GD_LEFT,y=_[4]==V.GD_RIGHT||_[7]==V.GD_RIGHT;if(_[3]==V.GD_TO&&((d||g)&&(d=!d,g=!g),(f||y)&&(f=!f,y=!y)),d)f?p.setAngle(W.TOP_LEFT):y?p.setAngle(W.TOP_RIGHT):p.setAngle(W.TOP);else if(g)f?p.setAngle(W.BOTTOM_LEFT):y?p.setAngle(W.BOTTOM_RIGHT):p.setAngle(W.BOTTOM);else if(f)p.setAngle(W.LEFT);else if(y)p.setAngle(W.RIGHT);else if(_[2]){s=parseFloat(_[1]);isNaN(s)||("grad"==_[2]?s=s/200*180:"rad"==_[2]?s=s/Math.PI*180:"turn"==_[2]&&(s=s/.5*180),p.setAngle(s))}return t=t.substring(_[0].length),V._parseCSSColorStops(t,p),p},V._parseCSSColorStops=function(t,e){var i=t.match(/(#[0-9a-f]+|rgb\(\s*(\d+),\s*(\d+),\s*(\d+)\s*\)|rgba\(\s*(\d+),\s*(\d+),\s*(\d+),\s*(\d?)(\.\d+)?\s*\)|[a-z]+)(\s+\d+\.?\d*%)?/gi);null!=i&&i.length>0&&V._parseColorStops(i,e)},V._parseColorStops=function(t,e){for(var i,n,r,o=t.length,s=[],a=[],h=[],l=!0,u=[],c=0;c<t.length;c++)r=Y.parseLeadingColor(t[c],u),i=u.pop(),a[c]=i,s[c]=T.getAlpha(i),(r=r.trim()).length>0&&(n=parseFloat(r),isNaN(n)||r.endsWith("%")&&(h[c]=n/100,l=!1));if(o>1&&l)for(var _=0;_<o;_++)h[_]=_/(o-1);else l&&(h[0]=0);e.setColors(a),e.setAlphas(s),e.setRatios(h)},V._removeParenthesis=function(t,e){return")"!=t.charAt(t.length-1)?null:(t=t.substring(e.length),V.removeQuotes(t,"(",")"))},V.removeQuotes=function(t,e,i){if((t=t.trim()).charAt(0)!=e)return t;null==i&&(i=e);var n=t.lastIndexOf(i);return n<0?t.substring(1):t.substring(1,n)},V._startsWith=function(t,e){return 0==t.indexOf(e)};const j=function(t){this.Init(t)};i.createSubclass(j,i),j.DEFAULT_FONT_SIZE="12px",j.SKIN_ALTA="alta",j.BACKGROUND="background",j.BACKGROUND_COLOR="background-color",j.BACKGROUND_IMAGE="background-image",j.BACKGROUND_REPEAT="background-repeat",j.BACKGROUND_POSITION="background-position",j.BORDER="border",j.BORDER_TOP="border-top",j.BORDER_BOTTOM="border-bottom",j.BORDER_LEFT="border-left",j.BORDER_RIGHT="border-right",j.BORDER_WIDTH="border-width",j.BORDER_TOP_WIDTH="border-top-width",j.BORDER_BOTTOM_WIDTH="border-bottom-width",j.BORDER_LEFT_WIDTH="border-left-width",j.BORDER_RIGHT_WIDTH="border-right-width",j.BORDER_COLOR="border-color",j.BORDER_TOP_COLOR="border-top-color",j.BORDER_BOTTOM_COLOR="border-bottom-color",j.BORDER_LEFT_COLOR="border-left-color",j.BORDER_RIGHT_COLOR="border-right-color",j.BORDER_STYLE="border-style",j.BORDER_RADIUS="border-radius",j.BORDER_TOP_LEFT_RADIUS="border-top-left-radius",j.BORDER_TOP_RIGHT_RADIUS="border-top-right-radius",j.BORDER_BOTTOM_RIGHT_RADIUS="border-bottom-right-radius",j.BORDER_BOTTOM_LEFT_RADIUS="border-bottom-left-radius",j.MARGIN="margin",j.MARGIN_TOP="margin-top",j.MARGIN_BOTTOM="margin-bottom",j.MARGIN_LEFT="margin-left",j.MARGIN_RIGHT="margin-right",j.PADDING="padding",j.PADDING_TOP="padding-top",j.PADDING_BOTTOM="padding-bottom",j.PADDING_LEFT="padding-left",j.PADDING_RIGHT="padding-right",j.COLOR="color",j.FONT_FAMILY="font-family",j.FONT_SIZE="font-size",j.FONT_STYLE="font-style",j.FONT_WEIGHT="font-weight",j.TEXT_DECORATION="text-decoration",j.TEXT_ALIGN="text-align",j.HEIGHT="height",j.WIDTH="width",j.MAX_WIDTH="max-width",j.NO_REPEAT="no-repeat",j.REPEAT="repeat",j.REPEAT_X="repeat-x",j.REPEAT_Y="repeat-y",j.AUTO="auto",j.AUTO_MARGIN="8",j.WHITE_SPACE="white-space",j._NAMED_FONT_SIZE_MAP={"xx-small":"9","x-small":"10",small:"13",medium:"16",large:"18","x-large":"24","xx-large":"32"},j._NAMED_WIDTH_MAP={thin:"2",medium:"4",thick:"6"},j._numericAttrsList=[j.MAX_WIDTH,j.WIDTH,j.HEIGHT,j.BORDER_WIDTH,j.BORDER_TOP_WIDTH,j.BORDER_BOTTOM_WIDTH,j.BORDER_LEFT_WIDTH,j.BORDER_RIGHT_WIDTH,j.MARGIN,j.MARGIN_TOP,j.MARGIN_BOTTOM,j.MARGIN_LEFT,j.MARGIN_RIGHT,j.PADDING,j.PADDING_TOP,j.PADDING_BOTTOM,j.PADDING_LEFT,j.PADDING_RIGHT],j._DOUBLE_QUOTE='"',j._SINGLE_QUOTE="'",j.COLORS_ALTA=["#237bb1","#68c182","#fad55c","#ed6647","#8561c8","#6ddbdb","#ffb54d","#e371b2","#47bdef","#a2bf39","#a75dba","#f7f37b"],j.prototype.Init=function(t){this._styleMap={},this.parseInlineStyle(t)},j.prototype.parseInlineStyle=function(t){if(t){var e=this;if(t instanceof Object)for(var i in t){var n=t[i];i=i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.setStyle(i,n)}else j._parseStyleString(t,function(t,i){e.setStyle(t,i)})}},j.prototype.setStyle=function(t,e){if(null==e)this._setStyleAttr(t,e);else switch(t){case"background-repeat":this._setBackgroundRepeat(t,e);break;case"color":case"background-color":case"border-top-color":case"border-bottom-color":case"border-left-color":case"border-right-color":this._setColorAttr(t,e);break;case"border-top":case"border-bottom":case"border-left":case"border-right":this._setBorderSide(t,e);break;case"border":this._setBorderShorthand(t,e);break;case"border-color":this._setBorderColorShorthand(t,e);break;case"border-width":this._setBorderWidthShorthand(t,e);break;case"border-radius":this._setBorderRadius(t,e);break;case"padding":this._setPaddingShorthand(t,e);break;case"margin":this._setMarginShorthand(t,e);break;case"font-size":this.setFontSize(t,e);break;case"background-image":var i=V.parseCSSGradient(e);i&&(e=i),this._setStyleAttr(t,e);break;default:this._setStyleAttr(t,e)}return this},j.prototype.getStyle=function(t){return this._styleMap[t]},j.prototype._setStyleAttr=function(t,e){return null!=e?this._styleMap[t]=e:delete this._styleMap[t],this},j.prototype.setFontSize=function(t,e,i){var n=e.trim(),r=j._NAMED_FONT_SIZE_MAP[n];if(r)this._setStyleAttr(t,String(r)+"px");else{var o=i?i.getDefaultFontSize():j.DEFAULT_FONT_SIZE;this._setStyleAttr(t,isNaN(parseFloat(n))?o:n)}},j.prototype._setBorderWidthShorthand=function(t,e){var i=e.split(" "),n=null;switch(i.length){case 1:this._setStyleAttr(t,j._getBorderWidth(i[0])),this._setStyleAttr(j.BORDER_TOP_WIDTH,null),this._setStyleAttr(j.BORDER_BOTTOM_WIDTH,null),this._setStyleAttr(j.BORDER_RIGHT_WIDTH,null),this._setStyleAttr(j.BORDER_LEFT_WIDTH,null);break;case 2:n=j._getBorderWidth(i[0]),this._setStyleAttr(j.BORDER_TOP_WIDTH,n),this._setStyleAttr(j.BORDER_BOTTOM_WIDTH,n),n=j._getBorderWidth(i[1]),this._setStyleAttr(j.BORDER_LEFT_WIDTH,n),this._setStyleAttr(j.BORDER_RIGHT_WIDTH,n);break;case 3:this._setStyleAttr(j.BORDER_TOP_WIDTH,j._getBorderWidth(i[0])),n=j._getBorderWidth(i[1]),this._setStyleAttr(j.BORDER_LEFT_WIDTH,n),this._setStyleAttr(j.BORDER_RIGHT_WIDTH,n),this._setStyleAttr(j.BORDER_BOTTOM_WIDTH,j._getBorderWidth(i[2]));break;case 4:this._setStyleAttr(j.BORDER_TOP_WIDTH,j._getBorderWidth(i[0])),this._setStyleAttr(j.BORDER_RIGHT_WIDTH,j._getBorderWidth(i[1])),this._setStyleAttr(j.BORDER_BOTTOM_WIDTH,j._getBorderWidth(i[2])),this._setStyleAttr(j.BORDER_LEFT_WIDTH,j._getBorderWidth(i[3]))}},j._getBorderWidth=function(t){var e=t.trim(),i=j._NAMED_WIDTH_MAP[e];return i||(i=isNaN(parseFloat(e))?"0px":e),i},j.prototype._setBorderSide=function(t,e){for(var i,n=e.split(" "),r=null,o=!1,s=0;s<n.length;s++)if(i=t,0==(r=n[s]).indexOf("rgb")){for(var a=s+1;a<n.length&&(r+=n[a],s++,-1==n[a].indexOf(")"));a++);t.endsWith("-"+j.COLOR)||(i=t+"-"+j.COLOR),this._setStyleAttr(i,r)}else j._isColorValue(r)?(t.endsWith("-"+j.COLOR)||(i=t+"-"+j.COLOR),this._setStyleAttr(i,Y.parseHexColor(r))):j._isBorderWidthValue(r)?(t.endsWith("-"+j.WIDTH)||(i=t+"-"+j.WIDTH),this._setStyleAttr(i,r)):"none"==e&&(o=!0);o&&this._setStyleAttr(t+"-"+j.WIDTH,"0")},j.prototype.getMargin=function(t){return this._getSideWidth(t,j.MARGIN)},j.prototype.getPadding=function(t){return this._getSideWidth(t,j.PADDING)},j.prototype.getBorderWidth=function(){var t=this.getStyle(j.BORDER_WIDTH);return t||(t=this.getStyle(j.BORDER_TOP_WIDTH))||(t=this.getStyle(j.BORDER_RIGHT_WIDTH))||(t=this.getStyle(j.BORDER_BOTTOM_WIDTH))||(t=this.getStyle(j.BORDER_LEFT_WIDTH))?j.toNumber(t):0},j.prototype.getMaxWidth=function(){return this.getStyle(j.MAX_WIDTH)},j.prototype.getWidth=function(){return this.getStyle(j.WIDTH)},j.prototype.getHeight=function(){return this.getStyle(j.HEIGHT)},j.toNumber=function(t){return t?(t=parseFloat(t),isNaN(t)?0:t):0},j.prototype._setBorderColorShorthand=function(t,e){var i,n=j._parseBorderColorString(t,e);switch(n.length){case 1:this._setStyleAttr(t,n[0]),this._setStyleAttr(j.BORDER_TOP_COLOR,null),this._setStyleAttr(j.BORDER_BOTTOM_COLOR,null),this._setStyleAttr(j.BORDER_RIGHT_COLOR,null),this._setStyleAttr(j.BORDER_LEFT_COLOR,null);break;case 2:i=n[0],this._setStyleAttr(j.BORDER_TOP_COLOR,i),this._setStyleAttr(j.BORDER_BOTTOM_COLOR,i),i=n[1],this._setStyleAttr(j.BORDER_LEFT_COLOR,i),this._setStyleAttr(j.BORDER_RIGHT_COLOR,i);break;case 3:this._setStyleAttr(j.BORDER_TOP_COLOR,n[0]),i=n[1],this._setStyleAttr(j.BORDER_LEFT_COLOR,i),this._setStyleAttr(j.BORDER_RIGHT_COLOR,i),this._setStyleAttr(j.BORDER_BOTTOM_COLOR,n[2]);break;case 4:this._setStyleAttr(j.BORDER_TOP_COLOR,n[0]),this._setStyleAttr(j.BORDER_RIGHT_COLOR,n[1]),this._setStyleAttr(j.BORDER_BOTTOM_COLOR,n[2]),this._setStyleAttr(j.BORDER_LEFT_COLOR,n[3])}},j.prototype._setPaddingShorthand=function(t,e){var i=e.split(" "),n=null;switch(i.length){case 1:this._setStyleAttr(t,this._getPercent(i[0])),this._setStyleAttr(j.PADDING_TOP,null),this._setStyleAttr(j.PADDING_BOTTOM,null),this._setStyleAttr(j.PADDING_RIGHT,null),this._setStyleAttr(j.PADDING_LEFT,null);break;case 2:n=this._getPercent(i[0]),this._setStyleAttr(j.PADDING_TOP,n),this._setStyleAttr(j.PADDING_BOTTOM,n),n=this._getPercent(i[1]),this._setStyleAttr(j.PADDING_LEFT,n),this._setStyleAttr(j.PADDING_RIGHT,n);break;case 3:this._setStyleAttr(j.PADDING_TOP,this._getPercent(i[0])),n=this._getPercent(i[1]),this._setStyleAttr(j.PADDING_LEFT,n),this._setStyleAttr(j.PADDING_RIGHT,n),this._setStyleAttr(j.PADDING_BOTTOM,this._getPercent(i[2]));break;case 4:this._setStyleAttr(j.PADDING_TOP,this._getPercent(i[0])),this._setStyleAttr(j.PADDING_RIGHT,this._getPercent(i[1])),this._setStyleAttr(j.PADDING_BOTTOM,this._getPercent(i[2])),this._setStyleAttr(j.PADDING_LEFT,this._getPercent(i[3]))}},j.prototype._setMarginShorthand=function(t,e){var i=e.split(" "),n=null;switch(i.length){case 1:this._setStyleAttr(t,this._getMargin(i[0])),this._setStyleAttr(j.MARGIN_TOP,null),this._setStyleAttr(j.MARGIN_BOTTOM,null),this._setStyleAttr(j.MARGIN_RIGHT,null),this._setStyleAttr(j.MARGIN_LEFT,null);break;case 2:n=this._getMargin(i[0]),this._setStyleAttr(j.MARGIN_TOP,n),this._setStyleAttr(j.MARGIN_BOTTOM,n),n=this._getMargin(i[1]),this._setStyleAttr(j.MARGIN_LEFT,n),this._setStyleAttr(j.MARGIN_RIGHT,n);break;case 3:this._setStyleAttr(j.MARGIN_TOP,this._getMargin(i[0])),n=this._getMargin(i[1]),this._setStyleAttr(j.MARGIN_LEFT,n),this._setStyleAttr(j.MARGIN_RIGHT,n),this._setStyleAttr(j.MARGIN_BOTTOM,this._getMargin(i[2]));break;case 4:this._setStyleAttr(j.MARGIN_TOP,this._getMargin(i[0])),this._setStyleAttr(j.MARGIN_RIGHT,this._getMargin(i[1])),this._setStyleAttr(j.MARGIN_BOTTOM,this._getMargin(i[2])),this._setStyleAttr(j.MARGIN_LEFT,this._getMargin(i[3]))}},j.prototype._getMargin=function(t){var e=t.trim();return j.AUTO==e?j.AUTO_MARGIN:this._getPercent(e)},j.prototype._getPercent=function(t){return t.trim()},j.prototype._setBorderShorthand=function(t,e){for(var i=e.split(" "),n=null,r=!1,o=0;o<i.length;o++)if(0==(n=i[o]).indexOf("rgb")){for(var s=o+1;s<i.length&&(n+=i[s],o++,-1==i[s].indexOf(")"));s++);this._setBorderColorShorthand(j.BORDER_COLOR,n)}else j._isColorValue(n)?this._setBorderColorShorthand(j.BORDER_COLOR,n):j._isBorderWidthValue(n)?this._setBorderWidthShorthand(j.BORDER_WIDTH,n):"none"==e&&(r=!0);r&&this._setBorderWidthShorthand(j.BORDER_WIDTH,"0")},j._getBorderRadius=function(t){var e=t.trim();return isNaN(parseFloat(e))?"0px":e},j.prototype._setBorderRadius=function(t,e){var i=e.split("/");if(null!=i[0]){var n=i[0].trim().split(" ");if(n.length,this._setStyleAttr(t,j._getBorderRadius(n[0])),this._setStyleAttr(j.BORDER_TOP_LEFT_RADIUS,null),this._setStyleAttr(j.BORDER_TOP_RIGHT_RADIUS,null),this._setStyleAttr(j.BORDER_BOTTOM_RIGHT_RADIUS,null),this._setStyleAttr(j.BORDER_BOTTOM_LEFT_RADIUS,null),2==i.length&&null!=i[1]){var r=i[1].trim().split(" ");if(1===r.length)this.getStyle(t)?this._setStyleAttr(t,this.getStyle(t)+" "+j._getBorderRadius(r[0])):this._setStyleAttr(t,j._getBorderRadius(r[0]))}}else this._setStyleAttr(t,"0px")},j.prototype.getBorderRadius=function(){return"undefined"!==this.getStyle(j.BORDER_RADIUS)&&null!==this.getStyle(j.BORDER_RADIUS)?j.toNumber(this.getStyle(j.BORDER_RADIUS)):0},j.prototype._setBackgroundRepeat=function(t,e){var i=e.split(" ");2==i.length&&(i[0]==i[1]?e=i[0]:i[0]==j.REPEAT&&i[1]==j.NO_REPEAT&&(e=j.REPEAT_X),i[0]==j.NO_REPEAT&&i[1]==j.REPEAT&&(e=j.REPEAT_Y)),this._setStyleAttr(t,e)},j.prototype._setColorAttr=function(t,e){var i=T.getColorFromName(e);i?this._setStyleAttr(t,i):j._isColorValue(e)&&this._setStyleAttr(t,e)},j.prototype.clone=function(){var t=new j;for(var e in this._styleMap)t._setStyleAttr(e,this.getStyle(e));return t},j.prototype.merge=function(t){if(t)for(var e in t._styleMap)this._setStyleAttr(e,t.getStyle(e));return this},j.prototype.mergeUnder=function(t){if(t)for(var e in t._styleMap)this.getStyle(e)||this._setStyleAttr(e,t.getStyle(e));return this},j.prototype.toString=function(){var t="";for(var e in this._styleMap)t+=e+":"+this.getStyle(e)+"; ";return t},j.prototype.hasBackgroundStyles=function(){return!!(this.getStyle(j.BORDER_COLOR)||this.getStyle(j.BORDER_WIDTH)||this.getStyle(j.BORDER_RADIUS)||this.getStyle(j.BACKGROUND_COLOR))},j._isColorValue=function(t){return 0==(t=t.trim()).indexOf("rgb")||0==t.indexOf("#")||!!T.getColorFromName(t)},j._isBorderWidthValue=function(t){var e=t.trim();return!!j._NAMED_WIDTH_MAP[e]||!isNaN(parseFloat(e))},j._parseBorderColorString=function(t,e){e=e.trim();for(var i=[];null!=e&&e.length>0;)e=Y.parseLeadingColor(e,i);return i},j.prototype._getSideWidth=function(t,e){var i=this.getStyle(t);return i||(i=this.getStyle(e)),j.toNumber(i)},j.prototype.getFontSize=function(){return this.getStyle(j.FONT_SIZE)},j.mergeStyles=function(t){var e=new j;if(t)for(var i=0;i<t.length;i++)e.merge(t[i]);return e},j.prototype.isEmpty=function(){for(var t in this._styleMap)return!1;return!0},j.prototype.hashCodeForTextMeasurement=function(){for(var t="",e=j.getTextMeasurementProperties(),i=0;i<e.length;i++){var n=this.getStyle(e[i]);n&&(t+=n)}return t},j.getTextMeasurementProperties=function(){return[j.FONT_FAMILY,j.FONT_SIZE,j.FONT_STYLE,j.FONT_WEIGHT]},j.cssObjectToString=function(t){var e="";return t&&JSON.parse(JSON.stringify(t),function(t,i){t&&(t=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e+=t+":"+i+";")}),e},j.cssStringToObject=function(t){var e={};return j._parseStyleString(t,function(t,i){t=j.cssStringToObjectProperty(t),e[t]=i}),e},j.cssStringToObjectProperty=function(t){return t&&(t=t.replace(/-([a-z])/g,function(t){return t[1].toUpperCase()})),t},j._parseStyleString=function(t,e){if(t&&t.length>0)for(var i=t.split(";"),n=0;n<i.length;n++){var r=i[n];if(r&&r.length>0){var o=r.indexOf(":");if(o>-1){var s=r.substring(0,o).trim(),a=r.substring(o+1).trim();s&&s.length>0&&a&&a.length>0&&(s==j.BACKGROUND_IMAGE&&a.indexOf("data:image/")>=0&&(a=a+";"+i[n+1],n++),e(s,a))}}}},j.getTimeMilliseconds=function(t){return"string"==typeof t&&(t="ms"==t.slice(-2)?parseInt(t.slice(0,-2)):"s"==t.slice(-1)?1e3*parseFloat(t.slice(0,-1)):parseInt(t)),t},j.prototype.applyStylesToElement=function(t){j.applyCssObjectToElement(this._styleMap,t)},j.applyCssObjectToElement=function(t,e){for(var i=Object.keys(t),n=0;n<i.length;n++){var r=i[n];e.style[j.cssStringToObjectProperty(r)]=t[r]}};const K=function(t,e){this._fc=t,this._fa=null!=e?e:1};i.createSubclass(K,i),K.prototype.getColor=function(){return this._fc},K.prototype.getAlpha=function(){return this._fa},K.invisibleFill=function(){return K._INVISIBLE_FILL||(K._INVISIBLE_FILL=new K("rgba(0,0,0,0)")),K._INVISIBLE_FILL},K.prototype.equals=function(t){return t instanceof K&&t.getColor()==this.getColor()&&t.getAlpha()==this.getAlpha()};const z=function(t,e,i,n,r,o){this._color=t,this._alpha=null!=e?e:1,this._width=null===i||isNaN(i)?1:i,this._fixedWidth=n||!1,this._dashProps=r,this._lineProps=o};i.createSubclass(z,i),z.prototype.getLineProps=function(){return this._lineProps},z.prototype.getDashProps=function(){return this._dashProps},z.prototype.getAlpha=function(){return this._alpha},z.prototype.getColor=function(){return this._color},z.prototype.getWidth=function(){return this._width},z.prototype.isFixedWidth=function(){return this._fixedWidth},z.getDefaultDashProps=function(t,e){return"solid"===t?null:(e=Math.ceil(e),"dashed"==t?{dashArray:""+Math.max(6,2*e)}:"dotted"==t?{dashArray:""+Math.max(2,e)}:null)};const X={getFill:function(){return this.GetProperty("fill")},setFill:function(t){if(this._manageDefinitions(this.GetProperty("fill"),t),!t)return u.setAttrNullNS(this._elem,"fill","none"),u.removeAttrNullNS(this._elem,"fill-opacity"),void this.SetProperty("fill",null);if(this.GetProperty("fill")!==t){if(this.SetProperty("fill",t),t instanceof g||t instanceof y){var e=A.addSpecialFill(t,this.getCtx());u.setAttrNullNS(this._elem,"fill",u.getUrlById(e))}else{var i=T.fixColorForPlatform(t.getColor(),t.getAlpha());i&&i.color&&(u.setAttrNullNS(this._elem,"fill",i.color),null!=i.alpha&&u.setAttrNullNS(this._elem,"fill-opacity",i.alpha,1))}this.UpdateSelectionEffect()}},getClassName:function(){return this._className},setClassName:function(t){return this._className&&!t?u.removeAttrNullNS(this._elem,"class"):t&&u.setAttrNullNS(this._elem,"class",t),this._className=t,this},addClassName:function(t){u.addClassName(this._elem,t),this._className=u.getAttrNullNS(this._elem,"class")},removeClassName:function(t){u.removeClassName(this._elem,t),this._className=u.getAttrNullNS(this._elem,"class")},getStyle:function(){return this._style},setStyle:function(t){return this._style&&u.removeAttrNullNS(this._elem,"style"),t&&j.applyCssObjectToElement(t,this._elem),this._style=t,this},setSolidFill:function(t,e){this.setFill(new K(t,e))},setInvisibleFill:function(){this.setFill(K.invisibleFill())},getStroke:function(){return this._stroke},setStroke:function(t){this._manageDefinitions(this._stroke,t),this._stroke=t;const e="stroke-opacity",i="stroke-dasharray",n="stroke-dashoffset",r="stroke-linejoin",o="stroke-linecap",s="stroke-miterlimit",a="stroke",h="stroke-width";if(!t)return u.removeAttrNullNS(this._elem,a),u.removeAttrNullNS(this._elem,e),u.removeAttrNullNS(this._elem,h),u.removeAttrNullNS(this._elem,i),u.removeAttrNullNS(this._elem,n),u.removeAttrNullNS(this._elem,r),u.removeAttrNullNS(this._elem,o),void u.removeAttrNullNS(this._elem,s);var l=T.fixColorForPlatform(t.getColor(),t.getAlpha());l&&l.color?(u.setAttrNullNS(this._elem,a,l.color),null!=l.alpha&&u.setAttrNullNS(this._elem,e,l.alpha,1)):(u.removeAttrNullNS(this._elem,a),u.removeAttrNullNS(this._elem,e)),u.setAttrNullNS(this._elem,h,t.getWidth(),1),t.isFixedWidth()&&u.setAttrNullNS(this._elem,"vector-effect","non-scaling-stroke");var c=t.getDashProps();c&&c.dashArray?u.setAttrNullNS(this._elem,i,c.dashArray):u.removeAttrNullNS(this._elem,i),c&&c.dashOffset?u.setAttrNullNS(this._elem,n,c.dashOffset):u.removeAttrNullNS(this._elem,n);var _=t.getLineProps();_&&_.lineJoin?u.setAttrNullNS(this._elem,r,_.lineJoin):u.removeAttrNullNS(this._elem,r),_&&_.lineCap?u.setAttrNullNS(this._elem,o,_.lineCap):u.removeAttrNullNS(this._elem,o),_&&_.miterLimit?u.setAttrNullNS(this._elem,s,_.miterLimit):u.removeAttrNullNS(this._elem,s)},setSolidStroke:function(t,e,i){this.setStroke(new z(t,e,i))},_manageDefinitions:function(t,e){t!=e&&(t&&(t._referenceCount--,0==t._referenceCount&&t._defElem&&(this.getCtx().removeDefs(t._defElem),t._defPresent=!1)),e&&(e._referenceCount||(e._referenceCount=0),e._referenceCount++))}},q=function(){};i.createSubclass(q,i),q.ATTRS_TRANSFERABLE_TO_OUTER=["clip-path"],q.getDimensionsForced=function(t,e){var i,n=e.getParent();n&&(i=n.getChildIndex(e));var r=t.getStage();r.addChild(e);var o=e.getDimensions();return r.removeChild(e),n&&n.addChildAt(e,i),o},q.getSvgDimensions=function(t){try{var e=t.getBBox()}catch(t){return null}return new m(e.x,e.y,e.width,e.height)},q.getDimForced=function(t,e){if(e._dim||!t)return e._dim;var i=q.getDimensionsForced(t,e);return q._setDimForced(e,i),i},q._setDimForced=function(t,e){t._dim=e},q.hasAttributes=function(t,e){if(e)for(var i=e.length,n=0;n<i;n++)if(u.getAttrNullNS(t,e[n]))return!0;return!1};const Z={setTranslate:function(t,e){this._modifyMatrix(null,null,t,e)},getTranslateX:function(){var t=this.getMatrix();return t?t._decompose()[l._DECOMP_TX]:0},setTranslateX:function(t){this._modifyMatrix(null,null,t)},getTranslateY:function(){var t=this.getMatrix();return t?t._decompose()[l._DECOMP_TY]:0},setTranslateY:function(t){this._modifyMatrix(null,null,null,t)},setScale:function(t,e){this._modifyMatrix(t,e)},getScaleX:function(){var t=this.getMatrix();return t?t._decompose()[l._DECOMP_SX]:1},setScaleX:function(t){this._modifyMatrix(t)},getScaleY:function(){var t=this.getMatrix();return t?t._decompose()[l._DECOMP_SY]:1},setScaleY:function(t){this._modifyMatrix(null,t)},getRotation:function(){var t=this.getMatrix();return t?t._decompose()[l._DECOMP_R]:0},setRotation:function(t){this._modifyMatrix(null,null,null,null,t)},getMatrix:function(){return this._matrix?this._matrix:new l},setMatrix:function(t){if(t&&t.isIdentity()&&(t=null),this._matrix!=t)if(this._matrix=t,!this._outerElem&&q.hasAttributes(this.getElem(),q.ATTRS_TRANSFERABLE_TO_OUTER)&&this._createOuterGroupElem(),this._matrix=t,t){var e="matrix("+t.getA()+","+t.getC()+","+t.getB()+","+t.getD()+","+t.getTx()+","+t.getTy()+")";u.setAttrNullNS(this.getElem(),"transform",e,"matrix(1,0,0,1,0,0)")}else{u.getAttrNullNS(this.getElem(),"transform")&&(u.removeAttrNullNS(this.getElem(),"transform"),"ie"!==r.browser&&"edge"!==r.browser||u.setAttrNullNS(this.getElem(),"transform",null))}},_modifyMatrix:function(t,e,i,n,r){var o=this.getMatrix()._decompose(),s=o[l._DECOMP_SX],a=o[l._DECOMP_SY],h=o[l._DECOMP_TX],u=o[l._DECOMP_TY],c=o[l._DECOMP_R],_=!1;if(null!=t&&s!=t&&(o[l._DECOMP_SX]=t,_=!0),null!=e&&a!=e&&(o[l._DECOMP_SY]=e,_=!0),null!=i&&h!=i&&(o[l._DECOMP_TX]=i,_=!0),null!=n&&u!=n&&(o[l._DECOMP_TY]=n,_=!0),null!=r&&c!=r&&(o[l._DECOMP_R]=r,_=!0),_){var p=this.getMatrix();this.setMatrix(p._recompose(o))}}},Q=function(){};i.createSubclass(Q,i),Q.SET_ID_ON_DOM=!1,Q.prototype.Init=function(t,e,i){this._context=t,this._elem=A.createElement(e),this._elem._obj=this,this.setId(i),this._bVisible=!0,this._cursor=null,this._alpha=1,this._matrix=null,this._ariaProperties={},this._properties={}},Q.prototype.getCtx=function(){return this._context},Q.prototype.getElem=function(){return this._elem},Q.prototype.getOuterElem=function(){return this._outerElem?this._outerElem:this.getElem()},Q.prototype.getId=function(){return this._id},Q.prototype.setId=function(t,e){this._id!==t&&(t&&0===t.length&&(t=null),this._id=t,(Q.SET_ID_ON_DOM||e)&&(t?u.setAttrNullNS(this.getOuterElem(),"id",t):u.removeAttrNullNS(this.getOuterElem(),"id")))},Q.prototype.getParent=function(){return this._parent},Q.prototype.setParent=function(t){this._parent=t},Q.prototype.isDescendantOf=function(t){return!(!t||!this.getParent())&&(this.getParent()==t||this.getParent().isDescendantOf(t))},Q.prototype.setPixelHinting=function(t){t?u.setAttrNullNS(this._elem,"shape-rendering","crispEdges"):u.removeAttrNullNS(this._elem,"shape-rendering")},Q.prototype.getVisible=function(){return this._bVisible},Q.prototype.setVisible=function(t){if(this._bVisible!==t){this._bVisible=t;var e=this.getElem();t?u.removeAttrNullNS(e,"visibility"):u.setAttrNullNS(e,"visibility","hidden")}},Q.prototype.setClipPath=function(t){if(t){if(this.ClipPathId==t.getId())return;this.ClipPathId&&this._context.decreaseGlobalDefReference(this.ClipPathId),this.ClipPathId=t.getId(),this._context.increaseGlobalDefReference(this.ClipPathId),!this._outerElem&&this._matrix&&this._createOuterGroupElem();var e=t.getId();if(e){var i=this.getCtx();A.addClipPath(t,i)&&u.setAttrNullNS(this.getOuterElem(),"clip-path",u.getUrlById(e))}}else if(this.ClipPathId)return this._context.decreaseGlobalDefReference(this.ClipPathId),this.ClipPathId=null,void u.removeAttrNullNS(this.getOuterElem(),"clip-path")},Q.prototype.setMask=function(t){if(t){if(this.MaskId==t.getId())return;this.MaskId&&this._context.decreaseGlobalDefReference(this.MaskId),this.MaskId=t.getId(),this._context.increaseGlobalDefReference(this.MaskId),!this._outerElem&&this._matrix&&this._createOuterGroupElem();var e=t.getId();if(e){var i=this.getCtx();A.addMask(t,i)&&u.setAttrNullNS(this.getOuterElem(),"mask",u.getUrlById(e))}}else if(this.MaskId)return this._context.decreaseGlobalDefReference(this.MaskId),this.MaskId=null,void u.removeAttrNullNS(this.getOuterElem(),"mask")},Q.prototype.ConvertCoordSpaceRect=function(t,e){if(!e||e===this)return t;var i=this.localToStage(new n(t.x,t.y)),r=this.localToStage(new n(t.x+t.w,t.y+t.h)),o=e.stageToLocal(i),s=e.stageToLocal(r);return new m(Math.min(o.x,s.x),Math.min(o.y,s.y),Math.abs(s.x-o.x),Math.abs(s.y-o.y))},Q.prototype.GetSvgDimensions=function(){return q.getSvgDimensions(this.getElem())},Q.prototype.getDimensions=function(t){var e=this.GetSvgDimensions();return this.ConvertCoordSpaceRect(e,t)},Q.prototype.getDimensionsWithStroke=function(t){var e=this.GetDimensionsWithStroke();return this.ConvertCoordSpaceRect(e,t)},Q.prototype.GetDimensionsWithStroke=function(t){var e=this.GetElemDimensionsWithStroke();return t&&t!==this?this.ConvertCoordSpaceRect(e,t):e},Q.prototype.GetElemDimensionsWithStroke=function(){return this.GetSvgDimensions()},Q.TransferAttributes=function(t,e,i){if(i)for(var n,o,s=i.length,a=0;a<s;a++)n=i[a],(o=u.getAttrNullNS(t,n))&&(u.removeAttrNullNS(t,n),u.setAttrNullNS(e,n,o),"ie"!==r.browser&&"edge"!==r.browser||u.setAttrNullNS(t,n,null))},Q.prototype._createOuterGroupElem=function(){if(!this._outerElem){var t=this._id?this._id+"_outer":null;this._outerElem=A.createElement("g",t);var e=this.getParent();if(e)e.getElem().replaceChild(this._outerElem,this.getElem());u.appendChildElem(this._outerElem,this.getElem()),Q.TransferAttributes(this.getElem(),this._outerElem,q.ATTRS_TRANSFERABLE_TO_OUTER)}},Q.prototype.getCSSStyle=function(){return this._cssStyle},Q.prototype.setCSSStyle=function(t){this._cssStyle=t},Q.prototype.setCursor=function(t){this._cursor=t,t?u.setAttrNullNS(this.getElem(),"cursor",t):u.removeAttrNullNS(this.getElem(),"cursor")},Q.prototype.getCursor=function(){return this._cursor},Q.prototype.setMouseEnabled=function(t){var e=t?"visiblePainted":"none";u.setAttrNullNS(this.getElem(),"pointer-events",e)},Q.prototype.getAlpha=function(){return this._alpha},Q.prototype.setAlpha=function(t){t<1e-5&&(t=0),t!==this._alpha&&(this._alpha=t,u.setAttrNullNS(this.getElem(),"opacity",this._alpha,1))},Q.prototype.applyAriaProperties=function(){if(r.deferAriaCreation())for(var t in this._ariaRole&&this._setAriaRole(this._ariaRole),this._ariaProperties)this._setAriaProperty(t,this._ariaProperties[t])},Q.prototype.setAriaRole=function(t,e){r.deferAriaCreation()&&!e||this._setAriaRole(t),this._ariaRole=t},Q.prototype._setAriaRole=function(t){var e=this.GetAriaElem();t?u.setAttrNullNS(e,"role",t):u.removeAttrNullNS(e,"role")},Q.prototype.getAriaRole=function(){return this._ariaRole},Q.prototype.GetAriaElem=function(){return this.getElem()},Q.prototype.setAriaProperty=function(t,e,i){t&&(r.deferAriaCreation()&&!i||this._setAriaProperty(t,e),this._ariaProperties[t]=e)},Q.prototype._setAriaProperty=function(t,e){var i=this.GetAriaElem();null!=e&&""!==e?("label"===t&&(e=O.processAriaLabel(e)),u.setAttrNullNS(i,"aria-"+t,e)):u.removeAttrNullNS(i,"aria-"+t)},Q.prototype.getAriaProperty=function(t){return t?this._ariaProperties[t]:null},Q.prototype.stageToLocal=function(t){for(var e=this.getPathToStage(),i=t,n=e.length-1;n>=0;n--)i=e[n].getMatrix().invert().transformPoint(i);return i},Q.prototype.localToStage=function(t){for(var e=this.getPathToStage(),i=t,n=0;n<e.length;n++)i=e[n].getMatrix().transformPoint(i);return i},Q.prototype.getPathToStage=function(){for(var t=this,e=[];t;)e.push(t),t=t.getParent();return e},Q.prototype.removeFromParent=function(){this._parent&&this._parent.removeChild(this)},Q.prototype.destroy=function(){this.removeAllDrawEffects(),this.ClipPathId&&this.setClipPath(null)},Q.prototype.GetProperty=function(t){return this._properties[t]},Q.prototype.SetProperty=function(t,e){return e!==this._properties[t]&&(this._properties[t]=e),this},Q.prototype.SetSvgProperty=function(t,e,i){return e!==this._properties[t]&&(this._properties[t]=e,u.setAttrNullNS(this._elem,t,e,i),this.SvgPropertyChanged(t)),this},Q.defineProps=function(t,e){Object.keys(e).forEach(function(i){var n=e[i],r=n.name||i;r=r.charAt(0).toUpperCase()+r.slice(1),t.prototype["get"+r]=function(){return this.GetProperty(i)},t.prototype["set"+r]=function(t){return this.SetSvgProperty(i,t,n.value)}})},Q.prototype.SvgPropertyChanged=function(t){},Q.generateAriaLabel=function(t,e,i){var n=[],r=e&&e.length>0;return t&&n.push(Q.resolveShortDesc(t,i)),r&&n.push(e.join(O.ARIA_LABEL_STATE_DELIMITER)),n.join(O.ARIA_LABEL_DESC_DELIMITER)},Q.resolveShortDesc=function(t,e){return"function"==typeof t?t(e()):t},Object.assign(Q.prototype,x),Object.assign(Q.prototype,B),Object.assign(Q.prototype,X),Object.assign(Q.prototype,Z);const J=function(t,e,i,n){this.Init(t,e,i,n)};i.createSubclass(J,Q),J.prototype.Init=function(t,e,i,n){this._bShapeContainer=!!n,J.superclass.Init.call(this,t,null!=e?e:"g",i),this._childGroupElem=null},J.AttributesTransferableToGroup=["transform","opacity","visibility","pointer-events","clip-path","cursor"],J.prototype.addChild=function(t){if(t){var e=t.getParent();e&&e.removeChild(t),this._arList||(this._arList=[]),t.setParent(this),this._bShapeContainer&&this.CreateChildGroupElem(!1);var i=this.getContainerElem();u.appendChildElem(i,t.getOuterElem()),this._arList.push(t)}},J.prototype.addChildAt=function(t,e){this.AddChildAt(t,e)},J.prototype.AddChildAt=function(t,e){if(e>=0&&e<=this.getNumChildren()&&t){var i=this._findChild(t);if(i>=0&&i==e)return;var n=t.getParent();n&&n.removeChild(t),t.setParent(this),i>=0&&e==this.getNumChildren()+1&&e--;var r=e;this._bShapeContainer&&(this.CreateChildGroupElem(!1),r++);var o=this.getContainerElem(),s=o.childNodes[r];s||(s=null),o.insertBefore(t.getOuterElem(),s),this._arList||(this._arList=[]),this._arList.splice(e,0,t)}},J.prototype.contains=function(t){return this._findChild(t)>=0},J.prototype._findChild=function(t){var e=-1;if(this._arList)for(var i=this._arList.length,n=0;n<i;n++)if(this._arList[n]===t){e=n;break}return e},J.prototype.getChildAfter=function(t){var e=null,i=this._findChild(t);return i>=0&&++i<this._arList.length&&(e=this._arList[i]),e},J.prototype.getChildBefore=function(t){var e=null,i=this._findChild(t);return i>0&&(e=this._arList[i-1]),e},J.prototype.getChildAt=function(t){var e=null;return this._arList&&this._arList.length>t&&t>=0&&(e=this._arList[t]),e},J.prototype.getChildIndex=function(t){return this._findChild(t)},J.prototype.getNumChildren=function(){return this._arList?this._arList.length:0},J.prototype.removeChild=function(t){var e=this._findChild(t);-1!==e&&this._removeObj(t,e)},J.prototype.removeChildImpl=function(t){var e=t.getOuterElem(),i=t.getParent();e&&i&&this.getContainerElem().removeChild(e);if(!this._anchorElem&&this._bShapeContainer&&1===this.getNumChildren()){var n=this._childGroupElem,r=n?n.parentNode:null;r&&(Q.TransferAttributes(n,this._elem,this.GetAttributesTransferableToGroup()),r.replaceChild(this._elem,n),this._childGroupElem=null)}},J.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e&&this._removeObj(e,t),e},J.prototype.removeChildren=function(){if(this._arList)for(var t=this._arList;this.getNumChildren()>0;)this._removeObj(t[0],0)},J.prototype._removeObj=function(t,e){this.removeChildImpl(t),t.setParent(null),this._arList.splice(e,1),0===this._arList.length&&(this._arList=null)},J.prototype.destroy=function(){J.superclass.destroy.call(this);for(var t=this.getNumChildren(),e=0;e<t;e++){this.getChildAt(e).destroy()}},J.prototype.GetAttributesTransferableToGroup=function(){return J.AttributesTransferableToGroup},J.prototype.getElem=function(){return this._childGroupElem?this._childGroupElem:this._elem},J.prototype.CreateChildGroupElem=function(t,e){if(this._childGroupElem||!e&&0!==this.getNumChildren())t&&this.removeChildren();else{var i=Q.SET_ID_ON_DOM&&this._id?this._id+"_g":null;this._childGroupElem=A.createElement("g",i);var n=this.getParent();n&&n.getElem().replaceChild(this._childGroupElem,this._elem),t||u.appendChildElem(this._childGroupElem,this._elem),Q.TransferAttributes(this._elem,this._childGroupElem,this.GetAttributesTransferableToGroup()),this._elem._obj&&(this._childGroupElem._obj=this._elem._obj)}},J.prototype.getDimensions=function(t){if(!r.isEnvironmentTest()||0===this.getNumChildren()||!this.CanOptimizeDimensions())return J.superclass.getDimensions.call(this,t);let e=this._getDimensionsHelper(t=>t.getDimensions(this));if(this._bShapeContainer){const t=q.getSvgDimensions(this._elem);e=e.getUnion(t)}return this.ConvertCoordSpaceRect(e,t)},J.prototype.CanOptimizeDimensions=function(){return!0},J.prototype.getDimensionsWithStroke=function(){return this._getDimensionsHelper(t=>t.GetDimensionsWithStroke(this))},J.prototype._getDimensionsHelper=function(t){for(var e=[],i=this.getNumChildren(),n=0;n<i;n++)e.push(this.getChildAt(n));for(var r=null;e.length>0;){var o=e.shift(),s=t(o);if(s&&(r=r?r.getUnion(s):s),!o.includeChildSubtree||o.includeChildSubtree()){i=o.getNumChildren();for(var a=0;a<i;a++)e.push(o.getChildAt(a))}}return r},J.prototype.GetDimensionsWithStroke=function(t){return null},J.prototype.getContainerElem=function(){return this._anchorElem?this._anchorElem:this.getElem()},J.prototype.UpdateSelectionEffect=function(){},J.prototype.setHollow=function(t,e){for(var i=0;i<this.getNumChildren();i++){var n=this.getChildAt(i),r=n.getFill()?n.getFill().getColor():t;n.setHollow(r,e)}},J.prototype.includeChildSubtree=function(){return!0};const tt=function(t,e,i){this.Init(t,"g",i),this._SVGRoot=e,this.disableSelection(this._elem),this.setCursor("default")};i.createSubclass(tt,J),tt.prototype.addChild=function(t){tt.superclass.addChild.call(this,t)},tt.prototype.getSVGRoot=function(){return this._SVGRoot},tt.prototype.disableSelection=function(t){t.onselectstart=function(){return!1}};const et=function(t){this.Init(t)};i.createSubclass(et,i),et.prototype.Init=function(t){this._scheduledItems=new Array,this._bRunning=!1},et.prototype.HandleTimer=function(){for(var t=(new Date).getTime(),e=0;e<this._scheduledItems.length;e++){var n=this._scheduledItems[e];n.processTime(t)&&this.removeScheduled(n)}this._scheduledItems.length<1?(this._bRunning&&(this._bRunning=!1,this._animationRequestId&&_(this._animationRequestId)),this._animationRequestId=null):this._animationRequestId=c(i.createCallback(this,this.HandleTimer)),et._frameCount++},et.prototype.addScheduled=function(t){this._scheduledItems.indexOf(t)<0&&this._scheduledItems.push(t),this.play()},et.prototype.removeScheduled=function(t){var e=this._scheduledItems.indexOf(t);e>=0&&this._scheduledItems.splice(e,1)},et.prototype.play=function(){if(!this._bRunning){for(var t=0;t<this._scheduledItems.length;t++){var e=this._scheduledItems[t];e.isRunning()||e.play()}this._bRunning=!0,this._animationRequestId=c(i.createCallback(this,this.HandleTimer))}};const it=function(t,e){this.Init(t,e)};let nt;i.createSubclass(it,i),it._TOOLTIP_DIV_ID="_dvtTooltip",it._SHOW_DELAY=500,it._BORDER_COLOR="#9ba2b0",it._FONT_COLOR="#383a47",it._VIEWPORT_BUFFER=15,it.prototype.Init=function(t,e){this._context=t,this._domElementId=e||it._TOOLTIP_DIV_ID,this._isTooltip=!0},it.prototype.showDatatip=function(t,e,i,n,r){null==r&&(r=!0),this._isTooltip=!1,this._showTextAtPosition(t,e,i,n,r,"oj-dvt-datatip")},it.prototype._showTextAtPosition=function(t,e,i,n,r,o){var s,a=this.getTooltipElem(),h=!0!==i;if(h)for(;a.hasChildNodes();)a.removeChild(a.firstChild);"string"==typeof i?(i=(i=i.replace(/(<|&#60;)/g,"&lt;")).replace(/(>|&#62;)/g,"&gt;"),i=it._restoreTag(i,"b"),i=it._restoreTag(i,"i"),i=it._restoreTag(i,"table"),i=it._restoreTag(i,"tr"),i=(i=(i=(i=it._restoreTag(i,"td")).replace(/\n/g,"<br>")).replace(/\\n/g,"<br>")).replace(/&#92;n/g,"<br>"),i=it._restoreTag(i,"br"),(s=document.createElement("span")).style.visibility="inherit",s.style.width=null,s.style.height=null,s.innerHTML=i):h&&(s=i),this._isCustomClassName||(a.className=o),this._isCustomClassName=!1,n||(n=it._BORDER_COLOR),this._isCustomBorderColor||(a.style.borderColor=n),this._isCustomBorderColor=!1,a.style.position="absolute",a.style.zIndex=2147483647,null!=s&&(Array.isArray(s)?s.forEach(function(t){a.appendChild(t)}):a.appendChild(s)),this.PostElement(a,t,e,!0,r)},it.prototype.PostElement=function(t,e,i,n,r){if(t.style["pointer-events"]=n?"none":"auto",t.style.width=null,t.style.height=null,t.style.left="0px",t.style.top="0px",r){var o=this._getOffsets(t);this.positionTip(e+o.x,i+o.y,e,i)}else this.positionTip(e,i,e,i);t.style.visibility="visible";var s=this._context.getTooltipAttachedCallback();s&&s(t)},it.prototype.hideTooltip=function(){this.clearTooltip(),this._tooltipDisplayed=!1,this._timerIsRunning=!1;var t=document.getElementById(this._domElementId);t&&(t.style.visibility="hidden",t.style.overflow=null,t.style.width="0px",t.style.height="0px",r.isRightToLeft(this._context)?t.style.left=t.style.right:t.style.left="0px",t.style.top="0px","undefined"!=typeof $&&this._tooltipTemplateCleanup&&(this._tooltipTemplateCleanup(),this._tooltipTemplateCleanup=null,$(t).children().remove()))},it.prototype.releaseTooltipResources=function(){var t=document.getElementById(this._domElementId);t&&this._getTooltipContainer().removeChild(t)},it.prototype.getTooltipElem=function(){var t=document.getElementById(this._domElementId);return t||(t=this.InitializeTooltipElem()),t},it.prototype._getTooltipContainer=function(){if(nt)return nt;if(nt=document.getElementById("_dvtTooltip_shared_container"),!nt){var t=document.createElement("div");t.id="_dvtTooltip_shared_container",document.body.appendChild(t),nt=t}return nt},it.prototype.InitializeTooltipElem=function(){var t=document.createElement("div");return t.id=this._domElementId,t.style.visibility="hidden",this._getTooltipContainer().appendChild(t),this.InitContent(t),t},it.prototype.InitContent=function(t){},it.prototype.showTooltip=function(t,e,i,n,o,s){i&&0!=i.length&&(this._x=t,this._y=e,this._text=i,this._trackMouse=o,this._timerIsRunning||(s||(s=it._BORDER_COLOR),this.getTooltipElem().style.borderColor=s,r.isTouchDevice()||this._tooltipDisplayed&&this._trackMouse?this._displayTooltip(this._x,this._y,this._text,this._borderColor):(this._timerIsRunning=!0,this._showTimerId=window.setTimeout(this._handleShowTimer.bind(this),it._SHOW_DELAY))))},it.prototype.clearTooltip=function(){this._showTimerId&&(window.clearTimeout(this._showTimerId),this._showTimerId=void 0,this._x=void 0,this._y=void 0,this._text=void 0,this._trackMouse=void 0),this._hideTimerId&&(window.clearTimeout(this._hideTimerId),this._hideTimerId=void 0)},it.prototype._handleShowTimer=function(t){this._timerIsRunning=!1,this._displayTooltip(this._x,this._y,this._text,this._borderColor),this._tooltipDisplayed=!0},it.prototype._displayTooltip=function(t,e,i,n){this._isTooltip=!0,this._showTextAtPosition(t,e,i,n,!0,"oj-dvt-tooltip")},it.prototype._getOffsets=function(t){var e=this.getTooltipBounds(t);if(r.isTouchDevice())return new n(0-e.w/2,-30-e.h);var i=-8-e.h,o=8;return this._isTooltip&&(i=22,o=0),r.isRightToLeft(this._context)&&(o=-o-e.w),new n(o,i)},it.prototype.getTooltipBounds=function(){var t=this.getTooltipElem();return t.style.height="auto",new m(parseInt(t.style.left),parseInt(t.style.top),t.offsetWidth,t.offsetHeight)},it.prototype.positionTip=function(t,e){var i=this.getTooltipElem(),n=this.getTooltipBounds(),r=n.w,o=n.h,s=new m(window.pageXOffset+it._VIEWPORT_BUFFER,window.pageYOffset+it._VIEWPORT_BUFFER,window.innerWidth-2*it._VIEWPORT_BUFFER,window.innerHeight-2*it._VIEWPORT_BUFFER);r>s.w-2*it._VIEWPORT_BUFFER&&(r=s.w-2*it._VIEWPORT_BUFFER,i.style.width=r+"px");var a=t;a=Math.max(a,s.x),a=Math.min(a,s.x+s.w-r),Math.abs(s.x)>it._VIEWPORT_BUFFER&&(i.style.width=Math.min(i.clientWidth,s.x+s.w-a)+"px",e+=o-i.offsetHeight,o=i.offsetHeight,i.style.overflow="hidden");var h=e;h=Math.min(h,s.y+s.h-o),h=Math.max(h,s.y),i.style.left=a+"px",i.style.top=h+"px"},it.prototype.getCustomTooltip=function(t,e){var i=this.getTooltipElem();for(this._tooltipTemplateCleanup&&(this._tooltipTemplateCleanup(),this._tooltipTemplateCleanup=null);i.hasChildNodes();)i.removeChild(i.firstChild);e.parentElement=i,i.className="",i.style.borderColor="";var n=t(e=this._context.fixRendererContext(e));return i.className&&(this._isCustomClassName=!0),i.style.borderColor&&(this._isCustomBorderColor=!0),this._tooltipTemplateCleanup=e._tooltipTemplateCleanup,!(n||!i.hasChildNodes())||n},it._restoreTag=function(t,e){var i=new RegExp("&lt;(/?)("+e+")(?=[\\s&/])([^&]*)(/?)&gt;","g");return t.replace(i,"<$1"+e+"$3$4>")},it.createElement=function(t,e,i,n){var r=document.createElement(t);if(e&&e.applyStylesToElement(r),n&&r.classList.add.apply(r.classList,n),null!=i)if(Array.isArray(i))for(var o=0;o<i.length;o++)r.appendChild(i[o]);else r.appendChild(document.createTextNode(i));return r};const rt={};i.createSubclass(rt,i),rt.getHoverBorderColor=function(t){return T.adjustHSL(t,0,0,.15)},rt.createSelectingStroke=function(t){return new z(rt.getHoverBorderColor(t),1,2,!1,null,{miterLimit:1})},rt.getSelectingCursor=function(){return"pointer"};const ot=function(t,e,i){this.Init(t,e,i)};i.createSubclass(ot,J),ot.prototype.Init=function(t,e,i){ot.superclass.Init.call(this,t,e,i,!0),this._bSelectable=!1,this.IsSelected=!1,this.InnerShape=null,this.HoverInnerStroke=null,this.HoverOuterStroke=null,this.SelectedInnerStroke=null,this.SelectedOuterStroke=null,this.SelectedHoverInnerStroke=null,this.SelectedHoverOuterStroke=null,this.OriginalStroke=null,this._isOriginalStrokeSet=!1,this.IsShowingHoverEffect=!1,this._feedbackClassName=null},ot.prototype.setHollow=function(t,e){if(this._bHollow)this.setFill(this._origFill),this.setStroke(this._origStroke),this._bHollow=!1;else{this._origFill=this.GetProperty("fill"),this._origStroke=this.getStroke();var i,n=K.invisibleFill();i=t?new z(T.getRGB(t),T.getAlpha(t),e):new z(this.GetProperty("fill").getColor(),this.GetProperty("fill").getAlpha(),e),this.setFill(n),this.setStroke(i),this._bHollow=!0}},ot.prototype.isHollow=function(){return this._bHollow},ot.prototype.destroy=function(){ot.superclass.destroy.call(this),this.setFill(null),this.setStroke(null)},ot.prototype.getDimensionsWithStroke=function(){var t=this.GetElemDimensionsWithStroke(),e=ot.superclass.getDimensionsWithStroke.call(this);return t&&e?t=t.getUnion(e):e&&(t=e),t},ot.prototype.GetDimensionsWithStroke=function(t){var e=this.GetElemDimensionsWithStroke();return t&&t!==this?this.ConvertCoordSpaceRect(e,t):e},ot.prototype.GetElemDimensionsWithStroke=function(){var t=this.getDimensionsSelf&&this.getNumChildren()-this._getInnerShapeCount()==0?this.getDimensionsSelf():ot.superclass.getDimensions.call(this),e=this.getStroke();if(t&&e){var i=e.getWidth();if(i){var n=.5*i;t.x-=n,t.y-=n,t.w+=i,t.h+=i}}return t},ot.prototype.UpdateSelectionEffect=function(){var t;(this.isSelected()||this.isHoverEffectShown())&&(this.InnerShape&&(t=this.InnerShape.getStroke(),this.removeChild(this.InnerShape)),this.InnerShape=this.copyShape(),this.InnerShape._setOuterShape(this),this.InnerShape.setMouseEnabled(!1),this.InnerShape.setFill(this.getFill()),this.InnerShape.setStroke(t||this.getStroke()),this.InnerShape.setStyle(this.getStyle()).setClassName(this.getClassName()),this._feedbackClassName&&(this.InnerShape.removeClassName("oj-dvt-default-border-width"),this.InnerShape.removeClassName("oj-dvt-default-border-color"),this.InnerShape.removeClassName(this._feedbackClassName),this.InnerShape.addClassName(`${this._feedbackClassName}-inner-shape`)),this.InnerShape.setMouseEnabled(!1),this.InnerShape.setCursor(rt.getSelectingCursor()),this.AddChildAt(this.InnerShape,0))},ot.prototype._setOuterShape=function(t){this._outerShape=t},ot.prototype.GetHoverSelectionInnerStroke=function(){var t;return this.InnerShape&&(this.isSelected()?t=this.isHoverEffectShown()?this.SelectedHoverInnerStroke:this.SelectedInnerStroke:this.isHoverEffectShown()&&(t=this.HoverInnerStroke)),t},ot.prototype.GetHoverSelectionOuterStroke=function(){var t;return this._outerShape&&(this._outerShape.isSelected()?t=this._outerShape.isHoverEffectShown()?this._outerShape.SelectedHoverOuterStroke:this._outerShape.SelectedOuterStroke:this._outerShape.isHoverEffectShown()&&(t=this._outerShape.HoverOuterStroke)),t},ot.prototype.setHoverStroke=function(t,e){return this.HoverInnerStroke=t,this.HoverOuterStroke=e,this},ot.prototype.setSelectedStroke=function(t,e){return this.SelectedInnerStroke=t,this.SelectedOuterStroke=e,this},ot.prototype.setSelectedHoverStroke=function(t,e){return this.SelectedHoverInnerStroke=t,this.SelectedHoverOuterStroke=e,this},ot.prototype.setSelectable=function(t){this._bSelectable=t,this._bSelectable?this.setCursor(rt.getSelectingCursor()):this.setCursor(null)},ot.prototype.isSelectable=function(){return this._bSelectable},ot.prototype.isSelected=function(){return this.IsSelected},ot.prototype.setSelected=function(t){const e="oj-selected";this.IsSelected!=t&&(this._isOriginalStrokeSet||(this._isOriginalStrokeSet=!0,this.OriginalStroke=this.getStroke()),this.IsSelected=t,this.isSelected()?(this.UpdateSelectionEffect(),this._feedbackClassName?(this.addClassName(e),this.InnerShape.addClassName(e)):this.isHoverEffectShown()?(this.CreateSelectedHoverStrokes(),this.InnerShape.setStroke(this.SelectedHoverInnerStroke),this.setStroke(this.SelectedHoverOuterStroke)):(this.InnerShape.setStroke(this.SelectedInnerStroke),this.setStroke(this.SelectedOuterStroke))):(this._feedbackClassName&&(this.removeClassName(e),this.InnerShape.removeClassName(e)),this.IsShowingHoverEffect?this._feedbackClassName||(this.InnerShape.setStroke(this.HoverInnerStroke),this.setStroke(this.HoverOuterStroke)):(this.removeChild(this.InnerShape),this.setStroke(this.OriginalStroke))))},ot.prototype.setFeedbackClassName=function(t){this.addClassName(t),this._feedbackClassName=t},ot.prototype.showHoverEffect=function(){this.IsShowingHoverEffect||(this.IsShowingHoverEffect=!0,this._isOriginalStrokeSet||(this._isOriginalStrokeSet=!0,this.OriginalStroke=this.getStroke()),this.UpdateSelectionEffect(),this._feedbackClassName?(this.addClassName("oj-hover"),this.InnerShape.addClassName("oj-hover")):this.isSelected()?(this.CreateSelectedHoverStrokes(),this.InnerShape.setStroke(this.SelectedHoverInnerStroke),this.setStroke(this.SelectedHoverOuterStroke)):(this.InnerShape.setStroke(this.HoverInnerStroke),this.setStroke(this.HoverOuterStroke)))},ot.prototype.CreateSelectedHoverStrokes=function(){this.SelectedHoverInnerStroke||(this.SelectedHoverInnerStroke=this.HoverInnerStroke),this.SelectedHoverOuterStroke||(this.SelectedHoverOuterStroke=new z(this.SelectedOuterStroke.getColor(),this.SelectedOuterStroke.getAlpha(),this.SelectedOuterStroke.getWidth()+(this.HoverInnerStroke.getWidth()-this.SelectedInnerStroke.getWidth())))},ot.prototype.hideHoverEffect=function(){this.IsShowingHoverEffect&&(this.IsShowingHoverEffect=!1,this._feedbackClassName&&(this.removeClassName("oj-hover"),this.InnerShape.removeClassName("oj-hover")),this.isSelected()?this._feedbackClassName||(this.InnerShape.setStroke(this.SelectedInnerStroke),this.setStroke(this.SelectedOuterStroke)):(this.removeChild(this.InnerShape),this.setStroke(this.OriginalStroke)))},ot.prototype.isHoverEffectShown=function(){return this.IsShowingHoverEffect},ot.prototype.addChildAt=function(t,e){ot.superclass.addChildAt.call(this,t,e+this._getInnerShapeCount())},ot.prototype.getChildAt=function(t,e){return ot.superclass.getChildAt.call(this,t,e+this._getInnerShapeCount())},ot.prototype.getChildIndex=function(t){return ot.superclass.getChildIndex.call(this,t)-this._getInnerShapeCount()},ot.prototype.removeChildAt=function(t){ot.superclass.removeChildAt.call(this,t+this._getInnerShapeCount())},ot.prototype.getDimensions=function(t){return this.getDimensionsSelf&&this.getNumChildren()-this._getInnerShapeCount()==0?this.getDimensionsSelf(t):ot.superclass.getDimensions.call(this,t)},ot.prototype._getInnerShapeCount=function(){return this.isSelected()||this.isHoverEffectShown()?1:0},ot.prototype.SvgPropertyChanged=function(t){this.UpdateSelectionEffect()},ot.prototype.copyShape=function(){return null};const st={};i.createSubclass(st,i),st._cachedTextWidth={},st._cachedRepTextDimensions={},st._canvasCtx=null,st._wordSpacing,st._letterSpacing,st._fontVariantNumeric,st.EMPTY_TEXT_BUFFER=2,st.ELLIPSIS="…",st.REPRESENTATIVE_TEXT="MW",st.V_ALIGN_TOP="top",st.V_ALIGN_MIDDLE="middle",st.V_ALIGN_CENTRAL="central",st.V_ALIGN_BOTTOM="bottom",st.V_ALIGN_AUTO="auto",st._rep_text_constructor=null,st.getMaxTextDimensions=function(t){for(var e=0,i=0,n=0;n<t.length;n++)if(null!=t[n]){var r=t[n].getDimensions();e=Math.max(e,r.w),i=Math.max(i,r.h)}return new h(e,i)},st.getMaxTextStringWidth=function(t,e,i){for(var n=0,r=Array.isArray(i),o=0;o<e.length;o++)if(null!=e[o]&&0!=e[o].length){var s=i?r?i[o]:i:null,a=st.getTextStringWidth(t,e[o],s);a>n&&(n=a)}return n},st.getTextStringDimensions=function(t,e,i){var n=st._getRepresentativeDimensions(t,i);return new m(0,n.y,st.getTextStringWidth(t,e,i),n.h)},st.getTextStringWidth=function(t,e,i){if(null==e||0==e.length)return 0;var n=t.letterSpacing||"normal",o=t.wordSpacing||"normal",s=t.fontVariantNumeric||"normal",a=st._createCacheKey(t,i,e),h=st._cachedTextWidth[a];if(null!=h)return h;var l,u=st._isNormalSpacing(n),c=st._isNormalSpacing(o);if(u&&c&&"normal"===s){var _=st._wordSpacing||st._letterSpacing||st._fontVariantNumeric;st._storeCanvasContext(_),st._setSpacing(null,null,null),l=st._getCanvasTextWidth(t,e,i)}else if(("safari"===r.browser||"chrome"===r.browser)&&u&&c)st._fontVariantNumeric!=s&&(st._clearCanvasContext(),st._setSpacing(o,n,s)),st._storeCanvasContext(),st._attachCanvas(t),l=st._getCanvasTextWidth(t,e,i);else{var p=new st._rep_text_constructor(t,e);p.setCSSStyle(i);var d=p.getCtx().getStage();d.addChild(p),l=p.GetSvgDimensions().w,d.removeChild(p)}return st._cachedTextWidth[a]=l,l},st._isNormalSpacing=function(t){return"normal"===t||"0px"===t},st._setSpacing=function(t,e,i){st._wordSpacing=t,st._letterSpacing=e,st._fontVariantNumeric=i},st._storeCanvasContext=function(t){var e=st._canvasCtx?st._canvasCtx.canvas:null;e?t&&(st._canvasCtx=st._canvasCtx.canvas.getContext("2d")):(e=document.createElement("CANVAS"),st._canvasCtx=e.getContext("2d"))},st._clearCanvasContext=function(){if(st._canvasCtx){var t=st._canvasCtx.canvas;t.parentNode&&t.parentNode.removeChild(t),st._canvasCtx=null}},st._attachCanvas=function(t){var e=st._canvasCtx.canvas;e.parentNode||(e.style.display="none",t.getContainer().appendChild(e),st._canvasCtx=e.getContext("2d"))},st._createCacheKey=function(t,e,i){return(i||"")+(null!=e?e.hashCodeForTextMeasurement():"")+t.letterSpacing+t.wordSpacing+t.fontVariantNumeric},st.getTextStringHeight=function(t,e){return st._getRepresentativeDimensions(t,e).h},st.fitText=function(t,e,i,n,r,o){var s=t.getTextString();if(!t.hasBackground()&&!t.isMultiline()){var a=st.getTextStringDimensions(t.getCtx(),s,t.getCSSStyle());if(a.h>i)return o||t.removeFromParent(),!1;if(a.w<=e)return n.addChild(t),!0}if(n.addChild(t),r="number"!=typeof r||null==r?1:r,t.isMultiline())return t.__fitText(e,i,r);if(t.isMultiline())throw t.setMaxWidth(e,r),new Error("TextUtils.fitText called with a non-text class");return st._truncateOutputText(t,e,r),""==t.getTextString()?(o||n.removeChild(t),t.setTextString(s),!1):(t.getTextString()!=s&&t.setUntruncatedTextString(s),!0)},st.centerTextVertically=function(t,e){"ie"===r.browser||"edge"===r.browser?(t.setY(e),t.alignMiddle()):t.setY(e-t.getDimensions().h/2)},st._truncateOutputText=function(t,e,i){if(e<=0)t.setTextString("");else{var n=t.getDimensions();if(!(n.w<=e)){var r=t.getTextString(),o=r.length,s=n.w/st._getTextLength(r),a=Math.max(Math.floor(e/s)-2,i),h=r.substring(0,a)+st.ELLIPSIS;t.setTextString(h);for(var l=h,u=n=t.getDimensions();n.w<e&&!(a>=r.length);){var c=e-n.w,_=Math.min(o-a,Math.max(Math.floor(c/s),1));if(a+=_,h=r.substring(0,a)+st.ELLIPSIS,t.setTextString(h),n=t.getDimensions(),1==_&&n.w>e){t.setTextString(l),n=u;break}l=h,u=n}for(;n.w>e;){if(a<=i){t.setTextString("");break}a-=1,h=r.substring(0,a)+st.ELLIPSIS,t.setTextString(h),n=t.getDimensions()}}}},st._getTextLength=function(t){return(t=t.replace(/[\u200A\u200B\u200C\u200D\u200E\u200F\uFEFF]/g,"")).length},st._getRepresentativeDimensions=function(t,e){var i=st._createCacheKey(t,e),n=st._cachedRepTextDimensions[i];if(null==n){var r=new st._rep_text_constructor(t,st.REPRESENTATIVE_TEXT);r.alignAuto(),r.setCSSStyle(e);var o=r.getCtx().getStage();o.addChild(r);var s=r.GetSvgDimensions();o.removeChild(r),n={x:s.x,y:s.y,w:.5*s.w,h:s.h},st._cachedRepTextDimensions[i]=n}return n},st.setRepresentativeTextConstructor=function(t){st._rep_text_constructor=t},st.getBaselineTranslation=function(t){var e=t.getVertAlignment();if(e!=st.V_ALIGN_AUTO){var i=st._getRepresentativeDimensions(t.getCtx(),t.getCSSStyle());if(e==st.V_ALIGN_TOP)return-i.y;if(e==st.V_ALIGN_MIDDLE)return-i.y-i.h/2;if(e==st.V_ALIGN_CENTRAL)return-i.y/2;if(e==st.V_ALIGN_BOTTOM)return-i.y-i.h}return 0},st._getCanvasTextWidth=function(t,e,i){var n=(i?i.getStyle("font-style"):null)||"normal",r=(i?i.getStyle("font-variant"):null)||"normal",o=(i?i.getStyle("font-weight"):null)||"normal",s=(i?i.getStyle("font-family"):null)||t.getDefaultFontFamily()||"",a=(i?i.getFontSize():null)||t.getDefaultFontSize()||"12px";isNaN(a)||(a+="px");var h=n+" "+r+" "+o+" "+a+" "+s;return st._configureCanvas(t,h),st._canvasCtx.measureText(e).width},st._configureCanvas=function(t,e){"ie"!==r.browser&&"edge"!==r.browser||(e=e.replace(/-apple-system(-\w+)*,?/g,""),st._attachCanvas(t)),st._canvasCtx.font=e},st.clearCaches=function(){st._cachedTextWidth={},st._cachedRepTextDimensions={}},st.getOptimalFontSize=function(t,e,i,n){i=i?i.clone():new j;for(var r=Math.max(Math.round(Math.min(n.w/e.length,n.h/2)),9);r<51;r+=1){i.setFontSize("font-size",r+"px",t);var o=st.getTextStringDimensions(t,e,i);if(o.w>n.w||o.h>n.h)return Math.min(r-1,50)+"px"}return"50px"};const at=function(t,e,i,n,r){this.Init(t,e,i,n,r)};var ht;st.setRepresentativeTextConstructor(at),i.createSubclass(at,ot),at.ELLIPSIS=st.ELLIPSIS,at.REPRESENTATIVE_TEXT=st.REPRESENTATIVE_TEXT,at.BIDI_ZERO_WIDTH="​",at.H_ALIGN_LEFT="left",at.H_ALIGN_CENTER="center",at.H_ALIGN_RIGHT="right",at.TEXT_ANCHOR="text-anchor",at.V_ALIGN_TOP=st.V_ALIGN_TOP,at.V_ALIGN_MIDDLE=st.V_ALIGN_MIDDLE,at.V_ALIGN_CENTRAL=st.V_ALIGN_CENTRAL,at.V_ALIGN_BOTTOM=st.V_ALIGN_BOTTOM,at.V_ALIGN_AUTO=st.V_ALIGN_AUTO,at.prototype.Init=function(t,e,i,n,o){at.superclass.Init.call(this,t,"text",o),this._x=null!=i?i:0,this._baseline=!1,!r.isRightToLeft(t)||"ie"!==r.browser&&"edge"!==r.browser||u.setAttrNullNS(this.getElem(),"unicode-bidi","embed"),this.alignLeft(),this.alignTop(),this.setTextString(e),this.setX(i),this.setY(n),u.removeAttrNullNS(this.getElem(),"fill"),this.setAriaProperty("hidden","true")},at.prototype.getTextString=function(){return this._textString},at.prototype.setTextString=function(t){t=null!=t?String(t).trim():"",!this._needsTextAnchorAdjustment()||"ie"!==r.browser&&"edge"!==r.browser||t.charAt(0)==at.BIDI_ZERO_WIDTH||(t=at.BIDI_ZERO_WIDTH+t),this._textString=t;var e=this.getElem().firstChild;return null!==e?e.nodeValue=t:(e=document.createTextNode(t),u.appendChildElem(this.getElem(),e)),"ie"!==r.browser&&"edge"!==r.browser||this.setX(this._x),this},at.prototype.isTruncated=function(){return null!=this.getUntruncatedTextString()},at.prototype.getUntruncatedTextString=function(){return this._untruncatedTextString},at.prototype.setUntruncatedTextString=function(t){t!=this.getTextString()&&(this._untruncatedTextString=t)},at.prototype.getX=function(){return("ie"===r.browser||"edge"===r.browser?this._x:this.GetProperty("x"))||0},at.prototype.setX=function(t){return this._x=null!=t?t:0,"ie"===r.browser||"edge"===r.browser?this.SetSvgProperty("x",this._x+this._getIEAlignmentOffset(),0):this.SetSvgProperty("x",t,0)},at.prototype._getIEAlignmentOffset=function(){var t=this.getHorizAlignment(),e=r.isRightToLeft(this.getCtx());return t==at.H_ALIGN_LEFT?e?st.getTextStringWidth(this.getCtx(),this.getTextString(),this.getCSSStyle()):0:t==at.H_ALIGN_CENTER?e?st.getTextStringWidth(this.getCtx(),this.getTextString(),this.getCSSStyle())/2:st.getTextStringWidth(this.getCtx(),this.getTextString(),this.getCSSStyle())/2*-1:t==at.H_ALIGN_RIGHT?e?0:-1*st.getTextStringWidth(this.getCtx(),this.getTextString(),this.getCSSStyle()):0},at.prototype.getY=function(){var t=this.GetProperty("y");return t||0},at.prototype.setY=function(t){return this.SetSvgProperty("y",t,0)},at.prototype.setFontSize=function(t){var e=this.getCSSStyle();(e=e?e.clone():new j).setFontSize(j.FONT_SIZE,String(t),this.getCtx()),this.setCSSStyle(e)},at.prototype.getHorizAlignment=function(){return this._horizAlign},at.prototype.setHorizAlignment=function(t){t==at.H_ALIGN_LEFT?this.alignLeft():t==at.H_ALIGN_CENTER?this.alignCenter():t==at.H_ALIGN_RIGHT&&this.alignRight()},at.prototype.getVertAlignment=function(){return this._vertAlign},at.prototype.setVertAlignment=function(t){t==at.V_ALIGN_TOP?this.alignTop():t==at.V_ALIGN_MIDDLE?this.alignMiddle():t==at.V_ALIGN_CENTRAL?this.alignCentral():t==at.V_ALIGN_BOTTOM?this.alignBottom():t==at.V_ALIGN_AUTO&&this.alignAuto()},at.prototype.alignLeft=function(){if(this._horizAlign!=at.H_ALIGN_LEFT)if(this._horizAlign=at.H_ALIGN_LEFT,"ie"===r.browser||"edge"===r.browser)this.setX(this._x);else{var t=this._needsTextAnchorAdjustment();u.setAttrNullNS(this.getElem(),at.TEXT_ANCHOR,t?"end":"start","start")}},at.prototype.alignCenter=function(){this._horizAlign!=at.H_ALIGN_CENTER&&(this._horizAlign=at.H_ALIGN_CENTER,"ie"===r.browser||"edge"===r.browser?this.setX(this._x):u.setAttrNullNS(this.getElem(),at.TEXT_ANCHOR,"middle","start"))},at.prototype.alignRight=function(){if(this._horizAlign!=at.H_ALIGN_RIGHT)if(this._horizAlign=at.H_ALIGN_RIGHT,"ie"===r.browser||"edge"===r.browser)this.setX(this._x);else{var t=this._needsTextAnchorAdjustment();u.setAttrNullNS(this.getElem(),at.TEXT_ANCHOR,t?"start":"end","start")}},at.prototype.alignTop=function(){this._vertAlign!=at.V_ALIGN_TOP&&(this._vertAlign==at.V_ALIGN_BOTTOM&&"safari"===r.browser&&this._setBaseline(!1),this._vertAlign=at.V_ALIGN_TOP,"ie"===r.browser||"edge"===r.browser?this._setBaseline(!0):this.SetDominantBaselineAttr("text-before-edge"))},at.prototype.alignMiddle=function(){this._vertAlign!=at.V_ALIGN_MIDDLE&&(this._vertAlign==at.V_ALIGN_BOTTOM&&"safari"===r.browser&&this._setBaseline(!1),this._vertAlign=at.V_ALIGN_MIDDLE,"ie"===r.browser||"edge"===r.browser?this._setBaseline(!0):this.SetDominantBaselineAttr("middle"))},at.prototype.alignCentral=function(){this._vertAlign!=at.V_ALIGN_CENTRAL&&(this._vertAlign==at.V_ALIGN_BOTTOM&&"safari"===r.browser&&this._setBaseline(!1),this._vertAlign=at.V_ALIGN_CENTRAL,"ie"===r.browser||"edge"===r.browser?this._setBaseline(!0):this.SetDominantBaselineAttr("central"))},at.prototype.alignBottom=function(){this._vertAlign!=at.V_ALIGN_BOTTOM&&(this._vertAlign=at.V_ALIGN_BOTTOM,"ie"===r.browser||"edge"===r.browser?this._setBaseline(!0):"safari"===r.browser?(this._setBaseline(!0),this.SetDominantBaselineAttr(null)):this.SetDominantBaselineAttr("text-after-edge"))},at.prototype.alignAuto=function(){this._vertAlign!=at.V_ALIGN_AUTO&&(this._vertAlign==at.V_ALIGN_BOTTOM&&"safari"===r.browser&&this._setBaseline(!1),this._vertAlign=at.V_ALIGN_AUTO,"ie"===r.browser||"edge"===r.browser?this._setBaseline(!1):this.SetDominantBaselineAttr(null))},at.prototype._setBaseline=function(t){this._baseline=t,this.setMatrix(this.getMatrix())},at.prototype.SetDominantBaselineAttr=function(t){t?u.setAttrNullNS(this.getElem(),"dominant-baseline",t):u.removeAttrNullNS(this.getElem(),"dominant-baseline")},at.prototype.setCSSStyle=function(t){at.superclass.setCSSStyle.call(this,t);var e=this.getOuterElem();if(t){var i=t.getStyle("color"),n=T.fixColorForPlatform(i);n&&n.color&&(u.setAttrNullNS(e,"fill",n.color),null!=n.alpha&&u.setAttrNullNS(e,"fill-opacity",n.alpha,1));const o="font-family";(i=t.getStyle(o))&&!this.getCtx().isDefaultFontFamily(i)?u.setAttrNullNS(e,o,i):u.removeAttrNullNS(e,o),(i=t.getStyle("font-size"))&&i!=this.getCtx().getDefaultFontSize()?(u.setAttrNullNS(e,"font-size",i),"ie"!==r.browser&&"edge"!==r.browser&&"safari"!==r.browser||this.setMatrix(this.getMatrix())):u.removeAttrNullNS(e,"font-size"),(i=t.getStyle("font-style"))&&u.setAttrNullNS(e,"font-style",i);const s="font-weight";(i=t.getStyle(s))&&i!=this.getCtx().getDefaultFontWeight()?u.setAttrNullNS(e,s,i):u.removeAttrNullNS(e,s),(i=t.getStyle("text-decoration"))&&u.setAttrNullNS(e,"text-decoration",i),(i=t.getStyle("cursor"))&&u.setAttrNullNS(e,"cursor",i),"ie"!==r.browser&&"edge"!==r.browser||this.setX(this._x)}},at.prototype._getBaselineTranslation=function(){if(this._baseline){if(this._textString&&!this._isRepresentativeText())return st.getBaselineTranslation(this);var t=this.getVertAlignment();if(t!=at.V_ALIGN_AUTO){var e=u.getAttrNullNS(this.getElem(),"font-size");if(e||(e=u.getAttrNullNS(this.getOuterElem(),"font-size")),(!e||isNaN(e)&&-1==e.indexOf("px"))&&(e=this.getCtx().getDefaultFontSize()),e=parseFloat(e),t==at.V_ALIGN_TOP)return.8*e;if(t==at.V_ALIGN_MIDDLE)return.3*e;if(t==at.V_ALIGN_CENTRAL)return.4*e;if(t==at.V_ALIGN_BOTTOM)return-.2*e}}return 0},at.prototype._getBaselineAdjustedMatrix=function(t){this._baseline&&(t||(t=new l),t=new l(null,null,null,null,null,this._getBaselineTranslation()).concat(t));return t},at.prototype.setMatrix=function(t){"ie"!==r.browser&&"edge"!==r.browser&&"safari"!==r.browser||(this._matrixForIE=t,t=this._getBaselineAdjustedMatrix(t)),at.superclass.setMatrix.call(this,t)},at.prototype.getMatrix=function(){var t=null;return"ie"!==r.browser&&"edge"!==r.browser&&"safari"!==r.browser||(t=this._matrixForIE),t||(t=at.superclass.getMatrix.call(this)),t},at.prototype._isRepresentativeText=function(){return this._textString==at.REPRESENTATIVE_TEXT||this._textString==at.BIDI_ZERO_WIDTH||this._textString==at.BIDI_ZERO_WIDTH+at.REPRESENTATIVE_TEXT},at.prototype.GetSvgDimensions=function(){var t=at.superclass.GetSvgDimensions.call(this);return t&&(t.y+=this._getBaselineTranslation(),this._isRepresentativeText()||(t.h=st.getTextStringHeight(this.getCtx(),this.getCSSStyle()))),t},at.prototype.UpdateSelectionEffect=function(){},at.prototype.getDimensions=function(t){var e=this.getHorizAlignment(),i=this.getVertAlignment(),n=st.getTextStringDimensions(this.getCtx(),this.getTextString(),this.getCSSStyle());return n.x=this.getX(),e===at.H_ALIGN_RIGHT?n.x-=n.w:e===at.H_ALIGN_CENTER&&(n.x-=n.w/2),i===at.V_ALIGN_TOP?n.y=this.getY():i===at.V_ALIGN_BOTTOM?n.y=this.getY()-n.h:i===at.V_ALIGN_MIDDLE?n.y=this.getY()-n.h/2:i===at.V_ALIGN_CENTRAL?n.y=this.getY()-.4*n.h:i===at.V_ALIGN_AUTO&&(n.y+=this.getY()),t&&t!==this?this.ConvertCoordSpaceRect(n,t):n},at.prototype.copyShape=function(){var t=new at(this.getCtx(),this.getTextString(),this.getX(),this.getY());return t.setCSSStyle(this.getCSSStyle()),t.setHorizAlignment(this.getHorizAlignment()),t.setVertAlignment(this.getVertAlignment()),t},at.prototype._needsTextAnchorAdjustment=function(){return r.isRightToLeft(this.getCtx())},at.createIcon=(ht={},function(t,e){var i=e.style,n=e.size,o=e.pos||{x:n/2,y:n/2},s=new at(t,i.character);if(s.setClassName("oj-fwk-icon oj-dvt-icon"),s.getElem().style.fontSize=n+"px","ie"===r.browser||"edge"===r.browser){s.SetSvgProperty("x",0,0);var a="ie"===r.browser?.8*n:function(t,e,i){if(!ht[e]){var n=new at(t,i);n.setClassName("oj-fwk-icon oj-dvt-icon"),n.getElem().style.fontSize=e+"px",n.alignAuto();var r=t.getStage();r.addChild(n);var o=n.GetSvgDimensions();r.removeChild(n),ht[e]=-o.y}return ht[e]}(t,n,i.character),h=r.isRightToLeft(t),u=new l(1,0,0,1,h?n/2:-n/2,a-n/2);at.superclass.setMatrix.call(s,u.concat(i.transform).translate(o.x,o.y))}else s.alignCenter(),s.alignCentral(),s.setMatrix(i.transform.translate(o.x,o.y));return s}),at.prototype.isMultiline=function(){return!1},at.prototype.hasBackground=function(){return!1};const lt=function(t,e,i,n,r,o){this.Init(t,e,i,n,r,o)};i.createSubclass(lt,ot),lt._cssAttrs=["background-color","border-color","border-width"],lt.prototype.Init=function(t,e,i,n,r,o){lt.superclass.Init.call(this,t,"rect",o),this._strokeAlignment="center",this.setX(e).setY(i).setWidth(n).setHeight(r)},Q.defineProps(lt,{x:{value:0},y:{value:0},width:{value:0},height:{value:0},rx:{},ry:{}}),lt.prototype.setCSSStyle=function(t){lt.superclass.setCSSStyle.call(this,t);var e=this._elem;if(t){var i=t.getStyle("background-color");if(i&&u.setAttrNullNS(e,"fill",i),(i=t.getStyle("border-color"))&&u.setAttrNullNS(e,"stroke",i),(i=t.getStyle("border-width"))&&u.setAttrNullNS(e,"stroke-width",i),i=t.getStyle("border-radius")){var n=i.trim().split(" ");n.length>0&&n[0]&&this.setRx(n[0]),n.length>1&&n[1]&&this.setRy(n[1])}}else u.removeAttrNullNS(this._elem,"style")},lt.prototype.SetSvgProperty=function(t,e,i){return e!==this.GetProperty(t)&&(this.SetProperty(t,e),this._setAttributeWithStroke(t,e,i),this.SvgPropertyChanged(t)),this},lt.prototype._setAttributeWithStroke=function(t,e,i){if(null!=e&&"center"!=this._strokeAlignment){var n=this._getStrokeOffset();switch(t){case"x":case"y":e-=n;break;case"width":case"height":e+=2*n}}u.setAttrNullNS(this._elem,t,e,i)},lt.prototype.setStrokeAlignment=function(t){this._strokeAlignment!=t&&(this._strokeAlignment=t,this._updateElemStrokeDimensions())},lt.prototype.getStrokeAlignment=function(){return this._strokeAlignment},lt.prototype._updateElemStrokeDimensions=function(){this._setAttributeWithStroke("x",this.getX(),0),this._setAttributeWithStroke("y",this.getY(),0),this._setAttributeWithStroke("width",this.getWidth()),this._setAttributeWithStroke("height",this.getHeight())},lt.prototype._getStrokeOffset=function(){var t=0,e=this.getStroke();if(e)if("outer"==this._strokeAlignment){t=e.getWidth()/2;var i=this.GetHoverSelectionInnerStroke();null!=i&&(t+=i.getWidth())}else if("inner"==this._strokeAlignment){t=-e.getWidth()/2;var n=this.GetHoverSelectionOuterStroke();null!=n&&(t-=n.getWidth())}return t},lt.prototype.setStroke=function(t){lt.superclass.setStroke.call(this,t),"center"!=this._strokeAlignment&&this._updateElemStrokeDimensions()},lt.prototype.GetElemDimensionsWithStroke=function(){var t=lt.superclass.GetElemDimensionsWithStroke.call(this);if(t&&"center"!=this._strokeAlignment){var e=this._getStrokeOffset();t.x-=e,t.y-=e,t.w+=2*e,t.h+=2*e}return t},lt.prototype.setCornerRadius=function(t,e){this.setRx(t).setRy(e)},lt.prototype.setRect=function(t,e,i,n){t instanceof m?this.setX(t.x).setY(t.y).setWidth(t.w).setHeight(t.h):this.setX(t).setY(e).setWidth(i).setHeight(n)},lt.prototype.copyShape=function(){var t=new lt(this.getCtx(),this.getX(),this.getY(),this.getWidth(),this.getHeight());return t.setRx(this.getRx()).setRy(this.getRy()),t.setStrokeAlignment(this.getStrokeAlignment()),t},lt.prototype.getDimensionsSelf=function(t){var e=new m(this.getX(),this.getY(),this.getWidth(),this.getHeight());return this.ConvertCoordSpaceRect(e,t)};const ut=function(t,e,i,n,r){this.Init(t,e,i,n,r)};i.createSubclass(ut,i),ut.prototype.Init=function(t,e,i,n,r){this._interval=e,this._callback=i,this._callbackObj=n,this._repeatCount=r,this._bRunning=!1,this._numIterations=0},ut.prototype.start=function(){this._bRunning||(this._bRunning=!0,this.StartTimer())},ut.prototype.stop=function(){this._bRunning&&(this._bRunning=!1,this.StopTimer())},ut.prototype.reset=function(){this._bRunning&&this.stop(),this._numIterations=0},ut.prototype.isRunning=function(){return this._bRunning},ut.prototype.HandleTimer=function(){this._callback&&(this._callback.call(this._callbackObj),this._repeatCount&&(this._numIterations++,this._numIterations>=this._repeatCount&&this.stop()))},ut.prototype.setInterval=function(t){var e=t;e<0&&(e=0);var i=this._bRunning;i&&this.stop(),this._interval=e,i&&this.start()},ut.prototype.getInterval=function(){return this._interval},ut.prototype.StartTimer=function(){var t=this,e=this.HandleTimer;this._timerId=window.setInterval(function(){e.call(t)},this.getInterval())},ut.prototype.StopTimer=function(){this._timerId&&(window.clearInterval(this._timerId),this._timerId=null)};const ct=function(t,e){this._Init(t,e)};i.createSubclass(ct,J),ct.DEFAULT_BORDER_COLOR="gray",ct.DEFAULT_BACKGROUND_COLOR="#ffffff",ct.prototype._Init=function(t,e){this._context=t,ct.superclass.Init.call(this,t),this._tooltipText=null,this._tooltipBorderColor=null,this._menuFontSize=11,this._tooltipFill=new K(ct.DEFAULT_BACKGROUND_COLOR),this._fontSize=11},ct.prototype.getRootDisplayable=function(){return this},ct.prototype.UpdateTooltipSize=function(t,e){this._displayWidth=t,this._displayHeight=e},ct.prototype.getDisplayWidth=function(){return this._displayWidth},ct.prototype.getDisplayHeight=function(){return this._displayHeight},ct.prototype.clearContent=function(){this.clearMenuItems(),this.setTooltipBorderColor(null),this.setTooltipText(null)},ct.prototype.setTooltipBorderColor=function(t){this._tooltipBorderColor=t},ct.prototype.getTooltipBorderColor=function(){return this._tooltipBorderColor},ct.prototype.setTooltipText=function(t){this._tooltipText=t},ct.prototype.addMenuItem=function(t){this.getMenuItems().push(t)},ct.prototype.hasMenuItems=function(){var t=this.getMenuItems();return t&&t.length>0},ct.prototype.clearMenuItems=function(){this._menuItems&&(this._menuItems=[])},ct.prototype.getMenuItems=function(){return this._menuItems||(this._menuItems=new Array),this._menuItems},ct.prototype.containsMenuId=function(t){for(var e=this.getMenuItems(),i=0;i<e.length;i++){if(e[i].getId()==t)return!0}return!1},ct.prototype.Render=function(){var t=this.getRootDisplayable();if(t.removeChildren(),this.hasMenuItems()){var e=0,i=0;t.setAlpha(1);var n=new Array,r=new Array;e+=2.5;for(var o=this.getMenuItems(),s=0;s<o.length;s++){var a=o[s],h=new at(this._context,a.getText(),0,0,null);h.alignBottom(),h.setFontSize(this._menuFontSize),h._menu=a;var l=h.getDimensions();l.y=5+e;var u=l.w;r.push(l),i=Math.max(u+21+10,i),h.setY(l.y),e+=l.h,s<o.length-1&&(e+=5),n.push(h),h.alignLeft(),h.alignTop()}var c=i+8+2,_=5+(e+=2.5)+4+1;this.UpdateTooltipSize(c+2,_+2),t.setTranslate(1,1);var p=new lt(this._context,0,0,c,_);p.setSolidStroke("rgb(229,232,238)"),p.setFill(this._tooltipFill),t.addChildAt(p,0);for(s=0;s<n.length;s++){var d=n[s];t.addChild(d);u=r[s].w;if(d._menu){var g=new m(0,r[s].y-2.5,c,r[s].h+5),f=new lt(this._context,g.x,g.y,g.w,g.h);f.setInvisibleFill(),f._menu=d._menu,t.addChild(f)}d.setTranslateX(21)}}};var _t=function(t,e,i,n,r){this.Init(t,e,i,n,r)};i.createSubclass(_t,i),_t.prototype.Init=function(t,e,i,n,r){this._context=t,this._id=e,this._text=i,this._listener=n,this._listenerObj=r},_t.prototype.getId=function(){return this._id},_t.prototype.getText=function(){return this._text},_t.prototype.FireActionTooltipItem=function(t){if(this._listenerObj&&this._listener){var e=new Object;e.target=t,e.menuItem=this._menuItem,this._menuItemTimer=new ut(this._context,1,this._handleMenuTimer,this),this._menuItemTimer.evt=e,this._menuItemTimer.start()}},_t.prototype._handleMenuTimer=function(){this._menuItemTimer&&this._menuItemTimer.stop(),this._listener.call(this._listenerObj,this._menuItemTimer.evt)};const pt=function(t,e){this.Init(t,e)};i.createSubclass(pt,it),pt.prototype.Init=function(t,e){this._storedContexts=new Object,pt.superclass.Init.call(this,t,e)},pt.prototype.InitContent=function(t){t.innerHTML="";var e=this._context.createContext(t,"DvtCustomTooltip");e.removeSizingSvg(),this._storedContexts[this._domElementId]=e},pt.prototype.GetStoredContext=function(){return this._storedContexts[this._domElementId]},pt.prototype.showRichElement=function(t,e,i,n){this.showRichElementAtPosition(t,e,i,n,!1)},pt.prototype.showRichElementAtPosition=function(t,e,i,n,r){var o=this.getTooltipElem();o.style.position="absolute",o.style.zIndex=2147483647;var s=this.GetStoredContext();if(s){var a=s.getStage();a.removeChildren();var h=i.getRootDisplayable();a.addChild(h),i&&i.Render&&i.Render();var l=a.getSVGRoot();u.setAttrNullNS(l,"width",i.getDisplayWidth()),u.setAttrNullNS(l,"height",i.getDisplayHeight()),this.PostElement(o,t,e,r,n)}},pt.prototype.hideTooltip=function(){pt.superclass.hideTooltip.call(this);var t=this.GetStoredContext();t&&t.getStage().removeChildren()};const dt=function(t,e,i,n,r){this.type=t,this.touch=e,this.target=i,this.relatedTarget=n,this._nativeEvent=r,this._isPropagationStopped=!1};dt.TOUCH_HOLD_START_TYPE="touchholdstart",dt.TOUCH_HOLD_MOVE_TYPE="touchholdmove",dt.TOUCH_HOLD_END_TYPE="touchholdend",dt.TOUCH_HOVER_START_TYPE="touchhoverstart",dt.TOUCH_HOVER_MOVE_TYPE="touchhovermove",dt.TOUCH_HOVER_END_TYPE="touchhoverend",dt.TOUCH_HOVER_OVER_TYPE="touchhoverover",dt.TOUCH_HOVER_OUT_TYPE="touchhoverout",dt.TOUCH_CLICK_TYPE="touchclick",dt.TOUCH_DOUBLE_CLICK_TYPE="touchdblclick",dt.prototype.preventDefault=function(){},dt.prototype.stopPropagation=function(){this._isPropagationStopped=!0},dt.prototype.isPropagationStopped=function(){return this._isPropagationStopped},dt.prototype.getNativeEvent=function(){return this._nativeEvent};const gt=function(){};i.createSubclass(gt,i),gt.elementFromPoint=function(t,e){for(var i=document.elementFromPoint(t,e);i;){if(i._obj)return i._obj;i=i.parentNode}return null},gt.elementFromTouch=function(t){return this.elementFromPoint(t.clientX,t.clientY)},gt.addDragListeners=function(t,e,i,n,o,s){var a,h=r.isTouchDevice(),l=t.getCtx(),u=document.body.style,c=function(t){t.stopPropagation()},_=function(t){e.call(o,t)&&(h?(document.addEventListener("touchmove",p,{capture:!0,passive:!1}),document.addEventListener("touchend",d,!0)):(document.addEventListener("mousemove",p,!0),document.addEventListener("mouseup",d,!0),a=!1,s&&document.addEventListener("click",c,!0)),gt._webkitUserSelect=u.webkitUserSelect,gt._mozUserSelect=u.MozUserSelect,u.webkitUserSelect="none",u.MozUserSelect="none")},p=function(t){a=!0;var e=k.newEvent(t,l);i.call(o,e)},d=function(t){h?(document.removeEventListener("touchmove",p,!0),document.removeEventListener("touchend",d,!0)):(document.removeEventListener("mousemove",p,!0),document.removeEventListener("mouseup",d,!0),"firefox"===r.browser&&a&&!s&&(document.addEventListener("click",c,{capture:!0,once:!0}),setTimeout(function(){document.removeEventListener("click",c,{capture:!0,once:!0})},0)),a=!1,s&&setTimeout(function(){document.removeEventListener("click",c,!0)},50)),u.webkitUserSelect=gt._webkitUserSelect,u.MozUserSelect=gt._mozUserSelect;var e=k.newEvent(t,l);n.call(o,e)};h?t.addEvtListener(L.TOUCHSTART,_):t.addEvtListener(F.MOUSEDOWN,_)},gt.createStaticCallback=function(t,e,i){return function(n){var r=k.newEvent(n,t);e.call(i,r)}},gt.disableMouseEvents=function(t){if(t.style&&(t.style.pointerEvents="none"),t.childNodes)for(var e=0;e<t.childNodes.length;e++)gt.disableMouseEvents(t.childNodes[e])};const ft=function(t,e,i){this.Init(t,e,i)};i.createSubclass(ft,i),ft.TOUCH_MODE="mode",ft.TOUCH_MODE_DEFAULT="defaultMode",ft.TOUCH_MODE_LONG_PRESS="longPressMode",ft.PREV_HOVER_OBJ="prevHoverObj",ft.HOVER_TOUCH_KEY="hoverTouch",ft.prototype.Init=function(t,e,i){this._context=e,this._id=t,this._eventManager=i,this._touchCount=0,this._touchHoldTimer=new ut(this._context,200,this._handleTouchHoldStartTimer,this),this._blockTouchHold=!1,this._touchMap=new Object,this._savedTouchInfo=new Array,this._addTouchHoldMoveEventListener(this._onTouchHoldHover,this),this._doubleTapTimer=new ut(this._context,600,this._handleDoubleTapTimer,this,1),this._dvtTouchEvent=null},ft.prototype.blockTouchHold=function(){this._stopTouchHoldTimer(),this._blockTouchHold=!0},ft.prototype.unblockTouchHold=function(){this._blockTouchHold=!1},ft.prototype._addTouchHoldMoveEventListener=function(t,e){this.addTouchEventListener(dt.TOUCH_HOLD_START_TYPE,t,e),this.addTouchEventListener(dt.TOUCH_HOLD_MOVE_TYPE,t,e),this.addTouchEventListener(dt.TOUCH_HOLD_END_TYPE,t,e)},ft.prototype._onTouchHoldHover=function(t){var e=t.type,i=t.touch,n=t.getNativeEvent(),r=this._touchMap[i.identifier],o=t.target;if(e==dt.TOUCH_HOLD_END_TYPE){var s=new dt(dt.TOUCH_HOVER_END_TYPE,i,o,null,n);s._isCancelEvent=this._isCancelEvent,null!=o&&this.FireListener(new dt(dt.TOUCH_HOVER_OUT_TYPE,i,o,null,n)),r[ft.PREV_HOVER_OBJ]=null,this.FireListener(s)}else e==dt.TOUCH_HOLD_START_TYPE?(r[ft.PREV_HOVER_OBJ]=null,null!=o&&this.FireListener(new dt(dt.TOUCH_HOVER_OVER_TYPE,i,o,null,n)),r[ft.PREV_HOVER_OBJ]=o,this.FireListener(new dt(dt.TOUCH_HOVER_START_TYPE,i,o,null,n))):e==dt.TOUCH_HOLD_MOVE_TYPE&&(this._fireHoverOverOutEvents(o,r[ft.PREV_HOVER_OBJ],i,n),r[ft.PREV_HOVER_OBJ]=o,this.FireListener(new dt(dt.TOUCH_HOVER_MOVE_TYPE,i,o,null,n)))},ft.prototype._getObjFromTouch=function(t){return t?gt.elementFromTouch(t):null},ft.prototype._fireHoverOverOutEvents=function(t,e,i,n){e!=t&&(null!=e&&this.FireListener(new dt(dt.TOUCH_HOVER_OUT_TYPE,i,e,t,n)),null!=t&&this.FireListener(new dt(dt.TOUCH_HOVER_OVER_TYPE,i,t,e,n)))},ft.prototype.addTouchEventListener=function(t,e,i){var n=this._getListeners(t,!0);n.push(e),n.push(i)},ft.prototype.removeTouchEventListener=function(t,e,i){var n=this._getListeners(t,!1);if(n)for(var r=0;r<n.length;r+=2)if(n[r]===e&&n[r+1]===i){n.splice(r,2);break}},ft.prototype._getListeners=function(t,e){if(!this._listenerObj){if(!e)return null;this._listenerObj={}}var i=t,n=this._listenerObj[i];return!n&&e&&(n=[],this._listenerObj[i]=n),n},ft.prototype.FireListener=function(t){var e=this._getListeners(t.type,!1);if(e)for(var i=0;i<e.length;i+=2){var n=e[i+1];e[i].call(n,t)}},ft.prototype.startTouchHold=function(t){var e=this._startSingleFingerTouchId;if(null!=e&&!isNaN(e)){var i=this._touchMap[e];if(i){for(var n=i.startTarget,r=i.startTouch,o=t.getNativeEvent(),s=this._findMatches("touchId",e),a=0;a<s.length;a++){var h=s[a],l=h.touchObj,u=h.touchId;if(l!=ft.HOVER_TOUCH_KEY){var c=this.getTouchInfo(u).startTouch;this.performAssociatedTouchEnd(c,l,null)}}i[ft.TOUCH_MODE]=ft.TOUCH_MODE_LONG_PRESS,this.saveProcessedTouch(e,ft.HOVER_TOUCH_KEY,null,ft.HOVER_TOUCH_KEY,ft.HOVER_TOUCH_KEY,this.HoverMoveInternal,this.HoverEndInternal,this);var _=new dt(dt.TOUCH_HOLD_START_TYPE,r,n,null,o);this.FireListener(_)}}},ft.prototype.fireLogicalEvents=function(t){var e=t.type,i=t.getNativeEvent();if(e==L.TOUCHSTART?(t.isTouchHoldBlocked()||this.processAssociatedTouchAttempt(t,ft.HOVER_TOUCH_KEY,this.HoverStartInternal,this),this._doubleTapAttemptStarted&&t.preventDefault()):e==L.TOUCHMOVE?this.processAssociatedTouchMove(t,ft.HOVER_TOUCH_KEY):e==L.TOUCHEND&&this.processAssociatedTouchEnd(t,ft.HOVER_TOUCH_KEY),e==L.TOUCHEND){this._context.oj.Logger.log("received touch end:"+performance.now());for(var n=this._getStoredTouches(t.changedTouches),r=0;r<n.length;r++){var o=n[r],s=o.identifier,a=this.getTouchInfo(s),h=a.currentObj;if(a[ft.TOUCH_MODE]!=ft.TOUCH_MODE_LONG_PRESS&&a.fireClick){var l=new dt(dt.TOUCH_CLICK_TYPE,o,h,null,i);if(l.touchEvent=t,this._context.oj.Logger.log("doubleTapAttemptStarted:"+this._doubleTapAttemptStarted),this._doubleTapAttemptStarted){var u=this._doubleTapAttemptObj;if(this.resetDoubleTap(),h==u||u.contains(h)){var c=new dt(dt.TOUCH_DOUBLE_CLICK_TYPE,o,h,null,i);c.touchEvent=t,this._context.oj.Logger.log("firing double tap"),this.FireListener(c)}else this.FireListener(l)}else this._context.oj.Logger.log("firing tap"),this.FireListener(l),this.resetDoubleTap(),this._context.oj.Logger.log("starting double tap timer"),this._doubleTapTimer.start(),this._doubleTapAttemptStarted=!0,this._doubleTapAttemptObj=h}}}},ft.prototype.getTouchInfo=function(t){return this._touchMap[t]},ft.prototype.HoverStartInternal=function(t,e){if(!this._blockTouchHold){var i=e.identifier;this._startSingleFingerTouchId=i,this._stopTouchHoldTimer(),this._startTouchHoldTimer(t)}},ft.prototype.HoverMoveInternal=function(t,e){var i=e.identifier,n=this.getTouchInfo(i).currentObj,r=new dt(dt.TOUCH_HOLD_MOVE_TYPE,e,n,null,t.getNativeEvent());this.FireListener(r),t.preventDefault()},ft.prototype.HoverEndInternal=function(t,e){var i=e.identifier,n=this.getTouchInfo(i).currentObj,r=new dt(dt.TOUCH_HOLD_END_TYPE,e,n,null,t.getNativeEvent());this.FireListener(r),t&&t.preventDefault()},ft.prototype.resetTouchHold=function(){this._startSingleFingerTouchId=null,this._stopTouchHoldTimer()},ft.prototype.preEventBubble=function(t){t.setTouchManager&&t.setTouchManager(this);var e=t.type;e==L.TOUCHSTART?this.processTouchStart(t):e==L.TOUCHMOVE?this.processTouchMove(t):e==L.TOUCHEND&&this.processTouchEnd(t)},ft.prototype.postEventBubble=function(t){var e=t.type;if(e==L.TOUCHSTART);else if(e==L.TOUCHMOVE);else if(e==L.TOUCHEND)for(var i=this._getStoredTouches(t.changedTouches),n=0;n<i.length;n++){var r=i[n].identifier;delete this._touchMap[r],this._startSingleFingerTouchId==r&&(this._startSingleFingerTouchId=null);for(var o=this._findMatches("touchId",r),s=0;s<o.length;s++){var a=o[s];this.removeTooltipInfo(a.touchId,a.touchObj)}}},ft.prototype.saveProcessedTouch=function(t,e,i,n,r,o,s,a){if(null!=t&&!isNaN(t)){var h=ft.createSavedTouchInfo(t,e,i,n,r,o,s,a);return this._savedTouchInfo.push(h),!0}return!1},ft.prototype.cancelTouchHold=function(){for(var t=ft.HOVER_TOUCH_KEY,e=this.getTouchIdsForObj(t),i=0;i<e.length;i++){var n=e[i],r=this.getTouchInfo(n).startTouch;r&&(this._isCancelEvent=!0,this.performAssociatedTouchEnd(r,t,null),this._isCancelEvent=!1,delete this._touchMap[n])}},ft.prototype.performAssociatedTouchEnd=function(t,e,i){for(var n=t.identifier,r=this._getSavedTouchInfo(n,e),o=0;o<r.length;o++){var s=r[o],a=s.listenerObj,h=s.endListener;this.removeTooltipInfo(n,e),h&&h.call(a,i,t,s)}},ft.prototype.processAssociatedTouchAttempt=function(t,e,i,n){for(var r=t.changedTouches,o=0;o<r.length;o++){var s=r[o];s&&i&&i.call(n,t,s)}},ft.prototype.processAssociatedTouchMove=function(t,e){for(var i=this.getTouchIdsForObj(e),n=0;n<i.length;n++){var r=i[n];if(null!=r&&!isNaN(r)){var o=ft.getTouchById(r,this._getStoredTouches(t.changedTouches));if(o){var s=this._getSavedTouchInfo(o.identifier,e);for(n=0;n<s.length;n++){var a=s[n],h=a.listenerObj,l=a.moveListener;l&&l.call(h,t,o)}}}}},ft.prototype.processAssociatedTouchEnd=function(t,e){for(var i=this.getTouchIdsForObj(e),n=0;n<i.length;n++){var r=i[n],o=ft.getTouchById(r,this._getStoredTouches(t.changedTouches));o&&this.performAssociatedTouchEnd(o,e,t)}},ft.prototype._findMatches=function(t,e){for(var i=new Array,n=0;n<this._savedTouchInfo.length;n++){var r=this._savedTouchInfo[n];r[t]==e&&i.push(r)}return i},ft.prototype._getSavedTouchInfo=function(t,e){for(var i=this._findMatches("touchId",t),n=[],r=0;r<i.length;r++){var o=i[r];o.touchObj==e&&n.push(o)}return n},ft.prototype.getTouchIdsForObj=function(t){for(var e=new Array,i=this._findMatches("touchObj",t),n=0;n<i.length;n++){var r=i[n].touchId;e.push(r)}return e},ft.prototype.removeTooltipInfo=function(t,e){for(var i=this._findMatches("touchId",t),n=new Array,r=0;r<i.length;r++){(h=i[r]).touchObj==e&&n.push(h)}for(r=0;r<n.length;r++){for(var o=n[r],s=-1,a=0;a<this._savedTouchInfo.length;a++){var h;(h=this._savedTouchInfo[a])==o&&(s=a)}-1!=s&&(this._savedTouchInfo.splice(s,1),0==this._savedTouchInfo.length&&this._context.getTooltipManager().hideTooltip())}},ft.prototype.setTooltipEnabled=function(t,e){for(var i=this._savedTouchInfo,n=0;n<i.length;n++){var r=i[n];r.touchId==t&&(r.allowTooltips=e)}},ft.prototype.getTooltipInfo=function(){for(var t=new Object,e=new Array,i=null,n=null,r=!1,o=this._findMatches("allowTooltips",!0),s=0;s<o.length;s++){var a,h=o[s],l=h.touchId;n?h.grouping!=n&&(r=!0):n=h.grouping;var u=this._touchMap[l];u&&(a=u.currentObj),h.tooltipObjOverride&&(a=h.tooltipObjOverride),e.push(l),i=a}return r&&(e=new Array),t.touchIds=e,t.tooltipTarget=i,t},ft.prototype.processTouchStart=function(t){var e=t.changedTouches,i=t.touches;this._touchCount=i.length;for(var n=0;n<e.length;n++){var r=e[n],o=r.screenX,s=r.screenY,a=r.identifier,h=this._getObjFromTouch(r),l={x:o,y:s,prevX:o,prevY:s,pageX:r.pageX,pageY:r.pageY,prevPageX:r.pageX,prevPageY:r.pageY,dx:0,dy:0,fireClick:!0,startTarget:h,currentObj:h,touchMoved:!1,touchtype:null,startTouch:r};l[ft.TOUCH_MODE]=ft.TOUCH_MODE_DEFAULT,l.origx=o,l.origy=s,this._touchMap[a]=l}return!this._isHovering()&&this._isTouchHoldAllowed()||t.blockTouchHold(),!0},ft.prototype._isTouchHoldAllowed=function(){var t=!1,e=0;for(var i in this._touchMap){this.getTouchInfo(i).touchMoved&&(t=!0),e++}return!(e>1&&!t)||(this.resetTouchHold(),!1)},ft.prototype._isHovering=function(){for(var t in this._touchMap){if(this.getTouchInfo(t)[ft.TOUCH_MODE]==ft.TOUCH_MODE_LONG_PRESS)return!0}return!1},ft.prototype._getStoredTouches=function(t){for(var e=new Array,i=0;i<t.length;i++){var n=t[i],r=n.identifier;this.getTouchInfo(r)&&e.push(n)}return e},ft.prototype.processTouchMove=function(t){for(var e=this._getStoredTouches(t.changedTouches),i=this._getStoredTouches(t.touches),n=0;n<e.length;n++){var r=e[n],o=this._getObjFromTouch(r),s=r.identifier;if((u=this.getTouchInfo(s)).currentObj=o,u.touchMoved=!0,u[ft.TOUCH_MODE]!=ft.TOUCH_MODE_LONG_PRESS){var a=Math.abs(u.pageX-r.pageX),h=Math.abs(u.pageY-r.pageY);this._startSingleFingerTouchId==s&&(a>0||h>0)&&this.resetTouchHold(),u.touchMoved=a>3||h>3}(u.touchMoved||u.fireClick&&u[ft.TOUCH_MODE]!=ft.TOUCH_MODE_LONG_PRESS&&u.currentObj!=u.startTarget&&u.currentObj!=this._eventManager.getMarqueeGlassPane())&&(u.fireClick=!1)}for(n=0;n<i.length;n++){var l=(r=i[n]).identifier,u=this.getTouchInfo(l),c=r.screenX,_=r.screenY,p=c-u.x,d=_-u.y;u.prevX=u.x,u.prevY=u.y,u.dx=p,u.dy=d,u.x=c,u.y=_,u.prevPageX=u.pageX,u.prevPageY=u.pageY,u.pageX=r.pageX,u.pageY=r.pageY}return!0},ft.prototype.processTouchEnd=function(t){var e=t.changedTouches;this._touchCount=t.touches.length;for(var i=0;i<e.length;i++){var n=e[i],r=this._getObjFromTouch(n),o=n.identifier,s=this.getTouchInfo(o);if(s&&s.fireClick)if(s[ft.TOUCH_MODE]==ft.TOUCH_MODE_LONG_PRESS)this._startSingleFingerTouchId=null;else{var a=r==s.startTarget,h=s.touchMoved,l=a&&!h;s.fireClick=l}}return!0},ft.getTouchById=function(t,e){if(null!=t&&!isNaN(t))for(var i=0;i<e.length;i++){var n=e[i];if(n.identifier==t)return n}return null},ft.createSavedTouchInfo=function(t,e,i,n,r,o,s,a){var h={touchId:t,tooltipObjOverride:i,grouping:n,type:r,touchObj:e,allowTooltips:!0};return h.moveListener=o,h.endListener=s,h.listenerObj=a,h},ft.prototype._handleTouchHoldStartTimer=function(){var t=this._dvtTouchEvent;this._stopTouchHoldTimer(),this.startTouchHold(t)},ft.prototype._startTouchHoldTimer=function(t){this._dvtTouchEvent=t,this._touchHoldTimer&&this._touchHoldTimer.start()},ft.prototype._stopTouchHoldTimer=function(){this._dvtTouchEvent=null,this._touchHoldTimer&&this._touchHoldTimer.stop()},ft.prototype._handleDoubleTapTimer=function(){this._context.oj.Logger.log("double tap timer expired"),this.resetDoubleTap()},ft.prototype.resetDoubleTap=function(){this._doubleTapAttemptStarted=!1,this._doubleTapAttemptObj=null,this._doubleTapTimer.stop()},ft.prototype.getMultiTouchData=function(t){if(2==t.length){var e=this._touchMap[t[0]],i=this._touchMap[t[1]];if(null==e||null==i)return null;if(0==e.dx&&0==i.dy)return null;var n=e.pageX-i.pageX,r=e.pageY-i.pageY,o=Math.sqrt(n*n+r*r),s=e.prevPageX-i.prevPageX,a=e.prevPageY-i.prevPageY,h=o-Math.sqrt(s*s+a*a),l=(e.pageX+i.pageX)/2,u=(e.pageY+i.pageY)/2;return{dz:h,cx:l,cy:u,dcx:l-(e.prevPageX+i.prevPageX)/2,dcy:u-(e.prevPageY+i.prevPageY)/2,dist:o}}return null},ft.prototype.calcAveragePosition=function(t){for(var e=0,i=0,r=t.length,o=0;o<r;o++){var s=t[o],a=this.getTouchInfo(s);e+=a.pageX,i+=a.pageY}return new n(e/=r,i/=r)},ft.prototype.getStartTargetsByIds=function(t){for(var e=new Array,i=0;i<t.length;i++){var n=this.getTouchInfo(t[i]);e.push(n.startTarget)}return e},ft.prototype.reset=function(){this._touchMap=new Object,this._savedTouchInfo=new Array,this.resetTouchHold(),this.resetDoubleTap()};const yt=new Object;i.createSubclass(yt,i),yt.newEvent=function(t,e){var i={type:t};return e&&(i.id=e),i},yt.newOptionChangeEvent=function(t,e,i){var n=yt.newEvent("optionChange");return n.key=t,n.value=e,n.optionMetadata=i,n},yt.newRenderEvent=function(){return yt.newEvent("dvtRender")},yt.newCategoryHideEvent=function(t,e){var i=yt.newEvent("categoryHide");return i.category=t,i.hiddenCategories=e,i},yt.newCategoryShowEvent=function(t,e){var i=yt.newEvent("categoryShow");return i.category=t,i.hiddenCategories=e,i},yt.newCategoryHighlightEvent=function(t,e){var i=yt.newEvent("categoryHighlight");return i._highlightType=e?"over":"out",t=t||[],i.categories=t instanceof Array?t:[t],i},yt.newDrillEvent=function(t,e){var i=yt.newEvent("drill",t);return e&&(i.subType=e),i},yt.newReadyEvent=function(){return yt.newEvent("ready")},yt.newSelectionEvent=function(t){var e=yt.newEvent("selection");return e.selection=t,e},yt.newTouchHoldReleaseEvent=function(t){var e=yt.newEvent("touchHoldRelease");return e.nativeEvent=t,e},yt.newValueChangeEvent=function(t,e,i){var n=yt.newEvent("valueChange");return n.oldValue=t,n.newValue=e,n.complete=i,n},yt.newActionTooltipEvent=function(t,e){var i=yt.newEvent(t);return i.target=e,i},yt.newPanZoomEvent=function(t,e,i,n,r,o,s,a,h){var l=yt.newEvent("dvtPanZoom");return l.subtype=t,l.dxMin=e,l.dxMax=i,l.dyMin=n,l.dyMax=r,l.dxMinTotal=o,l.dxMaxTotal=s,l.dyMinTotal=a,l.dyMaxTotal=h,l},yt.newSimpleScrollbarEvent=function(t,e,i){var n=yt.newEvent("dvtSimpleScrollbar");return n.subtype=t,n.newMin=e,n.newMax=i,n},yt.newOverviewEvent=function(t,e,i,n,r,o,s,a,h){var l=yt.newEvent("overview");return l.subtype=t,l.newX1=e,l.newX2=i,l.newY1=n,l.newY2=r,l.oldX1=o,l.oldX2=s,l.oldY1=a,l.oldY2=h,l},yt.newChartDrillEvent=function(t,e,i,n){var r=yt.newDrillEvent(t,n);return r.series=e,r.group=i,r},yt.newChartSelectionEvent=function(t,e,i,n,r,o,s,a,h,l){var u=yt.newSelectionEvent(t);return u.complete=e,u.xMin=i,u.xMax=n,u.startGroup=r,u.endGroup=o,u.yMin=s,u.yMax=a,u.y2Min=h,u.y2Max=l,u},yt.newChartViewportChangeEvent=function(t,e,i,n,r,o,s){var a=yt.newEvent("viewportChange");return a.complete=t,a.xMin=e,a.xMax=i,a.startGroup=n,a.endGroup=r,a.yMin=o,a.yMax=s,a},yt.newMarqueeEvent=function(t,e,i,n,r,o){var s=yt.newEvent("dvtMarquee");return s.subtype=t,s.x=e,s.y=i,s.w=n,s.h=r,s.ctrlKey=o,s},yt.newExpandCollapseEvent=function(t,e,i,n,r){var o=yt.newEvent(t,e);return o.expanded=r,o.data=i,o.component=n,o},yt.newTreeDrillEvent=function(t,e,i){var n=yt.newDrillEvent(t);return n.data=e,n.component=i,n},yt.newBreadcrumbsDrillEvent=function(t){return yt.newEvent("breadcrumbsDrill",t)},yt.newSunburstRotationEvent=function(t,e){var i=yt.newEvent("rotation");return i.complete=e,i.startAngle=t%360,i},yt.newThematicMapViewportChangeEvent=function(t,e,i){var n=yt.newEvent("viewportChange");return n.panX=t,n.panY=e,n.zoom=i,n},yt.newTimelineMoveEvent=function(t,e,i,n){var r=yt.newEvent("move");return r.itemContexts=t,r.value=e,r.start=i,r.end=n,r},yt.newTimelineResizeEvent=function(t,e,i,n,r){var o=yt.newEvent("resize");return o.itemContexts=t,o.value=e,o.start=i,o.end=n,o.typeDetail=r,o},yt.newTimelineViewportChangeEvent=function(t,e,i){var n=yt.newEvent("viewportChange");return n.viewportStart=t,n.viewportEnd=e,n.minorAxisScale=i,n},yt.newGanttViewportChangeEvent=function(t,e,i,n){var r=yt.newTimelineViewportChangeEvent(t,e,n);return r.majorAxisScale=i,r},yt.newGanttMoveEvent=function(t,e,i,n,r,o,s){var a=yt.newEvent("move");return a.taskContexts=t,a.value=e,a.start=i,a.end=n,a.baselineStart=r,a.baselineEnd=o,a.rowContext=s,a},yt.newGanttResizeEvent=function(t,e,i,n,r){var o=yt.newEvent("resize");return o.taskContexts=t,o.value=e,o.start=i,o.end=n,o.typeDetail=r,o},yt.newGanttScrollPositionChangeEvent=function(t,e,i){var n=yt.newEvent("scrollPositionChange");return n.y=t,n.rowIndex=e,n.offsetY=i,n},yt.newGanttExpandCollapseEvent=function(t,e,i,n,r){var o=yt.newEvent(t,e);return o.rowData=i,o.itemData=n,o.expanded=r,o},yt.newTreemapIsolateEvent=function(t){return yt.newEvent("isolate",t)},yt.newPanEvent=function(t,e,i,n,r,o,s){var a=yt.newEvent("dvtPan");return a.subtype=t,a.newX=e,a.newY=i,a.oldX=n,a.oldY=r,a.animator=o,a.zoom=s,a},yt.newZoomEvent=function(t,e,i,n,r,o,s){var a=yt.newEvent("dvtZoom");return a.subtype=t,a.newZoom=e,a.oldZoom=i,a.animator=n,a.centerPoint=r,a.pos=o,a.panAndZoom=!!s,a},yt.newTimelineOverviewEvent=function(t,e,i){var n=yt.newEvent("timeline");return n.subtype=t,n.itemId=e,n.isMultiSelect=i,n};const vt=function(){this.Init()};i.createSubclass(vt,i),vt.prototype.Init=function(){this._map={}},vt.prototype.get=function(t,e){return this._getInnerMap(t)[e]},vt.prototype.put=function(t,e,i){var n=this._getInnerMap(t),r=n[e];return n[e]=i,r},vt.prototype._getInnerMap=function(t){var e=this._map[t];return e||(e={},this._map[t]=e),e};const St=function(){this.Init()};St.prototype.Init=function(){this.Cache={}},St.prototype.clearCache=function(){this.Cache={}},St.prototype.getFromCache=function(t){return this.Cache[t]},St.prototype.putToCache=function(t,e){this.Cache[t]=e},St.prototype.getFromCachedMap=function(t,e){return this._getCachedMap(t)[e]},St.prototype._getCachedMap=function(t){var e=this.getFromCache(t);return e||(e={},this.putToCache(t,e)),e},St.prototype.putToCachedMap=function(t,e,i){this._getCachedMap(t)[e]=i},St.prototype.getFromCachedMap2D=function(t,e,i){return this._getCachedMap2D(t).get(e,i)},St.prototype._getCachedMap2D=function(t){var e=this.getFromCache(t);return e||(e=new vt,this.putToCache(t,e)),e},St.prototype.putToCachedMap2D=function(t,e,i,n){this._getCachedMap2D(t).put(e,i,n)};const Tt={format:function(t,e){return t?t.replace(/\{(\d+)\}/g,function(){return e[arguments[1]]}):t}},Et=new Object;i.createSubclass(Et,i),Et.clone=function(t,e,i){if(null==t)return null;var n=null;if(t instanceof Array){n=[];for(var r=0;r<t.length;r++)Et._isDeepClonable(t[r])?n[r]=Et.clone(t[r],e,i):n[r]=t[r]}else if(t instanceof j)n=t.clone();else if(t instanceof Date)n=t.getTime();else if(Et._isClonableObject(t))for(var o in n={},t)if(!e||e(o)){var s=t[o];if(i&&1==i[o]||!Et._isDeepClonable(s)||"_widgetConstructor"==o)n[o]=s;else{var a=i?i[o]:null;n[o]=Et.clone(s,e,a)}}return n},Et.merge=function(t,e,i){var n=t&&t._dvtNoClone?t:Et.clone(t,null,i);if(e&&e._dvtNoClone)throw new Error("Do not merge because content will be modified.");var r=Et.clone(e,null,i);if(null==n)return r;if(null==r&&n._dvtNoClone)throw new Error("Do not return an uncloned object.");return null==r?n:(Et._copy(n,r),r)},Et._copy=function(t,e){for(var i in t){var n=t[i];void 0!==n&&(n&&n instanceof Array||"_widgetConstructor"==i?e[i]=n:e[i]&&e[i]instanceof j?n instanceof j?e[i].merge(n):e[i].merge(new j(n)):Et._isDeepClonable(n)&&e[i]?Et._copy(n,e[i]):e[i]=n)}},Et._isDeepClonable=function(t){return t instanceof Object&&(!t.has&&(!t._dvtNoClone&&!(t instanceof Boolean||t instanceof String||t instanceof Number||t instanceof Function||t.then)))},Et._isClonableObject=function(t){return t instanceof Object&&(!t.then&&(!t.jquery&&(!t.has&&(!("undefined"!=typeof NodeList&&t instanceof NodeList)&&(!("undefined"!=typeof Node&&t instanceof Node)&&!t._dvtNoClone)))))};const mt=function(t,e,i,n,r,o){this.Init(t,e,i,n,r,o)};i.createSubclass(mt,J),mt._LINE_SPACE=0,mt.H_ALIGN_LEFT="left",mt.H_ALIGN_CENTER="center",mt.H_ALIGN_RIGHT="right",mt.V_ALIGN_TOP="top",mt.V_ALIGN_MIDDLE="middle",mt.V_ALIGN_CENTRAL="central",mt.V_ALIGN_BOTTOM="bottom",mt.prototype.Init=function(t,e,i,n,r,o){mt.superclass.Init.call(this,t,null,r),this._textInstance=null,this._additionalLines=[],this._lineHeight=null,this._yCoord=null,this._noWrap=!1,this._preserveNewLine=o||!1,this._preservedLines=[],this.setTextString(e),this.setX(i||0),this.setY(n||0),this.setMaxLines(1/0)},mt.prototype.getTextString=function(){return this._textString},mt.prototype.setTextString=function(t){this._textString=null!=t?String(t):null,this._textInstance?(this._textInstance.setTextString(t),this._removeAdditionalLines()):(this._textInstance=new at(this.getCtx(),this._textString),this.addChild(this._textInstance)),this._preserveNewLine&&(this._generatePreservedLines(),this.wrapText(1/0,1/0,1,!1)),this._bTruncated=!1},mt.prototype._getTextLines=function(){var t=this._additionalLines.slice();return this._textInstance.getParent()==this&&t.unshift(this._textInstance),t},mt.prototype.getX=function(){return this._textInstance.getX()},mt.prototype.setX=function(t){return this._getTextLines().forEach(function(e){e.setX(t)}),this},mt.prototype.getY=function(){return this._textInstance.getY()},mt.prototype.getYAlignCoord=function(){return this._yCoord},mt.prototype.setY=function(t){if(this._yCoord=t,this._vertAlign)this._alignVerticalText();else{var e=t-this._textInstance.getY();e||(e=t),this._getTextLines().forEach(function(t){var i=t.getY();t.setY(i?i+e:e)})}return this},mt.prototype.getMaxLines=function(){return this.GetProperty("maxLines")},mt.prototype.setMaxLines=function(t){return t>0?this.SetProperty("maxLines",t):null},mt.prototype.isTruncated=function(){return this._bTruncated},mt.prototype.getHorizAlignment=function(){return this._textInstance.getHorizAlignment()},mt.prototype.setHorizAlignment=function(t){return this._getTextLines().forEach(function(e){e.setHorizAlignment(t)}),this},mt.prototype.alignLeft=function(){this._horizAlign!=mt.H_ALIGN_LEFT&&(this._horizAlign=mt.H_ALIGN_LEFT,this._getTextLines().forEach(function(t){t.alignLeft()}))},mt.prototype.alignCenter=function(){this._horizAlign!=mt.H_ALIGN_CENTER&&(this._horizAlign=mt.H_ALIGN_CENTER,this._getTextLines().forEach(function(t){t.alignCenter()}))},mt.prototype.alignRight=function(){this._horizAlign!=mt.H_ALIGN_RIGHT&&(this._horizAlign=mt.H_ALIGN_RIGHT,this._getTextLines().forEach(function(t){t.alignRight()}))},mt.prototype.alignTop=function(){this._vertAlign!=mt.V_ALIGN_TOP&&(this._vertAlign=mt.V_ALIGN_TOP,this._alignVerticalText(),this._getTextLines().forEach(function(t){t.alignTop()}))},mt.prototype.alignMiddle=function(){this._vertAlign!=mt.V_ALIGN_MIDDLE&&(this._vertAlign=mt.V_ALIGN_MIDDLE,this._alignVerticalText(),this._getTextLines().forEach(function(t){t.alignMiddle()}))},mt.prototype.alignCentral=function(){this._vertAlign!=mt.V_ALIGN_CENTRAL&&(this._vertAlign=mt.V_ALIGN_CENTRAL,this._alignVerticalText(),this._getTextLines().forEach(function(t){t.alignCentral()}))},mt.prototype.alignBottom=function(){this._vertAlign!=mt.V_ALIGN_BOTTOM&&(this._vertAlign=mt.V_ALIGN_BOTTOM,this._alignVerticalText(),this._getTextLines().forEach(function(t){t.alignBottom()}))},mt.prototype._alignVerticalText=function(){if(this._vertAlign)for(var t=this.getYAlignCoord(),e=this.getLineCount(),i=this.getLineHeight(),n=this._getTextLines(),r=0,o=0;o<n.length;o++){var s=n[o];if(this._vertAlign==mt.V_ALIGN_TOP)r=i*o;else if(this._vertAlign==mt.V_ALIGN_MIDDLE||this.vertAlign==mt.V_ALIGN_CENTRAL){r=i*o-i*(e-1)/2}else this._vertAlign==mt.V_ALIGN_BOTTOM&&(r=-i*(e-o-1));s.setY(t+r)}},mt.prototype.getCSSStyle=function(){return this._textInstance.getCSSStyle()},mt.prototype.setCSSStyle=function(t){return this._lineHeight=null,this._getTextLines().forEach(function(e){e.setCSSStyle(t)}),this},mt.prototype.copyShape=function(){var t=new mt(this.getCtx(),this.getTextString(),this.getX(),this.getY());return t.setCSSStyle(this.getCSSStyle()).setHorizAlignment(this.getHorizAlignment()).setMaxLines(this.getMaxLines()),t},mt.prototype._removeAdditionalLines=function(){for(var t=0;t<this._additionalLines.length;t++)this.removeChild(this._additionalLines[t]);this._additionalLines=[]},mt.prototype._generatePreservedLines=function(){if(this._preserveNewLine){this._preservedLines=[];var t=this.getTextString().split(/\n+/),e=this._textInstance,i=null;this._preservedLines.push(e);for(var n=0;n<t.length;n++)if(i=t[n].replace(/\s+/g," "),e.setTextString(i),n<t.length-1){var r=e.copyShape();this._preservedLines.push(r),e=r}}},mt.prototype.__fitText=function(t,e,i){if(!this._preserveNewLine){if(this._textInstance.setTextString(this.getTextString()),this._removeAdditionalLines(),!st.fitText(this._textInstance,t,e,this,i))return this.getParent().removeChild(this),!1;if(!this._textInstance.isTruncated())return!0;if(!this.isWrapEnabled())return this._bTruncated=!0,!0}return this.wrapText(t,e,i,!1)},mt.prototype.wrapText=function(t,e,i,n){this.getLineCount()>1&&this._removeAdditionalLines();var r,o=this.getLineHeight(),s=o*mt._LINE_SPACE,a=this.getMaxLines(),h=Math.min(e,a*(o+s)-s)-o-s;if(this._preserveNewLine){for(var l=!1,u=null,c=0;c<this._preservedLines.length;c++){if(r=this._preservedLines[c],h<s+o)return this._bTruncated=!0,l;if(st.fitText(r,t,1/0,this,i)){if(l=!0,h-=s+o,r.isTruncated()&&!this.isTruncated()&&(this._bTruncated=!0),c>0){this._additionalLines.push(r);var _=u?u.getY()+s+o:this.getY();r.setY(_),this.addChild(r)}u=r}}return l}r=this._textInstance;var p=null,d=null,g=null,f=this.getTextString().split(/\s+/);f.reverse();for(var y=function(){var t=r.copyShape();t.setY(r.getY()+s+o),this.addChild(t),this._additionalLines.push(t),r=t,p=null,h-=s+o}.bind(this),v=!0;f.length>0;){var S=f.pop(),T=p?p+" "+S:S;if(r.setTextString(T),r.setUntruncatedTextString(null),st.fitText(r,t,1/0,this,i,!0))if(r.isTruncated()){if(h<s+o)return this._bTruncated=!0,!0;if(g=r.getTextString(),d=r,p)r.setTextString(p),f.push(S);else{if(n)return this._textInstance.setTextString(this.getTextString()),this._removeAdditionalLines(),!1;this._bTruncated=!0}f.length>0&&y()}else p=T;else{if(null==p){if(v||!d)return this._textInstance.setTextString(null),this._removeAdditionalLines(),!1;d.setTextString(g);for(var E=this._additionalLines.pop();E&&E!==d;)this.removeChild(E),E=this._additionalLines.pop();return E&&this._additionalLines.push(E),!0}f.push(S),y()}v=!1}return!0},mt.prototype.GetSvgDimensions=function(t){var e=this._getTextLines();if(0==e.length)return new m(0,0,0,0);var i=new m(1/0,1/0,0,0);return e.forEach(function(t){var e=t.getDimensions();i.x=Math.min(i.x,e.x),i.y=Math.min(i.y,e.y),i.w=Math.max(i.w,e.w),i.h+=e.h}),this.ConvertCoordSpaceRect(i,t)},mt.prototype.getLineCount=function(){return this._additionalLines.length+1},mt.prototype.getLineHeight=function(){return this._lineHeight||(this._lineHeight=st.getTextStringHeight(this.getCtx(),this.getCSSStyle())),this._lineHeight},mt.prototype.setWrapEnabled=function(t){t||(this._textInstance.getParent()!=this&&this.addChild(this._textInstance),this._textInstance.getTextString()||this._textInstance.setTextString(this.getTextString()),this._removeAdditionalLines()),this._noWrap=!t},mt.prototype.isWrapEnabled=function(){return!this._noWrap},mt.prototype.getUntruncatedTextString=function(){return this.isTruncated()?this.getTextString():null},mt.prototype.setUntruncatedTextString=function(t){},mt.prototype.getDimensions=function(t){return this.GetSvgDimensions(t)},mt.prototype.UpdateSelectionEffect=function(){},mt.prototype.getHorizAlignment=function(){return this._horizAlign},mt.prototype.setHorizAlignment=function(t){t==mt.H_ALIGN_LEFT?this.alignLeft():t==mt.H_ALIGN_CENTER?this.alignCenter():t==mt.H_ALIGN_RIGHT&&this.alignRight()},mt.prototype.getVertAlignment=function(){return this._vertAlign},mt.prototype.setVertAlignment=function(t){t==mt.V_ALIGN_TOP?this.alignTop():t==mt.V_ALIGN_MIDDLE?this.alignMiddle():t==mt.V_ALIGN_CENTRAL?this.alignCentral():t==mt.V_ALIGN_BOTTOM&&this.alignBottom()},mt.prototype.isMultiline=function(){return!0},mt.prototype.hasBackground=function(){return!1};const bt=function(t,e,i,n){this.Init(t,e,i,n)};i.createSubclass(bt,i),bt.prototype.Init=function(t,e,i,n){this._tooltip=t,this._datatip=e,this._datatipColor=i,this._params=n},bt.prototype.getParams=function(){return this._params},bt.prototype.getTooltip=function(t){return this._tooltip},bt.prototype.getDatatip=function(t){return"function"==typeof this._datatip?this._datatip():this._datatip},bt.prototype.getDatatipColor=function(t){return"function"==typeof this._datatipColor?this._datatipColor():this._datatipColor};class Ct extends bt{constructor(t,e,i,n,r,o){super(i,n,r,o),this._parent=t,this._text=e}isShowingKeyboardFocusEffect(){return this._isShowingKeyboardFocusEffect}showKeyboardFocusEffect(){if(this._isShowingKeyboardFocusEffect=!0,this._text){var t=this.getKeyboardBoundingBox();this._overlayRect=new lt(this._parent.getCtx(),t.x,t.y,t.w,t.h),this._overlayRect.setSolidStroke(r.getFocusColor()),this._overlayRect.setInvisibleFill(),this._overlayRect.setMatrix(this._text.getMatrix()),this._parent.addChild(this._overlayRect)}}getKeyboardBoundingBox(t){return this._text?this._text.getDimensions(t):new m(0,0,0,0)}hideKeyboardFocusEffect(){this._isShowingKeyboardFocusEffect=!1,this._text&&(this._parent.removeChild(this._overlayRect),this._overlayRect=null)}getTargetElem(){return this._text?this._text.getElem():null}getDisplayable(){return this._text}getAriaLabel(){return this._text.getTextString()}getId(){return this._params?this._params.id:null}}const At=function(t,e,i,n){n||this.Init(t,e,i)};i.createSubclass(At,J),At.prototype.Init=function(t,e,i){At.superclass.Init.call(this,t),this._callback=e,this._callbackObj=i,this.Defaults=null,this.Options=null,this.Width=0,this.Height=0,this.EventManager=null,this.Animation=null,this.AnimationStopped=!1,this._optionsCache=new St,this._cache=new St,this._SHARED_DEFS_DIV_ID="_dvtSharedDefs"},At.prototype.GetDefaults=function(t){return this.Defaults?this.Defaults.getDefaults(t):{}},At.prototype.GetComponentDescription=function(){return this.getOptions().translations.componentName},At.prototype.IsParentRoot=function(){return this.getParent()==this.getCtx().getStage()},At.prototype.UpdateAriaAttributes=function(){if(this.IsParentRoot()){var t=this.getOptions().translations;this.getCtx().setAriaRole("application"),this.getCtx().setAriaLabel(Tt.format(t.labelAndValue,[t.labelDataVisualization,O.processAriaLabel(this.GetComponentDescription())]))}},At.prototype.SetOptions=function(t){t&&this._optionsCache.clearCache()},At.prototype.getOptions=function(){return this.Options||(this.Options=this.GetDefaults()),this.Options},At.prototype.applyOptions=function(t,e){this.Options&&t&&this.SetOptions(Et.merge(t,this.Options,e))},At.prototype.render=function(t,e,i){},At.prototype.RenderComplete=function(){this.Animation=null,this.AnimationStopped=!1,this.getCtx().resetIsOffscreen(),this.dispatchEvent(yt.newReadyEvent())},At.prototype.getWidth=function(){return this.Width},At.prototype.getHeight=function(){return this.Height},At.prototype.highlight=function(t){},At.prototype.select=function(t){},At.prototype.dispatchEvent=function(t){this._callback&&this._callback.call&&this._callback.call(this._callbackObj,t,this)},At.prototype.getDimensionsWithStroke=function(t){return this.getDimensions(t)},At.prototype.getEventManager=function(){return this.EventManager},At.prototype.getKeyboardFocus=function(){var t=this.getEventManager();return t&&t.getFocus()?t.getFocus().getTargetElem():null},At.prototype.getCache=function(){return this._cache},At.prototype.getOptionsCache=function(){return this._optionsCache},At.prototype.StopAnimation=function(t){this.Animation&&(this.AnimationStopped=!0,this.Animation.stop(t||!1),this.Animation=null)},At.prototype.appendSharedDefs=function(t){var e=document.getElementById(this._SHARED_DEFS_DIV_ID);if(!e){(e=document.createElement("div")).id=this._SHARED_DEFS_DIV_ID,e.style.width="0px",e.style.height="0px",e.style.left="0px",e.style.top="0px",e.style.position="absolute";var i=u.createSvgDocument();u.setAttrNullNS(i,"width","0px"),u.setAttrNullNS(i,"height","0px");var n=A.createElement("defs");i.appendChild(n),e.appendChild(i),document.body.appendChild(e)}return(n=e.childNodes[0].childNodes[0]).appendChild(t),t},At.prototype.destroy=function(){this.StopAnimation(),this.EventManager&&(this.EventManager.removeListeners(this),this.EventManager.destroy(),this.EventManager=null);var t=1===document.getElementsByClassName("oj-dvtbase").length,e=document.getElementById(this._SHARED_DEFS_DIV_ID);t&&e&&document.body.removeChild(e),At.superclass.destroy.call(this)},At.prototype.renderEmptyText=function(t,e,i,n,r){var o=new mt(t.getCtx(),e,i.x+i.w/2,i.y+i.h/2);let s;r&&o.setCSSStyle(r),o.alignCenter(),o.alignMiddle();var a=i.w-2*st.EMPTY_TEXT_BUFFER;st.fitText(o,a,1/0,t,0)&&(o.isTruncated()&&(s=o.getUntruncatedTextString()),o.setAriaProperty("hidden",null));let h=new Ct(t,o,s,null,null,{id:"noDataPeer"});return this.getOptionsCache().putToCache("noDataPeer",h),n.associate(o,h),o},At.prototype.setContextMenu=function(t){this._hasContextMenu=t},At.prototype.hasContextMenu=function(){return this._hasContextMenu};const Ot=function(t,e){this.Init(t,e)};i.createSubclass(Ot,i),Ot.TYPE_SINGLE="s",Ot.TYPE_MULTIPLE="m",Ot.prototype.Init=function(t,e){this._context=t,this._selection=[],this._type=e||Ot.TYPE_SINGLE,this._hiddenSelectedIds=[]},Ot.prototype.getType=function(){return this._type},Ot.prototype.getSelectedCount=function(){return this._selection.length},Ot.prototype.getSelection=function(){return this._selection.slice(0)},Ot.prototype.getSelectedIds=function(){for(var t=[],e=0;e<this._selection.length;e++)t.push(this._selection[e].getId());return t.concat(this._hiddenSelectedIds)},Ot.prototype.processInitialSelections=function(t,e){if(this.clearSelection(!0),t&&e){for(var i=new this._context.KeySetImpl(t),n=new Map,r=0,o=0;r!==t.length&&o<e.length;o++){if((a=e[o]).isSelectable&&a.isSelectable()){var s=i.get(a.getId());s!==i.NOT_A_KEY&&(r++,n.set(s,a))}}for(o=0;o<t.length;o++){var a;(a=n.get(t[o]))?this._addToSelection(a,!0,!0):this._hiddenSelectedIds.push(t[o])}}},Ot.prototype.processClick=function(t,e){if(t&&t.isUnrelatedToSelection&&t.isUnrelatedToSelection())return!1;var i=!1;return e&&this._type==Ot.TYPE_MULTIPLE?t&&t.isSelectable&&t.isSelectable()&&(i=t.isSelected()?this._removeFromSelection(t):this._addToSelection(t,!0)):i=t&&t.isSelectable&&t.isSelectable()?e&&t.isSelected()?this._removeFromSelection(t):this._addToSelection(t,!1):this.clearSelection(),i},Ot.prototype.processGroupSelection=function(t,e){var i;e||this.clearSelection();for(var n=0;n<t.length;n++)(i=t[n])&&i.isUnrelatedToSelection&&i.isUnrelatedToSelection()||this._addToSelection(i,!0)},Ot.prototype.processMouseOver=function(t){t&&t.isSelectable&&t.isSelectable()&&t.showHoverEffect&&t.showHoverEffect()},Ot.prototype.processMouseOut=function(t){t&&t.isSelectable&&t.isSelectable()&&t.hideHoverEffect&&t.hideHoverEffect()},Ot.prototype._addToSelection=function(t,e,i){return!(t.isSelected()||t.isSelectable&&!t.isSelectable())&&(e||this.clearSelection(i),t.setSelected(!0,i),this._selection.push(t),!0)},Ot.prototype._removeFromSelection=function(t){if(!t.isSelected())return!1;t.setSelected(!1);for(var e=0;e<this._selection.length;e++)if(this._selection[e]==t){this._selection.splice(e,1);break}return!0},Ot.prototype.clearSelection=function(t){if(this._selection.length<=0&&this._hiddenSelectedIds.length<=0)return!1;for(;this._selection.length>0;){this._selection.pop().setSelected(!1,t)}return this._hiddenSelectedIds.length=0,!0};const It=function(t,e){this._callback=t,this._callbackObj=e,this._source=e,this._bHighlightMode=!1,this._hoverDelayCallback=null,this._highlightModeTimeout=null,this._hoverDelay=It._HOVER_DELAY};i.createSubclass(It,i),It._HOVER_DELAY=50,It._HOVER_TIMEOUT=1e3,It._ROLLOUT_TIMEOUT=250,It._FADE_OUT_OPACITY=.35,It.prototype.processEvent=function(t,e,i,n,r){if(t&&e&&0!=e.length){this._hoverDelayCallback&&(clearTimeout(this._hoverDelayCallback),this._hoverDelayCallback=null);var o=t._highlightType;if("over"==o){var s=this._bHighlightMode?this._hoverDelay:i;this._hoverDelayCallback=setTimeout(this.GetRolloverCallback(t,e,n,r),s),this._highlightModeTimeout&&(clearInterval(this._highlightModeTimeout),this._highlightModeTimeout=null)}else if("out"==o){var a=this._bHighlightMode?this._hoverDelay:It._ROLLOUT_TIMEOUT;this._hoverDelayCallback=setTimeout(this.GetRolloutCallback(t,e,n,r),a)}}},It.prototype.GetRolloverCallback=function(t,e,n,r){return i.createCallback(this,function(){this._bHighlightMode=!0,It.highlight(t.categories,e,n,r),this.FireCallback(t)})},It.prototype.GetRolloutCallback=function(t,e,n,r){return i.createCallback(this,function(){It.highlight(t.categories,e,n,r),this.SetHighlightModeTimeout(),this.FireCallback(t)})},It.prototype.FireCallback=function(t){this._callback&&this._callback.call(this._callbackObj,t,this._source)},It.highlight=function(t,e,i,n){if(e)for(var r=n||It._FADE_OUT_OPACITY,o=0;o<e.length;o++){var s=e[o];if(s&&s.getCategories){var a=i?It._hasAnyCategory(s,t):It._hasAllCategories(s,t),h=t&&t.length>0&&!a;It._highlightObj(s,h,r)}}},It._highlightObj=function(t,e,i){var n=e?i:1;if(t.highlight)t.highlight(e,n);else{var r=t.getDisplayables();It._updateAlpha(r,n)}},It._updateAlpha=function(t,e){if(t)for(var i=0;i<t.length;i++)t[i].setAlpha(e)},It._hasAnyCategory=function(t,e){return!(!t||!t.getCategories)&&d.hasAnyItem(t.getCategories(),e)},It._hasAllCategories=function(t,e){return!(!t||!t.getCategories)&&d.hasAllItems(t.getCategories(),e)},It.prototype.SetHighlightMode=function(t){this._bHighlightMode=t},It.prototype.SetHighlightModeTimeout=function(){var t=i.createCallback(this,function(){this.SetHighlightMode(!1)});this._highlightModeTimeout=setTimeout(t,It._HOVER_TIMEOUT)},It.prototype.setHoverDelay=function(t){this._hoverDelay=t};const Nt=function(t,e,i,n){this.Init(t,e,i,n)};i.createSubclass(Nt,i),Nt.CLEAR_SELECTION_ACTION_TYPE="clearSelectionActionType",Nt.TOUCH_RESPONSE_TOUCH_START="touchStart",Nt.TOUCH_RESPONSE_TOUCH_HOLD="touchHold",Nt.TOUCH_RESPONSE_AUTO="auto",Nt._TOUCH_RESPONSE_PADDING_CHECK=10,Nt._EVENT_INFO_TOOLTIP_DISPLAYED_KEY="tooltipDisplayed",Nt.prototype.Init=function(t,e,i,n){this._context=t,this._callback=e,this._callbackObj=i,this._component=n,this._touchMap={},this._selectionHandler=null,this.KeyboardHandler=null,this.RolloverHandler=this.CreateCategoryRolloverHandler(e,i),this.setTooltipsEnabled(!0);var o=t.getStage().getId();o||(o="undefinedId"),this.CustomTooltipManager=this._context.getCustomTooltipManager(),this.CustomTooltipManager.addTooltipEventListener("actionTooltipClosed",this.OnActionTooltipClosed,this),this.CustomTooltipManager.addTooltipEventListener("actionTooltipStarted",this.OnActionTooltipStarted,this),this.TouchManager=null,r.isTouchDevice()&&(this.TouchManager=new ft("touchmanager",this._context,this)),this._focusedObj=null,this._shouldDisplayKeyboardFocus=!1,this._keyboardHandlers=[this],this._currentKeyboardHandlerIdx=-1,this._dndListeners={}},Nt.prototype.getCtx=function(){return this._context},Nt.prototype.associate=function(t,e,i){t&&(t._logicalObjects&&!i||(t._logicalObjects=[]),t._logicalObjects.push({logicalObject:e,eventManager:this}))},Nt.prototype.addListeners=function(t){if(t&&(r.isTouchDevice()?(this.hideTooltip(),t.addEvtListener(L.TOUCHSTART,this.OnTouchStartBubble,!1,this),t.addEvtListener(L.TOUCHMOVE,this.OnTouchMoveBubble,!1,this),t.addEvtListener(L.TOUCHEND,this.OnTouchEndBubble,!1,this),this.TouchManager.addTouchEventListener(dt.TOUCH_HOVER_START_TYPE,this.OnComponentTouchHoverStart,this),this.TouchManager.addTouchEventListener(dt.TOUCH_HOVER_MOVE_TYPE,this.OnComponentTouchHoverMove,this),this.TouchManager.addTouchEventListener(dt.TOUCH_HOVER_END_TYPE,this.OnComponentTouchHoverEnd,this),this.TouchManager.addTouchEventListener(dt.TOUCH_HOVER_OUT_TYPE,this.OnComponentTouchHoverOut,this),this.TouchManager.addTouchEventListener(dt.TOUCH_HOVER_OVER_TYPE,this.OnComponentTouchHoverOver,this),this.TouchManager.addTouchEventListener(dt.TOUCH_CLICK_TYPE,this.OnComponentTouchClick,this),this.TouchManager.addTouchEventListener(dt.TOUCH_DOUBLE_CLICK_TYPE,this.OnComponentTouchDblClick,this)):(t.addEvtListener(F.CLICK,this._onClick,!1,this),t.addEvtListener(F.DBLCLICK,this._onDblClick,!1,this),t.addEvtListener("contextmenu",this.OnContextMenu,!1,this),t.addEvtListener(F.MOUSEMOVE,this.OnMouseMove,!1,this),t.addEvtListener(F.MOUSEOVER,this.PreOnMouseOver,!1,this),t.addEvtListener(F.MOUSEOUT,this.PreOnMouseOut,!1,this),t.addEvtListener(F.MOUSEDOWN,this.PreOnMouseDown,!1,this),t.addEvtListener(F.MOUSEUP,this.OnMouseUp,!1,this),t.addEvtListener(P.KEYDOWN,this.OnKeyDown,!1,this),t.addEvtListener(P.KEYUP,this.OnKeyUp,!1,this),t.addEvtListener(H.FOCUS,this.OnFocus,!1,this),t.addEvtListener(H.BLUR,this.OnBlur,!1,this),"safari"===r.browser&&this.getCtx()._parentDiv.addEventListener("wheel",()=>{})),this.isDndSupported())){var e=this.getCtx();this.setDragSource(new a(e)),this._addDndListener("dragstart",this.OnDndDragStart),this._addDndListener("drag",this.OnDndDrag),this._addDndListener("dragend",this.OnDndDragEnd),this._addDndListener("dragenter",this.OnDndDragEnter),this._addDndListener("dragover",this.OnDndDragOver),this._addDndListener("dragleave",this.OnDndDragLeave),this._addDndListener("drop",this.OnDndDrop);var i=e.getContainer();for(var n in this._dndListeners)u.addDomEventListener(i,n,this._dndListeners[n],!1);this._context.addDndEventManager(this)}},Nt.prototype._addDndListener=function(t,e){var i=gt.createStaticCallback(this.getCtx(),e,this);this._dndListeners[t]=i},Nt.prototype.removeListeners=function(t,e){t&&(e||this.hideTooltip(),this.RemoveListeners(t))},Nt.prototype.RemoveListeners=function(t){if(r.isTouchDevice()?(t.removeEvtListener(L.TOUCHSTART,this.OnTouchStartBubble,!1,this),t.removeEvtListener(L.TOUCHMOVE,this.OnTouchMoveBubble,!1,this),t.removeEvtListener(L.TOUCHEND,this.OnTouchEndBubble,!1,this),this.TouchManager.removeTouchEventListener(dt.TOUCH_HOVER_START_TYPE,this.OnComponentTouchHoverStart,this),this.TouchManager.removeTouchEventListener(dt.TOUCH_HOVER_MOVE_TYPE,this.OnComponentTouchHoverMove,this),this.TouchManager.removeTouchEventListener(dt.TOUCH_HOVER_END_TYPE,this.OnComponentTouchHoverEnd,this),this.TouchManager.removeTouchEventListener(dt.TOUCH_HOVER_OUT_TYPE,this.OnComponentTouchHoverOut,this),this.TouchManager.removeTouchEventListener(dt.TOUCH_HOVER_OVER_TYPE,this.OnComponentTouchHoverOver,this),this.TouchManager.removeTouchEventListener(dt.TOUCH_CLICK_TYPE,this.OnComponentTouchClick,this),this.TouchManager.removeTouchEventListener(dt.TOUCH_DOUBLE_CLICK_TYPE,this.OnComponentTouchDblClick,this)):(t.removeEvtListener(F.CLICK,this._onClick,!1,this),t.removeEvtListener(F.DBLCLICK,this._onDblClick,!1,this),t.removeEvtListener("contextmenu",this.OnContextMenu,!1,this),t.removeEvtListener(F.MOUSEMOVE,this.OnMouseMove,!1,this),t.removeEvtListener(F.MOUSEOVER,this.PreOnMouseOver,!1,this),t.removeEvtListener(F.MOUSEOUT,this.PreOnMouseOut,!1,this),t.removeEvtListener(F.MOUSEDOWN,this.PreOnMouseDown,!1,this),t.removeEvtListener(F.MOUSEUP,this.OnMouseUp,!1,this),t.removeEvtListener(P.KEYDOWN,this.OnKeyDown,!1,this),t.removeEvtListener(P.KEYUP,this.OnKeyUp,!1,this),t.removeEvtListener(H.FOCUS,this.OnFocus,!1,this),t.removeEvtListener(H.BLUR,this.OnBlur,!1,this)),this.isDndSupported()){var e=this.getCtx().getContainer();for(var i in this._dndListeners)u.removeDomEventListener(e,i,this._dndListeners[i],!1);this._dndListeners={},this._context.removeDndEventManager(this)}},Nt.prototype.destroy=function(){this.CustomTooltipManager&&(this.CustomTooltipManager.removeTooltipEventListener("actionTooltipClosed",this.OnActionTooltipClosed,this),this.CustomTooltipManager.removeTooltipEventListener("actionTooltipStarted",this.OnActionTooltipStarted,this))},Nt.prototype.PreEventBubble=function(t){this.TouchManager.preEventBubble(t)},Nt.prototype.setSelectionHandler=function(t){this._selectionHandler=t},Nt.prototype.getSelectionHandler=function(t){return this._selectionHandler},Nt.prototype.getMarqueeGlassPane=function(){return null},Nt.prototype.setDragSource=function(t){this.DragSource=t,r.isTouchDevice()&&this.DragSource.setTouchManager(this.TouchManager)},Nt.prototype.setKeyboardHandler=function(t){r.isTouchDevice()||(this.KeyboardHandler=t)},Nt.prototype.getKeyboardHandler=function(){return this.KeyboardHandler},Nt.prototype.setFocusObj=function(t){var e=this.getFocus();if(t!=e&&(this.setFocus(t),e&&e.hideKeyboardFocusEffect(),this._currentKeyboardHandlerIdx>-1&&this._currentKeyboardHandlerIdx<this._keyboardHandlers.length)){var i=this._keyboardHandlers[this._currentKeyboardHandlerIdx];i!=this&&i.hideKeyboardFocusEffect()}this.setCurrentKeyboardHandler(this)},Nt.prototype.setFocus=function(t){this.KeyboardHandler&&(this._focusedObj=t)},Nt.prototype.getFocus=function(){return this.KeyboardHandler?this._focusedObj:null},Nt.prototype.setFocused=function(t){var e=this.getFocus();e&&this.KeyboardHandler&&(t?this._shouldDisplayKeyboardFocus&&this._currentKeyboardHandlerIdx>=0&&this._currentKeyboardHandlerIdx<this._keyboardHandlers.length&&this._keyboardHandlers[this._currentKeyboardHandlerIdx]===this&&e.showKeyboardFocusEffect():e.hideKeyboardFocusEffect()),t||(this._shouldDisplayKeyboardFocus=!1)},Nt.prototype.setTooltipsEnabled=function(t){this._tooltipsEnabled=t},Nt.prototype.getTooltipsEnabled=function(t){return this._tooltipsEnabled},Nt.prototype.GetLogicalObject=function(t,e){return this.GetLogicalObjectAndDisplayable(t,e).logicalObject},Nt.prototype.GetLogicalObjectAndDisplayable=function(t,e){for(var i=t;i;){if(i._logicalObjects)for(var n=0;n<i._logicalObjects.length;n++){var r=i._logicalObjects[n];if(r.eventManager==this){var o={};return o.logicalObject=r.logicalObject,o.displayable=i,o}}i=e?null:i.getParent()}return{}},Nt.prototype._getTooltipColor=function(t,e,i){if(t&&t.getDatatipColor)return t.getDatatipColor()},Nt.prototype.FireEvent=function(t,e){this._callback&&this._callback.call(this._callbackObj,t,e)},Nt.prototype.fireSelectionEvent=function(t){var e=this.getSelectionHandler(t);if(e){var i=e.getSelectedIds(),n=yt.newSelectionEvent(i);this._callback.call(this._callbackObj,n)}},Nt.prototype._onClick=function(t){if(this.IsDoubleClickable(t)){if(this._clickTimer&&this._clickTimer.isRunning()){var e=this._savedClickEvent;if(t.pageX==e.pageX&&t.pageY==e.pageY)return void this._savedClickCount++;this._clickTimer.stop(),this._onClickTimerEnd()}this._savedClickEvent=t,this._savedClickCount=1,this._clickTimer||(this._clickTimer=new ut(this._context,250,this._onClickTimerEnd,this,1)),this._clickTimer.reset(),this._clickTimer.start()}else this.OnClick(t)},Nt.prototype._onClickTimerEnd=function(){var t=this._savedClickEvent;this._savedClickEvent=null,this._savedClickCount=0,t&&this.OnClick(t)},Nt.prototype.OnClick=function(t){var e=this.GetLogicalObject(t.target);if(this.OnClickInternal(t),this.ProcessSelectionEventHelper(e,t.ctrlKey),this._shouldDisplayKeyboardFocus=!1,e&&this.KeyboardHandler&&e.getNextNavigable){var i=e.getNextNavigable(t);this.setFocusObj(i)}},Nt.prototype.IsDoubleClickable=function(t){var e=this.GetLogicalObject(t.target);return!!(e&&e.isDoubleClickable&&e.isDoubleClickable())},Nt.prototype.ProcessSelectionEventHelper=function(t,e){var i=this.getSelectionHandler(t);i&&(i.processClick(t,e)&&this.fireSelectionEvent(t))},Nt.prototype._onDblClick=function(t){var e=this.IsDoubleClickable(t);(e&&2===this._savedClickCount||!e)&&this.OnDblClick(t),this._savedClickCount=0},Nt.prototype.OnDblClick=function(t){this._clickTimer&&this._clickTimer.isRunning()&&(this._clickTimer.stop(),this._savedClickEvent=null),this.OnDblClickInternal(t)},Nt.prototype.OnContextMenu=function(t){var e=this.GetLogicalObject(t.target);e&&e.getNextNavigable&&this.setFocus(e),this._onContextMenuHelper(t,e)},Nt.prototype._onContextMenuHelper=function(t,e){(this._processActionPopup(t.target,new n(t.pageX,t.pageY))&&t.preventDefault(),e&&e.isSelectable&&e.isSelectable())&&("mac"===r.os&&e.isSelected()||this.ProcessSelectionEventHelper(e,t.ctrlKey))},Nt.prototype.OnKeyDown=function(t){this._bKeyDown=!0;var e,i,n=t.keyCode,r=!1;for(e=this._currentKeyboardHandlerIdx<0||this._currentKeyboardHandlerIdx>this._keyboardHandlers.length?n==P.TAB&&t.shiftKey?this._keyboardHandlers.length-1:0:this._currentKeyboardHandlerIdx,i=n==P.TAB&&t.shiftKey?-1:1;e>=0&&e<this._keyboardHandlers.length&&!r;e+=i){var o=this._keyboardHandlers[e];(r=o===this?this.ProcessKeyboardEvent(t):o.handleKeyboardEvent(t))&&(this._currentKeyboardHandlerIdx=e)}return r||t.keyCode!=P.UP_ARROW&&t.keyCode!=P.DOWN_ARROW&&t.keyCode!=P.LEFT_ARROW&&t.keyCode!=P.RIGHT_ARROW||Nt.consumeEvent(t),r||n!=P.TAB||(this._currentKeyboardHandlerIdx=-1),r},Nt.prototype.handleKeyboardEvent=function(t){return this.OnKeyDown(t)},Nt.prototype.hideKeyboardFocusEffect=function(){var t=this.getFocus();t&&t.isShowingKeyboardFocusEffect()&&t.hideKeyboardFocusEffect()},Nt.prototype.ProcessKeyboardEvent=function(t){if(!this.KeyboardHandler)return!1;this.hideTooltip();var e,i,n=this.getFocus();return t.keyCode==P.TAB&&n?n.isShowingKeyboardFocusEffect()?(this._bKeyDown=!1,n.hideKeyboardFocusEffect(),this.ProcessRolloverEvent(t,n,!1),!!(i=t.shiftKey?this._context.previousKeyboardFocus():this._context.nextKeyboardFocus())&&(i.FireListener(t,!1),Nt.consumeEvent(t),!0)):(this.ShowFocusEffect(t,n),this.ProcessRolloverEvent(t,n,!0),Nt.consumeEvent(t),!0):!!(e=this.KeyboardHandler.processKeyDown(t))&&(this.setFocus(e),this._shouldDisplayKeyboardFocus=!0,n&&(n.hideKeyboardFocusEffect(),this.ProcessRolloverEvent(t,n,!1)),this.KeyboardHandler.isSelectionEvent(t)?this.ProcessSelectionEventHelper(e,t.shiftKey):this.KeyboardHandler.isMultiSelectEvent(t)&&this.ProcessSelectionEventHelper(e,t.ctrlKey),this.ShowFocusEffect(t,e),this.ProcessRolloverEvent(t,e,!0),!0)},Nt.prototype.ShowFocusEffect=function(t,e){e.showKeyboardFocusEffect();var i=e.getKeyboardTooltipLocation?e.getKeyboardTooltipLocation():e.getKeyboardBoundingBox(this.getCtx().getStage()).getCenter(),n=this.getCtx().stageToPageCoords(i.x,i.y);this.ProcessObjectTooltip(t,n.x,n.y,e,e.getTargetElem()),this.UpdateActiveElement(e)},Nt.prototype.OnKeyUp=function(t){if(this._bKeyDown=!1,!0===this._handleExternalKeyboardFocus&&t.keyCode==P.TAB&&(this._handleExternalKeyboardFocus=!1,document.createEvent)){var e=document.createEvent("KeyboardEvent"),i=t.keyCode,n=t.ctrlKey,r=t.shiftKey;void 0!==e.initKeyboardEvent?e.initKeyboardEvent(P.KEYDOWN,!0,!0,window,n,!1,r,!1,i,i):e.initKeyEvent(P.KEYDOWN,!0,!0,window,n,!1,!1,r,i,i);var o=k.newEvent(e);o.keyCode=i,o.ctrlKey=n,o.shiftKey=r;var s=this.getCtx().getStage().getSVGRoot().parentNode;G._bubbleListener.call(s,o)}},Nt.prototype.OnMouseMove=function(t){var e=t.pageX,i=t.pageY,n=this.GetLogicalObjectAndDisplayable(t.target),r=n.logicalObject,o=n.displayable;r&&this.ProcessObjectTooltip(t,e,i,r,o)},Nt.prototype.PreOnMouseOver=function(t){this.OnMouseOver(t)},Nt.prototype.OnMouseOver=function(t){var e=this.GetLogicalObjectAndDisplayable(t.target),i=e.logicalObject,n=e.displayable;if(i){var r=this.getSelectionHandler(i);r&&r.processMouseOver(i),this.ProcessRolloverEvent(t,i,!0),this.UpdateActiveElement(i,n)}},Nt.prototype.PreOnMouseOut=function(t){var e=this.GetLogicalObject(t.relatedTarget),i=this.GetLogicalObject(t.target);i&&i===e||this.OnMouseOut(t)},Nt.prototype.OnMouseOut=function(t){var e=this.GetLogicalObject(t.target);if(e&&e!=this.GetLogicalObject(t.relatedTarget)){var i=this.getSelectionHandler(e);i&&i.processMouseOut(e),this.ProcessRolloverEvent(t,e,!1),this.hideTooltip()}},Nt.prototype.PreOnMouseDown=function(t){this.OnMouseDown(t)},Nt.prototype.OnMouseDown=function(t){this.isInActionPopup()&&this.CustomTooltipManager.closeActionTooltip();var e=this.GetLogicalObject(t.target);this.DragSource&&!t.dragSourceSet&&this.IsDragCandidate(e)&&(this.DragSource.setDragCandidate(e),t.dragSourceSet=!0)},Nt.prototype.OnMouseUp=function(t){},Nt.prototype._processTouchTooltip=function(t){var e=this.TouchManager.getTooltipInfo(),i=e.touchIds,n=e.tooltipTarget;if(this.GetEventInfo(t,Nt._EVENT_INFO_TOOLTIP_DISPLAYED_KEY)||0!=i.length&&n){var r=this.TouchManager.calcAveragePosition(i),o=this.GetLogicalObject(n);this.ProcessObjectTooltip(t,r.x,r.y,o,null)}else this.hideTooltip()},Nt.prototype.OnTouchStartBubble=function(t){if(this.PreEventBubble(t),t.isInitialTouch()&&(this._popupJustClosed=!1),this.DragSource){var e=this.GetLogicalObject(t.target);!t.dragSourceSet&&this.IsDragCandidate(e)&&(this.DragSource.setDragCandidate(e),t.dragSourceSet=!0)}this.isInActionPopup()&&(this.CustomTooltipManager.closeActionTooltip(),this.TouchManager.resetTouchHold()),this.HandleImmediateTouchStartInternal(t),this.TouchManager.fireLogicalEvents(t),this.TouchManager.postEventBubble(t),this.isTouchResponseTouchStart()?(this._touchResponseHandled=!0,this.TouchManager.processAssociatedTouchAttempt(t,Nt.TOUCH_RESPONSE_TOUCH_START,this._saveTouchStart,this)):(this._touchResponseHandled=!1,this._processTouchTooltip(t))},Nt.prototype.OnTouchMoveBubble=function(t){this.PreEventBubble(t),this.TouchManager&&(this._prevActionClear=!1,this.HandleImmediateTouchMoveInternal(t),this.TouchManager.fireLogicalEvents(t),this.TouchManager.postEventBubble(t),this._processTouchTooltip(t))},Nt.prototype._handleTouchEndTimer=function(){for(var t=0;t<this._touchEndTimer.length;t++){var e=this._touchEndTimer[t];e.timer.stop();var i=e.event;this.TouchManager&&(this.HandleImmediateTouchEndInternal(i),this.TouchManager.fireLogicalEvents(i),this.TouchManager.postEventBubble(i))}this._touchEndTimer=new Array},Nt.prototype.OnTouchEndBubble=function(t){this.PreEventBubble(t);var e=new ut(this._context,0,this._handleTouchEndTimer,this,1);this._touchEndTimer||(this._touchEndTimer=new Array),this._touchEndTimer.push({event:t,timer:e}),e.start()},Nt.prototype.HandleImmediateTouchStartInternal=function(t){},Nt.prototype.HandleImmediateTouchMoveInternal=function(t){},Nt.prototype.HandleImmediateTouchEndInternal=function(t){},Nt.prototype.OnComponentTouchHoverStart=function(t){this.HandleTouchHoverStartInternal(t),this._touchResponseHandled||this.HandleTouchActionsStart(t)},Nt.prototype.OnComponentTouchHoverMove=function(t){this.HandleTouchHoverMoveInternal(t),this._touchResponseHandled||this.HandleTouchActionsMove(t)},Nt.prototype.OnComponentTouchHoverEnd=function(t){if(this.HandleTouchHoverEndInternal(t),this._callbackObj instanceof At){var e=this.getCtx().getStageAbsolutePosition(),i=t.touch.pageX,n=t.touch.pageY;i<=e.x+this._callbackObj.getWidth()&&i>=e.x&&n<=e.y+this._callbackObj.getHeight()&&n>=e.y&&this._callback.call(this._callbackObj,yt.newTouchHoldReleaseEvent(t.getNativeEvent()))}this._touchResponseHandled||this.HandleTouchActionsEnd(t)},Nt.prototype.OnComponentTouchHoverOut=function(t){var e=this.GetLogicalObject(t.relatedTarget),i=this.GetLogicalObject(t.target);i&&i===e||(this.HandleTouchHoverOutInternal(t),this._touchResponseHandled||this.HandleTouchActionsOut(t))},Nt.prototype.OnComponentTouchHoverOver=function(t){this.HandleTouchHoverOverInternal(t),this._touchResponseHandled||this.HandleTouchActionsOver(t)},Nt.prototype.OnComponentTouchDblClick=function(t){this.HandleTouchDblClickInternal(t)},Nt.prototype.OnComponentTouchClick=function(t){var e=this.GetLogicalObjectAndDisplayable(t.target),i=e.logicalObject,r=e.displayable,o=t.touch;this.HandleTouchClickInternal(t)||(this.isTouchResponseTouchStart()||this._processTouchSelection(i),this._popupJustClosed||this._processTouchSelectionClear(i),this.CustomTooltipManager.displayActionPopup()&&(this.UpdateActionTooltipLaunchedFeedback(r,new n(o.pageX,o.pageY)),this.CustomTooltipManager.startActionPopupAtPosition(o.pageX,o.pageY,r)))},Nt.prototype._processTouchSelection=function(t,e){var i=this.getSelectionHandler(t);!(i&&t&&t.isSelectable&&t.isSelectable())||e&&t.isSelected()||i.processClick(t,!0)&&this.fireSelectionEvent(t),this._prevActionClear=!1},Nt.prototype._processTouchSelectionClear=function(t){var e=this.getSelectionHandler(t);if(e&&(!t||!t.isSelectable||!t.isSelectable())&&!this._prevActionClear){var i=!1;e.getType()==Ot.TYPE_MULTIPLE&&e.getSelectedCount()>1&&(i=!0),i?this.addClearAllActionItem():e.processClick(null,!1)&&this.fireSelectionEvent(t)}},Nt.prototype.OnActionTooltipClosed=function(t){this._popupJustClosed=!0,this._isInActionPopup=!1,this.CustomTooltipManager.getActionTooltip().containsMenuId(Nt.CLEAR_SELECTION_ACTION_TYPE)&&(this._prevActionClear=!0),this.CustomTooltipManager.clearActionTooltip(),this.UpdateActionTooltipClosedFeedback(t.target)},Nt.prototype.OnActionTooltipStarted=function(t){this._isInActionPopup=!0},Nt.prototype._getTooltipInfo=function(t,e,i,n){var r=null,o=!1;return e&&e.getDatatip&&(r=e.getDatatip(t,i,n))&&(o=!0),!r&&e&&e.getTooltip&&(r=e.getTooltip(t,i,n)),{text:r,isDatatip:o}},Nt.prototype._processShowTooltip=function(t,e,i,n){if(this.getTooltipsEnabled(e)){var r=this._context.pageToStageCoords(i,n),o=r.x,s=r.y,a=this._getTooltipInfo(t,e,o,s),h=a.isDatatip,l=a.text;if(l){this.CustomTooltipManager.clearActionTooltip();var u=this._getTooltipColor(e,o,s),c=this._context.getTooltipManager();return h?c.showDatatip(i,n,l,u):c.showTooltip(i,n,l,null,!0,u),this._hideTooltipListener||(this._hideTooltipListener=this._keyboardHideTooltip.bind(this),document.documentElement.addEventListener(P.KEYDOWN,this._hideTooltipListener,{capture:!0})),this.TooltipLaunched(l,u),this.DispatchElementEvent("tooltiplaunched"),!0}this.hideTooltip()}else this.hideTooltip();return!1},Nt.prototype._keyboardHideTooltip=function(t){t.keyCode===P.ESCAPE&&(this.hideTooltip(),t.preventDefault())},Nt.prototype.hideTooltip=function(){var t=this._context.getTooltipManager();t&&t.hideTooltip(),this.TooltipHidden(),this._hideTooltipListener&&(document.documentElement.removeEventListener(P.KEYDOWN,this._hideTooltipListener,{capture:!0}),this._hideTooltipListener=null)},Nt.prototype._processActionPopup=function(t,e){return this.CustomTooltipManager.displayActionPopup()?(this.SetupTouchTooltip(t),this.UpdateActionPopupShownFeedback(t),this.CustomTooltipManager.startActionPopupAtPosition(e.x,e.y,t),!0):(this.UpdateActionPopupHiddenFeedback(t),!1)},Nt.prototype.TooltipLaunched=function(t,e){},Nt.prototype.TooltipHidden=function(){},Nt.prototype.SetupTouchTooltip=function(t){var e=this.GetLogicalObject(t),i=this.CustomTooltipManager.getActionTooltip();if(null==i.getTooltipBorderColor()){var n=this._getTooltipColor(e);i.setTooltipBorderColor(n)}},Nt.prototype.OnClickInternal=function(t){},Nt.prototype.OnDblClickInternal=function(t){},Nt.prototype.HandleTouchHoverStartInternal=function(t){},Nt.prototype.HandleTouchHoverMoveInternal=function(t){},Nt.prototype.HandleTouchHoverEndInternal=function(t){},Nt.prototype.HandleTouchHoverOverInternal=function(t){},Nt.prototype.HandleTouchHoverOutInternal=function(t){},Nt.prototype.HandleTouchClickInternal=function(t){return!1},Nt.prototype.HandleTouchDblClickInternal=function(t){},Nt.prototype.UpdateActionPopupShownFeedback=function(t){},Nt.prototype.UpdateActionPopupHiddenFeedback=function(t){},Nt.prototype.UpdateActionTooltipClosedFeedback=function(t){},Nt.prototype.UpdateActionTooltipLaunchedFeedback=function(t,e){},Nt.prototype.isInActionPopup=function(){return this._isInActionPopup},Nt.prototype.GetClearSelectionText=function(){var t=this.getComponent();return t&&t.getOptions().translations.labelClearSelection},Nt.prototype.addClearAllActionItem=function(){var t=this.CustomTooltipManager.getActionTooltip(),e=t.getMenuItems();t&&e.length>0&&e[e.length-1].getId()===Nt.CLEAR_SELECTION_ACTION_TYPE||(this.addActionTooltipMenuItem(Nt.CLEAR_SELECTION_ACTION_TYPE,this.GetClearSelectionText(),this._actionTooltipClearListener,this),t&&t.setTooltipBorderColor(ct.DEFAULT_BORDER_COLOR))},Nt.prototype.addActionTooltipMenuItem=function(t,e,i,n){this.CustomTooltipManager.getActionTooltip().addMenuItem(new _t(this._context,t,e,i,n))},Nt.prototype._actionTooltipClearListener=function(t){var e=this.GetLogicalObject(t.target);this.getSelectionHandler(e).processClick(null,!1)&&this.fireSelectionEvent(e)},Nt.consumeEvent=function(t){t&&(t.preventDefault(),t.stopPropagation())},Nt.prototype.addComponentKeyboardHandlerAt=function(t,e){e>this._keyboardHandlers.length||t&&(this._keyboardHandlers.splice(e,0,t),e<=this._currentKeyboardHandlerIdx&&this._currentKeyboardHandlerIdx++)},Nt.prototype.removeComponentKeyboardHandler=function(t){if(t){var e=this._findHandler(t);e>-1&&(this._currentKeyboardHandlerIdx==e&&0==e?this._currentKeyboardHandlerIdx=0:e<=this._currentKeyboardHandlerIdx&&this._currentKeyboardHandlerIdx--,this._keyboardHandlers.splice(e,1))}},Nt.prototype._findHandler=function(t){for(var e=-1,i=this._keyboardHandlers.length,n=0;n<i;n++)this._keyboardHandlers[n]===t&&(e=n);return e},Nt.prototype.setCurrentKeyboardHandler=function(t){var e=this._findHandler(t);e>=0&&(this._currentKeyboardHandlerIdx=e)},Nt.prototype.IsDragCandidate=function(t){return!0},Nt.prototype.UpdateActiveElement=function(t,e){if(e||(e=t.getDisplayable?t.getDisplayable():t.getDisplayables?t.getDisplayables()[0]:t),e instanceof Q){if(t.getAriaLabel){var i=t.getAriaLabel();i&&e.setAriaProperty("label",i)}else for(;!e.getAriaRole()&&e.getParent();)e=e.getParent();e!=this.getCtx().getStage()&&this.getCtx().setActiveElement(e)}},Nt.prototype.getTouchManager=function(){return this.TouchManager},Nt.prototype.endDrag=function(){return null},Nt.prototype._hasEventInfo=function(t){return null!=t&&!!t.getNativeEvent()._eventInfo},Nt.prototype.GetEventInfo=function(t,e){return this._hasEventInfo(t)&&null!=e&&(i=this.StoreInfoByEventType(e)?t.getNativeEvent()._eventInfo[t.type]:t.getNativeEvent()._eventInfo)?i[e]:null;var i},Nt.prototype.SetEventInfo=function(t,e,i){if(null!=t&&null!=e){var n=t.getNativeEvent();if(n._eventInfo||(n._eventInfo={}),this.StoreInfoByEventType(e)){var r=t.type;n._eventInfo[r]||(n._eventInfo[r]={}),n._eventInfo[r][e]=i}else n._eventInfo[e]=i}},Nt.prototype.StoreInfoByEventType=function(t){return t!=Nt._EVENT_INFO_TOOLTIP_DISPLAYED_KEY},Nt.prototype.ProcessObjectTooltip=function(t,e,i,n,r){this.GetEventInfo(t,Nt._EVENT_INFO_TOOLTIP_DISPLAYED_KEY)||this._processShowTooltip(r,n,e,i)&&this.SetEventInfo(t,Nt._EVENT_INFO_TOOLTIP_DISPLAYED_KEY,!0)},Nt.prototype._resetExternalKeyboardFocus=function(){this._handleExternalKeyboardFocus=!1},Nt.prototype.OnFocus=function(t){this._handleExternalKeyboardFocus=!1,this._bKeyDown||t.isPropagationStopped()||(this._handleExternalKeyboardFocus=!0,this._keyboardFocusTimer||(this._keyboardFocusTimer=new ut(this._context,200,this._resetExternalKeyboardFocus,this,1)),this._keyboardFocusTimer.reset(),this._keyboardFocusTimer.start(),t.stopPropagation())},Nt.prototype.OnBlur=function(t){this._bKeyDown=!1;var e=this.getFocus();e&&e.isShowingKeyboardFocusEffect()&&e.hideKeyboardFocusEffect()},Nt.prototype.ProcessRolloverEvent=function(t,e,i){},Nt.prototype.CreateCategoryRolloverHandler=function(t,e){return new It(t,e)},Nt.prototype.GetTouchResponse=function(){return Nt.TOUCH_RESPONSE_TOUCH_START},Nt.prototype.isTouchResponseTouchStart=function(){var t=this.GetTouchResponse();if(t===Nt.TOUCH_RESPONSE_TOUCH_START)return!0;if(t===Nt.TOUCH_RESPONSE_TOUCH_HOLD)return!1;for(var e=this.getCtx().getSvgDocument().parentElement.parentElement;e;){var i=window.getComputedStyle(e);if("hidden"!==i.overflow&&(e.scrollWidth>e.clientWidth+Nt._TOUCH_RESPONSE_PADDING_CHECK&&"hidden"!==i["overflow-x"]||e.scrollHeight>e.clientHeight+Nt._TOUCH_RESPONSE_PADDING_CHECK&&"hidden"!==i["overflow-y"])||window.frameElement&&"IFRAME"==window.frameElement.nodeName)return!1;if("HTML"===e.nodeName)break;e=e.parentElement}return!0},Nt.prototype._saveTouchStart=function(t,e){this.TouchManager.getTouchIdsForObj(Nt.TOUCH_RESPONSE_TOUCH_START).length<=1&&(this.TouchManager.saveProcessedTouch(e.identifier,ft.HOVER_TOUCH_KEY,null,ft.HOVER_TOUCH_KEY,ft.HOVER_TOUCH_KEY,this.HandleTouchActionsMove,this.HandleTouchActionsEnd,this),this.HandleTouchActionsStart(t))},Nt.prototype.HandleTouchActionsStart=function(t){var e=this.GetLogicalObject(t.target),i=t instanceof dt?t.touch:t.touches[0];t instanceof dt||(this._touchMap[i.identifier]||(this._touchMap[i.identifier]={}),this._touchMap[i.identifier][ft.PREV_HOVER_OBJ]=null,e&&this.HandleTouchActionsOver(t),this._touchMap[i.identifier][ft.PREV_HOVER_OBJ]=e),e&&this.ProcessRolloverEvent(t,e,!0),this._processTouchTooltip(t),this._prevActionClear=!1},Nt.prototype.HandleTouchActionsMove=function(t){var e,i=t instanceof dt?t.touch:t.touches[0];if(t instanceof dt)e=this.GetLogicalObject(t.target);else{t.preventDefault();var n=gt.elementFromTouch(i);e=this.GetLogicalObject(n);var r=this._touchMap[i.identifier][ft.PREV_HOVER_OBJ];if(r!=e){var o;if(r)r.getDisplayable?o=r.getDisplayable():r.getDisplayables&&(o=r.getDisplayables()[0]),o&&(t.target=o,this.HandleTouchActionsOut(t,i));t.target=n,e&&this.HandleTouchActionsOver(t)}this._touchMap[i.identifier][ft.PREV_HOVER_OBJ]=e}e&&this.ProcessRolloverEvent(t,e,!0)},Nt.prototype.HandleTouchActionsEnd=function(t,e){var i,r;if(t instanceof dt){var o=this.GetLogicalObjectAndDisplayable(t.target);i=o.displayable,r=o.logicalObject,e=t.touch}else{var s;t.preventDefault(),i=gt.elementFromTouch(e),(r=this.GetLogicalObject(i))&&(r.getDisplayable?s=r.getDisplayable():r.getDisplayables&&(s=r.getDisplayables()[0])),s&&(t.target=s,this.HandleTouchActionsOut(t,e)),this._touchMap[e.identifier][ft.PREV_HOVER_OBJ]=null}var a=e.pageX,h=e.pageY;this._processTouchSelection(r,this._component?this._component.hasContextMenu():null),this._processActionPopup(i,new n(a,h))},Nt.prototype.HandleTouchActionsOver=function(t){var e=this.GetLogicalObject(t.target);e&&this.ProcessRolloverEvent(t,e,!0);var i=this.getSelectionHandler(e);i&&i.processMouseOver(e)},Nt.prototype.HandleTouchActionsOut=function(t,e){var i=this.GetLogicalObject(t.target);t instanceof dt&&t.touch,i&&this.ProcessRolloverEvent(t,i,!1);var n=this.getSelectionHandler(i);n&&n.processMouseOut(i)},Nt.prototype.getComponent=function(){return this._component},Nt.DROP_OFFSET_X_DATA_TYPE="text/_dvtDropOffsetX",Nt.DROP_OFFSET_Y_DATA_TYPE="text/_dvtDropOffsetY",Nt.prototype.isDndSupported=function(){return!1},Nt.prototype.OnDndDragStart=function(t){var e=u.getEventForSyntax(this._context,t),i=e.dataTransfer;if(!(e.dataTransfer.types&&e.dataTransfer.types.length>0)){var n=this._context.pageToStageCoords(t.pageX,t.pageY),r=this.DragSource.getDragTransferable(n.x,n.y),o=this.GetDragSourceType(t);if(null!=r&&null!=o){this._context.getTooltipManager().hideTooltip();var s=this._getDragOptions(t),a=s.dataTypes,h=s.dragStart;if(null!=a||h){var l=this.DragSource.getDragObject();if(this.ProcessSelectionEventHelper(l,!1),l.hideHoverEffect&&l.hideHoverEffect(),null!=a){Array.isArray(a)||(a=[a]);for(var _=this._getDragData(t),p=0;p<a.length;p++)i.setData(a[p],_)}var d=u.getDragFeedback(this.DragSource.getDragOverFeedback(n.x,n.y),this._context.getStage()),g=d.svg,f=this.DragSource.getDragOffset(n.x,n.y);g.style.width=d.width+"px",g.style.height=d.height+"px",g.style.left=t.pageX-f.x+"px",g.style.top=t.pageY-f.y+"px",g.style.position="absolute",g.style.fontFamily=this._context.getDefaultFontFamily(),g.style.fontSize=this._context.getDefaultFontSize(),gt.disableMouseEvents(g),document.body.appendChild(g),c(function(){document.body.removeChild(g)}),i.setDragImage(g,f.x,f.y);var y=this.GetDropOffset(t);if(y&&(i.setData(Nt.DROP_OFFSET_X_DATA_TYPE,y.x),i.setData(Nt.DROP_OFFSET_Y_DATA_TYPE,y.y)),h)h(e,this._getDragEventPayload(t))}else this._context.isLastDndEventManager(this)&&t.preventDefault()}else this._context.isLastDndEventManager(this)&&t.preventDefault()}},Nt.prototype.OnDndDrag=function(t){this._handleDragSourceEvent(t,"drag")},Nt.prototype.OnDndDragEnd=function(t){this.DragSource.setDragCandidate(null),this._handleDragSourceEvent(t,"dragEnd")},Nt.prototype.GetDragSourceType=function(t){return null},Nt.prototype.GetDragDataContexts=function(t){return[]},Nt.prototype.GetDropOffset=function(t){return null},Nt.prototype._getDragOptions=function(t){var e=this.GetDragSourceType(t);return this.getComponent().getOptions().dnd.drag[e]},Nt.prototype._getDragEventPayload=function(t){var e={};return e[this.GetDragSourceType(t)]=this.GetDragDataContexts(),e},Nt.prototype._getDragData=function(t){return JSON.stringify(this.GetDragDataContexts(!0))},Nt.prototype._handleDragSourceEvent=function(t,e){if(null!=this.GetDragSourceType(t)){var i=this._getDragOptions(t)[e];if(i)i(u.getEventForSyntax(this._context,t))}},Nt.prototype.OnDndDragEnter=function(t){this._handleDropTargetEvent(t,"dragEnter",!0)},Nt.prototype.OnDndDragOver=function(t){this._handleDropTargetEvent(t,"dragOver",!0)},Nt.prototype.OnDndDragLeave=function(t){this._handleDropTargetEvent(t,"dragLeave",!1)},Nt.prototype.OnDndDrop=function(t){this._handleDropTargetEvent(t,"drop",!1)},Nt.prototype.GetDropTargetType=function(t){return null},Nt.prototype.GetDropEventPayload=function(t){return null},Nt.prototype.ShowDropEffect=function(t){},Nt.prototype.ShowRejectedDropEffect=function(t){this.ClearDropEffect()},Nt.prototype.ClearDropEffect=function(){},Nt.prototype._getDropOptions=function(t){var e=this.GetDropTargetType(t);return this.getComponent().getOptions().dnd.drop[e]},Nt.prototype._handleDropTargetEvent=function(t,e,i){var n=this._handleDropTargetEventHelper(t,e);n||t.preventDefault(),!n&&i?this.ShowDropEffect(t):n&&i?this.ShowRejectedDropEffect(t):this.ClearDropEffect()},Nt.prototype._handleDropTargetEventHelper=function(t,e){if(null==this.GetDropTargetType(t))return!0;var i=u.getEventForSyntax(this._context,t),n=this._getDropOptions(t),r=n[e];if(r){var o=r(i,this.GetDropEventPayload(t));if(t.getNativeEvent().defaultPrevented)return!1;if(null!=o&&!this._context.isCustomElement())return o}var s=n.dataTypes;if(null!=s){Array.isArray(s)||(s=[s]);for(var a=0;a<s.length;a++)if(i.dataTransfer.types&&i.dataTransfer.types.indexOf(s[a])>=0)return!1}return!0},Nt.prototype.DispatchElementEvent=function(t,e){this.getCtx().getSvgDocument().dispatchEvent(new CustomEvent(t,{detail:e}))};const Rt=function(t,e,i,n){this._customTooltipManager=e,this.Init(t,i,n)};i.createSubclass(Rt,Nt),Rt.prototype.OnClickInternal=function(t){var e=t.target;this._handleMenuClick(e)},Rt.prototype.HandleImmediateTouchStartInternal=function(t,e){t.blockTouchHold(),this._handleMenuClick(t.target)},Rt.prototype.HandleTouchClickInternal=function(t){var e=t.target;this._handleMenuClick(e)},Rt.prototype._handleMenuClick=function(t){var e=this._customTooltipManager._actionPopupObj,i=t._menu;i&&(this._customTooltipManager.closeActionTooltip(),i.FireActionTooltipItem(e))};const Dt=function(t,e){this.Init(t,e)};i.createSubclass(Dt,i),Dt.prototype.Init=function(t,e){this._context=t,this._id=e,this._actionTooltip=new ct(this._context,this._id+"ActionPopup")},Dt.prototype.GetRichTooltipManager=function(){if(!this._RichTooltipManager){var t=this._id+"Tooltip";this._RichTooltipManager=new pt(this._context,t),this._RichTooltipManager.InitializeTooltipElem();var e=this._RichTooltipManager.GetStoredContext();if(e)new Rt(e,this,null,null).addListeners(this._actionTooltip)}return this._RichTooltipManager},Dt.prototype.clearActionTooltip=function(){this._actionTooltip&&this._actionTooltip.clearContent()},Dt.prototype.getActionTooltip=function(){return this._actionTooltip},Dt.prototype.hideTooltip=function(){this.clearActionTooltip(),this._RichTooltipManager&&this._RichTooltipManager.hideTooltip()},Dt.prototype.closeActionTooltip=function(){var t=yt.newActionTooltipEvent("actionTooltipClosed",this._actionPopupObj);this.FireListener(t),this._actionPopupObj=null,this.hideTooltip()},Dt.prototype.displayActionPopup=function(){var t=this.getActionTooltip();return!(!t||!t.hasMenuItems())},Dt.prototype.startActionPopupAtPosition=function(t,e,i,n){var r=this.getActionTooltip();if(r){this.GetRichTooltipManager().showRichElementAtPosition(t,e,r,!0,!1);var o=yt.newActionTooltipEvent("actionTooltipStarted",i);this.FireListener(o),this._actionPopupObj=i}},Dt.prototype.addTooltipEventListener=function(t,e,i){var n=this._getListeners(t,!0);n.push(e),n.push(i)},Dt.prototype.removeTooltipEventListener=function(t,e,i){var n=this._getListeners(t,!1);if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===e&&n[r+1]===i){n.splice(r,2);break}},Dt.prototype._getListeners=function(t,e){if(!this._listenerObj){if(!e)return null;this._listenerObj={}}var i=t,n=this._listenerObj[i];return!n&&e&&(n=[],this._listenerObj[i]=n),n},Dt.prototype.FireListener=function(t){var e=this._getListeners(t.type,!1);if(e)for(var i=0;i<e.length;i+=2){var n=e[i+1];e[i].call(n,t)}},Dt._formatTextString=function(t){var e="";if(!t)return e;var i=(t=t.replace(/\n/g,"<br>")).split("<br>");if(i){for(var n=new Array,r=0;r<i.length;r++){var o=i[r];null!=o&&""!=o&&n.push(o)}for(r=0;r<n.length;r++)e+=n[r],r<n.length-1&&(e+="\n")}return e};const xt=function(t,e){this._id="mask"+xt._uniqueSeed++,this._gradient=t,this._bounds=e};i.createSubclass(xt,i),xt._uniqueSeed=0,xt.prototype.getId=function(){return this._id},xt.prototype.getGradient=function(){return this._gradient},xt.prototype.getBounds=function(){return this._bounds};const Mt=function(t,e,i,n,r){this.Init(t,e,i,n,r)};i.createSubclass(Mt,Q),Mt._uniqueSeed=0,Mt.prototype.Init=function(t,e,i,n,r){Mt.superclass.Init.call(this,t,"use",r);var o=n.getId();if(o||(o="use"+Mt._uniqueSeed++,n.setId(o)),t.existsGlobalDefReference(o))t.increaseGlobalDefReference(o);else{var s=n.getElem();u.setAttrNullNS(s,"id",o),t.appendDefs(s),t.increaseGlobalDefReference(o)}this._targetId=o,u.setHref(this._elem,u.getUrlPathById(o)),this.setX(e).setY(i)},Q.defineProps(Mt,{x:{value:0},y:{value:0}}),Mt.prototype.destroy=function(){this.getCtx().decreaseGlobalDefReference(this._targetId),Mt.superclass.destroy.call(this)};const wt=function(t,e,i){var n=e?e+"_svg":null;this._root=u.createSvgDocument(n),t.appendChild(this._root),this._parentDiv=t,this.addSizingSvg(),this._appAriaRole=this._parentDiv.getAttribute("role"),this._role=this._appAriaRole,this._referenceDiv=i,this._defs=A.createElement("defs"),u.appendChildElem(this._root,this._defs),this._keyboardFocusArray=[],this._keyboardFocusIndex=0,this._dndEventManagers=[],this.Init(this._root,e),u.appendChildElem(this._root,this._stage.getElem()),this.oj=null};i.createSubclass(wt,i),wt._DEFAULT_FONT_FAMILY="-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', Arial, sans-serif",wt._DEFAULT_FONT_WEIGHT="400",wt._id=0,wt.DEFAULT_FONT_SIZE=j.DEFAULT_FONT_SIZE;const Lt=Symbol("componentAriaLabel");wt.prototype.Init=function(t,e){var i=(e||"_dvt"+wt._id)+"_stage";this._stage=new tt(this,t,i),wt._id++,this._normalizedFontFamilyCache={},this.setDefaultFontSize(wt.DEFAULT_FONT_SIZE),this.setDefaultFontFamily(wt._DEFAULT_FONT_FAMILY),this.setDefaultFontWeight(wt._DEFAULT_FONT_WEIGHT),this._tooltipManagers=new Object,this._customTooltipManagers=new Object,this._scheduler=null,this._globalDefsMap={}},wt.prototype.getDefaultFontFamily=function(){return this._defaultFontFamily},wt.prototype.setDefaultFontFamily=function(t){t&&(this._defaultFontFamily=this._normalizeFontFamily(t),u.setAttrNullNS(this._stage.getElem(),"font-family",this.getDefaultFontFamily()))},wt.prototype.isDefaultFontFamily=function(t){return!!t&&this._defaultFontFamily===this._normalizeFontFamily(t)},wt.prototype.getDefaultFontSize=function(){return this._defaultFontSize},wt.prototype.getThemeBehavior=function(){return e.parseJSONFromFontFamily("oj-theme-json").behavior},wt.prototype.setDefaultFontSize=function(t){t&&(this._defaultFontSize=t,u.setAttrNullNS(this._stage.getElem(),"font-size",this.getDefaultFontSize()))},wt.prototype.getDefaultFontWeight=function(){return this._defaultFontWeight},wt.prototype.setDefaultFontWeight=function(t){t&&(this._defaultFontWeight=t,u.setAttrNullNS(this._stage.getElem(),"font-weight",this.getDefaultFontWeight()))},wt.prototype._normalizeFontFamily=function(t){var e=this._normalizedFontFamilyCache[t];return e||(e=t.replace(/, /g,",").replace(/"/g,"'"),this._normalizedFontFamilyCache[t]=e),e},wt.prototype.getStage=function(){return this._stage},wt.prototype.isReadyToRender=function(){if(this._destroyed)return!1;if(null!=this._parentDiv.offsetParent)return!0;var t=window.getComputedStyle(this._parentDiv);return!(!t||"fixed"!=t.position)&&"none"!=t.display},wt.prototype.getSvgDocument=function(){return this._root},wt.prototype.getSizingSvg=function(){return this._sizingSvg},wt.prototype.addSizingSvg=function(){this._sizingSvg||"blink"!==r.engine&&"safari"!==r.browser||(this._root.style.position="absolute",this._root.style.left="0px",this._root.style.top="0px",this._root.style.padding="inherit",this._sizingSvg=document.createElementNS(u.SVG_NS,"svg"),this._sizingSvg.style.width="100%",this._sizingSvg.style.height="100%",this.getContainer().appendChild(this._sizingSvg))},wt.prototype.removeSizingSvg=function(){this._sizingSvg&&(this._root.style.removeProperty("position"),this._root.style.removeProperty("left"),this._root.style.removeProperty("top"),this._root.style.removeProperty("padding"),this.getContainer().removeChild(this._sizingSvg),this._sizingSvg=null)},wt.prototype.setReadingDirection=function(t){this._readingDirection=t},wt.prototype.getReadingDirection=function(){return this._readingDirection},wt.prototype.existsGlobalDefReference=function(t){return this._globalDefsMap[t]>0},wt.prototype.increaseGlobalDefReference=function(t){null!=t&&(this._globalDefsMap[t]?this._globalDefsMap[t]++:this._globalDefsMap[t]=1)},wt.prototype.decreaseGlobalDefReference=function(t){if(null!=t){var e=this._globalDefsMap[t];e&&(1==e?delete this._globalDefsMap[t]:this._globalDefsMap[t]=e-1),this._globalDefsMap[t]||this.removeDefsById(t)}},wt.prototype.getTooltipManager=function(t){return t||(t="_dvtTooltip"),t+=this.getStage().getId(),this._tooltipManagers[t]||(this._tooltipManagers[t]=new it(this,t)),this._tooltipManagers[t]},wt.prototype.hideTooltips=function(){for(var t in this._tooltipManagers)this._tooltipManagers[t].hideTooltip()},wt.prototype.releaseTooltipResources=function(){for(var t in this._tooltipManagers)this._tooltipManagers[t].releaseTooltipResources()},wt.prototype.getScheduler=function(){return this._scheduler||(this._scheduler=new et(this)),this._scheduler},wt.prototype.pageToStageCoords=function(t,e){var i=this.getStageAbsolutePosition(),r=t-i.x,o=e-i.y;return new n(r,o)},wt.prototype.stageToPageCoords=function(t,e){var i=this.getStageAbsolutePosition(),r=t+i.x,o=e+i.y;return new n(r,o)},wt.prototype.getStageAbsolutePosition=function(){var t=this._referenceDiv;if(!t){var e=this.getStage().getSVGRoot();t=e.parentNode?e.parentNode:e}var i=r.getElementPosition(t);return new n(parseInt(i.x),parseInt(i.y))},wt.prototype.isOffscreen=function(t){if(null!=this._bOffscreen&&!t)return this._bOffscreen;var e,i=this.getStage().getSVGRoot();try{var n=i.getBoundingClientRect();e=n.bottom<0||n.right<0||n.top>(window.innerHeight||document.documentElement.clientHeight)||n.left>(window.innerWidth||document.documentElement.clientWidth)}catch(t){e=!0}return t||(this._bOffscreen=e),e},wt.prototype.resetIsOffscreen=function(){this._bOffscreen=null},wt.prototype.getCustomTooltipManager=function(t){return t||(t="_dvtCustomTooltip"),t+=this.getStage().getId(),this._customTooltipManagers[t]||(this._customTooltipManagers[t]=new Dt(this,t)),this._customTooltipManagers[t]},wt.prototype.appendDefs=function(t){u.appendChildElem(this._defs,t)},wt.prototype.getDefs=function(){return this._defs},wt.prototype.removeDefs=function(t){t._obj&&t._obj.destroy(),this._defs.removeChild(t)},wt.prototype.removeDefsById=function(t){for(var e=this._defs.childNodes,i=e.length,n=0;n<i;n++){var r=e[n];if(r.id===t)return void this.removeDefs(r)}},wt.prototype.getRootAttribute=function(t){return u.getAttrNullNS(this._root,t)},wt.resetUniqueSeeds=function(){D._counter=0,p._uniqueSeed=0,A._uniqueSeed=0,xt._uniqueSeed=0,Mt._uniqueSeed=0,r._bInitialized=!1},wt.resetCaches=function(){st.clearCaches()},wt.prototype.setActiveElement=function(t){this._activeElement&&(u.removeAttrNullNS(this._activeElement.getElem(),"id"),this._activeElement=null);var e=t.getElem(),i=u.getAttrNullNS(e,"id");i||(i=wt._generateActiveElementId(t),u.setAttrNullNS(e,"id",i),this._activeElement=t),t.applyAriaProperties(),"application"==this._role&&this._parentDiv.setAttribute("aria-activedescendant",i)},wt._generateActiveElementId=function(t){var e="_dvtActiveElement"+(r.isEnvironmentTest()?"":Math.floor(1e9*Math.random())),i=t.getId();return"string"==typeof i||i instanceof String||"number"==typeof i||i instanceof Number?e+"_"+i:e},wt.prototype.setAriaLabel=function(t){this._parentDiv.getAttribute("aria-label")&&!this._parentDiv[Lt]||(this._parentDiv[Lt]=!0,t?this._parentDiv.setAttribute("aria-label",O.processAriaLabel(t)):this._parentDiv.removeAttribute("aria-label"))},wt.prototype.setAriaRole=function(t){this._appAriaRole||(t?this._parentDiv.setAttribute("role",t):this._parentDiv.removeAttribute("role"),this._role=t)},wt.prototype.setTooltipAttachedCallback=function(t){this._tooltipAttachedCallback=t},wt.prototype.getTooltipAttachedCallback=function(){return this._tooltipAttachedCallback},wt.prototype.resetCurrentKeyboardFocus=function(t){this._keyboardFocusArray&&0!==this._keyboardFocusArray.length&&(t.keyCode==P.TAB&&t.shiftKey?this.setCurrentKeyboardFocus(this._keyboardFocusArray[this._keyboardFocusArray.length-1]):t.keyCode==P.TAB&&this.setCurrentKeyboardFocus(this._keyboardFocusArray[0]))},wt.prototype.setKeyboardFocusArray=function(t){(this._keyboardFocusArray=t,this._keyboardFocusIndex=0,t.length>0)&&(this._root.parentNode._currentObj=this._keyboardFocusArray[this._keyboardFocusIndex])},wt.prototype.getCurrentKeyboardFocus=function(){return this._keyboardFocusArray.length<=this._keyboardFocusIndex?null:this._keyboardFocusArray[this._keyboardFocusIndex]},wt.prototype.setCurrentKeyboardFocus=function(t){var e=this._keyboardFocusArray.indexOf(t);if(-1==e)return!1;var i=this._keyboardFocusArray[e];return this._keyboardFocusIndex=e,this._root.parentNode._currentObj=i,!0},wt.prototype.nextKeyboardFocus=function(){var t=this._keyboardFocusArray[this._keyboardFocusIndex+1];return t?(this._keyboardFocusIndex++,this._root.parentNode._currentObj=t,t):null},wt.prototype.previousKeyboardFocus=function(){var t=this._keyboardFocusArray[this._keyboardFocusIndex-1];return t?(this._keyboardFocusIndex--,this._root.parentNode._currentObj=t,t):null},wt.prototype.getNumberConverter=function(t){var e=this.getLocaleHelpers();return e.createNumberConverter?e.createNumberConverter(t):null},wt.prototype.getLocaleHelpers=function(){return this._localeHelpers?this._localeHelpers:{}},wt.prototype.setLocaleHelpers=function(t){this._localeHelpers=t},wt.requestAnimationFrame=c,wt.cancelAnimationFrame=_,wt.prototype.getContainer=function(){return this._parentDiv},wt.prototype.createOverlayDiv=function(){var t=document.createElement("div");return t.style.top="-100%",t.style.position="relative",t},wt.prototype.setOverlayAttachedCallback=function(t){this._overlayAttachedCallback=t},wt.prototype.getOverlayAttachedCallback=function(){return this._overlayAttachedCallback},wt.prototype.addDndEventManager=function(t){this._dndEventManagers.push(t)},wt.prototype.removeDndEventManager=function(t){var e=this._dndEventManagers.indexOf(t);this._dndEventManagers.splice(e,1)},wt.prototype.isLastDndEventManager=function(t){return this._dndEventManagers[this._dndEventManagers.length-1]===t},wt.prototype.setFixContextCallback=function(t){this._fixContextCallback=t},wt.prototype.fixRendererContext=function(t){return this._fixContextCallback?this._fixContextCallback(t):t},wt.prototype.setCustomElement=function(t){this._customElement=t},wt.prototype.isCustomElement=function(){return this._customElement},wt.prototype.destroy=function(){this._destroyed=!0},wt.prototype.setJetProperties=function(t){this._jetProps=t,Object.assign(this,t)},wt.prototype.getJetProperties=function(){return this._jetProps},wt.prototype.createContext=function(t,e,i){var n=new wt(t,e,i);return n.setJetProperties(this.getJetProperties()),n};const Pt=function(){this.Init()};i.createSubclass(Pt,i),Pt.linear=function(t){return t},Pt.quadraticIn=function(t){return Pt.PolyIn(t,2)},Pt.quadraticOut=function(t){return Pt.PolyOut(t,2)},Pt.quadraticInOut=function(t){return Pt.PolyInOut(t,2)},Pt.cubicIn=function(t){return Pt.PolyIn(t,3)},Pt.cubicOut=function(t){return Pt.PolyOut(t,3)},Pt.cubicInOut=function(t){return Pt.PolyInOut(t,3)},Pt.backOut=function(t,e){return e||(e=1.70158),1-(t=1-t)*t*((e+1)*t-e)},Pt.backIn=function(t,e){return e||(e=1.70158),t*t*((e+1)*t-e)},Pt.elasticIn=function(t,e,i){return t<=0||t>=1?t:(i||(i=.45),!e||e<1?(e=1,n=i/4):n=i/(2*Math.PI)*Math.asin(1/e),-e*Math.pow(2,10*(t-=1))*Math.sin((t-n)*(2*Math.PI)/i));var n},Pt.elasticOut=function(t,e,i){return 1-Pt.elasticIn(1-t,e,i)},Pt.PolyIn=function(t,e){return t<0?0:t>1?1:Math.pow(t,e)},Pt.PolyOut=function(t,e){return t<0?0:t>1?1:1-Math.pow(1-t,e)},Pt.PolyInOut=function(t,e){return t<0?0:t>1?1:t<.5?.5*Math.pow(2*t,e):.5*(2-Math.pow(2*(1-t),e))},Pt.prototype.Init=function(){};const Ht=function(){this.Init()};i.createSubclass(Ht,i),Ht.TYPE_NUMBER="typeNumber",Ht.TYPE_MATRIX="typeMatrix",Ht.TYPE_NUMBER_ARRAY="typeNumberArray",Ht.TYPE_COLOR="typeColor",Ht.TYPE_COLOR_ARRAY="typeColorArray",Ht.TYPE_GROW_POLYLINE="typeGrowPolyline",Ht.TYPE_RECTANGLE="typeRectangle",Ht.TYPE_POINT="typePoint",Ht.TYPE_PATH="typePath",Ht.TYPE_GROW_PATH="typeGrowPath",Ht.TYPE_FILL="typeFill",Ht.TYPE_STROKE="typeStroke",Ht.TYPE_POLYLINE="typePolyline",Ht.interpolate=function(t,e,i,n,r){var o=Ht._getInterpolator(e);return o?o(t,i,n,r):n},Ht._getInterpolator=function(t){return Ht._map[t]},Ht.InterpolateNumber=function(t,e,i,n){return S.interpolateNumber(e,i,n)},Ht.InterpolateNumberArray=function(t,e,i,n){for(var r=e.length,o=i.length,s=[],a=0;a<Math.max(r,o);a++){var h,l;h=a<r?e[a]:e[r-1],l=a<o?i[a]:i[o-1],s.push(Ht.InterpolateNumber(t,h,l,n))}return s},Ht.InterpolateMatrix=function(t,e,i,n){var r=Ht.InterpolateNumber(t,e.getA(),i.getA(),n),o=Ht.InterpolateNumber(t,e.getB(),i.getB(),n),s=Ht.InterpolateNumber(t,e.getC(),i.getC(),n),a=Ht.InterpolateNumber(t,e.getD(),i.getD(),n),h=Ht.InterpolateNumber(t,e.getTx(),i.getTx(),n),u=Ht.InterpolateNumber(t,e.getTy(),i.getTy(),n);return new l(r,o,s,a,h,u)},Ht.InterpolateColor=function(t,e,i,n){return T.interpolateColor(e,i,n)},Ht.InterpolateColorArray=function(t,e,i,n){for(var r=e.length,o=i.length,s=[],a=0;a<Math.max(r,o);a++){var h,l;h=a<r?e[a]:e[r-1],l=a<o?i[a]:i[o-1],s.push(Ht.InterpolateColor(t,h,l,n))}return s},Ht.InterpolateGrowPolyline=function(t,e,i,n){if(0===n)return[i[0],i[1]];if(1===n)return i;for(var r,o=i.length,s=[i[0],i[1]],a=n*Ht.CalcPolylineLength(i),h=0,l=2;l<o-1;l+=2){var u=i[l-2],c=i[l-1],_=i[l],p=i[l+1];if(h+(r=Ht.CalcPolylineLength([u,c,_,p]))>a){var d=(a-h)/r,g=_-u,f=p-c;s.push(u+d*g),s.push(c+d*f);break}h+=r,s.push(_),s.push(p)}return s},Ht.InterpolateGrowPath=function(t,e,i,n){if(0===n)return[i[0],i[1]];if(1===n)return i;for(var r,o,s,a,h,l,u,c,_,p=i.length,d=[],g=n*Ht.CalcPathLength(i),f=0,y=0;y<p;y++){var v,S=i[y];switch(S){case"M":v=[c=o=i[++y],_=s=i[++y],c,_];break;case"L":v=[c,_,o=i[++y],s=i[++y]];break;case"Q":a=i[++y],h=i[++y],v=[c,_,o=i[++y],s=i[++y]];break;case"C":a=i[++y],h=i[++y],l=i[++y],u=i[++y],v=[c,_,o=i[++y],s=i[++y]]}if(f+(r=Ht.CalcPolylineLength(v))>g){var T=(g-f)/r;switch(d.push(S),S){case"Q":d.push(c+T*(a-c),_+T*(h-_));break;case"C":d.push(c+T*(a-c),_+T*(h-_),c+T*(l-c),_+T*(u-_))}d.push(c+T*(o-c),_+T*(s-_));break}switch(f+=r,d.push(S),S){case"Q":d.push(a,h);break;case"C":d.push(a,h,l,u)}d.push(o),d.push(s),c=o,_=s}return d},Ht.CalcPolylineLength=function(t){for(var e,i,n,r,o=0,s=0;s<t.length;s+=2){if(n=t[s],r=t[s+1],s>0)if(n===e)o+=Math.abs(r-i);else if(r===i)o+=Math.abs(n-e);else{var a=Math.abs(n-e),h=Math.abs(r-i);o+=Math.sqrt(a*a+h*h)}e=n,i=r}return o},Ht.CalcPathLength=function(t){for(var e,i,n,r,o=0,s=0;s<t.length;){switch(t[s]){case"M":e=n=t[s+1],i=r=t[s+2],s+=3;continue;case"L":n=t[s+1],r=t[s+2],s+=3;break;case"Q":n=t[s+3],r=t[s+4],s+=5;break;case"C":n=t[s+5],r=t[s+6],s+=7}if(s>0)if(n===e)o+=Math.abs(r-i);else if(r===i)o+=Math.abs(n-e);else{var a=Math.abs(n-e),h=Math.abs(r-i);o+=Math.sqrt(a*a+h*h)}e=n,i=r}return o},Ht.InterpolateRectangle=function(t,e,i,n){var r=Ht.InterpolateNumber(t,e.x,i.x,n),o=Ht.InterpolateNumber(t,e.y,i.y,n),s=Ht.InterpolateNumber(t,e.w,i.w,n),a=Ht.InterpolateNumber(t,e.h,i.h,n);return new m(r,o,s,a)},Ht.InterpolatePoint=function(t,e,i,r){var o=Ht.InterpolateNumber(t,e.x,i.x,r),s=Ht.InterpolateNumber(t,e.y,i.y,r);return new n(o,s)},Ht.InterpolatePath=function(t,e,i,n){var r=e.length,o=i.length;if(r!=o)return i;for(var s=[],a=0,h=0;a<r&&h<o;){var l=e[a],u=i[h],c=!isNaN(l),_=!isNaN(u);c||_?c&&_&&s.push(Ht.InterpolateNumber(t,l,u,n)):l===u&&s.push(l),a++,h++}return s},Ht.InterpolateFill=function(t,e,i,n){if(e instanceof K&&i instanceof K){var r=Ht.InterpolateColor(t,e.getColor(),i.getColor(),n),o=Ht.InterpolateNumber(t,e.getAlpha(),i.getAlpha(),n);return new K(r,o)}return i},Ht.InterpolateStroke=function(t,e,i,n){if(e instanceof z&&i instanceof z){var r=Ht.InterpolateColor(t,e.getColor(),i.getColor(),n),o=Ht.InterpolateNumber(t,e.getAlpha(),i.getAlpha(),n),s=Ht.InterpolateNumber(t,e.getWidth(),i.getWidth(),n);return new z(r,o,s,i.isFixedWidth(),i.getDashProps(),i.getLineProps())}return i},Ht.InterpolatePolyline=function(t,e,i,n){for(var r=e.length,o=i.length,s=[],a=0;a<Math.max(r,o);a++){var h,l,u=2;a%2==1&&(u=1),h=a<r?e[a]:e[r-u],l=a<o?i[a]:i[o-u],s.push(Ht.InterpolateNumber(t,h,l,n))}if(o<r){var c=s.length,_=s[c-2],p=s[c-1];for(a=c-4;a>=0;a-=2){var d=s[a],g=s[a+1];if(d!=_||g!=p)break;s.splice(a,2)}}return s},Ht.prototype.Init=function(){},(Ht._map={})[Ht.TYPE_NUMBER]=Ht.InterpolateNumber,Ht._map[Ht.TYPE_MATRIX]=Ht.InterpolateMatrix,Ht._map[Ht.TYPE_NUMBER_ARRAY]=Ht.InterpolateNumberArray,Ht._map[Ht.TYPE_COLOR]=Ht.InterpolateColor,Ht._map[Ht.TYPE_COLOR_ARRAY]=Ht.InterpolateColorArray,Ht._map[Ht.TYPE_GROW_POLYLINE]=Ht.InterpolateGrowPolyline,Ht._map[Ht.TYPE_RECTANGLE]=Ht.InterpolateRectangle,Ht._map[Ht.TYPE_POINT]=Ht.InterpolatePoint,Ht._map[Ht.TYPE_PATH]=Ht.InterpolatePath,Ht._map[Ht.TYPE_GROW_PATH]=Ht.InterpolateGrowPath,Ht._map[Ht.TYPE_FILL]=Ht.InterpolateFill,Ht._map[Ht.TYPE_STROKE]=Ht.InterpolateStroke,Ht._map[Ht.TYPE_POLYLINE]=Ht.InterpolatePolyline;var Ft=function(t,e,i){this.type=t,this.setter=e,this.destVal=i,this.startVal=null};const kt=function(t,e,i,n){this._context=t,this._scheduler=t.getScheduler(),this._duration=e||.5,this._delay=i||0,this.setEasing(n),this._bRunning=!1,this._startTime=null,this._progress=0,this._state=0,this._onInit=null,this._onInitObj=null,this._onEnd=null,this._onEndObj=null,this._context=t,this._props=new Map};kt.TYPE_NUMBER=Ht.TYPE_NUMBER,kt.TYPE_MATRIX=Ht.TYPE_MATRIX,kt.TYPE_NUMBER_ARRAY=Ht.TYPE_NUMBER_ARRAY,kt.TYPE_COLOR=Ht.TYPE_COLOR,kt.TYPE_COLOR_ARRAY=Ht.TYPE_COLOR_ARRAY,kt.TYPE_GROW_POLYLINE=Ht.TYPE_GROW_POLYLINE,kt.TYPE_RECTANGLE=Ht.TYPE_RECTANGLE,kt.TYPE_POINT=Ht.TYPE_POINT,kt.TYPE_PATH=Ht.TYPE_PATH,kt.TYPE_GROW_PATH=Ht.TYPE_GROW_PATH,kt.TYPE_FILL=Ht.TYPE_FILL,kt.TYPE_STROKE=Ht.TYPE_STROKE,kt.TYPE_POLYLINE=Ht.TYPE_POLYLINE,kt.prototype.addProp=function(t,e,i,n,r){var o=this._getPropItem(e,i);o?o.destVal=r:(o=new Ft(t,n,r),this._setPropItem(e,i,o))},kt.prototype.getDestVal=function(t,e,i){var n=this._getPropItem(t,e);return n?n.destVal:i?e.call(t):null},kt.prototype.setEasing=function(t){this._easing=t||Pt.cubicInOut},kt.prototype.getOnEnd=function(){return[this._onEnd,this._onEndObj]},kt.prototype.setOnEnd=function(t,e){this._onEnd=t,this._onEndObj=e||null},kt.prototype.getOnInit=function(){return[this._onInit,this._onInitObj]},kt.prototype.setOnInit=function(t,e){this._onInit=t,this._onInitObj=e||null},kt.prototype.isRunning=function(){return this._bRunning},kt.prototype.play=function(t){t?this._play():this._animationRequestId=wt.requestAnimationFrame(i.createCallback(this,this._play))},kt.prototype.processTime=function(t){if(this._bRunning){var e=t-this._startTime;if(e<0)return!1;var i=1e3*this._getTotalDuration(),n=1;0!=i&&(n=e/i),n>1&&(n=1),this._processStep(n);var r=n>=1;return r&&this._processEnd(),r}},kt.prototype.stop=function(t){this._animationRequestId&&(wt.cancelAnimationFrame(this._animationRequestId),this._animationRequestId=null),this._scheduler.removeScheduled(this),t&&this._processStep(1),this._processEnd()},kt.prototype._getPropItem=function(t,e){var i=this._props.get(t);return i?i.get(e):null},kt.prototype._setPropItem=function(t,e,i){var n=this._props.get(t);n||(n=new Map,this._props.set(t,n)),n.set(e,i)},kt.prototype._getTotalDuration=function(){return this._delay+this._duration},kt.prototype._play=function(){this._bRunning||(this._bRunning=!0,this._processPlay(),this._scheduler.addScheduled(this)),this._context.isOffscreen()&&this.stop(!0),this._animationRequestId=null},kt.prototype._processEnd=function(){this._bRunning&&(this._bRunning=!1,this._progress=1,this._state=1),this._onEnd&&!this._ended&&(this._onEnd.call(this._onEndObj),this._ended=!0)},kt.prototype._processInitialize=function(){this._onInit&&this._onInit.call(this._onInitObj),this._props.forEach(function(t,e){t.forEach(function(t,i){t.startVal=i.call(e)})}),this._state=1},kt.prototype._processPlay=function(){if(0==this._state&&this._processInitialize(),1==this._state)this._startTime=(new Date).getTime(),this._bRunning=!0,this._progress=0;else{var t=1e3*this._progress*this._getTotalDuration();this._startTime=(new Date).getTime()-t}this._state=2},kt.prototype._processStep=function(t){this._progress=t;var e=t;if(this._delay>0){var i=this._delay/this._getTotalDuration(),n=1-i;e=0===n?.5:Math.min(1,(t-i)/n)}if(e>=0){this._easing&&(e=this._easing(e));var r=this._context;this._props.forEach(function(t,i){t.forEach(function(t,n){var o=Ht.interpolate(r,t.type,t.startVal,t.destVal,e);t.setter.call(i,o)})})}};const Gt=function(t){this.Init(t)};i.createSubclass(Gt,i),Gt.appendOnEnd=function(t,e,i){if(t&&e){var n=t.getOnEnd();if(n&&n[0]){t.setOnEnd(function(){n[0].call(n[1]),e.call(i)})}else t.setOnEnd(e,i)}},Gt.prependOnInit=function(t,e,i){if(t&&e&&t.getOnInit&&t.setOnInit){var n=t.getOnInit();if(n&&n[0]){t.setOnInit(function(){e.call(i),n[0].call(n[1])})}else t.setOnInit(e,i)}},Gt.prototype.Init=function(t){this.Context=t,this._onEnd=null,this._onEndObj=null},Gt.prototype.setOnEnd=function(t,e){this._onEnd=t,this._onEndObj=e||null,this.OnEndUpdated()},Gt.prototype.CallOnEnd=function(){this._onEnd&&!this._ended&&(this._onEnd.call(this._onEndObj),this._ended=!0)},Gt.prototype.getOnEnd=function(){return[this._onEnd,this._onEndObj]},Gt.prototype.OnEndUpdated=function(){},Gt.prototype.getDuration=function(){return 0},Gt.prototype.initialize=function(){},Gt.prototype.play=function(t){},Gt.prototype.stop=function(t){};const Bt=function(t){var e;arguments&&arguments.length>1&&arguments[1]instanceof Array?e=arguments[1]:(e=[].slice.call(arguments)).splice(0,1),this.Init(t,e)};i.createSubclass(Bt,Gt),Bt.prototype.Init=function(t,e){Bt.superclass.Init.call(this,t),this._runningCounter=0,this._arPlayables=e||[],this._bStarted=!1},Bt.prototype.getDuration=function(){for(var t=0,e=0;e<this._arPlayables.length;e++){var i=this._arPlayables[e];i instanceof Gt&&(t=Math.max(t,i.getDuration()))}return t},Bt.prototype.initialize=function(){for(var t=0;t<this._arPlayables.length;t++)this._arPlayables[t]instanceof Gt&&this._arPlayables[t].initialize()},Bt.prototype.play=function(t){this._arPlayables.length>0?t?this._play():(this.initialize(),this._animationRequestId=wt.requestAnimationFrame(i.createCallback(this,this._play))):this._animationRequestId=wt.requestAnimationFrame(i.createCallback(this,this.DoEnd))},Bt.prototype._play=function(){var t;if(!this._bStarted)for(var e=0;e<this._arPlayables.length;e++)(t=this._arPlayables[e])instanceof Gt&&(this._runningCounter++,Gt.appendOnEnd(t,this.OnPlayableEnd,this));for(e=0;e<this._arPlayables.length;e++)(t=this._arPlayables[e])instanceof Gt&&t.play(!0);this._bStarted=!0,this._animationRequestId=null},Bt.prototype.stop=function(t){if(this._animationRequestId)return wt.cancelAnimationFrame(this._animationRequestId),void this.DoEnd();for(var e,i=0;i<this._arPlayables.length;i++)(e=this._arPlayables[i])instanceof Gt&&e.stop(t)},Bt.prototype.OnPlayableEnd=function(){this._runningCounter--,this._runningCounter<1&&this.DoEnd()},Bt.prototype.DoEnd=function(){this.CallOnEnd(),this._animationRequestId=null};const Ut=function(t){var e;arguments&&arguments.length>1&&arguments[1]instanceof Array?e=arguments[1]:(e=[].slice.call(arguments)).splice(0,1),this.Init(t,e)};i.createSubclass(Ut,Gt),Ut.prototype.Init=function(t,e){Ut.superclass.Init.call(this,t),this._arPlayables=e||[],this._currIndex=-1,this._bStarted=!1},Ut.prototype.getDuration=function(){for(var t=0,e=0;e<this._arPlayables.length;e++){var i=this._arPlayables[e];i instanceof Gt&&(t+=i.getDuration())}return t},Ut.prototype.initialize=function(){this._arPlayables.length>0&&this._arPlayables[0]instanceof Gt&&this._arPlayables[0].initialize()},Ut.prototype.play=function(t){this._arPlayables&&this._arPlayables.length>0?t?this._play():(this.initialize(),this._animationRequestId=wt.requestAnimationFrame(i.createCallback(this,this._play))):this._animationRequestId=wt.requestAnimationFrame(i.createCallback(this,this.DoEnd))},Ut.prototype._play=function(){if(this._bStarted){var t=this._arPlayables[this._currIndex];t instanceof Gt&&t.play(!0)}else{var e,i,n;this._arPlayables[0]instanceof Gt&&(e=this._arPlayables[0]),this._arPlayables[this._arPlayables.length-1]instanceof Gt&&(i=this._arPlayables[this._arPlayables.length-1]);for(var r=0;r<this._arPlayables.length-1;r++)(n=this._arPlayables[r])instanceof Gt&&Gt.appendOnEnd(n,this.DoSequenceStep,this);i&&Gt.appendOnEnd(i,this.DoEnd,this),this._bStarted=!0,this._currIndex=0,e&&e.play(!0),this._animationRequestId=null}},Ut.prototype.DoSequenceStep=function(){var t=this._arPlayables[++this._currIndex];t instanceof Gt?t.play(!0):this.DoSequenceStep()},Ut.prototype.stop=function(t){if(this._animationRequestId)return wt.cancelAnimationFrame(this._animationRequestId),void this.DoEnd();if(this._arPlayables)for(var e,i=this._currIndex;i<this._arPlayables.length;i++)(e=this._arPlayables[i])&&e instanceof Gt&&e.stop(t)},Ut.prototype.DoEnd=function(){this.CallOnEnd(),this._animationRequestId=null};const Wt=function(t,e,i,n){this.Init(t,e,i,n)};i.createSubclass(Wt,Gt),Wt.EASING_LINEAR=1,Wt.EASING_CUBIC_IN_OUT=2,Wt.EASING_CUBIC_IN=3,Wt.EASING_CUBIC_OUT=4,Wt.EASING_QUADRATIC_IN_OUT=5,Wt.EASING_QUADRATIC_IN=6,Wt.EASING_QUADRATIC_OUT=7,Wt.EASING_BOUNCE_IN=8,Wt.EASING_BOUNCE_OUT=9,Wt.EASING_ELASTIC_IN=10,Wt.EASING_ELASTIC_OUT=11,Wt.DIR_C=1,Wt.DIR_N=2,Wt.DIR_NE=3,Wt.DIR_E=4,Wt.DIR_SE=5,Wt.DIR_S=6,Wt.DIR_SW=7,Wt.DIR_W=8,Wt.DIR_NW=9,Wt.AXIS_X=1,Wt.AXIS_Y=2,Wt.ROT_DIR_CLOCKWISE=1,Wt.ROT_DIR_COUNTERCLOCKWISE=2,Wt.GetEasingFunction=function(t){switch(t){case Wt.EASING_LINEAR:return Pt.linear;case Wt.EASING_CUBIC_IN:return Pt.cubicIn;case Wt.EASING_CUBIC_OUT:return Pt.cubicOut;case Wt.EASING_QUADRATIC_IN_OUT:return Pt.quadraticInOut;case Wt.EASING_QUADRATIC_IN:return Pt.quadraticIn;case Wt.EASING_QUADRATIC_OUT:return Pt.quadraticOut;case Wt.EASING_BOUNCE_IN:return Pt.backIn;case Wt.EASING_BOUNCE_OUT:return Pt.backOut;case Wt.EASING_ELASTIC_IN:return Pt.elasticIn;case Wt.EASING_ELASTIC_OUT:return Pt.elasticOut;default:return Pt.cubicInOut}},Wt.GetCompassPoint=function(t,e){switch(e){case Wt.DIR_N:return new n(t.x+.5*t.w,t.y);case Wt.DIR_NE:return new n(t.x+t.w,t.y);case Wt.DIR_E:return new n(t.x+t.w,t.y+.5*t.h);case Wt.DIR_SE:return new n(t.x+t.w,t.y+t.h);case Wt.DIR_S:return new n(t.x+.5*t.w,t.y+t.h);case Wt.DIR_SW:return new n(t.x,t.y+t.h);case Wt.DIR_W:return new n(t.x,t.y+.5*t.h);case Wt.DIR_NW:return new n(t.x,t.y);default:return new n(t.x+.5*t.w,t.y+.5*t.h)}},Wt.GetAlignCompassPoint=function(t,e,i){var r=Wt.GetCompassPoint(e,i);switch(i){case Wt.DIR_N:return new n(r.x-.5*t.w,r.y);case Wt.DIR_NE:return new n(r.x-t.w,r.y);case Wt.DIR_E:return new n(r.x-t.w,r.y-.5*t.h);case Wt.DIR_SE:return new n(r.x-t.w,r.y-t.h);case Wt.DIR_S:return new n(r.x-.5*t.w,r.y-t.h);case Wt.DIR_SW:return new n(r.x,r.y-t.h);case Wt.DIR_W:return new n(r.x,r.y-.5*t.h);case Wt.DIR_NW:return new n(r.x,r.y);default:return new n(r.x-.5*t.w,r.y-.5*t.h)}},Wt.prototype.Init=function(t,e,i,n){Wt.superclass.Init.call(this,t),this._context=t,this._arObjects=e instanceof Array?e:[e],this._duration=i||.5,this._delay=n||0,this._easing=Wt.EASING_CUBIC_IN_OUT,this._bInitialized=!1,this._bSaveAndRestoreOriginalMatrices=!1,this._origMatrixArray=null,this._bHideObjectsOnEnd=!1,this.CreateAnimator(t)},Wt.prototype.GetContext=function(){return this._context},Wt.prototype.isRunning=function(){return!!this._animator&&this._animator.isRunning()},Wt.prototype.initialize=function(){this._bInitialized||(this._initializeEndStates(this._arObjects),this._initializeStartStates(this._arObjects),this.InitializePlay(),this._bInitialized=!0)},Wt.prototype.play=function(t){this.initialize(),this._animator&&this._animator.play(t)},Wt.prototype.stop=function(t){this._animator&&this._animator.stop(t)},Wt.prototype.getDuration=function(){return this._duration},Wt.prototype.setEasing=function(t){this._easing=t,this._animator&&this._animator.setEasing(Wt.GetEasingFunction(this._easing))},Wt.prototype.CreateAnimator=function(t){this._animator=new kt(t,this._duration,this._delay,Wt.GetEasingFunction(this._easing)),this._animator.setOnEnd(this.OnAnimEnd,this)},Wt.prototype.OnAnimEnd=function(){this._bHideObjectsOnEnd&&this.SetObjectsVisible(!1),this._bSaveAndRestoreOriginalMatrices&&this.RestoreOriginalMatrices(),this.CallOnEnd()},Wt.prototype.InitializePlay=function(){},Wt.prototype._initializeStartStates=function(t){if(t)for(var e,i=0;i<t.length;i++)(e=t[i])&&(this._bSaveAndRestoreOriginalMatrices&&(this._origMatrixArray||(this._origMatrixArray=[]),this._origMatrixArray.push(e.getMatrix())),this.InitStartState(e))},Wt.prototype._initializeEndStates=function(t){if(t)for(var e,i=0;i<t.length;i++)(e=t[i])&&this.InitEndState(e)},Wt.prototype.InitStartState=function(t){},Wt.prototype.InitEndState=function(t){},Wt.prototype.SetObjectsVisible=function(t){if(this._arObjects)for(var e,i=this._arObjects.length-1;i>=0;i--)(e=this._arObjects[i])&&e.setVisible(t)},Wt.prototype.RestoreOriginalMatrices=function(){if(this._arObjects)for(var t,e=this._arObjects.length-1;e>=0;e--)(t=this._arObjects[e])&&this._origMatrixArray&&t.setMatrix(this._origMatrixArray.pop())};const Yt=function(t,e,i,n){this.Init(t,e,i,n)};i.createSubclass(Yt,Wt),Yt.prototype.Init=function(t,e,i,n){Yt.superclass.Init.call(this,t,e,i,n)},Yt.prototype.InitStartState=function(t){t.setAlpha(0)},Yt.prototype.InitEndState=function(t){this._animator.addProp(kt.TYPE_NUMBER,t,t.getAlpha,t.setAlpha,1)};const Vt=function(t,e,i,n,r){this.Init(t,e,i,n,r)};i.createSubclass(Vt,Wt),Vt.prototype.Init=function(t,e,i,r,o){this._arOffsets=i instanceof Array?i:i instanceof n?[i]:[new n(0,0)],this._currIndex=0,Vt.superclass.Init.call(this,t,e,r,o)},Vt.prototype.InitEndState=function(t){var e;e=this._currIndex<this._arOffsets.length?this._arOffsets[this._currIndex]:this._arOffsets[this._arOffsets.length-1],this._animator.addProp(kt.TYPE_NUMBER,t,t.getTranslateX,t.setTranslateX,t.getTranslateX()+e.x),this._animator.addProp(kt.TYPE_NUMBER,t,t.getTranslateY,t.setTranslateY,t.getTranslateY()+e.y),this._currIndex++};const jt=function(t,e,i,n,r,o,s){this.Init(t,e,i,n,r,o,s)};i.createSubclass(jt,Yt),jt.prototype.Init=function(t,e,i,n,r,o,s){this._boundsRect=i,this._direction=n||Wt.DIR_NW,this._minScale=r||.5,jt.superclass.Init.call(this,t,e,o,s),this._bSaveAndRestoreOriginalMatrices=!0},jt.prototype.InitStartState=function(t){jt.superclass.InitStartState.call(this,t);var e=this._minScale*t.getScaleX(),i=this._minScale*t.getScaleY(),n=t.getDimensions(),r=new m(0,0,e*n.w,i*n.h),o=Wt.GetAlignCompassPoint(r,this._boundsRect,this._direction);t.setTranslate(o.x,o.y),t.setScale(e,i)},jt.prototype.InitEndState=function(t){jt.superclass.InitEndState.call(this,t);var e=t.getMatrix();this._animator.addProp(kt.TYPE_MATRIX,t,t.getMatrix,t.setMatrix,e)};const Kt=function(t,e,i,n){this.Init(t,e,i,n)};i.createSubclass(Kt,Wt),Kt.prototype.Init=function(t,e,i,n){Kt.superclass.Init.call(this,t,e,i,n)},Kt.prototype.InitEndState=function(t){this._animator.addProp(kt.TYPE_NUMBER,t,t.getAlpha,t.setAlpha,0)};const zt=function(t,e,i,n,r){this.Init(t,e,i,n,r)};i.createSubclass(zt,Bt),zt.prototype.Init=function(t,e,i,n,r){n||(n=.5),r||(r=0);var o=new Kt(t,e,n,r),s=new Yt(t,i,n,.5*o.getDuration()+r);zt.superclass.Init.call(this,t,[o,s])};const Xt=function(t,e,i,n,r,o,s){this.Init(t,e,i,n,r,o,s)};i.createSubclass(Xt,Bt),Xt.prototype.Init=function(t,e,i,n,r,o,s){o||(o=.5),s||(s=0);var a=new Vt(t,e,n,o,s),h=new Vt(t,i,r,o,s);Xt.superclass.Init.call(this,t,[a,h])};const qt=function(t,e,i,n,r,o,s,a,h){this.Init(t,e,i,n,r,o,s,a,h)};i.createSubclass(qt,Bt),qt.prototype.Init=function(t,e,i,n,r,o,s,a,h){r||(r=Wt.DIR_NE),o||(o=Wt.DIR_NW),s||(s=.5),a||(a=.5),h||(h=0);var l=new jt(t,i,n,o,s,a,.3+h);qt.superclass.Init.call(this,t,[null,l])};const Zt=function(){};i.createSubclass(Zt,i),Zt.ALPHA_FADE="alphaFade",Zt.SLIDE_TO_RIGHT="slideToRight",Zt.SLIDE_TO_LEFT="slideToLeft",Zt.ZOOM="zoom",Zt.isSupported=function(t){return t==Zt.ALPHA_FADE||t==Zt.SLIDE_TO_RIGHT||t==Zt.SLIDE_TO_LEFT||t==Zt.ZOOM},Zt.getInAnimation=function(t,e,i,r,o){return e==Zt.ALPHA_FADE?new Yt(t,i,o):e==Zt.SLIDE_TO_RIGHT?(Zt._offsetObjects(i,-r.w,0),new Vt(t,i,new n(r.w,0),o)):e==Zt.SLIDE_TO_LEFT?(Zt._offsetObjects(i,r.w,0),new Vt(t,i,new n(-r.w,0),o)):e==Zt.ZOOM?new jt(t,i,r,Wt.DIR_C,.5,o):null},Zt.getCombinedAnimation=function(t,e,i,r,o,s){return e==Zt.ALPHA_FADE?new zt(t,i,r,s):e==Zt.SLIDE_TO_RIGHT?(Zt._offsetObjects(r,-o.w,0),new Xt(t,i,r,new n(o.w,0),new n(o.w,0),s)):e==Zt.SLIDE_TO_LEFT?(Zt._offsetObjects(r,o.w,0),new Xt(t,i,r,new n(-o.w,0),new n(-o.w,0),s)):e==Zt.ZOOM?new qt(t,i,r,o,Wt.DIR_C,Wt.DIR_C,.5,s):null},Zt._offsetObjects=function(t,e,i){if(t.length)for(var n=0;n<t.length;n++)Zt._offsetObjects(t[n],e,i);else t&&t.setTranslate(t.getTranslateX()+e,t.getTranslateY()+i)};const Qt=function(t,e,i,n){this.Init(t,e,i,n)};i.createSubclass(Qt,Wt),Qt.prototype.getAnimator=function(){return this._animator};const $t=function(t,e){this.Init(t,e)};i.createSubclass($t,i),$t._OVERLAP_RATIO=.4,$t.prototype.Init=function(t,e){this._context=t,this._deleteContainer=e,this._playables=[]},$t.prototype.getCtx=function(){return this._context},$t.prototype.constructAnimation=function(t,e){if(e&&!this._context.isOffscreen()){e=e.slice(0);var i=[];if(t){for(var n=new this._context.ojMap,r=0;r<e.length;r++){(s=e[r])&&s.getId()&&n.set(s.getId(),s)}for(var o=0;o<t.length;o++){var s,a=t[o],h=a?a.getId():void 0;(s=h?n.get(h):void 0)?(i.push(s.getId()),s.animateUpdate(this,a)):a&&a.animateDelete(this,this._deleteContainer)}}for(var l=new this._context.KeySetImpl(i),u=0;u<e.length;u++)!e[u]||e[u].getId()&&l.has(e[u].getId())||e[u].animateInsert(this)}},$t.prototype.getDeleteContainer=function(){return this._deleteContainer},$t.prototype.add=function(t,e){if(t){for(e||(e=0);this._playables.length<=e;)this._playables.push(new Array);this._playables[e].push(t)}},$t.prototype.getAnimation=function(t){for(var e=[],i=0;i<this._playables.length;i++)if(this._playables[i].length>0){var n=new Bt(this._context,this._playables[i]);e.push(n)}if(t){for(var r=[],o=0,s=0;s<e.length;s++){if(o>0){var a=new Qt(this._context,null,o);r.push(new Ut(this._context,[a,e[s]]))}else r.push(e[s]);o+=(1-$t._OVERLAP_RATIO)*e[s].getDuration()}return new Bt(this._context,r)}return new Ut(this._context,e)},$t.prototype.getNumPlayables=function(){return this._playables.length};const Jt=function(t,e,i,n,r){this.Init(t,e,i,n,r)};i.createSubclass(Jt,Wt),Jt.prototype.Init=function(t,e,i,r,o){this._arPoints=i instanceof Array?i:i instanceof n?[i]:[new n(0,0)],this._currIndex=0,Jt.superclass.Init.call(this,t,e,r,o)},Jt.prototype.InitEndState=function(t){var e;e=this._currIndex<this._arPoints.length?this._arPoints[this._currIndex]:this._arPoints[this._arPoints.length-1],this._animator.addProp(kt.TYPE_NUMBER,t,t.getTranslateX,t.setTranslateX,e.x),this._animator.addProp(kt.TYPE_NUMBER,t,t.getTranslateY,t.setTranslateY,e.y),this._currIndex++};const te=function(t,e,i,n,r){this.Init(t,e,i,n,r)};i.createSubclass(te,Wt),te.prototype.Init=function(t,e,i,r,o){this._arScales=i instanceof Array?i:i instanceof n?[i]:[new n(1,1)],this._currIndex=0,te.superclass.Init.call(this,t,e,r,o)},te.prototype.InitEndState=function(t){var e;e=this._currIndex<this._arScales.length?this._arScales[this._currIndex]:this._arScales[this._arScales.length-1],this._animator.addProp(kt.TYPE_NUMBER,t,t.getScaleX,t.setScaleX,e.x),this._animator.addProp(kt.TYPE_NUMBER,t,t.getScaleY,t.setScaleY,e.y),this._currIndex++};const ee=function(t,e,i,n,r){this.Init(t,e,i,n,r)};i.createSubclass(ee,Wt),ee.BackOut=function(t){return Pt.backOut(t,2.5)},ee.prototype.Init=function(t,e,i,n,r){this._bCenter=i,this._bCenter&&(this._tempContainers=[],this._currIndex=0),ee.superclass.Init.call(this,t,e,n,r)},ee.prototype.setEasing=function(t){},ee.prototype.CreateAnimator=function(t){ee.superclass.CreateAnimator.call(this,t),this._animator.setEasing(ee.BackOut),this._bCenter&&Gt.appendOnEnd(this._animator,this.RemoveTempContainers,this)},ee.prototype.InitStartState=function(t){if(this._bCenter){var e=this._tempContainers[this._currIndex],i=t.getDimensions();e._dvtAnimPopInOrigTx=t.getTranslateX(),e._dvtAnimPopInOrigTy=t.getTranslateY();var n=i.x+.5*i.w,r=i.y+.5*i.h;e.setTranslate(e._dvtAnimPopInOrigTx+n,e._dvtAnimPopInOrigTy+r),t.setTranslate(-n,-r);var o=t.getParent().getChildIndex(t);e._dvtAnimPopInChildIndex=o,t.getParent().addChildAt(e,o),e.addChild(t),e.setScale(.01,.01),this._currIndex++}else t.setScale(.01,.01);t.setVisible(!0)},ee.prototype.InitEndState=function(t){if(this._bCenter){var e=new J(this._context);this._tempContainers.push(e),this._animator.addProp(kt.TYPE_NUMBER,e,e.getScaleX,e.setScaleX,1),this._animator.addProp(kt.TYPE_NUMBER,e,e.getScaleY,e.setScaleY,1)}else this._animator.addProp(kt.TYPE_NUMBER,t,t.getScaleX,t.setScaleX,1),this._animator.addProp(kt.TYPE_NUMBER,t,t.getScaleY,t.setScaleY,1)},ee.prototype.RemoveTempContainers=function(){if(this._tempContainers){for(var t=0;t<this._tempContainers.length;t++){var e=this._tempContainers[t];if(this._tempContainers[t]=null,e.getNumChildren()>0){var i=e.getChildAt(0);i&&(i.setTranslate(e._dvtAnimPopInOrigTx,e._dvtAnimPopInOrigTy),e.getParent().addChildAt(i,e._dvtAnimPopInChildIndex))}e.getParent().removeChild(e)}this._tempContainers=null}};const ie=function(t,e,i,n,r){this.Init(t,e,i,n,r)};i.createSubclass(ie,g),ie.prototype.Init=function(t,e,i,n,r){ie.superclass.Init.call(this,e,i,n,r),null===t||isNaN(t)?t=0:Math.abs(t)>360&&(t%=360),this._angle=t},ie.prototype.getAngle=function(){return this._angle},ie.prototype.equals=function(t){return t instanceof ie&&t.getAngle()==this.getAngle()&&ie.superclass.equals.call(this,t)};const ne=function(t,e,i,n,r,o){this.Init(t,e,i,n,r,o)};i.createSubclass(ne,i),ne.FOCUS_BORDER_RADIUS=1,ne.FOCUS_STROKE_WIDTH=1,ne.FOCUS_STROKE_ALPHA=1,ne.prototype.Init=function(t,e,i,n,r,o){this._container=e,this._focusEffect=new lt(t,i.x,i.y,i.w,i.h,r);var s=this.CreateStroke();this._focusEffect.setStroke(s),this._focusEffect.setRx(ne.FOCUS_BORDER_RADIUS),this._focusEffect.setRy(ne.FOCUS_BORDER_RADIUS),n&&this._focusEffect.setMatrix(n),this._focusEffect.setFill(null),this._appendLast=o},ne.prototype.CreateStroke=function(){var t,e=r.getFocusColor(),i=ne.FOCUS_STROKE_WIDTH;return"safari"===r.browser||"blink"===r.engine?i=2:t={dashArray:i,dashOffset:i},new z(e,ne.FOCUS_STROKE_ALPHA,i,!1,t)},ne.prototype.getEffect=function(){return this._focusEffect},ne.prototype.setEffect=function(t){this._focusEffect=t},ne.prototype.show=function(){this._focusEffect instanceof ot&&(this._appendLast?this._container.addChild(this._focusEffect):this._container.addChildAt(this._focusEffect,0))},ne.prototype.hide=function(){this._focusEffect instanceof ot&&this._container.removeChild(this._focusEffect)};const re=function(){this.Init()};i.createSubclass(re,i),re.prototype.Init=function(){this._data=[]},re.prototype.get=function(t,e){return this._getInner(t)[e]},re.prototype.put=function(t,e,i){var n=this._getInner(t),r=n[e];return n[e]=i,r},re.prototype._getInner=function(t){var e=this._data[t];return e||(e=[],this._data[t]=e),e};const oe={};i.createSubclass(oe,i),oe.position=function(t,e,i,n,o,s){i&&(s=n*o>0?s:0,"start"==e?e=r.isRightToLeft(i.getCtx())?"right":"left":"end"==e&&(e=r.isRightToLeft(i.getCtx())?"left":"right"),"top"==e?(i.setTranslate(t.x+t.w/2-n/2,t.y),t.y+=o+s,t.h-=o+s):"bottom"==e?(i.setTranslate(t.x+t.w/2-n/2,t.y+t.h-o),t.h-=o+s):"left"==e?(i.setTranslate(t.x,t.y+t.h/2-o/2),t.x+=n+s,t.w-=n+s):"right"==e&&(i.setTranslate(t.x+t.w-n,t.y+t.h/2-o/2),t.w-=n+s))},oe.align=function(t,e,i,n){if(i){var o=e;"start"==o?o=r.isRightToLeft(i.getCtx())?"right":"left":"end"==o&&(o=r.isRightToLeft(i.getCtx())?"left":"right"),"left"==o?i.setX(t.x):"center"==o?i.setX(t.x+t.w/2-n/2):"right"==o&&i.setX(t.x+t.w-n)}},oe.getBubbleSize=function(t,e,i,n,r){if(t<=0)return 0;var o=n*n,s=r*r;if(i/e<s/o){var a=Math.sqrt(o*s),h=Math.sqrt(e*i);if(t==h)return Math.sqrt(a);s=i/h*a,o=e/h*a}var l=o+(t-e)/(i-e)*(s-o);return Math.sqrt(l)};const se=function(t,e){this.Init(t,e)};i.createSubclass(se,re),se._INITIAL_SIZE=1500,se.prototype.Init=function(t,e){se.superclass.Init.call(this),this._innerMap=e,this._innerMap&&(this._innerMap._outerMap=this,this._innerMap._bOuterMap=!0),this._scale=t||1,this._capacity=this._scale*this._scale,this._bInnerMap=null!=this._innerMap,this._bOuterMap=!1;for(var i=se._INITIAL_SIZE/this._scale,n=0;n<i;n++)for(var r=0;r<i;r++)this.put(n,r,0)},se.prototype.isObscured=function(t,e,i,n){for(var r=this._adjustForScale(t),o=this._adjustForScale(e),s=this._adjustForScale(i),a=this._adjustForScale(n),h=r;h<=s;h++)for(var l=o;l<=a;l++){if(!0!==this.get(h,l)){if(!this._bInnerMap)return!1;var u=Math.max(t,h*this._scale),c=Math.max(e,l*this._scale),_=Math.min(i,(h+1)*this._scale-1),p=Math.min(n,(l+1)*this._scale-1);if(!this._innerMap.isObscured(u,c,_,p))return!1}}return!0},se.prototype.obscure=function(t,e,i,n,r){for(var o=this._adjustForScale(t),s=this._adjustForScale(e),a=this._adjustForScale(i),h=this._adjustForScale(n),l=o;l<=a;l++)for(var u=s;u<=h;u++){if(!0!==this.get(l,u))if(this._bInnerMap){var c=Math.max(t,l*this._scale),_=Math.max(e,u*this._scale),p=Math.min(i,(l+1)*this._scale-1),d=Math.min(n,(u+1)*this._scale-1);this._innerMap.obscure(c,_,p,d,r)}else this._increment(l,u,r)}},se.prototype._increment=function(t,e,i){var n=this._adjustForScale(t),r=this._adjustForScale(e),o=this.get(n,r);(o=null!=o?o+i:i)>=this._capacity&&(o=!0),this.put(n,r,o),!0===o&&this._bOuterMap&&this._outerMap._increment(t,e,this._capacity)},se.prototype._adjustForScale=function(t){return Math.floor(t/this._scale)};const ae={_cache:{}};i.createSubclass(ae,i),ae.addBubbleEventListener=function(t,e,i){return window.addEventListener?(u.addDomEventListener(t,e,i,!1),!0):!!window.attachEvent&&(t.attachEvent("on"+e,i),!0)},ae.loadImage=function(t,e){var i=this._cache[t];if(i){if(!i._image)return e&&e(i),i;ae._addListenerToQueue(i._listeners,e)}else this.loadNewImage(t,e);return null},ae.loadNewImage=function(t,e){var i=document.createElement("img"),n={_listeners:[],url:t,_image:i};e&&ae._addListenerToQueue(n._listeners,e),this._cache[t]=n,ae.addBubbleEventListener(i,"load",function(t){var e;n.width=i.width,n.height=i.height,delete n._image;var r=n._listeners.length;for(e=0;e<r;e++)n._listeners[e]&&n._listeners[e](n);delete n._listeners}),i.src=t},ae._addListenerToQueue=function(t,e){if(e){for(var i=0;i<t.length;i++)if(t[i]===e)return;t.push(e)}};const he={};i.createSubclass(he,i),he.getDimensions=function(t){if(!t||0===t.length)return new m;for(var e,i,n=Number.MAX_VALUE,r=-1*Number.MAX_VALUE,o=Number.MAX_VALUE,s=-1*Number.MAX_VALUE,a=t.length,h=0;h<a;h++)e=t[h++],i=t[h],n=Math.min(n,e),r=Math.max(r,e),o=Math.min(o,i),s=Math.max(s,i);return new m(n,o,Math.abs(r-n),Math.abs(s-o))},he.getRegularPolygonPoints=function(t,e,i,n,r,o){for(var s,a=[],h=0;h<i;h++)s=r+h/i*2*Math.PI*(0==o?-1:1),a.push(t+n*Math.sin(s),e-n*Math.cos(s));return a},he.scale=function(t,e,i){for(var n=[],r=0;r<t.length-1;r+=2)n.push(t[r]*e),n.push(t[r+1]*i);return n},he.translate=function(t,e,i){for(var n=[],r=0;r<t.length-1;r+=2)n.push(t[r]+e),n.push(t[r+1]+i);return n};const le=function(t,e,i,n,r){this.Init(t,e,i,n,r)};i.createSubclass(le,ot),le.prototype.Init=function(t,e,i,n,r){le.superclass.Init.call(this,t,"circle",r),this.setCx(e).setCy(i),this.setRadius(n)},Q.defineProps(le,{r:{name:"radius"},cx:{value:0},cy:{value:0}}),le.prototype.copyShape=function(){return new le(this.getCtx(),this.getCx(),this.getCy(),this.getRadius())},le.prototype.getDimensionsSelf=function(t){var e=new m(this.getCx()-this.getRadius(),this.getCy()-this.getRadius(),2*this.getRadius(),2*this.getRadius());return this.ConvertCoordSpaceRect(e,t)};const ue=function(t,e,i,n,r,o,s){this.Init(t,e,i,n,r,o,s)};i.createSubclass(ue,ot),ue.prototype.Init=function(t,e,i,n,o,s,a){ue.superclass.Init.call(this,t,"image",a),e=u.getImageUrl(t,e),"ie"!==r.browser&&"edge"!==r.browser||(u.setAttrNullNS(this._elem,"fill","#FFFFFF"),u.setAttrNullNS(this._elem,"fill-opacity","0")),this.setSrc(e),this.setX(i).setY(n),this.setWidth(o),this.setHeight(s),u.setAttrNullNS(this._elem,"preserveAspectRatio","none"),this.setAriaProperty("hidden","true")},Q.defineProps(ue,{x:{},y:{},width:{},height:{}}),ue.prototype.getSrc=function(){return this._src},ue.prototype.setSrc=function(t){if(t!==this._src){var e=t;this._src=t,u.setHref(this._elem,e)}return this},ue.prototype.getDimensions=function(t){if(this.getDimensionsSelf&&this.getNumChildren()-this._getInnerShapeCount()==0)return this.getDimensionsSelf(t);var e=this.getElem().getBBox();return e=e.width&&e.height?new m(e.x,e.y,e.width,e.height):new m(e.x,e.y,this.getWidth(),this.getHeight()),this.ConvertCoordSpaceRect(e,t)},ue.prototype.__setDimensions=function(t){this.setWidth(t.width),this.setHeight(t.height)},ue.prototype.UpdateSelectionEffect=function(){},ue.prototype.copyShape=function(){return new ue(this.getCtx(),this.getSrc(),this.getX(),this.getY(),this.getWidth(),this.getHeight())},ue.prototype.getDimensionsSelf=function(t){var e=new m(this.getX(),this.getY(),this.getWidth(),this.getHeight());return this.ConvertCoordSpaceRect(e,t)},ue.prototype.setAriaProperty=function(t,e){ue.superclass.setAriaProperty.call(this,t,e),"hidden"!=t&&ue.superclass.setAriaProperty.call(this,"hidden",null)};const ce=function(t,e,i,n,r,o){this.Init(t,e,i,n,r,o)};i.createSubclass(ce,ot),ce.prototype.Init=function(t,e,i,n,r,o){ce.superclass.Init.call(this,t,"line",o),this.setX1(e).setY1(i).setX2(n).setY2(r),this._bHollow=!1},Q.defineProps(ce,{x1:{value:0},x2:{value:0},y1:{value:0},y2:{value:0}}),ce.prototype.setHollow=function(){var t=this._elem.parentNode;if(this._bHollow)this._origElem&&(t.replaceChild(this._origElem,this._elem),u.setAttrNullNS(this._origElem,"opacity",this._alpha),this._elem=this._origElem,this._origElem=null,this._bHollow=!1);else{var e;this._origElem=this._elem;var i=this.getX2()-this.getX1(),n=i,o=this.getY1()-i/2,s=this.getStroke();e=A.createElement("rect"),u.setAttrNullNS(e,"x",this.getX1()),u.setAttrNullNS(e,"y",o),u.setAttrNullNS(e,"width",this.getX2()-this.getX1()),u.setAttrNullNS(e,"height",n);var a=s.getColor();const l="stroke-opacity";if(a){var h=s.getAlpha();"safari"===r.browser&&-1!==a.indexOf("rgba")?(u.setAttrNullNS(e,"stroke",T.getRGB(a)),null!=h?u.setAttrNullNS(e,l,T.getAlpha(a)*h):u.setAttrNullNS(e,l,T.getAlpha(a))):(u.setAttrNullNS(e,"stroke",a),null!=h&&u.setAttrNullNS(e,l,h))}u.setAttrNullNS(e,"fill","#ffffff"),u.setAttrNullNS(e,"fill-opacity","0.001"),u.setAttrNullNS(e,"shape-rendering","crispEdges"),e._obj=this,t.replaceChild(e,this._elem),this._elem=e,u.setAttrNullNS(this._elem,"opacity",this._alpha),this._bHollow=!0}},ce.prototype.getDimensions=function(t){var e=ce.superclass.getDimensions.call(this,t);if(this._childGroupElem&&this._elem){var i=this._childGroupElem.getBBox();if(0==i.x&&0==i.y&&0==i.width&&0==i.height){var n=this._elem.getBBox();e=new m(n.x,n.y,n.width,n.height)}}return e},ce.prototype.copyShape=function(){return new ce(this.getCtx(),this.getX1(),this.getY1(),this.getX2(),this.getY2())},ce.prototype.getDimensionsSelf=function(t){var e=Math.min(this.getX1(),this.getX2()),i=Math.min(this.getY1(),this.getY2()),n=Math.abs(this.getX1()-this.getX2()),r=Math.abs(this.getY1()-this.getY2()),o=new m(e,i,n,r);return this.ConvertCoordSpaceRect(o,t)},ce.prototype._adjustDimensionsForStyle=function(){this.getX1()==this.getX2()?this.setX2(this.getX2()+.001):this.getY1()==this.getY2()&&this.setY2(this.getY2()+.001)},ce.prototype.setStyle=function(t,e){return t&&!e&&this._adjustDimensionsForStyle(),ce.superclass.setStyle.call(this,t)},ce.prototype.setClassName=function(t,e){return t&&!e&&this._adjustDimensionsForStyle(),ce.superclass.setClassName.call(this,t)};const _e=function(t,e,i){this.Init(t,e,i)};i.createSubclass(_e,ot),_e.prototype.Init=function(t,e,i){_e.superclass.Init.call(this,t,"path",i),Array.isArray(e)?this.setCmds(b.getPathString(e)):this.setCmds(e)},_e.prototype.getCmds=function(){return this.GetProperty("d")},_e.prototype.setCmds=function(t){return t&&this.SetSvgProperty("d",t),this.SetProperty("arCmds",null),this},_e.prototype.getCommandsArray=function(){var t=this.GetProperty("arCmds");return t||(t=b.createPathArray(this.getCmds()),this.SetProperty("arCmds",t)),t},_e.prototype.setCommandsArray=function(t){var e=t?b.getPathString(t):null;return this.setCmds(e),this.SetProperty("arCmds",t),this},_e.prototype.copyShape=function(){return new _e(this.getCtx(),this.getCmds())},_e.prototype.GetAriaElem=function(){return r.isTouchDevice()&&this.CreateChildGroupElem(!1,!0),_e.superclass.GetAriaElem.call(this)};const pe=function(t,e,i,n,r,o,s,a,h,l){this.Init(t,e,i,n,r,o,s,a,h,l)};i.createSubclass(pe,ot),pe.CIRCLE="circle",pe.ELLIPSE="ellipse",pe.SQUARE="square",pe.RECTANGLE="rectangle",pe.DIAMOND="diamond",pe.TRIANGLE_UP="triangleUp",pe.TRIANGLE_DOWN="triangleDown",pe.PLUS="plus",pe.HUMAN="human",pe.STAR="star",pe._CIRCLE_ELEM="circle",pe._ELLIPSE_ELEM="ellipse",pe._RECT_ELEM="rect",pe._PATH_ELEM="path",pe._POLYGON_ELEM="polygon",(pe._SHAPE_ELEM_MAP={})[pe.CIRCLE]=pe._CIRCLE_ELEM,pe._SHAPE_ELEM_MAP[pe.ELLIPSE]=pe._ELLIPSE_ELEM,pe._SHAPE_ELEM_MAP[pe.SQUARE]=pe._PATH_ELEM,pe._SHAPE_ELEM_MAP[pe.RECTANGLE]=pe._PATH_ELEM,pe._SHAPE_ELEM_MAP[pe.DIAMOND]=pe._POLYGON_ELEM,pe._SHAPE_ELEM_MAP[pe.TRIANGLE_UP]=pe._POLYGON_ELEM,pe._SHAPE_ELEM_MAP[pe.TRIANGLE_DOWN]=pe._POLYGON_ELEM,pe._SHAPE_ELEM_MAP[pe.PLUS]=pe._POLYGON_ELEM,pe._SHAPE_ELEM_MAP[pe.HUMAN]=pe._PATH_ELEM,pe._SHAPE_ELEM_MAP[pe.STAR]=pe._POLYGON_ELEM,pe.DEFAULT_BORDER_RADIUS="6",pe._HUMAN_CMDS="M 306.40625 386.78125 C 304.19988 386.78125 302.40625 389.07579 302.40625 391.90625 C 302.40625 394.73671 304.19988 397.03125 306.40625 397.03125 C 308.61263 397.03125 310.40625 394.73671 310.40625 391.90625 C 310.40625 389.07579 308.61263 386.78125 306.40625 386.78125 z M 301.78125 396.0625 C 300.43025 397.2945 298.28125 400.28125 298.90625 403.15625 C 302.41725 405.79925 309.20225 406.154 314.03125 403 C 314.21825 399.828 312.68325 397.5635 310.90625 396.0625 C 308.65625 400.7185 304.28125 399.7815 301.78125 396.0625 z ",pe._SHAPE_STAR_CMDS=[-50,-11.22,-16.69,-17.94,0,-47.55,16.69,-17.94,50,-11.22,26.69,13.8,30.9,47.56,0,33.42,-30.9,47.56,-26.69,13.8],pe.prototype.Init=function(t,e,i,n,r,o,s,a,h,l){h&&(i=Math.round(i),n=Math.round(n),r=Math.round(r),o=(o=Math.round(o))%2==1?o+1:o,r=r%2==1?r+1:r),this._bMaintainAspectRatio=!0,!1===a&&(this._bMaintainAspectRatio=!1,e==pe.CIRCLE&&(e=pe.ELLIPSE)),s&&"0"!=s&&(this._borderRadius=s),this._shape=e||pe.RECTANGLE,this._dataColor="#000000";var u=e?pe._SHAPE_ELEM_MAP[e]:pe._PATH_ELEM;null==u&&(this._isCustomShape=!0,this._path=new _e(t,e),u=pe._PATH_ELEM),pe.superclass.Init.call(this,t,u,l),this._shape!=pe.SQUARE&&this._shape!=pe.RECTANGLE||(this._path=this._getBorderRadiusPath(t,i,n,r,o,s)),this._shape==pe.HUMAN&&(this._path=new _e(t,pe._HUMAN_CMDS)),this._propertyChange={},this.setCenter(i,n,!0).setSize(r,o)},pe.prototype.setCenterDimensions=function(t){return this.setCenter(t.x,t.y,!0).setSize(t.w,t.h)},pe.prototype.getCenterDimensions=function(){return new m(this._cx,this._cy,this._width,this._height)},pe.prototype.setSize=function(t,e,i){return this.setWidth(t,!0).setHeight(e,i)},pe.prototype.setCenter=function(t,e,i){return this.setCx(t,!0).setCy(e,i)},pe.prototype._updateSvgProperties=function(){if(this._propertyChange.width||this._propertyChange.height){var t=Math.min(this._width,this._height);this._propertyChange.s=this._s!=t,this._s=t}if(this._shape!=pe.RECTANGLE&&this._shape!=pe.SQUARE||this._borderRadius)this._shape==pe.CIRCLE||this._shape==pe.ELLIPSE?(this._propertyChange.cx&&u.setAttrNullNS(this._elem,"cx",this._cx,0),this._propertyChange.cy&&u.setAttrNullNS(this._elem,"cy",this._cy,0),this._shape==pe.CIRCLE?this._propertyChange.s&&u.setAttrNullNS(this._elem,"r",this._s/2,0):(this._propertyChange.width&&u.setAttrNullNS(this._elem,"rx",this._width/2,0),this._propertyChange.height&&u.setAttrNullNS(this._elem,"ry",this._height/2,0))):this._isPolygon()?(this._propertyChange.s||this._propertyChange.cx||this._propertyChange.cy)&&this._setPolygon(this._getPolygonArray()):this._isPath()&&(this._propertyChange.width||this._propertyChange.height||this._propertyChange.cx||this._propertyChange.cy)&&this._setCmds(this._getCmds());else if(this._propertyChange.width||this._propertyChange.height||this._propertyChange.cx||this._propertyChange.cy){var e=b.rectangleWithBorderRadius(this._cx-this._width/2,this._cy-this._height/2,this._width,this._height);this._setCmds(e)}return this.UpdateSelectionEffect(),this._propertyChange={},this},pe.prototype.getCx=function(){return this._cx},pe.prototype.setCx=function(t,e){return this._propertyChange.cx=this._cx!=t,this._cx=t,e?this:this._updateSvgProperties()},pe.prototype.getCy=function(){return this._cy},pe.prototype.setCy=function(t,e){return this._propertyChange.cy=this._cy!=t,this._cy=t,e?this:this._updateSvgProperties()},pe.prototype.getSize=function(){return this._s},pe.prototype.getWidth=function(){return this._width},pe.prototype.setWidth=function(t,e){return this._propertyChange.width=this._width!=t,this._width=t,e?this:this._updateSvgProperties()},pe.prototype.getHeight=function(){return this._height},pe.prototype.setHeight=function(t,e){return this._propertyChange.height=this._height!=t,this._height=t,e?this:this._updateSvgProperties()},pe.prototype._getPolygonArray=function(){var t=[],e=this._cx,i=this._cy,n=this.getMaintainAspectRatio()?this._s/2:this._width/2,r=this.getMaintainAspectRatio()?this._s/2:this._height/2,o=this.getMaintainAspectRatio()?this._s/6:this._width/6,s=this.getMaintainAspectRatio()?this._s/6:this._height/6;return this._shape==pe.TRIANGLE_UP?t=[e-n,i+r,e,i-r,e+n,i+r]:this._shape==pe.TRIANGLE_DOWN?t=[e-n,i-r,e,i+r,e+n,i-r]:this._shape==pe.DIAMOND?t=[e-n,i,e,i-r,e+n,i,e,i+r]:this._shape==pe.PLUS?t=[e-n,i-s,e-o,i-s,e-o,i-r,e+o,i-r,e+o,i-s,e+n,i-s,e+n,i+s,e+o,i+s,e+o,i+r,e-o,i+r,e-o,i+s,e-n,i+s]:this._shape==pe.STAR&&(t=pe._SHAPE_STAR_CMDS,t=he.scale(t,this.getMaintainAspectRatio()?this._s/100:this._width/100,this.getMaintainAspectRatio()?this._s/100:this._height/100),t=he.translate(t,e,i)),t},pe.prototype._setPolygon=function(t){u.setAttrNullNS(this._elem,"points",A.convertPointsArray(t))},pe.prototype._getCmds=function(){var t=q.getDimForced(this.getCtx(),this._path),e=Math.max(t.w,t.h),i=this.getMaintainAspectRatio();this._shape==pe.RECTANGLE&&(i=!1);var n=i?this._s/e:this._width/t.w,r=i?this._s/e:this._height/t.h,o=this._cx-t.x*n-t.w*n/2,s=this._cy-t.y*r-t.h*r/2;return b.transformPath(this._path.getCommandsArray(),o,s,n,r)},pe.prototype._setCmds=function(t){u.setAttrNullNS(this._elem,"d",t)},pe.prototype.getType=function(){return this._shape},pe.prototype._isPolygon=function(){return pe._SHAPE_ELEM_MAP[this._shape]==pe._POLYGON_ELEM},pe.prototype._isPath=function(){return pe._SHAPE_ELEM_MAP[this._shape]==pe._PATH_ELEM||this._isCustomShape},pe.prototype.GetStrokeWidth=function(){var t=this.getStroke();return t?t.getWidth():0},pe.prototype._getBorderRadiusPath=function(t,e,i,n,r,o){if(this._shape==pe.SQUARE||this._shape==pe.RECTANGLE){var s=Math.min(n,r),a=this._shape==pe.SQUARE?s:n,h=this._shape==pe.SQUARE?s:r,l=e-a/2,u=i-h/2,c=b.rectangleWithBorderRadius(l,u,a,h,o,s,"0");return new _e(t,c)}return null},pe.prototype._getBorderRadius=function(){return this._borderRadius},pe.prototype.setDataColor=function(t,e){if(this._dataColor=t,!e){var i=rt.getHoverBorderColor(t),n="#FFFFFF";this.setHoverStroke(new z(n,1,1,!0),new z(i,1,3.5,!0)),this.setSelectedStroke(new z(n,1,1.5,!0),new z("#5A5A5A",1,4.5,!0)),this.setSelectedHoverStroke(new z(n,1,1.5,!0),new z(i,1,4.5,!0))}},pe.prototype.getDataColor=function(){return this._dataColor},pe.prototype.setHollow=function(t){var e=this.GetStrokeWidth();e=e||1,pe.superclass.setHollow.call(this,t,e)},pe.prototype.setText=function(t){this._markerText=t},pe.prototype.setAlpha=function(t){pe.superclass.setAlpha.call(this,t),t!==this.getAlpha()&&(this._markerText&&this._markerText.setAlpha(t),this.UpdateSelectionEffect())},pe.prototype.copyShape=function(){return new pe(this.getCtx(),this._shape,this.getCx(),this.getCy(),this.getWidth(),this.getHeight(),this._getBorderRadius(),this.getMaintainAspectRatio())},pe.prototype.getDimensions=function(t){return this.getDimensionsSelf(t)},pe.prototype.getDimensionsSelf=function(t){var e=this.getCx()-this.getWidth()/2,i=this.getCy()-this.getHeight()/2,n=new m(e,i,this.getWidth(),this.getHeight());return this.ConvertCoordSpaceRect(n,t)},pe.prototype.setMaintainAspectRatio=function(t){this._bMaintainAspectRatio=t},pe.prototype.getMaintainAspectRatio=function(){return this._bMaintainAspectRatio};const de=function(t,e,i,n,r,o,s,a,h,l,u){this.Init(t,e,i,n,r,o,s,a,h,l,u)};i.createSubclass(de,ot),de.prototype.Init=function(t,e,i,n,o,s,a,h,l,c,_){de.superclass.Init.call(this,t,"image",_),this._setMarkerImageStates(a,h,l,c);var p=this._getImage();this._setSource(p),this._propertyChange={},this.setCenter(e,i,!0).setSize(n,o),this._updateBorder(s),"ie"!==r.browser&&"edge"!==r.browser||(u.setAttrNullNS(this._elem,"fill","#FFFFFF"),u.setAttrNullNS(this._elem,"fill-opacity","0"))},de.prototype.setPreserveAspectRatio=function(t){u.setAttrNullNS(this._elem,"preserveAspectRatio",t,"xMidYMid")},de.prototype.setCenterDimensions=function(t){return this.setCenter(t.x,t.y,!0).setSize(t.w,t.h)},de.prototype.getCenterDimensions=function(){return new m(this._cx,this._cy,this._width,this._height)},de.prototype.setSize=function(t,e,i){return this.setWidth(t,!0).setHeight(e,i)},de.prototype.getSize=function(){return Math.max(this.getWidth(),this.getHeight())},de.prototype.setCenter=function(t,e,i){return this.setCx(t,!0).setCy(e,i)},de.prototype._updateSvgProperties=function(){return(this._propertyChange.cx||this._propertyChange.width)&&u.setAttrNullNS(this._elem,"x",this._cx-this._width/2,0),(this._propertyChange.cy||this._propertyChange.height)&&u.setAttrNullNS(this._elem,"y",this._cy-this._height/2,0),this._propertyChange.width&&u.setAttrNullNS(this._elem,"width",this._width,0),this._propertyChange.height&&u.setAttrNullNS(this._elem,"height",this._height,0),this._updateBorder(this._borderRadius),this.UpdateSelectionEffect(),this._propertyChange={},this},de.prototype.getCx=function(){return this._cx},de.prototype.setCx=function(t,e){return this._propertyChange.cx=this._cx!=t,this._cx=t,e?this:this._updateSvgProperties()},de.prototype.getCy=function(){return this._cy},de.prototype.setCy=function(t,e){return this._propertyChange.cy=this._cy!=t,this._cy=t,e?this:this._updateSvgProperties()},de.prototype.getWidth=function(){return this._width},de.prototype.setWidth=function(t,e){return this._propertyChange.width=this._width!=t,this._width=t,e?this:this._updateSvgProperties()},de.prototype.getHeight=function(){return this._height},de.prototype.setHeight=function(t,e){return this._propertyChange.height=this._height!=t,this._height=t,e?this:this._updateSvgProperties()},de.prototype._setSource=function(t){u.setHref(this._elem,u.getImageUrl(this.getCtx(),t))},de.prototype._setMarkerImageStates=function(t,e,i,n){var r=t;this._imageStates=[r],this._imageStates.push(e||r),this._imageStates.push(i||r),this._imageStates.push(n||this._imageStates[1])},de.prototype._getImage=function(){return this._imageStates[0]},de.prototype._getImageSelected=function(){return this._imageStates[1]},de.prototype._getImageHover=function(){return this._imageStates[2]},de.prototype._getImageHoverSelected=function(){return this._imageStates[3]},de.prototype.showHoverEffect=function(){this.IsShowingHoverEffect=!0,this.isSelected()?this._setSource(this._getImageHoverSelected()):this._setSource(this._getImageHover())},de.prototype.hideHoverEffect=function(){this.IsShowingHoverEffect=!1,this.isSelected()?this._setSource(this._getImageSelected()):this._setSource(this._getImage())},de.prototype.setSelected=function(t){this.IsSelected!=t&&(this.IsSelected=t,t?this.isHoverEffectShown()?this._setSource(this._getImageHoverSelected()):this._setSource(this._getImageSelected()):this._setSource(this._getImage()))},de.prototype._updateBorder=function(t){if(t||this._borderPath){if(t&&"0"!=t){var e=b.rectangleWithBorderRadius(this._cx-this._width/2,this._cy-this._height/2,this._width,this._height,t,Math.min(this._width,this._height),"0"),i=new p;i.addPath(e),this.setClipPath(i)}if(this._borderPath){var n=b.rectangleWithBorderRadius(this._cx-this._width/2+this._borderWidth/2,this._cy-this._height/2+this._borderWidth/2,this._width-this._borderWidth,this._height-this._borderWidth,t,Math.min(this._width,this._height),"0");this._borderPath.setCmds(n)}}this._borderRadius=t},de.prototype._getBorderRadius=function(){return this._borderRadius},de.prototype.setStroke=function(t){if(!t||t.getWidth()<=0)return this._borderWidth=0,void(this._borderPath&&(this.removeChild(this._borderPath),this._borderPath=null));var e=t.getWidth();if(!this._borderPath||e!=this._borderWidth){var i=b.rectangleWithBorderRadius(this._cx-this._width/2+e/2,this._cy-this._height/2+e/2,this._width-e,this._height-e,this._borderRadius,Math.min(this._width,this._height),"0");this._borderPath?this._borderPath.setCmds(i):(this._borderPath=new _e(this.getCtx(),i),this._borderPath.setInvisibleFill(),this.addChild(this._borderPath))}this._borderWidth=e,this._borderPath.setStroke(t)},de.prototype.setHollow=function(t,e){de.superclass.setHollow.call(this,t,e),this.isHollow()?(this._imageContainer=this._elem.parentNode,this._imageContainer.removeChild(this._elem)):this._imageContainer&&this._imageContainer.appendChild(this._elem)},de.prototype.copyShape=function(){return new de(this.getCtx(),this.getCx(),this.getCy(),this.getWidth(),this.getHeight(),this._getBorderRadius(),this._getImage(),this._getImageSelected(),this._getImageHover(),this._getImageHoverSelected(),null)},de.prototype.getDimensionsSelf=function(t){var e=this.getCx()-this.getWidth()/2,i=this.getCy()-this.getHeight()/2,n=new m(e,i,this.getWidth(),this.getHeight());return this.ConvertCoordSpaceRect(n,t)};const ge=function(){};i.createSubclass(ge,ot),ge.prototype.Init=function(t,e,i,n){ge.superclass.Init.call(this,t,e,n),i&&this.setPoints(i)},ge.prototype.getPoints=function(){return this.GetProperty("arPoints")},ge.prototype.setPoints=function(t){return this.SetProperty("arPoints",t),this.SetSvgProperty("points",A.convertPointsArray(t))},ge.prototype.getDimensionsSelf=function(t){var e=he.getDimensions(this.getPoints());return this.ConvertCoordSpaceRect(e,t)};const fe=function(t,e,i,n){n||this.Init(t,e,i)};i.createSubclass(fe,ge),fe.prototype.Init=function(t,e,i){fe.superclass.Init.call(this,t,"polygon",e,i)},fe.prototype.copyShape=function(){return new fe(this.getCtx(),this.getPoints())},fe.prototype.GetAriaElem=function(){return r.isTouchDevice()&&this.CreateChildGroupElem(!1,!0),fe.superclass.GetAriaElem.call(this)};const ye=function(t,e,i){this.Init(t,e,i)};i.createSubclass(ye,ge),ye.prototype.Init=function(t,e,i){ye.superclass.Init.call(this,t,"polyline",e,i),u.setAttrNullNS(this._elem,"fill","none")},ye.prototype.copyShape=function(){return new ye(this.getCtx(),this.getPoints())},ye.prototype.requiresStrokeAdjustmentForShadow=function(){return!0};const ve=function(t,e,i,n,r,o){this.Init(t,e,i,n,r,o)};i.createSubclass(ve,J),ve._PADDING=.15,ve.prototype.Init=function(t,e,i,n,r,o){ve.superclass.Init.call(this,t,"g",o),this.TextInstance=this.CreateTextInstance(t,e,i,n,o),this._backgroundRect=null,r&&this.setCSSStyle(r),this.addChild(this.TextInstance)},ve.prototype.getTextString=function(){return this.TextInstance.getTextString()},ve.prototype.setTextString=function(t){return this.TextInstance.setTextString(t),this},ve.prototype.isTruncated=function(){return this.TextInstance.isTruncated()},ve.prototype.getUntruncatedTextString=function(){return this.TextInstance.getUntruncatedTextString()},ve.prototype.setUntruncatedTextString=function(t){this.TextInstance.setUntruncatedTextString(t)},ve.prototype.getX=function(){return this.TextInstance.getX()},ve.prototype.setX=function(t){return this.TextInstance=this.TextInstance.setX(t),this._realignBackground(),this},ve.prototype.getY=function(){return this.TextInstance.getY()},ve.prototype.setY=function(t){return this.TextInstance=this.TextInstance.setY(t),this._realignBackground(),this},ve.prototype.setFontSize=function(t){this.TextInstance.setFontSize(t),this._style.setFontSize(j.FONT_SIZE,String(t),this.getCtx()),this._realignBackground()},ve.prototype.getHorizAlignment=function(){return this.TextInstance.getHorizAlignment()},ve.prototype.setHorizAlignment=function(t){this.TextInstance.setHorizAlignment(t),this._realignBackground()},ve.prototype.getVertAlignment=function(){return this.TextInstance.getVertAlignment()},ve.prototype.setVertAlignment=function(t){this.TextInstance.setVertAlignment(t),this._realignBackground()},ve.prototype.alignLeft=function(){this.TextInstance.alignLeft(),this._realignBackground()},ve.prototype.alignCenter=function(){this.TextInstance.alignCenter(),this._realignBackground()},ve.prototype.alignRight=function(){this.TextInstance.alignRight(),this._realignBackground()},ve.prototype.alignTop=function(){this.TextInstance.alignTop(),this._realignBackground()},ve.prototype.alignMiddle=function(){this.TextInstance.alignMiddle(),this._realignBackground()},ve.prototype.alignBottom=function(){this.TextInstance.alignBottom(),this._realignBackground()},ve.prototype.alignAuto=function(){this.TextInstance.alignAuto(),this._realignBackground()},ve.prototype.setCSSStyle=function(t){t.getStyle(j.BACKGROUND_COLOR)&&!t.getStyle(j.COLOR)&&t.setStyle(j.COLOR,T.getContrastingTextColor(t.getStyle(j.BACKGROUND_COLOR))),this.TextInstance&&this.TextInstance.setCSSStyle(t),(this._backgroundRect||ve._hasBackgroundStyles(t))&&(this._backgroundRect||(this._backgroundRect=this.CreateBackground(this.getCtx(),this.TextInstance),this.addChildAt(this._backgroundRect,0)),this._setBackgroundCSSStyle(this._backgroundRect,t)),this._style=t},ve.prototype.getCSSStyle=function(){return this._style},ve.prototype.setMatrix=function(t){this.TextInstance.setMatrix(t),this._backgroundRect&&this._backgroundRect.setMatrix(t)},ve.prototype.getMatrix=function(){return this.TextInstance.getMatrix()},ve.prototype.getTextDimensions=function(t){return this.TextInstance.getDimensions(t)},ve.prototype.getDimensions=function(t){var e=this.TextInstance.getDimensions(),i=e.h*ve._PADDING;return e.x-=i,e.w+=2*i,this.ConvertCoordSpaceRect(e,t)},ve.prototype.getDimensionsWithStroke=function(){return this.GetElemDimensionsWithStroke()},ve.prototype.GetDimensionsWithStroke=function(t){var e=this.GetElemDimensionsWithStroke();return t&&t!==this?this.ConvertCoordSpaceRect(e,t):e},ve.prototype.GetElemDimensionsWithStroke=function(){var t=this.getDimensions(),e=(this._backgroundRect?this._backgroundRect:this.TextInstance).getStroke();if(t&&e){var i=e.getWidth();if(i){var n=.5*i;t.x-=n,t.y-=n,t.w+=i,t.h+=i}}return t},ve.prototype.copyShape=function(){return this.TextInstance.copyShape()},ve.prototype.CreateTextInstance=function(t,e,i,n,r){return new at(t,e,i,n,r)},ve.prototype.CreateBackground=function(t,e){var i=e.getDimensions(),n=i.h*ve._PADDING;return new lt(t,i.x-n,i.y,i.w+2*n,i.h)},ve.prototype._realignBackground=function(){if(this._backgroundRect){var t=this.TextInstance.getDimensions(),e=.15*t.h,i=this.getHorizAlignment(),n=this.getVertAlignment();i==at.H_ALIGN_LEFT?this._backgroundRect.setX(this.getX()-e):i==at.H_ALIGN_CENTER?this._backgroundRect.setX(this.getX()-.5*t.w-e):i==at.H_ALIGN_RIGHT&&this._backgroundRect.setX(this.getX()-t.w-e);var o=parseFloat(this._style.getFontSize());isNaN(o)&&(o=0);var s=0;"blink"===r.engine&&n==at.V_ALIGN_MIDDLE?s=.12*o:"ie"!==r.browser&&"edge"!==r.browser||n!=at.V_ALIGN_BOTTOM||(s=.4*-o);var a=this.GetTextDimensionsForRealign(t);n==at.V_ALIGN_TOP?this._backgroundRect.setY(this.getY()):n==at.V_ALIGN_MIDDLE?this._backgroundRect.setY(this.getY()-.5*a-s):n==at.V_ALIGN_CENTRAL?this._backgroundRect.setY(this.getY()-.5*a):n==at.V_ALIGN_BOTTOM?this._backgroundRect.setY(this.getY()-a-s):n==at.V_ALIGN_AUTO&&this._backgroundRect.setY(t.y),this._backgroundRect.setWidth(t.w+2*e),this._backgroundRect.setHeight(t.h)}},ve.prototype._setBackgroundCSSStyle=function(t,e){if(e){var i=e.getStyle(j.BACKGROUND_COLOR);null!=i?t.setSolidFill(i):t.setInvisibleFill();var n=e.getStyle(j.BORDER_COLOR),r=e.getStyle(j.BORDER_WIDTH),o=e.getStyle(j.BORDER_RADIUS);if(n||r||o){var s=new j;s.setStyle(j.BORDER_COLOR,n),s.setStyle(j.BORDER_WIDTH,r),s.setStyle(j.BORDER_RADIUS,o),t.setCSSStyle(s)}}else t.setInvisibleFill();t.setMouseEnabled(!1)},ve.prototype.GetTextDimensionsForRealign=function(t){return t.h},ve._hasBackgroundStyles=function(t){return!!t&&t.hasBackgroundStyles()},ve.prototype.includeChildSubtree=function(){return!1},ve.prototype.isMultiline=function(){return!1},ve.prototype.hasBackground=function(){return!0};const Se=function(t,e,i,n,r,o,s){this.Init(t,e,i,n,r,o,s)};i.createSubclass(Se,ve),Se.prototype.Init=function(t,e,i,n,r,o,s){this._preserveNewLine=s||!1,Se.superclass.Init.call(this,t,e,i,n,r,o)},Se.prototype.wrapText=function(t,e,i,n){return this.TextInstance.wrapText(t,e,i,n)},Se.prototype.CreateTextInstance=function(t,e,i,n,r){return new mt(t,e,i,n,r,this._preserveNewLine)},Se.prototype.GetTextDimensionsForRealign=function(){return this.getLineHeight()},Se.prototype.getDimensions=function(t){var e=this.TextInstance.getDimensions(),i=e.h*ve._PADDING/this.getLineCount();return e.x-=i,e.w+=2*i,this.ConvertCoordSpaceRect(e,t)},Se.prototype.__fitText=function(t,e,i){return this.TextInstance.__fitText(t,e,i)},Se.prototype._getTextLines=function(){return this.TextInstance._getTextLines()},Se.prototype.getLineHeight=function(){return this.TextInstance.getLineHeight()},Se.prototype.getLineCount=function(){return this.TextInstance.getLineCount()},Se.prototype.getYAlignCoord=function(){return this.TextInstance.getYAlignCoord()},Se.prototype.setWrapEnabled=function(t){this.TextInstance.setWrapEnabled(t)},Se.prototype.isWrapEnabled=function(){return this.TextInstance.isWrapEnabled()},Se.prototype.UpdateSelectionEffect=function(){},Se.prototype.isMultiline=function(){return!0},Se.prototype.setMaxLines=function(t){return this.TextInstance.setMaxLines(t)};const Te=function(t,e){this.Init(t,e)};i.createSubclass(Te,i),Te.FONT_SIZE_11=(Te.FONT_SIZE="font-size: ")+"11px;",Te.FONT_SIZE_12=Te.FONT_SIZE+"12px;",Te.FONT_SIZE_13=Te.FONT_SIZE+"13px;",Te.FONT_SIZE_14=Te.FONT_SIZE+"14px;",Te.FONT_WEIGHT_BOLD="font-weight: bold;",Te.FONT_FAMILY_ALTA_11=(Te.FONT_FAMILY_ALTA="font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;")+Te.FONT_SIZE_11,Te.FONT_FAMILY_ALTA_12=Te.FONT_FAMILY_ALTA+Te.FONT_SIZE_12,Te.FONT_FAMILY_ALTA_13=Te.FONT_FAMILY_ALTA+Te.FONT_SIZE_13,Te.FONT_FAMILY_ALTA_14=Te.FONT_FAMILY_ALTA+Te.FONT_SIZE_14,Te.FONT_FAMILY_ALTA_BOLD_11=(Te.FONT_FAMILY_ALTA_BOLD=Te.FONT_FAMILY_ALTA+Te.FONT_WEIGHT_BOLD)+Te.FONT_SIZE_11,Te.FONT_FAMILY_ALTA_BOLD_12=Te.FONT_FAMILY_ALTA_BOLD+Te.FONT_SIZE_12,Te.FONT_FAMILY_ALTA_BOLD_13=Te.FONT_FAMILY_ALTA_BOLD+Te.FONT_SIZE_13,Te.FONT_FAMILY_ALTA_BOLD_14=Te.FONT_FAMILY_ALTA_BOLD+Te.FONT_SIZE_14,Te._SKINS=[j.SKIN_ALTA],Te.prototype.Init=function(t,e){this._defaults=t||{},this._context=e,this.constructor.defaultsCache||(this.constructor.defaultsCache={})},Te.prototype.getBaseSkinName=function(){return j.SKIN_ALTA},Te.prototype.calcOptions=function(t){var e=t?t.skin:null,i=this.getDefaults(e);if(!t)return i;var n=this.getNoCloneObject();if(this._context&&this._context.dataProviderProps)for(var r=this._context.dataProviderProps,o=0;o<r.length;o++)n[r[o]]=!0;var s=Et.merge(t,i,n);return 0==this.getAnimationDuration(s)&&(s.animationOnDataChange="none",s.animationOnDisplay="none"),s},Te.prototype.getDefaults=function(t){if(t||(t=this.getBaseSkinName()),this.constructor.defaultsCache[t])return Et.clone(this.constructor.defaultsCache[t]);for(var e=Math.max(Te._SKINS.indexOf(t),0),i=Et.clone(this._defaults[Te._SKINS[0]]),n=1;n<=e;n++)i=Et.merge(this._defaults[Te._SKINS[n]],i);return this.constructor.defaultsCache[t]=Et.clone(i),i},Te.prototype.getNoCloneObject=function(){return{}},Te.prototype.getAnimationDuration=function(t){return t.styleDefaults&&t.styleDefaults.animationDuration?t.styleDefaults.animationDuration:t.animationDuration?t.animationDuration:null};const Ee=function(t,e,i,n){Ee.superclass.Init.call(this,t),this._callback=e,this._callbackObj=i,this._dragTarget=n};i.createSubclass(Ee,J),Ee._THUMB_MIN_SIZE=12,Ee.prototype.render=function(t,e,i){this._width=e,this._height=i,this._globalMin=t.min,this._globalMax=t.max,this._isHoriz=t.isHorizontal,this._isReversed=t.isReversed;var n=new lt(this.getCtx(),0,0,e,i);n.setSolidFill(t.backgroundColor),n.setPixelHinting(!0),this.addChild(n),this._thumb=new lt(this.getCtx(),0,0,e,i),this._thumb.setSolidFill(t.color),this._thumb.setPixelHinting(!0),this.addChild(this._thumb),this._thumbMin=this._globalMin,this._thumbMax=this._globalMax,this._renderedThumbMin=this._thumbMin,this._renderedThumbMax=this._thumbMax;var o=r.isTouchDevice()?8:4,s=new lt(this.getCtx(),-o,-o,this._width+2*o,this._height+2*o);s.setInvisibleFill(),this.addChild(s);var a=null!=this._dragTarget;gt.addDragListeners(a?this._dragTarget:this,this._onDragStart,this._onDragMove,this._onDragEnd,this,!a),r.isTouchDevice()||a||this.addEvtListener(F.CLICK,this._onClick,!1,this),this._dragged=!1},Ee.prototype.setViewportRange=function(t,e,i,n){null!=i&&(this._globalMin=i),null!=n&&(this._globalMax=n),this._thumbMin=t,this._thumbMax=e;var r=e-t,o=this._globalMax-this._globalMin,s=Math.min(Ee._THUMB_MIN_SIZE/(this._isHoriz?this._width:this._height)*o,o);r<s&&(e+=(s-r)/2,(t-=(s-r)/2)<this._globalMin&&(t=this._globalMin,e=this._globalMin+s),e>this._globalMax&&(e=this._globalMax,t=this._globalMax-s)),this._renderedThumbMin=t,this._renderedThumbMax=e;var a=this._getCoord(t),h=this._getCoord(e);this._isHoriz?(this._thumb.setX(Math.min(a,h)),this._thumb.setWidth(Math.abs(h-a))):(this._thumb.setY(Math.min(a,h)),this._thumb.setHeight(Math.abs(h-a)))},Ee.prototype._getCoord=function(t){var e=(t-this._globalMin)/(this._globalMax-this._globalMin);return this._isReversed&&(e=1-e),this._isHoriz?e*this._width:e*this._height},Ee.prototype._getValue=function(t,e){var i=this.stageToLocal(this.getCtx().pageToStageCoords(t,e)),n=this._isHoriz?i.x/this._width:i.y/this._height;return this._isReversed&&(n=1-n),n=Math.min(Math.max(n,0),1),this._globalMin+n*(this._globalMax-this._globalMin)},Ee.prototype._onClick=function(t){var e=this._getValue(t.pageX,t.pageY);if(!(e>=this._renderedThumbMin&&e<=this._renderedThumbMax)){var i=this._thumbMax-this._thumbMin;this._setViewportRange(e-i/2,e+i/2,"end")}},Ee.prototype._onDragStart=function(t){var e;if(t.touches){if(1!=t.touches.length)return!1;e=this._getValue(t.touches[0].pageX,t.touches[0].pageY)}else e=this._getValue(t.pageX,t.pageY);return!!(this._dragTarget||e>=this._renderedThumbMin&&e<=this._renderedThumbMax)&&(this._prevVal=Math.min(Math.max(e,this._thumbMin),this._thumbMax),this._dragged=!0,!0)},Ee.prototype._onDragMove=function(t){if(this._dragged){var e;if(t.touches){if(1!=t.touches.length)return;e=this._getValue(t.touches[0].pageX,t.touches[0].pageY)}else e=this._getValue(t.pageX,t.pageY);var i=e-this._prevVal;this._dragTarget&&(i*=-1),this._setViewportRange(this._thumbMin+i,this._thumbMax+i,"move"),this._prevVal=e,t.preventDefault()}},Ee.prototype._onDragEnd=function(t){if(this._dragged){if(t.touches)this._setViewportRange(this._thumbMin,this._thumbMax,"end");else{var e=this._getValue(t.pageX,t.pageY)-this._prevVal;this._setViewportRange(this._thumbMin+e,this._thumbMax+e,"end")}this._dragged=!1}},Ee.prototype._setViewportRange=function(t,e,i){var n=e-t;if(t<this._globalMin&&(t=this._globalMin,e=this._globalMin+n),e>this._globalMax&&(e=this._globalMax,t=this._globalMax-n),this.setViewportRange(t,e),this._callback){var r=yt.newSimpleScrollbarEvent(i,t,e);this._callback.call(this._callbackObj,r,this)}};const me=function(t,e,i,n,o){me.superclass.Init.call(this,t),this._contentSize=o?e:i,this._width=e,this._height=i,this._background=new lt(t,0,0,e,i),this._background.setInvisibleFill(),this.addChild(this._background),this._container=new J(t),this.addChild(this._container),this._isHorizontalScrolling=o,this._isScrollbarVisible=!1,this.scrolling=n,r.isTouchDevice()||this.addEvtListener(F.MOUSEWHEEL,this._onMouseWheel,!1,this)};i.createSubclass(me,J),me._SCROLLBAR_WIDTH=3,me._SCROLLBAR_GAP=2,me.prototype.getScrollingPane=function(){return this._container},me.prototype.prepareContentPane=function(){var t=this._container.getDimensions();if(this._isHorizontalScrolling?this._contentSize=t.w+t.x:this._contentSize=t.h+t.y,this.hasScrollingContent()){if(this._isHorizontalScrolling?this._contentSize+=t.x:this._contentSize+=t.y,!this._maskContainer){var e=new m(0,0,this._width,this._height);this._fadeTop=new xt(new ie(this._isHorizontalScrolling?0:270,["#FFFFFF","#FFFFFF"],[0,1],[0,.1]),e),this._fadeBottom=new xt(new ie(this._isHorizontalScrolling?180:90,["#FFFFFF","#FFFFFF"],[0,1],[0,.1]),e),this._fadeTopBottom=new xt(new ie(this._isHorizontalScrolling?180:90,["#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF"],[0,1,1,0],[0,.1,.9,1]),e),this._maskContainer=new J(this.getCtx()),this.addChild(this._maskContainer);var i=new p;i.addRect(0,0,this._width,this._height),this._container.setClipPath(i),this._maskContainer.addChild(this._container),this._scrollbar=new Ee(this.getCtx(),this._handleScrollbar,this,this),this._scrollbarTimer=new ut(this.getCtx(),100,this._hideScrollbar,this)}this._maskContainer.setMask(this._fadeBottom);var n={color:"#9E9E9E",backgroundColor:"#F0F0F0",isHorizontal:this._isHorizontalScrolling,isReversed:!1,min:0,max:this._contentSize};this._isHorizontalScrolling?(this._scrollbar.render(n,this._getScrollbarWidth(),me._SCROLLBAR_WIDTH),this._scrollbar.setTranslate(me._SCROLLBAR_GAP,this._height-(me._SCROLLBAR_WIDTH+me._SCROLLBAR_GAP))):(this._scrollbar.render(n,me._SCROLLBAR_WIDTH,this._getScrollbarWidth()),this._scrollbar.setTranslate(r.isRightToLeft(this.getCtx())?me._SCROLLBAR_GAP:this._width-(me._SCROLLBAR_WIDTH+me._SCROLLBAR_GAP),me._SCROLLBAR_GAP)),this._scrollbar.setViewportRange(0,this._getAvailSize()),r.isEnvironmentTest()||this._scrollbar.setAlpha(0),this.addChild(this._scrollbar),"always"===this.scrolling&&this._showScrollbar()}else this.addChild(this._container),this.removeChild(this._maskContainer),this.removeChild(this._scrollbar)},me.prototype._getScrollbarWidth=function(){return(this._isHorizontalScrolling?this._width:this._height)-2*me._SCROLLBAR_GAP},me.prototype._getAvailSize=function(){return this._isHorizontalScrolling?this._width:this._height},me.prototype._hideScrollbar=function(t){this._isScrollbarVisible&&"always"!==this.scrolling&&(this._isScrollbarVisible=!1,this._scrollbarTimer.reset(),this._fadeOutAnim=new Kt(this.getCtx(),this._scrollbar,.2),this._fadeOutAnim.play())},me.prototype._showScrollbar=function(t){this._isScrollbarVisible?(this._scrollbarTimer.reset(),this._scrollbarTimer.start()):(this._fadeOutAnim&&(this._fadeOutAnim.stop(!0),this._fadeOutAnim=null),this._scrollbar.setAlpha(1),this._isScrollbarVisible=!0,this._scrollbarTimer.start())},me.prototype._updateFade=function(t){0==t?this._maskContainer.setMask(this._fadeBottom):t+this._getAvailSize()>=this._contentSize?this._maskContainer.setMask(this._fadeTop):this._maskContainer.setMask(this._fadeTopBottom)},me.prototype._onMouseWheel=function(t){if(this.hasScrollingContent()){this._showScrollbar();var e=null!=t.wheelDelta?t.wheelDelta:0,i=-1*(this._isHorizontalScrolling?this._container.getTranslateX():this._container.getTranslateY())-4*e,n=Math.max(this._contentSize-this._getAvailSize(),0),r=Math.max(Math.min(i,n),0);this._isHorizontalScrolling?(this._container.setTranslateX(-1*r),this._scrollbar.setViewportRange(r+this._width,r)):(this._container.setTranslateY(-1*r),this._scrollbar.setViewportRange(r,r+this._height)),this._updateFade(r),t.preventDefault()}},me.prototype._handleScrollbar=function(t){this._showScrollbar(),this._isHorizontalScrolling?this._container.setTranslateX(-1*t.newMin):this._container.setTranslateY(-1*t.newMin),this._updateFade(t.newMin)},me.prototype.getWidth=function(){return this._width},me.prototype.getHeight=function(){return this._height},me.prototype.scrollIntoView=function(t){if(this.hasScrollingContent()){var e,i=t.getDimensions(t.getParent()),n=this._container.getDimensions();if(this._isHorizontalScrolling){var r=-1*this._container.getTranslateX(),o=i.x-n.x,s=i.x+i.w-this._width+n.x;r<s?(this._container.setTranslateX(-1*s),this._scrollbar.setViewportRange(s+this._width,s),e=s):r>o&&(this._container.setTranslateX(-1*o),this._scrollbar.setViewportRange(o+this._width,o),e=o)}else{var a=-1*this._container.getTranslateY(),h=i.y-n.y,l=i.y+i.h-this._height+n.y;a<l?(this._container.setTranslateY(-1*l),this._scrollbar.setViewportRange(l,l+this._height),e=l):a>h&&(this._container.setTranslateY(-1*h),this._scrollbar.setViewportRange(h,h+this._height),e=h)}null!=e&&this._updateFade(e)}},me.prototype.hasScrollingContent=function(){return this._contentSize>this._getAvailSize()};const be=function(t,e,i,n,r,o,s,a){this.Init(t,e,i,n,r,o,s,a)};i.createSubclass(be,J),be.STATE_ENABLED=0,be.STATE_OVER=1,be.STATE_DOWN=2,be.STATE_DISABLED=3,be.NO_EVENT_LISTENERS=!0,be.prototype.Init=function(t,e,i,n,r,o,s,a){be.superclass.Init.call(this,t,null,o),this.setCallback(s,a),this._bDuringInit=!0,this.setUpState(e),this.setOverState(i),this.setDownState(n),r&&this.setDisabledState(r),this.setEnabled(!0),this.drawUpState(),this._tooltip=null,this._bToggleEnabled=!1,this._bToggled=!1,this._bDuringInit=!1},be.prototype.isEnabled=function(){return this._enabled},be.prototype.setEnabled=function(t){if(this._enabled!=t){this._enabled=t;var e=r.isTouchDevice(),i=e?L.TOUCHSTART:F.CLICK,n=e?{capture:!1,passive:!1}:{capture:!1};t?(this.addEvtListener(F.MOUSEOVER,this.OnMouseOver,!1,this),this.addEvtListener(F.MOUSEOUT,this.OnMouseOut,!1,this),this.addEvtListener(F.MOUSEDOWN,this.OnMouseDown,!1,this),this.addEvtListener(F.MOUSEUP,this.OnMouseUp,!1,this),this.addEvtListener(i,this.OnClick,n,this),this.setCursor(rt.getSelectingCursor())):(this.removeEvtListener(F.MOUSEOVER,this.OnMouseOver,!1,this),this.removeEvtListener(F.MOUSEOUT,this.OnMouseOut,!1,this),this.removeEvtListener(F.MOUSEDOWN,this.OnMouseDown,!1,this),this.removeEvtListener(F.MOUSEUP,this.OnMouseUp,!1,this),this.removeEvtListener(i,this.OnClick,n,this),this.setCursor(null)),this.initState()}},be.prototype.OnMouseOver=function(t){this._bToggled?this.drawOverDownState():this.drawOverState()},be.prototype.OnMouseOut=function(t){this._bToggled?this.drawDownState():this.drawUpState()},be.prototype.OnMouseDown=function(t){this.drawDownState()},be.prototype.OnMouseUp=function(t){this._bToggled?r.isTouchDevice()?this.drawDownState():this.drawOverDownState():r.isTouchDevice()?this.drawUpState():this.drawOverState()},be.prototype.OnClick=function(t){this._bToggleEnabled&&(this._bToggled=!this._bToggled,this._bToggled?r.isTouchDevice()?this.drawDownState():this.drawOverDownState():r.isTouchDevice()?this.drawUpState():this.drawOverState()),this._callback&&(this._callback.call(this._callbackObj,t,this),t.stopPropagation(),t.preventDefault())},be.prototype.drawUpState=function(){this._enableButton(this.upState,!0),this._enableButton(this.downState,!1),this._enableButton(this.overState,!1),this._enableButton(this.disabledState,!1),this._enableButton(this.overDownState,!1)},be.prototype.drawOverState=function(){this._enableButton(this.upState,!1),this._enableButton(this.downState,!1),this._enableButton(this.overState,!0),this._enableButton(this.disabledState,!1),this._enableButton(this.overDownState,!1)},be.prototype.drawDownState=function(){this._enableButton(this.upState,!1),this._enableButton(this.downState,!0),this._enableButton(this.overState,!1),this._enableButton(this.disabledState,!1),this._enableButton(this.overDownState,!1)},be.prototype.drawDisabledState=function(){this._enableButton(this.upState,!1),this._enableButton(this.overState,!1),this._enableButton(this.downState,!1),this._enableButton(this.disabledState,!0),this._enableButton(this.overDownState,!1)},be.prototype.drawOverDownState=function(){this.overDownState?(this._enableButton(this.upState,!1),this._enableButton(this.overState,!1),this._enableButton(this.downState,!1),this._enableButton(this.disabledState,!1),this._enableButton(this.overDownState,!0)):this.drawDownState()},be.prototype._enableButton=function(t,e){t&&t.setAlpha(e?1:0)},be.prototype._enableMouseEvents=function(t,e){t.setMouseEnabled&&t.setMouseEnabled(e);for(var i=t.firstChild;null!=i;)this._enableMouseEvents(i,e),i=i.nextSibling},be.prototype.setUpState=function(t){if(!this.upState||this.upState!=t){var e=!1;if(this.upState)e=this._isButtonEnabled(this.upState),this.removeChild(this.upState);else if(!this._bDuringInit){var i=!1,n=!1,r=!1;this.downState&&(i=this._isButtonEnabled(this.downState)),this.overState&&(n=this._isButtonEnabled(this.overState)),this.disabledState&&(r=this._isButtonEnabled(this.disabledState)),i||n||r||(e=!0)}t&&this.addChild(t),this.upState=t,this._enableButton(this.upState,e)}},be.prototype.setDownState=function(t){if(!this.downState||this.downState!=t){var e=!1;this.downState&&(e=this._isButtonEnabled(this.downState),this.removeChild(this.downState)),t&&this.addChild(t),this.downState=t,this._enableButton(this.downState,e)}},be.prototype.setOverState=function(t){if(!this.overState||this.overState!=t){var e=!1;this.overState&&(e=this._isButtonEnabled(this.overState),this.removeChild(this.overState)),t&&this.addChild(t),this.overState=t,this._enableButton(this.overState,e)}},be.prototype.setDisabledState=function(t){if(!this.disabledState||this.disabledState==t){var e=!1;this.disabledState&&(e=this._isButtonEnabled(this.disabledState),this.removeChild(this.disabledState)),t&&this.addChild(t),this.disabledState=t,this._enableButton(this.disabledState,e)}},be.prototype.setOverDownState=function(t){if(!this.overDownState||this.overDownState==t){var e=!1;this.overDownState&&(e=this._isButtonEnabled(this.overDownState),this.removeChild(this.overDownState)),t&&this.addChild(t),this.overDownState=t,this._enableButton(this.overDownState,e)}},be.prototype.setCallback=function(t,e){this._callback=t,this._callbackObj=e},be.prototype.setTooltip=function(t){this._tooltip=t,t&&(this.setAriaRole("button"),this.setAriaProperty("label",t))},be.prototype.getTooltip=function(){return this._tooltip},be.prototype.initState=function(){this.isEnabled()?this.drawUpState():this.drawDisabledState()},be.prototype.setToggleEnabled=function(t){this._bToggleEnabled=t},be.prototype.setToggled=function(t){this._bToggleEnabled&&(this._bToggled=t,this._bToggled?this.drawDownState():this.drawUpState())},be.prototype.isToggled=function(){return this._bToggled},be.prototype._isButtonEnabled=function(t){var e=!1;return t&&(e=t.getAlpha()>0),e},be.prototype.showKeyboardFocusEffect=function(){this._keyboardFocusEffect||(this._keyboardFocusEffect=this.CreateKeyboardFocusEffect()),this._keyboardFocusEffect.show(),this._isShowingKeyboardFocusEffect=!0,this.getCtx().setActiveElement(this)},be.prototype.hideKeyboardFocusEffect=function(){this._keyboardFocusEffect&&this._keyboardFocusEffect.hide(),this._isShowingKeyboardFocusEffect=!1},be.prototype.isShowingKeyboardFocusEffect=function(){return this._isShowingKeyboardFocusEffect},be.prototype.CreateKeyboardFocusEffect=function(){return new ne(this.getCtx(),this,this.getDimensions(),null,null,!0)},be.prototype.handleKeyboardEvent=function(t){var e=t.keyCode;e!=P.ENTER&&e!=P.SPACE||this._callback&&(this._callback.call(this._callbackObj,t,this),t.stopPropagation(),t.preventDefault())};const Ce=function(t,e,i,n,r,o,s){this.Init(t,e,i,n,r,o,s)};i.createSubclass(Ce,J),Ce.prototype.Init=function(t,e,i,n,r,o,s){Ce.superclass.Init.call(this,t,null,r),this.setCallback(o,s),this._chroming=e,n||(n=this._createDefaultBackground(i.size));var a=n.copyShape();a.setClassName("oj-dvt-button-background"),this.addChild(a),this.addChild(n);var h=at.createIcon(this.getCtx(),i);this.addChild(h),this._tooltip=null,this._bToggleEnabled=!1,this._bToggled=!1,this._bMouseOver=!1,this._bMouseDown=!1,this.setEnabled(!0)},Ce.prototype._createDefaultBackground=function(t){var e=b.roundedRectangle(-4,-4,t+8,t+8,4,4,4,4),i=new _e(this.getCtx(),e);return i.setPixelHinting(r.getDevicePixelRatio()>1),i},Ce.prototype.isEnabled=function(){return this._enabled},Ce.prototype.setEnabled=function(t){if(this._enabled!=t){this._enabled=t;var e=r.isTouchDevice(),i=e?L.TOUCHSTART:F.CLICK,n=e?{capture:!1,passive:!1}:{capture:!1};t?(this.addEvtListener(F.MOUSEOVER,this.OnMouseOver,!1,this),this.addEvtListener(F.MOUSEOUT,this.OnMouseOut,!1,this),this.addEvtListener(F.MOUSEDOWN,this.OnMouseDown,!1,this),this.addEvtListener(F.MOUSEUP,this.OnMouseUp,!1,this),this.addEvtListener(i,this.OnClick,n,this),this.setCursor(rt.getSelectingCursor())):(this.removeEvtListener(F.MOUSEOVER,this.OnMouseOver,!1,this),this.removeEvtListener(F.MOUSEOUT,this.OnMouseOut,!1,this),this.removeEvtListener(F.MOUSEDOWN,this.OnMouseDown,!1,this),this.removeEvtListener(F.MOUSEUP,this.OnMouseUp,!1,this),this.removeEvtListener(i,this.OnClick,n,this),this.setCursor(null),this._bMouseOver=!1,this._bMouseDown=!1),this._updateClasses()}},Ce.prototype.OnMouseOver=function(t){this._bMouseOver=!0,this._updateClasses()},Ce.prototype.OnMouseOut=function(t){this._bMouseOver=!1,this._updateClasses()},Ce.prototype.OnMouseDown=function(t){this._bMouseDown=!0,this._updateClasses()},Ce.prototype.OnMouseUp=function(t){this._bMouseDown=!1,this._updateClasses()},Ce.prototype.OnClick=function(t){this._bToggleEnabled&&this.setToggled(!this._bToggled),this._callback&&(this._callback.call(this._callbackObj,t,this),t.stopPropagation(),t.preventDefault())},Ce.prototype.setCallback=function(t,e){this._callback=t,this._callbackObj=e},Ce.prototype.setTooltip=function(t){this._tooltip=t,t&&(this.setAriaRole("button"),this.setAriaProperty("label",t))},Ce.prototype.getTooltip=function(){return this._tooltip},Ce.prototype.setToggleEnabled=function(t){this._bToggleEnabled=t,this._updateClasses()},Ce.prototype.setToggled=function(t){this._bToggleEnabled&&(this._bToggled=t,this._updateClasses())},Ce.prototype.isToggled=function(){return this._bToggled},Ce.prototype.showKeyboardFocusEffect=function(){this._keyboardFocusEffect||(this._keyboardFocusEffect=this.CreateKeyboardFocusEffect()),this._keyboardFocusEffect.show(),this._isShowingKeyboardFocusEffect=!0,this.getCtx().setActiveElement(this)},Ce.prototype.hideKeyboardFocusEffect=function(){this._keyboardFocusEffect&&this._keyboardFocusEffect.hide(),this._isShowingKeyboardFocusEffect=!1},Ce.prototype.isShowingKeyboardFocusEffect=function(){return this._isShowingKeyboardFocusEffect},Ce.prototype.CreateKeyboardFocusEffect=function(){return new ne(this.getCtx(),this,this.getDimensions(),null,null,!0)},Ce.prototype.handleKeyboardEvent=function(t){var e=t.keyCode;e!=P.ENTER&&e!=P.SPACE||this._callback&&(this._callback.call(this._callbackObj,t,this),t.stopPropagation(),t.preventDefault())},Ce.prototype._updateClasses=function(){this.getElem();var t=!1,e=!1,i=!1,n=this._bToggleEnabled&&this._bToggled,r=this._bToggleEnabled&&!this._bToggled;this._enabled?(e=this._bMouseOver,i=this._bMouseDown):t=!0,this.setClassName(`oj-dvt-button-${this._chroming}${n?" oj-selected":""}${r?" oj-unselected":""}${t?" oj-disabled":""}${e?" oj-hover":""}${i?" oj-active":""}`)};const Ae=function(t,e,i,n,r){this.Init(t,e,i,n,r)};i.createSubclass(Ae,Ce),Ae._DEFAULT_RADIUS=15.5,Ae.prototype.Init=function(t,e,i,n,o){var s=Ae._DEFAULT_RADIUS,a=new le(t,s,s,s);Ae.superclass.Init.call(this,t,"outlined",{style:e,size:i,pos:{x:s,y:s}},a,null,o,n);var h=t.getStage();h.addEvtListener(H.FOCUS,this._onFocus,!0,this),h.addEvtListener(H.BLUR,this._onBlur,!0,this),r.isTouchDevice()||("ie"===r.browser||"edge"===r.browser?(h.addEvtListener("mouseenter",this._onMouseOver,!1,this),h.addEvtListener("mouseleave",this._onMouseOut,!1,this)):(h.addEvtListener(F.MOUSEOVER,this._onMouseOver,!1,this),h.addEvtListener(F.MOUSEOUT,this._onMouseOut,!1,this)))},Ae.prototype.show=function(){this.setAlpha(1)},Ae.prototype.hide=function(){this.setAlpha(0)},Ae.prototype._onFocus=function(t){this._isFocused=!0,this.show()},Ae.prototype._onBlur=function(t){this._isFocused=!1,this._isMouseOver||this.hide()},Ae.prototype._onMouseOver=function(t){this._mouseOutTimer&&this._mouseOutTimer.isRunning()&&this._mouseOutTimer.stop(),this._isMouseOver=!0,this.show()},Ae.prototype._onMouseOut=function(t){this._mouseOutTimer||(this._mouseOutTimer=new ut(this.getCtx(),10,this._onMouseOutTimerEnd,this,1)),this._mouseOutTimer.reset(),this._mouseOutTimer.start()},Ae.prototype._onMouseOutTimerEnd=function(){this._isMouseOver=!1,this._isFocused||this.hide()},Ae.prototype.OnMouseDown=function(t){Ae.superclass.OnMouseDown.call(this,t),t.stopPropagation()},Ae.prototype.OnMouseUp=function(t){Ae.superclass.OnMouseUp.call(this,t),t.stopPropagation()};const Oe=function(t,e,i,n){this.Init(t,e,i,n)};i.createSubclass(Oe,i),Oe.prototype.Init=function(t,e,i,n){this._tooltipManager=t,this._tooltipFunc=e,this._datatipColor=i,this._dataContext=n},Oe.prototype.getDatatip=function(t){return this._tooltipManager.getCustomTooltip(this._tooltipFunc,this._dataContext)},Oe.prototype.getDatatipColor=function(t){return this._datatipColor};const Ie=function(t){this.Init(t)};i.createSubclass(Ie,i),Ie.prototype.Init=function(t){this._comp=t},Ie.TOOLTIP_SUBID="tooltip",Ie.prototype.getSubIdForDomElement=function(t){var e=Ie._findDisplayable(t);return!e||e instanceof Array?t&&this.IsTooltipElement(t)?Ie.TOOLTIP_SUBID:null:this.GetSubIdForDomElement(e)},Ie.prototype.GetSubIdForDomElement=function(t){return null},Ie.prototype.getDomElementForSubId=function(t){return null},Ie._findDisplayable=function(t){for(;t;){if(t._obj)return t._obj;t=t.parentNode}return null},Ie.prototype.GetTooltipElement=function(t,e){if(t){var i=t.getCtx().getTooltipManager(e).getTooltipElem();return"hidden"==i.style.visibility?null:i}return null},Ie.prototype.IsTooltipElement=function(t){var e=t.getAttribute("id");return!(!e||0!=e.indexOf(it._TOOLTIP_DIV_ID))};const Ne=function(t){this.Init(t)};i.createSubclass(Ne,i),Ne.prototype.Init=function(t){this._eventManager=t},Ne.prototype.processKeyDown=function(t){let e=this._eventManager.getComponent().getOptionsCache().getFromCache("noDataPeer");if(e)return Nt.consumeEvent(t),e;var i=this._eventManager.getFocus();return i&&(this.isNavigationEvent(t)||this.isMultiSelectEvent(t))?(Nt.consumeEvent(t),i.getNextNavigable(t)):null},Ne.getNextNavigable=function(t,e,i,n,r,o){if(!t)return!i||i.length<1?null:i[0];for(var s,a=null,h=0,l=0,u=0,c=0,_=e.keyCode,p=o&&Ne.getPerpendicularDirection(e.keyCode),d=t.getKeyboardBoundingBox(r),g=0;g<i.length;g++){var f=i[g];t!==f&&(s=f.getKeyboardBoundingBox(r),(n||Ne._isInBounds(d,s,_))&&(u=Ne._computeDelta(d,s,_),c=o&&Math.abs(Ne._computeDelta(d,s,p)),((_==P.UP_ARROW||_==P.LEFT_ARROW)&&u<0&&(!a||u>h)||(_==P.DOWN_ARROW||_==P.RIGHT_ARROW)&&u>0&&(!a||u<h)||o&&u===h&&c<l&&0!==u)&&(a=f,h=u,l=c)))}return a||t},Ne.getPerpendicularDirection=function(t){return t===P.UP_ARROW?P.RIGHT_ARROW:t===P.RIGHT_ARROW?P.DOWN_ARROW:t===P.DOWN_ARROW?P.LEFT_ARROW:t===P.LEFT_ARROW?P.UP_ARROW:void 0},Ne.prototype.getDefaultNavigable=function(t){if(!t||t.length<=0)return null;for(var e,i,n=t[0],o=n.getKeyboardBoundingBox(),s=1;s<t.length;s++)(((i=(e=t[s]).getKeyboardBoundingBox()).x==o.x&&i.y<o.y||i.x<o.x)&&!r.isRightToLeft(this._eventManager.getCtx())||(i.x+i.w==o.x+o.w&&i.y<o.y||i.x+i.w>o.x+o.w)&&r.isRightToLeft(this._eventManager.getCtx()))&&(o=(n=e).getKeyboardBoundingBox());return n},Ne.prototype.isNavigationEvent=function(t){switch(t.keyCode){case P.UP_ARROW:case P.DOWN_ARROW:case P.LEFT_ARROW:case P.RIGHT_ARROW:return!0}return!1},Ne.prototype.isSelectionEvent=function(t){return!1},Ne.prototype.isMultiSelectEvent=function(t){return!1},Ne._isInBounds=function(t,e,i){if(i==P.UP_ARROW||i==P.DOWN_ARROW){var n=t.x,r=n+t.w,o=e.x;return!(n>=o+e.w||r<=o)}if(i==P.LEFT_ARROW||i==P.RIGHT_ARROW){var s=t.y,a=s+t.h,h=e.y;return!(s>=h+e.h||a<=h)}},Ne._computeDelta=function(t,e,i){var n=0,r=t.getCenter().x,o=t.getCenter().y,s=e.getCenter().x,a=e.getCenter().y;return i==P.UP_ARROW||i==P.DOWN_ARROW?n=a-o:i!=P.LEFT_ARROW&&i!=P.RIGHT_ARROW||(n=s-r),n},Ne.getNextAdjacentNavigable=function(t,e,i,n){var r=e.keyCode;if(!i)return null;if(!t)return i[0];for(var o=t,s=Number.MAX_VALUE,a=!1,h=!1,l=0;l<i.length;l++){var u=i[l];if(u!==t){if(Ne._isValidDestination(u,t,r,n)){var c=Ne._calcInContact(u,t,r);if(!a||c){var _=Ne._calcDistanceAngleWeighted(u,t,r);(0!=_||h)&&(!a&&c||_<s&&(a&&c||!a))&&(s=_,o=u,a=c)}}}else h=!0}return o},Ne._calcInContact=function(t,e,i){var n=t.getKeyboardBoundingBox(),r=e.getKeyboardBoundingBox();switch(i){case P.UP_ARROW:return Ne._isVerticallyAligned(n,r)&&(r.y<=n.y+n.h||Ne._areEqualWithinTolerance(r.y,n.y+n.h));case P.DOWN_ARROW:return Ne._isVerticallyAligned(n,r)&&(n.y<=r.y+r.h||Ne._areEqualWithinTolerance(n.y,r.y+r.h));case P.RIGHT_ARROW:return Ne._isHorizontallyAligned(n,r)&&(n.x<=r.x+r.w||Ne._areEqualWithinTolerance(n.x,r.x+r.w));case P.LEFT_ARROW:return Ne._isHorizontallyAligned(n,r)&&(r.x<=n.x+n.w||Ne._areEqualWithinTolerance(r.x,n.x+n.w))}return!1},Ne._isVerticallyAligned=function(t,e){return t.x>=e.x&&t.x<=e.x+e.w||e.x>=t.x&&e.x<=t.x+t.w},Ne._isHorizontallyAligned=function(t,e){return t.y>=e.y&&t.y<=e.y+e.h||e.y>=t.y&&e.y<=t.y+t.h},Ne._calcDistanceAngleWeighted=function(t,e,i){var n=15/180*Math.PI,r=40/180*Math.PI,o=t.getKeyboardBoundingBox(),s=o.x+o.w/2,a=o.y+o.h/2,h=e.getKeyboardBoundingBox(),l=h.x+h.w/2,u=h.y+h.h/2,c=Math.abs(s-l),_=Math.abs(a-u),p=Math.atan2(_,c),d=Math.sqrt(c*c+_*_);return(p>n&&(i==P.RIGHT_ARROW||i==P.LEFT_ARROW)||p<S.HALF_PI-n&&(i==P.UP_ARROW||i==P.DOWN_ARROW))&&(p>r&&(i==P.RIGHT_ARROW||i==P.LEFT_ARROW)||p<S.HALF_PI-r&&(i==P.UP_ARROW||i==P.DOWN_ARROW)?d*=6:d*=2),d},Ne._isValidDestination=function(t,e,i,n){var r=t.getKeyboardBoundingBox(),o=e.getKeyboardBoundingBox();if(n){var s=r.x+.5*r.w,a=o.x+.5*o.w,h=r.y+.5*r.h,l=o.y+.5*o.h;switch(i){case P.UP_ARROW:return h<l;case P.DOWN_ARROW:return r.y>l;case P.RIGHT_ARROW:return s>a;case P.LEFT_ARROW:return s<a}return!0}switch(i){case P.UP_ARROW:return r.y<o.y||Ne._areEqualWithinTolerance(r.y,o.y);case P.DOWN_ARROW:return r.y>o.y||Ne._areEqualWithinTolerance(r.y,o.y);case P.RIGHT_ARROW:return r.x>o.x||Ne._areEqualWithinTolerance(r.x,o.x);case P.LEFT_ARROW:return r.x<o.x||Ne._areEqualWithinTolerance(r.x,o.x)}return!0},Ne._areEqualWithinTolerance=function(t,e){return Math.abs(t-e)<=1e-7};const Re=function(t,e,i,n,r,o,s,a,h){this.Init(t,e,i,n,r,o,s,a,h)};i.createSubclass(Re,i),Re.prototype.Init=function(t,e,i,n,r,o,s,a,h){this._context=t.getCtx(),this._container=t,this._bounds=e,this._fill=n,this._stroke=r,this._strokeWidth=1,this._allowHoriz=null==o||o,this._allowVert=null==s||s,this._horizBounds=a,this._vertBounds=h,this._glassPane=new lt(this._context,i.x,i.y,i.w,i.h),this._glassPane.setInvisibleFill(),this._marqueeOn=!1,this._marqueeDrawn=!1,this._resizeHoriz=!1,this._resizeVert=!1},Re.prototype.processDragStart=function(t,e){if(!this._marqueeOn){if(this._origPt=this._container.stageToLocal(t),this._resizeHoriz=this._allowHoriz,this._resizeVert=this._allowVert,!this._bounds.containsPoint(this._origPt.x,this._origPt.y))if(this._vertBounds&&this._vertBounds.containsPoint(this._origPt.x,this._origPt.y))this._resizeHoriz=!1;else{if(!this._horizBounds||!this._horizBounds.containsPoint(this._origPt.x,this._origPt.y))return null;this._resizeVert=!1}return this._marqueeOn=!0,this._marquee=null,this._marqueeInnerArea=null,this._createMarqueeEvent("start",e)}return null},Re.prototype.processDragMove=function(t,e){if(!this._marqueeOn)return null;this._marqueeDrawn||(this._container.addChild(this._glassPane),this._marquee=new lt(this._context,this._bounds.x,this._bounds.y,this._bounds.w,this._bounds.h),this._marqueeInnerArea=new lt(this._context,this._bounds.x,this._bounds.y,this._bounds.w,this._bounds.h),this._marquee.getElem().setAttribute("pointer-events","none"),this._marqueeInnerArea.getElem().setAttribute("pointer-events","none"),this._resizeHoriz&&(this._marquee.setX(this._origPt.x),this._marquee.setWidth(0),this._marqueeInnerArea.setX(this._origPt.x),this._marqueeInnerArea.setWidth(0)),this._resizeVert&&(this._marquee.setY(this._origPt.y),this._marquee.setHeight(0),this._marqueeInnerArea.setY(this._origPt.y),this._marqueeInnerArea.setHeight(0)),this._marquee.setClassName("oj-dvt-marquee"),this._marquee.setStyle({stroke:this._stroke.getColor(),fill:this._fill.getColor()}),this._marquee.setPixelHinting(!0),this._glassPane.addChild(this._marquee),this._marqueeInnerArea.setClassName("oj-dvt-marquee-inner-area"),this._marqueeInnerArea.setPixelHinting(!0),this._glassPane.addChild(this._marqueeInnerArea),this._marqueeDrawn=!0);var i=this._container.stageToLocal(t);if(i.x=Math.max(i.x,this._bounds.x),i.x=Math.min(i.x,this._bounds.x+this._bounds.w),i.y=Math.max(i.y,this._bounds.y),i.y=Math.min(i.y,this._bounds.y+this._bounds.h),this._resizeHoriz){var n=Math.abs(i.x-this._origPt.x),r=i.x<this._origPt.x?i.x:this._origPt.x;this._marquee.setWidth(n),this._marquee.setX(r);var o=n-2*this._strokeWidth;this._marqueeInnerArea.setWidth(Math.max(0,o)),this._marqueeInnerArea.setX(r+this._strokeWidth)}if(this._resizeVert){var s=Math.abs(i.y-this._origPt.y),a=i.y<this._origPt.y?i.y:this._origPt.y;this._marquee.setHeight(s),this._marquee.setY(a);var h=s-2*this._strokeWidth;this._marqueeInnerArea.setHeight(Math.max(0,h)),this._marqueeInnerArea.setY(a+this._strokeWidth)}return this._createMarqueeEvent("move",e)},Re.prototype.processDragEnd=function(t,e){return this._marqueeOn&&(this._marqueeOn=!1,this._marqueeDrawn)?(this._glassPane.removeChild(this._marquee),this._glassPane.removeChild(this._marqueeInnerArea),this._container.removeChild(this._glassPane),this._marqueeDrawn=!1,this._createMarqueeEvent("end",e)):null},Re.prototype.cancelMarquee=function(){return!(!this._marqueeOn||(this._marqueeOn=!1,!this._marqueeDrawn))&&(this._glassPane.removeChild(this._marquee),this._glassPane.removeChild(this._marqueeInnerArea),this._container.removeChild(this._glassPane),this._marqueeDrawn=!1,!0)},Re.prototype._createMarqueeEvent=function(t,e){var i=null,n=null,r=null,o=null;return this._resizeHoriz&&(i=this._marquee?this._marquee.getX():this._origPt.x,r=this._marquee?this._marquee.getWidth():0),this._resizeVert&&(n=this._marquee?this._marquee.getY():this._origPt.y,o=this._marquee?this._marquee.getHeight():0),new yt.newMarqueeEvent(t,i,n,r,o,e)},Re.prototype.getCursor=function(t){var e=this._container.stageToLocal(t),i=this._bounds.containsPoint(e.x,e.y),n=this._vertBounds&&this._vertBounds.containsPoint(e.x,e.y),r=this._horizBounds&&this._horizBounds.containsPoint(e.x,e.y);return i||n||r?"crosshair":"inherit"},Re.prototype.getGlassPane=function(){return this._glassPane};const De=function(t,e,i,n){this.Init(t,e,i,n)};i.createSubclass(De,i),De.prototype.Init=function(t,e,i,n){this._context=t.getCtx(),this._container=t,this._bounds=e,this._zoomRate=n,this._glassPane=new lt(this._context,i.x,i.y,i.w,i.h),this._glassPane.setInvisibleFill(),this._panOn=!1,this._glassPaneDrawn=!1,this._pinchOn=!1},De.prototype.processDragStart=function(t){return this._panOn?null:(this._origPt=this._container.stageToLocal(t),this._lastPt=this._origPt,this._bounds.containsPoint(this._origPt.x,this._origPt.y)?(this._panOn=!0,yt.newPanZoomEvent("panStart",0,0,0,0,0,0,0,0)):null)},De.prototype.processDragMove=function(t){if(!this._panOn)return null;this._glassPaneDrawn||(this._container.addChild(this._glassPane),this._glassPaneDrawn=!0);var e=this._container.stageToLocal(t),i=e.x-this._lastPt.x,n=e.y-this._lastPt.y,r=e.x-this._origPt.x,o=e.y-this._origPt.y;return this._lastPt=e,yt.newPanZoomEvent("panMove",-i,-i,-n,-n,-r,-r,-o,-o)},De.prototype.processDragEnd=function(t){if(this._panOn&&(this._panOn=!1,this._glassPaneDrawn)){this._container.removeChild(this._glassPane),this._glassPaneDrawn=!1;var e=t?this._container.stageToLocal(t):this._lastPt,i=e.x-this._lastPt.x,n=e.y-this._lastPt.y,r=e.x-this._origPt.x,o=e.y-this._origPt.y;return this._lastPt=null,yt.newPanZoomEvent("panEnd",-i,-i,-n,-n,-r,-r,-o,-o)}return null},De.prototype.processMouseWheel=function(t,e){var i=this._container.stageToLocal(t);if(!this._bounds.containsPoint(i.x,i.y))return null;var n=(e*=this._zoomRate)*(i.x-this._bounds.x),r=-e*(this._bounds.x+this._bounds.w-i.x),o=e*(i.y-this._bounds.y),s=-e*(this._bounds.y+this._bounds.h-i.y);return yt.newPanZoomEvent("zoom",n,r,o,s,n,r,o,s)},De.prototype.processPinchStart=function(t,e){return this._pinchOn?null:(this._origPt1=this._container.stageToLocal(t),this._origPt2=this._container.stageToLocal(e),this._lastPt1=this._origPt1,this._lastPt2=this._origPt2,this._bounds.containsPoint(this._origPt1.x,this._origPt1.y)&&this._bounds.containsPoint(this._origPt2.x,this._origPt2.y)?(this._pinchOn=!0,yt.newPanZoomEvent("pinchStart",0,0,0,0,0,0,0,0)):null)},De.prototype.processPinchMove=function(t,e){if(!this._pinchOn)return null;var i=this._container.stageToLocal(t),n=this._container.stageToLocal(e),r=this._computePinchDeltas(i,n,this._lastPt1,this._lastPt2),o=this._computePinchDeltas(i,n,this._origPt1,this._origPt2);return this._lastPt1=i,this._lastPt2=n,yt.newPanZoomEvent("pinchMove",r.dxMin,r.dxMax,r.dyMin,r.dyMax,o.dxMin,o.dxMax,o.dyMin,o.dyMax)},De.prototype.processPinchEnd=function(){if(this._pinchOn){this._pinchOn=!1;var t=this._computePinchDeltas(this._lastPt1,this._lastPt2,this._origPt1,this._origPt2);return this._lastPt1=null,this._lastPt2=null,yt.newPanZoomEvent("pinchEnd",0,0,0,0,t.dxMin,t.dxMax,t.dyMin,t.dyMax)}return null},De.prototype._computePinchDeltas=function(t,e,i,n){var r=Math.abs(t.x-e.x),o=Math.abs(t.y-e.y),s=Math.abs(i.x-n.x),a=Math.abs(i.y-n.y),h=r>o/2?s/r:1,l=o>r/2?a/o:1,u=(t.x+e.x)/2,c=(t.y+e.y)/2,_=u-(i.x+n.x)/2,p=c-(i.y+n.y)/2,d=(1-h)*(u-this._bounds.x),g=(h-1)*(this._bounds.x+this._bounds.w-u),f=(1-l)*(c-this._bounds.y),y=(l-1)*(this._bounds.y+this._bounds.h-c);return{dxMin:d-=_,dxMax:g-=_,dyMin:f-=p,dyMax:y-=p}},De.prototype.zoomBy=function(t){var e=(1/t-1)/2,i=-e*this._bounds.w,n=e*this._bounds.w,r=-e*this._bounds.h,o=e*this._bounds.h;return yt.newPanZoomEvent("zoom",i,n,r,o,i,n,r,o)},De.prototype.panBy=function(t,e){var i=t*this._bounds.w*(r.isRightToLeft(this._context)?-1:1),n=e*this._bounds.h;return yt.newPanZoomEvent("panEnd",i,i,n,n,i,i,n,n)},De.prototype.getCursor=function(t){return null==t||this.isWithinBounds(t)?this._panOn?u.getGrabbingCursor():u.getGrabCursor():"inherit"},De.prototype.isWithinBounds=function(t){var e=this._container.stageToLocal(t);return this._bounds.containsPoint(e.x,e.y)},t.Agent=r,t.AnimFadeIn=Yt,t.AnimFadeOut=Kt,t.AnimMoveBy=Vt,t.AnimMoveTo=Jt,t.AnimPopIn=ee,t.AnimScaleFadeIn=jt,t.AnimScaleTo=te,t.Animator=kt,t.AriaUtils=O,t.Array2D=re,t.ArrayUtils=d,t.Automation=Ie,t.BackgroundMultilineText=Se,t.BackgroundOutputText=ve,t.BaseAnimation=Wt,t.BaseComponent=At,t.BaseComponentCache=St,t.BaseComponentDefaults=Te,t.BaseEvent=M,t.BlackBoxAnimationHandler=Zt,t.Button=be,t.CSSGradient=U,t.CSSStyle=j,t.Cache=v,t.CategoryRolloverHandler=It,t.Circle=le,t.ClipPath=p,t.ColorUtils=T,t.CombinedAnimMoveBy=Xt,t.ComponentTouchEvent=dt,t.Container=J,t.Context=wt,t.CustomAnimation=Qt,t.CustomDatatipPeer=Oe,t.DataAnimationHandler=$t,t.Dimension=h,t.Displayable=Q,t.DisplayableUtils=q,t.DomEventFactory=k,t.DragAndDropUtils=s,t.DragSource=a,t.Easing=Pt,t.EventFactory=yt,t.EventManager=Nt,t.GradientFill=g,t.GradientParser=V,t.HtmlKeyboardListenerUtils=G,t.HtmlTooltipManager=it,t.IconButton=Ce,t.Image=ue,t.ImageLoader=ae,t.ImageMarker=de,t.JsonUtils=Et,t.KeyboardEvent=P,t.KeyboardFocusEffect=ne,t.KeyboardHandler=Ne,t.LayoutUtils=oe,t.Line=ce,t.LinearGradientFill=ie,t.Map2D=vt,t.MarqueeHandler=Re,t.Mask=xt,t.Math=S,t.Matrix=l,t.MouseEvent=F,t.MultilineText=mt,t.Obj=i,t.OutputText=at,t.PanZoomHandler=De,t.ParallelPlayable=Bt,t.Path=_e,t.PathUtils=b,t.PatternFill=y,t.PixelMap=se,t.Playable=Gt,t.Point=n,t.Polygon=fe,t.PolygonUtils=he,t.Polyline=ye,t.Rect=lt,t.Rectangle=m,t.ResourceUtils=Tt,t.SelectionEffectUtils=rt,t.SelectionHandler=Ot,t.SequentialPlayable=Ut,t.Shadow=N,t.Shape=ot,t.SimpleMarker=pe,t.SimpleObjPeer=bt,t.SimpleScrollableContainer=me,t.SimpleScrollbar=Ee,t.SolidFill=K,t.Stroke=z,t.SvgDocumentUtils=gt,t.SvgShapeUtils=A,t.TextObjPeer=Ct,t.TextUtils=st,t.Timer=ut,t.ToolkitUtils=u,t.Touch=w,t.TouchEvent=L,t.TouchManager=ft,t.TransientButton=Ae,t.Use=Mt,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ojdvt-toolkit.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojattributegrouphandler',["exports","ojs/ojcore-base","jquery"],function(t,e,a){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a;const r=function(t){this.Init(t)};e.Object.createSubclass(r,e.Object,"AttributeGroupHandler"),r.prototype.Init=function(t){if(this._assignments={},this._valueIndex=0,this._matchRules={},null!=t)for(var e=Object.keys(t),a=0;a<e.length;a++){var r=e[a];this.addMatchRule(r,t[r])}},r.prototype.getValueRamp=function(){return[]},r.prototype.getValue=function(t){return this._matchRules[t]?this._matchRules[t]:(this._assignments[t]||(this._values||(this._values=this.getValueRamp().slice()),this._assignments[t]=this._values[this._valueIndex],this._valueIndex+=1,this._valueIndex===this._values.length&&(this._valueIndex=0)),this._assignments[t])},r.prototype.getCategoryAssignments=function(){for(var t=[],e=Object.keys(this._assignments),a=0;a<e.length;a++){var r=e[a];t.push({category:r,value:this._assignments[r]})}return t},r.prototype.addMatchRule=function(t,e){this._matchRules[t]=e};const s=function(t){if(this._attributeValues=[],a(document.body).hasClass("oj-hicontrast"))this._attributeValues=s._DEFAULT_COLORS.slice();else{if(!s._colors){var e=s.__createAttrDiv();a(document.body).append(e),s._colors=s.__processAttrDiv(e),e.remove()}s._colors.length>0?this._attributeValues=s._colors.slice():this._attributeValues=s._DEFAULT_COLORS.slice()}this.Init(t)};e.Object.createSubclass(s,r,"ColorAttributeGroupHandler"),s._DEFAULT_COLORS=["#237bb1","#68c182","#fad55c","#ed6647","#8561c8","#6ddbdb","#ffb54d","#e371b2","#47bdef","#a2bf39","#a75dba","#f7f37b"],s._STYLE_CLASSES=["oj-dvt-category1","oj-dvt-category2","oj-dvt-category3","oj-dvt-category4","oj-dvt-category5","oj-dvt-category6","oj-dvt-category7","oj-dvt-category8","oj-dvt-category9","oj-dvt-category10","oj-dvt-category11","oj-dvt-category12"],s._colors=null,s.prototype.getValueRamp=function(){return this._attributeValues},s.__createAttrDiv=function(){var t=a(document.createElement("div"));t.css("display","none;"),t.attr("id","attrGps");for(var e=0;e<s._STYLE_CLASSES.length;e++){var r=a(document.createElement("div"));r.addClass(s._STYLE_CLASSES[e]),t.append(r)}return t},s.__processAttrDiv=function(t){for(var e=[],r=t.children(),s=0;s<r.length;s++){var o=a(r[s]).css("color");o&&e.push(o)}return e};
/**
   * @license
   * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
   * Licensed under The Universal Permissive License (UPL), Version 1.0
   * as shown at https://oss.oracle.com/licenses/upl/
   * @ignoreg
   */
var o=function(t){this.Init(t)};e.Object.createSubclass(o,r,"ShapeAttributeGroupHandler"),o._attributeValues=["square","circle","diamond","plus","triangleDown","triangleUp","human"],o.prototype.getValueRamp=function(){return o._attributeValues},t.AttributeGroupHandler=r,t.ColorAttributeGroupHandler=s,t.ShapeAttributeGroupHandler=o,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ojattributegrouphandler.js.map;
/**
 * Copyright (c) 2015, 2017, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
!function(){function a(){"use strict";function a(a,b,e){f[a]={deps:b.map(c),module:e,resolve:d}}function b(a,b){var c=e(a);b.apply(null,c)}function c(a){return 0===a.indexOf("./")?a.substr(2):a}function d(){if(!this._resolvedModule){var a=e(this.deps),b=this.module;this._resolvedModule="function"==typeof b?b.apply(null,a):b}return this._resolvedModule}function e(a){return a.map(function(a){return f[a].resolve()})}var f={};return{define:a,require:b}}var b=a(),c=b.define,d=b.require;c("dataTransfer",[],function(){"use strict";function a(a,b){function c(a){if("protected"!==p()){var b=f(a);return b&&m.hasOwnProperty(b)?m[b]:null}return""}function d(a,b){if("readwrite"===p()){var c=f(a);c&&(m[c]=b.toString())}}function e(a){if("readwrite"===p()){var b=f(a);b?m.hasOwnProperty(b)&&delete m[b]:m={}}}function f(a){return a?a.toString().toLowerCase():null}function g(b,c,d){a&&a(b,c,d)}function h(){var a=Object.keys(m);return a.item=function(b){return b>=0&&b<a.length?a[b]:null},a.contains=function(b){return a.indexOf(b)>=0},a}function i(){return n}function j(a){a=a.toLowerCase(),q.indexOf(a)>=0&&(n=a)}function k(){return o}function l(a){a=a.toLowerCase(),r.indexOf(a)>=0&&(o=a)}var m={},n="none",o="uninitialized",p=b||function(){return"readwrite"},q=["none","copy","link","move"],r=["uninitialized","none","copy","copylink","copymove","link","linkmove","move","all"];this.files={},this.items={},this.getData=c,this.setData=d,this.clearData=e,this.setDragImage=g,Object.defineProperty(this,"types",{get:h}),Object.defineProperty(this,"dropEffect",{get:i,set:j}),Object.defineProperty(this,"effectAllowed",{get:k,set:l})}return a}),c("dragImage",[],function(){"use strict";function a(a,b,c){function d(a){var b=0;if(a.children)for(var c=0;c<a.children.length;c++){var e=a.children[c],f=window.getComputedStyle(e);b="static"===f.position||"auto"===f.zIndex||isNaN(f.zIndex)?Math.max(b,d(e)):Math.max(b,f.zIndex)}return b}function e(a){var b=null!=a.parentNode,c=a.style.position,e=a.style.top;b||(a.style.position="fixed",a.style.top="10000px",document.body.appendChild(a));var f=a.cloneNode(!0);return f.id=a.id+"_dragimage",f.style.opacity=.7,f.style.position="fixed",f.style.width=a.offsetWidth+"px",f.style.height=a.offsetHeight+"px",f.style.zIndex=d(document.body)+1,f.style.visibility="hidden",b||(document.body.removeChild(a),a.style.position=c,a.style.top=e),f}function f(){document.body.appendChild(j),j.scrollLeft=m,j.scrollTop=n}function g(){document.body.removeChild(j),j=null}function h(a,b){j.style.left=a-k+m+"px",j.style.top=b-l+n+"px"}function i(a){j.style.visibility=a?"visible":"hidden"}var j=e(a),k=b,l=c,m=a.scrollLeft,n=a.scrollTop;this.start=f,this.end=g,this.move=h,this.show=i}return a}),c("eventDispatcher",[],function(){"use strict";function a(a,c,d){var e=b(a,c,d);return!c.target.dispatchEvent(e)}function b(a,b,d){var e;if(window.Event&&"function"==typeof window.Event){var g={bubbles:h[a].bubbles,cancelable:h[a].cancelable};e=new window.Event(a,g)}else e=document.createEvent("Event"),e.initEvent(a,h[a].bubbles,h[a].cancelable);return e.view=document.defaultView,e.detail=0,f(e,b),e.getModifierState=function(a){return c(a,b)},e.dataTransfer=d,e.__isPseudo=!0,e}function c(a,b){return"Alt"===a?b.altKey:"Control"===a?b.ctrlKey:"Meta"===a?b.metaKey:"Shift"===a&&b.shiftKey}function d(a){return a||0}function e(a){return a||!1}function f(a,b){var c=b.target.getBoundingClientRect();a.screenX=d(b.screenX),a.screenY=d(b.screenY),a.clientX=d(b.clientX),a.clientY=d(b.clientY),a.offsetX=b.clientX-c.left,a.offsetY=b.clientY-c.top,a.pageX=d(b.pageX),a.pageY=d(b.pageY),a.altKey=e(b.altKey),a.ctrlKey=e(b.ctrlKey),a.metaKey=e(b.metaKey),a.shiftKey=e(b.shiftKey),a.button=d(b.button),a.buttons=d(b.buttons),a.relatedTarget=b.relatedTarget?b.relatedTarget:null}function g(a){return{screenX:a.screenX,screenY:a.screenY,clientX:a.clientX,clientY:a.clientY,pageX:a.pageX,pageY:a.pageY,altKey:a.altKey,ctrlKey:a.ctrlKey,metaKey:a.metaKey,shiftKey:a.shiftKey,button:a.button,buttons:a.buttons}}var h={dragstart:{bubbles:!0,cancelable:!0},drag:{bubbles:!0,cancelable:!0},dragend:{bubbles:!0,cancelable:!1},dragenter:{bubbles:!0,cancelable:!0},dragover:{bubbles:!0,cancelable:!0},dragleave:{bubbles:!0,cancelable:!1},drop:{bubbles:!0,cancelable:!0}};return{dispatch:a,getMouseEventProps:g}}),c("autoScroller",[],function(){"use strict";function a(a,c,d){for(var e=a;null!=e&&!b(e,c,d);)e=e.parentNode;return e}function b(a,b,f){if(!c(a))return!1;var g,h,i=a.scrollLeft,j=a.scrollTop;if(a===document.documentElement)i=i||document.body.scrollLeft,j=j||document.body.scrollTop;else{var k=a.getBoundingClientRect();b-=Math.round(k.left),f-=Math.round(k.top)}return g=d(a.clientWidth,a.scrollWidth,b,i),h=d(a.clientHeight,a.scrollHeight,f,j),!(!g&&!h)&&(e(a,i+g,j+h),!0)}function c(a){if(a===document.body)return!1;if(a===document.documentElement)return!0;if(1===a.nodeType){var b=window.getComputedStyle(a,null);return("auto"===b.overflow||"scroll"===b.overflow)&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight)}return!1}function d(a,b,c,d){var e=12,f=15;if(c>a-e&&c<a){if(d+a<b)return f}else if(c>=0&&c<e&&d>0)return-Math.min(d,f);return 0}function e(a,b,c){a.scrollLeft=b,a.scrollTop=c,a===document.documentElement&&(document.body.scrollLeft=b,document.body.scrollTop=c)}return{checkAutoScroll:a}}),c("dragController",["./dataTransfer","./dragImage","./eventDispatcher","./autoScroller"],function(a,b,c,d){"use strict";function e(){function e(b,c,d){var e=new a(m,f);return g("dragstart",b,d,e)?{dragState:"canceled"}:j(e,c)?k(e,b,d):{dataTransfer:e}}function f(){return Q}function g(a,b,d,e,f){return Q=h(a),"dragstart"!==a&&(e.dropEffect=i(a,e.effectAllowed)),d||(d={}),d.target=b,d.relatedTarget=f,c.dispatch(a,d,e)}function h(a){return"dragstart"===a?"readwrite":"drop"===a?"readonly":"protected"}function i(a,b){return"drag"===a||"dragleave"===a?"none":"dragenter"===a||"dragover"===a?"none"===b?"none":"move"===b?"move":0===b.indexOf("link")?"link":"copy":U}function j(a,b){return 0!==a.types.length&&(!b||b(a,M))}function k(a,b,c){return L=a,N=b,P=document.body.style.cursor,l(b,c),{dragState:"started",dataTransfer:a}}function l(a,b){if(null==M){var c=a.getBoundingClientRect(),d=b?b.clientX:c.left,e=b?b.clientY:c.top;m(a,d-c.left,e-c.top)}}function m(a,c,d){M&&(M.end(),M=null),a&&a.cloneNode&&(R={x:c,y:d},M=new b(a,c,d),M.start())}function n(a){if(a&&o()){if(M.show(!1),p(a))return D(a),!0;try{var b=q(a);r(b,a),s(b,a),v(b,a),B(b,a)}finally{M.show(!0)}}return!1}function o(){return null!=L}function p(a){return g("drag",N,a,L)}function q(a){var b=a.clientX,c=a.clientY;return b===S&&c===T?O:document.elementFromPoint(b,c)}function r(a,b){a!==O&&(a&&g("dragenter",a,b,L,O),O&&(z(O),g("dragleave",O,b,L,a)))}function s(a,b){if(a){t(g("dragover",a,b,L))}}function t(a){if(a){var b=L.effectAllowed;U="uninitialized"===b||"all"===b||b.indexOf(L.dropEffect)>=0?L.dropEffect:"none"}else U=u(O)?"copy":"none"}function u(a){return a&&("TEXTAREA"===a.nodeName||"INPUT"===a.nodeName&&"text"===a.type)}function v(a,b){w(b),x(a),A(a,b)}function w(a){M.move(a.clientX,a.clientY)}function x(a){var b;b="none"===U?"not-allowed":"copy"===U?"copy":"link"===U?"alias":"default",b!==document.body.style.cursor&&(document.body.style.cursor=b),y(a,b)}function y(a,b){a.style.cursor!==b&&(void 0===a._dndSavedCursor&&(a._dndSavedCursor=a.style.cursor),a.style.cursor=b)}function z(a){void 0!==a._dndSavedCursor&&(a.style.cursor=a._dndSavedCursor,delete a._dndSavedCursor)}function A(a,b){d.checkAutoScroll(a,b.clientX,b.clientY)&&(S=-1,T=-1)}function B(a,b){O=a,S=b.clientX,T=b.clientY}function C(a){E(a,!1)}function D(a){E(a,!0)}function E(a,b){if(o()){M.show(!1);var c=q(a);c&&(z(c),F(c,a,b),G(c,a,b)),g("dragend",N,a,L),J()}}function F(a,b,c){H(c)||g("dragleave",a,b,L)}function G(a,b,c){if(H(c)){var d=g("drop",a,b,L);return d?U=L.dropEffect:u(a)?I(a):U="none",d}return!0}function H(a){return!a&&"none"!==U}function I(a){var b=L.getData("text");if(b&&""!==b){var c=a.value,d=a.selectionEnd;a.value=c.substring(0,d)+b+c.substring(d)}}function J(){m(null,0,0),L=null,N=null,O=null,U="none",document.body.style.cursor=P,P=null}function K(a){var b=a.target,d=a.relatedTarget,e=c.getMouseEventProps(a);switch(a.type){case"drag":M&&M.show(!0),g("drag",b,e,L);break;case"dragenter":g("dragenter",b,e,L,d);break;case"dragleave":g("dragleave",b,e,L,d);break;case"dragover":var f=R.x>0?e.clientX-V:e.clientX+W,h=e.clientY;M.move(f,h);var i=g("dragover",b,e,L);t(i),i&&a.preventDefault();break;case"dragend":M&&M.show(!1),g("dragend",b,e,L,d),J(),a.dataTransfer.clearData();break;case"drop":M&&M.show(!1),i=G(b,e,!1),i&&a.preventDefault()}}var L,M,N,O,P,Q,R,S=-1,T=-1,U="none",V=50,W=10;this.start=e,this.drag=n,this.end=C,this.cancel=D,this.handleDndEvent=K}return e}),c("args",[],function(){"use strict";function a(a,c){if(b(a,c),"string"!=typeof c)throw new Error("argument '"+a+"' must be a string")}function b(a,b){if(!b)throw new Error("required argument '"+a+"' not specified")}return{requiredString:a,required:b}}),c("glassPane",["./eventDispatcher"],function(a){"use strict";function b(b,c){function d(a){l=a,document.body.addEventListener("mouseenter",h,!0),document.body.addEventListener("mousemove",i,!0),document.body.addEventListener("mouseup",j,!0),k=window.setInterval(g,200)}function e(){k&&(window.clearInterval(k),k=null),document.body.removeEventListener("mouseenter",h,!0),document.body.removeEventListener("mousemove",i,!0),document.body.removeEventListener("mouseup",j,!0)}function f(){return l}function g(){try{b(l)}finally{}}function h(b){b.target===document.body&&b.buttons!==m&&(l=a.getMouseEventProps(b),c(l,!0))}function i(b){void 0===m&&(m=b.buttons),b.stopPropagation(),b.preventDefault(),l=a.getMouseEventProps(b),g()}function j(b){b.stopPropagation(),b.preventDefault(),l=a.getMouseEventProps(b),c(l,!1)}var k,l,m;this.start=d,this.end=e,this.getLastInputProps=f}return b}),c("desktopDragDriver",["./args","./glassPane","./eventDispatcher"],function(a,b,c){"use strict";function d(d,e){function f(){var a=navigator.userAgent.toLowerCase();(a.indexOf("trident")>0||a.indexOf("edge")>0||a.indexOf("phantomjs")>0)&&(e.addEventListener("dragstart",i,!0),e.addEventListener("drag",v,!0),e.addEventListener("dragover",v,!0),e.addEventListener("dragend",v,!0),e.addEventListener("dragenter",v,!0),e.addEventListener("dragleave",v,!0),e.addEventListener("drop",v,!0),e.addEventListener("pointerdown",h,!0))}function g(){e.removeEventListener("dragstart",i,!0),e.removeEventListener("drag",v,!0),e.removeEventListener("dragover",v,!0),e.removeEventListener("dragend",v,!0),e.removeEventListener("dragenter",v,!0),e.removeEventListener("dragleave",v,!0),e.removeEventListener("drop",v,!0),e.removeEventListener("pointerdown",h,!0)}function h(a){x=a.pointerType}function i(a){if("touch"===x){var b=a.target;b.style.visibility="hidden",u(a),setTimeout(function(){b.style.visibility="visible"},0)}else j(a)}function j(a){var b,e=c.getMouseEventProps(a);a.stopPropagation(),g();try{b=d.start(a.target,k,e)}finally{f()}"canceled"===b.dragState?a.preventDefault():"started"===b.dragState?o(a,b,e):m(b.dataTransfer,a)}function k(a,b){return null!=b||l(a)}function l(a){var b=a.types;if(0===b.length)return!1;for(var c=0;c<b.length;c++){var d=b[c].toLowerCase();if("text"!==d&&"url"!==d)return!0}return!1}function m(a,b){n(a,b,"text"),n(a,b,"url")}function n(a,b,c){var d=a.getData(c);d&&b.dataTransfer.setData(c,d)}function o(a,b,c){a.preventDefault(),p(c)}function p(a){w=new b(r,s),w.start(a),document.body.addEventListener("keydown",t,!0)}function q(){w&&(w.end(),w=null),document.body.removeEventListener("keydown",t,!0)}function r(a){var b=d.drag(a);return b&&q(),b}function s(a,b){q(),b?d.cancel(a):d.end(a)}function t(a){if(a.stopPropagation(),a.preventDefault(),"Esc"===a.key||27===a.keyCode){var b=w.getLastInputProps();q(),d.cancel(b)}}function u(a){if(!a.__isPseudo){a.stopPropagation();for(var b=a.target;b&&!b.draggable;)b=b.parentNode;if(b){y=b;var e=c.getMouseEventProps(a);"started"!==d.start(y,null,e).dragState&&(a.preventDefault(),y=null)}}}function v(a){a.__isPseudo||y&&(a.stopPropagation(),d.handleDndEvent(a),"dragend"===a.type&&(y=null))}a.required("controller",d);var w,x,y;this.install=f,this.remove=g}return d}),c("touchDragDriver",["./args"],function(a){"use strict";function b(b,c){function d(){c.addEventListener("touchstart",g,{passive:!0,capture:!0}),c.addEventListener("touchmove",h,{passive:!1,capture:!0})}function e(){c.removeEventListener("touchstart",g,{passive:!0,capture:!0}),c.removeEventListener("touchmove",h,{passive:!1,capture:!0})}function f(a){return a.hasAttribute&&a.hasAttribute("draggable")&&a.draggable}function g(a){for(var b=a.target;b&&!f(b);)b=b.parentNode;b&&i(b)}function h(){}function i(a){a.addEventListener("touchstart",k,{passive:!0}),a.addEventListener("touchmove",l,{passive:!1}),a.addEventListener("touchend",m,{passive:!0}),a.addEventListener("touchcancel",n,{passive:!0})}function j(a){a.removeEventListener("touchstart",k,{passive:!0}),a.removeEventListener("touchmove",l,{passive:!1}),a.removeEventListener("touchend",m,{passive:!0}),a.removeEventListener("touchcancel",n,{passive:!0})}function k(a){q=a.currentTarget,r=!1}function l(a){if(a.preventDefault(),a.stopPropagation(),!r){if("started"!==b.start(q,null,p(a)).dragState)return void j(a.currentTarget);r=!0}b.drag(p(a))&&j(a.currentTarget)}function m(a){o(a,!1)}function n(a){o(a,!0)}function o(a,c){var d=a.currentTarget;c?b.cancel(p(a)):b.end(p(a)),q=null,r=!1,j(d)}function p(a){return{screenX:Math.round(a.changedTouches[0].screenX),screenY:Math.round(a.changedTouches[0].screenY),clientX:Math.round(a.changedTouches[0].clientX),clientY:Math.round(a.changedTouches[0].clientY),pageX:Math.round(a.changedTouches[0].pageX),pageY:Math.round(a.changedTouches[0].pageY),altKey:a.altKey,ctrlKey:a.ctrlKey,metaKey:a.metaKey,shiftKey:a.shiftKey}}a.required("controller",b);var q=null,r=!1;this.install=d,this.remove=e}return b}),c("bootstrap",["./dragController","./desktopDragDriver","./touchDragDriver"],function(a,b,c){"use strict";function d(){if(!g()){e(new a,-1!==navigator.userAgent.toLowerCase().indexOf("edge")?[b]:[b,c])}}function e(a,b){for(var c=document.documentElement,d=0;d<b.length;d++){var e=b[d],f=new e(a,c);f.install(),h.push(f)}}function f(){h.forEach(function(a){a.remove()}),h=[]}function g(){return h.length>0}var h=[];return{init:d,destroy:f}}),d(["bootstrap"],function(a){a.init()})}();
define("ojdnd", function(){});

/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojdvt-base',["ojs/ojcore-base","ojs/ojdvt-toolkit","ojs/ojcontext","ojs/ojconfig","ojs/ojmap","ojs/ojlocaledata","ojs/ojcomponentcore","jquery","ojs/ojkeysetimpl","ojs/ojdomutils","ojs/ojattributegrouphandler","ojs/ojlogger","ojs/ojcustomelement","ojs/ojcustomelement-utils","ojs/ojmetadatautils","ojdnd"],function(e,t,n,r,i,s,o,a,l,h,c,d,p,u,_,f){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i,a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a,l=l&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l;const m=function(e,t){this._path=t,this._root=e,this._delimiter="/"};m.prototype._resolveLeafObjectAndProperty=function(e,t,n,r){for(var i={};e&&t.indexOf(n)>-1;){var s=t.substring(0,t.indexOf(n));r&&void 0===e[s]&&(e[s]={}),e=e[s],t=t.substring(t.indexOf(n)+1,t.length)}return e&&(i.object=e,i.parameter=t),i},m.prototype._resolvePath=function(e){if(void 0===this._leaf){var t=this._resolveLeafObjectAndProperty(this._root,this._path,this._delimiter,e);this._leaf=t.object,this._param=t.parameter}},m.prototype.getValue=function(){return this._resolvePath(!1),void 0===this._leaf?void 0:this._leaf[this._param]},m.prototype.setValue=function(e,t){this._resolvePath(!0),!t&&this._leaf[this._param]||(this._leaf[this._param]=e)};const v=function(e){this._styleCache={},this._context=e,this._letterSpacing=null,this._wordSpacing=null,this._fontVariantNumeric=null};v._FONT_WEIGHT="font-weight",v.styleTypes={TEXT:function(e){var t={};return e&&(e.hasClass("oj-gauge-metric-label")?(t["font-size"]=!0,t.color=!0):e.hasClass("oj-treemap-node-header")?t[v._FONT_WEIGHT]=!0:e.hasClass("oj-legend-title")&&(t[v._FONT_FAMILY]=!0)),v._buildTextCssPropertiesObject(e,t)},BACKGROUND:function(e,t,n,r){return v._buildCssBackgroundPropertiesObject(e)},ANIM_DUR:function(e){var t=e.css("animation-duration");if(t)return"ms"===t.slice(-2)?t=parseInt(t.slice(0,-2),10):"s"===t.slice(-1)&&(t=1e3*parseFloat(t.slice(0,-1))),t}},v._INHERITED_FONT_COLOR="rgb(254, 0, 254)",v._INHERITED_FONT_FAMILY="Times",v._INHERITED_FONT_SIZE="1px",v._INHERITED_FONT_WEIGHT="1",v._INHERITED_FONT_STYLE="normal",v._FONT_SIZE_BUFFER=4,v.defaultStyleProcessor=function(e,t){return e.css(t)},v._buildCssBackgroundPropertiesObject=function(e){var t={};return e.css("border-top-color")&&(t.borderColor=e.css("border-top-color")),e.css("border-width")&&e.css("border-style")&&"none"!==e.css("border-style")&&(t.borderWidth=e.css("border-width")),e.css("background-color")&&(t.backgroundColor=e.css("background-color")),t},v._buildTextCssPropertiesObject=function(e,t){var n={},r=e.css("font-family");return r&&r!==v._INHERITED_FONT_FAMILY&&(n.fontFamily=r.replace(/"/g,"'")),!(r=e.css("font-size"))||r.indexOf("px")>-1&&parseFloat(r)<v._FONT_SIZE_BUFFER||t["font-size"]||(n.fontSize=r),(r=e.css(v._FONT_WEIGHT))&&r!==v._INHERITED_FONT_WEIGHT&&!t[v._FONT_WEIGHT]&&(n.fontWeight=r),(r=e.css("color"))&&r!==v._INHERITED_FONT_COLOR&&!t.color&&(n.color=r),(r=e.css("font-style"))&&r!==v._INHERITED_FONT_STYLE&&(n.fontStyle=r),n},v.prototype.processStyles=function(e,t,n,r){var i,s=null,o=null,l=e.data("no-style-cache"),h="";for(i=0;i<n.length;i++)h=h+n[i]+" ";var c,d={},p={},u=Object.keys(r);for(i=0;i<u.length;i++){var _=r[c=u[i]];_ instanceof Array||(_=[_]);var f=this._hasUncachedProperty(c,_)||l;o||s||!f||((s=a(document.createElement("div"))).css("display","none"),e.append(s),s.attr("class",h),(o=a(document.createElement("div"))).css("font-size",v._INHERITED_FONT_SIZE),o.css("color",v._INHERITED_FONT_COLOR),o.css(v._FONT_WEIGHT,v._INHERITED_FONT_WEIGHT),o.css("font-style",v._INHERITED_FONT_STYLE),s.append(o)),d[c]=_,f&&(p[c]=this._createStyleDivs(o,c,_))}if(!this._letterSpacing||!this._wordSpacing||!this._fontVariantNumeric){var m=window.getComputedStyle(e[0]);this._context.letterSpacing=m.letterSpacing,this._context.wordSpacing=m.wordSpacing,this._context.fontVariantNumeric=m.fontVariantNumeric,this._letterSpacing=m.letterSpacing,this._wordSpacing=m.wordSpacing,this._fontVariantNumeric=m.fontVariantNumeric}for(i=0;i<u.length;i++)c=u[i],this._processStyle(p[c],t,c,d[c],l);s&&s.remove()},v.prototype._createStyleDivs=function(e,t,n){this._styleCache[t]||(this._styleCache[t]={});for(var r=null,i=0;i<n.length;i++){var s=n[i].property;if(s)void 0===this._styleCache[t][s]&&(r||("oj-dvt-color-ramp"===t?r=c.ColorAttributeGroupHandler.__createAttrDiv():(r=a(document.createElement("div"))).addClass(t),e.append(r)))}return r},v.prototype._processStyle=function(e,t,n,r,i){for(var s=0;s<r.length;s++){var o=r[s],a=o.property;if(a){var l=this._styleCache[n][a];if(void 0===l&&e&&(l="oj-dvt-color-ramp"===n?c.ColorAttributeGroupHandler.__processAttrDiv(e):v._resolveStyle(e,a),i||(this._styleCache[n][a]=l)),null!=l){var h=o.path,d=new m(t,h),p=d.getValue(),u="object"==typeof p&&!Array.isArray(p);if(u&&p)for(var _=Object.keys(l),f=0;f<_.length;f++){var y=_[f];void 0===p[y]&&(p[y]=l[y])}else d.setValue(l,u)}}}},v._resolveStyle=function(e,t){var n=v.styleTypes[t],r=n?n(e):v.defaultStyleProcessor(e,t);return null==r||"string"==typeof r&&""===r.replace(/^\s+/g,"")?null:r},v.prototype._hasUncachedProperty=function(e,t){var n=this._styleCache[e];if(!n)return!0;for(var r=0;r<t.length;r++){var i=t[r].property;if(i)if(void 0===n[i])return!0}return!1},v.populateOptions=function(e,t){for(var n,r=Object.keys(t),i=0;i<r.length;i++){var s=t[r[i]];s instanceof Array||(s=[s]);for(var o=0;o<s.length;o++){var a=(n=s[o]).path,l="TEXT"===n.property||"BACKGROUND"===n.property;if(l||a.indexOf("/")>-1)l||(a=a.substring(0,a.lastIndexOf("/"))),new m(e,a).setValue({})}}},v.prototype.clearCache=function(e){this._styleCache[e]=void 0};const y=function(e,t){this._component=e,this._configMap=t,this._init()};e.Object.createSubclass(y,e.Object,"DataProviderHandler"),y.prototype._init=function(){this._dataProviderEventListeners={},this._keyDataMap={},this._fetchedData={},this._eventListeners=[]},y.prototype._fetchCollection=function(e,t,n,r,i,s){var o=this,a={data:[],keys:[]};if(s<=-1)return Promise.resolve(a);this._clientId=this._clientId||Symbol();var l={clientId:this._clientId,size:-1},h=e.fetchFirst(l)[Symbol.asyncIterator](),c=this.isTreeDataProvider(e),d=function(e){for(var s=[],l=0;l<e.value.data.length;l++){var p=t({data:e.value.data[l],key:e.value.metadata[l].key},i);s.push(p)}return Promise.all(s).then(function(e){for(var t=0;t<e.length;t++){var s=e[t].data,l=e[t].key;a.data.push(s),a.keys.push(l),o._keyDataMap[n].set(c?l.value:l,{data:s,key:l,parentKey:r,depth:i})}}).then(function(){return e.done?Promise.resolve(a):h.next().then(d)})};return h.next().then(d)},y.prototype._getDPPostProcessor=function(e,t,n,r){var i=this,s=this.isTreeDataProvider(e);r=null==r?Number.MAX_VALUE:r;var o=function(s,a){var l={value:s.data},h={value:s.key};if(a<r&&n&&n.has(h.value)){var c=e.getChildDataProvider(h.value);if(c)return i._fetchCollection(c,o,t,h.value,a+1).then(function(e){return l.children=e.data,h.children=e.keys,{data:l,key:h}})}return Promise.resolve({data:l,key:h})};return s?o:function(e){return Promise.resolve(e)}},y.prototype.fetchAllData=function(e,t,n){if(n&&this._fetchedData[t])return Promise.resolve(this._fetchedData[t]);var r=this._configMap[t];return this.clear(t,!0),this._fetchCollection(e,this._getDPPostProcessor(e,t,r.expandedKeySet,r.maxFetchDepth),t,null,0,r.maxFetchDepth).then(function(r){return n&&(this._fetchedData[t]=r,this._addDPEventListeners(e,t)),r}.bind(this))},y.prototype._getDataProviderEventHandler=function(e){var t=this,n=function(e,t,n){if(!t)return[];var r=new l(t),i=new Map,s=function(e){for(var t=0;t<e.length;t++){var o=n?e[t].value:e[t],a=r.get(o);a!==r.NOT_A_KEY&&i.set(a,t),n&&e[t].children&&s(e[t].children)}};s(e.keys);var o=[];return t.forEach(function(e){o.push(i.get(e))}),o},r=function(n){var r=t._component._GetThrottlePromise();Promise.all([n,r]).then(function(n){t._fireEvent("clearState",{dataProperty:e}),t._fetchedData[e]=n[0],t._fireEvent("dataUpdated",{data:n[0]})})};return function(i){t._fireEvent("notReady",{event:i});var s=this,o=t.isTreeDataProvider(s),a=t._keyDataMap[e];if("refresh"===i.type)r(t.fetchAllData(s,e));else if("mutate"===i.type){var h=i.detail.update,c=i.detail.remove,d=i.detail.add,p=t._fetchedData[e];if(c){var u=c.keys;if(d){var _=new l(d.keys);u=new Set([...u].filter(e=>!_.has(e)))}t._fireEvent("removeKeys",{keys:u})}var f,m=function(n,r,i,l){var h=0,c=[],d=1===i&&!l;return r.keys.forEach(function(n){var i,p=l?null:r.data[h];if(o)if(d){var u=a.get(n);u&&(u.data.value=p,i=Promise.resolve({data:u.data,key:a.get(n).key}))}else{var _={value:p},f={value:n},m=s.getChildDataProvider(n);if(m&&!l)i=t.fetchAllData(m,e).then(function(e){return _.children=e.data,f.children=e.keys,{data:_,key:f}});else i=Promise.resolve({data:_,key:f});if(!l){var v=r.parentKeys?r.parentKeys[h]:null;a.set(f.value,{data:_,key:f,parentKey:v})}}else i=Promise.resolve({data:p,key:n}),a.set(n,{data:p,key:n});c.push(i),h+=1}),Promise.all(c).then(function(e){for(var t=0;t<e.length;t++){var r,s,h,c=o?e[t].key.value:e[t].key,u=a.get(c).parentKey;if(u){var _=a.get(u);_.data.children||d||(_.data.children=[],_.key.children=[]),r=_.data.children,s=_.key.children}else r=p.data,s=p.keys;if(l)h=n[t]-t,r.splice(h,i),s.splice(h,i);else{if(d)h=n[t];else h=0===n.length||null==n[t]?r.length:n[t];r.splice(h,i,e[t].data),s.splice(h,i,e[t].key)}}return p})},v=function(e){return s.fetchByKeys({keys:e}).then(function(t){var n=[];return t.results.size>0&&e.forEach(function(e){n.push(t.results.get(e).data)}),n})},y=Promise.resolve();h&&(f=h.indexes||n(p,h.keys,o),y=Array.isArray(h.data)?m(f,h,1):v(h.keys).then(function(e){var t=Object.create(h,{data:{value:e}});return m(f,t,1)})),y.then(function(){return c?(f=c.indexes||n(p,c.keys,o),m(f,c,1,!0)):Promise.resolve()}).then(function(){return d?(f=d.indexes||n(p,d.addBeforeKeys?d.addBeforeKeys:d.afterKeys,o),Array.isArray(d.data)?m(f,d,0):v(d.keys).then(function(e){var t=Object.create(d,{data:{value:e}});return m(f,t,0)})):Promise.resolve()}).then(function(){r(Promise.resolve(p))})}}},y.prototype._addDPEventListeners=function(e,t){if(!this._dataProviderEventListeners[t]){var n=this._getDataProviderEventHandler(t);e.addEventListener("mutate",n),e.addEventListener("refresh",n),this._dataProviderEventListeners[t]={dataProvider:e,listener:n}}},y.prototype.release=function(e){var t=function(e){var t=this._dataProviderEventListeners[e];if(t){var n=t.dataProvider,r=t.listener;n.removeEventListener("mutate",r),n.removeEventListener("refresh",r),this._dataProviderEventListeners[e]=null}}.bind(this);if(e)t(e),this.clear(e);else{for(var n=Object.keys(this._dataProviderEventListeners),r=0;r<n.length;r++)t(n[r]);this.clear()}},y.prototype.fetchChildrenData=function(e,t,n,r){var i=function(t,n,r){this._keyDataMap[e].get(t).data.children=n,this._keyDataMap[e].get(t).key.children=r}.bind(this),s=t.getChildDataProvider(n);if(s){var o=this._configMap[e].maxFetchDepth,a=this._keyDataMap[e].get(n).depth,l=this._getDPPostProcessor(t,e,r,o);return this._fetchCollection(s,l,e,n,a,o).then(function(e){return i(n,e.data,e.keys),e})}return Promise.resolve({data:[],keys:[]})},y.prototype.clear=function(e,t){e&&t?(this._keyDataMap[e]=this._keyDataMap[e]||new i,this._fireEvent("reset",{dataProperty:e})):e?this._fetchedData[e]=null:(this._fetchedData={},this._keyDataMap={})},y.prototype.isDataProvider=function(t){return e.DataProviderFeatureChecker.isDataProvider(t)},y.prototype.isTreeDataProvider=function(t){return e.DataProviderFeatureChecker.isTreeDataProvider(t)},y.prototype.addEventListener=function(e){this._eventListeners.push(e)},y.prototype._fireEvent=function(e,t){for(var n=0;n<this._eventListeners.length;n++)this._eventListeners[n]({type:e,detail:t})};const g=function(e,t,n){this._component=e,this._configMap=t,this._useObjectAssign=n,this._init()};e.Object.createSubclass(g,e.Object,"TemplateHandler"),g.prototype._init=function(){this._templateEnginePromise=null,this._templates=this.getTemplates(),this._templateResults={},this._templateNodeData={},this._componentResults={},this._eventListeners=[],this._queueNextEvent=!0,this._eventUpdates=[],this._templatePropertyMap={},this._propertyValidatorMap={}},g.prototype.getTemplateEngine=function(){return this._templateEnginePromise||(this._templateEnginePromise=new Promise(e=>{const t={customElement:this._component._GetCustomElement(),needsTrackableProperties:this._component._NeedsTrackableProperties};r.__getTemplateEngine(t).then(function(t){e(t)},function(e){throw new Error("Error loading template engine: "+e)})})),this._templateEnginePromise},g.prototype.getDataSet=function(e){var t=this.getTemplate(e);return t&&t.dataset},g.prototype.getTemplate=function(e){return this._templates[e]&&this._templates[e][0]},g.prototype.getDataSetBoolean=function(e,t){var n=this.getDataSet(e),r=u.AttributeUtils.attributeToPropertyName(t),i=n&&n[r];return null!=i&&u.AttributeUtils.coerceBooleanValue(this.getTemplate(e),t,i,"Boolean")},g.prototype.getTemplates=function(){return u.CustomElementUtils.getSlotMap(this._component.element[0])},g.prototype._getPropertyValidator=function(t,n){if(!t)return null;var r=this._propertyValidatorMap[n];if(r)return r;var i=e.CustomElementBridge.getMetadata(n),s=t.content?t.content.children[0]:t.childNodes[1],o={};return r=function(n,r){var a=n.join("."),l=o[a];if(!l){l=i;for(var h=0;h<n.length;h++)l=l.properties[n[h]];o[a]=l}try{_.checkEnumValues(s,a,r,l)}catch(e){throw new u.JetElementError(t,e.message)}null!=r&&e.BaseCustomElementBridge.checkType(s,a,r,l)},this._propertyValidatorMap[n]=r,r},g.prototype._processAliasedPropertyNames=function(e,t,n){var r=this._configMap[e].getAliasedPropertyNames;if(r)for(var i=r(t),s=Object.keys(i),o=0;o<s.length;o++){var a=s[o];n[i[a]]=n[a],n[a]=void 0}return n},g.prototype._getTemplateElementProperties=function(e){var t=this._templatePropertyMap[e];return t||(t=this._component.getElementPropertyNames(e),this._templatePropertyMap[e]=t),t},g.prototype.processNodeTemplate=function(t,n,r,s,o,a,l){var h=r.getAttribute("slot"),c=this._component.options.as,d=this._component.element[0],p=this._getTemplateElementProperties(s),u=this._getPropertyValidator(r,s),_=l?t:h,f=function(n){return function(r){var i=this._processAliasedPropertyNames(t,s,r),o=this._templateNodeData[_];e.CollectionUtils.copyInto(o.get(n).data,i),this._eventUpdates.push({key:a,data:i}),this._queueNextEvent&&(this._fireEvent("notReady"),this._component._GetThrottlePromise().then(function(){this._fireEvent("dataUpdated",{dataProperty:t,templateName:h,data:this._eventUpdates.slice(0)}),this._queueNextEvent=!0,this._eventUpdates=[]}.bind(this))),this._queueNextEvent=!1}.bind(this)}.bind(this),m=n.resolveProperties(d,r,s,p,o,c,u);m.subscribe(f(a));var v={data:this._processAliasedPropertyNames(t,s,m.peek()),node:m,context:o};return this._templateNodeData[_]||(this._templateNodeData[_]=new i),this._templateNodeData[_].set(a,v),v.data},g.prototype.processTemplates=function(e,t,n,r,i,s,o){if(s&&this._templateResults[e])return this._templateResults[e];var a,l,h=this._configMap[e],c=this;if(h){a=[],l=[];var p="string"==typeof h.templateName?function(){return h.templateName}:h.templateName,u="string"==typeof h.templateElementName?function(){return h.templateElementName}:h.templateElementName,_=h.resultPath,f=this._component.element[0],m=h.processChildrenData,v=h.processOptionData||function(e){return e},y=c._templateNodeData[e];if(p&&u&&_){var g,C=function(t,r,i,s,o){var a;try{s?a=c.processNodeTemplate(e,n,s,o,i,r,!0):(c._useObjectAssign?(a=Object.assign({},t),Object.defineProperties(a,{_noTemplate:{value:!0,enumerable:!1},_dvtNoClone:{value:!0,enumerable:!1}})):((a=Object.create(t))._noTemplate=!0,a._dvtNoClone=!0),y.set(r,{data:a,context:i})),a.id=r,a._itemData=t}catch(e){d.error(e)}return a},D=function(e,t,n){for(var i=e.data,s=e.keys,o=[],a=0;a<i.length;a++){var l=r?i[a].value:i[a],h=r?s[a].value:s[a],d={data:l,key:h,index:a,componentElement:f};r&&(d.parentData=t,d.parentKey=n);var v=p(i[a]),y=u(i[a]),g=c.getTemplate(v),P=C(l,h,d,g,y);if(r&&i[a].children){var b=t.slice(0);b.push(l);var E={data:i[a].children,keys:s[a].children},T=D(E,b,h);m?m(P,i[a],T):P[_]=T}o.push(P)}return o};a.push(_),i&&y.has(i)&&(g=y.get(i).context.parentData.concat(y.get(i).context.data));var P=D(t,g||[],i);l.push(v(P))}o&&(y.get(i).data[_]=l[0])}var b={paths:a,values:l};return s&&(this._templateResults[e]=b),b},g.prototype.release=function(e){var t;if(e){var n=this._configMap[e].derivedTemplates;t=n?[e].concat(n):[e]}else t=Object.keys(this._templateNodeData);for(var r=0;r<t.length;r++){var s=this._templateNodeData[t[r]];s&&(s.forEach(function(e){e.node&&e.node.dispose()}),this._templateNodeData[t[r]]=new i)}this.clear(e)},g.prototype.clear=function(e,t){if(e)for(var n,r=this._configMap[e].derivedTemplates,s=r?[e].concat(r):[e],o=0;o<s.length;o++)n=s[o],t?this._templateNodeData[n]=this._templateNodeData[n]||new i:(this._templateResults[n]=null,this._componentResults[n]=null);else this._templateResults={},this._componentResults={},this._templateNodeData={}},g.prototype.getComponentResults=function(e){return this._componentResults[e]},g.prototype.setComponentResults=function(e,t){this._componentResults[e]=t},g.prototype.addEventListener=function(e){this._eventListeners.push(e)},g.prototype._fireEvent=function(e,t){for(var n=0;n<this._eventListeners.length;n++)this._eventListeners[n]({type:e,detail:t})},e.__registerWidget("oj.dvtBaseComponent",a.oj.baseComponent,{options:{trackResize:"on"},_ComponentCreate:function(){this._super(),this._renderCount=0,this._numDeferredObjs=0,this._optionsCopy=null,this._dataValuePromise={},this._templateMap={},this._TemplateHandler=new g(this,this._GetSimpleDataProviderConfigs(),this._UseObjectAssignForShapedData()),this._DataProviderHandler=new y(this,this._GetSimpleDataProviderConfigs()),this._DataProviderHandler.addEventListener(this._GetDPEventHandler()),this._TemplateHandler.addEventListener(this._GetDPEventHandler());for(var n=this._GetComponentStyleClasses(),r=0;r<n.length;r++)this.element.addClass(n[r]);this._referenceDiv=a(document.createElement("div")),this._referenceDiv.css("visibility","hidden"),this.element.append(this._referenceDiv),t.Agent.setAgentInfo(e.AgentUtils.getAgentInfo());var h=this.element[0].parentElement;h&&h._dvtcontext?this._context=h._dvtcontext:this._context=new t.Context(this.element[0],null,this._referenceDiv[0]);var c=Object.keys(this._GetSimpleDataProviderConfigs()),d={oj:e,KeySetImpl:l,ojMap:i,LocaleData:s,dataProviderProps:c};if(this._context.setJetProperties(d),this._context.setReadingDirection(this._GetReadingDirection()),this._context.setTooltipAttachedCallback(o.subtreeAttached),this._context.setOverlayAttachedCallback(o.subtreeAttached),this._context.setFixContextCallback(this._FixRendererContext.bind(this)),this._context.setCustomElement(this._IsCustomElement()),a(document.body).hasClass("oj-hicontrast")&&t.Agent.setHighContrast(!0),this._component=this._CreateDvtComponent(this._context,this._HandleEvent,this),this._component.setContextMenu(!!this._GetContextMenu()),t.Agent.isEnvironmentTest()){var p=this.element[0].getAttribute("data-oj-dvt-test-id");p&&p.length>0&&this._component.setId(p)}this._context.getStage().addChild(this._component),this._LoadResources(),this.options._widgetConstructor=o.__GetWidgetConstructor(this.element)},_AfterCreate:function(){this._super(),"off"!==this.options.trackResize&&this._addResizeListener(),this._ProcessOptions(),this._Render()},_SetLocaleHelpers:function(e,n){if(!1!==t.requireJS){var r={createNumberConverter:function(t){return new e.IntlNumberConverter(t)},isoToDateConverter:function(e){if("string"==typeof e){var t=n.IntlConverterUtils.isoToDate(e),r=t.toJSON()?n.IntlConverterUtils.dateToLocalIso(t):e;return n.IntlConverterUtils.isoToLocalDate(r)}return e},dateToIsoWithTimeZoneConverter:function(e){if(e instanceof Date){var t=-1*e.getTimezoneOffset(),r=t>=0?"+":"-",i=Math.floor(Math.abs(t)/60),s=Math.abs(t)%60,o=r+(2!==i.toString().length?"0"+i:i)+":"+(2!==s.toString().length?s+"0":s);return n.IntlConverterUtils.dateToLocalIso(e)+o}return e}};this._context.setLocaleHelpers(r)}},refresh:function(){this._super(),this._styleProcessor=null,this._context.setReadingDirection(this._GetReadingDirection()),this._Render()},getNodeBySubId:function(e){var t=this._component&&this._component.getAutomation?this._component.getAutomation():null;if(t){var n=this._ConvertLocatorToSubId(e);return t.getDomElementForSubId(n)}return null},getSubIdByNode:function(e){var t=this._component&&this._component.getAutomation?this._component.getAutomation():null;if(t){var n=t.getSubIdForDomElement(e);return n?this._ConvertSubIdToLocator(n):null}return null},_ConvertLocatorToSubId:function(e){return null},_ConvertSubIdToLocator:function(e){return null},_ProcessStyles:function(e){this._styleProcessor=this._styleProcessor?this._styleProcessor:new v(this._component.getCtx()),this._styleProcessor.processStyles(this.element,e,this._GetComponentStyleClasses(),this._GetChildStyleClasses())},_GetComponentStyleClasses:function(){return["oj-dvtbase"]},_GetChildStyleClasses:function(){var e={"oj-dvt-no-data-message":{path:"_statusMessageStyle",property:"TEXT"}};return e},_GetEventTypes:function(){return[]},_VerifyConnectedForSetup:function(){return!0},_ReleaseResources:function(){this._super(),this._renderNeeded=!0,this._context.hideTooltips(),this._context.releaseTooltipResources(),this._removeResizeListener(),this._CleanAllTemplates(),this._MakeReady(),this._DataProviderHandler.release(),this._TemplateHandler.release(),this._dataValuePromise={}},_destroy:function(){var e=this.element[0].parentElement;e&&e._dvtcontext&&(e._dvtcontext=null),this._component.destroy&&this._component.destroy(),this._component=null,this.element.children().remove(),this.element.removeAttr("role").removeAttr("tabIndex").removeAttr("aria-activedescendant");for(var t=this._GetComponentStyleClasses(),n=0;n<t.length;n++)this.element.removeClass(t[n]);this._super(),this._context.destroy(),this._context=null},_setOptions:function(e,t){this._superApply(arguments),this._OptionChangeHandler(e);var n=this.options.trackResize;if("off"===n&&this._resizeListener?this._removeResizeListener():"off"===n||this._resizeListener||this._addResizeListener(),this._ProcessOptions(),!this._bUserDrivenChange){var r=this._numDeferredObjs>0;if(!r){var i=this._GetEventTypes(),s=this._GetOptimizedOptions();a.each(e,function(e){if(i.indexOf(e)<0&&s.indexOf(e)<0)return r=!0,!1})}r?this._Render():this._UpdateNoRenderOptions(e)}},_GetOptimizedOptions:function(){return["highlightedCategories","selection","dataCursorPosition","scrollPosition"]},_UpdateNoRenderOptions:function(e){void 0!==e.highlightedCategories&&this._component.highlight(e.highlightedCategories),void 0!==e.selection&&this._component.select(e.selection),void 0!==e.dataCursorPosition&&this._component.positionDataCursor&&this._component.positionDataCursor(e.dataCursorPosition),void 0!==e.scrollPosition&&this._component.scroll(e.scrollPosition)},_CreateDvtComponent:function(e,t,n){return null},_HandleEvent:function(e){var t=e.type;"selection"===t?this._UserOptionChange("selection",e.selection):"categoryHide"===t||"categoryShow"===t?this._UserOptionChange("hiddenCategories",e.hiddenCategories):"categoryHighlight"===t?this._UserOptionChange("highlightedCategories",e.categories):"optionChange"===t?this._UserOptionChange(e.key,e.value,e.optionMetadata):"touchHoldRelease"===t&&this._GetContextMenu()?this._OpenContextMenu(a.Event(e.nativeEvent),"touch"):"dvtRender"===t?this._Render():"ready"===t&&0===this._numDeferredObjs&&this._MakeReady()},_BeforeResizeRender:function(){},_addResizeListener:function(){if(!this._resizeListener)if(this._resizeListener=this._handleResize.bind(this),this._IsFlowingLayoutSupported())h.addResizeListener(this.element[0],this._resizeListener,250);else{const e=this.element[0],t=e.hasAttribute("data-oj-resize-notify");this._resizeObserver=new ResizeObserver(n=>{const r=n[0].borderBoxSize,i=r?(r[0]||r).inlineSize:e.offsetWidth,s=r?(r[0]||r).blockSize:e.offsetHeight;this._resizeListener(i,s),t&&e.dispatchEvent(new Event("oj-resize"))}),this._resizeObserver.observe(e,{box:"border-box"})}},_removeResizeListener:function(){this._resizeObserver?(this._resizeObserver.disconnect(),this._resizeObserver=null):this._resizeListener&&h.removeResizeListener(this.element[0],this._resizeListener),this._resizeListener=null},_handleResize:function(e,t){var n=this.element.width(),r=this.element.height();(null==this._width||null==this._height||Math.abs(n-this._width)+Math.abs(r-this._height)>=5)&&this._Render(!0)},_LoadResources:function(){},_Render:function(e){this._context.hideTooltips(),this._NotReady(),!this._context.isReadyToRender()||this._renderNeeded&&e?(this._renderNeeded=!0,this._MakeReady()):(this._width=this._IsFlowingLayoutSupported()?null:this.element.width(),this._height=this._IsFlowingLayoutSupported()?null:this.element.height(),this._context.setDefaultFontFamily(this._referenceDiv.css("font-family")),this._context.setDefaultFontSize(this._referenceDiv.css("font-size")),this.options._width=this._width,this.options._height=this._height,this.options._locale=t.Agent.isEnvironmentTest()&&this.options._locale?this.options._locale:r.getLocale(),this._IsDraggable()&&this.element.attr("draggable",!0),v.populateOptions(this.options,this._GetChildStyleClasses()),e?0===this._numDeferredObjs&&(this._renderCount+=1,this._RenderComponent(this._optionsCopy,e)):(this._renderCount+=1,this._resolveDeferredDataItems()&&this._RenderComponent(this._optionsCopy)),this._renderNeeded=!1)},_IsDraggable:function(){return!!this.options.dnd},_NotifyShown:function(){this._super(),this._notifyShownAttached()},_NotifyAttached:function(){this._super(),this._notifyShownAttached()},_NotifyDetached:function(){this._super(),this._notifyHiddenDetached()},_NotifyHidden:function(){this._super(),this._notifyHiddenDetached()},_notifyShownAttached:function(){this._renderNeeded&&this._Render()},_notifyHiddenDetached:function(){this._context.hideTooltips(),this._MakeReady()},_UserOptionChange:function(e,t,n){this._bUserDrivenChange=!0,this.option(e,t,{_context:{writeback:!0,optionMetadata:n,internalSet:!0,skipEvent:"_"===e.charAt(0)}}),this._bUserDrivenChange=!1},_NotifyContextMenuGesture:function(e,t,n){if("touch"!==n)if("keyboard"===n){var r=this.element[0].getBoundingClientRect(),i=this._component.getKeyboardFocus()?this._component.getKeyboardFocus().getBoundingClientRect():null,s=i?"left+"+(i.left+.5*i.width-r.left)+" top+"+(i.top+.5*i.height-r.top):"center";this._OpenContextMenu(t,n,{position:{at:s}})}else this._super(e,t,n)},_GetDvtComponent:function(e){var t=o.__GetWidgetConstructor(e)("instance");return t?t._component:null},_GetStringFromIndexPath:function(e){for(var t="",n=0;n<e.length;n++)t+="["+e[n]+"]";return t},_GetIndexPath:function(e){for(var t=[],n=0;e.indexOf("[",n)>0;){var r=e.indexOf("[",n)+1,i=e.indexOf("]",n);t.push(Number(e.substring(r,i))),n=i+1}return t},_GetFirstIndex:function(e){return Number(this._GetFirstBracketedString(e))},_GetFirstBracketedString:function(e){var t=e.indexOf("[")+1,n=e.indexOf("]");return e.substring(t,n)},_GetComponentDeferredDataPaths:function(){return{}},_GetComponentNoClonePaths:function(){if(!this._noClonePaths){this._noClonePaths={};var e=this,t=this._GetComponentDeferredDataPaths().root;t&&t.forEach(function(t){e._noClonePaths[t]=!0})}return this._noClonePaths},_resolveDocumentFonts:function(){var e=document.fonts;if(e&&"loading"===e.status){this._numDeferredObjs+=1;var t=this._renderCount;e.ready.then(function(){this._renderDeferredData(t,null,[])}.bind(this))}},_resolveDeferredDataItems:function(){this._optionsCopy=t.JsonUtils.clone(this.options,null,this._GetComponentNoClonePaths()),this._ProcessStyles(this._optionsCopy),this._numDeferredObjs=0,this._FixCustomRenderers(this._optionsCopy),this._resolveDocumentFonts();for(var e=this,n=this._GetComponentDeferredDataPaths(),r=Object.keys(n),i=0;i<r.length;i++){var s=r[i];n[s].forEach(function(t){if("root"===s)e._resolveDeferredDataItem.bind(e)(e.options,e._optionsCopy,t);else{var n=e.options[s];if(n&&n instanceof Array)for(var r=0;r<n.length;r++)e._resolveDeferredDataItem.bind(e)(n[r],e._optionsCopy[s][r],t)}})}return 0===this._numDeferredObjs},_resolveDeferredDataItem:function(e,t,n){var r=new m(e,n),i=r.getValue(),s=this;if(i instanceof Function?i=Promise.resolve(i(this._GetDataContext(e))):this._IsCustomElement()&&Array.isArray(i)&&(i=Promise.resolve(i),r.setValue(i,!0)),i&&this._DataProviderHandler.isDataProvider(i)){var o=this._DataProviderHandler.isTreeDataProvider(i);i=s._dataValuePromise[n]||new Promise(function(e){var t=s._TemplateHandler.getTemplateEngine(),r=s._DataProviderHandler.fetchAllData(i,n,!0);Promise.all([t,r]).then(function(t){if(i===s._dataValuePromise[n]){var r=t[0],a=t[1],l=s._ProcessTemplates(n,a,r,o,null,!0);s._dataValuePromise[n]=null,e(l)}},function(){s._dataValuePromise[n]=null})}),s._dataValuePromise[n]=i}if(i instanceof Promise){var a=this._renderCount;i.then(function(e){var r=[n],i=[e];e.paths&&(r=e.paths,i=e.values),s._renderDeferredData(a,t,r,i)},function(){s._renderDeferredData(a,t,[n],[[]])}),this._numDeferredObjs+=1}},_renderDeferredData:function(e,t,n,r){if(this._context&&e===this._renderCount){this._numDeferredObjs-=1;for(var i=0;i<n.length;i++)new m(t,n[i]).setValue(r[i],!0);0===this._numDeferredObjs&&(this._RenderComponent(this._optionsCopy),this._optionsCopy=null)}},_ClearDataProviderState:function(e){this._DataProviderHandler.clear(e),this._TemplateHandler.release(e),this._dataValuePromise[e]=null},_OptionChangeHandler:function(e){for(var t=Object.keys(this._GetSimpleDataProviderConfigs()),n=0;n<t.length;n++){var r=t[n];Object.prototype.hasOwnProperty.call(e,r)&&this._ClearDataProviderState(r)}},getElementPropertyNames:function(t){var n=e.CustomElementBridge.getMetadata(t).properties,r=Object.keys(n).filter(function(e){return!n[e]._eventListener}),i=new Set;return r.forEach(function(e){i.add(e)}),i},_ProcessTemplates:function(e,t,n,r,i,s,o){return this._TemplateHandler.processTemplates(e,t,n,r,i,s,o)},_GetSimpleDataProviderConfigs:function(){return{}},_UseObjectAssignForShapedData:function(){return!1},_GetDPEventHandler:function(){return function(e){"notReady"===e.type?this._NotReady():"dataUpdated"===e.type?this._Render():"clearState"===e.type?this._ClearDataProviderState(e.detail.dataProperty):"reset"===e.type?this._TemplateHandler.clear(e.detail.dataProperty,!0):"removeKeys"===e.type&&this._RemoveKeys(e.detail.keys)}.bind(this)},_RemoveKeys:function(e){var t,n,r=this.options.selection,i=new l(e);if(r&&r.length>0){for(var s=(n=r.slice(0)).length-1;s>=0;s--)i.has(n[s])&&(t=!0,n.splice(s,1));t&&this._UserOptionChange("selection",n)}},_getFetchDataHandler:function(e){var t=this._GetSimpleDataProviderConfigs()[e].resultPath;return function(n,r,i,s){var o=this._DataProviderHandler.fetchChildrenData(e,n,s,r),a=this._TemplateHandler.getTemplateEngine();return Promise.all([o,a]).then(function(n){var r=this._ProcessTemplates(e,{data:n[0].data,keys:n[0].keys},n[1],!0,s,!1,!0).values[0];return i&&(i[t]=r),r}.bind(this))}.bind(this)},_RenderComponent:function(e,t){if(this._context.isReadyToRender()){this._CleanAllTemplates(t);var n=this._IsFlowingLayoutSupported()&&this._resizeListener;n&&this._removeResizeListener(),t&&this._BeforeResizeRender(),this._component.render(t?null:e,this._width,this._height),n&&this._addResizeListener(),this.element.attr("role")?this.element[0].hasAttribute("tabindex")||this.element.attr("tabindex",0):this.element.attr("tabindex",null)}else this._renderNeeded=!0,this._MakeReady()},_GetDataContext:function(e){return{}},_IsFlowingLayoutSupported:function(){return!1},whenReady:function(){if(this._ready)return Promise.resolve(!0);if(!this._promise){var e=this;this._promise=new Promise(function(t){e._promiseResolve=t})}return this._promise},_NotReady:function(){if(this._ready=!1,0===this._numDeferredObjs&&!this._readyResolveFunc){var e=n.getContext(this.element[0]).getBusyContext(),t={description:"The component identified by '"+this.element.attr("id")+"' is being loaded."};this._readyResolveFunc=e.addBusyState(t)}},_MakeReady:function(){this._promiseResolve&&(this._promiseResolve(!0),this._promiseResolve=null),this._ready=!0,this._promise=null,this._readyResolveFunc&&(this._readyResolveFunc(),this._readyResolveFunc=null)},_ProcessOptions:function(){t.Agent.isEnvironmentTest()&&(this.options=Object.assign(this.options,this.element[0].__dvtToolkit));var e=this.options.tooltip;e&&e._renderer&&(this.options.tooltip={renderer:this._GetTemplateRenderer(e._renderer,"tooltip")})},_WrapCustomElementRenderer:function(e){var t=this;return e?function(n){n._dvtcontext=t._context;var r=e(n);if(n._templateName&&n._templateCleanup&&(t._AddTemplate(n),"tooltipTemplate"===n._templateName)){const e=t._cleanTooltipTemplate();Object.defineProperty(n,"_tooltipTemplateCleanup",{value:()=>e(n._templateCleanup),enumerable:!1})}if(r&&!0!==r.preventDefault&&r.insert){var i=r.insert;return i.classList&&i.classList.contains("oj-dvtbase")?t._GetDvtComponent(i):i}return null}:null},_FixCustomRenderers:function(e){if(this._IsCustomElement())for(var t=this._GetComponentRendererOptions(),n=0;n<t.length;n++){var r=t[n].path,i=t[n].slot,s=this._TemplateHandler.getTemplates();if(i&&s[i]&&s[i][0])this._ProcessInlineTemplateRenderer(e,r,s[i][0],i);else{var o=new m(e,r),a=o.getValue();a&&o.setValue(this._WrapCustomElementRenderer(a),!0)}}},_GetComponentRendererOptions:function(){return[{path:"tooltip/renderer",slot:"tooltipTemplate"}]},_GetTemplateRenderer:function(e,t){var n=this;return function(r){var i=document.createElement("div");i.style.display="none",e({parentElement:i,context:r});var s=i.children[0];return s?(n._AddTemplate({_templateName:t,_templateCleanup:function(){a(i).remove()}}),i.removeChild(s),a(i).remove(),s):null}},_GetTemplateDataRenderer:function(e,t){var n=this;return function(r){var i=document.createElement("div");i.style.display="none",i._dvtcontext=n._context,n.element.append(i),e({parentElement:i,data:r.data});var s=i.children[0];return s?(n._AddTemplate({_templateName:t,_templateCleanup:function(){a(i).remove()}}),"http://www.w3.org/2000/svg"===s.namespaceURI?(i.removeChild(s),a(i).remove(),s):n._GetDvtComponent(s)):null}},_WrapInlineTemplateRenderer:function(e,t,n){return e},_ProcessInlineTemplateRenderer:function(e,t,n,r){var i=this._renderCount;this._numDeferredObjs+=1,this._TemplateHandler.getTemplateEngine().then(function(s){var o=function(e){return this._TemplateRenderer(e,s,n,r)}.bind(this);o=this._WrapInlineTemplateRenderer(o,r,t),this._renderDeferredData(i,e,[t],[this._WrapCustomElementRenderer(o)])}.bind(this))},_TemplateRenderer:function(e,t,n,r){var i=t.execute(this.element[0],n,e);return i&&i.length>0?(Object.defineProperty(e,"_templateCleanup",{value:()=>{i.forEach(e=>{t.clean(e,this.element[0])})},enumerable:!1}),Object.defineProperty(e,"_templateName",{value:r,enumerable:!1}),{insert:i}):{preventDefault:!0}},_CleanAllTemplates:function(e){for(var t=Object.keys(this._templateMap),n=0;n<t.length;n++){var r=t[n];this._CleanTemplate(r)}},_CleanTemplate:function(e){if(this._templateMap[e]){for(var t=this._templateMap[e].length,n=0;n<t;n++)this._templateMap[e][n]();this._templateMap[e]=[]}},_cleanTooltipTemplate:function(){return e=>{const t=this._templateMap.tooltipTemplate,n=t.findIndex(t=>t===e);-1!==n&&(t[n](),t.splice(n,1))}},_AddTemplate:function(e){var t=e._templateName;this._templateMap[t]||(this._templateMap[t]=[]),this._templateMap[t].push(e._templateCleanup)},_CompareOptionValues:function(t,n,r){switch(t){case"hiddenCategories":case"highlightedCategories":case"selection":return e.Object.compareValues(n,r);default:return this._super(t,n,r)}}},!0),e._registerLegacyNamespaceProp("AttributeGroupHandler",c.AttributeGroupHandler),e._registerLegacyNamespaceProp("ColorAttributeGroupHandler",c.ColorAttributeGroupHandler),e._registerLegacyNamespaceProp("ShapeAttributeGroupHandler",c.ShapeAttributeGroupHandler);const C={_SHAPE_REGEXP:/\d/,_SHAPE_ENUMS:{circle:!0,ellipse:!0,square:!0,rectangle:!0,diamond:!0,triangleUp:!0,triangleDown:!0,plus:!0,human:!0,star:!0},shapeParseFunction:function(e,t){var n=t||C._SHAPE_ENUMS;return function(t,r,i,s){if(e[r]){if(C._SHAPE_REGEXP.test(t))return t;if(n[t])return t;throw new Error("Found: '"+t+"'. Expected one of the following: "+Object.keys(n).toString())}return s(t)}}};return C});
//# sourceMappingURL=ojdvt-base.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojdvt-axis',["exports","ojs/ojconverter-number"],function(t,i){"use strict";class a{constructor(t,i,a){this._context=t,this.Position=i.position,this._radius=i._radius,"top"===this.Position||"bottom"===this.Position?(this.StartCoord=a.x,this.EndCoord=a.x+a.w):"left"===this.Position||"right"===this.Position?(this.StartCoord=a.y,this.EndCoord=a.y+a.h):"radial"===this.Position?(this.StartCoord=0,this.EndCoord=this._radius):"tangential"===this.Position&&(i.isRTL?(this.StartCoord=2*Math.PI,this.EndCoord=0):(this.StartCoord=0,this.EndCoord=2*Math.PI)),this.MinValue=null,this.MaxValue=null,this.GlobalMin=null,this.GlobalMax=null,this.DataMin=null,this.DataMax=null,this.StartOverflow=0,this.EndOverflow=0,null==i.leftBuffer&&(i.leftBuffer=1/0),null==i.rightBuffer&&(i.rightBuffer=1/0),this.Options=i}getCtx(){return this._context}getOptions(){return this.Options}getValAt(t){if(null==t)return null;var i=Math.min(this.StartCoord,this.EndCoord),a=Math.max(this.StartCoord,this.EndCoord);return t<i||t>a?null:this.getUnboundedValAt(t)}getCoordAt(t){return null==t||t<this.MinValue||t>this.MaxValue?null:this.getUnboundedCoordAt(t)}getBoundedValAt(t){if(null==t)return null;var i=t,a=Math.min(this.StartCoord,this.EndCoord),n=Math.max(this.StartCoord,this.EndCoord);return t<a?i=a:t>n&&(i=n),this.getUnboundedValAt(i)}getBoundedCoordAt(t){if(null==t)return null;var i=t;return t<this.MinValue?i=this.MinValue:t>=this.MaxValue&&(i=this.MaxValue),this.getUnboundedCoordAt(i)}getUnboundedValAt(t){return null}getUnboundedCoordAt(t){return null}}a.MIN_AXIS_BUFFER=10;t.BaseAxisInfo=a,t.DataAxisInfoMixin=t=>class extends t{constructor(t,i,n){super(t,i,n),this.MAX_NUMBER_OF_GRIDS_AUTO=10,this.MINOR_TICK_COUNT=2,this.MAJOR_TICK_INCREMENT_BUFFER=1e-10,this.MIN_BAR_SIZE_IN_LOG=10,"top"===this.Position||"bottom"===this.Position?("off"!==i.tickLabel.rendered&&"off"!==i.rendered&&(this.StartOverflow=Math.max(a.MIN_AXIS_BUFFER-i.leftBuffer,0),this.EndOverflow=Math.max(a.MIN_AXIS_BUFFER-i.rightBuffer,0)),i.isRTL?(this.MinCoord=this.EndCoord-this.EndOverflow,this.MaxCoord=this.StartCoord+this.StartOverflow):(this.MinCoord=this.StartCoord+this.StartOverflow,this.MaxCoord=this.EndCoord-this.EndOverflow)):"tangential"===this.Position||"radial"===this.Position?(this.MinCoord=this.StartCoord,this.MaxCoord=this.EndCoord):(this.MinCoord=this.EndCoord,this.MaxCoord=this.StartCoord),this.DataMin=i.dataMin,this.DataMax=i.dataMax,this.utilsLogOptions=i._utils&&"log"===i.scale,this.IsLog=this.utilsLogOptions||"log"===i.scale&&this.DataMin>0&&this.DataMax>0,this.LinearGlobalMin=this.actualToLinear(i.min),this.LinearGlobalMax=this.actualToLinear(i.max),this.LinearMinValue=null==i.viewportMin?this.LinearGlobalMin:this.actualToLinear(i.viewportMin),this.LinearMaxValue=null==i.viewportMax?this.LinearGlobalMax:this.actualToLinear(i.viewportMax),this._dataMin=this.actualToLinear(this.DataMin),this._dataMax=this.actualToLinear(this.DataMax),this.MajorIncrement=this.actualToLinear(i.step),this.MinorIncrement=this.actualToLinear(i.minorStep),this._minMajorIncrement=this.actualToLinear(i.minStep),this.MajorTickCount=i._majorTickCount,this.MinorTickCount=i._minorTickCount,this.LogScaleUnit=i._logScaleUnit,this.ZeroBaseline=!this.IsLog&&"zero"===i.baselineScaling,this._continuousExtent=this.Options?"on"===this.Options._continuousExtent:null,this.Converter=null,null!=i.tickLabel&&(this.Converter=i.tickLabel.converter),this._calcAxisExtents(),this.GlobalMin=this.linearToActual(this.LinearGlobalMin),this.GlobalMax=this.linearToActual(this.LinearGlobalMax),this.MinValue=this.linearToActual(this.LinearMinValue),this.MaxValue=this.linearToActual(this.LinearMaxValue)}getBaselineCoord(){return this.IsLog?this.MinCoord:this.getBoundedCoordAt(0)}getUnboundedValAt(t){if(null==t)return null;var i=(t-this.MinCoord)/(this.MaxCoord-this.MinCoord),a=this.LinearMinValue+i*(this.LinearMaxValue-this.LinearMinValue);return this.linearToActual(a)}getUnboundedCoordAt(t){return this.GetUnboundedCoordAt(this.actualToLinear(t))}GetUnboundedCoordAt(t){if(null==t)return null;var i=this.LinearMaxValue===this.LinearMinValue?0:(t-this.LinearMinValue)/(this.LinearMaxValue-this.LinearMinValue);return i=Math.max(Math.min(1e3,i),-1e3),this.MinCoord+i*(this.MaxCoord-this.MinCoord)}CalcMajorMinorIncr(t){this.MajorIncrement||(this.MajorTickCount?this.MajorIncrement=(this.LinearMaxValue-this.LinearMinValue)/this.MajorTickCount:this.MajorIncrement=Math.max(t,this._minMajorIncrement)),this.MajorTickCount||(this.MajorTickCount=(this.LinearMaxValue-this.LinearMinValue)/this.MajorIncrement,Math.ceil(this.MajorTickCount)-this.MajorTickCount<this.MAJOR_TICK_INCREMENT_BUFFER&&(this.MajorTickCount=Math.ceil(this.MajorTickCount))),this.MinorTickCount||(this.MinorIncrement?this.MinorTickCount=this.MajorIncrement/this.MinorIncrement:this.IsLog?this.MinorTickCount=this.MajorIncrement:this.MinorTickCount=this.MINOR_TICK_COUNT),this.MinorIncrement||(this.MinorIncrement=this.MajorIncrement/this.MinorTickCount)}_calcAxisExtents(){this.ZeroBaseline&&(this._dataMin=Math.min(0,this._dataMin),this._dataMax=Math.max(0,this._dataMax));var t=null!=this.LinearGlobalMax?this.LinearGlobalMax:this._dataMax,i=null!=this.LinearGlobalMin?this.LinearGlobalMin:this._dataMin,a=Math.max(this._calcAxisScale(i,t),this._minMajorIncrement);this._dataMin===this._dataMax&&(0===this._dataMin?this._dataMax+=5*a:(this._dataMin-=2*a,this._dataMax+=2*a)),null==this.LinearGlobalMin&&(this.ZeroBaseline&&this._dataMin>=0?this.LinearGlobalMin=0:this._continuousExtent?this.LinearGlobalMin=this._dataMin-.1*(this._dataMax-this._dataMin):this.ZeroBaseline||null==this.LinearGlobalMax?this.LinearGlobalMin=(Math.ceil(this._dataMin/a)-1)*a:(this.LinearGlobalMin=this.LinearGlobalMax,this.LinearGlobalMin-=a*(Math.floor((this.LinearGlobalMin-this._dataMin)/a)+1)),this._dataMin>=0&&!this.IsLog&&(this.LinearGlobalMin=Math.max(this.LinearGlobalMin,0))),null==this.LinearGlobalMax&&(this.MajorTickCount?(this.LinearGlobalMax=this.LinearGlobalMin+this.MajorTickCount*a,this.LinearGlobalMax<this._dataMax&&(a=Math.max(this._calcAxisScale(i,t+a),this._minMajorIncrement),this.LinearGlobalMax=this.LinearGlobalMin+this.MajorTickCount*a)):this.ZeroBaseline&&this._dataMax<=0?this.LinearGlobalMax=0:this._continuousExtent?this.LinearGlobalMax=this._dataMax+.1*(this._dataMax-this._dataMin):this.ZeroBaseline?this.LinearGlobalMax=(Math.floor(this._dataMax/a)+1)*a:(this.LinearGlobalMax=this.LinearGlobalMin,this.LinearGlobalMax+=a*(Math.floor((this._dataMax-this.LinearGlobalMax)/a)+1)),this._dataMax<=0&&(this.LinearGlobalMax=Math.min(this.LinearGlobalMax,0))),this.LinearGlobalMax===this.LinearGlobalMin&&(this.LinearGlobalMax=100,this.LinearGlobalMin=0,a=(this.LinearGlobalMax-this.LinearGlobalMin)/this.MAX_NUMBER_OF_GRIDS_AUTO),null==this.LinearMinValue&&(this.LinearMinValue=this.LinearGlobalMin),null==this.LinearMaxValue&&(this.LinearMaxValue=this.LinearGlobalMax);var n=Math.abs(this.GetUnboundedCoordAt(this.LinearGlobalMin)-this.GetUnboundedCoordAt(this._dataMin));(this.IsLog&&n<this.MIN_BAR_SIZE_IN_LOG||this.utilsLogOptions)&&(this.LinearGlobalMin-=a,this.LinearMinValue=this.LinearGlobalMin),this.LinearMinValue===this.LinearGlobalMin&&this.LinearMaxValue===this.LinearGlobalMax||(a=this._calcAxisScale(this.LinearMinValue,this.LinearMaxValue)),this.LinearGlobalMin>this.LinearMinValue&&(this.LinearGlobalMin=this.LinearMinValue),this.LinearGlobalMax<this.LinearMaxValue&&(this.LinearGlobalMax=this.LinearMaxValue),this.CalcMajorMinorIncr(a)}_calcAxisScale(t,i){if(this.MajorIncrement)return this.MajorIncrement;var a,n=i-t;if(this.IsLog){var s=Math.floor(n/8)+1;return(!this.LogScaleUnit||this.LogScaleUnit<s)&&(this.LogScaleUnit=s),this.LogScaleUnit}if(0===n)return 0===t?10:Math.pow(10,Math.floor(Math.log10(t))-1);if(this.MajorTickCount){var e=n/this.MajorTickCount,r=e/(a=Math.pow(10,Math.ceil(Math.log10(e)-1)));return(r=r>1&&r<=1.5?1.5:r>5?10:Math.ceil(r))*a}var o=Math.log10(n);a=Math.pow(10,Math.ceil(o)-2);var l=Math.round(n/a);return(l>=10&&l<=14?2:l>=15&&l<=19?3:l>=20&&l<=24?4:l>=25&&l<=45?5:l>=46&&l<=80?10:20)*a}linearToActual(t){return null==t?null:this.IsLog?Math.pow(10,t):t}actualToLinear(t){return null==t?null:this.IsLog?t>0?Math.log10(t):null:t}getAxisData(){return{isLog:this.IsLog,max:this.LinearGlobalMax,min:this.LinearGlobalMin,step:this.MajorIncrement,numSteps:this.MajorTickCount}}},t.LinearScaleAxisValueFormatter=class{constructor(t,i,a,n,s,e){this.SCALE_NONE="none",this.SCALE_AUTO="auto",this.SCALE_THOUSAND="thousand",this.SCALE_MILLION="million",this.SCALE_BILLION="billion",this.SCALE_TRILLION="trillion",this.SCALE_QUADRILLION="quadrillion",this.SCALING_FACTOR_DIFFERENCE=3,this._translations=e,this._scales={},this._scalesOrder=[],this._factorToScaleMapping={},this.InitScales(),this.InitFormatter(t,i,a,n,s)}InitScales(){const t=(t,i,a)=>{var n;a&&(n=this._translations?this._translations[a]:null);var s={scaleFactor:i,localizedSuffix:n};this._scales[t]=s,this._scalesOrder.push(s),this._factorToScaleMapping[i]=s};var i=this.SCALING_FACTOR_DIFFERENCE;t(this.SCALE_NONE,0*i),t(this.SCALE_THOUSAND,1*i,"labelScalingSuffixThousand"),t(this.SCALE_MILLION,2*i,"labelScalingSuffixMillion"),t(this.SCALE_BILLION,3*i,"labelScalingSuffixBillion"),t(this.SCALE_TRILLION,4*i,"labelScalingSuffixTrillion"),t(this.SCALE_QUADRILLION,5*i,"labelScalingSuffixQuadrillion"),this._scalesOrder.sort((t,i)=>t.scaleFactor<i.scaleFactor?-1:t.scaleFactor>i.scaleFactor?1:0)}InitFormatter(t,i,a,n,s){var e,r,o=!1,l=!1;if("off"!==s&&(l=!0),"number"!=typeof(r=this._getScaleFactor(n))&&(o=!0),o){var h=Math.max(Math.abs(t),Math.abs(i)),M=this._getPowerOfTen(h);r=this._findNearestLEScaleFactor(M)}if(!0===l)if(0===a&&t===i){var u=r-this._getPowerOfTen(i);e=u<=0?Math.max(u+3,0):Math.max(u,4)}else{var c=this._getPowerOfTen(a);e=Math.max(r-c,0)}this._useAutoPrecision=l,this._scaleFactor=r,this._decimalPlaces=e}_findNearestLEScaleFactor(t){var i=0;if(t<=this._scalesOrder[0].scaleFactor)i=this._scalesOrder[0].scaleFactor;else if(t>=this._scalesOrder[this._scalesOrder.length-1].scaleFactor)i=this._scalesOrder[this._scalesOrder.length-1].scaleFactor;else for(var a=this._scalesOrder.length-1;a>=0;a--)if(this._scalesOrder[a].scaleFactor<=t){i=this._scalesOrder[a].scaleFactor;break}return i}_getScaleFactor(t){var i,a=t||this.SCALE_AUTO,n=this._scales[a];return n&&(i=n.scaleFactor),i}format(t,a){var n=null!=t?parseFloat(t):t;if("number"==typeof n){var s=Math.pow(10,this._scaleFactor),e={style:"decimal",decimalFormat:"unit"===(a&&a.getOptions&&a.getOptions()&&a.getOptions().style)?"standard":"short",nu:"latn",useGrouping:!1},r=new i.IntlNumberConverter(e).format(s,e),o=/(\d+)(.*$)/.exec(r),l=o[2],h=Number(o[1])/s*n;if(a&&a.format)h=a.format(h);else{var M={style:"decimal",minimumFractionDigits:this._decimalPlaces,maximumFractionDigits:this._decimalPlaces};h=new i.IntlNumberConverter(M).format(h,M)}return"string"==typeof l&&0!==t&&(h+=l),h}return t}_formatFraction(t){var i=t.toString();if(-1!==i.indexOf("e"))return i;if(this._decimalPlaces>0){-1===i.indexOf(".")&&(i+=".");for(var a=i.substring(i.indexOf(".")+1).length;a<this._decimalPlaces;)i+="0",a+=1}return i}_getPowerOfTen(t){var i=t>=0?t:-t,a=0;if(i<1e-15)return 0;if(i===1/0)return Number.MAX_VALUE;if(i>=10)for(;i>=10;)a+=1,i/=10;else if(i<1)for(;i<1;)a-=1,i*=10;return a}getDecimalPlaces(){return this._decimalPlaces}},Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ojdvt-axis.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojlegend-toolkit',["exports","ojs/ojdvt-toolkit"],function(e,t){"use strict";const i=(e,t)=>{var i=null,s=null!=t.getOptions().data;return e.categories&&e.categories.length>0?i=e.categories[0]:s||(i=e.id?e.id:e.text),i},s=(e,t)=>{var i=t.getOptions().hiddenCategories;return!(!i||i.length<=0)&&-1!==i.indexOf(e)},n=(e,t)=>{var i=t.getOptions();return"off"==e.expanded||0==e.expanded||i.expanded&&0==i.expanded.has(e.id)},a=e=>!e||0===Object.keys(e).length;class l{constructor(e,s,n,a,l,r){if(this._legend=e,this._displayables=s,this._item=n,this._category=i(this._item,this._legend),this._id=this._category?this._category:n.title?n.title:n.id,this._drillable=r,this._tooltip=a,this._datatip=l,this._isShowingKeyboardFocusEffect=!1,this._hoverBorderRadius=parseInt(e.getOptions()._hoverBorderRadius),this._drillable)for(var o=0;o<this._displayables.length;o++)this._displayables[o].setCursor(t.SelectionEffectUtils.getSelectingCursor())}static associate(e,t,i,s,n,a){if(!e||!i)return null;var r=new l(t,e,i,s,n,a);t.__registerObject(r);for(var o=0;o<e.length;o++)t.getEventManager().associate(e[o],r);return r}getData(){return this._item}getColor(){return this._item.color}getId(){return this._id}getDisplayables(){return this._displayables}getCategories(){return null!=this._category?[this._category]:null}isDrillable(){return this._drillable}getAriaLabel(){var e=[],i=this._legend.getOptions().translations,a=this._legend.getOptions().hideAndShowBehavior,l=s(this._category,this._legend),r=this.getData();return this._displayables[0]instanceof t.IconButton?(e.push(i[n(r,this._legend)?"stateCollapsed":"stateExpanded"]),t.Displayable.generateAriaLabel(r.title,e)):("off"!=a&&"none"!=a&&e.push(i[l?"stateHidden":"stateVisible"]),this.isDrillable()&&e.push(i.stateDrillable),null!=r.shortDesc?t.Displayable.generateAriaLabel(r.shortDesc,e):e.length>0?t.Displayable.generateAriaLabel(r.text,e):null)}updateAriaLabel(){!t.Agent.deferAriaCreation()&&this._displayables[0]&&this._displayables[0].setAriaProperty("label",this.getAriaLabel())}getNextNavigable(e){if(e.type==t.MouseEvent.CLICK)return this;var i=this._legend.__getKeyboardObjects();return t.KeyboardHandler.getNextNavigable(this,e,i,!0,this._legend,!0)}getKeyboardBoundingBox(e){return this._displayables[0]?this._displayables[0].getDimensions(e):new t.Rectangle(0,0,0,0)}getTargetElem(){return this._displayables[0]?this._displayables[0].getElem():null}showKeyboardFocusEffect(){this._isShowingKeyboardFocusEffect=!0,this._displayables[0]&&(this._displayables[0]instanceof t.IconButton?this._displayables[0].showKeyboardFocusEffect():this._displayables[0].setSolidStroke(t.Agent.getFocusColor()))}hideKeyboardFocusEffect(){this._isShowingKeyboardFocusEffect=!1,this._displayables[0]&&(this._displayables[0]instanceof t.IconButton?this._displayables[0].hideKeyboardFocusEffect():this._displayables[0].setStroke(null))}isShowingKeyboardFocusEffect(){return this._isShowingKeyboardFocusEffect}getTooltip(){return this._tooltip}getDatatip(){return this._datatip}getDatatipColor(){return this._item.color}isDragAvailable(){return!0}getDragTransferable(){return[this.getId()]}getDragFeedback(){return this.getDisplayables()}showHoverEffect(){this._displayables[0]&&this._displayables[0]instanceof t.Rect&&(this._displayables[0].setClassName("oj-legend-hover"),this._displayables[0].setRx(this._hoverBorderRadius))}hideHoverEffect(){this._displayables[0]&&this._displayables[0]instanceof t.Rect&&(this._displayables[0].setClassName(),this._displayables[0].setRx(0))}}class r extends t.Automation{GetSubIdForDomElement(e){var t=this._comp.getEventManager().GetLogicalObject(e);if(t&&t instanceof l){var i=t.getData(),s=this._getIndicesFromItem(i,this._comp.getOptions());if(s)return"section"+s}return null}_getIndicesFromItem(e,t){if(t.sections&&t.sections.length>0){for(var i=0;i<t.sections.length;i++){if(t.sections[i]==e)return"["+i+"]";var s=this._getIndicesFromItem(e,t.sections[i]);if(s)return"["+i+"]"+s}return null}if(t.items&&t.items.length>0){for(var n=0;n<t.items.length;n++)if(t.items[n]==e)return":item["+n+"]";return null}return null}getIndicesFromSeries(e,t){if(t.sections&&t.sections.length>0){for(var i=0;i<t.sections.length;i++){var s=this.getIndicesFromSeries(e,t.sections[i]);if(s)return"["+i+"]"+s}return null}if(t.items&&t.items.length>0){for(var n=0;n<t.items.length;n++)if(t.items[n].text==e.name)return":item["+n+"]";return null}return null}getLegendItem(e,t){var i=t.indexOf("["),s=t.indexOf("]");if(i>=0&&s>=0){var n=t.substring(i+1,s),a=t.indexOf(":"),l=(t=t.substring(s+1)).indexOf("["),r=t.indexOf("]");return l>=0&&r>=0?this.getLegendItem(e.sections[n],t):0==a?e.items[n]:e.sections[n]}}getDomElementForSubId(e){if(e==t.Automation.TOOLTIP_SUBID)return this.GetTooltipElement(this._comp);for(var i=this.getLegendItem(this._comp.getOptions(),e),s=this._comp.__getObjects(),n=0;n<s.length;n++){if(i==s[n].getData())return s[n].getDisplayables()[0].getElem()}return null}getTitle(){return this._comp.getOptions().title}getItem(e){var t,i=e.shift(),s=this._comp.getOptions();if(!s.sections||0===s.sections.length)return null;for(;null!=i;)e.length>0?s=s.sections[i]:t=s.items[i],i=e.shift();return t?{text:t.text?t.text:null}:null}getSection(e){var t,i=e.shift(),s=this._comp.getOptions();if(!s.sections||0===s.sections.length)return null;for(;null!=i;)e.length>0?s=s.sections[i]:t=s.sections[i],i=e.shift();return{title:t&&t.title?t.title:null,items:t&&t.items?this._generateItemObjects(t.items):null,sections:t&&t.sections?this._generateSectionObjects(t.sections):null}}_generateItemObjects(e){for(var t=[],i=0;i<e.length;i++)t.push({text:e[i].text});return t}_generateSectionObjects(e){for(var t=[],i=0;i<e.length;i++)t.push({title:e[i].title?e[i].title:null,items:e[i].items?this._generateItemObjects(e[i].items):null,sections:e[i].sections?this._generateSectionObjects(e[i].sections):null});return t}_getLogicalObject(e){for(var t=this._comp._peers,i=0;i<t.length;i++)if(e===t[i]._id)return t[i];return null}dispatchDrillEvent(e){var t=this._getLogicalObject(e);this._comp.getEventManager().processDrillEvent(t)}}class o extends t.BaseComponentDefaults{constructor(e){super({alta:{skin:t.CSSStyle.SKIN_ALTA,orientation:"vertical",position:null,backgroundColor:null,borderColor:null,textStyle:new t.CSSStyle(t.BaseComponentDefaults.FONT_FAMILY_ALTA_11+"color: #333333;"),titleStyle:new t.CSSStyle(t.BaseComponentDefaults.FONT_FAMILY_ALTA_11+"color: #737373;"),_sectionTitleStyle:new t.CSSStyle(t.BaseComponentDefaults.FONT_FAMILY_ALTA_11+"color: #737373;"),titleHalign:"",hiddenCategories:[],hideAndShowBehavior:"off",hoverBehavior:"none",hoverBehaviorDelay:200,scrolling:"asNeeded",halign:"start",valign:"top",drilling:"off",dnd:{drag:{series:{}},drop:{legend:{}}},_color:"#a6acb1",_markerShape:"square",_lineWidth:3,layout:{outerGapWidth:3,outerGapHeight:3,titleGapWidth:17,titleGapHeight:9,symbolGapWidth:7,symbolGapHeight:4,rowGap:4,columnGap:10,sectionGapHeight:16,sectionGapWidth:24},isLayout:!1}},e)}static getGapSize(e,i){var s=Math.min(t.TextUtils.getTextStringHeight(e.getCtx(),e.getOptions().textStyle)/14,1);return Math.ceil(i*s)}getNoCloneObject(){return{sections:{items:{_getDataContext:!0}}}}}class h extends t.EventManager{constructor(e){super(e.getCtx(),e.processEvent,e,e),this._legend=e}OnClick(e){super.OnClick(e);var t=this.GetLogicalObject(e.target);if(t){var i=this.processHideShowEvent(t),s=this.handleClick(t,e);(i||s)&&e.stopPropagation()}}OnMouseOver(e){super.OnMouseOver(e);var t=this.GetLogicalObject(e.target);t&&this.UpdateActiveElement(t)}HandleTouchClickInternal(e){var t=this.GetLogicalObject(e.target);if(t){var i=e.touchEvent,s=this.processHideShowEvent(t),n=this.handleClick(t,e);(s||n)&&i&&i.preventDefault()}}processHideShowEvent(e){var i=this._legend.getOptions().hideAndShowBehavior;if("none"==i||"off"==i)return!1;var n=e.getCategories?e.getCategories():null;if(!n||n.length<=0)return!1;var a=e.getCategories()[0],l=this._legend.getOptions().hiddenCategories||[];l=l.slice();for(var r=e.getDisplayables(),o=0;o<r.length;o++){var h=r[o];h instanceof t.SimpleMarker?h.setHollow(e.getColor()):h instanceof t.Rect&&e.updateAriaLabel()}var g,d=n[0];return s(a,this._legend)?(l.splice(l.indexOf(a),1),g=t.EventFactory.newCategoryShowEvent(d,l)):(l.push(a),g=t.EventFactory.newCategoryHideEvent(d,l)),this._legend.getOptions().hiddenCategories=l,this.FireEvent(g,this._legend),!0}processDrillEvent(e){if(e&&e instanceof l&&e.isDrillable()){var i=e.getId();return this.FireEvent(t.EventFactory.newDrillEvent(i),this._legend),!0}return!1}handleClick(e,i){if(this.processDrillEvent(e))return!0;var s=e instanceof t.SimpleObjPeer?e.getParams():null;return!(!s||!s.isCollapsible)&&(this.toggleSectionCollapse(i,s.id),!0)}ProcessRolloverEvent(e,i,s){var n=this._legend.getOptions();if(("none"!==n.hoverBehavior||"none"!==n.hideAndShowBehavior&&"off"!==n.hideAndShowBehavior)&&!(i.getDisplayables&&i.getDisplayables()[0]instanceof t.IconButton)){if("none"!==n.hoverBehavior){var a=i.getCategories?i.getCategories():[];n.highlightedCategories=s&&a?a.slice():null;var l=t.EventFactory.newCategoryHighlightEvent(n.highlightedCategories,s),r=t.CSSStyle.getTimeMilliseconds(n.hoverBehaviorDelay);this.RolloverHandler.processEvent(l,this._legend.__getObjects(),r,!0)}"none"!==n.hideAndShowBehavior&&"off"!==n.hideAndShowBehavior&&(s?i.showHoverEffect&&i.showHoverEffect():i.hideHoverEffect&&i.hideHoverEffect())}}onCollapseButtonClick(e,t){var i=t.getId();this.toggleSectionCollapse(e,i)}toggleSectionCollapse(e,i){for(var s=this._legend.getOptions(),n=s.expanded,a=this._legend.getOptions(),l=null,r=0;r<i.length;r++)a=a.sections[i[r]];if(n?n.has(a.id)?(s.expanded=n.delete([a.id]),l=!1):(s.expanded=n.add([a.id]),l=!0):a.expanded="off"==a.expanded?"on":"off",e.type==t.MouseEvent.CLICK){var o=this.GetLogicalObject(e.target);o.getNextNavigable&&this.setFocusObj(o.getNextNavigable(e))}var h=this._legend.getKeyboardFocus(),g=!!h&&h.isShowingKeyboardFocusEffect();this._legend.render(),h&&this._legend.setKeyboardFocus(h,g),this.hideTooltip(),null!=l&&(e=new t.EventFactory.newExpandCollapseEvent(l?"expand":"collapse",a.id,a,this._legend.getOptions()._widgetConstructor,s.expanded),this.FireEvent(e,this._legend))}GetTouchResponse(){return this._legend.getOptions()._isScrollingLegend?t.EventManager.TOUCH_RESPONSE_TOUCH_HOLD:t.EventManager.TOUCH_RESPONSE_TOUCH_START}isDndSupported(){return!0}GetDragSourceType(e){var t=this.DragSource.getDragObject();return t instanceof l&&null!=t.getData()._getDataContext?"series":null}GetDragDataContexts(e){var i=this.DragSource.getDragObject();if(i instanceof l){var s=i.getData()._getDataContext();return e&&(s=t.JsonUtils.clone(s,null,{component:!0,componentElement:!0}),t.ToolkitUtils.cleanDragDataContext(s)),[s]}return[]}GetDropTargetType(e){var t=this._legend.stageToLocal(this.getCtx().pageToStageCoords(e.pageX,e.pageY)),i=this._legend.getOptions().dnd.drop,s=this._legend.__getBounds();return Object.keys(i.legend).length>0&&s.containsPoint(t.x,t.y)?"legend":null}GetDropEventPayload(e){return{}}ShowDropEffect(e){if("legend"==this.GetDropTargetType(e)){var t=this._legend.getOptions()._dropColor,i=this._legend.getCache().getFromCache("background");i&&(i.setSolidFill(t),i.setClassName("oj-active-drop"))}}ClearDropEffect(){var e=this._legend.getCache().getFromCache("background");if(e){var i=this._legend.getOptions().backgroundColor;i?e.setSolidFill(i):e.setInvisibleFill(),t.ToolkitUtils.removeClassName(e.getElem(),"oj-invalid-drop"),t.ToolkitUtils.removeClassName(e.getElem(),"oj-active-drop")}}ShowRejectedDropEffect(e){if("legend"==this.GetDropTargetType(e)){var t=this._legend.getCache().getFromCache("background");t&&t.setClassName("oj-invalid-drop")}}}class g extends t.KeyboardHandler{constructor(e,t){super(e),this._legend=t}processKeyDown(e){var i=e.keyCode,s=this._eventManager.getFocus(),n=s&&s.getDisplayables()[0]instanceof t.IconButton,a=null;if(null==s&&i==t.KeyboardEvent.TAB){var l=this._legend.__getKeyboardObjects();l.length>0&&(t.EventManager.consumeEvent(e),a=this.getDefaultNavigable(l))}else s&&(i==t.KeyboardEvent.TAB?(t.EventManager.consumeEvent(e),a=s):i==t.KeyboardEvent.ENTER||i==t.KeyboardEvent.SPACE?(i==t.KeyboardEvent.ENTER&&this._eventManager.handleClick(s,e),n?this._eventManager.onCollapseButtonClick(e,s.getDisplayables()[0]):this._eventManager.processHideShowEvent(s),t.EventManager.consumeEvent(e)):!n||i!=t.KeyboardEvent.LEFT_ARROW&&i!=t.KeyboardEvent.RIGHT_ARROW?a=super.processKeyDown(e):(this._eventManager.onCollapseButtonClick(e,s.getDisplayables()[0]),t.EventManager.consumeEvent(e)));return a&&this._legend.container.scrollIntoView(a.getDisplayables()[0]),a}}const d={_DEFAULT_LINE_WIDTH_WITH_MARKER:2,_LINE_MARKER_SIZE_FACTOR:.6,_DEFAULT_SYMBOL_SIZE:10,_BUTTON_SIZE:12,_FOCUS_GAP:2,render:(e,i)=>{var s=e.getOptions(),n=e.getCtx(),a=t.Agent.isRightToLeft(n);e.__setBounds(i),s.isLayout||d._renderBackground(e,i);var l="redwood"===n.getThemeBehavior()?"always":"asNeeded",r=new t.SimpleScrollableContainer(n,i.w,i.h,l),h=new t.Container(n);r.getScrollingPane().addChild(h),e.addChild(r),e.container=r;var g=o.getGapSize(e,s.layout.outerGapWidth),c=o.getGapSize(e,s.layout.outerGapHeight);if(i.x+=g,i.y+=c,i.w-=2*g,i.h-=2*c,i.w<=0||i.h<=0)return new t.Dimension(0,0);var u=d._renderContents(e,h,new t.Rectangle(i.x,i.y,i.w,i.h));if(0==u.w||0==u.h)return new t.Dimension(0,0);r.prepareContentPane(),u.h>i.h?(u.h=i.h,s._isScrollingLegend=!0):s._isScrollingLegend=!1;var p=0,_=0,v=null!=s.hAlign?s.hAlign:s.halign;"center"==v?p=i.x-u.x+(i.w-u.w)/2:"end"==v&&(p=a?i.x-u.x:i.x-u.x+i.w-u.w);var y=null!=s.vAlign?s.vAlign:s.valign;"middle"==y?_=i.y-u.y+(i.h-u.h)/2:"bottom"==y&&(_=i.y-u.y+i.h-u.h);var b=new t.Rectangle(u.x+p-g,u.y+_-c,u.w+2*g,u.h+2*c);if(s.isLayout)return b;(p||_)&&h.setTranslate(p,_);for(var m=e.__getTitles(),f=0;f<m.length;f++)t.LayoutUtils.align(u,m[f].halign,m[f].text,m[f].text.getDimensions().w);return b},_renderContents:(e,t,i)=>{var s=e.getOptions();i=i.clone();var n=d._renderTitle(e,t,s.title,i,null,!0);if(n){var a=n.getDimensions(),l=o.getGapSize(e,s.layout.titleGapHeight);i.y+=a.h+l,i.h-=Math.floor(a.h+l)}var r=d._renderSections(e,t,s.sections,i,[]);return n?a.getUnion(r):r},_renderBackground:(e,i)=>{var s=e.getOptions(),n=s.backgroundColor,a=s.borderColor,l=s.dnd?s.dnd.drop.legend:{},r=s.dnd?s.dnd.drag.series:{};if(n||a||Object.keys(l).length>0||Object.keys(r).length>0){var o=new t.Rect(e.getCtx(),i.x,i.y,i.w,i.h);n?o.setSolidFill(n):o.setInvisibleFill(),a&&(o.setSolidStroke(a),o.setPixelHinting(!0)),e.addChild(o),e.getCache().putToCache("background",o)}},_renderTitle:(e,i,s,n,l,r,o,h)=>{var g=e.getOptions(),d=i.getCtx(),c=t.Agent.isRightToLeft(d);if(!s)return null;var u=new t.OutputText(d,s,n.x,n.y),p=g.titleStyle;const _=a(g.sectionTitleStyle);if(_||(p=new t.CSSStyle(g.sectionTitleStyle)),l){var v=g._sectionTitleStyle.clone();_||(v=v.merge(p)),p=l.titleStyle?v.merge(new t.CSSStyle(l.titleStyle)):v}if(u.setCSSStyle(p),t.TextUtils.fitText(u,n.w,1/0,i)){if(c&&u.setX(n.x+n.w-u.getDimensions().w),g.isLayout)i.removeChild(u);else{var y={id:o,button:h};if(y.isCollapsible=l&&("on"===l.collapsible||"boolean"==typeof l.collapsible&&l.collapsible),e.getEventManager().associate(u,new t.SimpleObjPeer(u.getUntruncatedTextString(),null,null,y)),r){var b=l&&l.titleHalign?l.titleHalign:g.titleHalign||g.sectionTitleHalign;e.__registerTitle({text:u,halign:b})}}return u}return null},_renderSections:(e,i,s,a,l)=>{if(!s||0==s.length)return new t.Rectangle(0,0,0,0);var r=e.getOptions();r.symbolWidth||r.symbolHeight?(r.symbolWidth?r.symbolHeight||(r.symbolHeight=r.symbolWidth):r.symbolWidth=r.symbolHeight,r.symbolWidth=parseInt(r.symbolWidth),r.symbolHeight=parseInt(r.symbolHeight)):(r.symbolWidth=d._DEFAULT_SYMBOL_SIZE,r.symbolHeight=d._DEFAULT_SYMBOL_SIZE);for(var h,g=o.getGapSize(e,r.layout.sectionGapHeight),c=o.getGapSize(e,r.layout.titleGapHeight),u=o.getGapSize(e,r.layout.sectionGapWidth),p=d._getRowHeight(e),_="vertical"!=r.orientation,v=null,y=a.clone(),b=0;b<s.length;b++){var m=l.concat([b]),f=n(s[b],e)?c:g;_?(h=d._renderHorizontalSection(e,i,s[b],y,p)).w>y.w?(y.w<a.w&&(a.y+=h.h+f,a.h-=h.h+f),h=h.w<=a.w?d._renderHorizontalSection(e,i,s[b],a,p):d._renderVerticalSection(e,i,s[b],a,p,m,!0),a.y+=h.h+f,a.h-=h.h+f,y=a.clone()):(y.w-=h.w+u,t.Agent.isRightToLeft(e.getCtx())||(y.x+=h.w+u)):(h=d._renderVerticalSection(e,i,s[b],a,p,m,!1),a.y+=h.h+f,a.h-=h.h+f),v=v?v.getUnion(h):h}return v},_createButton:(e,i,s,n,a,r,o,h,g,c,u)=>{var p=t.ToolkitUtils.getIconStyle(e,n[a]),_=new t.IconButton(e,"borderless",{style:p,size:d._BUTTON_SIZE},null,g,c,u);_.setTranslate(r,o);var v=l.associate([_],i,s,h,null,!1);return _.setAriaRole("button"),v.updateAriaLabel(),_},_renderVerticalSection:(e,i,s,a,l,r,h)=>{if(s){var g,c=e.getOptions(),u=o.getGapSize(e,c.layout.symbolGapWidth),p=o.getGapSize(e,c.layout.rowGap),_=o.getGapSize(e,c.layout.columnGap),v=e.getCtx(),y=t.Agent.isRightToLeft(v),b=null!=s.sections&&s.sections.length>0,m=null!=s.items&&s.items.length>0,f=a.clone();"off"!=c.scrolling&&(f.h=1/0);var C,S="on"===s.collapsible||"boolean"==typeof s.collapsible&&s.collapsible;if(S){var x=y?f.x+f.w-d._BUTTON_SIZE:f.x;if(!c.isLayout){var w=n(s,e),O=w?"closed":"open",E=c.translations[w?"tooltipExpand":"tooltipCollapse"],T=e.getEventManager();C=d._createButton(v,e,s,c._resources,O,x,f.y,E,r,T.onCollapseButtonClick,T),i.addChild(C)}g=new t.Rectangle(x,f.y,d._BUTTON_SIZE,d._BUTTON_SIZE);var D=o.getGapSize(e,c.layout.symbolGapWidth);y||(f.x+=d._BUTTON_SIZE+D),f.w-=d._BUTTON_SIZE+D}var A=d._renderTitle(e,i,s.title,f,s,!S&&r.length<=1,r,C),M=y?f.x+f.w:f.x,I=A?A.getDimensions():new t.Rectangle(M,f.y,0,0),L=g?I.getUnion(g):I;if(!m&&!b||n(s,e))return L;if(L.h>0){var F=o.getGapSize(e,c.layout.titleGapHeight);f.y+=L.h+F,f.h-=L.h+F}if(b){var R=d._renderSections(e,i,s.sections,f,r);L=L.getUnion(R)}if(!m)return L;var G=d._calcColumns(e,f,l,s.items,h),k=G.numCols,H=G.numRows,B=G.width,N=f.y;if(0==H||0==k)return L;var U=H*(l+p)-p,P=Math.min(k*(B+_)-_,f.w),j=new t.Rectangle(y?f.x+f.w-P:f.x,f.y,P,U);if(L=L.getUnion(j),c.isLayout)return L;for(var W=B-c.symbolWidth-u,K=0,z=1,V=s.items.length,Z=0;Z<V;Z++){var Y=s.items[Z];if(d._createLegendItem(e,i,Y,f,W,l,Z),f.y+=l+p,++K===H&&z!==k&&(f.y=N,f.w-=B+_,y||(f.x+=B+_),K=0,z++),K===H)break}return L}},_renderHorizontalSection:(e,i,s,n,a)=>{if(s){var l=e.getOptions(),r=l.symbolWidth,h=o.getGapSize(e,l.layout.symbolGapWidth),g=o.getGapSize(e,l.layout.columnGap),c=o.getGapSize(e,l.layout.titleGapWidth),u=null!=s.items&&s.items.length>0,p=t.Agent.isRightToLeft(e.getCtx()),_=n.clone(),v=d._renderTitle(e,i,s.title,n,s,!1),y=p?n.x+n.w:n.x,b=v?v.getDimensions():new t.Rectangle(y,n.y,0,0);if(!u)return b;b.w>0&&(_.w-=b.w+c,p||(_.x+=b.w+c));var m,f,C,S=[],x=n.w-_.w,w=s.items.length;for(C=0;C<w;C++)m=s.items[C],x+=(f=Math.ceil(t.TextUtils.getTextStringWidth(e.getCtx(),m.text,l.textStyle)))+r+h+g,S.push(f);w>0&&(x-=g);var O,E=new t.Rectangle(p?n.x+n.w-x:n.x,n.y,x,Math.max(a,b.h));if(l.isLayout||x>n.w)return i.removeChild(v),E;if(v){e.getCache().putToCache("horizRowAlign",!0),e.getCache().putToCache("sectionRect",E);var T=v.getDimensions(),D=E.y+E.h/2-T.h/2-T.y;v.setTranslate(0,D)}for(C=0;C<w;C++)m=s.items[C],d._createLegendItem(e,i,m,_,S[C],a,C),O=S[C]+r+h,_.w-=O+g,p||(_.x+=O+g);return e.getCache().putToCache("horizRowAlign",!1),e.getCache().putToCache("sectionRect",null),E}},_calcColumns:(e,i,s,n,a)=>{for(var l=e.getOptions(),r=[],h=0;h<n.length;h++)r.push(n[h].text);var g,d,c,u=t.TextUtils.getMaxTextStringWidth(e.getCtx(),r,l.textStyle),p=l.symbolWidth,_=o.getGapSize(e,l.layout.symbolGapWidth),v=o.getGapSize(e,l.layout.rowGap),y=o.getGapSize(e,l.layout.columnGap),b=Math.ceil(p+_+u);a?(c=Math.min(Math.max(Math.floor((i.w+y)/(b+y)),1),n.length),g=Math.min(Math.floor((i.h+v)/(s+v)),Math.ceil(n.length/c)),c=Math.ceil(n.length/g),g=Math.ceil(n.length/c)):i.h==1/0?(c=1,g=n.length):(g=Math.min(Math.floor((i.h+v)/(s+v)),n.length),c=Math.ceil(n.length/g),g=Math.ceil(n.length/c));var m=(i.w-y*(c-1))/c;return(d=Math.min(b,m))<p?{width:0,numCols:0,numRows:0}:{width:d,numCols:c,numRows:g}},_getRowHeight:e=>{var i=e.getOptions(),s=t.TextUtils.getTextStringHeight(e.getCtx(),i.textStyle),n=i.symbolHeight+o.getGapSize(e,i.layout.symbolGapHeight);return Math.ceil(Math.max(s,n))},_createLegendItem:(e,n,a,r,h,g,c)=>{var u,p=e.getOptions(),_=e.getCtx(),v=t.Agent.isRightToLeft(_),y=p.symbolWidth,b=o.getGapSize(e,p.layout.symbolGapWidth),m=v?r.x+r.w-y:r.x,f=v?r.x+r.w-y-b:r.x+y+b,C=d._createLegendSymbol(e,m,r.y,g,a,c),S=a.text;if(null!=S){var x=p.textStyle;(u=d._createLegendText(n,h,S,x))&&(u.setX(f),t.TextUtils.centerTextVertically(u,r.y+g/2),v&&u.alignRight());var w=e.getCache().getFromCache("sectionRect");if(e.getCache().getFromCache("horizRowAlign")&&w&&"vertical"!=p.orientation){var O=u.getDimensions().h,E=w.y+w.h/2-Math.max(p.symbolHeight,O)/2-r.y;C.setTranslate(0,E),u.setTranslate(0,E)}}n.addChild(C);var T=new t.Rect(_,v?f-h-d._FOCUS_GAP:m-d._FOCUS_GAP,r.y-d._FOCUS_GAP,y+b+h+2*d._FOCUS_GAP,g+2*d._FOCUS_GAP);T.setInvisibleFill();var D=p.hideAndShowBehavior;"none"!=D&&"off"!=D&&T.setCursor("pointer"),n.addChild(T);var A=[T,C];null!=u&&A.push(u);var M=l.associate(A,e,a,null!=u?u.getUntruncatedTextString():null,a.shortDesc,d._isItemDrillable(e,a));s(i(a,e),e)&&(C.setHollow(M.getColor()),C.setStyle().setClassName()),("none"!=D&&"off"!=D||null!=a.shortDesc)&&(T.setAriaRole("img"),M.updateAriaLabel())},_isItemDrillable:(e,t)=>"on"==t.drilling||"off"!=t.drilling&&"on"==e.getOptions().drilling,_createLegendText:(e,i,s,n)=>{var a=new t.OutputText(e.getCtx(),s);return a.setCSSStyle(n),a=t.TextUtils.fitText(a,i,1/0,e)?a:null},_createLegendSymbol:(e,n,a,l,r,o)=>{var h=e.getOptions(),g=e.getCtx(),c=null!=r.type?r.type:r.symbolType;r.markerShape||(r.markerShape=h._markerShape),r.color||(r.color=h._color),r.lineWidth||(r.lineWidth="lineWithMarker"==c?d._DEFAULT_LINE_WIDTH_WITH_MARKER:h._lineWidth);var u,p=h.symbolWidth,_=h.symbolHeight,v=a+l/2,y=n+p/2;if("line"==c)u=d._createLine(g,n,a,p,l,r);else if("lineWithMarker"==c)u=d._createLine(g,n,a,p,l,r),s(i(r,e),e)||u.addChild(d._createMarker(e,y,v,p*d._LINE_MARKER_SIZE_FACTOR,_*d._LINE_MARKER_SIZE_FACTOR,r));else if("image"==c)u=d._createImage(e,n,a,p,_,l,r);else if("_verticalBoxPlot"==c)_=Math.max(4*Math.round(_/4),4),(u=new t.Container(g)).addChild(d._createMarker(e,y,v+_/4,p,_/2,d._getBoxPlotOptions(r,"q2"))),u.addChild(d._createMarker(e,y,v-_/4,p,_/2,d._getBoxPlotOptions(r,"q3")));else if("_horizontalBoxPlot"==c){var b=t.Agent.isRightToLeft(g),m=(p=Math.max(4*Math.round(p/4),4))/4*(b?1:-1);(u=new t.Container(g)).addChild(d._createMarker(e,y+m,v,p/2,_,d._getBoxPlotOptions(r,"q2"))),u.addChild(d._createMarker(e,y-m,v,p/2,_,d._getBoxPlotOptions(r,"q3")))}else u=d._createMarker(e,y,v,p,_,r);return u},_createImage:(e,i,s,n,a,l,r)=>{var o=e.getCtx(),h=s+l/2,g=i+n/2;return new t.ImageMarker(o,g,h,n,a,null,r.source)},_createMarker:(e,i,s,n,a,l)=>{var r,o=e.getCtx(),h=l.markerShape,g=l.symbolType&&"lineWithMarker"==l.symbolType&&l.markerColor?l.markerColor:l.color,d=l.markerStyle||l.markerSvgStyle?l.markerStyle||l.markerSvgStyle:l.style||l.svgStyle,c=l.markerClassName||l.markerSvgClassName?l.markerClassName||l.markerSvgClassName:l.className||l.svgClassName,u=l.pattern;if(u&&"none"!=u?((r=new t.SimpleMarker(o,h,0,0,n,a,null,null,!0)).setFill(new t.PatternFill(u,g,"#FFFFFF")),r.setTranslate(i,s)):(r=new t.SimpleMarker(o,h,i,s,n,a,null,null,!0)).setSolidFill(g),l.borderColor){var p=l._borderWidth?l._borderWidth:1;r.setSolidStroke(l.borderColor,null,p)}return"square"!=h&&"rectangle"!=h||r.setPixelHinting(!0),r.setClassName(c).setStyle(d),r},_createLine:(e,i,s,n,a,l)=>{var r=s+a/2;n=n%2==1?n+1:n;var o,h=new t.Line(e,i,Math.round(r),i+n,Math.round(r)),g=l.lineStyle;"dashed"==g?o={dashArray:"4,2,4"}:"dotted"==g&&(o={dashArray:"2"});var d=new t.Stroke(l.color,1,l.lineWidth,!1,o);return h.setClassName(l.className||l.svgClassName).setStyle(l.style||l.svgStyle),h.setStroke(d),h.setPixelHinting(!0),h},_getBoxPlotOptions:(e,t)=>({markerShape:"rectangle",color:e._boxPlot[t+"Color"],pattern:e._boxPlot["_"+t+"Pattern"],className:e._boxPlot[t+"ClassName"]||e._boxPlot[t+"svgClassName"],style:e._boxPlot[t+"Style"]||e._boxPlot[t+"svgStyle"]})};class c extends t.BaseComponent{constructor(e,t,i){super(e,t,i),this.setId("legend1000"+Math.floor(1e9*Math.random())),this.Defaults=new o(e),this.EventManager=new h(this),this.EventManager.addListeners(this),this._peers=[],this._navigablePeers=[],this._bounds=null,this._titles=[]}static getDefaults(e){return(new o).getDefaults(e)}SetOptions(e){super.SetOptions(e),e?(this.Options=this.Defaults.calcOptions(e),this._processData(this.Options.sections)):this.Options||(this.Options=this.GetDefaults())}getPreferredSize(e,i,s){this.SetOptions(e),this.getOptions().isLayout=!0;var n=new t.Rectangle(0,0,i,s),a=d.render(this,n);return this.getOptions().isLayout=!1,new t.Dimension(a.w,a.h)}render(e,i,s){this.getCache().clearCache(),this.SetOptions(e),isNaN(i)||isNaN(s)||(this.Width=i,this.Height=s),this.getOptions().isLayout=!1;for(var n=this.getNumChildren(),a=0;a<n;a++){this.getChildAt(a).destroy()}this.removeChildren(),this._peers=[],this._navigablePeers=[],this._bounds=null,this._titles=[],t.Agent.isTouchDevice()||this.EventManager.setKeyboardHandler(new g(this.EventManager,this)),this.UpdateAriaAttributes();var l=new t.Rectangle(0,0,this.Width,this.Height);this._contentDimensions=d.render(this,l);var r=this.getOptions().highlightedCategories;return r&&r.length>0&&this.highlight(r),this.RenderComplete(),this._contentDimensions}highlight(e){this.getOptions().highlightedCategories=e&&e.length>0?e.slice():null,t.CategoryRolloverHandler.highlight(e,this.__getObjects(),!0)}processEvent(e,i){if("categoryHighlight"==e.type&&"dim"==this.getOptions().hoverBehavior){var s=this.__getObjects();this!=i&&this.highlight(e.categories);for(var n=0;n<s.length;n++)if(t.Obj.compareValues(this.getCtx(),s[n].getId(),e.categories)){this.container.scrollIntoView(s[n].getDisplayables()[0]);break}}this==i&&this.dispatchEvent(e)}__registerObject(e){if(e.getDisplayables()[0]instanceof t.IconButton)this._navigablePeers.push(e);else{var i=this.getOptions().hideAndShowBehavior;(null!=e.getDatatip()||e.isDrillable()||"none"!=i&&"off"!=i)&&this._navigablePeers.push(e),this._peers.push(e)}}__getObjects(){return this._peers}__getKeyboardObjects(){return this._navigablePeers}__setBounds(e){this._bounds=e.clone()}__getBounds(){return this._bounds}__registerTitle(e){this._titles.push(e)}__getTitles(){return this._titles}getAutomation(){return new r(this)}getKeyboardFocus(){return null!=this.EventManager?this.EventManager.getFocus():null}setKeyboardFocus(e,i){if(null!=this.EventManager){for(var s=this.__getKeyboardObjects(),n=0;n<s.length;n++)if(t.Obj.compareValues(this.getCtx(),s[n].getId(),e.getId())){this.EventManager.setFocusObj(s[n]),i&&s[n].showKeyboardFocusEffect();break}var a=this.getKeyboardFocus();if(a){var l=a.getDisplayables()[0];l.setAriaProperty("label",a.getAriaLabel()),this.getCtx().setActiveElement(l)}}}getDimensions(e){var i=new t.Rectangle(0,0,this.Width,this.Height);return e&&e!==this?this.ConvertCoordSpaceRect(i,e):i}_processData(e){let t=!1,s=!1;if(e&&!(e.length<=0)){for(var n=this.getOptions().hiddenCategories,a=0;a<e.length;a++){var l=e[a];t=t||"on"===l.collapsible,l.sections&&this._processData(l.sections);var r=l.items;if(r&&!(r.length<=0))for(var o=0;o<r.length;o++){var h=r[o];s=s||"on"===h.drilling;var g=i(h,this);"hidden"==h.categoryVisibility&&n.indexOf(g)<0&&n.push(g),h.categoryVisibility=null}}this.getCache().putToCache("hasCollapsible",t),this.getCache().putToCache("hasDrillableItem",s)}}UpdateAriaAttributes(){if(this.IsParentRoot()){var e=this.getOptions(),i=e.translations,s=e.hideAndShowBehavior;const n="on"===e.drilling||this.getCache().getFromCache("hasDrillableItem"),a=this.getCache().getFromCache("hasCollapsible");("off"!=s&&"none"!=s||"dim"==e.hoverBehavior||a||n)&&(this.getCtx().setAriaRole("application"),this.getCtx().setAriaLabel(t.ResourceUtils.format(i.labelAndValue,[i.labelDataVisualization,t.AriaUtils.processAriaLabel(this.GetComponentDescription())])))}}isNavigable(){return this._navigablePeers.length>0}static getSectionItemsCount(e){var t=0;if(e.items&&(t+=e.items.length),e.sections)for(var i=e.sections,s=0;s<i.length;s++)t+=c.getSectionItemsCount(i[s]);return t}}e.Legend=c,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojlegend-toolkit.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojdvt-overview',["exports","ojs/ojdvt-toolkit"],function(t,i){"use strict";class e extends i.BaseComponentDefaults{constructor(){super({alta:{overviewPosition:"below",style:{currentTimeIndicatorColor:"#c000d1",handleFillColor:"#ffffff",handleTextureColor:"#b3c6db",leftFilterPanelAlpha:.7,leftFilterPanelColor:"#ffffff",overviewBackgroundColor:"#e6ecf3",rightFilterPanelAlpha:.7,rightFilterPanelColor:"#ffffff",timeAxisBarColor:"#e5e5e5",timeAxisBarAlpha:1,timeIndicatorColor:"#bcc7d2",windowBackgroundAlpha:1,windowBackgroundColor:"#ffffff",windowBorderBottomColor:"#4f4f4f",windowBorderBottomStyle:"solid",windowBorderLeftColor:"#4f4f4f",windowBorderLeftStyle:"solid",windowBorderRightColor:"#4f4f4f",windowBorderRightStyle:"solid",windowBorderTopColor:"#4f4f4f",windowBorderTopStyle:"solid"}}})}}class s extends i.EventManager{constructor(t){super(t.getCtx(),t.processEvent,t),this._overview=t}addListeners(t){i.SvgDocumentUtils.addDragListeners(this._overview,this._onDragStart,this._onDragMove,this._onDragEnd,this)}_onDragStart(t){return i.Agent.isTouchDevice()?this._onTouchDragStart(t):this._onMouseDragStart(t)}_onDragMove(t){return i.Agent.isTouchDevice()?this._onTouchDragMove(t):this._onMouseDragMove(t)}_onDragEnd(t){return i.Agent.isTouchDevice()?this._onTouchDragEnd(t):this._onMouseDragEnd(t)}_getRelativePosition(t,e){return this._stageAbsolutePosition||(this._stageAbsolutePosition=this._context.getStageAbsolutePosition()),new i.Point(t-this._stageAbsolutePosition.x,e-this._stageAbsolutePosition.y)}_onMouseDragStart(t){if(t.button!==i.MouseEvent.RIGHT_CLICK_BUTTON){var e=this._getRelativePosition(t.pageX,t.pageY);return this._overview.beginDragPan(t,e.x,e.y)}return!1}_onMouseDragMove(t){var i=this._getRelativePosition(t.pageX,t.pageY);return this._overview.contDragPan(t,i.x,i.y),!0}_onMouseDragEnd(t){this._overview.endDragPan(),this._stageAbsolutePosition=null}_onTouchDragStart(t){var i=t.touches;if(t.stopPropagation(),1===i.length){var e=this._getRelativePosition(i[0].pageX,i[0].pageY);return t.preventDefault(),this._overview.beginDragPan(t,e.x,e.y)}return!1}_onTouchDragMove(t){var i=t.touches;if(1===i.length){var e=this._getRelativePosition(i[0].pageX,i[0].pageY);this._overview.contDragPan(t,e.x,e.y),t.preventDefault()}t.stopPropagation()}_onTouchDragEnd(t){this._overview.endDragPan(),i.EventManager.consumeEvent(t),this._stageAbsolutePosition=null}}class n{constructor(t){this._view=t}parse(t){return this.ParseRootAttributes(t)}ParseRootAttributes(t){var e={};return e.animationOnClick=t.animationOnClick,null!=t.xMin&&(e.xMin=t.xMin),null!=t.xMax&&(e.xMax=t.xMax),null!=t.x1&&(e.x1=t.x1),null!=t.x2&&(e.x2=t.x2),null!=t.yMin&&(e.yMin=t.yMin),null!=t.yMax&&(e.yMax=t.yMax),null!=t.y1&&(e.y1=t.y1),null!=t.y2&&(e.y2=t.y2),null!=t.referenceObjects&&(e.referenceObjects=t.referenceObjects),e.orientation="horizontal",null!=t.orientation&&(e.orientation=t.orientation),e.featuresOff=t.featuresOff,e.minimumWindowSize=t.minimumWindowSize,e.leftMargin=t.leftMargin,e.rightMargin=t.rightMargin,e.overviewPosition="below",e.selectionMode="none",e.isRtl=i.Agent.isRightToLeft(this._view.getCtx()).toString(),null!=t.rtl&&(e.isRtl=t.rtl.toString()),e}calculateWidth(t,i,e,s,n){var o=n*(i-t),r=s-e;return 0===o||0===r?0:o/r}}const o=5,r=1,a=t=>null!=t._hfc?t._hfc:t.style.handleFillColor,l=t=>null!=t._htc?t._htc:t.style.handleTextureColor,h=(t,i)=>i?null!=t._vhbc?t._vhbc:t.style.vertHandleBackgroundClass:null!=t._hbc?t._hbc:t.style.handleBackgroundClass,d=(t,i)=>i?null!=t._vhs?t._vhs:t.style.vertHandleSize:null!=t._hs?t._hs:t.style.handleSize,g=t=>null!=t._btc?t._btc:t.style.borderTopColor,u=t=>null!=t._bts?t._bts:t.style.borderTopStyle,_=t=>null!=t._wbc?t._wbc:t.style.windowBackgroundColor,w=t=>t.style.windowBackgroundAlpha,c=t=>null!=t._wbts?t._wbts:t.style.windowBorderTopStyle,v=t=>null!=t._wbrs?t._wbrs:t.style.windowBorderRightStyle,m=t=>null!=t._wbbs?t._wbbs:t.style.windowBorderBottomStyle,P=t=>null!=t._wbls?t._wbls:t.style.windowBorderLeftStyle,S=t=>null!=t._wbtc?t._wbtc:t.style.windowBorderTopColor,p=t=>null!=t._wbrc?t._wbrc:t.style.windowBorderRightColor,f=t=>null!=t._wbbc?t._wbbc:t.style.windowBorderBottomColor,x=t=>null!=t._wblc?t._wblc:t.style.windowBorderLeftColor,C=t=>null!=t._obc?t._obc:t.style.overviewBackgroundColor,M=t=>null!=t._ctic?t._ctic:t.style.currentTimeIndicatorColor,b=t=>null!=t._tabc?t._tabc:t.style.timeAxisBarColor,H=t=>null!=t._tabo?t._tabo:t.style.timeAxisBarAlpha,T=t=>null!=t._tic?t._tic:t.style.timeIndicatorColor,W=t=>t.style.leftFilterPanelColor,y=t=>t.style.leftFilterPanelAlpha,X=t=>t.style.rightFilterPanelColor,D=t=>t.style.rightFilterPanelAlpha,L={supportsTouch:()=>i.Agent.isTouchDevice(),getDatePosition:(t,i,e,s)=>{var n=(e-t)*s,o=i-t;return 0==n||0==o?0:n/o},getPositionDate:(t,i,e,s)=>{var n=e*(i-t);return 0===n||0===s?t:n/s+t}},O={renderOverview:t=>{t.isBackgroundRendered()&&O._renderBackground(t);var i=null!=t._callback||null!=t._callbackObj;i&&O._renderSlidingWindow(t),O._renderTimeAxis(t),O._parseFilledTimeRanges(t),O._updateReferenceLines(t),t.renderData(t.Width,t.Height),i&&(O._createBorderAroundSlidingWindow(t),O._updateSlidingWindow(t))},_renderBackground:t=>{var e=new i.Rect(t.getCtx(),0,0,t.Width,t.Height,"bg");e.setSolidFill(t._overviewBackgroundColor),e.setPixelHinting(!0),t.addChild(e)},_renderSlidingWindow:t=>{var e=t.Width,s=t.Height,n=new i.Rect(t.getCtx(),0,0,e,s,"window");if(n.setSolidFill(t._windowBackgroundColor,t._windowBackgroundAlpha),n.setPixelHinting(!0),!t.isFeatureOff("zoom")){var o,r=t.getHandleSize(),a=t.getHandleStart(),l=t.getGrippySize();if(t.isVerticalScrollingEnabled()){var h=t.getSlidingWindowWidth(),d=i.PathUtils.moveTo(0,0)+i.PathUtils.quadTo(3,6,8,8)+i.PathUtils.lineTo(28,8)+i.PathUtils.quadTo(33,6,36,0);i.PathUtils.closePath();var g=i.PathUtils.moveTo(0,0)+i.PathUtils.quadTo(3,-6,8,-8)+i.PathUtils.lineTo(28,-8)+i.PathUtils.quadTo(33,-6,36,0);i.PathUtils.closePath();var u=new i.Rect(t.getCtx(),0,0,h,r,"thb"),_=new i.Rect(t.getCtx(),0,0,h,r,"bhb");if(o="row-resize",t._vertHandleBackgroundClass)var w=O._createGrippyImage(t,h,l,!0),c=O._createGrippyImage(t,h,l,!0);else w=O._createGrippy(t,!0),c=O._createGrippy(t,!0);u.setSolidFill(t._windowBackgroundColor,0),_.setSolidFill(t._windowBackgroundColor,0),u.setPixelHinting(!0),_.setPixelHinting(!0);var v=new i.Path(t.getCtx(),d,"th"),m=new i.Path(t.getCtx(),g,"bh");v.setSolidFill(t._handleFillColor),v.setSolidStroke(t._handleFillColor),m.setSolidFill(t._handleFillColor),m.setSolidStroke(t._handleFillColor),t._windowBackgroundColor===t._handleFillColor&&(v.setPixelHinting(!0),m.setPixelHinting(!0)),u.setCursor(o),_.setCursor(o),v.setCursor(o),m.setCursor(o),w.setCursor(o),c.setCursor(o),n.addChild(u),t._windowTopHandleBackground=u,n.addChild(v),t._windowTopHandle=v,n.addChild(w),t._windowTopGrippy=w,n.addChild(_),t._windowBottomHandleBackground=_,n.addChild(m),t._windowBottomHandle=m,n.addChild(c),t._windowBottomGrippy=c}if(t.isHorizontalScrollingEnabled()){var P=t.getSlidingWindowHeight(),S=i.PathUtils.moveTo(0,0)+i.PathUtils.quadTo(6,3,8,8)+i.PathUtils.lineTo(8,28)+i.PathUtils.quadTo(6,33,0,36);i.PathUtils.closePath();var p=i.PathUtils.moveTo(0,0)+i.PathUtils.quadTo(-6,3,-8,8)+i.PathUtils.lineTo(-8,28)+i.PathUtils.quadTo(-6,33,0,36);i.PathUtils.closePath();var f=new i.Rect(t.getCtx(),0-a,0,r,P,"lhb"),x=new i.Rect(t.getCtx(),a,0,r,P,"rhb");if(o="col-resize",t._horHandleBackgroundClass)var C=O._createGrippyImage(t,l,P,!1),M=O._createGrippyImage(t,l,P,!1);else C=O._createGrippy(t,!1),M=O._createGrippy(t,!1);f.setSolidFill(t._windowBackgroundColor,0),x.setSolidFill(t._windowBackgroundColor,0),f.setPixelHinting(!0),x.setPixelHinting(!0);var b=new i.Path(t.getCtx(),S,"lh"),H=new i.Path(t.getCtx(),p,"rh");b.setSolidFill(t._handleFillColor),b.setSolidStroke(t._handleFillColor),H.setSolidFill(t._handleFillColor),H.setSolidStroke(t._handleFillColor),t._windowBackgroundColor===t._handleFillColor&&(b.setPixelHinting(!0),H.setPixelHinting(!0)),f.setCursor(o),x.setCursor(o),b.setCursor(o),H.setCursor(o),C.setCursor(o),M.setCursor(o),n.addChild(f),t._windowLeftHandleBackground=f,n.addChild(b),t._windowLeftHandle=b,n.addChild(C),t._windowLeftGrippy=C,n.addChild(x),t._windowRightHandleBackground=x,n.addChild(H),t._windowRightHandle=H,n.addChild(M),t._windowRightGrippy=M}}n.setCursor("move"),t.addChild(n),O._renderTimeAxisTopBar(t),O._renderLeftAndRightFilters(t,a)},_createGrippyImage:(t,e,s,n)=>{var o,r=t.getCtx();if(n){var a=s/2,l=i.ToolkitUtils.getIconStyle(r,t._vertHandleBackgroundClass);(o=i.OutputText.createIcon(r,{style:l,size:t._vertHandleSize,pos:{x:0,y:a}})).setId("vgrpy")}else{var h=e/2,d=i.ToolkitUtils.getIconStyle(r,t._horHandleBackgroundClass);(o=i.OutputText.createIcon(r,{style:d,size:t._horHandleSize,pos:{x:h,y:0}})).setId("hgrpy")}o.setMouseEnabled(!1);var g=new i.Container(r);return g.addChild(o),g},_createGrippy:(t,e)=>{var s=t._handleTextureColor;if(e){for(var n=new i.Container(t.getCtx(),"g","vgrpy"),o=8,r=3,a=0;a<9;a++){var l=new i.Line(t.getCtx(),o+2*a,r,o+2*a+1,r,"dot1"+a);l.setSolidStroke(s),n.addChild(l),r+=2,(l=new i.Line(t.getCtx(),o+1+2*a,r,o+1+2*a+1,r,"dot2"+a)).setSolidStroke(s),n.addChild(l),r+=2,(l=new i.Line(t.getCtx(),o+2*a,r,o+2*a+1,r,"dot3"+a)).setSolidStroke(s),n.addChild(l),r=3}(l=new i.Line(t.getCtx(),o+18,r,o+18+1,r,"dot4")).setSolidStroke(s),n.addChild(l),r+=4,(l=new i.Line(t.getCtx(),o+18,r,o+18+1,r,"dot5")).setSolidStroke(s),n.addChild(l)}else{for(n=new i.Container(t.getCtx(),"g","hgrpy"),o=3,r=8,a=0;a<9;a++)(l=new i.Line(t.getCtx(),o,r+2*a,o,r+2*a+1,"dot1"+a)).setSolidStroke(s),n.addChild(l),o+=2,(l=new i.Line(t.getCtx(),o,r+1+2*a,o,r+1+2*a+1,"dot2"+a)).setSolidStroke(s),n.addChild(l),o+=2,(l=new i.Line(t.getCtx(),o,r+2*a,o,r+2*a+1,"dot3"+a)).setSolidStroke(s),n.addChild(l),o=3;(l=new i.Line(t.getCtx(),o,r+18,o,r+18+1,"dot4")).setSolidStroke(s),n.addChild(l),o+=4,(l=new i.Line(t.getCtx(),o,r+18,o,r+18+1,"dot5")).setSolidStroke(s),n.addChild(l)}return n.setPixelHinting(!0),n},_createBorderAroundSlidingWindow:t=>{var e=t.Width,s=t.Height,n=t.getSlidingWindow(),o=r/2;if(t.isVertical())var a=n.getY(),l=a+o,h=a+n.getHeight(),d=h-o,g=0,u=o,_=e,w=_-o,c=new i.Line(t.getCtx(),g,l,e,l,"lh"),v=new i.Line(t.getCtx(),g,d,e,d,"rh"),m=new i.Line(t.getCtx(),u,0,u,a,"ltb"),P=new i.Line(t.getCtx(),u,h,u,s,"rtb"),S=new i.Line(t.getCtx(),w,a,w,h,"bb"),p=new i.Line(t.getCtx(),u,a,u,h,"tb");else l=(a=0)+o,d=(h=s)-o,u=(g=n.getX())+o,w=(_=g+n.getWidth())-o,c=new i.Line(t.getCtx(),u,a,u,h,"lh"),v=new i.Line(t.getCtx(),w,a,w,h,"rh"),m=new i.Line(t.getCtx(),0,l,g+1,l,"ltb"),P=new i.Line(t.getCtx(),_-1,l,e,l,"rtb"),S=new i.Line(t.getCtx(),g,d,_,d,"bb"),p=new i.Line(t.getCtx(),g,l,_,l,"tb");c.setPixelHinting(!0),v.setPixelHinting(!0),m.setPixelHinting(!0),P.setPixelHinting(!0),S.setPixelHinting(!0),p.setPixelHinting(!0),"none"!==t._windowBorderLeftStyle&&c.setSolidStroke(t._windowBorderLeftColor),t.addChild(c),t._leftHandle=c,"none"!==t._windowBorderRightStyle&&v.setSolidStroke(t._windowBorderRightColor),t.addChild(v),t._rightHandle=v,"none"!==t._borderTopStyle&&t._borderTopColor&&(m.setSolidStroke(t._borderTopColor),P.setSolidStroke(t._borderTopColor)),t.addChild(m),t.addChild(P),"none"!==t._windowBorderBottomStyle&&S.setSolidStroke(t._windowBorderBottomColor),t.addChild(S),"none"!==t._windowBorderTopStyle&&p.setSolidStroke(t._windowBorderTopColor),t.addChild(p)},_updateBorderAroundSlidingWindow:t=>{var i=t.getSlidingWindow(),e=r/2,s=t.getLeftHandle(),n=t.getRightHandle(),o=t.getLeftTopBar(),a=t.getRightTopBar(),l=t.getBottomBar(),h=t.getTopBar();if(t.isVertical()){if(t.isHorizontalScrollingEnabled()){var d=i.getWidth(),g=t.getSlidingWindowPosX(i),u=g+e,_=g+d-e;t.setLinePosX(s,u,_),t.setLinePosX(n,u,_),t.setLinePosX(h,u,u),t.setLinePosX(l,_,_)}if(t.isVerticalScrollingEnabled()){var w=i.getHeight(),c=t.getSlidingWindowPosY(i),v=c+e,m=c+w-e;t.setLinePosY(s,v,v),t.setLinePosY(n,m,m),t.setLinePosY(h,v,m),t.setLinePosY(l,v,m)}}else t.isHorizontalScrollingEnabled()&&(d=i.getWidth(),u=(g=t.getSlidingWindowPosX(i))+e,_=g+d-e,t.setLinePosX(s,u,u),t.setLinePosX(n,_,_),t.setLinePosX(h,u,_),t.setLinePosX(l,u,_)),t.isVerticalScrollingEnabled()&&(w=i.getHeight(),v=(c=t.getSlidingWindowPosY(i))+e,m=c+w-e,t.setLinePosY(s,v,m),t.setLinePosY(n,v,m),t.setLinePosY(h,v,v),t.setLinePosY(l,m,m));t.setLinePos(o,-1,t.getSlidingWindowPos(i)),t.setLinePos(a,t.getLinePos1(n),-1)},_updateSlidingWindow:t=>{var i=t.getSlidingWindow(),e=t.Width,s=t.Height;if(t.isHorizontalScrollingEnabled()){var n=Math.max(t.getMinimumPositionX(),L.getDatePosition(t._xMin,t._xMax,t._x1,e)),o=Math.max(t.getMinimumPositionX(),L.getDatePosition(t._xMin,t._xMax,t._x2,e)),r=Math.min(t.getMaximumPositionX(),o);t.isRTL()?t.setSlidingWindowPosX(i,e-r):t.setSlidingWindowPosX(i,n),O._setSlidingWindowWidth(t,i,r-n)}else O._setSlidingWindowWidth(t,i,e);if(t.isVerticalScrollingEnabled()){var a=Math.max(t.getMinimumPositionY(),L.getDatePosition(t._yMin,t._yMax,t._y1,s)),l=Math.max(t.getMinimumPositionY(),L.getDatePosition(t._yMin,t._yMax,t._y2,s)),h=Math.min(t.getMaximumPositionY(),l);t.setSlidingWindowPosY(i,a),O._setSlidingWindowHeight(t,i,h-a)}else O._setSlidingWindowHeight(t,i,s);O._updateBorderAroundSlidingWindow(t)},_setSlidingWindowWidth:(t,i,e)=>{if(e=Math.min(t.getMaximumWindowWidth(),Math.max(t.getMinimumWindowWidth(),e)),i.setWidth(e),t.isLeftAndRightFilterRendered()){var s=t.getSlidingWindowPosX(i)+e,n=t.getRightBackground();if(n.setX(s),n.setWidth(Math.max(0,t.Width-s)),L.supportsTouch()&&!t.isFeatureOff("zoom"))t.getRightBackgroundHandle().setX(s)}if(!t.isFeatureOff("zoom")){if(t.isHorizontalScrollingEnabled()){var o=t._windowRightHandleBackground,r=t._windowRightHandle,a=t._windowRightGrippy;r.setTranslateX(e),o.setTranslateX(e-t.getHandleSize()),a.setTranslateX(e-t.getGrippySize())}if(t.isVerticalScrollingEnabled()){var l=(i.getWidth()-36)/2;if(t._vertHandleBackgroundClass)var h=e/2;else h=l;var d=t._windowTopHandleBackground,g=t._windowTopHandle,u=t._windowTopGrippy;g.setTranslateX(l),d.setWidth(e),u.setTranslateX(h);var _=t._windowBottomHandleBackground,w=t._windowBottomHandle,c=t._windowBottomGrippy;w.setTranslateX(l),_.setWidth(e),c.setTranslateX(h)}}},_setSlidingWindowHeight:(t,i,e)=>{if(e=Math.min(t.getMaximumWindowHeight(),Math.max(t.getMinimumWindowHeight(),e)),i.setHeight(e),!t.isFeatureOff("zoom")){if(t.isHorizontalScrollingEnabled()){var s=(e-36)/2;if(t._horHandleBackgroundClass)var n=e/2;else n=s;var o=t._windowLeftHandleBackground,r=t._windowLeftHandle,a=t._windowLeftGrippy;r.setTranslateY(s),o.setHeight(e),a.setTranslateY(n);var l=t._windowRightHandleBackground,h=t._windowRightHandle,d=t._windowRightGrippy;h.setTranslateY(s),l.setHeight(e),d.setTranslateY(n)}if(t.isVerticalScrollingEnabled()){var g=t._windowBottomHandleBackground,u=t._windowBottomHandle,_=t._windowBottomGrippy;u.setTranslateY(e),g.setTranslateY(e-t.getHandleSize()),_.setTranslateY(e-t.getGrippySize())}}},_renderTimeAxisTopBar:t=>{var e=t.Width,s=t.Height;if(t.isVertical())if(t.isRTL())var n=new i.Line(t.getCtx(),t.getTimeAxisWidth(),0,t.getTimeAxisWidth(),s,"tab");else n=new i.Line(t.getCtx(),e-t.getTimeAxisWidth(),0,e-t.getTimeAxisWidth(),s,"tab");else n=t.isOverviewAbove()?new i.Line(t.getCtx(),0,t.getTimeAxisHeight(),e,t.getTimeAxisHeight(),"tab"):new i.Line(t.getCtx(),0,s-t.getTimeAxisHeight(),e,s-t.getTimeAxisHeight(),"tab");n.setSolidStroke(t._timeAxisBarColor,t._timeAxisBarOpacity),n.setPixelHinting(!0),t._timeAxisTopBar=n,t.addChild(n)},_renderLeftAndRightFilters:(t,e)=>{var s=t.Width,n=t.Height;if(t.isLeftAndRightFilterRendered()){if(t.isVertical())var o=new i.Rect(t.getCtx(),0,0,s,0,"lbg"),r=new i.Rect(t.getCtx(),0,0,s,0,"rbg");else o=new i.Rect(t.getCtx(),0,0,0,n,"lbg"),r=new i.Rect(t.getCtx(),0,0,0,n,"rbg");if(o.setSolidFill(t._leftFilterPanelColor,t._leftFilterPanelAlpha),t.addChild(o),r.setSolidFill(t._rightFilterPanelColor,t._rightFilterPanelAlpha),t.addChild(r),L.supportsTouch()&&null!=e){if(t.isVertical())var a=new i.Rect(t.getCtx(),0,0,s,e,"lbgrh"),l=new i.Rect(t.getCtx(),0,0,s,e,"rbgrh");else a=new i.Rect(t.getCtx(),0,0,e,n,"lbgrh"),l=new i.Rect(t.getCtx(),0,0,e,n,"rbgrh");a.setSolidFill(t._leftFilterPanelColor,0),t.addChild(a),l.setSolidFill(t._rightFilterPanelColor,0),t.addChild(l)}}},_renderTimeAxis:t=>{if(null!=t._ticks)for(var i=t.Width,e=t.Height,s=t.isVertical(),n=t.getOverviewSize(),r=0;r<t._ticks.length;r++){var a=t._ticks[r],l=parseInt(a.time,10);if(s)var h=t.getDateYPosition(l);else h=t.getDateXPosition(l);var d=a.label,g=0;if(r+1<t._ticks.length){var u=parseInt(t._ticks[r+1].time,10);if(s)var _=t.getDateYPosition(u);else _=t.getDateXPosition(u);g=_-h}else g=n-h;t.isHorizontalRTL()&&(h=n-h),s&&(g=i),g-=2*o,O._addTick(t,h,i,e,"tick"+r),O._addLabel(t,h,d,e,g,"label"+r,t._labelStyle)}},_addTick:(t,e,s,n,o)=>{if(t.isVertical())var r=new i.Line(t.getCtx(),0,e,s,e,o);else r=new i.Line(t.getCtx(),e,0,e,n,o);var a=new i.Stroke(t._timeIndicatorColor,1,1,!1,{dashArray:"3"});r.setStroke(a),r.setPixelHinting(!0),t.addChild(r)},_addLabel:(t,e,s,n,r,a,l)=>{if(t.isVertical()){var h=new i.OutputText(t.getCtx(),s,4,e,a);if(h.setCSSStyle(l),t.isRTL()){var d=h.getDimensions();h.setX(Math.max(4,t.Width-d.w-4))}}else{if(t.isOverviewAbove())var g=2;else g=n-t.getTimeAxisHeight()+2;var u=o;(h=new i.OutputText(t.getCtx(),s,e+u,g,a)).setCSSStyle(l),t.isHorizontalRTL()&&(d=h.getDimensions(),h.setX(e-Math.min(d.w,r)-u))}i.TextUtils.fitText(h,r,1/0,t),h._rawText=h.getUntruncatedTextString()},_parseFilledTimeRanges:t=>{if(null!=t._formattedTimeRanges)for(var i=0;i<t._formattedTimeRanges.length;i++){var e=t._formattedTimeRanges[i];O._addFilledTimeRange(t,e,t.Width,t.Height)}},_addFilledTimeRange:(t,e,s,n)=>{var o=parseInt(e.rs,10),r=parseInt(e.re,10);if(null!=o&&null!=r){var a=e.c,l=t.getOverviewSize();if(t.isVertical())h=t.getDateYPosition(o),d=t.getDateYPosition(r);else var h=t.getDateXPosition(o),d=t.getDateXPosition(r);var g,u=d-h;if(t.isHorizontalRTL()&&(h=l-h-u),t.isVertical())g=new i.Rect(t.getCtx(),0,h,s-t.getTimeAxisWidth(),u,"ftr");else{var _=t.isOverviewAbove()?t.getTimeAxisHeight():0;g=new i.Rect(t.getCtx(),h,_,u,n-t.getTimeAxisHeight(),"ftr")}null!=a&&g.setSolidFill(a,.4),g.setCursor("move"),g.setPixelHinting(!0),t.addChild(g)}},_updateReferenceLines:t=>{var e=t.Width,s=t.Height,n=function(i){return!(null==i||isNaN(i)||i<t._xMin||i>t._xMax)},o=function(i){i.setSolidStroke(t._currentTimeIndicatorColor),i.setPixelHinting(!0),t.addChild(i)};if(null!=t.Options.referenceObjects&&0!=t.Options.referenceObjects.length)if(t.isVertical()){for(var r=0;r<t.Options.referenceObjects.length;r++)if(n(t.Options.referenceObjects[r])){var a=t.getDateYPosition(t.Options.referenceObjects[r]),l=new i.Line(t.getCtx(),0,a,e,a,"referenceObjects"+r);o(l)}}else for(r=0;r<t.Options.referenceObjects.length;r++)n(t.Options.referenceObjects[r])&&(a=t.getDateXPosition(t.Options.referenceObjects[r]),t.isRTL()&&(a=e-a),o(l=new i.Line(t.getCtx(),a,0,a,s,"referenceObjects"+r)))}};class B extends i.Container{constructor(t,e,n){super(t),this.MIN_WINDOW_SIZE=10,this.DEFAULT_VERTICAL_TIMEAXIS_SIZE=40,this.DEFAULT_HORIZONTAL_TIMEAXIS_SIZE=20,this.HANDLE_PADDING_SIZE=20,this.initDefaults(),this._callback=e,this._callbackObj=n,this._lastChildIndex=6,(null!=this._callback||null!=this._callbackObj)&&(this.EventManager=new s(this,t,e,n),this.EventManager.addListeners(this),L.supportsTouch()?(this.addEvtListener(i.TouchEvent.TOUCHSTART,this.HandleTouchStart,!1,this),this.addEvtListener(i.TouchEvent.TOUCHMOVE,this.HandleTouchMove,!1,this),this.addEvtListener(i.TouchEvent.TOUCHEND,this.HandleTouchEnd,!1,this),this.addEvtListener(i.MouseEvent.CLICK,this.HandleShapeClick,!1,this)):(this.addEvtListener(i.MouseEvent.MOUSEOVER,this.HandleShapeMouseOver,!1,this),this.addEvtListener(i.MouseEvent.MOUSEOUT,this.HandleShapeMouseOut,!1,this),this.addEvtListener(i.MouseEvent.CLICK,this.HandleShapeClick,!1,this)))}initDefaults(){this.Defaults=new e}setViewportRange(t,i,e,s){if(null!=t&&null!=i){var n=this.getDateXPosition(t),o=this.getDateXPosition(i);if(o>n){n<this.getMinimumPositionX()&&(n=this.getMinimumPositionX()),o>this.getMaximumPositionX()&&(o=this.getMaximumPositionX());var r=Math.max(o-n,this.getMinimumWindowWidth()),a=this.getSlidingWindow();this.isRTL()?this.setSlidingWindowPosX(a,this.Width-(n+r)):this.setSlidingWindowPosX(a,n),O._setSlidingWindowWidth(this,a,r)}}if(null!=e&&null!=s){var l=this.getDateYPosition(e),h=this.getDateYPosition(s);if(h>l){l<this.getMinimumPositionY()&&(l=this.getMinimumPositionY()),h>this.getMaximumPositionY()&&(h=this.getMaximumPositionY());var d=Math.max(h-l,this.getMinimumWindowHeight());a=this.getSlidingWindow(),this.setSlidingWindowPosY(a,l),O._setSlidingWindowHeight(this,a,d)}}O._updateBorderAroundSlidingWindow(this)}isFeatureOff(t){return null!=this._featuresOff&&-1!==this._featuresOff.indexOf(t)}isAnimationOnClick(){return"off"!==this._animationOnClick}render(t,i,e){if(null!=i&&null!=e&&(this.Width=i,this.Height=e),null==t){var s=this.getSlidingWindow();if(this._xMin&&this._xMax){var n=this.getSlidingWindowPosX(s);null!=s&&0!==n&&(this._x1=L.getPositionDate(this._xMin,this._xMax,n,this.Width))}this._yMin&&this._yMax&&(n=this.getSlidingWindowPosY(s),null!=s&&0!==n&&(this._y1=L.getPositionDate(this._yMin,this._yMax,n,this.Height))),this.removeChildren()}else{this.SetOptions(t);var o=this.Parse(this.Options);this._applyParsedProperties(o)}O.renderOverview(this)}SetOptions(t){this.Options=this.Defaults.calcOptions(t)}getParser(){return new n(this)}Parse(t){return this.getParser(t).parse(t)}_applyParsedProperties(t){this._xMin=t.xMin,this._xMax=t.xMax,this._x1=t.x1,this._x2=t.x2,this._yMin=t.yMin,this._yMax=t.yMax,this._y1=t.y1,this._y2=t.y2,this._animationOnClick=t.animationOnClick,this._leftMargin=Math.max(0,t.leftMargin),this._rightMargin=Math.max(0,t.rightMargin),isNaN(this._leftMargin)&&(this._leftMargin=0),isNaN(this._rightMargin)&&(this._rightMargin=0),this._orientation=t.orientation,this._isRtl=t.isRtl,null!=t.featuresOff&&(this._featuresOff=t.featuresOff.split(" ")),null!=t.minimumWindowSize&&t.minimumWindowSize>0&&(this._minimumWindowSize=t.minimumWindowSize),this._timeAxisInfo=t.timeAxisInfo,null!=t.timeAxisInfo&&(this._ticks=this._timeAxisInfo.ticks),this._formattedTimeRanges=t.formattedTimeRanges,this._borderTopStyle=u(this.Options),this._borderTopColor=g(this.Options),this._windowBackgroundColor=_(this.Options),this._windowBackgroundAlpha=w(this.Options),this._windowBorderTopStyle=c(this.Options),this._windowBorderRightStyle=v(this.Options),this._windowBorderBottomStyle=m(this.Options),this._windowBorderLeftStyle=P(this.Options),this._windowBorderTopColor=S(this.Options),this._windowBorderRightColor=p(this.Options),this._windowBorderBottomColor=f(this.Options),this._windowBorderLeftColor=x(this.Options),this._handleTextureColor=l(this.Options),this._handleFillColor=a(this.Options),this._horHandleBackgroundClass=h(this.Options,!1),this._horHandleSize=d(this.Options,!1),this._vertHandleBackgroundClass=h(this.Options,!0),this._vertHandleSize=d(this.Options,!0),this._overviewBackgroundColor=C(this.Options),this._currentTimeIndicatorColor=M(this.Options),this._timeIndicatorColor=T(this.Options),this._timeAxisBarColor=b(this.Options),this._timeAxisBarOpacity=H(this.Options),this._leftFilterPanelColor=W(this.Options),this._leftFilterPanelAlpha=y(this.Options),this._rightFilterPanelColor=X(this.Options),this._rightFilterPanelAlpha=D(this.Options),this._labelStyle=new i.CSSStyle("font-weight:bold")}getDateXPosition(t){return Math.max(this.getMinimumPositionX(),L.getDatePosition(this._xMin,this._xMax,t,this.getOverviewWidth())+this._leftMargin)}getDateYPosition(t){return Math.max(this.getMinimumPositionY(),L.getDatePosition(this._yMin,this._yMax,t,this.getOverviewHeight()))}getXPositionDate(t){return L.getPositionDate(this._xMin,this._xMax,Math.max(this.getMinimumPositionX()-this._leftMargin,t-this._leftMargin),this.getOverviewWidth())}getYPositionDate(t){return L.getPositionDate(this._yMin,this._yMax,Math.max(this.getMinimumPositionY(),t),this.getOverviewHeight())}isRTL(){return"true"===this._isRtl}isHorizontalRTL(){return this.isRTL()&&!this.isVertical()}isVertical(){return"vertical"===this._orientation}isOverviewAbove(){return"above"===this.Options.overviewPosition}setMargins(t,i){!isNaN(t)&&null!=t&&t>0&&(this._leftMargin=t),!isNaN(i)&&null!=i&&i>0&&(this._rightMargin=i)}getOverviewSize(){return this.isVertical()?this.Height-this._leftMargin-this._rightMargin:this.Width-this._leftMargin-this._rightMargin}getOverviewWidth(){return this.Width-this._leftMargin-this._rightMargin}getOverviewHeight(){return this.Height}getMinimumPositionX(){return this._leftMargin}getMinimumPositionY(){return 0}getMaximumPositionX(){return this.Width-this._rightMargin}getMaximumPositionY(){return this.Height}getMinimumWindowWidth(){return null!=this._minWinSize?this._minWinSize:null!=this._minimumWindowSize?(this._minWinSize=L.getDatePosition(this._xMin,this._xMax,this._xMin+this._minimumWindowSize,this.getOverviewWidth()),this._minWinSize):this.MIN_WINDOW_SIZE}getMinimumWindowHeight(){return null!=this._minWinSize?this._minWinSize:null!=this._minimumWindowSize?(this._minWinSize=L.getDatePosition(this._yMin,this._yMax,this._yMin+this._minimumWindowSize,this.getOverviewHeight()),this._minWinSize):this.MIN_WINDOW_SIZE}getMaximumWindowWidth(){return this.Width}getMaximumWindowHeight(){return this.Height}getGrippySize(){return 10}getHandleStart(){return L.supportsTouch()?this.getHandleSize()/2:0}getHandleSize(){return L.supportsTouch()?30:10}isHandle(t){var i=t.getId();return"lh"===i||"rh"===i||"lhb"===i||"rhb"===i||"th"===i||"bh"===i||"thb"===i||"bhb"===i||"hgrpy"===i||"vgrpy"===i||"lbgrh"===i||"rbgrh"===i||null!=t.getParent()&&("hgrpy"===t.getParent().getId()||"vgrpy"===t.getParent().getId())}isLeftOrRightHandle(t){var i=t.getId();return"lh"===i||"rh"===i||"lhb"===i||"rhb"===i||"hgrpy"===i||"lbgrh"===i||"rbgrh"===i||null!=t.getParent()&&"hgrpy"===t.getParent().getId()}isTopOrBottomHandle(t){var i=t.getId();return"th"===i||"bh"===i||"thb"===i||"bhb"===i||"vgrpy"===i||null!=t.getParent()&&"vgrpy"===t.getParent().getId()}getTimeAxisWidth(){if(null==this._timeAxisInfo)return 0;if(null==this._timeAxisWidth){var t=parseInt(this._timeAxisInfo.width,10);!isNaN(t)&&t<this.Width?this._timeAxisWidth=t:this._timeAxisWidth=this.DEFAULT_VERTICAL_TIMEAXIS_SIZE}return this._timeAxisWidth}getTimeAxisHeight(){if(null==this._timeAxisInfo)return 0;if(null==this._timeAxisHeight){var t=parseInt(this._timeAxisInfo.height,10);!isNaN(t)&&t<this.Height?this._timeAxisHeight=t:this._timeAxisHeight=this.DEFAULT_HORIZONTAL_TIMEAXIS_SIZE}return this._timeAxisHeight}getPageX(t){return L.supportsTouch()&&null!=t.targetTouches?t.targetTouches.length>0?t.targetTouches[0].pageX:null:t.pageX}getPageY(t){return L.supportsTouch()&&null!=t.targetTouches?t.targetTouches.length>0?t.targetTouches[0].pageY:null:t.pageY}isBackgroundRendered(){return!0}isLeftAndRightFilterRendered(){return!1}getSlidingWindow(){return this.getChildAt(1)}getSlidingWindowWidth(){if(this.isHorizontalScrollingEnabled()){var t=Math.max(this.getMinimumPositionX(),L.getDatePosition(this._xMin,this._xMax,this._x1,this.Width));return Math.min(this.getMaximumPositionX(),Math.max(this.getMinimumPositionX(),L.getDatePosition(this._xMin,this._xMax,this._x2,this.Width)))-t}return this.Width}getSlidingWindowHeight(){if(this.isVerticalScrollingEnabled()){var t=Math.max(this.getMinimumPositionY(),L.getDatePosition(this._yMin,this._yMax,this._y1,this.Height));return Math.min(this.getMaximumPositionY(),Math.max(this.getMinimumPositionY(),L.getDatePosition(this._yMin,this._yMax,this._y2,this.Height)))-t}return this.Height}getLeftBackground(){return this.isLeftAndRightFilterRendered()?this.getChildAt(3):null}getRightBackground(){return this.isLeftAndRightFilterRendered()?this.getChildAt(4):null}getLeftBackgroundHandle(){return this.isLeftAndRightFilterRendered()&&!this.isFeatureOff("zoom")?this.getChildAt(5):null}getRightBackgroundHandle(){return this.isLeftAndRightFilterRendered()&&!this.isFeatureOff("zoom")?this.getChildAt(6):null}getLeftHandle(){return this._leftHandle}getRightHandle(){return this._rightHandle}getLeftTopBar(){var t=this._lastChildIndex-2;return this.getChildAt(this.getNumChildren()-t)}getRightTopBar(){var t=this._lastChildIndex-3;return this.getChildAt(this.getNumChildren()-t)}getBottomBar(){var t=this._lastChildIndex-4;return this.getChildAt(this.getNumChildren()-t)}getTopBar(){var t=this._lastChildIndex-5;return this.getChildAt(this.getNumChildren()-t)}setLinePos(t,i,e){this.isVertical()?(-1!==i&&t.setY1(i),-1!==e&&t.setY2(e)):(-1!==i&&t.setX1(i),-1!==e&&t.setX2(e))}setLinePosX(t,i,e){-1!==i&&t.setX1(i),-1!==e&&t.setX2(e)}setLinePosY(t,i,e){-1!==i&&t.setY1(i),-1!==e&&t.setY2(e)}getLinePos1(t){return this.isVertical()?t.getY1():t.getX1()}_findDrawable(t){var i=t.target;if(null!=i){var e=i.getId();if(null==e)return null;if("_border"===e.substr(e.length-7))return this.getChildAfter(i);if("tick"!==e.substr(0,4)&&"ltb"!==e&&"rtb"!==e&&"bb"!==e&&"tab"!==e)return i}return null}isMovable(t){return!("window"!==t.getId()&&"ftr"!==t.getId()&&"sta"!==t.getId()&&!this.isHandle(t))}setRectPos(t,i){this.isVertical()?t.setY(i):t.setX(i)}getRectPos(t){return this.isVertical()?t.getY():t.getX()}getRectSize(t){return this.isVertical()?t.getHeight():t.getWidth()}setRectSize(t,i){this.isVertical()?t.setHeight(i):t.setWidth(i)}getSlidingWindowPos(t){return this.isVertical()?t.getTranslateY():t.getTranslateX()}getSlidingWindowPosX(t){return t.getTranslateX()}getSlidingWindowPosY(t){return t.getTranslateY()}setSlidingWindowPosX(t,i){if(i=Math.max(this.getMinimumPositionX(),i),t.setTranslateX(i),this.isLeftAndRightFilterRendered()){this.getLeftBackground().setWidth(i);var e=i+this.getSlidingWindowSize(t),s=this.getRightBackground();if(s.setX(e),s.setWidth(Math.max(0,this.Width-e)),L.supportsTouch()&&!this.isFeatureOff("zoom")){var n=this.getHandleStart();this.getLeftBackgroundHandle().setX(i-n),this.getRightBackgroundHandle().setX(e)}}}setSlidingWindowPosY(t,i){i=Math.max(this.getMinimumPositionY(),i),t.setTranslateY(i)}getSlidingWindowSize(t){return this.getRectSize(t)}renderData(t,i){}animateSlidingWindow(t,e){var s=0,n=this.getSlidingWindow();if(null!=t&&t!==this.getSlidingWindowPosX(n)||null!=e&&e!==this.getSlidingWindowPosY(n)){var o=this.getLeftHandle(),r=this.getRightHandle(),a=this.getLeftTopBar(),l=this.getRightTopBar(),h=this.getBottomBar(),d=this.getTopBar(),g=!1,u=this.isAnimationOnClick()?new i.Animator(this.getCtx(),.5,0,i.Easing.linear):null;if(this.isVerticalScrollingEnabled()&&null!=e){var _=n.getTranslateY,w=n.setTranslateY,c=o.getY1,v=o.setY1,m=o.getY2,P=o.setY2,S=r.getY1,p=r.setY1,f=r.getY2,x=r.setY2,C=h.getY1,M=h.setY1,b=h.getY2,H=h.setY2,T=d.getY1,W=d.setY1,y=d.getY2,X=d.setY2,D=this.getMinimumPositionY(),O=this.getMaximumPositionY(),B=n.getHeight();e=Math.max(D,Math.min(O-B,e)),this.animateProperty(u,n,_,w,e),this.isVertical()?(this.animateProperty(u,o,c,v,e),this.animateProperty(u,o,m,P,e),this.animateProperty(u,r,S,p,e+B),this.animateProperty(u,r,f,x,e+B),this.animateProperty(u,h,C,M,e),this.animateProperty(u,d,T,W,e),this.animateProperty(u,h,b,H,e+B),this.animateProperty(u,d,y,X,e+B),this.animateProperty(u,a,a.getY2,a.setY2,e+1),this.animateProperty(u,l,l.getY1,l.setY1,e+B-1)):(this.animateProperty(u,o,c,v,e),this.animateProperty(u,o,m,P,e+B),this.animateProperty(u,r,S,p,e),this.animateProperty(u,r,f,x,e+B),this.animateProperty(u,h,C,M,e+B),this.animateProperty(u,d,T,W,e),this.animateProperty(u,h,b,H,e+B),this.animateProperty(u,d,y,X,e)),g=!0}if(this.isHorizontalScrollingEnabled()&&null!=t){var Y=n.getTranslateX,E=n.setTranslateX,R=o.getX1,A=o.setX1,k=o.getX2,I=o.setX2,F=r.getX1,z=r.setX1,U=r.getX2,N=r.setX2,V=h.getX1,G=h.setX1,j=h.getX2,Z=h.setX2,K=d.getX1,q=d.setX1,J=d.getX2,Q=d.setX2,$=this.getMinimumPositionX(),tt=this.getMaximumPositionX();s=n.getWidth(),t=Math.max($,Math.min(tt-s,t)),this.animateProperty(u,n,Y,E,t),this.animateProperty(u,o,R,A,t),this.animateProperty(u,o,k,I,t),this.animateProperty(u,r,F,z,t+s),this.animateProperty(u,r,U,N,t+s),this.isVertical()||(this.animateProperty(u,a,a.getX2,a.setX2,t+1),this.animateProperty(u,l,l.getX1,l.setX1,t+s-1)),this.animateProperty(u,h,V,G,t),this.animateProperty(u,d,K,q,t),this.animateProperty(u,h,j,Z,t+s),this.animateProperty(u,d,J,Q,t+s),g=!0}if(this.isLeftAndRightFilterRendered()){var it=this.getLeftBackground(),et=it.getWidth,st=it.setWidth;this.animateProperty(u,it,et,st,t);var nt=Number(t)+s,ot=this.getRightBackground(),rt=ot.getWidth,at=ot.setWidth,lt=ot.getX,ht=ot.setX;if(this.animateProperty(u,ot,rt,at,this.Width-nt),this.animateProperty(u,ot,lt,ht,nt),L.supportsTouch()&&!this.isFeatureOff("zoom")){var dt=this.getHandleStart(),gt=this.getLeftBackgroundHandle(),ut=gt.getX,_t=gt.setX,wt=this.getRightBackgroundHandle(),ct=wt.getX,vt=wt.setX;this.animateProperty(u,gt,ut,_t,t-dt),this.animateProperty(u,wt,ct,vt,nt)}g=!0}null!=u&&g&&u.play()}}animateProperty(t,e,s,n,o){null!=t?t.addProp(i.Animator.TYPE_NUMBER,e,s,n,o):n.call(e,o)}HandleShapeMouseOver(t){var e=this._findDrawable(t);if(e&&"bg"!==e.getId()&&"referenceObjects"!==e.getId())if("label"===e.getId().substr(0,5)&&(e instanceof i.OutputText||e instanceof i.BackgroundOutputText))e.isTruncated()&&this.getCtx().getTooltipManager().showDatatip(t.pageX,t.pageY,e._rawText,"#000000");else if("window"!==e.getId()&&"ftr"!==e.getId()&&"arr"!==e.getId()&&!this.isHandle(e))return e}HandleShapeMouseOut(t){null==this._moveDrawable&&this.setCursor("default");var i=this._findDrawable(t);return null==i?null:i}HandleShapeClick(t,e,s){t.stopPropagation();var n=this._findDrawable(t);if(!n||"window"===n.getId()||this.isHandle(n))return null;if("bg"===n.getId()||"label"===n.getId().substr(0,5)||"referenceObjects"===n.getId()||"lbg"===n.getId()||"rbg"===n.getId()){null==e&&(e=t.pageX),null==s&&(s=t.pageY);var o=this.getCtx().pageToStageCoords(e,s);o=this.stageToLocal(o);var r,a,l,h,d=this.getSlidingWindow();if(this.isVerticalScrollingEnabled())var g=o.y,u=this.Height,_=g-d.getHeight()/2;if(this.isHorizontalScrollingEnabled())var w=o.x,c=this.Width,v=w-d.getWidth()/2;if(this.animateSlidingWindow(v,_),null!=v){var m=d.getWidth();v=Math.max(this.getMinimumPositionX(),Math.min(v,c-m)),this.isRTL()?(r=this.getXPositionDate(c-(v+m)),a=this.getXPositionDate(c-v)):(r=this.getXPositionDate(v),a=this.getXPositionDate(v+m))}if(null!=_){var P=d.getHeight();_=Math.max(this.getMinimumPositionY(),Math.min(_,u-P)),l=this.getYPositionDate(_),h=this.getYPositionDate(_+P)}var S=i.EventFactory.newOverviewEvent("scrollTime",r,a,l,h);return this.dispatchEvent(S),null}return n}beginDragPan(t,e,s){var n=this._findDrawable(t);if(null!=n&&this.isMovable(n)){if("ftr"!==n.getId()&&"sta"!==n.getId()||(n=this.getSlidingWindow()),this._initX=e,this._initY=s,this.isHandle(n)){var o=this.getSlidingWindow();"hgrpy"!==n.getParent().getId()&&"vgrpy"!==n.getParent().getId()||(n=n.getParent());var r=n.getId();"hgrpy"!==r&&"vgrpy"!==r||(r=(n=o.getChildBefore(n)).getId()),"lh"!==r&&"rh"!==r&&"th"!==r&&"bh"!==r||(r=(n=o.getChildBefore(n)).getId()),"lbgrh"===r&&(n=o.getChildAt(0)),"rbgrh"===r&&(n=o.getChildAt(o.getNumChildren()-3)),this.isLeftOrRightHandle(n)?(this._isHorizontalResize=!0,this.isRTL()?(this._oldEndPosX=this.Width-o.getX(),this._oldStartPosX=this._oldEndPosX-o.getWidth()):(this._oldStartPosX=o.getX(),this._oldEndPosX=this._oldStartPosX+o.getWidth()),L.supportsTouch()||(n.setX(0-this.HANDLE_PADDING_SIZE),n.setWidth(2*(n.getWidth()+this.HANDLE_PADDING_SIZE)))):(this._isHorizontalResize=!1,this._oldStartPosY=o.getY(),this._oldEndPosY=this._oldStartPosY+o.getHeight(),L.supportsTouch()||(n.setY(0-this.HANDLE_PADDING_SIZE),n.setHeight(2*(n.getHeight()+this.HANDLE_PADDING_SIZE)))),this.overrideCursors(n.getCursor())}this._moveDrawable=n;var a=i.EventFactory.newOverviewEvent("dropCallback");return this.dispatchEvent(a),!0}return!1}overrideCursors(t){var i=this.getSlidingWindow();if(null!=i&&i.setCursor(t),this.isLeftAndRightFilterRendered()){var e=this.getLeftBackground(),s=this.getRightBackground();null!=e&&null!=s&&(e.setCursor(t),s.setCursor(t))}}resetCursors(){var t=this.getSlidingWindow();if(null!=t&&t.setCursor("move"),this.isLeftAndRightFilterRendered()){var i=this.getLeftBackground(),e=this.getRightBackground();null!=i&&null!=e&&(i.setCursor("default"),e.setCursor("default"))}}endDragPan(){null!=this._moveDrawable&&this._isDragPanning&&("window"===this._moveDrawable.getId()?this.handleWindowDrag("scrollEnd"):this.isHandle(this._moveDrawable)&&(this.finishHandleDrag(0,0),L.supportsTouch()||(this.isTopOrBottomHandle(this._moveDrawable)?(this._moveDrawable.setY(0),this._moveDrawable.setHeight(this.getHandleSize())):this.isLeftOrRightHandle(this._moveDrawable)&&(this._moveDrawable.setX(0),this._moveDrawable.setWidth(this.getHandleSize()))),this.resetCursors()),this._isDragPanning=!1,this._moveDrawable=null,this._initX=-1)}contDragPan(t,i,e){if(null!=this._moveDrawable&&-1!==this._initX){this._isDragPanning=!0;var s=i-this._initX,n=e-this._initY;this._initX=i,this._initY=e,"window"===this._moveDrawable.getId()?this.handleWindowDrag("scrollPos",s,n):"lh"===this._moveDrawable.getId()||"lhb"===this._moveDrawable.getId()?this.handleLeftOrRightHandleDragPositioning(t,s,!0):"rh"===this._moveDrawable.getId()||"rhb"===this._moveDrawable.getId()?this.handleLeftOrRightHandleDragPositioning(t,s,!1):"th"===this._moveDrawable.getId()||"thb"===this._moveDrawable.getId()?this.handleTopOrBottomHandleDragPositioning(t,n,!0):"bh"!==this._moveDrawable.getId()&&"bhb"!==this._moveDrawable.getId()||this.handleTopOrBottomHandleDragPositioning(t,n,!1)}}HandleTouchStart(t){var i=t.touches;this._touchStartX=i[0].pageX,this._touchStartY=i[0].pageY,2===i.length&&(t.preventDefault(),this._touchStartX2=i[1].pageX,this._touchStartY2=i[1].pageY,Math.abs(this._touchStartY-this._touchStartY2)<20?this._counter=0:(this._touchStartX=null,this._touchStartY=null,this._touchStartX2=null,this._touchStartY2=null))}HandleTouchMove(t){t.preventDefault();var i=t.touches;if(null!=this._touchStartX2&&null!=this._touchStartY2){if(this._counter<50)return void this._counter++;var e=i[1].pageX-this._touchStartX2;this.handleRightHandleDragPositioning(null,e,0),this._touchStartX2=i[1].pageX,this._counter=0}else{var s=Math.abs(this._touchStartX-i[0].pageX),n=Math.abs(this._touchStartY-i[0].pageY);(s>3||n>3)&&(this._touchStartX=null,this._touchStartY=null)}}HandleTouchEnd(t){null!=this._touchStartX2&&null!=this._touchStartY2?this.finishHandleDrag(0,0):null!=this._touchStartX&&null!=this._touchStartY&&this.HandleShapeClick(t,this._touchStartX,this._touchStartY),this._touchStartX=null,this._touchStartY=null,this._touchStartX2=null,this._touchStartY2=null}stopDragAction(){this.endDragPan()}handleWindowDrag(t,i,e){var s,n,o,r,a=this.getSlidingWindow(),l=!1,h=this.getSlidingWindowPosX(a),d=this.getSlidingWindowPosY(a),g=a.getWidth(),u=a.getHeight();if("scrollPos"===t){if(this.isHorizontalScrollingEnabled()&&0!==i){var _=this.getMinimumPositionX(),w=this.getMaximumPositionX();h+i<=_?this.setSlidingWindowPosX(a,_):h+g+i>=w?this.setSlidingWindowPosX(a,w-g):this.setSlidingWindowPosX(a,h+i);var c=this.getSlidingWindowPosX(a);c!==h&&(h=c,l=!0)}if(this.isVerticalScrollingEnabled()&&0!==e){var v=this.getMinimumPositionY(),m=this.getMaximumPositionY();d+e<=v?this.setSlidingWindowPosY(a,v):d+u+e>=m?this.setSlidingWindowPosY(a,m-u):this.setSlidingWindowPosY(a,d+e);var P=this.getSlidingWindowPosY(a);P!==d&&(d=P,l=!0)}l&&O._updateBorderAroundSlidingWindow(this)}(l||"scrollEnd"===t)&&(this.isHorizontalScrollingEnabled()&&(this.isRTL()?(s=this.getXPositionDate(this.Width-(h+g)),n=this.getXPositionDate(this.Width-h)):(s=this.getXPositionDate(h),n=this.getXPositionDate(h+g))),this.isVerticalScrollingEnabled()&&(o=this.getYPositionDate(d),r=this.getYPositionDate(d+u)),this.fireScrollEvent(t,s,n,o,r))}fireScrollEvent(t,e,s,n,o){var r,a,l,h;this.isHorizontalScrollingEnabled()&&(r=e,a=s),this.isVerticalScrollingEnabled()&&(l=n,h=o);var d=i.EventFactory.newOverviewEvent(t,r,a,l,h);this.dispatchEvent(d)}handleLeftOrRightHandleDragPositioning(t,e,s){if(0!==e){var n=this.getSlidingWindow(),o=this.getSlidingWindowPosX(n),r=n.getWidth();if(s){if(r-e<=this.getMinimumWindowWidth())return;if(o+e<=this.getMinimumPositionX())return;var a=this.getCtx().pageToStageCoords(this.getPageX(t),this.getPageY(t)).x;if(a=this.stageToLocal(a),e>0&&a<=o||e<0&&a>=o)return;this.setSlidingWindowPosX(n,o+e),O._setSlidingWindowWidth(this,n,r-e)}else{if(r+e<=this.getMinimumWindowWidth())return;if(o+r+e>=this.getMaximumPositionX())return;if(a=this.getCtx().pageToStageCoords(this.getPageX(t),this.getPageY(t)).x,a=this.stageToLocal(a),e>0&&a<=o+r||e<0&&a>=o+r)return;O._setSlidingWindowWidth(this,n,r+e)}if(O._updateBorderAroundSlidingWindow(this),this.isRangeChangingSupported()){var l,h;this.isRTL()?(l=this.getXPositionDate(this.Width-(this.getSlidingWindowPosX(n)+n.getWidth())),h=this.getXPositionDate(this.Width-this.getSlidingWindowPosX(n))):(l=this.getXPositionDate(this.getSlidingWindowPosX(n)),h=this.getXPositionDate(this.getSlidingWindowPosX(n)+n.getWidth()));var d=i.EventFactory.newOverviewEvent("rangeChanging",l,h);this.dispatchEvent(d)}}}handleTopOrBottomHandleDragPositioning(t,e,s){if(0!==e){var n=this.getSlidingWindow(),o=this.getSlidingWindowPosY(n),r=n.getHeight();if(s){if(r-e<=this.getMinimumWindowHeight())return;if(o+e<=this.getMinimumPositionY())return;var a=this.getCtx().pageToStageCoords(this.getPageX(t),this.getPageY(t)).y;if(a=this.stageToLocal(a),e>0&&a<=o||e<0&&a>=o)return;this.setSlidingWindowPosY(n,o+e),O._setSlidingWindowHeight(this,n,r-e)}else{if(r+e<=this.getMinimumWindowHeight())return;if(o+r+e>=this.getMaximumPositionY())return;if(a=this.getCtx().pageToStageCoords(this.getPageX(t),this.getPageY(t)).y,a=this.stageToLocal(a),e>0&&a<=o+r||e<0&&a>=o+r)return;O._setSlidingWindowHeight(this,n,r+e)}if(O._updateBorderAroundSlidingWindow(this),this.isRangeChangingSupported()){var l=this.getYPositionDate(this.getSlidingWindowPosY(n)),h=this.getYPositionDate(this.getSlidingWindowPosY(n)+n.getHeight()),d=i.EventFactory.newOverviewEvent("rangeChanging",void 0,void 0,l,h);this.dispatchEvent(d)}}}isHorizontalScrollingEnabled(){return null!=this._xMin&&null!=this._xMax}isVerticalScrollingEnabled(){return null!=this._yMin&&null!=this._yMax}isRangeChangingSupported(){return!0}finishHandleDrag(t,e){var s,n=this.getSlidingWindow();if(this._isHorizontalResize){var o=this.getXPositionDate(this._oldStartPosX),r=this.getXPositionDate(this._oldEndPosX);if(this.isRTL())var a=this.getXPositionDate(this.Width-(this.getSlidingWindowPosX(n)+n.getWidth())),l=this.getXPositionDate(this.Width-this.getSlidingWindowPosX(n));else a=this.getXPositionDate(this.getSlidingWindowPosX(n)),l=this.getXPositionDate(this.getSlidingWindowPosX(n)+n.getWidth());s=i.EventFactory.newOverviewEvent("rangeChange",a,l,void 0,void 0,o,r)}else{var h=this.getYPositionDate(this._oldStartPosY),d=this.getYPositionDate(this._oldEndPosY),g=this.getYPositionDate(this.getSlidingWindowPosY(n)),u=this.getYPositionDate(this.getSlidingWindowPosY(n)+n.getHeight());s=i.EventFactory.newOverviewEvent("rangeChange",void 0,void 0,g,u,void 0,void 0,h,d)}this.dispatchEvent(s)}dispatchEvent(t){this._callback.call(this._callbackObj,t,this)}destroy(){this.EventManager&&(this.EventManager.removeListeners(this),this.EventManager.destroy(),this.EventManager=null),L.supportsTouch()?(this.removeEvtListener(i.TouchEvent.TOUCHSTART,this.HandleTouchStart,!1,this),this.removeEvtListener(i.TouchEvent.TOUCHMOVE,this.HandleTouchMove,!1,this),this.removeEvtListener(i.TouchEvent.TOUCHEND,this.HandleTouchEnd,!1,this),this.removeEvtListener(i.MouseEvent.CLICK,this.HandleShapeClick,!1,this)):(this.removeEvtListener(i.MouseEvent.MOUSEOVER,this.HandleShapeMouseOver,!1,this),this.removeEvtListener(i.MouseEvent.MOUSEOUT,this.HandleShapeMouseOut,!1,this),this.removeEvtListener(i.MouseEvent.CLICK,this.HandleShapeClick,!1,this),this.removeEvtListener(i.KeyboardEvent.KEYDOWN,this.HandleKeyDown,!1,this),this.removeEvtListener(i.KeyboardEvent.KEYUP,this.HandleKeyUp,!1,this)),super.destroy()}}t.Overview=B,t.OverviewParser=n,t.OverviewUtils=L,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ojdvt-overview.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojchart-toolkit',["exports","ojs/ojdvt-toolkit","ojs/ojdvt-axis","ojs/ojlegend-toolkit","ojs/ojdvt-overview"],function(e,t,i,r,s){"use strict";const a=(e,t)=>e+"; "+t,n=(e,i,r)=>null!=e&&null!=i&&t.Obj.compareValues(r,e,i);class o{constructor(e,t,i,r){this.id=e,this.series=t,this.group=i,this.context=r}equals(e){return e instanceof o&&(null!=this.id||null!=e.id?n(this.id,e.id,this.context):n(this.series,e.series,this.context)&&n(this.group,e.group,this.context))}toString(){return null!=this.id&&"object"!=typeof this.id?this.id.toString():a(this.series,this.group)}valueOf(){return this.toString()}}const l={_SUPPORTED_TYPES:["bar","line","area","lineWithArea","combo","pie","bubble","scatter","funnel","pyramid","stock","boxPlot"],isValidType:e=>l._SUPPORTED_TYPES.indexOf(e.getType())>=0,isSpark:e=>e.getOptions().__spark,isOverview:e=>e.getOptions()._isOverview,isVertical:e=>!l.isHorizontal(e)&&!l.isPolar(e),isHorizontal:e=>"horizontal"==e.getOptions().orientation&&!l.isPolar(e)&&!l.isStock(e)&&(l.isBLAC(e)||l.isFunnel(e)),isPolar:e=>"polar"==e.getOptions().coordinateSystem&&!l.isStock(e)&&!l.isBoxPlot(e),isCombo:e=>"combo"==e.getType(),isBar:e=>"bar"==e.getType(),isLine:e=>"line"==e.getType(),isLineWithArea:e=>"lineWithArea"==e.getType(),isArea:e=>"area"==e.getType(),isStock:e=>"stock"==e.getType(),isBoxPlot:e=>"boxPlot"==e.getType(),isScatter:e=>"scatter"==e.getType(),isBubble:e=>"bubble"==e.getType(),isPie:e=>"pie"==e.getType(),isFunnel:e=>"funnel"==e.getType(),isPyramid:e=>"pyramid"==e.getType(),isDualY:e=>!(!l.hasAxes(e)||l.isScatterBubble(e)||l.isPolar(e)),isBLAC:e=>{var t=e.getType();return"bar"==t||"line"==t||"area"==t||"lineWithArea"==t||"combo"==t||"stock"==t||"boxPlot"==t},isScatterBubble:e=>{var t=e.getType();return"scatter"==t||"bubble"==t},isLineArea:e=>{var t=e.getType();return"line"==t||"area"==t||"lineWithArea"==t},isScrollSupported:e=>!(l.isPie(e)||l.isFunnel(e)||l.isPolar(e)||l.isPyramid(e)),isOverviewSupported:e=>l.isBLAC(e)&&l.isVertical(e),hasAxes:e=>!("pie"==e.getType()||"funnel"==e.getType()||"pyramid"==e.getType()),isLegendRendered:e=>{var t=e.getOptions(),i=e.getOptionsCache().getFromCache("hasLargeSeriesCount"),r=t.legend;if("off"===r.rendered)return!1;if("auto"===r.rendered&&i)return!1;var s=e.getOptionsCache().getFromCache("hasSeriesDisplayedInLegend"),a=r.sections&&0!==r.sections.length,n=l.isStock(e),o=l.isFunnel(e),h=l.isPyramid(e);return!((n||o||h)&&!s&&!a)},hasTimeAxis:e=>l.isBLAC(e)&&"disabled"!=l.getTimeAxisType(e),hasGroupAxis:e=>l.isBLAC(e)&&"disabled"==l.getTimeAxisType(e),getTimeAxisType:e=>{var t=e.getOptions().timeAxisType;return t&&"auto"!=t&&l.isBLAC(e)&&!l.isPolar(e)?t:l.isStock(e)?"skipGaps":"disabled"},isMixedFrequency:e=>"mixedFrequency"==l.getTimeAxisType(e)},h={polarToCartesian:(e,i,r)=>{var s=r.x+r.w/2+e*Math.sin(i),a=r.y+r.h/2-e*Math.cos(i);return new t.Point(s,a)},convertAxisCoord:(e,i,r)=>{if(l.isPolar(e)){var s=h.polarToCartesian(i.y,i.x,r);return new t.Point(s.x,s.y)}return l.isHorizontal(e)?new t.Point(i.y,i.x):new t.Point(i.x,i.y)}},g={getValueFormat:(e,t)=>{var i=e.getOptions().valueFormats;return i?i[t]?i[t]:"group"==t&&l.hasTimeAxis(e)?g.getValueFormat(e,"x"):"y"!=t&&"y2"!=t&&"min"!=t&&"max"!=t||!l.isBLAC(e)?{}:g.getValueFormat(e,"value"):{}},formatVal:(e,t,r,s,a,n)=>{var o,l="auto",h="on";t.scaling&&(l=t.scaling),t.autoPrecision&&(h=t.autoPrecision),t.converter&&(o=t.converter),s=null!=s?s:r,a=null!=a?a:r,n=null!=n?n:0;var g=new i.LinearScaleAxisValueFormatter(s,a,n,l,h,e.getOptions().translations);return o&&o.format?g.format(r,o):g.format(r)},formatDateVal:(e,t)=>{var i=e.converter;return i&&i.format?i.format(t):null}},d={_SERIES_TYPE_RAMP:["bar","line","area"],hasData:e=>{var t=e.getOptions();if(!t||!t.series||t.series.length<1)return!1;for(var i=d.getSeriesCount(e),r=0;r<i;r++){var s=d.getSeriesItem(e,r);if(s&&s.items&&s.items.length>=1)return!0}return!1},hasInvalidData:e=>!d.hasData(e)||d.hasInvalidTimeData(e),hasInvalidTimeData:e=>{if(l.isFunnel(e)||l.isPie(e)||l.isPyramid(e))return!1;var t,i,r=e.getOptions(),s=d.getGroupCount(e);if(!r||!r.series||r.series.length<1)return!0;if(s<1)return!0;var a=d.getSeriesCount(e);if(l.isMixedFrequency(e))for(t=0;t<a;t++)for(i=0;i<s;i++){var n=d.getDataItem(e,t,i);if(n&&(null==n.x||isNaN(n.x)))return!0}else if(l.hasTimeAxis(e))for(i=0;i<s;i++){var o=d.getGroup(e,i);if(null==o||isNaN(o))return!0}return!1},hasSeriesData:(e,t)=>{var i=d.getSeriesItem(e,t).items;if(i)for(var r=0;r<i.length;r++)if(null!=i[r])return!0;return!1},getSeriesCount:e=>{var t=e.getOptions().series;return t?t.length:0},getY2SeriesCount:(e,t,i)=>{for(var r=0,s=d.getSeriesCount(e),a=0;a<s;a++)t&&d.getSeriesType(e,a)!=t||(i||d.isSeriesRendered(e,a))&&d.isAssignedToY2(e,a)&&r++;return r},getSeries:(e,t)=>{var i=d.getSeriesItem(e,t);return i?i.id?i.id:i.name||""===i.name?i.name:String(t):null},getSeriesLabel:(e,t)=>{var i=d.getSeriesItem(e,t);return i&&(i.name||""===i.name)?i.name:null},getSeriesIdx:(e,t)=>{for(var i=d.getSeriesCount(e),r=0;r<i;r++){if(d.getSeries(e,r)==t)return r}return-1},getSeriesStyleIdx:(e,t)=>{if(e.getOptionsCache().getFromCache("hasLargeSeriesCount"))return t;var i=d.getSeries(e,t);return null==i?t:e.getSeriesStyleArray().indexOf(i)},getSeriesItem:(e,t)=>{if(isNaN(t)||null==t||t<0)return null;var i=e.getOptions();return i.series&&i.series.length>t?i.series[t]:null},getDataItem:(e,t,i)=>{if(isNaN(i)||null==i||i<0)return null;var r=d.getSeriesItem(e,t);return r&&r.items&&r.items.length>i?r.items[i]:null},getRawDataItem:(e,t,i)=>{if(isNaN(i)||null==i||i<0)return null;var r=e.getRawOptions().series[t].items[i];if("number"==typeof r)return r;if(!r)return null;var s=Object.assign({},r);return s.itemData=r._itemData,delete s._itemData,s},getDataItemId:(e,t,i)=>{var r=d.getDataItem(e,t,i);return r?null!=r.id?r.id:a(d.getSeries(e,t),d.getGroup(e,i)):null},getNestedDataItem:(e,t,i,r)=>{if(isNaN(r)||null==r||r<0)return null;var s=d.getDataItem(e,t,i);return s&&s.items&&s.items.length>r?s.items[r]:null},getNestedDataItemCount:(e,t,i)=>{var r=d.getDataItem(e,t,i);return r&&r.items?r.items.length:0},getNestedDataItemId:(e,t,i,r)=>{var s=d.getNestedDataItem(e,t,i,r);return s?null!=s.id?s.id:d.getDataItemId(e,t,i)+"; "+String(r):null},getNestedDataItemIdx:(e,t,i,r)=>{for(var s=d.getNestedDataItemCount(e,t,i),a=0;a<s;a++){var o=d.getNestedDataItemId(e,t,i,a);if(n(o,r,e.getCtx()))return a}return-1},getGroupCount:e=>d._getGroupsArray(e).length,getGroup:(e,t)=>{if(null!=t&&t>=0&&t<d.getGroupCount(e)){var i=d._getGroupsArray(e)[t];if(i)return null!=i.id?i.id:null!=i.name?i.name:String(t)}return null},getGroupIdx:(e,i)=>{for(var r=d.getGroups(e),s=0;s<r.length;s++)if(i instanceof Array&&r[s]instanceof Array?t.ArrayUtils.equals(i,r[s]):i===r[s])return s;return-1},getGroupLabel:(e,t)=>{if(t>=0&&t<d.getGroupCount(e)){var i=d._getGroupsArray(e)[t];if(i)return null!=i.name?i.name:null!=i.id||"string"!=typeof i?"":i}return null},getGroups:e=>{var t="groups",i=e.getOptionsCache().getFromCache(t);if(!i){var r=d.getGroupCount(e);i=[];for(var s=0;s<r;s++)i.push(d.getGroup(e,s));e.getOptionsCache().putToCache(t,i)}return i},_getGroupsArray:e=>{var t=e.getOptions(),i="groupsArray",r=e.getOptionsCache().getFromCache(i);if(!r){r=[],t.groups&&(r=d._getNestedGroups(t.groups,r));for(var s=0;s<r.length;s++)1==r[s].id.length&&(r[s].id=r[s].id[0],r[s].name=r[s].name[0]);e.getOptionsCache().putToCache(i,r)}return r},_getNestedGroups:(e,t)=>{if(!e||0==e.length)return[];for(var i=0;i<e.length;i++){var r=e[i],s=null,a=null;if(null!=r&&(s=null!=(s=null!=r.id?r.id:r.name)?s:r,a=r.name?r.name:r),"object"==typeof s&&(s=null),"object"==typeof a&&(a=null),r&&r.groups){var n=d._getNestedGroups(r.groups,[]);0==n.length&&n.push({id:[],name:[]});for(var o=0;o<n.length;o++)n[o].id.unshift(s),n[o].name.unshift(a);t=t.concat(n)}else t.push({id:[s],name:[a]})}return t},getNumLevels:e=>{var t="groupsNumLevels",i=e.getOptionsCache().getFromCache(t);if(null!=i)return i;i=0;for(var r=d._getGroupsArray(e),s=0;s<r.length;s++){var a=r[s];if(a&&a.id){var n=Array.isArray(a.id)?a.id.length:1;i=Math.max(i,n)}}return e.getOptionsCache().putToCache(t,i),i},getVal:(e,t,i,r)=>{var s,a="value",n="number"==typeof r&&r>=0;if(!n&&void 0!==(s=e.getOptionsCache().getFromCachedMap2D(a,t,i)))return s;var o=n?d.getNestedDataItem(e,t,i,r):d.getDataItem(e,t,i);return s=null,null!=o&&("object"!=typeof o?s=o:l.isStock(e)&&null!=o.close?s=o.close:null!=o.value?s=o.value:null!=o.y&&(s=o.y)),s=s||(0===s?0:null),n||e.getOptionsCache().putToCachedMap2D(a,t,i,s),s},getCumulativeVal:(e,t,i,r)=>{if(!d.isStacked(e))return d.getVal(e,t,i);var s=r?"cumValueH":"cumValue",a=e.getCache().getFromCachedMap2D(s,t,i);if(void 0!==a)return a;var n=d.getSeriesType(e,t),o=d.isAssignedToY2(e,t),l=d.getVal(e,t,i),h=d.getStackCategory(e,t),g="bar"==n?l<0:d.isSeriesNegative(e,t);a=0;for(var u=t;u>=0;u--)if((r||d.isDataItemRendered(e,u,i))&&n==d.getSeriesType(e,u)&&o==d.isAssignedToY2(e,u)&&d.getStackCategory(e,u)==h){var _=d.getVal(e,u,i),c="bar"==n?_<0:d.isSeriesNegative(e,u);if(g&&c||!g&&!c){var p=e.getCache().getFromCachedMap2D(s,u,i);if(void 0!==p){a=l+(p||0);break}a+=null==_||isNaN(_)?0:_}}return e.getCache().putToCachedMap2D(s,t,i,a),a},getLowVal:(e,t,i)=>{var r=d.getDataItem(e,t,i);return null==r?null:"candlestick"==d.getSeriesType(e,t)?null==r.low&&null!=r.close?null!=r.open?Math.min(r.close,r.open):r.close:r.low:null!=r.low&&null==r.close?r.low:null},getHighVal:(e,t,i)=>{var r=d.getDataItem(e,t,i);return null==r?null:"candlestick"==d.getSeriesType(e,t)?null==r.high?null!=r.open?Math.max(r.close,r.open):r.close:r.high:null!=r.high&&null==r.close?r.high:null},getXVal:(e,t,i)=>{var r=d.getDataItem(e,t,i);return d.getXValFromItem(e,r,i)},getXValFromItem:(e,t,i)=>null!=t&&null!=t.x?t.x:l.hasGroupAxis(e)?i:l.hasTimeAxis(e)&&!l.isMixedFrequency(e)?d.getGroupLabel(e,i):null,getTargetVal:(e,t)=>{var i=d.getDataItem(e,t,0);return null==i||"object"!=typeof i?null:i.targetValue},getZVal:(e,t,i,r)=>{var s=d.getDataItem(e,t,i);return null==s||"object"!=typeof s?r:null!=s.z?Math.max(0,s.z):r},isStockValRising:(e,t,i)=>{var r=d.getDataItem(e,t,i);return!r||r.open<=r.close},getCategories:(e,t,i,r)=>{var s=d.getNestedDataItem(e,t,i,r);if(s&&s.categories)return s.categories;var a=d.getDataItem(e,t,i);if(a&&a.categories)return a.categories;var n=d.getSeriesItem(e,t);if(n&&n.categories)return n.categories;var o=d.getSeries(e,t);return null!=o?[o]:[]},isAssignedToY2:(e,t)=>{if(!e.getOptionsCache().getFromCache("hasY2Assignment"))return!1;var i=d.getSeriesItem(e,t);return i&&"on"==i.assignedToY2&&l.isDualY(e)},getInitialSelection:e=>{var t=e.getOptions().selection,i=null!=e.getOptions().data;t||(t=[]);for(var r=e.getChartObjPeers(),s=0;s<t.length;s++){var a=null==t[s].id||i?t[s]:t[s].id;if(null!=t[s].id||t[s].series||t[s].group||(t[s]={id:a}),!(null==a||t[s].series&&t[s].group))for(var o=0;o<r.length;o++){var l=r[o];if(n(a,l.getDataItemId(),e.getCtx())){t[s].series=l.getSeries(),t[s].group=l.getGroup();break}}}return t},getCurrentSelection:e=>{var t=[],i=e.getSelectionHandler();if(i)for(var r=i.getSelectedIds(),s=0;s<r.length;s++){var a=r[s];t.push({series:a.series,group:a.group,id:a.id})}return t},hasVolumeSeries:e=>{var t=e.getOptionsCache().getFromCache("hasVolume");return t||!1},isDataSelected:(e,t,i,r)=>{var s=!isNaN(r)&&null!=r&&r>=0?d.getNestedDataItemId(e,t,i,r):d.getDataItemId(e,t,i),a=d.getSeries(e,t),o=d.getGroup(e,i),l=e.getOptions().selection;l||(l=[]);for(var h=0;h<l.length;h++){if(n(s,l[h],e.getCtx())||n(s,l[h].id,e.getCtx()))return!0;if(null==l[h].id&&n(a,l[h].series,e.getCtx())&&n(o,l[h].group,e.getCtx()))return!0}return!1},getDefaultDataLabel:(e,t,i,r,s,a)=>{var n;if(a)n=d.getCumulativeVal(e,t,i);else{var o=!isNaN(r)&&null!=r&&r>=0?d.getNestedDataItem(e,t,i,r):d.getDataItem(e,t,i);if(!o)return null;n=o.label,"low"==s?n=n instanceof Array?n[0]:n:"high"==s&&(n=n instanceof Array?n[1]:null)}if(null!=n){if("number"==typeof n){var l,h,u,_=d.isAssignedToY2(e,t)&&e.y2Axis?e.y2Axis:e.yAxis;if(_){var c=_.getInfo();l=c.getGlobalMin(),h=c.getGlobalMax(),u=c.getMajorIncrement()}var p=g.getValueFormat(e,"label");return g.formatVal(e,p,n,l,h,u)}return n}return null},getStackCategory:(e,t)=>{var i="stackCategory",r=e.getCache().getFromCachedMap(i,t);return void 0!==r||(r=d.isStacked(e)?d.getSeriesItem(e,t).stackCategory||null:d.getSeries(e,t)||null,e.getCache().putToCachedMap(i,t,r)),r},getStackCategories:(e,t,i)=>{var r=[],s=[],a={},n={},o="stackCategories",l=e.getCache().getFromCachedMap2D(o,t,i);if(l)return l;for(var h=d.getSeriesCount(e),g=0;g<h;g++)if(d.isSeriesRendered(e,g)||i){if(t){var u=d.getSeriesType(e,g);if("candlestick"!=u&&"boxPlot"!=u||(u="bar"),t!=u)continue}var _=d.getStackCategory(e,g);d.isAssignedToY2(e,g)?n[_]||(s.push(_),n[_]=!0):a[_]||(r.push(_),a[_]=!0)}return l={y:r,y2:s},e.getCache().putToCachedMap2D(o,t,i,l),l},getBarCategoryZ:(e,t,i,r)=>{for(var s=0,a=d.getSeriesCount(e),n=0;n<a;n++){var o=d.getSeriesType(e,n);if(("bar"==o||"candlestick"==o||"boxPlot"==o)&&d.getStackCategory(e,n)==t&&d.isSeriesRendered(e,n)){var l=d.isAssignedToY2(e,n);(r&&l||!r&&!l)&&(s=Math.max(s,d.getZVal(e,n,i,1)))}}return s},getMarkerPos:(e,i,r,s,a)=>{var n,o,g=e.xAxis,u=d.isAssignedToY2(e,i)?e.y2Axis:e.yAxis,_=l.isPolar(e),c=d.isRangeSeries(e,i),p=!isNaN(s)&&null!=s&&s>=0,v=d.getXVal(e,i,r),m=p?d.getVal(e,i,r,s):d.getCumulativeVal(e,i,r);if(l.isBubble(e)){if(_&&m<u.getInfo().getViewportMin())return null;n=_?g.getCoordAt(v):g.getUnboundedCoordAt(v),o=u.getUnboundedCoordAt(m)}else if(c){var f=u.getCoordAt(d.getLowVal(e,i,r)),x=u.getCoordAt(d.getHighVal(e,i,r));n=g.getCoordAt(d.getXVal(e,i,r)),o=(f+x)/2}else n=g.getCoordAt(v),o=u.getCoordAt(m);return null==n||null==o?null:h.convertAxisCoord(e,new t.Point(n,o),a)},getScatterBubbleMarkerPos:(e,i,r)=>{var s=e.xAxis,a=e.yAxis,n=d.getXVal(e,i,r),o=d.getVal(e,i,r),l=s.getCoordAt(n),h=a.getCoordAt(o);return null==l||null==h?null:new t.Point(l,h)},isSeriesNegative:(e,t)=>{if(!e.getOptionsCache().getFromCache("hasNegativeValues"))return!1;var i=e.getOptionsCache().getFromCachedMap("isSeriesNegative",t);if(null!=i)return i;var r=d.getGroupCount(e);i=!0;for(var s=0;s<r;s++){if(d.getVal(e,t,s)>0){i=!1;break}}return e.getOptionsCache().putToCachedMap("isSeriesNegative",t,i),i},getGroupsDataForContext:e=>{var t="groupsDataArray",i=e.getOptionsCache().getFromCache(t);if(!i){var r=e.getRawOptions();i=d._getNestedGroupsData(r.groups),e.getOptionsCache().putToCache(t,i)}return i},getSeriesDataForContext:(e,t)=>{var i=e.getRawOptions().series[t],r=Object.assign({},i);r.items=[];for(var s=0;s<i.items.length;s++){var a,n=i.items[s];(a="object"==typeof n?Object.assign({},i.items[s]):n)&&"object"==typeof a&&delete a._itemData,r.items.push(a)}return r},_getNestedGroupsData:e=>{if(!e)return[];for(var t=[],i=0;i<e.length;i++){var r=e[i];if(r.groups){for(var s=d._getNestedGroupsData(r.groups),a=0;a<s.length;a++)s[a].unshift(r);t=t.concat(s)}else t.push([r])}return t},_computeOutermostBarMap:e=>{if(!e.getOptionsCache().getFromCache("outermostBar")){for(var t={},i=d.getSeriesCount(e),r=e.getOptionsCache().getFromCache("hasNegativeValues"),s=i-1;s>=0;s--)if(d.isSeriesRendered(e,s)&&"bar"==d.getSeriesType(e,s)){var a=(d.getStackCategory(e,s)||"")+d.isAssignedToY2(e,s);t[a]?t[a].push(s):t[a]=[s]}var n=d.getGroupCount(e);for(var o in t)for(var l=t[o],h=0;h<n;h++)for(var g=!1,u=!1,_=0;_<l.length&&!(!r&&g||g&&u);_++)if(s=l[_],d.isDataItemRendered(e,s,h)){var c=d.getVal(e,s,h);null==c?e.getOptionsCache().putToCachedMap2D("outermostBar",s,h,!1):!g&&c>=0?(g=!0,e.getOptionsCache().putToCachedMap2D("outermostBar",s,h,!0)):!u&&c<0&&(u=!0,e.getOptionsCache().putToCachedMap2D("outermostBar",s,h,!0))}}},isOutermostBar:(e,t,i)=>(d._computeOutermostBarMap(e),e.getOptionsCache().getFromCachedMap2D("outermostBar",t,i)||!1),isDataItemFiltered:(e,t,i)=>{var r=d.getDataItem(e,t,i);return!(!r||!r._filtered)},isStacked:e=>!("on"!=e.getOptions().stack||l.isMixedFrequency(e)||d.getSeriesCount(e)<2)&&l.isBLAC(e),isSplitDualY:e=>!(!l.isStock(e)||!d.hasVolumeSeries(e)||l.isOverview(e))||"on"==e.getOptions().splitDualY&&d.hasY2Data(e)&&!d.hasY2DataOnly(e),hasY2DataOnly:e=>!!l.isDualY(e)&&d.getY2SeriesCount(e,null,!0)==d.getSeriesCount(e),hasY2Data:(e,t)=>!!l.isDualY(e)&&d.getY2SeriesCount(e,null,!0)>0,hasY2BarData:e=>d.hasY2Data(e,"bar"),hasBarSeries:e=>d._hasSeriesType(e,"bar"),hasLineSeries:e=>d._hasSeriesType(e,"line"),hasAreaSeries:e=>d._hasSeriesType(e,"area"),hasLineWithAreaSeries:e=>d._hasSeriesType(e,"lineWithArea"),hasCandlestickSeries:e=>d._hasSeriesType(e,"candlestick"),hasBoxPlotSeries:e=>d._hasSeriesType(e,"boxPlot"),_hasSeriesType:(e,t)=>{if(l.isBLAC(e))for(var i=d.getSeriesCount(e),r=0;r<i;r++)if(d.isSeriesRendered(e,r)&&d.getSeriesType(e,r)==t)return!0;return!1},getRefObjs:e=>{var t=d.getAxisRefObjs(e,"x"),i=d.getAxisRefObjs(e,"y"),r=d.getAxisRefObjs(e,"y2");return t.concat(i,r)},getAxisRefObjs:(e,t)=>{var i=e.getOptions();return i&&i[t+"Axis"]&&i[t+"Axis"].referenceObjects?i[t+"Axis"].referenceObjects:[]},getSeriesType:(e,t)=>{var i="seriesType",r=e.getOptionsCache().getFromCachedMap(i,t);if(r)return r;if(!l.isBLAC(e))return e.getOptionsCache().putToCachedMap(i,t,"auto"),"auto";var s=d.getSeriesItem(e,t);if(r=s?s.type:null,l.isStock(e)||"candlestick"!=r||(r="auto"),!r||"auto"==r)if(l.isBar(e))r="bar";else if(l.isLine(e))r="line";else if(l.isArea(e))r="area";else if(l.isLineWithArea(e))r="lineWithArea";else if(l.isStock(e))r="candlestick";else if(l.isBoxPlot(e))r="boxPlot";else if(l.isCombo(e)){var a=d.getSeriesStyleIdx(e,t)%d._SERIES_TYPE_RAMP.length;r=d._SERIES_TYPE_RAMP[a]}return e.getOptionsCache().putToCachedMap(i,t,r),r},getHiddenCategories:e=>{var t=e.getOptions();return t.hiddenCategories||(t.hiddenCategories=[]),t.hiddenCategories},getHighlightedCategories:e=>{var t=e.getOptions();return t.highlightedCategories||(t.highlightedCategories=[]),t.highlightedCategories},isSeriesRendered:(e,i)=>{var r=d.getHiddenCategories(e);return!(r.length>0&&t.ArrayUtils.hasAnyItem(r,d.getCategories(e,i)))},isDataItemRendered:(e,i,r,s)=>{var a,n="isDataItemRendered",o=!isNaN(s)&&null!=s&&s>=0;if(!o&&void 0!==(a=e.getOptionsCache().getFromCachedMap2D(n,i,r)))return a;if(a=!0,d.isSeriesRendered(e,i)){var h=d.getHiddenCategories(e);h.length>0&&((l.isPie(e)||l.isFunnel(e)||l.isPyramid(e))&&(r=0),t.ArrayUtils.hasAnyItem(h,d.getCategories(e,i,r))&&(a=!1),t.ArrayUtils.hasAnyItem(h,d.getCategories(e,i,r,s))&&(a=!1))}else a=!1;return o||e.getOptionsCache().putToCachedMap2D(n,i,r,a),a},isRangeSeries:(e,t)=>{var i=e.getOptionsCache();if(!i.getFromCache("hasLowHighSeries"))return!1;var r="isRange",s=i.getFromCachedMap(r,t);if(null!=s)return s;s=!1;var a=d.getSeriesType(e,t);if("bar"==a||"area"==a)for(var n=0;n<d.getGroupCount(e);n++)if(null!=d.getLowVal(e,t,n)||null!=d.getHighVal(e,t,n)){s=!0;break}return e.getOptionsCache().putToCachedMap(r,t,s),s},isSeriesDrillable:(e,t)=>{var i=d.getSeriesItem(e,t),r=null!=i?i.drilling:"inherit";return"on"==r||"off"!=r&&("on"==(r=e.getOptions().drilling)||"seriesOnly"==r)},isDataItemDrillable:(e,t,i,r)=>{var s=d.getNestedDataItem(e,t,i,r);s||(s=d.getDataItem(e,t,i));var a=null!=s?s.drilling:"inherit";return"on"==a||"off"!=a&&"on"==(a=e.getOptions().drilling)},isMultiSeriesDrillEnabled:e=>"on"===e.getOptions().multiSeriesDrilling};class u extends t.BaseComponentDefaults{constructor(e){super({alta:{skin:t.CSSStyle.SKIN_ALTA,emptyText:null,type:"bar",stack:"off",stackLabel:"off",orientation:"vertical",polarGridShape:"circle",selectionMode:"none",hideAndShowBehavior:"none",hoverBehavior:"none",zoomAndScroll:"off",zoomDirection:"auto",initialZooming:"none",dragMode:"user",sorting:"off",otherThreshold:0,animationOnDataChange:"none",animationOnDisplay:"none",__sparkBarSpacing:"subpixel",__spark:!1,dataCursor:"auto",dataCursorBehavior:"auto",drilling:"off",highlightMatch:"all",series:[],groups:[],title:{style:new t.CSSStyle(t.BaseComponentDefaults.FONT_FAMILY_ALTA_BOLD_13+"color: #252525;"),halign:"start"},subtitle:{style:new t.CSSStyle(t.BaseComponentDefaults.FONT_FAMILY_ALTA_12+"color: #252525;")},footnote:{style:new t.CSSStyle(t.BaseComponentDefaults.FONT_FAMILY_ALTA_11+"color: #333333;"),halign:"start"},titleSeparator:{upperColor:"#74779A",lowerColor:"#FFFFFF",rendered:"off"},touchResponse:"auto",_statusMessageStyle:new t.CSSStyle(t.BaseComponentDefaults.FONT_FAMILY_ALTA_13+"color: #252525;"),_dropColor:"#D9F4FA",xAxis:{tickLabel:{rendered:"on"},majorTick:{rendered:"auto"},minorTick:{rendered:"auto"},axisLine:{rendered:"on"},scale:"linear"},yAxis:{tickLabel:{rendered:"on"},majorTick:{rendered:"auto"},minorTick:{rendered:"auto"},axisLine:{rendered:"auto"},scale:"linear"},y2Axis:{tickLabel:{rendered:"on"},majorTick:{rendered:"auto"},minorTick:{rendered:"auto"},axisLine:{rendered:"auto"},scale:"linear",alignTickMarks:"on"},pieCenter:{labelStyle:new t.CSSStyle("")},zAxis:{},plotArea:{backgroundColor:null},legend:{position:"auto",rendered:"auto",layout:{gapRatio:1},seriesSection:{},referenceObjectSection:{},sections:[]},overview:{rendered:"off"},dnd:{drag:{items:{},series:{},groups:{}},drop:{plotArea:{},xAxis:{},yAxis:{},y2Axis:{},legend:{}}},styleDefaults:{colors:t.CSSStyle.COLORS_ALTA,borderColor:"auto",borderWidth:"auto",patterns:["smallDiagonalRight","smallChecker","smallDiagonalLeft","smallTriangle","smallCrosshatch","smallDiamond","largeDiagonalRight","largeChecker","largeDiagonalLeft","largeTriangle","largeCrosshatch","largeDiamond"],shapes:["square","circle","diamond","plus","triangleDown","triangleUp"],seriesEffect:"color",threeDEffect:"off",selectionEffect:"highlight",animationDuration:1e3,animationIndicators:"all",animationUpColor:"",animationDownColor:"",lineStyle:"solid",lineType:"auto",markerDisplayed:"auto",markerColor:null,markerShape:"auto",markerSize:10,marqueeColor:"",marqueeBorderColor:"",pieFeelerColor:"#BAC5D6",pieInnerRadius:0,selectedInnerColor:"#ffffff",selectedOuterColor:"#5a5a5a",sliceLabelType:"percent",otherColor:"#4b4b4b",dataItemGaps:"auto",dataLabelStyle:new t.CSSStyle(""),_dataLabelStyle:new t.CSSStyle(""),dataLabelPosition:"auto",funnelBackgroundColor:"#EDEDED",x1Format:{},y1Format:{},y2Format:{},zFormat:{},_defaultSliceLabelColor:"#333333",_scrollbarHeight:3,_scrollbarTrackColor:"#F0F0F0",_scrollbarHandleColor:"#9E9E9E",hoverBehaviorDelay:200,dataCursor:{markerSize:8,markerDisplayed:"on",lineStyle:"solid"},groupSeparators:{rendered:"on",color:"rgba(138,141,172,0.4)"},tooltipLabelStyle:new t.CSSStyle(""),tooltipValueStyle:new t.CSSStyle(""),stackLabelStyle:new t.CSSStyle(""),boxPlot:{whiskerSvgStyle:{},whiskerEndSvgStyle:{strokeWidth:2},whiskerEndLength:"9px",medianSvgStyle:{strokeWidth:3}}},layout:{gapWidthRatio:null,gapHeightRatio:null,outerGapWidth:10,outerGapHeight:8,titleSubtitleGapWidth:14,titleSubtitleGapHeight:4,titleSeparatorGap:6,titlePlotAreaGap:16,footnoteGap:10,verticalAxisGap:6,legendGapWidth:15,legendGapHeight:10,tickLabelGapHeight:8,tickLabelGapWidth:9},_locale:"en-us",_resources:{}}},e)}static getGapWidth(e,t){return Math.ceil(t*e.getGapWidthRatio())}static getGapHeight(e,t){return Math.ceil(t*e.getGapHeightRatio())}getNoCloneObject(){return{series:{items:{_itemData:!0}},data:!0,valueFormats:{close:{converter:!0},high:{converter:!0},label:{converter:!0},low:{converter:!0},open:{converter:!0},q1:{converter:!0},q2:{converter:!0},q3:{converter:!0},targetValue:{converter:!0},value:{converter:!0},volume:{converter:!0},x:{converter:!0},y:{converter:!0},y2:{converter:!0},z:{converter:!0}},pieCenter:{converter:!0},xAxis:{tickLabel:{converter:!0}},yAxis:{tickLabel:{converter:!0}},y2Axis:{tickLabel:{converter:!0}}}}}const _={OTHER_ID:"_dvtOther",getSliceId:(e,t)=>{var i=d.getDataItem(e,t,0),r=i?i.id:null,s=d.getSeries(e,t),a=d.getGroup(e,0);return new o(r,s,a,e.getCtx())},getOtherSliceId:e=>{var t=d.getGroup(e,0);return new o(null,_.OTHER_ID,t,e.getCtx())},getRenderedSeriesIndices:e=>_._getSeriesIndicesArrays(e).rendered,hasOtherSeries:e=>_._getSeriesIndicesArrays(e).other.length>0,getOtherVal:e=>{for(var t=_._getSeriesIndicesArrays(e).other,i=0,r=0;r<t.length;r++){var s=t[r];if(d.isSeriesRendered(e,s)){var a=d.getVal(e,s,0);a>0&&(i+=a)}}return i},getOtherSliceIds:e=>{for(var t=_._getSeriesIndicesArrays(e).other,i=[],r=0;r<t.length;r++){var s=t[r];i.push(_.getSliceId(e,s))}return i},isOtherSliceSelected:(e,t)=>{for(var i=_.getOtherSliceIds(e),r=0;r<i.length;r++){for(var s=i[r],a=!1,n=0;n<t.length;n++)if(null!=t[n].id&&s.id===t[n].id||s.series===t[n].series&&s.group===t[n].group){a=!0;break}if(!a)return!1}return!0},_getSeriesIndicesArrays:e=>{for(var t=[],i=[],r=d.getSeriesCount(e),s=e.getOptions(),a=s.otherThreshold*_.getTotalVal(e),n=0;n<r;n++){var o=d.getVal(e,n,0);a>0&&o<a?i.push(n):t.push(n)}return"ascending"==s.sorting?t.sort((t,i)=>d.getVal(e,t,0)-d.getVal(e,i,0)):"on"!=s.sorting&&"descending"!=s.sorting||t.sort((t,i)=>d.getVal(e,i,0)-d.getVal(e,t,0)),{rendered:t,other:i}},getTotalVal:e=>{for(var t=d.getSeriesCount(e),i=0,r=0;r<t;r++){var s=d.getVal(e,r,0);s>0&&(i+=s)}return i},getSliceExplode:(e,t)=>{var i=d.getSeriesItem(e,t);return i&&i.pieSliceExplode?i.pieSliceExplode:0},getSliceBySeriesIdx:(e,t)=>{for(var i=e.pieChart.__getSlices(),r=0;r<i.length;r++)if(i[r].getSeriesIndex()==t)return i[r];return null}},c={MARKER_DATA_LABEL_GAP:4,SERIES_PATTERN_BG_COLOR:"#FFFFFF",getSeriesEffect:e=>e.getOptions().styleDefaults.seriesEffect,getColor:(e,t,i)=>{var r=d.getDataItem(e,t,i);if(r&&r.color)return r.color;var s=d.getSeriesItem(e,t);if(s&&s.color)return s.color;if("candlestick"==d.getSeriesType(e,t))return c.getStockItemColor(e,t,i);var a=e.getOptions().styleDefaults.colors;return a[d.getSeriesStyleIdx(e,t)%a.length]},getStockItemColor:(e,t,i)=>{var r=e.getOptions();return d.isStockValRising(e,t,i)?r.styleDefaults.stockRisingColor:r.styleDefaults.stockFallingColor},getStockVolumeColor:(e,t,i)=>{var r=d.getDataItem(e,t,i);if(r&&r.color)return r.color;var s=e.getOptions();return s.styleDefaults.stockVolumeColor?s.styleDefaults.stockVolumeColor:c.getStockItemColor(e,t,i)},getSplitterPos:e=>{var t=e.getOptions().splitterPosition;return null!=t?t:l.isStock(e)?.8:.5},getPattern:(e,i,r,s)=>{var a=d.getNestedDataItem(e,i,r,s);if(a&&a.pattern&&"auto"!=a.pattern)return a.pattern;var n=d.getDataItem(e,i,r);if(n&&n.pattern&&"auto"!=n.pattern)return n.pattern;var o=d.getSeriesType(e,i);if(("line"==o||"area"==o)&&null!=r)return null;var h=d.getSeriesItem(e,i);if(h&&h.pattern&&"auto"!=h.pattern)return h.pattern;if("pattern"==c.getSeriesEffect(e)){if(l.isStock&&"candlestick"==d.getSeriesType(e,i)){var g=d.isStockValRising(e,i,r),u=t.Agent.isRightToLeft(e.getCtx());return g?u?"smallDiagonalLeft":"smallDiagonalRight":u?"smallDiagonalRight":"smallDiagonalLeft"}var _=e.getOptions().styleDefaults.patterns;return _[d.getSeriesStyleIdx(e,i)%_.length]}return null},getMarkerBorderColor:(e,t,i,r)=>{var s=c.getBorderColor(e,t,i,r);return s||c.getDefaultMarkerBorderColor(e,t,i,r)},getDefaultMarkerBorderColor:(e,i,r,s)=>{if("redwood"===e.getCtx().getThemeBehavior()&&!d.isRangeSeries(e,i))return c.getMarkerColor(e,i,r,s);if(c.getDataItemGaps(e)>0&&"lineWithArea"!=d.getSeriesType(e,i))return c.getBackgroundColor(e,!0);if(l.isBubble(e)&&"gradient"!=c.getSeriesEffect(e)){var a=c.getMarkerColor(e,i,r);if(a)return t.ColorUtils.adjustHSL(a,0,.15,-.25)}return null},getBorderColor:(e,t,i,r)=>{var s=d.getNestedDataItem(e,t,i,r);if(s&&s.borderColor)return s.borderColor;var a=d.getDataItem(e,t,i);if(a&&a.borderColor)return a.borderColor;var n=d.getSeriesItem(e,t);if(n&&n.borderColor)return n.borderColor;var o=e.getOptions().styleDefaults;return"auto"!=o.borderColor?o.borderColor:null},getUserBorderWidth:(e,t,i,r)=>{var s=d.getNestedDataItem(e,t,i,r);if(s&&null!=s.borderWidth)return s.borderWidth;var a=d.getDataItem(e,t,i);if(a&&null!=a.borderWidth)return a.borderWidth;var n=d.getSeriesItem(e,t);if(n&&null!=n.borderWidth)return n.borderWidth;var o=e.getOptions().styleDefaults;return"auto"!=o.borderWidth?o.borderWidth:null},getDefaultBorderWidth:e=>l.isScatterBubble(e)||l.isLineArea(e)?1.25:1,getDefaultMarkerBorderWidth:e=>"redwood"===e.getCtx().getThemeBehavior()?0:c.getDefaultBorderWidth(e),getBorderWidth:(e,t,i,r)=>{var s=c.getUserBorderWidth(e,t,i,r);return null!=s?s:c.getDefaultBorderWidth(e)},getMarkerColor:(e,t,i,r)=>{if(!c.isMarkerDisplayed(e,t,i,r))return c.getColor(e,t,i);var s=d.getNestedDataItem(e,t,i,r);if(s&&s.color)return s.color;var a=d.getDataItem(e,t,i);if(a&&a.color)return a.color;var n=d.getSeriesItem(e,t);if(n&&n.markerColor)return n.markerColor;var o=e.getOptions().styleDefaults.markerColor;return o||c.getColor(e,t,i)},getMarkerShape:(e,t,i,r)=>{var s=e.getOptions(),a=s.styleDefaults.markerShape,n=d.getSeriesItem(e,t);n&&n.markerShape&&(a=n.markerShape);var o=d.getDataItem(e,t,i);o&&o.markerShape&&(a=o.markerShape);var h=d.getNestedDataItem(e,t,i,r);if(h&&h.markerShape&&(a=h.markerShape),"auto"==a)if(l.isBubble(e)||"boxPlot"==d.getSeriesType(e,t)||d.isRangeSeries(e,t))a="circle";else{var g=d.getSeriesStyleIdx(e,t),u=s.styleDefaults.shapes;a=u[g%u.length]}return a},getMarkerSize:(e,t,i,r)=>{var s;if(l.isBubble(e)&&(s=e.getOptionsCache().getFromCachedMap2D("bubbleSizeCache",t,i)))return s;var a=d.getNestedDataItem(e,t,i,r);if(a&&null!=a.markerSize)s=Number(a.markerSize);else{var n=d.getDataItem(e,t,i);if(n&&null!=n.markerSize)s=Number(n.markerSize);else{var o=d.getSeriesItem(e,t);s=o&&null!=o.markerSize?Number(o.markerSize):Number(e.getOptions().styleDefaults.markerSize)}}return l.isOverview(e)&&(s=Math.ceil(.6*s)),s},isMarkerDisplayed:(e,t,i,r)=>{var s,a=d.getNestedDataItem(e,t,i,r);if(a&&null!=a.markerDisplayed)s=a.markerDisplayed;else{var n=d.getDataItem(e,t,i);if(n&&null!=n.markerDisplayed)s=n.markerDisplayed;else{var o=d.getSeriesItem(e,t);s=o&&null!=o.markerDisplayed?o.markerDisplayed:e.getOptions().styleDefaults.markerDisplayed}}return"on"==s||"off"!=s&&(l.isScatterBubble(e)||"boxPlot"==d.getSeriesType(e,t)||"none"==c.getLineType(e,t))},getImageSource:(e,t,i,r,s)=>{var a=d.getNestedDataItem(e,t,i,r);if(a&&a[s])return a[s];var n=d.getDataItem(e,t,i);if(n&&n[s])return n[s];var o=d.getSeriesItem(e,t);return o&&o[s]?o[s]:void 0},getLineWidth:(e,t)=>{var i,r=d.getSeriesItem(e,t),s=e.getOptions();return i=r&&r.lineWidth?r.lineWidth:s.styleDefaults.lineWidth?s.styleDefaults.lineWidth:"lineWithArea"==d.getSeriesType(e,t)?2:3,l.isOverview(e)&&(i=Math.ceil(.6*i)),i},getLineStyle:(e,t)=>{var i=d.getSeriesItem(e,t);return i&&i.lineStyle?i.lineStyle:e.getOptions().styleDefaults.lineStyle},getLineType:(e,t)=>{var i,r=d.getSeriesItem(e,t);return"auto"==(i=r&&r.lineType?r.lineType:e.getOptions().styleDefaults.lineType)&&(i=l.isScatterBubble(e)?"none":"straight"),(l.isPolar(e)||l.isScatterBubble(e))&&("centeredSegmented"==i&&(i="segmented"),"centeredStepped"==i&&(i="stepped")),i},getBarSpacing:e=>e.getOptions().__sparkBarSpacing,getMaxBarWidth:e=>{var t=e.getOptions().styleDefaults.maxBarWidth;return null==t||l.isPolar(e)?1/0:t},getBarWidth:(e,t,i)=>{e.getOptionsCache().getFromCache("hasConstantZValue")&&(t=0,i=0);var r="barWidth",s=e.getCache().getFromCachedMap2D(r,t,i);if(null!=s)return s;var a=d.getZVal(e,t,i,1)/e.getOptions()._averageGroupZ;return s=Math.min(a*c.getGroupWidth(e),c.getMaxBarWidth(e)),e.getCache().putToCachedMap2D(r,t,i,s),s},getBarStackWidth:(e,t,i,r)=>{e.getOptionsCache().getFromCache("hasConstantZValue")&&(i=0);var s=r?"y2BarStackWidth":"yBarStackWidth",a=e.getCache().getFromCachedMap2D(s,t,i);if(null!=a)return a;var n=d.getBarCategoryZ(e,t,i,r)/e.getOptions()._averageGroupZ;return a=Math.min(n*c.getGroupWidth(e),c.getMaxBarWidth(e)),e.getCache().putToCachedMap2D(s,t,i,a),a},getBarCategoryOffsetMap:(e,t)=>{e.getOptionsCache().getFromCache("hasConstantZValue")&&(t=0);var i="barCategoryOffsetMap",r=e.getCache().getFromCachedMap(i,t);if(r)return r;var s,a,n=d.isStacked(e),o=d.getStackCategories(e,"bar"),h=l.isMixedFrequency(e),g=d.isSplitDualY(e),u={},_={},p=0,v=0;if(n){for(a=0;a<o.y.length;a++)s=c.getBarStackWidth(e,o.y[a],t,!1),h?u[o.y[a]]=-.5*s:(u[o.y[a]]=p,p+=s);for(g||(v=p),a=0;a<o.y2.length;a++)s=c.getBarStackWidth(e,o.y2[a],t,!0),h?_[o.y2[a]]=-.5*s:(_[o.y2[a]]=v,v+=s);g||(p=v)}else for(var m=d.getSeriesCount(e),f=0;f<m;f++){var x=d.getSeriesType(e,f);if(("bar"==x||"candlestick"==x||"boxPlot"==x)&&d.isSeriesRendered(e,f)){var C=d.isAssignedToY2(e,f),S=d.getStackCategory(e,f);s=c.getBarWidth(e,f,t),C?h?_[S]=-.5*s:(_[S]=v,v+=s):h?u[S]=-.5*s:(u[S]=p,p+=s)}}for(var A in u)u[A]-=g||n?p/2:(p+v)/2;for(var b in _)_[b]-=g||n?v/2:(p+v)/2-p;return r={y:u,y2:_},e.getCache().putToCachedMap(i,t,r),r},getDataItemGaps:e=>{var t="dataItemGaps",i=e.getOptionsCache().getFromCache(t);if(null!=i)return i;var r=e.getOptions();if(null!=r.styleDefaults.sliceGaps)i=r.styleDefaults.sliceGaps;else{var s=r.styleDefaults.dataItemGaps;"auto"==s&&(s="on"==r.styleDefaults.threeDEffect?"0%":"50%");var a=s&&s.indexOf?s.indexOf("%"):-1;i=a>=0?(s=s.substring(0,a))/100:0}return e.getOptionsCache().putToCache(t,i),i},isSelectable:(e,t,i)=>{var r=d.getSeriesItem(e,t);return(!r||"off"!=r._selectable)&&(e.isSelectionSupported()&&null!=t&&t>=0&&null!=i&&i>=0)},getAnimOnDisplay:e=>e.getOptions().animationOnDisplay,getAnimOnDataChange:e=>e.getOptions().animationOnDataChange,getAnimDur:e=>t.CSSStyle.getTimeMilliseconds(e.getOptions().styleDefaults.animationDuration)/1e3,getAnimIndicators:e=>e.getOptions().styleDefaults.animationIndicators,getAnimUpColor:e=>e.getOptions().styleDefaults.animationUpColor,getAnimDownColor:e=>e.getOptions().styleDefaults.animationDownColor,getSelectedInnerColor:e=>e.getOptions().styleDefaults.selectedInnerColor,getSelectedOuterColor:e=>e.getOptions().styleDefaults.selectedOuterColor,isSelectionHighlighted:e=>{var t=e.getOptions().styleDefaults.selectionEffect;return"highlight"==t||"highlightAndExplode"==t},isSelectionExploded:e=>{var t=e.getOptions().styleDefaults.selectionEffect;return"explode"==t||"highlightAndExplode"==t},getDataLabelStyle:(e,i,r,s,a,n,o)=>{var h,g=e.getOptions().styleDefaults,u=[g._dataLabelStyle,g.dataLabelStyle];const _=d.getSeriesType(e,i);(a&&("bar"==_||l.isBubble(e))&&("center"==n||"inBottom"==n||"inTop"==n||"inRight"==n||"inLeft"==n)||"area"==_&&!d.isRangeSeries(e,i)&&"bottom"==n&&l.isVertical(e))&&(h=null!=c.getPattern(e,i,r,s)?"#000000":t.ColorUtils.getContrastingTextColor(a),u.push(new t.CSSStyle("color: "+h+";"))),u.push(c._parseLowHighArray(e.getOptions().styleDefaults.dataLabelStyle,o));var p=d.getDataItem(e,i,r);p&&u.push(new t.CSSStyle(c._parseLowHighArray(p.labelStyle,o)));var v=d.getNestedDataItem(e,i,r,s);return v&&u.push(new t.CSSStyle(c._parseLowHighArray(v.labelStyle,o))),h&&t.Agent.isHighContrast()&&u.push(new t.CSSStyle("color: "+h+";")),t.CSSStyle.mergeStyles(u)},getDataLabelCollisions:(e,t,i,r,s)=>{var a=t&&t.x&&t.x-i.w/2||i.x,n=t&&t.y&&t.y-i.h/2||i.y,o=c.MARKER_DATA_LABEL_GAP/2,l=e.getOptions(),h=s?u.getGapHeight(e,l.layout.legendGapHeight):u.getGapWidth(e,l.layout.legendGapWidth);return{xAxis:n+i.h+o>r.y+r.h,yAxis:a+o<r.x,y2Axis:a+i.w+o>r.x+r.w,legend:a+i.w+o>r.x+r.w+h,top:n<e.getDimensions().y}},adjustDataLabelPos:(e,t,i)=>{var r=e;return"left"!=e&&"center"!=e||!t.yAxis?"right"!=e&&"center"!=e||!(i&&t.y2Axis||t.legend)?"top"!=e&&"center"!=e||!t.top?"bottom"!=e&&"center"!=e||!t.xAxis||(r="top"):r="bottom":r="left":r="right",r},_parseLowHighArray:(e,t)=>e instanceof Array?"high"==t?e[1]:e[0]:e,isOverviewRendered:e=>{var t=e.getOptions();return l.isOverviewSupported(e)&&"off"!=t.overview.rendered},getOverviewHeight:e=>{var t=e.getOptions().overview.height;return null==t&&(t=l.hasTimeAxis(e)?.25:.2),c.getSizeInPixels(t,e.getHeight())},getSizeInPixels:(e,t)=>{if("string"==typeof e){if("%"==e.slice(-1))return t*Number(e.slice(0,-1))/100;if("px"==e.slice(-2))return Number(e.slice(0,-2));e=Number(e)}return"number"==typeof e?e<=1?t*e:e:0},getBackgroundColor:(e,t)=>{var i=e.getOptions();return i.plotArea.backgroundColor?i.plotArea.backgroundColor:t?"#FFFFFF":null},getHoverBehaviorDelay:e=>{var i=e.getOptions().styleDefaults.hoverBehaviorDelay;return i?(i=t.CSSStyle.getTimeMilliseconds(i),l.isScatterBubble(e)||l.isLine(e)?.75*i:1.25*i):0},optimizeMarkerStroke:e=>l.isScatterBubble(e)||l.isBoxPlot(e),getGroupWidth:e=>{var t="groupWidth",i=e.getCache().getFromCache(t);return null==i&&(i=e.xAxis.getInfo().getGroupWidth(),e.getCache().putToCache(t,i)),i},isStackLabelRendered:e=>{var t=e.getOptions();return"on"==t.stack&&!l.isMixedFrequency(e)&&("on"===t.stackLabel&&l.isBLAC(e))},optimizeMarkerFill:e=>l.isLineArea(e),getClassName:(e,t,i)=>{var r=d.getDataItem(e,t,i);if(r&&(r.className||r.svgClassName))return r.className||r.svgClassName;var s=d.getSeriesItem(e,t);return s&&(s.className||s.svgClassName)?s.className||s.svgClassName:null},getAreaClassName:(e,t)=>{var i=d.getSeriesItem(e,t);return i&&(i.areaClassName||i.areaSvgClassName)?i.areaClassName||i.areaSvgClassName:i&&(i.className||i.svgClassName)?i.className||i.svgClassName:null},getMarkerClassName:(e,t,i,r)=>{var s=d.getNestedDataItem(e,t,i,r);if(s&&(s.className||s.svgClassName))return s.className||s.svgClassName;var a=d.getDataItem(e,t,i);if(a&&(a.className||a.svgClassName))return a.className||a.svgClassName;var n=d.getSeriesItem(e,t);return n&&(n.markerClassName||n.markerSvgClassName)?n.markerClassName||n.markerSvgClassName:l.isScatterBubble(e)&&n&&(n.className||n.svgClassName)?n.className||n.svgClassName:null},getStyle:(e,t,i)=>{var r=d.getDataItem(e,t,i);if(r&&(r.style||r.svgStyle))return r.style||r.svgStyle;var s=d.getSeriesItem(e,t);return s&&(s.style||s.svgStyle)?s.style||s.svgStyle:null},getAreaStyle:(e,t)=>{var i=d.getSeriesItem(e,t);return i&&(i.areaStyle||i.areaSvgStyle)?i.areaStyle||i.areaSvgStyle:i&&(i.style||i.svgStyle)?i.style||i.svgStyle:null},getMarkerStyle:(e,t,i,r)=>{var s=d.getNestedDataItem(e,t,i,r);if(s&&(s.style||s.svgStyle))return s.style||s.svgStyle;var a=d.getDataItem(e,t,i);if(a&&(a.style||a.svgStyle))return a.style||a.svgStyle;var n=d.getSeriesItem(e,t);return n&&(n.markerStyle||n.markerSvgStyle)?n.markerStyle||n.markerSvgStyle:l.isScatterBubble(e)&&n&&(n.style||n.svgStyle)?n.style||n.svgStyle:null},getBoxPlotStyleOptions:(e,i,r)=>{var s=d.getDataItem(e,i,r),a=s&&s.boxPlot?s.boxPlot:{},n=d.getSeriesItem(e,i),o=n&&n.boxPlot?n.boxPlot:{},l=e.getOptions().styleDefaults.boxPlot,h=t.JsonUtils.merge(a,t.JsonUtils.merge(o,l)),g=c.getColor(e,i,r);h._color=g;var u=t.ColorUtils.getBrighter(g,.8);if(h.q2Color||(h.q2Color=u),h.q3Color||(h.q3Color=u),"pattern"==c.getSeriesEffect(e)){var _=c.getPattern(e,i,r);h._q2Pattern=_,h._q3Pattern=_}var p=c.getBorderColor(e,i,r);h.borderColor=p||g,h.borderWidth=c.getBorderWidth(e,i,r);var v=t.ColorUtils.getDarker(g,.1);return c._setBoxPlotDefaultLineColor(h,"whisker",v),c._setBoxPlotDefaultLineColor(h,"whiskerEnd",v),c._setBoxPlotDefaultLineColor(h,"median",v),h},_setBoxPlotDefaultLineColor:(e,i,r)=>{var s=t.JsonUtils.merge(e[i+"Style"],e[i+"SvgStyle"]);e[i+"SvgStyle"]=s,e[i+"Style"]=null,!s||s.stroke||e[i+"ClassName"]||e[i+"SvgClassName"]||(e[i+"SvgStyle"].stroke=r)},getDataContext:(e,t,i,r)=>{var s,a=d.getSeriesItem(e,t),n=d.getDataItem(e,t,i),o=d.getNestedDataItem(e,t,i,r),h=e.getRawOptions(),g=l.isPie(e)&&(null==t||t<0),u=e.getOptions();if(g){var p=u.translations.labelOther;s={id:p,series:p,value:_.getOtherVal(e),color:u.styleDefaults.otherColor}}else if(o){var v=h.series[t].items[i];v._noTemplate?v=v._itemData:v&&"object"==typeof v&&delete(v=Object.assign({},v))._itemData,s={id:d.getNestedDataItemId(e,t,i,r),data:[v,v.items[r]],value:d.getVal(e,t,i,r),y:d.getVal(e,t,i,r),color:c.getMarkerColor(e,t,i,r),itemData:u.series[t].items[i]._itemData}}else if(n){var m=h.series[t].items[i];m._noTemplate?m=m._itemData:m&&"object"==typeof m&&delete(m=Object.assign({},m))._itemData,s={id:d.getDataItemId(e,t,i),data:m,value:d.getVal(e,t,i),targetValue:d.getTargetVal(e,t,i),x:d.getXVal(e,t,i),y:d.getVal(e,t,i),z:d.getZVal(e,t,i),low:d.getLowVal(e,t,i),high:d.getHighVal(e,t,i),open:n.open,q1:n.q1,q2:n.q2,q3:n.q3,close:n.close,volume:n.volume,color:c.getColor(e,t,i),itemData:u.series[t].items[i]._itemData}}else a&&(s={id:d.getSeries(e,t),color:c.getColor(e,t)});if(s){s.component=u._widgetConstructor,(g||o||n)&&(s.group=d.getGroup(e,i),s.groupData=d.getGroupsDataForContext(e)[i]),!g&&(o||n||a)&&(s.series=d.getSeries(e,t),s.seriesData=d.getSeriesDataForContext(e,t)),l.isPie(e)&&e.pieChart&&(s.totalValue=e.pieChart.getTotalValue());var f=e.getOptionsCache().getFromCachedMap2D("barDims",t,i);f&&(s.dimensions=f),s=e.getCtx().fixRendererContext(s)}return s||{}},getShortDescContext:(e,t,i,r)=>{if(t<0||i<0)return null;var s=d.getDataItem(e,t,i),a=e.getRawOptions(),n=e.getOptions(),o=a.series[t].items[i];return o._noTemplate?o=o._itemData:o&&"object"==typeof o&&delete(o=Object.assign({},o))._itemData,{id:d.getDataItemId(e,t,i),data:o,value:d.getVal(e,t,i),targetValue:d.getTargetVal(e,t,i),label:d.getDefaultDataLabel(e,t,i,r),totalValue:l.isPie(e)&&e.pieChart?e.pieChart.getTotalValue():null,x:d.getXVal(e,t,i),y:d.getVal(e,t,i),z:d.getZVal(e,t,i),low:d.getLowVal(e,t,i),high:d.getHighVal(e,t,i),q1:s.q1,q2:s.q2,q3:s.q3,volume:s.volume,open:s.open,close:s.close,itemData:n.series[t].items[i]._itemData,group:d.getGroup(e,i),groupData:d.getGroupsDataForContext(e)[i],series:d.getSeries(e,t),seriesData:d.getSeriesDataForContext(e,t)}},getDataLabel:(e,t,i,r,s,a)=>{var n,o=d.getDefaultDataLabel(e,t,i,r,s,a),l=e.getOptions().dataLabel;if(l&&!a){var h=c.getDataContext(e,t,i,r);if(h.label=o,"number"==typeof(n=l(h))){var g=DvtChartFormatUtils.getValueFormat(e,"label");n=DvtChartFormatUtils.formatVal(e,g,n)}}if(e.Options.stackLabelProvider&&a){var u=c.getStackLabelContext(e,i);n=e.Options.stackLabelProvider(u)}return n||o},getStackLabelContext:(e,t)=>{for(var i=d.getSeriesCount(e),r=e.getOptions(),s=[],a=[],n=0,o=d.getGroup(e,t),l=0;l<i;l++){var h=r.series[l].items[t];s.push(h),h&&a.push(h._itemData),n+=d.getVal(e,l,t)}return{groups:o,data:s,groupData:d.getGroupsDataForContext(e)[t]||[],value:n,itemData:a}},hasCenteredSeries:e=>{if(!l.isBLAC(e))return!1;for(var t=d.getSeriesCount(e),i=0;i<t;i++)if(d.isSeriesRendered(e,i)&&"bar"!=d.getSeriesType(e,i)){var r=c.getLineType(e,i);if("centeredSegmented"==r||"centeredStepped"==r)return!0}return!1},hasUncenteredSeries:e=>{if(!l.isBLAC(e))return!1;for(var t=d.getSeriesCount(e),i=0;i<t;i++)if(d.isSeriesRendered(e,i)&&"bar"!=d.getSeriesType(e,i)){var r=c.getLineType(e,i);if("segmented"==r||"stepped"==r)return!0}return!1}};class p extends t.Container{constructor(e,i,r){super(e),this._bHoriz=r,this._options=i,this.setMouseEnabled(!1),this.setVisible(!1);var s=i.lineWidth,a=i.lineColor,n=new t.Stroke(a,1,s,!1,t.Stroke.getDefaultDashProps(i.lineStyle,s));this._cursorLine=new t.Line(this.getCtx(),0,0,0,0,"dcLine"),this._cursorLine.setStroke(n),this.addChild(this._cursorLine),this._cursorOuterLine=new t.Line(this.getCtx(),0,0,0,0,"dcLine"),this._cursorOuterLine.setClassName("oj-chart-data-cursor-outer-line"),this.addChild(this._cursorOuterLine),this.addMarker(t.SimpleMarker.CIRCLE,i.markerSize)}addMarker(e,i){if("off"!==this._options.markerDisplayed){this._marker&&this.removeChild(this._marker),this._marker=new t.Container(this._context),this._marker.setMouseEnabled(!1),this.addChild(this._marker);var r=this._options.lineColor,s=this._options.lineWidth,a=new t.SimpleMarker(this._context,e,0,0,i+4*s,i+4*s);a.setSolidFill(r),this._marker.addChild(a);var n=new t.SimpleMarker(this._context,e,0,0,i+2*s,i+2*s);n.setSolidFill("white"),this._marker.addChild(n),this._markerInnerShape=new t.SimpleMarker(this._context,e,0,0,i,i),this._marker.addChild(this._markerInnerShape)}}render(e,i,r,s,a,n){var o,l=this.isHorizontal(),h=t.Agent.isRightToLeft(this.getCtx());if(null!=a&&""!=a){var g=this.getCtx().getStageAbsolutePosition(),d=this.getCtx().getTooltipManager(p.TOOLTIP_ID);d.showDatatip(i+g.x,r+g.y,a,n,!1),o=d.getTooltipBounds();var u,_,c=this._options.markerSize+4*this._options.lineWidth;l?(u=h?e.x-.75*o.w:e.x+e.w-o.w/4,_=s-o.h/2,!h&&u-i<c?u=i+c:h&&i-(u+o.w)<c&&(u=i-c-o.w)):(u=s-o.w/2,r-((_=e.y-.75*o.h)+o.h)<c&&(_=r-c-o.h)),d.positionTip(u+g.x,_+g.y),(o=d.getTooltipBounds()).x-=g.x,o.y-=g.y}var v=this._cursorLine.getStroke().getWidth(),m=s+Math.ceil(v/2);if(l){var f,x;this._cursorLine.setTranslateY(s),this._cursorOuterLine.setTranslateY(m),h?(f=o?o.x+o.w-1:e.x,x=e.x+e.w):(f=e.x,x=o?o.x+1:e.x+e.w),this._cursorLine.setX1(f),this._cursorLine.setX2(x),this._cursorOuterLine.setX1(f),this._cursorOuterLine.setX2(x)}else{this._cursorLine.setTranslateX(s),this._cursorOuterLine.setTranslateX(m);var C=o?o.y+o.h-1:e.y,S=e.y+e.h;this._cursorLine.setY1(C),this._cursorLine.setY2(S),this._cursorOuterLine.setY1(C),this._cursorOuterLine.setY2(S)}if(this._marker){this._marker.setTranslate(i,r);var A=this._options.markerColor;this._markerInnerShape.setSolidFill(A||n),t.Agent.workaroundFirefoxRepaint(this._marker)}}isHorizontal(){return this._bHoriz}getBehavior(){return this._behavior?this._behavior:"auto"}setBehavior(e){this._behavior=e}}p.TOOLTIP_ID="_dvtDataCursor";const v={getType:e=>"area"==e.type?"area":"line",getLocation:e=>"front"==e.location?"front":"back",getColor:(e,t)=>t.color?t.color:"line"===v.getType(t)?e.getOptions()._defaultReferenceObjectLineColor:e.getOptions()._defaultReferenceObjectAreaColor,getLineWidth:(e,t)=>t.lineWidth?t.lineWidth:parseFloat(e.getOptions()._defaultReferenceObjectLineWidth),getLineType:e=>e.lineType?e.lineType:"straight",isObjRendered:(e,i)=>{var r=d.getHiddenCategories(e);if(r.length>0){var s=v.getRefObjCategories(i);if(s&&t.ArrayUtils.hasAnyItem(r,s))return!1}return"hidden"!==i.visibility},getId:e=>null!=e.id?e.id:e.text,getRefObjCategories:e=>e.categories?e.categories:[v.getId(e)],getRefObj:(e,t)=>{for(var i=d.getRefObjs(e),r=0;r<i.length;r++)if(v.getId(i[r])==t)return i[r]},getLowVal:e=>null==e?null:e.low,getHighVal:e=>null==e?null:e.high,getXVal:(e,t,i)=>d.getXValFromItem(e,t[i],i)},m={getDatatipColor:(e,t,i,r)=>l.isStock(e)?c.getColor(e,0,i):null!=r&&r>=0?c.getMarkerColor(e,t,i,r):c.getColor(e,t,i),getDatatip:(e,i,r,s,a)=>{if(l.isSpark(e)||l.isOverview(e))return null;if(i<0||r<0)return null;var n=e.getOptions().tooltip,o=n?n.renderer:null;if(a&&o){var h=e.getCtx().getTooltipManager(m.isDataCursorEnabled(e)?p.TOOLTIP_ID:null),g=c.getDataContext(e,i,r,s);if(l.isPie(e)){var u=_.getSliceBySeriesIdx(e,i);g.label=u.getSliceLabelString()}else g.label=c.getDataLabel(e,i,r,s);return h.getCustomTooltip(o,g)}var v=d.getNestedDataItem(e,i,r,s);if(v&&null!=v.shortDesc)return v.shortDesc;var f,x=d.getDataItem(e,i,r);return x&&null!=x.shortDesc?t.Displayable.resolveShortDesc(x.shortDesc,()=>c.getShortDescContext(e,i,r,s)):(l.isStock(e)?f=m._getStockDatatip(e,0,r,a):(f=[],m._addSeriesDatatip(f,e,i,r,a),m._addGroupDatatip(f,e,i,r,a),m._addValDatatip(f,e,i,r,s,a)),m._processDatatip(f,e,a))},getOtherSliceDatatip:(e,t,i)=>{var r=e.getOptions().translations.labelOther,s=e.getOptions().tooltip,a=s?s.renderer:null;if(i&&a){var n=_.getSliceBySeriesIdx(e,null),o=c.getDataContext(e,null,0);return o.label=n.getSliceLabelString(),e.getCtx().getTooltipManager().getCustomTooltip(a,o)}var l=[];return m._addDatatipRow(l,e,"series","labelSeries",r,i),m._addGroupDatatip(l,e,0,0,i),m._addDatatipRow(l,e,"value","labelValue",t,i),m._processDatatip(l,e,i)},_processDatatip:(e,i,r)=>0===e.length?null:r?t.HtmlTooltipManager.createElement("table",null,e,["oj-dvt-datatip-table"]):e.join(""),getRefObjTooltip:(e,t,i,r)=>{var s=e.getOptions().tooltip,a=s?s.renderer:null;if(a&&null!=t.id){var n=e.getCtx().getTooltipManager(m.isDataCursorEnabled(e)?p.TOOLTIP_ID:null),o={id:v.getId(t),label:t.text,data:e.getRawOptions()[i].referenceObjects[r],value:t.value,low:v.getLowVal(t),high:v.getHighVal(t),color:v.getColor(e,t)};return n.getCustomTooltip(a,o)}return t.shortDesc},_getStockDatatip:(e,t,i,r)=>{var s=d.getDataItem(e,t,i),a=[];return m._addGroupDatatip(a,e,t,i,r),s&&(m._addDatatipRow(a,e,"open","labelOpen",s.open,r),m._addDatatipRow(a,e,"close","labelClose",s.close,r),m._addDatatipRow(a,e,"high","labelHigh",s.high,r),m._addDatatipRow(a,e,"low","labelLow",s.low,r),m._addDatatipRow(a,e,"volume","labelVolume",s.volume,r)),a},_addSeriesDatatip:(e,t,i,r,s)=>{var a=d.getSeriesLabel(t,i);m._addDatatipRow(e,t,"series","labelSeries",a,s)},_addGroupDatatip:(e,t,i,r,s)=>{var a;if(l.hasTimeAxis(t)){var n=g.getValueFormat(t,"group"),o=d.getXVal(t,i,r);null==(a=g.formatDateVal(n,o))&&(a=t.xAxis.getInfo().formatLabel(o))}else a=d.getGroupLabel(t,r);var h=d.getNumLevels(t),u="labelGroup";if(1!=h&&Array.isArray(a))for(var _=h-1;_>=0;_--)m._addDatatipRow(e,t,"group",u,a[_],s,_),a[_]&&(u=null);else m._addDatatipRow(e,t,"group",u,a,s)},_addValDatatip:(e,t,i,r,s,a)=>{var n=d.getVal(t,i,r,s),o=d.getXVal(t,i,r),h=d.getZVal(t,i,r),g=d.getLowVal(t,i,r),u=d.getHighVal(t,i,r),_=null!=s&&s>=0;if(l.isScatterBubble(t))m._addDatatipRow(e,t,"x","labelX",o,a),m._addDatatipRow(e,t,"y","labelY",n,a),l.isBubble(t)&&m._addDatatipRow(e,t,"z","labelZ",h,a);else if(l.isPie(t)||l.isPyramid(t))m._addDatatipRow(e,t,"value","labelValue",n,a);else if(l.isFunnel(t)){m._addDatatipRow(e,t,"value","labelValue",n,a);var c=d.getTargetVal(t,i);null!=c&&m._addDatatipRow(e,t,"targetValue","labelTargetValue",c,a)}else if("boxPlot"!=d.getSeriesType(t,i)||_){if(l.isBLAC(t)){var p=d.isAssignedToY2(t,i)?"y2":"y";null==g&&null==u||_?null==h||_?m._addDatatipRow(e,t,p,"labelValue",n,a):(m._addDatatipRow(e,t,p,"labelY",n,a),m._addDatatipRow(e,t,"z","labelZ",h,a)):(m._addDatatipRow(e,t,"high","labelHigh",u,a),m._addDatatipRow(e,t,"low","labelLow",g,a),null!=h&&m._addDatatipRow(e,t,"z","labelZ",h,a))}}else{var v=d.getDataItem(t,i,r);m._addDatatipRow(e,t,"high","labelHigh",u,a),m._addDatatipRow(e,t,"q3","labelQ3",v.q3,a),m._addDatatipRow(e,t,"q2","labelQ2",v.q2,a),m._addDatatipRow(e,t,"q1","labelQ1",v.q1,a),m._addDatatipRow(e,t,"low","labelLow",g,a),null!=h&&m._addDatatipRow(e,t,"z","labelZ",h,a)}},_addDatatipRow:(e,i,r,s,a,n,o)=>{if(null!=a&&""!==a){var h,d=i.getOptions().styleDefaults,u=g.getValueFormat(i,r),_=u.tooltipDisplay,c=i.getOptions().translations;if(_&&"auto"!=_||"group"==r&&(l.isPie(i)||l.isFunnel(i))&&(_="off"),"off"!=_)if("string"==typeof u.tooltipLabel?h=u.tooltipLabel:Array.isArray(u.tooltipLabel)&&(h=u.tooltipLabel[o||0]),null==h&&(h=null==s?"":"labelGroup"==s&&l.hasTimeAxis(i)?c.labelDate:c[s]),"series"!=r&&"group"!=r&&(a=g.formatVal(i,u,a)),n){var p=[t.HtmlTooltipManager.createElement("td",d.tooltipLabelStyle,h,["oj-dvt-datatip-label"]),t.HtmlTooltipManager.createElement("td",d.tooltipValueStyle,a,["oj-dvt-datatip-value"])];e.push(t.HtmlTooltipManager.createElement("tr",null,p))}else e.push((e.length>0?"<br>":"")+t.ResourceUtils.format(c.labelAndValue,[h,a]))}},isDataCursorEnabled:e=>{if(l.isPie(e)||l.isFunnel(e)||l.isPolar(e)||l.isPyramid(e))return!1;var i=e.getOptions();return"on"==i.dataCursor||"off"!=i.dataCursor&&(t.Agent.isTouchDevice()&&l.isLineArea(e))},getDataCursorBehavior:e=>{var t=e.getOptions().dataCursorBehavior;return"auto"!==t?t:l.isLineArea(e)?"smooth":"snap"}};class f{constructor(e,i,r,s,a,n){if(this._chart=e,this._displayables=i,this._seriesIndex=null!=r&&r>=0?r:-1,this._groupIndex=null!=s&&s>=0?s:-1,this._itemIndex=null!=a&&a>=0?a:-1,this._dataPos=n,this._isSelected=!1,this._isShowingKeyboardFocusEffect=!1,this._series=d.getSeries(e,r),this._group=d.getGroup(e,s),this._categories=d.getCategories(e,r,s,a),-1!=this._itemIndex)this._dataItemId=d.getNestedDataItemId(e,r,s,a),this._drillable=d.isDataItemDrillable(e,r,s,a);else if(-1!=this._groupIndex){d.getDataItem(e,r,s)&&(this._dataItemId=d.getDataItemId(e,r,s),this._drillable=d.isDataItemDrillable(e,r,s))}else{d.getSeriesItem(e,r)&&(this._drillable=d.isSeriesDrillable(e,r))}if(this._drillable)for(var o=0;o<this._displayables.length;o++)this._displayables[o].setCursor(t.SelectionEffectUtils.getSelectingCursor());for(var l=0;l<i.length;l++){var h=i[l];"lineArea"!==h.chartShapeType&&h.setAriaRole("img"),this._updateAriaLabel(h)}}static associate(e,t,i,r,s,a){if(e&&!t.getOptions()._duringZoomAndScroll){var n=new f(t,[e],i,r,s,a);t.registerObject(n),t.getEventManager().associate(e,n)}}getId(){return this._seriesIndex>=0&&this._groupIndex>=0?new o(this._dataItemId,this.getSeries(),this.getGroup(),this._chart.getCtx()):this._seriesIndex>=0?this.getSeries():null}getDataItemId(){return this._dataItemId}getNestedDataItemIndex(){return this._itemIndex}getSeries(){return this._series}getSeriesIndex(){return this._seriesIndex}getGroup(){return this._group}getGroupIndex(){return this._groupIndex}isDrillable(){return this._drillable}isDoubleClickable(){return this.isSelectable()&&this.isDrillable()}getChart(){return this._chart}getDatatip(){return m.getDatatip(this._chart,this._seriesIndex,this._groupIndex,this._itemIndex,!0)}getDatatipColor(){return m.getDatatipColor(this._chart,this._seriesIndex,this._groupIndex,this._itemIndex)}isSelectable(){return c.isSelectable(this.getChart(),this.getSeriesIndex(),this.getGroupIndex())}isSelected(){return this._isSelected}setSelected(e){this._isSelected=e;for(var t=0;t<this._displayables.length;t++)this._displayables[t].setSelected&&(this._displayables[t].setSelected(e),this._updateAriaLabel(this._displayables[t]))}showHoverEffect(){for(var e=0;e<this._displayables.length;e++)this._displayables[e].showHoverEffect&&this._displayables[e].showHoverEffect()}hideHoverEffect(){for(var e=0;e<this._displayables.length;e++)this._displayables[e].hideHoverEffect&&this._displayables[e].hideHoverEffect()}getDisplayables(){return this._displayables}getAriaLabel(){var e=[],i=this.getChart().getOptions().translations;this.isSelectable()&&e.push(i[this.isSelected()?"stateSelected":"stateUnselected"]),this.isDrillable()&&e.push(i.stateDrillable);var r=m.getDatatip(this._chart,this._seriesIndex,this._groupIndex,this._itemIndex,!1);return null==r&&this._groupIndex<0&&e.length>0&&(r=d.getSeriesLabel(this._chart,this._seriesIndex)),t.Displayable.generateAriaLabel(r,e,()=>c.getShortDescContext(this._chart,this._seriesIndex,this._groupIndex,this._itemIndex,!1))}_updateAriaLabel(e){t.Agent.deferAriaCreation()||e.setAriaProperty("label",this.getAriaLabel())}getCategories(e){return this._categories}getDataPosition(){return this._dataPos}getNextNavigable(e){var i,r;if(i=e.keyCode,e.type==t.MouseEvent.CLICK)return this;if(i==t.KeyboardEvent.SPACE&&e.ctrlKey)return this;for(var s=this._chart,a=s.getChartObjPeers(),n=[],o=0;o<a.length;o++)a[o].isNavigable()&&n.push(a[o]);var h=e.keyCode==t.KeyboardEvent.UP_ARROW||e.keyCode==t.KeyboardEvent.DOWN_ARROW,g=l.isHorizontal(s),u=t.Agent.isRightToLeft(s.getCtx());return l.isScatterBubble(s)||l.isBoxPlot(s)&&(h&&!g||!h&&g)?r=t.KeyboardHandler.getNextAdjacentNavigable(this,e,n):l.isLineArea(s)||d.isStacked(s)||l.isPolar(s)?r=this._findNextNavigable(e):l.isFunnel(s)&&h?(e.keyCode=u?e.keyCode==t.KeyboardEvent.UP_ARROW?t.KeyboardEvent.RIGHT_ARROW:t.KeyboardEvent.LEFT_ARROW:e.keyCode-1,r=t.KeyboardHandler.getNextNavigable(this,e,n)):l.isPyramid(s)&&!h?(e.keyCode=u?e.keyCode==t.KeyboardEvent.RIGHT_ARROW?t.KeyboardEvent.DOWN_ARROW:t.KeyboardEvent.UP_ARROW:e.keyCode==t.KeyboardEvent.RIGHT_ARROW?t.KeyboardEvent.UP_ARROW:t.KeyboardEvent.DOWN_ARROW,r=t.KeyboardHandler.getNextNavigable(this,e,n)):r=t.KeyboardHandler.getNextNavigable(this,e,n,!0),r}getKeyboardBoundingBox(e){return this._displayables[0]?this._displayables[0].getDimensions(e):new t.Rectangle(0,0,0,0)}getTargetElem(){return this._displayables[0]?this._displayables[0].getElem():null}showKeyboardFocusEffect(){this.isNavigable()&&(this._isShowingKeyboardFocusEffect=!0,this.showHoverEffect())}hideKeyboardFocusEffect(){this.isNavigable()&&(this._isShowingKeyboardFocusEffect=!1,this.hideHoverEffect())}isShowingKeyboardFocusEffect(){return this._isShowingKeyboardFocusEffect}isNavigable(){return-1!=this.getGroupIndex()&&-1!=this.getSeriesIndex()}_findNextNavigable(e){var i,r,s,a=e.keyCode,n=this._chart,o=n.getCtx(),h=this.getSeriesIndex(),g=this.getGroupIndex(),u=d.getGroupCount(n),_=l.isHorizontal(n),c=l.isPolar(n),p=t.Agent.isRightToLeft(o),v=_?p?a==t.KeyboardEvent.LEFT_ARROW:a==t.KeyboardEvent.RIGHT_ARROW:a==t.KeyboardEvent.UP_ARROW,m=_?p?a==t.KeyboardEvent.RIGHT_ARROW:a==t.KeyboardEvent.LEFT_ARROW:a==t.KeyboardEvent.DOWN_ARROW,f=_?a==t.KeyboardEvent.UP_ARROW:p?a==t.KeyboardEvent.RIGHT_ARROW:a==t.KeyboardEvent.LEFT_ARROW,x=_?a==t.KeyboardEvent.DOWN_ARROW:p?a==t.KeyboardEvent.LEFT_ARROW:a==t.KeyboardEvent.RIGHT_ARROW,C=d.isStacked(n),S=l.isBar(n);if(v)r=g,i=this._findNextUpSeries(n,h,g);else if(m)r=g,i=this._findNextDownSeries(n,h,g);else if(x||f){i=h,r=g;do{if(r=x?r+1:r-1,c&&r>=u&&(r=0),c&&r<0&&(r=u-1),null==(s=n.getObject(i,r))&&C&&S){var A=this._findFirstSeriesInGroup(n,r);s=n.getObject(A,r)}}while(null==s&&(x&&r<u||f&&r>-1))}return(s=s||n.getObject(i,r))&&s.isNavigable()?s:this}_findNextUpSeries(e,t,i){for(var r=d.isStacked(e),s=d.getSeriesCount(e),a=d.getCumulativeVal(e,t,i),n=null,o=null,l=0;l<s;l++)if(d.isSeriesRendered(e,l)&&null!=d.getVal(e,l,i)&&(!r||null!=e.getObject(l,i))){var h=d.getCumulativeVal(e,l,i);(h>a||h==a&&l>t)&&(null!==n&&h<n||null==n)&&(n=h,o=l)}return o}_findNextDownSeries(e,t,i){for(var r=d.isStacked(e),s=d.getSeriesCount(e),a=d.getCumulativeVal(e,t,i),n=null,o=null,l=s-1;l>=0;l--)if(d.isSeriesRendered(e,l)&&null!=d.getVal(e,l,i)&&(!r||null!=e.getObject(l,i))){var h=d.getCumulativeVal(e,l,i);(h<a||h==a&&l<t)&&(null!==n&&h>n||null==n)&&(n=h,o=l)}return o}_findFirstSeriesInGroup(e,t){for(var i=d.getSeriesCount(e),r=0;r<i;r++)if(d.isSeriesRendered(e,r)&&null!=d.getVal(e,r,t)&&null!=e.getObject(r,t))return r;return null}isDragAvailable(e){return!0}getDragTransferable(){return[this.getId()]}getDragFeedback(){if(this._chart.isSelectionSupported()&&this._chart.getSelectionHandler().getSelectedCount()>1){for(var e=this._chart.getSelectionHandler().getSelection(),t=[],i=0;i<e.length;i++)t=t.concat(e[i].getDisplayables());return t}return this._displayables}}class x{constructor(e,t,i,r,s){this._chart=e,this._displayables=t,this._refObj=i,this._categories=v.getRefObjCategories(this._refObj),this._index=r,this._axisType=s;for(var a=0;a<t.length;a++){var n=t[a];n.setAriaRole("img"),n.setAriaProperty("label",i.shortDesc)}}getCategories(){return this._categories}getDisplayables(){return this._displayables}getIndex(){return this._index}getAxisType(){return this._axisType}getDatatip(){return m.getRefObjTooltip(this._chart,this._refObj,this._axisType,this._index)}getDatatipColor(){return v.getColor(this._chart,this._refObj)}}class C extends t.BaseComponentDefaults{constructor(e){super({alta:{position:null,baselineScaling:"zero",axisLine:{lineColor:"#9E9E9E",lineWidth:1,rendered:"on"},majorTick:{lineColor:"rgba(196,206,215,0.4)",baselineColor:"auto",lineWidth:1,rendered:"auto",lineStyle:"solid"},minorTick:{lineColor:"rgba(196,206,215,0.2)",lineWidth:1,rendered:"off",lineStyle:"solid"},tickLabel:{scaling:"auto",style:new t.CSSStyle(t.BaseComponentDefaults.FONT_FAMILY_ALTA_11+"color: #333333;"),rotation:"auto",rendered:"on"},titleStyle:new t.CSSStyle(t.BaseComponentDefaults.FONT_FAMILY_ALTA_12+"color: #737373;"),startGroupOffset:0,endGroupOffset:0,layout:{titleGap:6,radialLabelGap:5,insideLabelGapWidth:4,insideLabelGapHeight:2,hierarchicalLabelGapHeight:8,hierarchicalLabelGapWidth:15},_locale:"en-us"}},e)}getNoCloneObject(){return{tickLabel:{converter:!0}}}static getGapSize(e,i,r){var s=Math.min(t.TextUtils.getTextStringHeight(e,i.tickLabel.style)/14,1);return Math.ceil(r*s)}}class S extends i.BaseAxisInfo{constructor(e,t,i){super(e,t,i),this._title=null}getLabels(e,t){return null}getTitle(){return this._title}setTitle(e){this._title=e}getMajorTickCoords(){return[]}getMinorTickCoords(){return[]}getBaselineCoord(){return null}getDatatip(e,t){return null}getLabelBackground(e,t){return null}isDrillable(e){return null}isLabelRotated(){return!1}CreateLabel(e,i,r,s,a){var n;if("tangential"==this.Position){var o=16/180*Math.PI,l=1/180*Math.PI,h=.5*this.getTickLabelHeight(),g=this._radius+h;(r<l||r>2*Math.PI-l)&&(g+=h);var d=Math.round(g*Math.sin(r)),u=Math.round(-g*Math.cos(r));n=s?new t.BackgroundOutputText(e,i,d,u,s):new t.OutputText(e,i,d,u),r<l||Math.abs(r-Math.PI)<l||r>2*Math.PI-l?n.alignCenter():r<Math.PI?n.alignLeft():n.alignRight(),Math.abs(r-Math.PI/2)<o||Math.abs(r-3*Math.PI/2)<o?n.alignMiddle():r<Math.PI/2||r>3*Math.PI/2?n.alignBottom():n.alignTop()}else a?n=s?new t.BackgroundMultilineText(e,i,r,r,s):new t.MultilineText(e,i,r,r):(n=s?new t.BackgroundOutputText(e,i,r,r,s):new t.OutputText(e,i,r,r)).alignMiddle(),n.alignCenter();return(n instanceof t.OutputText||n instanceof t.MultilineText)&&n.setCSSStyle(this.Options.tickLabel.style),n}IsOverlapping(e,i,r){if(!e||e.length<=0)return!1;for(var s,a,n,o,l="left"==this.Position||"right"==this.Position||"radial"==this.Position,h=t.Agent.isRightToLeft(this.getCtx()),g=this.GetTickLabelGapSize(),d=0;d<e.length;d+=i+1)if(null!=e[d]){if(null!=r&&e[d].w>r[d])return!0;if(null!=s&&null!=a){if(l){if(n=e[d].y,o=e[d].y+e[d].h,n>=s&&n-g<a)return!0;if(n<s&&o+g>s)return!0}else{if(n=e[d].x,o=e[d].x+e[d].w,!h&&n-g<a)return!0;if(h&&o+g>s)return!0}s=n,a=o}else l?(s=e[d].y,a=e[d].y+e[d].h):(s=e[d].x,a=e[d].x+e[d].w)}return!1}IsOverlappingDims(e,t){if(!e||!t)return!1;var i=e.y,r=e.y+e.h,s=e.x,a=e.x+e.w,n=t.y,o=t.y+t.h,l=t.x,h=t.x+t.w;return(s<=l&&l<=a||s<=h&&h<=a||l<=s&&s<=h||l<=a&&a<=h)&&(n>=i&&n<r||n<=i&&o>=i)}GetTickLabelGapSize(){var e=this.getTickLabelHeight(),t=this instanceof S._constructors.group?.24*e:.79*e,i=this instanceof S._constructors.group?.08*e:.28*e;return"left"==this.Position||"right"==this.Position||"radial"==this.Position||this.isLabelRotated()?i:t}getTickLabelHeight(){return t.TextUtils.getTextStringHeight(this.getCtx(),this.Options.tickLabel.style)}SkipLabels(e,t){for(var i=0,r=this.IsOverlapping(t,i);r;)i++,r=this.IsOverlapping(t,i);if(i>0){for(var s=[],a=0;a<e.length;a+=i+1)s.push(e[a]);return s}return e}SkipTangentialLabels(e,t){var i=[],r=e.length,s=null;if(r>1){for(var a,n=0;n<r;n++)t[n]&&(!a||a&&!this.IsOverlappingDims(a,t[n]))&&(s||(s=t[n]),i.push(e[n]),a=t[n]);return this.IsOverlappingDims(a,s)&&i.pop(),i}return e}GetLabelDims(e,t,i){for(var r=[],s=this.isLabelRotated(i),a=0;a<e.length;a++){var n=e[a];if(null!=n){var o=n.getDimensions(t);null!=i&&(o.x=(s?n.getTranslateX():n.getX())-o.w/2,o.y=(s?n.getTranslateY():n.getY())-o.h/2),o.w&&o.h?r.push(o):r.push(null)}else r.push(null)}return r}getMajorTickCount(){return null}getMinorTickCount(){return null}getMajorIncrement(){return null}getMinorIncrement(){return null}getGlobalMin(){return this.GlobalMin}getGlobalMax(){return this.GlobalMax}getViewportMin(){return this.MinValue}getViewportMax(){return this.MaxValue}getDataMin(){return this.DataMin}getDataMax(){return this.DataMax}getMinExtent(){return 0}getStartCoord(){return this.StartCoord}getEndCoord(){return this.EndCoord}getStartOverflow(){return this.StartOverflow}getEndOverflow(){return this.EndOverflow}getGroupWidth(){return 0}getGroup(e,t){return null}linearToActual(e){return e}actualToLinear(e){return e}alignLogScaleToTickCount(e,t){return e}getLogScaleUnit(){return null}static registerConstructor(e,t){S._constructors[e]=t}static getConstructor(e){return S._constructors[e]}static newInstance(e,t,i){return t.timeAxisType&&"disabled"!=t.timeAxisType?new S._constructors.time(e,t,i):t._isGroupAxis?new S._constructors.group(e,t,i):new S._constructors.data(e,t,i)}}S._constructors=[];class A extends t.TextObjPeer{constructor(e,i,r,s,a,n,o){super(e,i,a,n,null,o),this._axis=e,this._label=i,this._group=r,this._drillable=s,this._drillable&&i.setCursor(t.SelectionEffectUtils.getSelectingCursor()),e.__registerObject(this)}getLabel(){return this._label}getId(){return this._group}isDrillable(){return this._drillable}getGroup(){return this._group}getNextNavigable(e){if(e.type==t.MouseEvent.CLICK)return this;var i=this._axis.__getKeyboardObjects();return t.KeyboardHandler.getNextNavigable(this,e,i,!1,this._axis.getCtx().getStage())}getAriaLabel(){var e;return this.isDrillable()&&(e=[this._axis.getOptions().translations.stateDrillable]),null!=this.getDatatip()?t.Displayable.generateAriaLabel(this.getDatatip(),e):null!=e?t.Displayable.generateAriaLabel(this.getLabel().getTextString(),e):void 0}isDragAvailable(e){return!0}getDragTransferable(e,t){return[this.getId()]}getDragFeedback(e,t){return[this.getDisplayable()]}}class b extends t.EventManager{constructor(e){super(e.getCtx(),e.processEvent,e,e),this._axis=e}OnClick(e){super.OnClick(e);var t=this.GetLogicalObject(e.target);t&&(this.processDrillEvent(t)&&e.stopPropagation())}HandleTouchClickInternal(e){var t=this.GetLogicalObject(e.target);if(t){var i=e.touchEvent;this.processDrillEvent(t)&&i&&i.preventDefault()}}processDrillEvent(e){return!!(e instanceof A&&e.isDrillable())&&(this.FireEvent(t.EventFactory.newChartDrillEvent(e.getId(),null,e.getGroup(),"group"),this._axis),!0)}isDndSupported(){return!0}GetDragSourceType(){var e=this.DragSource.getDragObject();return e instanceof A&&null!=e.getGroup()?"groups":null}GetDragDataContexts(e){var i=this.DragSource.getDragObject();if(i instanceof A){var r={id:i.getId(),group:i.getGroup(),label:i.getLabel().getTextString()};return e&&t.ToolkitUtils.cleanDragDataContext(r),[r]}return[]}static getUIParams(e,t,i,r){return{type:e,id:t,index:i,level:r}}}const y={_PREFERRED_TITLE_PROPORTION:.8,_MAX_TITLE_LINE_WRAP:3,getPreferredSize:(e,i,r,s)=>{var a=y._createAxisInfo(e,new t.Rectangle(0,0,i,r)),n=e.getCtx(),o=e.getOptions(),l="top"==o.position||"bottom"==o.position;if(("off"==o.rendered||i<=0||r<=0)&&!s)return l?new t.Dimension(i,0):new t.Dimension(0,r);var h=(l?i:r)*y._PREFERRED_TITLE_PROPORTION,g=(l?r:i)*y._PREFERRED_TITLE_PROPORTION,d=y.getTitleHeight(n,o,h,g),u=d.height;e.getOptionsCache().putToCache("prefTitleLineCount",d.lineCount),e.getOptionsCache().putToCache("prefAvailableTitleWidth",h);var _=0!=u?u+y._getTitleGap(e):0;if("on"==o.tickLabel.rendered&&"inside"!=o.tickLabel.position)if(l){var c=t.TextUtils.getTextStringHeight(n,o.tickLabel.style);a instanceof S.getConstructor("data")?_+=c:a instanceof S.getConstructor("time")?_+=null!=a.getLabels(n,1)?2*c:c:a instanceof S.getConstructor("group")&&(_=y._getGroupAxisPreferredSize(e,a,_,r,l))}else if(a instanceof S.getConstructor("data"))_+=t.TextUtils.getMaxTextStringWidth(n,a.getAllLabels(n,!0),a.Options.tickLabel.style);else if(a instanceof S.getConstructor("time")){var p=a.getLabels(n),v=t.TextUtils.getMaxTextDimensions(p).w,m=a.getLabels(n,1),f=null!=m?t.TextUtils.getMaxTextDimensions(m).w:0;_+=Math.max(v,f)}else a instanceof S.getConstructor("group")&&(_=y._getGroupAxisPreferredSize(e,a,_,i,l));return l?new t.Dimension(i,Math.min(_,r)):new t.Dimension(Math.min(_,i),r)},render:(e,t)=>{var i=y._createAxisInfo(e,t);"off"!=e.getOptions().rendered&&(e.__setBounds(t.clone()),y._renderBackground(e,t),y._renderTitle(e,i,t),y._renderLabels(e,i,t))},_createAxisInfo:(e,t)=>{var i=S.newInstance(e.getCtx(),e.getOptions(),t);return e.__setInfo(i),i},_getTitleGap:e=>{var t=e.getOptions();return C.getGapSize(e.getCtx(),t,t.layout.titleGap)},_renderBackground:(e,i)=>{var r=e.getOptions();if(r.dnd){var s=r.dnd.drop,a=Object.keys(s.xAxis).length>0||Object.keys(s.yAxis).length>0||Object.keys(s.y2Axis).length>0,n=r.dnd.drag,o=Object.keys(n.groups).length>0&&e.getInfo()instanceof S.getConstructor("group");if(a||o){var l=r.position,h="top"==l||"bottom"==l,g=h?4:10,d=h?10:4,u=new t.Rect(e.getCtx(),i.x-d,i.y-g,i.w+2*d,i.h+2*g);o&&u.setClassName("oj-draggable"),u.setInvisibleFill(),e.getCache().putToCache("background",u),e.addChild(u)}}},_renderTitle:(e,i,r)=>{var s=e.getOptions();if(s.title){var a=s.position;if("radial"!==a&&"tangential"!==a){var n,o="top"===s.position||"bottom"===s.position,l=o?r.w:r.h,h=o?r.h:r.w,g=s.titleStyle,d=y.isWrapEnabled(g);e.getOptionsCache().getFromCache("prefAvailableTitleWidth")>l&&(n=e.getOptionsCache().getFromCache("prefTitleLineCount"));var u=y._createText(e.getEventManager(),e,s.title,g,0,0,l,h,b.getUIParams("title"),d,n);if(u){var _=y._getTitleGap(e),c=(i.getStartOverflow()-i.getEndOverflow())/2,p=t.Agent.isRightToLeft(e.getCtx()),v=u.getDimensions().h;u.alignCenter(),"top"===a?(u.setX(r.x+c+r.w/2),u.setY(r.y),r.y+=v+_,r.h-=v+_):"bottom"===a?(u.setX(r.x+c+r.w/2),u.setY(r.y+r.h-v),r.h-=v+_):"left"===a?(u.alignMiddle(),u.setRotation(p?Math.PI/2:3*Math.PI/2),u.setTranslate(r.x+v/2,r.y+r.h/2),r.x+=v+_,r.w-=v+_):"right"===a&&(u.alignMiddle(),u.setRotation(p?Math.PI/2:3*Math.PI/2),u.setTranslate(r.x+r.w-v/2,r.y+r.h/2),r.w-=v+_),i.setTitle(u)}}}},_renderLabels:(e,t,i)=>{var r=e.getOptions();if("on"==r.tickLabel.rendered){var s=r.position;"top"===s||"bottom"===s?y._renderLabelsHoriz(e,t,i):"tangential"===s?y._renderLabelsTangent(e,t,i):y._renderLabelsVert(e,t,i),y._renderGroupSeparators(e,t,i)}},_renderLabelsHoriz:(e,i,r)=>{var s=e.getCtx(),a=e.getOptions(),n=a.position,o="inside"==a.tickLabel.position,l=t.Agent.isRightToLeft(s),h=i instanceof S.getConstructor("group"),g=h&&i.getNumLevels()>1,d=g?0:null,u=i.getLabels(s,d);for(f=g?C.getGapSize(s,a,a.layout.hierarchicalLabelGapHeight):0;u;){for(var _=0,c=0,p=0;p<u.length;p++){var v=u[p];if(null!=v){var m=v instanceof t.MultilineText||v instanceof t.BackgroundMultilineText;if(i.isLabelRotated(d)){if((!m||m&&!v.isWrapEnabled())&&!t.TextUtils.fitText(v,r.h,r.w,e))continue;l?v.alignLeft():v.alignRight(),g?(_=v.getDimensions().w,v.setTranslateY(r.h-_),c=Math.max(c,_)):v.setTranslateY(r.y)}else{if(!o&&v.getDimensions().h-1>r.h)continue;if(g&&"bottom"===n?v.setY(r.h):"bottom"===n?v.setY(r.y):v.setY(r.y+r.h),!g&&("bottom"===n&&!o||"top"===n&&o)||g&&"top"===n?v.alignTop():v.alignBottom(),g)c=Math.max(c,v.getDimensions().h);else if(o){var f=C.getGapSize(s,a,a.layout.insideLabelGapWidth);l?v.alignRight():v.alignLeft(),v.setX(v.getX()+f*(l?-1:1))}}var x=h?i.getLabelIdx(v):p,y=i.getDatatip(x,d),M=v.getUntruncatedTextString(),T=i.isDrillable(x,d),D=i.getGroup(x,d),I=b.getUIParams("tickLabel",v.getTextString(),x,d);e.getEventManager().associate(v,new A(e,v,D,T,M,y,I)),g?i.setLastRenderedLevel(d):c=Math.max(c,v.getDimensions().h),e.addChild(v)}}if(g){for(p=0;p<u.length;p++)if(null!=(v=u[p])){var O=i.isLabelRotated(d),E=d<i.getNumLevels()-1;!O&&E?(v.setY(r.h-c/2),v.alignMiddle()):v.setTranslateY(r.h-c)}r.y+=c+f,r.h-=c+f,d++,u=i.getLabels(e.getCtx(),d)}else r.y+=c,r.h-=c,u=null}if(i instanceof S.getConstructor("time")){u=i.getLabels(e.getCtx());var P=i.getLabels(e.getCtx(),1),L=0;if(null!=P)for(p=0;p<P.length;p++)if(null!=(v=P[p])&&!(v.getDimensions().h-1>r.h)){e.getEventManager().associate(v,new t.SimpleObjPeer(null,null,null,b.getUIParams("tickLabel",v.getTextString())));var w=0,R=0,k=i.getOptions()._maxOverflowCoord,B=i.getOptions()._minOverflowCoord;if(null!=u[p]&&(L=u[p].getDimensions().w/2,w=i._level1Overflow[p],R=i._level2Overflow[p]),0==w&&0==R){var F,N=v.getX();l?(F=N+L<=k?N+L:k,v.setX(F)):(F=N-L>=B?N-L:B,v.setX(F))}else w<0?v.setX(B):w>0&&v.setX(k);v.alignTop(),v.setY(r.y),e.addChild(v)}}},_renderLabelsVert:(e,i,r)=>{var s,a,n,o=e.getOptions(),l=o.position,h=e.getCtx(),g=t.Agent.isRightToLeft(h),d=i instanceof S.getConstructor("data"),u="inside"==o.tickLabel.position,_=i instanceof S.getConstructor("group"),c=_&&i.getNumLevels()>1,p=c?0:null;s=i.getLabels(e.getCtx(),p);var v=0;c?(a=C.getGapSize(h,o,o.layout.hierarchicalLabelGapWidth),n=t.TextUtils.getMaxTextDimensions(s).w):"radial"===l?(a=C.getGapSize(h,o,o.layout.radialLabelGap),v=r.x+r.w/2,g?v+=a+t.TextUtils.getMaxTextDimensions(s).w:v-=a):"left"===l?(v=r.x+r.w,d&&u&&(v+=t.TextUtils.getMaxTextDimensions(s).w)):(v=r.x,d&&!u&&(v+=t.TextUtils.getMaxTextDimensions(s).w));for(var m=(a,m)=>{var f=a instanceof t.MultilineText||a instanceof t.BackgroundMultilineText,x=!f||f&&!a.isWrapEnabled();if(!(c&&t.TextUtils.getMaxTextDimensions(s).w-1>r.w)&&(c||u||!x||t.TextUtils.fitText(a,r.w,r.h,e))){m=_?i.getLabelIdx(a):m;var S=i.getDatatip(m,p),y=a.getUntruncatedTextString(),M=i.isDrillable(m,p),T=i.getGroup(m,p),D=b.getUIParams("tickLabel",a.getTextString(),m,p);if(e.getEventManager().associate(a,new A(e,a,T,M,y,S,D)),c)a.alignRight(),a.setX(g?r.w:r.x+n),i.setLastRenderedLevel(p);else if(a.setX(v),d||"right"!=l?a.alignRight():a.alignLeft(),u&&(a.alignBottom(),a.setY(a.getY()-C.getGapSize(h,o,o.layout.insideLabelGapHeight))),"radial"===l){var I=a.getY();a.setY(r.y+r.h/2-I);var O=a.getDimensions(),E=.15*O.h,P=t.PathUtils.roundedRectangle(O.x-E,O.y,O.w+2*E,O.h,2,2,2,2),L=new t.Path(e.getCtx(),P),w=a.getCSSStyle().getStyle(t.CSSStyle.BACKGROUND_COLOR),R=I+O.h/2>i.getEndCoord()&&"circle"==e.getOptions().polarGridShape?"outside":"inside";w?L.setSolidFill(w):L.setClassName("oj-chart-polar-axis-tick-label-"+R),e.addChild(L)}e.addChild(a)}};s;){for(var f=0;f<s.length;f++){var x=s[f];null!=x&&m(x,f)}if(!c)break;r.x+=n+a,r.w-=n+a,p++,s=i.getLabels(e.getCtx(),p),n=s?t.TextUtils.getMaxTextDimensions(s).w:null}if(i instanceof S.getConstructor("time")){var y=i.getLabels(e.getCtx(),1);if(null!=y)for(f=0;f<y.length;f++)null!=(x=y[f])&&m(x,f)}},_renderLabelsTangent:(e,i,r)=>{for(var s=i.getLabels(e.getCtx()),a=0;a<s.length;a++){var n=s[a];if(null!=n){var o=r.w/2-Math.abs(n.getX()),l=r.h/2-Math.abs(n.getY());if(t.TextUtils.fitText(n,o,l,e)){var h=i instanceof S.getConstructor("group")?i.getLabelIdx(n):a,g=i.getDatatip(h),d=n.getUntruncatedTextString(),u=i.isDrillable(h),_=i.getGroup(h),c=b.getUIParams("tickLabel",n.getTextString(),h,null);e.getEventManager().associate(n,new A(e,n,_,u,d,g,c)),n.setTranslateX(r.x+r.w/2),n.setTranslateY(r.y+r.h/2),e.addChild(n)}}}},_createText:(e,i,r,s,a,n,o,l,h,g,d)=>{var u;return g?((u=new t.MultilineText(i.getCtx(),r,a,n)).setMaxLines(null!=d?d:y._MAX_TITLE_LINE_WRAP),u.setCSSStyle(s),u.wrapText(o,l,1)):(u=new t.OutputText(i.getCtx(),r,a,n)).setCSSStyle(s),t.TextUtils.fitText(u,o,l,i)?(e.associate(u,new t.SimpleObjPeer(u.getUntruncatedTextString(),null,null,h)),u):null},_renderGroupSeparators:(e,i,r)=>{if(i instanceof S.getConstructor("group")&&i.areSeparatorsRendered()){var s=i.getNumLevels(),a=i.getSeparatorStartLevel();if(s<=1||a<=0)return;for(var n,o,l,h,g,d,u=e.getOptions(),_=u.position,c="top"==_||"bottom"==_,p=e.getCtx(),v=t.Agent.isRightToLeft(p),m=i.getSeparatorColor(),f=new t.Stroke(m,1,1),x=0,A=c?C.getGapSize(p,u,u.layout.hierarchicalLabelGapHeight):C.getGapSize(p,u,u.layout.hierarchicalLabelGapWidth),b=u.startGroupOffset,M=u.endGroupOffset,T=a;T>=0;T--){var D=i.getLabels(e.getCtx(),T),I=t.TextUtils.getMaxTextDimensions(D),O=i.isLabelRotated(T),E=O||!c?I.w:I.h;if(0!=E){var P=!1,L=null;if(T<a)for(var w=0;w<D.length;w++){var R=D[w];if(null!=R){var k=i.getLabelIdx(R),B=0==i.getLabelAt(k,T).length;if(!B){var F=B&&0==T&&(0==k||k==D.length-1),N=R&&null==D[k-1],G=R&&null==D[k+1],H=i.getStartIdx(k,T),U=i.getEndIdx(k,T);if(c){var V;if(R)V=R instanceof t.MultilineText||R instanceof t.BackgroundMultilineText?R.getYAlignCoord():R.getY(),n=i.getCoordAt(H-b),o=O?V+.5*x:V-E/2-.5*x-A,l=i.getCoordAt(U+M),h=O?V+E+x+2*A:V,B&&F||0!=P||null==n||y._addSeparatorLine(e,f,n,h,n,o),null==l||F||y._addSeparatorLine(e,f,l,h,l,o);if(!B){if(R)var Y=O?R.getDimensions().h:R.getDimensions().w;n=N&&0==L?i.getStartCoord():i.getBoundedCoordAt(H-b),N&&(N=!1);var W=i.getLabelAt(k+1,T);if(l=G&&W&&W.length>0?i.getEndCoord():i.getBoundedCoordAt(U+M),g=R?v?R.getX()+.5*Y:R.getX()-.5*Y:i.getBoundedCoordAt(U+M),d=R?v?R.getX()-.5*Y:R.getX()+.5*Y:i.getBoundedCoordAt(H-b),R)if(O)y._addSeparatorLine(e,f,n,h,l,h);else{var j=v?.5*-R.getDimensions().h:.5*R.getDimensions().h,z=v?d+j>l:d+j<l;(v?n>g-j:n<g-j)&&y._addSeparatorLine(e,f,n,h,g-j,h),z&&y._addSeparatorLine(e,f,d+j,h,l,h)}}}else R&&(n=v?R.getX()-E-.5*A:R.getX()+.5*A,o=i.getCoordAt(H-b),l=v?R.getX()+.5*A:R.getX()-E-.5*A,h=i.getCoordAt(U+M),(!B&&0==P||0==k&&B&&0!=T)&&null!=o&&y._addSeparatorLine(e,f,n,o,l,o),null==h||F||y._addSeparatorLine(e,f,l,h,n,h)),B||(o=N&&0==L?0:i.getBoundedCoordAt(H-b),N&&(N=!1),W=i.getLabelAt(k+1,T),h=G&&W&&W.length>0?i.getEndCoord():i.getBoundedCoordAt(U+M),R&&y._addSeparatorLine(e,f,l,o,l,h));P=!B&&null!=R,L=null!=R||null==R&&B}}}x=E}else x=E}}},_addSeparatorLine:(e,i,r,s,a,n)=>{var o=new t.Line(e.getCtx(),r,s,a,n);o.setStroke(i),o.setPixelHinting(!0),e.addChild(o)},_getGroupAxisPreferredSize:(e,i,r,s,a)=>{for(var n=e.getCtx(),o=e.getOptions(),l=i.getNumLevels(),h=a?"hierarchicalLabelGapHeight":"hierarchicalLabelGapWidth",g=l>1?C.getGapSize(n,o,o.layout[h]):0,d=0;d<l;d++){var u;if(i.isAutoRotate()){for(var _=[],c=[],p=i.getSkipIncrement(),v=0;v<i.getGroupCount();v+=p){_.push(i.getLabelAt(v,0));var m=i.getLabelStyleAt(v,0);m||(m=i.Options.tickLabel.style),c.push(m)}u=t.TextUtils.getMaxTextStringWidth(n,_,c)}else{var f=i.getLabels(n,d);if(a){var x=t.TextUtils.getMaxTextDimensions(f);u=i.isLabelRotated(d)?x.w:x.h}else u=t.TextUtils.getMaxTextDimensions(f).w}if(!(r+u<=s)){0==d&&(r=s);break}r+=u+g}return 0!=d&&(r-=g),r},getTitleHeight:(e,i,r,s)=>{var a,n=0;return i.title&&(y.isWrapEnabled(i.titleStyle)?((a=new t.MultilineText(e,i.title,0,0)).setMaxLines(y._MAX_TITLE_LINE_WRAP),a.setCSSStyle(i.titleStyle),a.wrapText(r,s,1),n=t.TextUtils.getTextStringHeight(e,i.titleStyle)*a.getLineCount()):n=t.TextUtils.getTextStringHeight(e,i.titleStyle)),{height:n,lineCount:a?a.getLineCount():0}},isWrapEnabled:e=>{var i=e.getStyle(t.CSSStyle.WHITE_SPACE);return"nowrap"!=i&&"noWrap"!=i}};class M extends S{constructor(e,i,r){super(e,i,r),this._MAX_LINE_WRAP=3,this._ROTATE_THRESHOLD=12;var s=t.Agent.isRightToLeft(e),a="top"==this.Position||"bottom"==this.Position;if(a&&s){var n=this.StartCoord;this.StartCoord=this.EndCoord,this.EndCoord=n}this._levelsArray=[],this._groupCount=this._generateLevelsArray(i.groups,0,this._levelsArray,0),this._numLevels=this._levelsArray.length,this._areSeparatorsRendered="off"!=i.groupSeparators.rendered,this._separatorColor=i.groupSeparators.color,this._lastRenderedLevel=null,this._drilling=i.drilling;var o=i.endGroupOffset>0?Number(i.endGroupOffset):0,l=i.startGroupOffset>0?Number(i.startGroupOffset):0;this.DataMin=0,this.DataMax=this._groupCount-1,this.GlobalMin=null==i.min?this.DataMin-l:i.min,this.GlobalMax=null==i.max?this.DataMax+o:i.max;var h=this.getGroupIndex(i.viewportStartGroup),g=this.getGroupIndex(i.viewportEndGroup);-1!=h&&(this.MinValue=h-l),-1!=g&&(this.MaxValue=g+o),null!=i.viewportMin&&(this.MinValue=i.viewportMin),null!=i.viewportMax&&(this.MaxValue=i.viewportMax),null==this.MinValue&&(this.MinValue=this.GlobalMin),null==this.MaxValue&&(this.MaxValue=this.GlobalMax),this.GlobalMin>this.MinValue&&(this.GlobalMin=this.MinValue),this.GlobalMax<this.MaxValue&&(this.GlobalMax=this.MaxValue),this._groupWidthRatios=i._groupWidthRatios,this._processGroupWidthRatios(),this._startBuffer=s?i.rightBuffer:i.leftBuffer,this._endBuffer=s?i.leftBuffer:i.rightBuffer,this._isLabelRotated=[];for(var d=0;d<this._numLevels;d++)this._isLabelRotated.push(!1);if(this._renderGridAtLabels=i._renderGridAtLabels,this._labels=null,this._maxSpace=a?r.h:r.w,"off"!=i.rendered){var u=y.getTitleHeight(e,i,a?r.w:r.h,a?r.h:r.w).height;this._maxSpace-=0!=u?u+C.getGapSize(e,i,i.layout.titleGap):0}this._maxLineWrap=this._MAX_LINE_WRAP}_processGroupWidthRatios(){if(!this._groupWidthRatios||this._groupWidthRatios.length<2)this._groupWidthRatios=null;else{for(var e,t,i=0,r=0;r<this._groupCount;r++)e=0==r?this.MinValue:Math.max(r-.5,this.MinValue),(t=r==this._groupCount-1?this.MaxValue:Math.min(r+.5,this.MaxValue))>e&&(i+=(t-e)*this._groupWidthRatios[r]);var s=this.EndCoord-this.StartCoord;this._groupWidths=this._groupWidthRatios.map(e=>e*s/i),this._borderValues=[];for(r=0;r<this._groupWidthRatios.length-1;r++)this._borderValues.push(r+.5);this._borderCoords=[];var a=Math.min(Math.max(Math.round(this.MinValue),0),this._borderValues.length-1);this._borderCoords[a]=this.StartCoord+(this._borderValues[a]-this.MinValue)*this._groupWidths[a];for(r=a+1;r<this._borderValues.length;r++)this._borderCoords[r]=this._borderCoords[r-1]+this._groupWidths[r];for(r=a-1;r>=0;r--)this._borderCoords[r]=this._borderCoords[r+1]-this._groupWidths[r+1]}}_rotateLabels(e,i,r,s){var a,n,o=this.getCtx(),l=t.Agent.isRightToLeft(o),h=this._numLevels>1;null==s&&(s=this._numLevels-1),this._isLabelRotated[s]=!0,h||this._setOverflow(r,r,e);for(var g=0;g<e.length;g++)if(null!=(a=e[g])){if(n=a.getX(),a instanceof t.MultilineText||a instanceof t.BackgroundMultilineText){var d=this.getGroupWidth()*(this.getEndIdx(g,s)-this.getStartIdx(g,s)+1);2*a.getLineHeight()<d&&this._maxSpace>0?a.wrapText(this._maxSpace,a.getLineHeight()*this._MAX_LINE_WRAP,1):a.setWrapEnabled(!1)}a.setX(0),a.setY(0),l?a.setRotation(Math.PI/2):a.setRotation(3*Math.PI/2),a.setTranslateX(n)}var u=this.GetLabelDims(e,i,s);y.isWrapEnabled(this.Options.tickLabel.style)&&this._maxSpace>0&&(this._sanitizeWrappedText(o,u,e,!0,h)&&(u=this.GetLabelDims(e,i,s)));return this.SkipLabels(e,u)}_sanitizeWrappedText(e,i,r,s,a){for(var n=this._calculateMaxWrap(i,r,s),o=0,l=0;l<r.length;l++){var h=r[l];if(h){var g=h instanceof t.MultilineText||h instanceof t.BackgroundMultilineText;n&&g&&h.isWrapEnabled()&&h.wrapText(this._maxSpace,h.getLineHeight()*this._maxLineWrap,1),a&&(o=Math.max(o,h.getDimensions().w)),h.alignMiddle()}}if(a){var d=s?this.Options.layout.hierarchicalLabelGapHeight:this.Options.layout.hierarchicalLabelGapWidth;this._maxSpace-=o+C.getGapSize(e,this.Options,d)}return n}_calculateMaxWrap(e,i,r){for(var s=!1;this.IsOverlapping(e,0)&&this._maxLineWrap>1;){s=!0;for(var a=0;a<i.length;a++){var n=i[a];if((n instanceof t.MultilineText||n instanceof t.BackgroundMultilineText)&&n.getLineCount()==this._maxLineWrap){var o=n.getLineHeight();r?e[a].w-=o:(e[a].y+=.5*o,e[a].h-=o)}}this._maxLineWrap--}return s}isLabelRotated(e){return null==e&&(e=this._numLevels-1),this._isLabelRotated[e]}_setOverflow(e,i,r){e=Math.max(e-this._startBuffer,0),i=Math.max(i-this._endBuffer,0);var s=t.Agent.isRightToLeft(this.getCtx());this.StartCoord+=(e-this.StartOverflow)*(s?-1:1),this.EndCoord-=(i-this.EndOverflow)*(s?-1:1),this._processGroupWidthRatios();for(var a=0;a<this._numLevels;a++){r=this._labels[a];for(var n=0;n<r.length;n++){var o=r[n];if(o){var l=this._getLabelCoord(a,this.getLabelIdx(o));this._numLevels>1?o.setTranslateX(l):o.setX(l)}}}this.StartOverflow=e,this.EndOverflow=i}getLabels(e,t){return null==t&&(t=this._numLevels-1),this._labels||this._generateLabels(e),this._labels[t]}_getLabelCoord(e,t){var i=this.getStartIdx(t,e),r=this.getEndIdx(t,e);if(null==i||null==r)return null;i<this.MinValue&&r>this.MinValue&&(i=this.MinValue),r>this.MaxValue&&i<this.MaxValue&&(r=this.MaxValue);var s=r?i+(r-i)/2:i;return this.getCoordAt(s)}_generateLabels(e){var i=[];this._labels=[];for(var r,s,a,n,o,l=e.getStage(),h="top"==this.Position||"bottom"==this.Position,g=t.Agent.isRightToLeft(e),d=this._numLevels>1,u=this.getGroupWidth(),_=this._maxSpace,c=h?"hierarchicalLabelGapHeight":"hierarchicalLabelGapWidth",p=d?C.getGapSize(e,this.Options,this.Options.layout[c]):0,v="auto"==this.Options.tickLabel.rotation&&h,m={},f=this.isAutoRotate(),x=this.Options.tickLabel.style,S=y.isWrapEnabled(this.Options.tickLabel.style)&&"tangential"!=this.Position&&u>t.TextUtils.getTextStringHeight(e,x),A=0;A<this._numLevels;A++){var b=this._levelsArray[A],M=f?this.getSkipIncrement():1;m[A]=[];for(var T=0;T<b.length;T+=M)if(b[T]){if(""===(r=this.getLabelAt(T,A))||!r&&0!=r){i.push(null);continue}var D=this._getLabelCoord(A,T);if(null!=D){n=this.getLabelStyleAt(T,A);var I=!f&&S&&"number"!=typeof r&&r.indexOf(" ")>=0;o=this.CreateLabel(e,r,D,n,I),this.isDrillable(T,A)&&!I&&o.setAriaProperty("hidden",null);var O=u*(this.getEndIdx(T,A)-this.getStartIdx(T,A)+1);m[A].push(O),I&&this._isTextWrapNeeded(e,r,n,v,h?O:_)&&_>0?h?o.wrapText(O,_,1,!0):o.wrapText(_,o.getLineHeight()*this._maxLineWrap,1,!1):I&&(!h||_<0)&&o.setWrapEnabled(!1),o._index=T,i.push(o),s||0!=A||(s=o),0==A&&(a=o)}else i.push(null)}else i.push(null);if(S&&d){for(var E=0,P=0;P<i.length;P++)if(i[P]){var L=i[P].getDimensions();E=Math.max(E,h?L.h:L.w)}_-=E+p}this._labels.push(i),i=[]}i=this._labels[this._numLevels-1];var w=[];if(s){if("tangential"==this.Position)return w=this.GetLabelDims(i,l),void(this._labels[0]=this.SkipTangentialLabels(i,w));var R=s.getDimensions(),k=!1;if(h){var B,F;if(null!=this.Options._startOverflow&&null!=this.Options._endOverflow)B=this.Options._startOverflow,F=this.Options._endOverflow;else{var N=a.getDimensions();B=g?R.w+R.x-this.StartCoord:this.StartCoord-R.x,F=g?this.EndCoord-N.x:N.w+N.x-this.EndCoord}k=B>this._startBuffer||F>this._endBuffer}for(A=0;A<this._numLevels;A++)if(i=this._labels[A],f)this._labels[A]=this._rotateLabels(i,l,R.h/2,A);else{w=this.GetLabelDims(i,l,A);var G=this.IsOverlapping(w,0,m[A]);if(G||(this._labels[A]=i),h)if(v){if(G)this._labels[A]=this._rotateLabels(i,l,R.h/2,A);else if(k&&this._setOverflow(B,F,i),this._labels[A]=i,d){var H=0;for(P=0;P<w.length;P++)w[P]&&(H=Math.max(H,w[P].h));this._maxSpace-=H+p}}else k&&this._setOverflow(B,F,i),w=this.GetLabelDims(i,l),this._labels[A]=this.SkipLabels(i,w);else{if(S)this._sanitizeWrappedText(e,w,i,!1,d)&&(w=this.GetLabelDims(i,l,A));this._labels[A]=this.SkipLabels(i,w)}}}}getMajorTickCoords(){for(var e,t=[],i="tangential"==this.Position?this.getGroupCount():this.getGroupCount()-1,r=0;r<this._levelsArray[0].length;r++)if(this._levelsArray[0][r]){var s=this.getStartIdx(r,0),a=this.getEndIdx(r,0);null!=(e=this._renderGridAtLabels?this.getCoordAt(s+.5*(a-s)):a+.5<i?this.getCoordAt(a+.5):null)&&t.push(e)}return t}getMinorTickCoords(){var e,t=[];if(!this._levelsArray[1])return t;for(var i=0;i<this._levelsArray[1].length;i++)if(this._levelsArray[1][i]){var r=this.getStartIdx(i,1),s=this.getEndIdx(i,1);null!=(e=this._renderGridAtLabels?this.getCoordAt(r+.5*(s-r)):s+.5<this.getGroupCount()-1?this.getCoordAt(s+.5):null)&&t.push(e)}return t}getUnboundedValAt(e){if(null==e)return null;if(this._groupWidthRatios){for(var t=this._borderCoords.length,i=0;i<this._borderCoords.length;i++)if(e<=this._borderCoords[i]){t=i;break}return 0==t?this._borderValues[0]-(this._borderCoords[0]-e)/this._groupWidths[0]:this._borderValues[t-1]+(e-this._borderCoords[t-1])/this._groupWidths[t]}var r=(this.EndCoord-this.StartCoord)/(this.MaxValue-this.MinValue);return this.MinValue+(e-this.StartCoord)/r}getUnboundedCoordAt(e){if(null==e)return null;if(this._groupWidthRatios){for(var t=this._borderValues.length,i=0;i<this._borderValues.length;i++)if(e<=this._borderValues[i]){t=i;break}return 0==t?this._borderCoords[0]-this._groupWidths[0]*(this._borderValues[0]-e):this._borderCoords[t-1]+this._groupWidths[t]*(e-this._borderValues[t-1])}var r=(this.EndCoord-this.StartCoord)/(this.MaxValue-this.MinValue);return this.StartCoord+(e-this.MinValue)*r}getLabelAt(e,t){if(null==t&&(t=this._numLevels-1),(e=Math.round(e))<0)return null;var i=this._levelsArray[t]&&this._levelsArray[t][e]?this._levelsArray[t][e].item:null;return i&&(i.name?i=i.name:null!=i.id&&(i="")),i}getGroupAt(e,t){if(null==t&&(t=this._numLevels-1),(e=Math.round(e))<0)return null;var i=this._levelsArray[t]&&this._levelsArray[t][e]?this._levelsArray[t][e].item:null;if(i){if(i.id)return i.id;if(i.name||""===i.name)return i.name}return i}getLabelStyleAt(e,i){var r=this._getGroupAttribute(e,i,"labelStyle");if(r){var s=new t.CSSStyle(r);return s.getStyle("font-size")||s.setStyle("font-size",this.Options.tickLabel.style.getStyle("font-size")),s}return null}getDatatip(e,t){return this._getGroupAttribute(e,t,"shortDesc")}isDrillable(e,t){var i=this._getGroupAttribute(e,t,"drilling");return"on"==i||"off"!=i&&("on"==this._drilling||"groupsOnly"==this._drilling)}getGroup(e,t){if(e<0||e>this.getGroupCount()-1)return null;if(1==this._numLevels)return this.getGroupAt(e);var i=[];null==t&&(t=this._numLevels-1);for(var r=this.getStartIdx(e,t),s=0;s<=t;s++)for(var a=this._levelsArray[s],n=0;n<a.length;n++)this.getStartIdx(n,s)<=r&&this.getEndIdx(n,s)>=r&&i.push(this.getGroupAt(n,s));return i.length>0?1===i.length&&1===this._numLevels?i[0]:i:null}getLabelBackground(e,i,r){null==r&&(r=this._numLevels-1);var s=e.getCSSStyle();if(s){var a=s.getStyle(t.CSSStyle.BACKGROUND_COLOR),n=s.getStyle(t.CSSStyle.BORDER_COLOR),o=s.getStyle(t.CSSStyle.BORDER_WIDTH),l=s.getStyle(t.CSSStyle.BORDER_RADIUS);if(null!=a||null!=n||null!=o||null!=l){var h=e.getDimensions(),g=.15*h.h;"blink"!==t.Agent.engine&&"ie"!==t.Agent.browser&&"edge"!==t.Agent.browser||e.getVertAlignment()!==t.OutputText.V_ALIGN_BOTTOM||(h.y+=h.h/2);var d=new t.Rect(i,h.x-g,h.y,h.w+2*g,h.h),u=new t.CSSStyle;return null!=a?u.setStyle(t.CSSStyle.BACKGROUND_COLOR,a):d.setInvisibleFill(),u.setStyle(t.CSSStyle.BORDER_COLOR,n),u.setStyle(t.CSSStyle.BORDER_WIDTH,o),u.setStyle(t.CSSStyle.BORDER_RADIUS,l),d.setCSSStyle(u),this._isLabelRotated[r]&&d.setMatrix(e.getMatrix()),d.setMouseEnabled(!1),d}return null}return null}getGroupIndex(e){if(null==e)return-1;for(var i=-1,r=0;r<this._groupCount;r++){var s=this.getGroup(r);if(e instanceof Array&&s instanceof Array?t.ArrayUtils.equals(e,s):e==s){i=r;break}}return i}getMinExtent(){return 1}getGroupWidth(){return Math.abs(this.EndCoord-this.StartCoord)/Math.abs(this.MaxValue-this.MinValue)}getGroupCount(){return this._groupCount}getNumLevels(){return this._numLevels}_generateLevelsArray(e,t,i,r){for(var s=0;s<e.length;s++)if(i[t]||(i[t]=[]),i[t].push({item:e[s],start:r,end:r,position:s}),e[s]&&e[s].groups){var a=i[t].length-1,n=this._generateLevelsArray(e[s].groups,t+1,i,i[t][a].start);r!=n?(i[t][a].end=n-1,r=n):r++}else r++;return r}_getGroupAttribute(e,t,i){null==t&&(t=this._numLevels-1);var r=this._levelsArray[t]&&this._levelsArray[t][e]?this._levelsArray[t][e].item:null;return r?r[i]:null}areSeparatorsRendered(){return this._areSeparatorsRendered}getSeparatorColor(){return this._separatorColor}getStartIdx(e,t){return null==t&&(t=this._numLevels-1),this._levelsArray[t]&&this._levelsArray[t][e]?this._levelsArray[t][e].start:null}getEndIdx(e,t){return null==t&&(t=this._numLevels-1),this._levelsArray[t]&&this._levelsArray[t][e]?this._levelsArray[t][e].end:null}getPosition(e,t){return null==t&&(t=this._numLevels-1),this._levelsArray[t]&&this._levelsArray[t][e]?this._levelsArray[t][e].position:null}getItemsRange(e){e instanceof Array||(e=[e]);for(var t=0,i=this._groupCount,r=[],s=0;s<e.length;s++)for(var a=this._levelsArray[s],n=e[s],o=0;o<a.length;o++){if((a[o].item.id?a[o].item.id:a[o].item.name)===n){var l=a[o].start,h=a[o].end;t<=l&&i>=h&&(t=l,i=h,r.push(a[o].item))}}return{startIndex:t,endIndex:i,groupData:r}}isRenderGridAtLabels(){return this._renderGridAtLabels}setLastRenderedLevel(e){this._lastRenderedLevel=e}getLastRenderedLevel(){return this._lastRenderedLevel}getSeparatorStartLevel(){for(var e=this._lastRenderedLevel,t=this._lastRenderedLevel-1;t>=0;t--)this._labels[t].length!=this._levelsArray[t].length&&(e=t);return e}getLabelIdx(e){return e._index>=0?e._index:null}getMaxLineWrap(){return this._maxLineWrap}_isTextWrapNeeded(e,i,r,s,a){var n=t.TextUtils.getTextStringWidth(e,i,r);return n>=a&&(n/this._maxLineWrap<a||!s)}isAutoRotate(){var e="top"==this.Position||"bottom"==this.Position,t=this._numLevels>1,i=this.getGroupWidth(),r="auto"==this.Options.tickLabel.rotation&&e;return!t&&r&&i<this._ROTATE_THRESHOLD}getSkipIncrement(){var e=1;return e=this._ROTATE_THRESHOLD/(2*this.getGroupWidth()),this.Options._duringZoomAndScroll&&(e*=4),Math.max(1,Math.floor(e))}}S.registerConstructor("group",M);class T extends t.Automation{constructor(e){super(e),this._options=this._comp.getOptions(),this._axisInfo=this._comp.getInfo()}GetSubIdForDomElement(e){var i=this._comp.getEventManager().GetLogicalObject(e);if(i&&i instanceof t.SimpleObjPeer){if("title"===i.getParams().type)return"title";if(this._options.groups){for(var r=i.getParams().level||0,s=this._axisInfo.getStartIdx(i.getParams().index,r),a="",n=0;n<=r;n++)for(var o=this._axisInfo.getLabels(this._comp.getCtx(),n),l=0;l<o.length;l++){var h=this._axisInfo.getLabelIdx(o[l]);this._axisInfo.getStartIdx(h,n)<=s&&this._axisInfo.getEndIdx(h,n)>=s&&(a+="["+this._axisInfo.getPosition(h,n)+"]")}if(a.length>0)return"item"+a}}return null}getDomElementForSubId(e){if("title"===e){var t=this._axisInfo.getTitle();if(t)return t.getElem()}else if(this._axisInfo instanceof M)for(var i=e.split("[").length-1-1,r=0,s=0,a=0;a<=i;a++){var n=e.indexOf("["),o=e.indexOf("]"),l=Number(e.substring(n+1,o));e=e.substring(o+1);for(var h,g=this._axisInfo.getLabels(this._comp.getCtx(),a),d=0;d<g.length;d++)if(h=this._axisInfo.getLabelIdx(g[d]),this._axisInfo.getStartIdx(h,a)===s){r=h;break}for(var u=r;u<g.length;u++)if(h=this._axisInfo.getLabelIdx(g[u]),this._axisInfo.getPosition(h,a)===l){if(0===e.length)return g[u].getElem();s=this._axisInfo.getStartIdx(h,a);break}}return null}findPeerFromGroupId(e){let i=this._comp._navigablePeers;for(let r=0;r<i.length;r++){let s=i[r];if("string"==typeof s._group&&1===e.length&&e[0]===s._group||Array.isArray(s._group)&&t.ArrayUtils.equals(s._group,e))return s}return null}dispatchDrillEvent(e){let t=this.findPeerFromGroupId(e);this._comp.getEventManager().processDrillEvent(t)}}class D extends t.KeyboardHandler{constructor(e,t){super(e),this._axis=t}processKeyDown(e){var i=e.keyCode,r=this._eventManager.getFocus(),s=null;if(i===t.KeyboardEvent.TAB){r&&(t.EventManager.consumeEvent(e),s=r);var a=this._axis.__getKeyboardObjects();a.length>0&&(t.EventManager.consumeEvent(e),s=this.getDefaultNavigable(a))}else i===t.KeyboardEvent.ENTER?r&&(this._eventManager.processDrillEvent(r),t.EventManager.consumeEvent(e)):s=super.processKeyDown(e);return s}}class I extends t.BaseComponent{constructor(e,i,r){super(e,i,r),this.Defaults=new C(e),this.EventManager=new b(this),this.EventManager.addListeners(this),t.Agent.isTouchDevice()||this.EventManager.setKeyboardHandler(new D(this.EventManager,this)),this._bounds=null}SetOptions(e){e?"off"!==e.rendered?this.Options=this.Defaults.calcOptions(e):(e.tickLabel.style=new t.CSSStyle(e.tickLabel.style),e.titleStyle=new t.CSSStyle(e.titleStyle),this.Options=e):this.Options||(this.Options=this.GetDefaults());this.Options.isRTL=t.Agent.isRightToLeft(this.getCtx())}getPreferredSize(e,t,i,r){return this.SetOptions(e),y.getPreferredSize(this,t,i,r)}render(e,i,r,s,a){this.getCache().clearCache(),this.SetOptions(e),this._navigablePeers=[],this.Width=i,this.Height=r,this.removeChildren(),s||(s=0),a||(a=0);var n=new t.Rectangle(s,a,i,r);y.render(this,n)}__registerObject(e){(null!=e.getDatatip()||e.isDrillable())&&this._navigablePeers.push(e)}__getKeyboardObjects(){return this._navigablePeers}isNavigable(){return this._navigablePeers.length>0}getKeyboardFocus(){return null!=this.EventManager?this.EventManager.getFocus():null}setKeyboardFocus(e,i){if(null!=this.EventManager){for(var r=this.__getKeyboardObjects(),s=e.getId(),a=!1,n=0;n<r.length;n++){var o=r[n].getId();if(s instanceof Array&&o instanceof Array&&t.ArrayUtils.equals(s,o)||s===o){this.EventManager.setFocusObj(r[n]),a=!0,i&&r[n].showKeyboardFocusEffect();break}}a||this.EventManager.setFocusObj(this.EventManager.getKeyboardHandler().getDefaultNavigable(r));var l=this.getKeyboardFocus();if(l){var h=l.getDisplayable();h.setAriaProperty("label",l.getAriaLabel()),this.getCtx().setActiveElement(h)}}}processEvent(e,t){this===t&&this.dispatchEvent(e)}getInfo(){return this.Info}__setInfo(e){this.Info=e}getWidth(){return this.Width}getHeight(){return this.Height}__setBounds(e){this._bounds=e}__getBounds(){return this._bounds}getAutomation(){return new T(this)}static getDefaults(e){return(new C).getDefaults(e)}}const O={getHideAndShowBehavior:e=>e.getOptions().hideAndShowBehavior,getHoverBehavior:e=>e.getOptions().hoverBehavior,isScrollable:e=>!!l.isScrollSupported(e)&&"off"!=e.getOptions().zoomAndScroll,isZoomable:e=>{if(!l.isScrollSupported(e))return!1;var t=e.getOptions().zoomAndScroll;return"live"==t||"delayed"==t},getZoomDir:e=>l.isScatterBubble(e)?e.getOptions().zoomDirection:"auto",isLiveScroll:e=>{if(!l.isScrollSupported(e))return!1;var t=e.getOptions().zoomAndScroll;return"live"==t||"liveScrollOnly"==t},isDelayedScroll:e=>{if(!l.isScrollSupported(e))return!1;var t=e.getOptions().zoomAndScroll;return"delayed"==t||"delayedScrollOnly"==t},isPlotAreaDraggable:e=>{var t=e.getOptions(),i=t.dnd?t.dnd.drag.items:{};return Object.keys(i).length>0},isPlotAreaDropTarget:e=>{var t=e.getOptions(),i=t.dnd?t.dnd.drop.plotArea:{};return Object.keys(i).length>0},isHorizScrollbarSupported:e=>{var t=O.getZoomDir(e);return!l.isPolar(e)&&(l.isBLAC(e)&&l.isVertical(e)||l.isScatterBubble(e)&&"y"!=t)},isVertScrollbarSupported:e=>{var t=O.getZoomDir(e);return!l.isPolar(e)&&(l.isBLAC(e)&&l.isHorizontal(e)||l.isScatterBubble(e)&&"x"!=t)}},E=(e,i,r,s,a,n,o,l)=>{var h=new t.OutputText(i.getCtx(),r,a,n);return h.setCSSStyle(s),t.TextUtils.fitText(h,o,l,i)?(e.associate(h,new t.SimpleObjPeer(h.getUntruncatedTextString())),h):null},P=e=>{var t=e.getOptions();return t.title.text||t.subtitle.text||t.footnote.text},L=(e,i,r)=>{var s=e.getOptions();if(d.hasInvalidTimeData(e)&&d.hasData(e))var a=s.translations.labelInvalidData;else(a=s.emptyText)||(a=s.translations.labelNoData);e.renderEmptyText(i,a,new t.Rectangle(r.x,r.y,r.w,r.h),e.getEventManager(),s._statusMessageStyle)},w={getXAxisPos:e=>l.isPolar(e)?"tangential":l.isHorizontal(e)?t.Agent.isRightToLeft(e.getCtx())?"right":"left":"bottom",getBaselineScaling:(e,t)=>{var i=t+"Axis",r=e.getOptions()[i].baselineScaling;return!r||"zero"!=r&&"min"!=r?l.isStock(e)?"min":"zero":r},getYAxisPos:e=>{var i=e.getOptions().yAxis.position;return l.isPolar(e)?"radial":l.isHorizontal(e)?!i||"top"!=i&&"bottom"!=i?"bottom":i:(l.isStock(e)&&(i=i||"end"),t.Agent.isRightToLeft(e.getCtx())?i&&"end"==i?"left":"right":i&&"end"==i?"right":"left")},getY2AxisPos:e=>{var i=e.getOptions().y2Axis.position;return l.isHorizontal(e)?!i||"top"!=i&&"bottom"!=i?"top":i:t.Agent.isRightToLeft(e.getCtx())?i&&"start"==i?"right":"left":i&&"start"==i?"left":"right"},getAxisOffset:e=>{var t="axisOffset",i=e.getCache().getFromCache(t);if(null!=i)return i;var r=e.getOptions().styleDefaults.groupSeparators;if(l.hasGroupAxis(e)&&d.getNumLevels(e)>1&&"on"==r.rendered)i=.5;else if(d.hasBarSeries(e)||c.hasCenteredSeries(e)||d.hasCandlestickSeries(e)||d.hasBoxPlotSeries(e)||l.isBLAC(e)&&1==d.getGroupCount(e))i=.5;else if(l.isSpark(e)||O.isScrollable(e)||l.isOverview(e))i=0;else{var s=l.isHorizontal(e)?.2:.5;i=s-s/Math.sqrt(d.getGroupCount(e))}return e.getCache().putToCache(t,i),i},isGridShifted:e=>{if(!l.isBLAC(e))return!1;if(d.getNumLevels(e)>1)return!0;for(var t=d.getSeriesCount(e),i=0;i<t;i++)if(d.isSeriesRendered(e,i)){var r=d.getSeriesType(e,i),s=c.getLineType(e,i);if("bar"!=r&&"centeredSegmented"!=s&&"centeredStepped"!=s)return!1}return!0},isGridPolygonal:e=>!(!l.isBLAC(e)||d.hasBarSeries(e))&&"polygon"==e.getOptions().polarGridShape,isAxisRendered:(e,t)=>{if(!l.hasAxes(e))return!1;var i=e.getOptions(),r=i.overview.content&&i.overview.content[t+"Axis"],s=r&&"on"==r.rendered;if("y"==t&&d.hasY2DataOnly(e)&&!s)return!1;if("y2"==t&&!d.hasY2Data(e)&&!s)return!1;var a=i[t+"Axis"];return!("off"==a.rendered&&!s)&&!("off"==a.tickLabel.rendered&&!a.title&&!s)},isAxisLineRendered:(e,t)=>{var i=e.getOptions()[t+"Axis"];return"off"!=i.rendered&&"off"!=i.axisLine.rendered&&!("auto"==i.axisLine.rendered&&"x"!=t&&l.isBLAC(e)&&!l.isPolar(e))},isMajorTickRendered:(e,t)=>{var i=e.getOptions()[t+"Axis"];return"off"!=i.rendered&&"off"!=i.majorTick.rendered&&!("auto"==i.majorTick.rendered&&"x"==t&&l.isBLAC(e)&&!l.isPolar(e))},isMinorTickRendered:(e,t)=>{var i=e.getOptions()[t+"Axis"];return"off"!=i.rendered&&"off"!=i.minorTick.rendered&&("on"==i.minorTick.rendered||w.isLog(e,t))},isLog:(e,t)=>"log"==e.getOptions()[t+"Axis"].scale,getTickLabelHeight:(e,i)=>{var r=e.getOptions(),s=r[i+"Axis"].tickLabel.style;return s instanceof t.CSSStyle||(s=new t.CSSStyle(s)),s.mergeUnder(I.getDefaults(r.skin).tickLabel.style),t.TextUtils.getTextStringHeight(e.getCtx(),s)},getTickLabelGapSize:(e,t)=>{if(w.isTickLabelInside(e,t))return 0;var i=e.getOptions(),r=l.isHorizontal(e),s=w.getGapScalingFactor(e,t),a=Math.ceil(i.layout.tickLabelGapWidth*s),n=Math.ceil(i.layout.tickLabelGapHeight*s);return"x"==t?r?a:n:r?n:a},getGapScalingFactor:(e,t)=>w.isAxisRendered(e,t)?w.getTickLabelHeight(e,t)/14:0,isTickLabelInside:(e,t)=>!(l.isPolar(e)||l.isScatterBubble(e)||l.isBLAC(e)&&"x"==t)&&"inside"==e.getOptions()[t+"Axis"].tickLabel.position,getXAxisViewportMinMax:(e,t)=>{var i=t?"xAxisViewportMinMaxUG":"xAxisViewportMinMax",r=e.getCache().getFromCache(i);if(r)return r;var s=e.getOptions().xAxis,a=l.hasGroupAxis(e),n=w.getAxisOffset(e);if(t)var o=w.getXAxisGlobalMinMax(e);var h=null;null!=s.viewportMin?h=s.viewportMin:null!=s.viewportStartGroup?h=a?d.getGroupIdx(e,s.viewportStartGroup)-n:s.viewportStartGroup:t&&(h=o.min);var g=null;return null!=s.viewportMax?g=s.viewportMax:null!=s.viewportEndGroup?g=a?d.getGroupIdx(e,s.viewportEndGroup)+n:s.viewportEndGroup:t&&(g=o.max),r={min:h,max:g},e.getCache().putToCache(i,r),r},getXAxisGlobalMinMax:e=>{var t=e.getOptions().xAxis,i=l.hasGroupAxis(e),r=w.getAxisOffset(e);if(!i)var s=w.getMinMaxVal(e,"x");return{min:null!=t.min?t.min:i?0-r:s.min,max:null!=t.max?t.max:i?d.getGroupCount(e)-1+r:s.max}},applyInitialZooming:(e,t)=>{var i=e.getOptions(),r=i.xAxis,s=i.initialZooming;if(l.isBLAC(e)&&"off"!=i.zoomAndScroll&&"none"!=s){i._initialZoomed&&("last"==s?r.viewportMin=null:r.viewportMax=null);var a=w.getXAxisViewportMinMax(e,!1),n=a.min,o=a.max;if(!("last"==s&&null!=n||"first"==s&&null!=o)){var h=l.isHorizontal(e)?t.h:t.w,g=Math.floor(h/(2*w.getTickLabelHeight(e,"x")))+w.getAxisOffset(e),u=d.getGroupCount(e)-1;if(!(u<=g)){var _,c;if(l.hasGroupAxis(e))_=0,c=u;else{var p=w.getMinMaxVal(e,"x");_=p.min,c=p.max}var v=g/u*(c-_);"last"==i.initialZooming?(null==o&&(o=c),r.viewportMin=Math.max(o-v,_)):(null==n&&(n=_),r.viewportMax=Math.min(n+v,c)),i._initialZoomed=!0}}}},isYAdjustmentNeeded:e=>{var t=e.getOptions().styleDefaults.dataLabelPosition,i=e.getOptionsCache().getFromCache("hasDataOutsideBarEdge"),r="outsideBarEdge"==t||i,s=c.isStackLabelRendered(e);return!(!d.hasBarSeries(e)||!r&&!s)},axisContainsPoint:(e,t)=>{if(!e)return!1;var i=e.getOptions().position,r="top"==i||"bottom"==i,s=r?4:10,a=r?10:4,n=e.__getBounds().clone();n.x-=a,n.y-=s,n.w+=2*a,n.h+=2*s;var o=e.stageToLocal(t);return n.containsPoint(o.x,o.y)},isStandalonePlotArea:e=>!P(e)&&(!l.isLegendRendered(e)&&(!w.isAxisRendered(e,"x")&&(!w.isAxisRendered(e,"y")&&!w.isAxisRendered(e,"y2")))),isStandaloneXAxis:e=>{var t=e.getOptions();return!P(e)&&("off"==t.legend.rendered&&("off"==t.plotArea.rendered&&(!w.isAxisRendered(e,"y")&&!w.isAxisRendered(e,"y2"))))},isStandaloneYAxis:e=>{var t=e.getOptions();return!P(e)&&("off"==t.legend.rendered&&(!w.isAxisRendered(e,"x")&&("off"==t.plotArea.rendered&&!w.isAxisRendered(e,"y2"))))},isStandaloneY2Axis:e=>{var t=e.getOptions();return!P(e)&&("off"==t.legend.rendered&&(!w.isAxisRendered(e,"x")&&(!w.isAxisRendered(e,"y")&&"off"==t.plotArea.rendered)))},getViewportMinMaxGroupIdx:(e,t)=>{var i=w.getXAxisViewportMinMax(e,!0),r=l.hasGroupAxis(e),s=d.getGroupCount(e),a=i.min,n=0;if(null!=a)if(r)n=Math.ceil(a);else for(var o=0;o<s;o++){if(d.getXVal(e,t,o)>=a){n=o;break}}var h=i.max,g=s-1;if(r)g=Math.floor(h);else for(var u=s-1;u>=n;u--){if(d.getXVal(e,t,u)<=h){g=u;break}}return{min:n,max:g}},getViewportGroupCount:e=>{var t=w.getXAxisViewportMinMax(e,!0),i=w.getXAxisGlobalMinMax(e),r=(t.max-t.min)/(i.max-i.min);return isNaN(r)?1:r*d.getGroupCount(e)},_computeYAlongLine:(e,i,r,s,a,n)=>{e&&(r=t.Math.log10(r),a=t.Math.log10(a));var o=r+(a-r)*(n-i)/(s-i);return e?Math.pow(10,o):o},getMinMaxVal:(e,t,i)=>{var r=t+(i?"MinMaxDO":"MinMax"),s=e.getCache().getFromCache(r);if(s)return s;var a=e.getOptions()[t+"Axis"];if(null!=a.dataMax&&null!=a.dataMin&&i)return s={min:a.dataMin,max:a.dataMax},e.getCache().putToCache(r,s),s;var n=l.hasTimeAxis(e);if(null!=a.max&&null!=a.min&&!i&&!n)return s={min:a.min,max:a.max},e.getCache().putToCache(r,s),s;var o="z"!=t&&w.isLog(e,t),h="y2"==t;h&&(t="y");for(var g="y"==t,u=!i&&g&&l.isBLAC(e),_="withoutRescale"==O.getHideAndShowBehavior(e)||"x"==t&&l.hasTimeAxis(e),p=-1/0,m=1/0,f=d.getSeriesCount(e),x=0;x<f;x++){var C=d.getSeriesItem(e,x),S=d.getSeriesType(e,x),A=g&&(d.isRangeSeries(e,x)||"candlestick"==S||"boxPlot"==S);if(_||d.isSeriesRendered(e,x)){var b=d.isAssignedToY2(e,x);if(!g||h==b){var y=C.items;if(y){var M=0,T=y.length-1;if(u){var D=w.getViewportMinMaxGroupIdx(e,x);M=D.min,T=D.max}for(var I=M;I<=T;I++)if(_||d.isDataItemRendered(e,x,I)){var E=y[I],P=null;if(g?A||(P=d.getCumulativeVal(e,x,I,_)):"x"==t&&n&&!l.isMixedFrequency(e)?(P=d.getGroupLabel(e,I),null!=E&&(E.x=P)):null!=E&&(P=E[t]),!("z"==t&&P<=0)){if(!(A||null==P||"number"!=typeof P||o&&P<=0)){var L=0;if(l.isBubble(e)&&!i&&"z"!=t){var R=c.getMarkerSize(e,x,I);L=w.getBubbleAxisRadius(e,t,R)}p=Math.max(p,o?P*Math.pow(10,L):P+L),m=Math.min(m,o?P/Math.pow(10,L):P-L)}if(A){var k=d.getHighVal(e,x,I),B=d.getLowVal(e,x,I);o&&(k<=0||B<=0)||(p=Math.max(p,k,B),m=Math.min(m,k,B))}if(u&&!A){var F=null,N=null;if(M>0&&I==M?(F=I-1,N=w.getXAxisViewportMinMax(e,!0).min):T<y.length-1&&I==T&&(F=I+1,N=w.getXAxisViewportMinMax(e,!0).max),null!=F){var G=d.getXVal(e,x,I),H=d.getXVal(e,x,F),U=d.getCumulativeVal(e,x,F),V=w._computeYAlongLine(o,G,P||0,H,U||0,N);p=Math.max(p,V),m=Math.min(m,V)}}if("x"!=t){var Y=d.getNestedDataItemCount(e,x,I);if(Y>0)for(var W=0;W<Y;W++){var j=d.getNestedDataItem(e,x,I,W),z="number"==typeof j;p=z?Math.max(p,j):Math.max(p,j.value),m=z?Math.min(m,j):Math.min(m,j.value)}}}}}}}}var X=null;if("x"==t?X=d.getAxisRefObjs(e,"x"):h?X=d.getAxisRefObjs(e,"y2"):g&&(X=d.getAxisRefObjs(e,"y")),null!=X)for(var Z=0;Z<X.length;Z++){var q=X[Z],K=q.items,Q="withRescale"==O.getHideAndShowBehavior(e)&&!v.isObjRendered(e,q);if(!Q)if(K&&!Q){var J=0,$=K.length-1;if(u){var ee=w.getViewportMinMaxIdx(e,K);J=ee.min,$=ee.max}for(var te=J;te<=$;te++)if(null!=K[te]){var ie=v.getLowVal(K[te]),re=v.getHighVal(K[te]),se=isNaN(K[te])?K[te].value:K[te];null!=ie&&isFinite(ie)&&(m=Math.min(m,ie),p=Math.max(p,ie)),null!=re&&isFinite(re)&&(m=Math.min(m,re),p=Math.max(p,re)),null!=se&&isFinite(se)&&(m=Math.min(m,se),p=Math.max(p,se))}}else{var ae=v.getLowVal(q),ne=v.getHighVal(q),oe=q.value;null!=ae&&isFinite(ae)&&(m=Math.min(m,ae),p=Math.max(p,ae)),null!=ne&&isFinite(ne)&&(m=Math.min(m,ne),p=Math.max(p,ne)),null!=oe&&isFinite(oe)&&(m=Math.min(m,oe),p=Math.max(p,oe))}}return s={min:m,max:p},e.getCache().putToCache(r,s),s},getBubbleAxisRadius:(e,t,i)=>{if(!i)return 0;var r="x"==t?"_xAxisBubbleRatio":"_yAxisBubbleRatio";return i/2*e.getCache().getFromCache(r)},getViewportMinMaxIdx:(e,t)=>{var i=w.getXAxisViewportMinMax(e,!0),r=l.hasGroupAxis(e),s=i.min,a=0;if(null!=s)if(r)a=Math.ceil(s);else for(var n=0;n<t.length;n++){if(v.getXVal(e,t,n)>=s){a=n;break}}var o=i.max,h=t.length-1;if(r)h=Math.floor(o);else for(var g=t.length-1;g>=a;g--){if(d.getXVal(e,t,g)<=o){h=g;break}}return{min:a,max:h}}},R={getGroupWidthRatios:e=>{if(!d.hasBarSeries(e)&&!d.hasCandlestickSeries(e)&&!d.hasBoxPlotSeries(e))return null;var t=e.getOptions(),i=R.getBarGapRatio(e);if(i>=1)return t._averageGroupZ=1/0,null;t._averageGroupZ=0;var r,s,a,n,o,l,h=d.getGroupCount(e),g=d.isSplitDualY(e),u=d.getStackCategories(e,"bar"),_=u.y.length,c=u.y2.length;if(e.getOptionsCache().getFromCache("hasConstantZValue")){var p=e.getOptionsCache().getFromCache("constantZValue")*(g?Math.max(_,c):_+c);l=(o=p*h)*i/(1-i),r=null}else{for(var v=[],m=0;m<h;m++){for(s=0,n=0;n<_;n++)s+=d.getBarCategoryZ(e,u.y[n],m,!1);for(a=0,n=0;n<c;n++)a+=d.getBarCategoryZ(e,u.y2[n],m,!0);v.push(g?Math.max(s,a):s+a)}o=v.reduce((e,t)=>e+t),l=o*i/(1-i),r=v.map(e=>e+l/h)}return t._averageGroupZ=(o+l)/h,r},getBarGapRatio:e=>{var t="barGapRatio",i=e.getCache().getFromCache(t);if(i)return i;if("string"==typeof(i=e.getOptions().styleDefaults.barGapRatio)&&"%"==i.slice(-1)&&(i=Number(i.slice(0,-1))/100),null!=i&&!isNaN(i))return Number(i);var r=d.getStackCategories(e,"bar"),s=r.y.length,a=r.y2.length,n=d.isSplitDualY(e)?Math.max(s,a):s+a;return i=l.isPolar(e)?1==n?0:.25:1==n?.37+.26/w.getViewportGroupCount(e):.25,e.getCache().putToCache(t,i),i},getBarInfo:(e,i,r,s)=>{var a,n,o=l.isHorizontal(e),g=d.isStacked(e),u=t.Agent.isRightToLeft(e.getCtx()),_=e.xAxis,p=d.isRangeSeries(e,i),v=c.getBarCategoryOffsetMap(e,r),m=d.getXVal(e,i,r),f=_.getUnboundedCoordAt(m),x=d.isAssignedToY2(e,i),C=x?e.y2Axis:e.yAxis,S=C.getBaselineCoord();if(p){var A=d.getLowVal(e,i,r),b=d.getHighVal(e,i,r);if(null==A||isNaN(A)||null==b||isNaN(b))return null;if((a=C.getBoundedCoordAt(A))==(n=C.getBoundedCoordAt(b))&&null==C.getCoordAt(A))return null}else{var y=d.getVal(e,i,r),M=d.getCumulativeVal(e,i,r);if(null==y||isNaN(y))return null;if((a=C.getBoundedCoordAt(M))==(n=g?C.getBoundedCoordAt(M-y):S)&&null==C.getCoordAt(M))return null}var T=d.getStackCategory(e,i),D=c.getBarWidth(e,i,r),I=g?c.getBarStackWidth(e,T,r,x):D;if("pixel"==c.getBarSpacing(e)&&"firefox"===t.Agent.browser){var O=D/(1-R.getBarGapRatio(e));D>1&&O-D<2&&(I=--D)}var E=v[x?"y2":"y"][T]+.5*(I-D),P=u&&!o?f-E-D:f+E,L=P+D,w=(P+L)/2,k=p?(a+n)/2:a;return{x1:P,x2:L,axisCoord:S,baseCoord:n,yCoord:a,dataPos:h.convertAxisCoord(e,new t.Point(w,k),s),barWidth:D}},getDataLabelPos:(e,i,r,s,a,n)=>{var o,h=d.getNestedDataItem(e,i,r,s),g=d.getDataItem(e,i,r);if(n)o="outsideBarEdge";else if((o=h&&h.labelPosition?h.labelPosition:g.labelPosition)||(o=e.getOptions().styleDefaults.dataLabelPosition),"none"==(o=c._parseLowHighArray(o,a)))return"none";var u=t.Agent.isRightToLeft(e.getCtx()),_=l.isHorizontal(e),p=l.isPolar(e);if(l.isFunnel(e)||l.isPyramid(e))return"center";if("bar"==d.getSeriesType(e,i)){if("center"==o||p)return"center";var v,m=d.isStacked(e);if("insideBarEdge"!=o){if(m&&!n)return"center";"outsideBarEdge"!=o&&(o="insideBarEdge")}if("insideBarEdge"==o&&!m){var f,x=e.getOptions().styleDefaults.dataLabelStyle,C=g.labelStyle?t.CSSStyle.mergeStyles([x,new t.CSSStyle(g.labelStyle)]):x;if(_){var S=c.getDataLabel(e,i,r,s,a);f=t.TextUtils.getTextStringWidth(e.getCtx(),S,C)}else f=t.TextUtils.getTextStringHeight(e.getCtx(),C);var A=R.getBarInfo(e,i,r);(A?Math.abs(A.baseCoord-A.yCoord):0)<=f&&(o="outsideBarEdge")}return v="low"==a?g.low<=g.high:"high"==a?g.high<g.low:d.getVal(e,i,r,s)<0,"outsideBarEdge"==o?_?!v&&!u||v&&u?"right":"left":v?"bottom":"top":_?!v&&!u||v&&u?"inRight":"inLeft":v?"inBottom":"inTop"}if("center"==o)return"center";if("belowMarker"==o)return"bottom";if("aboveMarker"==o)return"top";if("afterMarker"!=o&&"beforeMarker"!=o){if(l.isBubble(e))return"center";if("low"!=a||p)if("high"!=a||p)o="afterMarker";else{if(!_)return"top";o="afterMarker"}else{if(!_)return"bottom";o="beforeMarker"}}return!u&&"afterMarker"==o||u&&"beforeMarker"==o?"right":"left"}},k={getBarFill:(e,t,i,r)=>{var s=c.getColor(e,t,i),a=c.getPattern(e,t,i);return k.getRectangleFill(e,s,a,r)},getRectangleFill:(e,i,r,s)=>{var a=c.getSeriesEffect(e);if(r)return new t.PatternFill(r,i);if("gradient"==a&&s>3){var n,o,h=l.isHorizontal(e)?270:0;return n=[t.ColorUtils.adjustHSL(i,0,-.09,.04),t.ColorUtils.adjustHSL(i,0,-.04,-.05)],o=[0,1],new t.LinearGradientFill(h,n,null,o)}return new t.SolidFill(i)},getAreaFill:(e,i)=>{var r,s="lineWithArea"==d.getSeriesType(e,i),a=d.getSeriesItem(e,i);a&&a.areaColor?r=a.areaColor:(r=c.getColor(e,i),s&&(r=t.ColorUtils.setAlpha(r,.2)));var n=c.getPattern(e,i),o=c.getSeriesEffect(e);if(n)return new t.PatternFill(n,r);if("gradient"==o){var h,g,u=l.isHorizontal(e)?180:270;if(s){var _=t.ColorUtils.getAlpha(r);h=[t.ColorUtils.setAlpha(r,Math.min(_+.2,1)),t.ColorUtils.setAlpha(r,Math.max(_-.15,0))],g=[0,1]}else h=[t.ColorUtils.adjustHSL(r,0,-.09,.04),t.ColorUtils.adjustHSL(r,0,-.04,-.05)],g=[0,1];return new t.LinearGradientFill(u,h,null,g)}return new t.SolidFill(r)},getMarkerFill:(e,i,r,s)=>{var a=c.getMarkerColor(e,i,r,s),n=c.getPattern(e,i,r,s);if(n)return new t.PatternFill(n,a);if(l.isBubble(e)&&"gradient"==c.getSeriesEffect(e)){var o=[t.ColorUtils.adjustHSL(a,0,-.09,.04),t.ColorUtils.adjustHSL(a,0,-.04,-.05)];return new t.LinearGradientFill(270,o,null,[0,1])}return new t.SolidFill(a)},getFunnelPyramidSliceFill:(e,i,r,s,a)=>{var n,o=c.getPattern(e,i,0),h=c.getSeriesEffect(e);if(o&&!a)return("vertical"==e.getOptions().orientation||l.isPyramid(e))&&(n=t.Agent.isRightToLeft(e.getCtx())?new t.Matrix(0,-1,1,0):new t.Matrix(0,1,-1,0)),new t.PatternFill(o,r,null,n);if("gradient"==h){var g,d,u=l.isPyramid(e)?180:90;return"on"==e.getOptions().styleDefaults.threeDEffect?(g=[t.ColorUtils.adjustHSL(r,0,0,-.1),t.ColorUtils.adjustHSL(r,0,0,.12),r],d=[0,.65,1]):(g=[t.ColorUtils.adjustHSL(r,0,-.09,.04),t.ColorUtils.adjustHSL(r,0,-.04,-.05)],d=[0,1]),new t.LinearGradientFill(u,g,null,d,[s.x,s.y,s.w,s.h])}return new t.SolidFill(r)}};class B extends t.Path{constructor(e,i,r,s,a,n,o,l,h){super(e.getCtx()),this._FUNNEL_3D_WIDTH_RATIO=.08,this._FUNNEL_ANGLE_2D=36,this._FUNNEL_RATIO=1/3,this._BORDER_COLOR="#FFFFFF",this._MIN_CHARS_DATA_LABEL=3,this._LINE_FRACTION=2/3,this._AREA_FRACTION=.41,this._HEIGHT_FRACTION=.28,this._LINE_FRACTION_2=.4,this._AREA_FRACTION_2=.8,this._HEIGHT_FRACTION_2=.7,this._chart=e;var g=e.getOptions().styleDefaults;this._seriesIndex=i,this._numDrawnSeries=r,this._funnelWidth=s,this._funnelHeight=a,this._startPercent=n,this._valuePercent=o,this._fillPercent=l,this._3dRatio="on"==g.threeDEffect?1:0,this._gap=h;var d=this._getPath();this._dataColor=c.getColor(this._chart,this._seriesIndex,0),this._backgroundColor=g.backgroundColor?g.backgroundColor:g.funnelBackgroundColor,this.setCmds(d.slice),d.bar&&(this._bar=new t.Path(this.getCtx(),d.bar),this.addChild(this._bar),this._bar.setMouseEnabled(!1)),this._setColorProps(d.sliceBounds),this._label=this._getSliceLabel(d.sliceBounds,d.barBounds),null!=this._label&&(this._label.setMouseEnabled(!1),this.addChild(this._label))}_getPath(){var e=t.Agent.isRightToLeft(this.getCtx()),i=d.getSeriesCount(this._chart),r=(this._numDrawnSeries+1)*this._gap,s=t.Math.degreesToRads(this._FUNNEL_ANGLE_2D-2*this._3dRatio),a=this._funnelWidth-i*this._gap,n=a/Math.sin(t.Math.degreesToRads(this._FUNNEL_ANGLE_2D)),o=this._funnelHeight/Math.sin(s),l=this._3dRatio*this._funnelWidth/this._funnelHeight*this._FUNNEL_3D_WIDTH_RATIO;l<1e-5&&(l=0);var h,g,u,_,c,p,v,m,f,x,C,S,A=this._funnelHeight,b=this._funnelHeight*this._FUNNEL_RATIO;this._startPercent<this._AREA_FRACTION?(h=this._startPercent,u=A,c=this._funnelHeight*this._LINE_FRACTION,v=this._AREA_FRACTION,f=a*this._HEIGHT_FRACTION,C=a*(1-this._HEIGHT_FRACTION)):this._startPercent<this._AREA_FRACTION_2?(h=this._startPercent-this._AREA_FRACTION,u=this._funnelHeight*this._LINE_FRACTION,c=this._funnelHeight*this._LINE_FRACTION_2,v=this._AREA_FRACTION_2-this._AREA_FRACTION,f=a*(this._HEIGHT_FRACTION_2-this._HEIGHT_FRACTION),C=a*(1-this._HEIGHT_FRACTION_2)):(h=this._startPercent-this._AREA_FRACTION_2,u=this._funnelHeight*this._LINE_FRACTION_2,c=b,v=1-this._AREA_FRACTION_2,f=a*(1-this._HEIGHT_FRACTION_2),C=0),this._startPercent+this._valuePercent<this._AREA_FRACTION?(_=A,p=this._funnelHeight*this._LINE_FRACTION,g=this._startPercent+this._valuePercent,m=this._AREA_FRACTION,x=a*this._HEIGHT_FRACTION,S=a*(1-this._HEIGHT_FRACTION)):this._startPercent+this._valuePercent<this._AREA_FRACTION_2?(_=this._funnelHeight*this._LINE_FRACTION,p=this._funnelHeight*this._LINE_FRACTION_2,g=this._startPercent+this._valuePercent-this._AREA_FRACTION,m=this._AREA_FRACTION_2-this._AREA_FRACTION,x=a*(this._HEIGHT_FRACTION_2-this._HEIGHT_FRACTION),S=a*(1-this._HEIGHT_FRACTION_2)):(_=this._funnelHeight*this._LINE_FRACTION_2,p=b,g=this._startPercent+this._valuePercent-this._AREA_FRACTION_2,m=1-this._AREA_FRACTION_2,x=a*(1-this._HEIGHT_FRACTION_2),S=0);var y,M,T,D=Math.sqrt((v-h)/v*u*u+h/v*c*c),I=Math.sqrt((m-g)/m*_*_+g/m*p*p),O=.98*Math.asin(((D-c)*f/(u-c)+C)/n),E=.98*Math.asin(((I-p)*x/(_-p)+S)/n),P=(1+this._FUNNEL_RATIO)/2*this._funnelHeight+o,L=(1-this._FUNNEL_RATIO)/2*this._funnelHeight-o;e?(y=[n*Math.sin(O)+r,P-o*Math.cos(O),n*Math.sin(E)+r,P-o*Math.cos(E),n*Math.sin(E)+r,L+o*Math.cos(E),n*Math.sin(O)+r,L+o*Math.cos(O)],M=0,T=1):(y=[this._funnelWidth-r-n*Math.sin(O),P-o*Math.cos(O),this._funnelWidth-r-n*Math.sin(E),P-o*Math.cos(E),this._funnelWidth-r-n*Math.sin(E),L+o*Math.cos(E),this._funnelWidth-r-n*Math.sin(O),L+o*Math.cos(O)],M=1,T=0);var w=t.PathUtils.moveTo(y[0],y[1]),R=null;w+=t.PathUtils.arcTo(l*(y[1]-y[7])/2,(y[1]-y[7])/2,Math.PI,T,y[6],y[7]),w+=t.PathUtils.arcTo(l*(y[1]-y[7])/2,(y[1]-y[7])/2,Math.PI,T,y[0],y[1]),w+=t.PathUtils.arcTo(n,o,s,M,y[2],y[3]),w+=t.PathUtils.arcTo(l*(y[3]-y[5])/2,(y[3]-y[5])/2,Math.PI,T,y[4],y[5]),w+=t.PathUtils.arcTo(n,o,s,M,y[6],y[7]);var k=new t.Rectangle(Math.min(y[0],y[2]),y[5],Math.abs(y[0]-y[2]),Math.abs(y[3]-y[5]));if(null!=this._fillPercent){var B=Math.max(Math.min(this._fillPercent,1),0),F=e?-B*Math.PI:B*Math.PI;R=t.PathUtils.moveTo(y[0],y[1]),R+=t.PathUtils.arcTo(n,o,s,M,y[2],y[3]),R+=t.PathUtils.arcTo(l*(y[3]-y[5])/2,(y[3]-y[5])/2,F,T,y[2]+l*(y[3]-y[5])/2*Math.sin(F),(y[5]+y[3])/2+(y[3]-y[5])/2*Math.cos(F)),this._fillPercent>.95?R+=t.PathUtils.arcTo(n,o,s,M,y[6],y[1]+B*(y[7]-y[1])):this._fillPercent<.05?R+=t.PathUtils.arcTo(n,o,s,T,y[6],y[1]+B*(y[7]-y[1])):R+=t.PathUtils.lineTo(y[6]+l*(y[1]-y[7])/2*Math.sin(F),(y[7]+y[1])/2+(y[1]-y[7])/2*Math.cos(F)),R+=t.PathUtils.arcTo(l*(y[1]-y[7])/2,(y[1]-y[7])/2,F,M,y[0],y[1]),R+=t.PathUtils.closePath();var N=new t.Rectangle(Math.min(y[0],y[2]),y[5]+Math.abs(y[3]-y[5])*(1-B),Math.abs(y[0]-y[2]),Math.abs(y[3]-y[5])*B)}return{slice:w,bar:R,sliceBounds:k,barBounds:R?N:k}}_getSliceLabel(e,i){var r=c.getDataLabel(this._chart,this._seriesIndex,0);if(r||(r=d.getSeriesLabel(this._chart,this._seriesIndex)),r&&"none"!=R.getDataLabelPos(this._chart,this._seriesIndex,0)){var s=new t.MultilineText(this.getCtx(),r,0,0),a=null!=c.getPattern(this._chart,this._seriesIndex,0),n=this._chart.getOptions().styleDefaults,o=[n._dataLabelStyle,n.dataLabelStyle,new t.CSSStyle(d.getDataItem(this._chart,this._seriesIndex,0).labelStyle)],l=t.CSSStyle.mergeStyles(o);if(s.setCSSStyle(l),t.TextUtils.fitText(s,e.h-this._3dRatio*(.8-this._valuePercent)*50,e.w,this,this._MIN_CHARS_DATA_LABEL)){var h=s.getDimensions(),g=this._getLabelPos(e);if(a){var u=.15*h.h,_=t.Agent.isRightToLeft(this.getCtx())?.5:-.5,p=t.PathUtils.roundedRectangle(h.x-u,h.y,h.w+2*u,h.h,2,2,2,2),v=new t.Path(this.getCtx(),p);v.setSolidFill(c.SERIES_PATTERN_BG_COLOR,.9),g=g.translate(_*h.h,-_*h.w),v.setMatrix(g),this.addChild(v)}var m=a?t.ColorUtils.getContrastingTextColor(c.SERIES_PATTERN_BG_COLOR):i.containsPoint(e.x,e.y+(e.h-h.w)/2)?t.ColorUtils.getContrastingTextColor(this._dataColor):t.ColorUtils.getContrastingTextColor(this._backgroundColor),f=new t.CSSStyle({color:m});return o.splice(1,0,f),t.Agent.isHighContrast()&&o.push(f),l=t.CSSStyle.mergeStyles(o),s.setCSSStyle(l),s.setMatrix(this._getLabelPos(e)),s.alignCenter(),s.alignMiddle(),s}}}_getLabelPos(e){var i=this._3dRatio*(e.h*this._funnelWidth/this._funnelHeight*this._FUNNEL_3D_WIDTH_RATIO/2),r=new t.Matrix;return r=t.Agent.isRightToLeft(this.getCtx())?(r=r.rotate(Math.PI/2)).translate(e.x+e.w/2-i,e.y+e.h/2):(r=r.rotate(3*Math.PI/2)).translate(e.x+e.w/2+i,e.y+e.h/2)}_setColorProps(e){var i=k.getFunnelPyramidSliceFill(this._chart,this._seriesIndex,this._dataColor,e),r=c.getBorderColor(this._chart,this._seriesIndex,0),s=c.getUserBorderWidth(this._chart,this._seriesIndex,0),a=c.getDefaultBorderWidth(this._chart,this._seriesIndex,0),n=!1,o="redwood"===this.getCtx().getThemeBehavior();null==r&&this._3dRatio>0&&(n=!0,r=this._BORDER_COLOR);var l=null!==s?s:a;!r||o&&this._chart.isSelectionSupported()&&!this._bar&&n||this.setSolidStroke(r,null,l);var h=t.SelectionEffectUtils.getHoverBorderColor(this._dataColor),g=k.getFunnelPyramidSliceFill(this._chart,this._seriesIndex,this._backgroundColor,e,!0);this._bar?(this.setFill(g),this._bar.setFill(i),this._bar.setStyle(c.getStyle(this._chart,this._seriesIndex,0)),this._bar.setClassName(c.getClassName(this._chart,this._seriesIndex,0))):(this.setFill(i),this.setStyle(c.getStyle(this._chart,this._seriesIndex,0)),this.setClassName(c.getClassName(this._chart,this._seriesIndex,0))),this.OriginalStroke=this.getStroke();var d=null!=this._bar?this._bar:this;if(this._chart.isSelectionSupported())if(this.setCursor(t.SelectionEffectUtils.getSelectingCursor()),o)if(null!=this._bar)d.setSolidStroke(this._dataColor,null,0),d.setFeedbackClassName("oj-dvt-selectable");else{var u=null==r||n?this._dataColor:r,_=null!==s?s:0;d.setSolidStroke(u,null,_),d.setFeedbackClassName("oj-dvt-selectable"),r&&(n&&d.addClassName("oj-dvt-default-border-color"),null==s&&d.addClassName("oj-dvt-default-border-width"))}else{var p=c.getSelectedInnerColor(this._chart),v=c.getSelectedOuterColor(this._chart)?c.getSelectedOuterColor(this._chart):this._dataColor;d.setHoverStroke(new t.Stroke(h,1,2)),d.setSelectedStroke(new t.Stroke(p,1,1.5),new t.Stroke(v,1,4.5)),d.setSelectedHoverStroke(new t.Stroke(p,1,1.5),new t.Stroke(h,1,4.5))}}getAnimParams(){return[this._startPercent,this._valuePercent,this._fillPercent,this.getAlpha(),this._3dRatio]}setAnimParams(e){this._startPercent=e[0],this._valuePercent=e[1],this._fillPercent=null!=this._fillPercent?e[2]:null,this.setAlpha(e[3]),this._3dRatio=e[4];var t=this._getPath();this.setCmds(t.slice),t.bar&&this._bar&&this._bar.setCmds(t.bar),this._label&&this._label.setMatrix(this._getLabelPos(t.sliceBounds))}setSelected(e){if(null!=this._bar){if(this.IsSelected==e)return;this.IsSelected=e,this._bar.setSelected(e)}else super.setSelected(e);var t=this.getDimensions(),i=null!=this._bar?this._bar:this,r=t.w;e?(i.setScaleX((r-3)/r),i.setTranslateX(Math.ceil(1.5)+3/r*t.x)):(i.setScaleX(1),i.setTranslateX(0))}showHoverEffect(){null!=this._bar?this._bar.showHoverEffect():super.showHoverEffect()}hideHoverEffect(){null!=this._bar?this._bar.hideHoverEffect():super.hideHoverEffect()}copyShape(){return new B(this._chart,this._seriesIndex,this._numDrawnSeries,this._funnelWidth,this._funnelHeight,this._startPercent,this._valuePercent,this._fillPercent,this._gap)}}const F={setVisibility:(e,t,i)=>{var r=v.getRefObj(e,t);null!=r&&(r.visibility=i);var s=d.getHiddenCategories(e),a=s.indexOf(t);"hidden"==i&&a<0?s.push(t):"visible"==i&&a>=0&&s.splice(a,1);var n=e.getOptions();if(n&&n.legend&&n.legend.sections){for(var o=0;o<n.legend.sections.length;o++){var l=n.legend.sections[o];if(l&&l.items)for(var h=0;h<l.items.length;h++)l.items[h].id==t&&(l.items[h].categoryVisibility=i)}return!0}return!1},processIds:(e,t)=>{for(var i=[],r=0;r<t.length;r++){var s=t[r];if(s.series==_.OTHER_ID){var a=_.getOtherSliceIds(e);i=i.concat(a)}else i.push(s)}return i},adjustBounds:e=>{null!=e.x&&(e.x-=1),null!=e.w&&(e.w+=2),null!=e.y&&(e.y-=1),null!=e.h&&(e.h+=2)},getBoundedObjs:(e,t)=>{for(var i=e.getChartObjPeers().concat(F.getFilteredChartObjPeers(e)),r=[],s=0;s<i.length;s++){var a=i[s],n=a.getDataPosition();if(n){n=e.getPlotArea().localToStage(n);var o=null==t.x||n.x>=t.x&&n.x<=t.x+t.w,l=null==t.y||n.y>=t.y&&n.y<=t.y+t.h;o&&l&&r.push(a)}}return r},getFilteredChartObjPeers:e=>{if(!e.getCache().getFromCache("dataFiltered"))return[];var t="filteredChartObjPeers",i=e.getCache().getFromCache(t);if(!i){i=[];for(var r=0;r<d.getSeriesCount(e);r++)for(var s=0;s<d.getGroupCount(e);s++){var a;if(d.isDataItemFiltered(e,r,s))a="bar"==d.getSeriesType(e,r)?R.getBarInfo(e,r,s).dataPos:d.getMarkerPos(e,r,s),i.push(new f(e,[],r,s,null,a))}e.getCache().putToCache(t,i)}return i},getAxisBounds:(e,i,r)=>{var s=e.getPlotArea(),a=s.stageToLocal(new t.Point(i.x,i.y)),n=s.stageToLocal(new t.Point(i.x+i.w,i.y+i.h));null==i.x&&(a.x=null,n.x=null),null==i.y&&(a.y=null,n.y=null);var o=F._convertToAxisCoord(e,a.x,n.x,a.y,n.y),l={},h={},g={},d={};return e.xAxis&&(l=F._getAxisMinMax(e.xAxis,o.xMin,o.xMax,r),d=F.getAxisStartEndGroup(e.xAxis,l.min,l.max)),e.yAxis&&(h=F._getAxisMinMax(e.yAxis,o.yMin,o.yMax,r)),e.y2Axis&&(g=F._getAxisMinMax(e.y2Axis,o.yMin,o.yMax,r)),{xMin:l.min,xMax:l.max,unchanged:l.unchanged,yMin:h.min,yMax:h.max,y2Min:g.min,y2Max:g.max,startGroup:d.startGroup,endGroup:d.endGroup}},_getAxisMinMax:(e,t,i,r)=>{if(null==t||null==i)return{min:null,max:null};var s=e.getUnboundedLinearValAt(t),a=e.getUnboundedLinearValAt(i);if(r){var n=e.getInfo().getMinExtent();if(a-s<n){var o=(a+s)/2;a=o+n/2,s=o-n/2}return F._limitToGlobal(e,s,a)}return F.getActualMinMax(e,s,a)},getAxisBoundsByDelta:(e,t,i,r,s)=>{var a=F._convertToAxisCoord(e,t,i,r,s),n=O.getZoomDir(e),o={},l={},h={},g={};return e.xAxis&&"y"!=n&&(o=F._getAxisMinMaxByDelta(e.xAxis,a.xMin,a.xMax),g=F.getAxisStartEndGroup(e.xAxis,o.min,o.max)),e.yAxis&&"x"!=n&&(l=F._getAxisMinMaxByDelta(e.yAxis,a.yMin,a.yMax)),e.y2Axis&&(h=F._getAxisMinMaxByDelta(e.y2Axis,a.yMin,a.yMax)),{xMin:o.min,xMax:o.max,unchanged:o.unchanged,yMin:l.min,yMax:l.max,y2Min:h.min,y2Max:h.max,startGroup:g.startGroup,endGroup:g.endGroup}},_getAxisMinMaxByDelta:(e,t,i)=>{var r=e.getLinearViewportMin(),s=e.getLinearViewportMax();if(i==t&&e.isFullViewport())return F.getActualMinMax(e,r,s);var a=e.getUnboundedLinearValAt(t)-e.getUnboundedLinearValAt(0),n=e.getUnboundedLinearValAt(i)-e.getUnboundedLinearValAt(0),o=1,l=s+n-(r+a),h=e.getInfo().getMinExtent();return t!=i&&l<h&&(o=(s-r-h)/(a-n)),r+=a*o,s+=n*o,F._limitToGlobal(e,r,s)},_convertToAxisCoord:(e,i,r,s,a)=>{var n={},o=t.Agent.isRightToLeft(e.getCtx());return l.isHorizontal(e)?(n.xMin=s,n.xMax=a,n.yMin=o?r:i,n.yMax=o?i:r):(n.xMin=o?r:i,n.xMax=o?i:r,n.yMin=a,n.yMax=s),n},_limitToGlobal:(e,t,i)=>{var r=e.getLinearGlobalMin(),s=e.getLinearGlobalMax();return i-t>=s-r?(t=r,i=s):t<r?(i+=r-t,t=r):i>s&&(t-=i-s,i=s),F.getActualMinMax(e,t,i)},getActualMinMax:(e,t,i)=>{var r={min:e.linearToActual(t),max:e.linearToActual(i)};if(e.isGroupAxis()){var s=e.getLinearViewportMin(),a=e.getLinearViewportMax(),n=1e-4;Math.abs(t-s)<n&&Math.abs(i-a)<n&&(r.unchanged=!0)}return r},getAxisStartEndGroup:(e,t,i)=>{if(e.isGroupAxis()&&null!=t&&null!=i){var r=Math.ceil(t),s=Math.floor(i);if(s>=r)return{startGroup:e.getInfo().getGroup(r),endGroup:e.getInfo().getGroup(s)}}return{startGroup:null,endGroup:null}},setInitialSelection:(e,t)=>{var i=e.getSelectionHandler();if(i)if(t&&0!=t.length){for(var r=[],s=0;s<t.length;s++)null!=t[s].id?r.push(t[s].id):null!=t[s].series&&null!=t[s].group&&r.push(a(t[s].series,t[s].group));for(var n=new(e.getCtx().KeySetImpl)(r),o=e.getChartObjPeers(),l=[],h=0;h<o.length;h++){var g=o[h];if(g.isSelectable()){var d=g.getDataItemId(),u=a(g.getSeries(),g.getGroup());(n.has(d)||n.has(u))&&l.push(g.getId())}}i.processInitialSelections(l,o)}else i.clearSelection()},getKeyboardNavigables:e=>{var t=[];if(l.isPie(e)&&e.pieChart)for(var i=e.pieChart.__getSlices(),r=0;r<i.length;r++)d.isSeriesRendered(e,i[r].getSeriesIndex())&&t.push(i[r]);else for(var s=e.getChartObjPeers(),a=0;a<s.length;a++)s[a].isNavigable()&&t.push(s[a]);return t},addEventData:(e,t)=>{var i=d.getSeriesIdx(e,t.series),r=d.getGroupIdx(e,t.group),s=d.getNestedDataItemIdx(e,i,r,t.id),a=c.getDataContext(e,i,r,s);a&&(t.data=a.data,t.itemData=a.itemData,t.seriesData=a.seriesData,a.groupData?t.groupData=a.groupData:null!=r&&(t.groupData=d.getGroupsDataForContext(e)[r]))},addGroupDrillEventData:(e,t)=>{var i={};Object.assign(i,t);var r=e.xAxis.getInfo().getItemsRange(t.group);delete i.series;for(var s=r.startIndex,a=r.endIndex,n=[],o=s;o<a+1;o++)for(var l=d.getSeriesCount(e),h=0;h<l;h++)n.push(d.getRawDataItem(e,h,o));return i.items=n,i.groupData=r.groupData,i},addMultiSeriesDrillEventData:(e,t)=>{var i={};Object.assign(i,t);var r=_._getSeriesIndicesArrays(e).other;delete i.group;for(var s=[],a=[],n=[],o=0;o<r.length;o++){var l=d.getSeriesDataForContext(e,r[o]),h=d.getRawDataItem(e,r[o],0);s.push(l),a.push(h),n.push(d.getSeries(e,r[o]))}return i.seriesData=s,i.items=a,i.series=n,i},addSeriesDrillEventData:(e,t)=>{var i={};Object.assign(i,t);var r=d.getSeriesIdx(e,t.id),s=d.getGroupCount(e);i.series=t.id,delete i.group,i.seriesData=d.getSeriesDataForContext(e,r);for(var a=[],n=0;n<s;n++){var o=d.getRawDataItem(e,r,n);a.push(o)}return i.items=a,i},addItemDrillEventData:(e,t)=>{var i={};Object.assign(i,t);var r=d.getSeriesIdx(e,t.series),s=d.getGroupIdx(e,t.group),a=d.getNestedDataItemIdx(e,r,s,t.id);return i.seriesData=d.getSeriesDataForContext(e,r),i.groupData=d.getGroupsDataForContext(e)[s],i.data=d.getRawDataItem(e,r,s,a),i.itemData=d.getDataItem(e,r,s,a)._itemData,i},addPlotAreaDnDBackground:(e,i,r,s)=>{var a=O.isPlotAreaDraggable(e);if(O.isPlotAreaDropTarget(e)||a){var n=new t.Rect(e.getCtx(),0,0,s?r.w:r.h,s?r.h:r.w);n.setInvisibleFill(),i.addChild(n),e.getCache().putToCache("plotAreaBackground",n),a&&n.setClassName("oj-draggable")}}},N={_DEFAULT_3D_GAP_RATIO:1/36,_DEFAULT_2D_GAP_RATIO:1/70,_MAX_WIDTH_FOR_GAPS:.25,_GROUP_IDX:0,_SLICE_VALUE_THRESHOLD:1e-4,render:(e,i,r)=>{var s=new t.Container(e.getCtx());s.setTranslate(r.x,r.y),i.addChild(s),e.setPlotArea(s);var a,n=l.isHorizontal(e);if(n)a=new t.Rectangle(0,0,r.w,r.h);else{var o=new t.Matrix,h=t.Agent.isRightToLeft(e.getCtx())?-1:1;o=(o=(o=o.translate(-r.h/2,-r.w/2)).rotate(h*Math.PI/2)).translate(r.x+r.w/2,r.y+r.h/2),a=new t.Rectangle(0,0,r.h,r.w),s.setMatrix(o)}F.addPlotAreaDnDBackground(e,s,r,n),N._renderFunnelSlices(e,s,a)||L(e,i,r);var g=d.getInitialSelection(e);F.setInitialSelection(e,g),e.highlight(d.getHighlightedCategories(e))},_renderFunnelSlices:(e,t,i)=>{for(var r=e.getOptions(),s=d.getSeriesCount(e),a=c.getDataItemGaps(e),n=("on"==r.styleDefaults.threeDEffect?N._DEFAULT_3D_GAP_RATIO:N._DEFAULT_2D_GAP_RATIO)*i.w,o=a*Math.min(N._MAX_WIDTH_FOR_GAPS*i.w/(s-1),n),l=0,h=0,g=0,u=0;u<s;u++)if(d.isDataItemRendered(e,u)){var _=d.getTargetVal(e,u);null==_&&(_=d.getVal(e,u,N._GROUP_IDX)),_<=0||(l+=_)}if(0==l)return!1;for(var p=s-1;p>=0;p--)if(d.isDataItemRendered(e,p)){var v,m=d.getVal(e,p,N._GROUP_IDX),x=d.getTargetVal(e,p);if(!(m<=0&&null==x||null!=x&&x<=0))if(!((null!=x?x:m)<N._SLICE_VALUE_THRESHOLD*l))null!=x?(g+=x/l,v=new B(e,p,h,i.w,i.h,1-g,x/l,m/x,o)):(g+=m/l,v=new B(e,p,h,i.w,i.h,1-g,m/l,null,o)),h++,t.addChild(v),f.associate(v,e,p,N._GROUP_IDX)}return!0}};class G extends t.Path{constructor(e,i,r,s,a,n,o,l){super(e.getCtx()),this._MIN_CHARS_DATA_LABEL=3,this._SLICE_LABEL_HORIZONTAL_PADDING=4,this._3D_WIDTH_FACTOR=.2,this._chart=e;var h=e.getOptions().styleDefaults;this._seriesIndex=i,this._numDrawnSeries=r,this._pyramidWidth=s,this._pyramidHeight=a,this._startPercent=n,this._valuePercent=o,this._3dRatio="on"==h.threeDEffect?1:0,this._gap=l;var g=this._getPath();this._dataColor=c.getColor(this._chart,this._seriesIndex,0),this._3dRatio>0?(this.setCmds(g.threeDPathTop),this._threeDPathSide=new t.Path(this.getCtx(),g.threeDPathSide),this._mainFace=new t.Path(this.getCtx(),g.slice),this.addChild(this._threeDPathSide),this.addChild(this._mainFace)):this.setCmds(g.slice),this._setColorProps(g.sliceBounds),this._label=this._getSliceLabel(g.sliceBounds),null!=this._label&&(this._label.setMouseEnabled(!1),this.addChild(this._label))}_getPath(){var e,i,r,s,a,n,o=t.Agent.isRightToLeft(this.getCtx()),l=d.getSeriesCount(this._chart),h=(l-this._numDrawnSeries-1)*this._gap,g=this._3dRatio*this._3D_WIDTH_FACTOR*.98*this._pyramidWidth,u=this._chart.getOptions(),_=Math.sqrt(Math.pow(this._pyramidHeight-(l-1)*this._gap,2)*(1-this._startPercent)),c=this._startPercent+this._valuePercent>=1?0:Math.sqrt(Math.pow(this._pyramidHeight-(l-1)*this._gap,2)*(1-this._startPercent-this._valuePercent)),p=.98*(1-this._3dRatio*this._3D_WIDTH_FACTOR)*this._pyramidWidth*(c/this._pyramidHeight),v=0==this._numDrawnSeries?_:_-this._gap,m=.98*(1-this._3dRatio*this._3D_WIDTH_FACTOR)*this._pyramidWidth*(v/this._pyramidHeight);if(o?(i=[this._pyramidWidth-.5*this._pyramidWidth+g/2-p/2,h+c],s=[this._pyramidWidth-.5*this._pyramidWidth+g/2-m/2,h+_],r=[this._pyramidWidth-.5*this._pyramidWidth+g/2+m/2,h+_],e=[this._pyramidWidth-.5*this._pyramidWidth+g/2+p/2,h+c]):(e=[.5*this._pyramidWidth-g/2-p/2,h+c],r=[.5*this._pyramidWidth-g/2-m/2,h+_],s=[.5*this._pyramidWidth-g/2+m/2,h+_],i=[.5*this._pyramidWidth-g/2+p/2,h+c]),"on"==u.styleDefaults.threeDEffect){var f=Math.atan(2*_/m),x=Math.min(.9*f,Math.PI/4),C=this._3dRatio*this._3D_WIDTH_FACTOR*m*Math.sqrt(2)/2,S=this._3dRatio*this._3D_WIDTH_FACTOR*p*Math.sqrt(2)/2,A=S/Math.tan(x);a=t.PathUtils.moveTo(i[0],i[1]),a+=t.PathUtils.lineTo(i[0]+(o?-1:1)*Math.max(S,1),i[1]-Math.max(S,.5)),a+=t.PathUtils.lineTo(e[0]+(o?-1:1)*Math.max(A,1),e[1]-Math.max(S,.5)),a+=t.PathUtils.lineTo(e[0],e[1]),a+=t.PathUtils.closePath(),n=t.PathUtils.moveTo(i[0],i[1]),n+=t.PathUtils.lineTo(i[0]+(o?-1:1)*Math.max(S,1),i[1]-Math.max(S,.5)),n+=t.PathUtils.lineTo(s[0]+(o?-1:1)*C,s[1]-C),n+=t.PathUtils.lineTo(s[0],s[1]),n+=t.PathUtils.closePath()}var b=t.PathUtils.moveTo(i[0],i[1]);b+=t.PathUtils.lineTo(s[0],s[1]),b+=t.PathUtils.lineTo(r[0],r[1]),b+=t.PathUtils.lineTo(e[0],e[1]),b+=t.PathUtils.closePath();var y=p/m,M=.5*Math.abs(e[1]-r[1])*(1+y),T=.5*Math.abs(s[0]-r[0])*(1+y)-this._SLICE_LABEL_HORIZONTAL_PADDING,D=r[1]-M,I=r[0]+(m-T)/2*(o?-1:1);return{slice:b,sliceBounds:new t.Rectangle(I,D,T,M),threeDPathTop:a,threeDPathSide:n}}_getSliceLabel(e){var i=c.getDataLabel(this._chart,this._seriesIndex,0);if(i||(i=d.getSeriesLabel(this._chart,this._seriesIndex)),i&&"none"!=R.getDataLabelPos(this._chart,this._seriesIndex,0)){var r=new t.MultilineText(this.getCtx(),i,0,0),s=null!=c.getPattern(this._chart,this._seriesIndex,0),a=this._chart.getOptions().styleDefaults,n=[a._dataLabelStyle,a.dataLabelStyle,new t.CSSStyle(d.getDataItem(this._chart,this._seriesIndex,0).labelStyle)],o=t.CSSStyle.mergeStyles(n);if(r.setCSSStyle(o),t.TextUtils.fitText(r,e.w,e.h,this,this._MIN_CHARS_DATA_LABEL)){var l=r.getDimensions(),h=this._getLabelPos(e);if(s){var g=.15*l.h,u=t.PathUtils.roundedRectangle(l.x-g,l.y,l.w+2*g,l.h,2,2,2,2),_=new t.Path(this.getCtx(),u);_.setSolidFill(c.SERIES_PATTERN_BG_COLOR,.9),h=h.translate(-.5*l.w,-.5*l.h),_.setMatrix(h),this.addChild(_)}var p=s?t.ColorUtils.getContrastingTextColor(c.SERIES_PATTERN_BG_COLOR):e.containsPoint(e.x+(e.w-l.w)/2,e.y)?t.ColorUtils.getContrastingTextColor(this._dataColor):t.ColorUtils.getContrastingTextColor(null),v=new t.CSSStyle({color:p});return n.splice(1,0,v),t.Agent.isHighContrast()&&n.push(v),o=t.CSSStyle.mergeStyles(n),r.setCSSStyle(o),r.setMatrix(this._getLabelPos(e)),r.alignCenter(),r.alignMiddle(),r}}}_getLabelPos(e){var i=new t.Matrix;return i=t.Agent.isRightToLeft(this.getCtx())?i.translate(e.x-e.w/2,e.y+e.h/2):i.translate(e.x+e.w/2,e.y+e.h/2)}_setColorProps(e){var i=k.getFunnelPyramidSliceFill(this._chart,this._seriesIndex,this._dataColor,e),r=c.getBorderColor(this._chart,this._seriesIndex,0),s=c.getUserBorderWidth(this._chart,this._seriesIndex,0),a=c.getDefaultBorderWidth(this._chart,this._seriesIndex,0),n=null!==s?s:a,o=!1,l="redwood"===this.getCtx().getThemeBehavior();null==r&&this._3dRatio>0&&(o=!0,r="#FFFFFF"),!r||l&&this._chart.isSelectionSupported()&&o||(this.setSolidStroke(r,null,n),this._3dRatio>0&&(this._threeDPathSide.setSolidStroke(r,null,n),this._mainFace.setSolidStroke(r,null,n)));var h=t.SelectionEffectUtils.getHoverBorderColor(this._dataColor);if(this._3dRatio>0){var g=!i.getPattern&&!i.getAlphas;this._mainFace.setFill(i),this._mainFace.setStyle(c.getStyle(this._chart,this._seriesIndex,0)),this._mainFace.setClassName(c.getClassName(this._chart,this._seriesIndex,0)),this._threeDPathSide.setFill(g?new t.SolidFill(t.ColorUtils.getDarker(i.getColor(),.3)):i),this._threeDPathSide.setStyle(c.getStyle(this._chart,this._seriesIndex,0)),this._threeDPathSide.setClassName(c.getClassName(this._chart,this._seriesIndex,0)),this.setFill(g?new t.SolidFill(t.ColorUtils.getDarker(i.getColor(),.3)):i),this.setStyle(c.getStyle(this._chart,this._seriesIndex,0)),this.setClassName(c.getClassName(this._chart,this._seriesIndex,0))}else this.setFill(i),this.setStyle(c.getStyle(this._chart,this._seriesIndex,0)),this.setClassName(c.getClassName(this._chart,this._seriesIndex,0));if(this.OriginalStroke=this.getStroke(),this._chart.isSelectionSupported())if(this.setCursor(t.SelectionEffectUtils.getSelectingCursor()),this._3dRatio>0)if(this._mainFace.setCursor(t.SelectionEffectUtils.getSelectingCursor()),this._threeDPathSide.setCursor(t.SelectionEffectUtils.getSelectingCursor()),l){this._mainFace.setFeedbackClassName("oj-dvt-selectable"),this._threeDPathSide.setFeedbackClassName("oj-dvt-selectable");var d=null==r||o?this._dataColor:r,u=null!==s?s:0;this._mainFace.setSolidStroke(d,null,u),this._threeDPathSide.setSolidStroke(d,null,u),r&&(o&&(this._mainFace.addClassName("oj-dvt-default-border-color"),this._threeDPathSide.addClassName("oj-dvt-default-border-color")),null==s&&(this._mainFace.addClassName("oj-dvt-default-border-width"),this._threeDPathSide.addClassName("oj-dvt-default-border-width")))}else{var _=c.getSelectedInnerColor(this._chart),p=c.getSelectedOuterColor(this._chart)?c.getSelectedOuterColor(this._chart):this._dataColor;this._mainFace.setHoverStroke(new t.Stroke(h,1,2)),this._threeDPathSide.setHoverStroke(new t.Stroke(h,1,2)),this._mainFace.setSelectedStroke(new t.Stroke(_,1,1.5),new t.Stroke(p,1,4.5)),this._mainFace.setSelectedHoverStroke(new t.Stroke(_,1,1.5),new t.Stroke(h,1,4.5))}else if(this.setCursor(t.SelectionEffectUtils.getSelectingCursor()),l){this.setFeedbackClassName("oj-dvt-selectable");d=null==r||o?this._dataColor:r,u=null!==s?s:0;this.setSolidStroke(d,null,u),r&&(o&&this.addClassName("oj-dvt-default-border-color"),null==s&&this.addClassName("oj-dvt-default-border-width"))}else{_=c.getSelectedInnerColor(this._chart),p=c.getSelectedOuterColor(this._chart)?c.getSelectedOuterColor(this._chart):this._dataColor;this.setHoverStroke(new t.Stroke(h,1,2)),this.setSelectedStroke(new t.Stroke(_,1,1.5),new t.Stroke(p,1,4.5)),this.setSelectedHoverStroke(new t.Stroke(_,1,1.5),new t.Stroke(h,1,4.5))}}getAnimParams(){return[this._startPercent,this._valuePercent,this.getAlpha(),this._3dRatio]}setAnimParams(e){this._startPercent=e[0],this._valuePercent=e[1],this.setAlpha(e[2]),this._3dRatio=e[3];var t=this._getPath();this._threeDPathSide&&this._mainFace?(this.setCmds(t.threeDPathTop),this._threeDPathSide.setCmds(t.threeDPathSide),this._mainFace.setCmds(t.slice)):this.setCmds(t.slice),this._label&&this._label.setMatrix(this._getLabelPos(t.sliceBounds))}setSelected(e){if(this._3dRatio>0)if(this._mainFace.setSelected(e),"redwood"===this.getCtx().getThemeBehavior()&&this._threeDPathSide.setSelected(e),e){var t=this.getDimensions(),i=t.w,r=t.h,s=(i-3)/i,a=(r-5)/r;this._mainFace.setScaleX(s),this._mainFace.setScaleY(a),this._mainFace.setTranslateX(Math.ceil(1.5)+3/i*t.x),this._mainFace.setTranslateY(Math.ceil(2.5)+5/r*t.y)}else this._mainFace.setScaleX(1),this._mainFace.setScaleY(1),this._mainFace.setTranslateX(0),this._mainFace.setTranslateY(0);else super.setSelected(e)}showHoverEffect(){"redwood"===this.getCtx().getThemeBehavior()&&0!==this._3dRatio||super.showHoverEffect(),this._3dRatio>0&&(this._threeDPathSide.showHoverEffect(),this._mainFace.showHoverEffect())}hideHoverEffect(){"redwood"===this.getCtx().getThemeBehavior()&&0!==this._3dRatio||super.hideHoverEffect(),this._3dRatio>0&&(this._threeDPathSide.hideHoverEffect(),this._mainFace.hideHoverEffect())}copyShape(){return new G(this._chart,this._seriesIndex,this._numDrawnSeries,this._pyramidWidth,this._pyramidHeight,this._startPercent,this._valuePercent,this._gap)}getPrimaryFill(){return this._mainFace?this._mainFace.getFill():this.getFill()}}const H={_DEFAULT_GAP_RATIO:1/70,_MAX_HEIGHT_FOR_GAPS:.25,_GROUP_IDX:0,render:(e,i,r)=>{var s=new t.Container(e.getCtx());s.setTranslate(r.x,r.y),i.addChild(s),e.setPlotArea(s);var a=new t.Rectangle(0,0,r.w,r.h);F.addPlotAreaDnDBackground(e,s,r,!0),H._renderPyramidSlices(e,s,a)||L(e,i,r);var n=d.getInitialSelection(e);F.setInitialSelection(e,n),e.highlight(d.getHighlightedCategories(e))},_renderPyramidSlices:(e,t,i)=>{for(var r=d.getSeriesCount(e),s=c.getDataItemGaps(e),a=H._DEFAULT_GAP_RATIO*i.h,n=s*Math.min(H._MAX_HEIGHT_FOR_GAPS*i.h/(r-1),a),o=0,l=0,h=0,g=0;g<r;g++)if(d.isDataItemRendered(e,g)){var u=d.getVal(e,g,H._GROUP_IDX);u<=0||(o+=u)}if(0==o)return!1;for(var _=0;_<r;_++)if(d.isDataItemRendered(e,_)){var p=d.getVal(e,_,H._GROUP_IDX);if(!(p<=0)){var v=new G(e,_,l,i.w,i.h,h,p/o,n);h+=p/o,l++,t.addChild(v),f.associate(v,e,_,H._GROUP_IDX)}}return!0}};class U extends t.Path{setWedgeParams(e,t,i,r,s,a,n,o){this._cx=e,this._cy=t,this._rx=i,this._ry=r,this._sa=s,this._ae=a,this._gap=n,this._ir=o;var l=this._makeWedgePath(0);this.setCmds(l)}_makeWedgePath(e){var i,r=Math.max(this._rx-e,0),s=Math.max(this._ry-e,0),a=360==this._ae||r<e?0:this._gap+2*e,n=this._ir?this._ir+e:0,o=360==this._ae?t.Math.degreesToRads(359.99):t.Math.degreesToRads(this._ae),l=t.Math.degreesToRads(this._sa),h=a/2,g=h<r?Math.asin(h/r):0,d=-o/2-l,u=Math.min(5*h,o>0?Math.abs(h/Math.sin(o/2)):0),_=0==r?u:u*s/r,c=this._cx+Math.cos(d)*u,p=this._cy+Math.sin(d)*_,v=this._cx+Math.cos(-g-l)*r,m=this._cy+Math.sin(-g-l)*s,f=this._cx+Math.cos(-l-o+g)*r,x=this._cy+Math.sin(-l-o+g)*s,C=t.Math.calculateAngleBetweenTwoVectors(f-this._cx,x-this._cy,v-this._cx,m-this._cy);if(C=Math.min(C,o),n>0){var S=h<n?Math.asin(h/n):0,A=this._cx+Math.cos(-S-l)*n,b=this._cy+Math.sin(-S-l)*n,y=this._cx+Math.cos(-l-o+S)*n,M=this._cy+Math.sin(-l-o+S)*n,T=t.Math.calculateAngleBetweenTwoVectors(y-this._cx,M-this._cy,A-this._cx,b-this._cy);T=Math.min(T,C,o),360==this._ae?(i=t.PathUtils.moveTo(f,x),i+=t.PathUtils.arcTo(r,s,o,1,v,m),i+=t.PathUtils.lineTo(f,x),i+=t.PathUtils.moveTo(A,b),i+=t.PathUtils.arcTo(n,n,o,0,y,M)):(i=t.PathUtils.moveTo(y,M),i+=t.PathUtils.lineTo(f,x),i+=t.PathUtils.arcTo(r,s,C,1,v,m),i+=t.PathUtils.lineTo(A,b),i+=t.PathUtils.arcTo(n,n,T,0,y,M))}else 360==this._ae?(i=t.PathUtils.moveTo(f,x),i+=t.PathUtils.arcTo(r,s,o,1,v,m)):(i=t.PathUtils.moveTo(c,p),i+=t.PathUtils.lineTo(f,x),i+=t.PathUtils.arcTo(r,s,C,1,v,m));return i+=t.PathUtils.closePath()}_initializeSelectionEffects(){var e="redwood"===this.getCtx().getThemeBehavior(),i=this.isSelected()||e?U._OUTER_BORDER_WIDTH:U._OUTER_BORDER_WIDTH_HOVER,r=this._makeWedgePath(i),s=this._makeWedgePath(i+U._INNER_BORDER_WIDTH);if(this.OuterChild)return this.OuterChild.setCmds(r),void this.InnerChild.setCmds(s);this.OuterChild=new t.Path(this.getCtx(),r),this.OuterChild.setInvisibleFill(),this.OuterChild.setMouseEnabled(!0),this.addChild(this.OuterChild),this.InnerChild=new t.Path(this.getCtx(),s),this.InnerChild.setInvisibleFill(),this.InnerChild.setMouseEnabled(!0),this.addChild(this.InnerChild)}_showNestedBorders(e,t){this._initializeSelectionEffects(),t?(this.setSolidFill(e),this.setStroke(null),this.setClassName().setStyle(),this.OuterChild.setSolidFill(t),this.OuterChild.setClassName().setStyle(),this.InnerChild.setFill(this._fill),this.InnerChild.setClassName(this._shapeClassName).setStyle(this._shapeStyle)):e?(this.setSolidFill(e),this.setStroke(null),this.setClassName().setStyle(),this.OuterChild.setFill(this._fill),this.OuterChild.setClassName(this._shapeClassName).setStyle(this._shapeStyle),this.InnerChild.setInvisibleFill(),this.InnerChild.setClassName().setStyle()):(this.setFill(this._fill),this.setStroke(this._shapeStroke),this.setClassName(this._shapeClassName).setStyle(this._shapeStyle),this.OuterChild.setInvisibleFill(),this.OuterChild.setClassName().setStyle(),this.InnerChild.setInvisibleFill(),this.InnerChild.setClassName().setStyle())}setStyleProperties(e,i,r,s,a,n,o){this._fill=e,this._shapeStroke=i;var l="redwood"===this.getCtx().getThemeBehavior();this._hoverColor=l?r:t.SelectionEffectUtils.getHoverBorderColor(r),this._innerColor=s,this._outerColor=a,this._shapeClassName=n,this._shapeStyle=o,this.setStyle(o).setClassName(n),this.setFill(e),i&&this.setStroke(i)}showHoverEffect(){this.IsShowingHoverEffect=!0;var e="redwood"===this.getCtx().getThemeBehavior()&&this.isSelected()?this._outerColor:this._hoverColor;this._showNestedBorders(e,this._innerColor)}hideHoverEffect(){this.IsShowingHoverEffect=!1,this.isSelected()?this._showNestedBorders(this._outerColor,this._innerColor):this._showNestedBorders()}setSelected(e){if(this.IsSelected!=e){this.IsSelected=e;var t="redwood"===this.getCtx().getThemeBehavior();if(this.isHoverEffectShown()){var i=t&&this.isSelected()?this._outerColor:this._hoverColor;this._showNestedBorders(i,this._innerColor)}else this.isSelected()?this._showNestedBorders(this._outerColor,this._innerColor):this._showNestedBorders()}}UpdateSelectionEffect(){}}U._OUTER_BORDER_WIDTH=2,U._OUTER_BORDER_WIDTH_HOVER=1.25,U._INNER_BORDER_WIDTH=1;class V{constructor(){this._sliceLabel=null,this._slice=null,this._angle=-1,this._position=-1,this._width=-1,this._height=-1,this._x=-1,this._y=-1,this._initialNumLines=-1,this._hasFeeler=!1,this._maxY=-1,this._minY=-1}getAngle(){return this._angle}setAngle(e){this._angle=e}getHeight(){return this._height}setHeight(e){this._height=e}getInitialNumLines(){return this._initialNumLines}setInitialNumLines(e){this._initialNumLines=e}getMaxY(){return this._maxY}setMaxY(e){this._maxY=e}getMinY(){return this._minY}setMinY(e){this._minY=e}boundY(e){return this._minY<=this._maxY&&(e=Math.max(e,this._minY),e=Math.min(e,this._maxY)),e}hasFeeler(){return this._hasFeeler}setHasFeeler(e){this._hasFeeler=e}getPosition(){return this._position}setPosition(e){this._position=e}getSlice(){return this._slice}setSlice(e){this._slice=e}getSliceLabel(){return this._sliceLabel}setSliceLabel(e){this._sliceLabel=e}getWidth(){return this._width}setWidth(e){this._width=e}getX(){return this._x}setX(e){this._x=e}getY(){return this._y}setY(e){this._y=e}}const Y={SURFACE_CRUST:0,SURFACE_LEFT:1,SURFACE_RIGHT:2,reflectAngleOverYAxis:(e,i,r,s,a)=>{var n=t.Math.degreesToRads(360-e);return{x:i+Math.cos(n)*s,y:r+Math.sin(n)*a}},getGradientColors:(e,i)=>"2D"==i||"3D"==i?[t.ColorUtils.adjustHSL(e,0,-.04,-.05),t.ColorUtils.adjustHSL(e,0,-.09,.04)]:"CRUST"==i?[t.ColorUtils.adjustHSL(e,0,-.04,-.05),t.ColorUtils.adjustHSL(e,0,0,-.14)]:"SIDE"==i?[t.ColorUtils.adjustHSL(e,0,-.1,.06),t.ColorUtils.adjustHSL(e,0,-.04,-.05)]:void 0,getGradientAlphas:(e,t)=>{var i=null==e||isNaN(e)||0==e?1:e;return"2D"==t?[i,i,i]:"BORDER"==t?[i/1.59375,i/5.3125,i/(255/96)]:"3D"==t?[i,i,i,i,i]:"CRUST"==t?[i,i,i,i]:"SIDE"==t?[i,i]:void 0},createTopSurface:(e,i)=>{var r=e.getPieChart(),s=r.getCtx(),a=e.getCenter(),n=e.getInnerRadius(),o=r.is3D()||e.getSliceGaps()>Math.sin(t.Math.degreesToRads(e.getAngleExtent()))*e._radiusX+1?null:e.getSliceGaps(),l=new U(s);l.setWedgeParams(a.x,a.y,e._radiusX,e._radiusY,e.getAngleStart(),e.getAngleExtent(),o,n);var h=c.getSelectedInnerColor(r.chart),g=c.getSelectedOuterColor(r.chart),d=new t.Stroke(e.getStrokeColor(),1,e.getBorderWidth()),u=e.getSeriesIndex(),_=c.getClassName(r.chart,u,0),p=c.getStyle(r.chart,u,0);l.setStyleProperties(i,d,e.getFillColor(),h,g,_,p);var v=[l];return Y.associate(e,v),v},associate:(e,t)=>{if(t)for(var i=0;i<t.length;i++)e.getPieChart().chart.getEventManager().associate(t[i],e)},createLateralSurface:(e,i,r)=>{if(0==e.getAngleExtent())return[];var s=[];if(t.ColorUtils.getAlpha(e.getFillColor())>0)if(i==Y.SURFACE_LEFT||i==Y.SURFACE_RIGHT)s.push(Y._generateLateralShape(e,i,null,r));else if(i==Y.SURFACE_CRUST)for(var a=Y._createCrustPathCommands(e),n=a.length,o=0;o<n;o++)s.push(Y._generateLateralShape(e,i,a[o],r));return Y.associate(e,s),s},generateLateralGradientFill:(e,i)=>{var r=Y.getGradientColors(t.ColorUtils.getRGB(e.getFillColor()),i),s=Y.getGradientAlphas(t.ColorUtils.getAlpha(e.getFillColor()),i);return new t.LinearGradientFill(270,r,s,[0,1],null)},_generateLateralShape:(e,i,r,s)=>{var a=e.getPieChart().getCtx();if(i==Y.SURFACE_LEFT||i==Y.SURFACE_RIGHT){for(var n=e.getAngleStart(),o=e.getAngleExtent(),l=e.getCenter().x,h=e.getCenter().y,g=e._radiusX,d=e._radiusY,u=e.getDepth(),_=i==Y.SURFACE_LEFT?Y.reflectAngleOverYAxis(n+o,l,h,g,d):Y.reflectAngleOverYAxis(n,l,h,g,d),c=Y._generateInnerPoints(l,h,_.x,_.y,u),p=[],v=0;v<c.length;v++)p.push(c[v].x,c[v].y);var m=new t.Polygon(a,p);return m.setFill(s),e.getStrokeColor()&&m.setSolidStroke(e.getStrokeColor()),m}if(r){var f=new t.Path(a,null);return f.setCmds(r),f.setTranslate(e.__getExplodeOffsetX(),e.__getExplodeOffsetY()),f.setFill(s),e.getStrokeColor()&&f.setSolidStroke(e.getStrokeColor()),f}return null},_createCrustPathCommands:e=>{var t=e.getAngleStart(),i=e.getAngleExtent(),r=t+i,s=e.getCenter().x,a=e.getCenter().y,n=e._radiusX,o=e._radiusY,l=e.getDepth(),h=[];return t<180&&r>360?(h.push(Y._makeOuterPath(s,a,n,o,l,t,180-t)),h.push(Y._makeOuterPath(s,a,n,o,l,360,r-360)),h.push(Y._makeOuterPath(s,a,n,o,l,180,180))):r>360?(h.push(Y._makeOuterPath(s,a,n,o,l,t,360-t)),h.push(Y._makeOuterPath(s,a,n,o,l,360,r-360))):t<180&&r>180?(h.push(Y._makeOuterPath(s,a,n,o,l,t,180-t)),h.push(Y._makeOuterPath(s,a,n,o,l,180,r-180))):h.push(Y._makeOuterPath(s,a,n,o,l,t,i)),h},_makeOuterPath:(e,i,r,s,a,n,o)=>{var l=t.Math.degreesToRads(o),h=-(t.Math.degreesToRads(n)+l),g=Y.reflectAngleOverYAxis(n,e,i,r,s),d=e+Math.cos(h)*r,u=i+Math.sin(h)*s,_=t.PathUtils.moveTo(g.x,g.y);return _+=t.PathUtils.arcTo(r,s,l,0,d,u),_+=t.PathUtils.lineTo(d,u+a),_+=t.PathUtils.arcTo(r,s,l,1,g.x,g.y+a),_+=t.PathUtils.lineTo(g.x,g.y)},_generateInnerPoints:(e,t,i,r,s)=>{var a=[];return a.push({x:e,y:t}),a.push({x:i,y:r}),a.push({x:i,y:r+s}),a.push({x:e,y:t+s}),a}},W={_MAX_LINES_PER_LABEL:3,_COLLISION_MARGIN:1,_LEFT_SIDE_LABELS:1,_RIGHT_SIDE_LABELS:2,_OUTSIDE_LABEL_DISTANCE:1.04,_FEELER_RAD_MINSIZE:.1,_FEELER_HORIZ_MINSIZE:.1,_LABEL_TO_FEELER_OFFSET:.5,_LABEL_TO_FEELER_DISTANCE:3,_NO_COLLISION:0,_HALF_COLLISION:1,_ALL_COLLISION:2,layoutLabelsAndFeelers:e=>{var t=e.getLabelPos();W._layoutInsideLabels(e,"auto"==t),W._layoutOutsideLabelsAndFeelers(e)},_layoutInsideLabels:(e,i)=>{for(var r=e.__getSlices(),s=0;s<r.length;s++){var a=r[s],n=e.getSeriesLabelPos(a.getSeriesIndex());if("none"!=n&&"outsideSlice"!=n&&!W._skipSliceLabel(e,a)){var o=a.getAngleStart()+a.getAngleExtent()/2,l=a.getInnerRadius(),h=a.getCenter(),g=0,d=0,u=W._createLabel(a,!0);if(1==r.length)g=h.x,d=h.y;else{var _=Math.max(.45,.65-.45*l/Math.max(a.getRadiusY(),.001)),c=Y.reflectAngleOverYAxis(o,h.x,h.y,l+(a.getRadiusX()-l)*_,l+(a.getRadiusY()-l)*_);g=c.x,d=c.y}u.setX(g),u.setY(d),u.alignMiddle(),u.alignCenter();for(var p=u.getDimensions(),v=g,m=g,f=d-p.h/2,x=d+p.h/2;a.contains(v,f)&&a.contains(v,x);)v--;for(;a.contains(m,f)&&a.contains(m,x);)m++;v=Math.ceil(v+3),m=Math.floor(m-3);var C=2*Math.min(g-v,m-g);if(C<p.w&&(u.setX((v+m)/2),C=m-v),i&&"center"!=n){u.getDimensions().w<C?a.setSliceLabel(u):a.setSliceLabel(null)}else{var S=e.getCtx().getStage(),A=W._isTextLabel(e,a)?null:u.getTextString().length;t.TextUtils.fitText(u,C,p.h,S,A)&&(S.removeChild(u),a.setSliceLabel(u))}null!=a.getSliceLabel()&&a.setNoOutsideFeeler()}}},_layoutOutsideLabelsAndFeelers:e=>{var t,i,r=W._generateInitialLayout(e);t=r[0],i=r[1];var s=W._refineInitialLayout(e,t,W._LEFT_SIDE_LABELS),a=W._refineInitialLayout(e,i,W._RIGHT_SIDE_LABELS);s==W._HALF_COLLISION&&a!=W._NO_COLLISION&&W._columnLabels(e,t,!0,!0,!0),s!=W._NO_COLLISION&&a==W._HALF_COLLISION&&W._columnLabels(e,i,!1,!0,!0),W._setLabelsAndFeelers(e,t,W._LEFT_SIDE_LABELS),W._setLabelsAndFeelers(e,i,W._RIGHT_SIDE_LABELS)},_createLabel:(e,i)=>{var r,s=t.Agent.isHighContrast(),a=e.getPieChart(),n=a.getCtx(),o=e.getId().series===_.OTHER_ID,l=null!=c.getPattern(a.chart,e.getSeriesIndex(),0)||o&&"pattern"==c.getSeriesEffect(a),h=i&&l;r=h?new t.BackgroundOutputText(n):i?new t.OutputText(n):new t.MultilineText(n);var g=h?t.ColorUtils.getContrastingTextColor(c.SERIES_PATTERN_BG_COLOR):i?t.ColorUtils.getContrastingTextColor(e.getFillColor()):t.ColorUtils.getContrastingTextColor(t.ColorUtils.getColorFromName("black")),u=new t.CSSStyle({color:g}),p=a.getOptions().styleDefaults,v=[p._dataLabelStyle];i&&v.push(u),v.push(p.dataLabelStyle);var m=d.getDataItem(a.chart,e.getSeriesIndex(),0);if(m&&v.push(new t.CSSStyle(m.labelStyle)),s&&v.push(u),h){var f=new t.CSSStyle({"background-color":"rgba(255, 255, 255, 0.9)","border-radius":"2px"});v.push(f)}var x=t.CSSStyle.mergeStyles(v);r.setCSSStyle(x);var C=W.generateSliceLabelString(e,p.sliceLabelType);return r.setTextString(C),e.setSliceLabelString(C),r},createPieCenter:e=>{var i=e.getOptions(),r=e.getCtx(),s=W.getPieCenterOptions(e,i),a=s.label,n=s.renderer,o=e.getLabelPos(),l=i.tooltip,h=l?l.renderer:null,d=e.getCenter(),u=e.getInnerRadius();if(a||n){var _=e.getRadiusX(),c=(u=u>0?u:"outsideSlice"==o?.9*_:.5*_)*Math.sqrt(2);if(a){var p=new t.MultilineText(r),v=s.labelStyle;if(p.setCSSStyle(v),"number"==typeof a&&(a=g.formatVal(e,s,a,a,a,0)),p.setTextString(a),t.TextUtils.fitText(p,c,c,e)){var m=p.getDimensions();p.setY(d.y-m.h/2),p.setX(d.x),p.alignCenter(),h||e.chart.getEventManager().associate(p,new t.SimpleObjPeer(p.getTextString(),null,null,{type:"pieCenterLabel"})),e.addChild(p),e.setCenterLabel(p)}}if(h){var f=new t.Circle(r,d.x,d.y,u);f.setInvisibleFill(),e.addChild(f);var x=e.getCtx().getTooltipManager();e.chart.getEventManager().associate(f,new t.CustomDatatipPeer(x,h,"#4b4b4b",{component:i._widgetConstructor,label:a}))}if(n){var C={outerBounds:{x:d.x-u,y:d.y-u,width:2*u,height:2*u},innerBounds:{x:d.x-c/2,y:d.y-c/2,width:c,height:c},label:a,totalValue:e.getTotalValue(),component:i._widgetConstructor};C=r.fixRendererContext(C);var S=r.getContainer(),A=e.chart.pieCenterDiv;A&&S.removeChild(A);var b=n(C);if(!b)return;var y=r.createOverlayDiv();Array.isArray(b)?b.forEach(e=>{y.appendChild(e)}):"string"==typeof b?(y.textContent=b,y.style.position="absolute",y.style.left=`${d.x}px`,y.style.top=`${d.y}px`,y.style.transform="translate(-50%, -50%)",y.style.width=2*u+"px",y.style.height=2*u+"px",y.style.display="flex",y.style.textAlign="center",y.style.alignItems="center"):y.appendChild(b),e.chart.pieCenterDiv=y,S.appendChild(y);var M=r.getOverlayAttachedCallback();M&&M(y)}}},generateSliceLabelString:(e,t)=>{var i,r=W.getDefaultSliceLabelString(e,t),s=e.getPieChart().getOptions().dataLabel;if(s){var a=c.getDataContext(e._chart,e.getSeriesIndex(),0);if(a.label=r,"number"==typeof(i=s(a))){var n=g.getValueFormat(e.getPieChart().chart,"label");i=g.formatVal(e.getPieChart(),n,i)}}return i||r},getDefaultSliceLabelString:(e,t)=>{var i=e.getPieChart(),r=e.getCustomLabel(),s=g.getValueFormat(i.chart,"label");return null!=r?"number"==typeof r?g.formatVal(i,s,r):r:"percent"==t?W.generateSlicePercentageString(e):"number"==t?g.formatVal(i,s,e.getVal()):"text"==t?e.getSeriesLabel():"textAndPercent"==t?e.getSeriesLabel()+", "+W.generateSlicePercentageString(e):null},generateSlicePercentageString:e=>{var t=e.getPieChart(),i=t.getTotalValue(),r=0==i?0:e.getVal()/i,s=r<.01?3:r<.1?2:r<1?1:0;2*t.getRadiusX()<150&&(s=Math.max(s-1,0));var a,n=t.getOptions().valueFormats;n&&n.label&&n.label.converter&&(a=n.label.converter);var o=t.getCtx().getNumberConverter({style:"percent",maximumFractionDigits:s,minimumFractionDigits:s}),l="";return a&&a.format?l=a.format(r):o&&o.format?l=o.format(r):(r*=100,l=g.formatVal(t,{},r,null,null,100==r?1:Math.pow(10,-1*s))+"%"),l},_refineInitialLayout:(e,t,i)=>{if(t&&t.length>0){for(var r,s,a=e.__getFrame().y,n=!1,o=!1,l=!1,h=0,g=!1,d=i==W._LEFT_SIDE_LABELS,u=0;u<t.length;u++)s=g,(r=t[u]).getPosition()>90&&(g=!0),h=r.getY()+r.getHeight(),a-r.getY()>W._COLLISION_MARGIN&&(g?s?l=!0:o=!0:n=!0),h>a&&(a=h);return n&&l||o?(W._columnLabels(e,t,d,!0,!0),W._ALL_COLLISION):n?(W._columnLabels(e,t,d,!0,!1),W._HALF_COLLISION):l?(W._columnLabels(e,t,d,!1,!0),W._HALF_COLLISION):W._NO_COLLISION}},_setLabelsAndFeelers:(e,i,r)=>{if(!(null==i||i.length<=0)){var s,a,n,o,l,h=r==W._LEFT_SIDE_LABELS,g=e.__getFrame(),d=1/0;for(s=0;s<i.length;s++)if(a=(o=i[s]).getSlice(),o.hasFeeler()){l=W._calculateFeeler(o,a,h);var u=t.TextUtils.getTextStringHeight(e.getCtx(),o.getSliceLabel().getCSSStyle()),_=o.getWidth(),c=W._isTextLabel(e,a)?Math.min(2*u,_):_;if(W.getMaxLabelWidth(e,o.getX(),h)+l<c||0==o.getWidth()){o.setSliceLabel(null),a.setNoOutsideFeeler();continue}d=Math.min(d,l)}else a.setNoOutsideFeeler();for(s=0;s<i.length;s++)a=(o=i[s]).getSlice(),(n=o.getSliceLabel())&&(o.hasFeeler()&&(h?o.setX(o.getX()+d):o.setX(o.getX()-d),W._calculateFeeler(o,a,h)),n.setY(o.getY()),n.setX(o.getX()),o.getY()<g.y||o.getY()+o.getHeight()>g.y+g.h?(a.setSliceLabel(null),a.setNoOutsideFeeler()):(W._truncateSliceLabel(e,a,o,h),0==o.getWidth()||0==o.getHeight()?(a.setSliceLabel(null),a.setNoOutsideFeeler()):a.setSliceLabel(n)))}},_calculateFeeler:(e,i,r)=>{var s=e.getX(),a=e.getY()+e.getHeight()*W._LABEL_TO_FEELER_OFFSET,n=W._FEELER_HORIZ_MINSIZE*i.getRadiusX(),o={x:r?(s+=W._LABEL_TO_FEELER_DISTANCE)+n:(s-=W._LABEL_TO_FEELER_DISTANCE)-n,y:a},l={x:s,y:a},h=e.getAngle(),g=W._adjustForDepth(h,i.getDepth()),d=Y.reflectAngleOverYAxis(h,i.getCenter().x,i.getCenter().y+g,i.getRadiusX(),i.getRadiusY()),u=t.Math.degreesToRads(e.getPosition()),_=Math.abs(Math.atan2(o.x-d.x,d.y-o.y)),c=(d.y-o.y)*Math.tan(u);return(u>Math.PI/2&&_>Math.PI/2&&_<u||u<Math.PI/2&&_<Math.PI/2&&_>u)&&(o.x=r?d.x-c:d.x+c),i.setOutsideFeelerPoints(d,o,l),Math.abs(l.x-o.x)-n},_adjustForDepth:(e,t)=>{var i=0;return e>189&&e<351&&(i=t),i},_getMiddleLabel:e=>{for(var t=91,i=-1,r=0;r<e.length;r++){var s=e[r].getPosition();Math.abs(s-90)<t&&(t=Math.abs(s-90),i=r)}return i},_setOptimalLabelPos:(e,i,r,s)=>{i.setX(r);var a=e.getRadiusY()*(1+W._FEELER_RAD_MINSIZE),n=t.Math.degreesToRads(i.getPosition()),o=a*Math.cos(n),l=W._adjustForDepth(i.getAngle(),e.getDepth()),h=e.getCenter().y-o-i.getHeight()*W._LABEL_TO_FEELER_OFFSET+l;i.setY(i.boundY(h))},_getRadFeelerAngle:(e,t,i)=>{var r=e.getSlice(),s=r.getCenter(),a=e.getAngle(),n=W._adjustForDepth(a,r.getDepth()),o=Y.reflectAngleOverYAxis(a,s.x,s.y+n,r.getRadiusX(),r.getRadiusY());return Math.atan2(Math.abs(t-o.x),o.y-i)},_columnLabels:(e,i,r,s,a)=>{var n,o,l,h=e.__getFrame(),g=h.y,d=h.y+h.h,u=0,_=e.getCenter().x,c=e.getRadiusX()*(1+W._FEELER_RAD_MINSIZE+W._FEELER_HORIZ_MINSIZE);for(l=r?(_-=c)+e.getRadiusX()*W._FEELER_HORIZ_MINSIZE:(_+=c)-e.getRadiusX()*W._FEELER_HORIZ_MINSIZE,n=0;n<i.length;n++)o=i[n],u=t.Math.degreesToRads(o.getPosition()),W._getRadFeelerAngle(o,l,g)-u>.45*Math.PI||W._skipSliceLabel(e,o.getSlice())?(i.splice(n,1),n--):(i[n].setMinY(g),g+=i[n].getHeight());for(n=i.length-1;n>=0;n--)o=i[n],(u=t.Math.degreesToRads(o.getPosition()))-W._getRadFeelerAngle(o,l,d)>.45*Math.PI||W._skipSliceLabel(e,o.getSlice())?i.splice(n,1):(d-=i[n].getHeight(),i[n].setMaxY(d));if(0!=i.length){var p=W._getMiddleLabel(i),v=i[p];s&&!a&&v.getMinY()+v.getHeight()>e.getCenter().y&&(a=!0),a&&!s&&v.getMaxY()<e.getCenter().y&&(s=!0);var m=v.getPosition();(a&&s||m>90&&a||m<=90&&s)&&(W._setOptimalLabelPos(e,v,_,r),v.setHasFeeler(!0));var f,x,C=v.getY(),S=v.getY()+v.getHeight();if(s)for(n=p-1;n>=0;n--)x=(o=i[n]).getHeight(),W._setOptimalLabelPos(e,o,_,r),o.setHasFeeler(!0),(f=o.getY())+x<C?C=f:C-=x,o.setY(C);if(a)for(n=p+1;n<i.length;n++)x=(o=i[n]).getHeight(),W._setOptimalLabelPos(e,o,_,r),o.setHasFeeler(!0),(f=o.getY())>S?S=f+x:S+=x,o.setY(S-x)}},_truncateSliceLabel:(e,t,i,r)=>{var s,a,n=i.getSliceLabel(),o=n.getCSSStyle(),l=e.getNumChildren(),h=!1;e.contains(n)||(e.addChild(n),h=!0),n.setCSSStyle(o);var g=t.getSliceLabelString();return n.setTextString(g),h&&e.removeChildAt(l),s=W.getMaxLabelWidth(e,i.getX(),r),a=W._getTextDim(e,t,n,s,i.getInitialNumLines()),i.setWidth(a.x),i.getHeight()!=a.y&&(i.setHeight(a.y),!0)},_generateInitialLayout:e=>{for(var t=[],i=[],r=[],s=e.__getSlices(),a=e.__getFrame(),n=0;n<s.length;n++){var o=s[n],l=e.getSeriesLabelPos(o.getSeriesIndex());if(null==o.getSliceLabel()&&"none"!=l&&"center"!=l&&!W._skipSliceLabel(e,o)){var h=W._createLabel(o,!1),g=o.getAngleStart()+o.getAngleExtent()/2;g>360&&(g-=360),g<0&&(g+=360);var d=Y.reflectAngleOverYAxis(g,e.getCenter().x,e.getCenter().y,e.getRadiusX()*W._OUTSIDE_LABEL_DISTANCE,e.getRadiusY()*W._OUTSIDE_LABEL_DISTANCE),u=g>=90&&g<270,_=W.getMaxLabelWidth(e,d.x,u),c=W._getTextDim(e,o,h,_,W._MAX_LINES_PER_LABEL),p=15;g<165&&g>p?d.y-=1*c.y:g<p||g>345?(d.y-=.5*c.y,d.x+=.2*c.y):g>165&&g<195&&(d.y-=.5*c.y,d.x-=.2*c.y);var v,m=W._adjustForDepth(g,e.getDepth());if(d.y+=m,1==s.length&&(d.x-=c.x/2),!(d.y<a.y||d.y+c.y>a.y+a.h))g>=90&&g<270?(h.alignRight(),v=g-90,W._createLabelInfo(o,h,g,v,c,d,i)):(v=g<=90?Math.abs(90-g):180-(g-270),W._createLabelInfo(o,h,g,v,c,d,r))}}return t[0]=i,t[1]=r,t},_createLabelInfo:(e,t,i,r,s,a,n)=>{for(var o,l=-1,h=t,g=0;g<n.length;g++)if((o=n[g]).getPosition()>r){l=g;break}-1==l&&(l=n.length),(o=new V).setPosition(r),o.setAngle(i),o.setSliceLabel(h),o.setSlice(e),o.setWidth(s.x),o.setHeight(s.y),o.setX(a.x),o.setY(a.y),o.setInitialNumLines(h.getLineCount()),n.splice(l,0,o)},_getTextDim:(e,i,r,s,a)=>{r.setMaxLines(a);var n=W._isTextLabel(e,i)?null:r.getTextString().length;if(t.TextUtils.fitText(r,s,1/0,e,n)){e.addChild(r);var o=r.getDimensions();return e.removeChild(r),{x:o.w,y:o.h}}return{x:0,y:0}},_isTextLabel:(e,t)=>{var i=t.getCustomLabel(),r=null!=e.getOptions().dataLabel;return-1!=e.getOptions().styleDefaults.sliceLabelType.indexOf("text")||null!=i&&"number"!=typeof i||r},getMaxLabelWidth:(e,t,i)=>{var r=e.__getFrame();return i?t-r.x:r.x+r.w-t},getPieCenterOptions:(e,i)=>{var r=t.JsonUtils.clone(i.pieCenter,null,e.chart.Defaults.getNoCloneObject().pieCenter),s=i.pieCenterLabel;if(s){var a=s.style,n=s.text;n&&(r.label=n),a&&(r.labelStyle=new t.CSSStyle(a))}return r},_skipSliceLabel:(e,t)=>t.getAngleExtent()<3&&d.getSeriesCount(e.chart)>120};class j{constructor(e,t){this._pieChart=e,this._chart=e.chart,this._angleStart=0,this._angleExtent=0,this._topSurface=null,this._leftSurface=null,this._rightSurface=null,this._crustSurface=null,this._explodeOffsetX=0,this._explodeOffsetY=0,this._sliceLabel=null,this._sliceLabelString=null,this._hasFeeler=!1,this._feelerRad=null,this._feelerHoriz=null,this._outsideFeelerStart=null,this._outsideFeelerMid=null,this._outsideFeelerEnd=null,this._selected=!1,this._selecting=!1,this._centerX=this._pieChart.getCenter().x,this._centerY=this._pieChart.getCenter().y,this._radiusX=this._pieChart.getRadiusX(),this._radiusY=this._pieChart.getRadiusY(),this._depth=this._pieChart.getDepth();var i=this._chart.getOptions();if(null!=t){var r=d.getDataItem(this._chart,t,0);this._value=d.getVal(this._chart,t,0),this._explode=_.getSliceExplode(this._chart,t),this._fillColor=c.getColor(this._chart,t,0),this._fillPattern=c.getPattern(this._chart,t,0),this._strokeColor=c.getBorderColor(this._chart,t),this._borderWidth=c.getBorderWidth(this._chart,t),this._customLabel=r?r.label:null,this._seriesLabel=d.getSeries(this._chart,t),this._drillable=d.isDataItemDrillable(this._chart,t,0),this._id=_.getSliceId(this._chart,t),this._seriesIndex=t,this._categories=d.getCategories(this._chart,t,0)}else this._value=_.getOtherVal(this._chart),this._explode=0,this._fillColor=i.styleDefaults.otherColor,this._fillPattern=null,this._strokeColor=i.styleDefaults.borderColor,this._borderWidth=i.styleDefaults.borderWidth,this._customLabel=null,this._seriesLabel=i.translations.labelOther,this._drillable=d.isMultiSeriesDrillEnabled(this._chart),this._id=_.getOtherSliceId(this._chart),this._otherId=!0}getPieChart(){return this._pieChart}render(e){for(var i=j._sortPieSurfaces(this._topSurface,this._leftSurface,this._rightSurface,this._crustSurface,this._angleStart,this._angleExtent),r=i.length,s=0;s<r;s++)for(var a=i[s],n=a.length,o=0;o<n;o++){this._pieChart.__getShapesContainer().addChild(a[o]),a[o].render&&a[o].render()}if(this._sliceLabel&&(this._pieChart.addChild(this._sliceLabel),Y.associate(this,[this._sliceLabel]),e?(this._pieChart.addChild(this._feelerRad),this._pieChart.addChild(this._feelerHoriz)):this._renderOutsideFeeler()),this._explodeSlice(),this._drillable||this._pieChart.chart.isSelectionSupported()){var l=this.getDisplayables();for(s=0;s<l.length;s++)l[s].setCursor(t.SelectionEffectUtils.getSelectingCursor())}var h=this.getTopDisplayable();h&&(h.setAriaRole("img"),this._updateAriaLabel())}_feelerFromPts(e,i){var r=new t.Line(this._pieChart.getCtx(),e.x,e.y,i.x,i.y),s=this._pieChart.getOptions().styleDefaults.pieFeelerColor,a=new t.Stroke(s);return r.setStroke(a),this._pieChart.addChild(r),r}_renderOutsideFeeler(){if(this._hasFeeler){var e=this._feelerFromPts(this._outsideFeelerStart,this._outsideFeelerMid),t=this._feelerFromPts(this._outsideFeelerMid,this._outsideFeelerEnd);this._feelerRad=e,this._feelerHoriz=t}}preRender(){var e,i=this._bFillerSlice?"color":c.getSeriesEffect(this._chart),r=this.getFillColor(),s=this.getFillPattern();if("pattern"==i||null!=s)e=new t.PatternFill(s,r),i="pattern";else if("gradient"==i){var a=this._pieChart.is3D()?"3D":"2D",n=Y.getGradientColors(t.ColorUtils.getRGB(r),a),o=Y.getGradientAlphas(t.ColorUtils.getAlpha(r),a),l=[Math.floor(this._centerX-this._radiusX),Math.floor(this._centerY-this._radiusY),Math.ceil(2*this._radiusX),Math.ceil(2*this._radiusY)];e=new t.LinearGradientFill(270,n,o,[0,1],l)}else e=new t.SolidFill(r);if(this._topSurface=Y.createTopSurface(this,e),this._depth>0||this._radiusX!=this._radiusY){var h="gradient"==i,g=new t.SolidFill(t.ColorUtils.getDarker(r,.4)),d=h?Y.generateLateralGradientFill(this,"SIDE"):g,u=h?Y.generateLateralGradientFill(this,"CRUST"):g;this._leftSurface=Y.createLateralSurface(this,Y.SURFACE_LEFT,d),this._rightSurface=Y.createLateralSurface(this,Y.SURFACE_RIGHT,d),this._crustSurface=Y.createLateralSurface(this,Y.SURFACE_CRUST,u)}this.setSliceLabel(null),this.setNoOutsideFeeler()}static _sortPieSurfaces(e,t,i,r,s,a){var n=[];return t&&i&&r&&(s<=270&&s+a>270?(n.push(t),n.push(i),n.push(r)):s>270||s+a<=90?(n.push(t),n.push(r),n.push(i)):(n.push(i),n.push(r),n.push(t))),n.push(e),n}static oppositeDir(e,t,i){return e-t>0!=e-i>0}_explodeSlice(){if(0!=this._explode){var e=this._angleExtent,i=(360-(this._angleStart+e/2))*t.Math.RADS_PER_DEGREE,r=this._pieChart.is3D()?j.THREED_TILT:1,s=this._explode*this._pieChart.__calcMaxExplodeDistance();this._explodeOffsetX=Math.cos(i)*s,this._explodeOffsetY=Math.sin(i)*r*s,"safari"!==t.Agent.browser&&"blink"!==t.Agent.engine||(this._explodeOffsetX=Math.round(this._explodeOffsetX),this._explodeOffsetY=Math.round(this._explodeOffsetY))}else this._explodeOffsetX=0,this._explodeOffsetY=0;if(this._topSurface){var a=this._pieChart.is3D()&&this._topSurface[0].getSelectionOffset?this._topSurface[0].getSelectionOffset():[];j._translateShapes(this._topSurface,a[0]?a[0]+this._explodeOffsetX:this._explodeOffsetX,a[1]?a[1]+this._explodeOffsetY:this._explodeOffsetY)}if(this._rightSurface&&j._translateShapes(this._rightSurface,this._explodeOffsetX,this._explodeOffsetY),this._leftSurface&&j._translateShapes(this._leftSurface,this._explodeOffsetX,this._explodeOffsetY),this._crustSurface&&j._translateShapes(this._crustSurface,this._explodeOffsetX,this._explodeOffsetY),this._hasFeeler){var n=this._outsideFeelerStart.x,o=this._outsideFeelerStart.y,l=n+this._explodeOffsetX,h=o+this._explodeOffsetY;this._feelerRad.setX1(l),this._feelerRad.setY1(h);var g=this._outsideFeelerMid.x,d=this._outsideFeelerMid.y;j.oppositeDir(g,n,l)?(this._feelerRad.setX2(l),this._feelerHoriz.setX1(l)):(this._feelerRad.setX2(g),this._feelerHoriz.setX1(g)),j.oppositeDir(d,o,h)?(this._feelerRad.setY2(h),this._feelerHoriz.setY1(h)):(this._feelerRad.setY2(d),this._feelerHoriz.setY1(d))}this._sliceLabel&&!this._hasFeeler&&this._sliceLabel.setTranslate(this._explodeOffsetX,this._explodeOffsetY)}static _translateShapes(e,t,i){if(e)for(var r=e.length,s=0;s<r;s++){e[s].setTranslate(t,i)}}getRadiusX(){return this._radiusX}getRadiusY(){return this._radiusY}getCenter(){return new t.Point(this._centerX,this._centerY)}getDepth(){return this._depth}getAngleExtent(){return this._angleExtent}setAngleExtent(e){this._angleExtent=e}getAngleStart(){return this._angleStart}setAngleStart(e){this._angleStart=e}__getExplodeOffsetX(){return this._explodeOffsetX}__getExplodeOffsetY(){return this._explodeOffsetY}setOutsideFeelerPoints(e,t,i){this._outsideFeelerStart=e,this._outsideFeelerMid=t,this._outsideFeelerEnd=i,this._hasFeeler=!0}setNoOutsideFeeler(){this._outsideFeelerStart=null,this._outsideFeelerMid=null,this._outsideFeelerEnd=null,this._hasFeeler=!1}getLabelAndFeeler(){var e=[];return this._sliceLabel&&e.push(this._sliceLabel),this._feelerRad&&e.push(this._feelerRad),this._feelerHoriz&&e.push(this._feelerHoriz),e}getSliceLabel(){return this._sliceLabel}setSliceLabel(e){this._sliceLabel=e}getSliceLabelString(){return this._sliceLabelString}setSliceLabelString(e){this._sliceLabelString=e}getTopSurface(){return this._topSurface}getVal(){return this._value}getId(){return this._id}getSeriesIndex(){return this._seriesIndex}static _shapeIsSelectable(e){return e instanceof U}contains(e,t){for(var i=this._pieChart.getInnerRadius(),r=this._pieChart.getCenter(),s=(e-r.x)/this._radiusX,a=(t-r.y)/this._radiusY,n=-Math.atan2(a,s)*(180/Math.PI);n<this._angleStart;)n+=360;for(;n-this._angleStart>=360;)n-=360;var o=Math.pow(s,2)+Math.pow(a,2),l=Math.sqrt(o)>i/this._radiusX&&o<=1,h=n<=this._angleStart+this._angleExtent;return l&&h}GetAnimParams(){var e=t.ColorUtils.getRed(this._fillColor),i=t.ColorUtils.getGreen(this._fillColor),r=t.ColorUtils.getBlue(this._fillColor),s=t.ColorUtils.getAlpha(this._fillColor);return[this._value,this._radiusX,this._radiusY,this._explode,this._centerX,this._centerY,this._depth,e,i,r,s]}SetAnimParams(e){this._value=e[0],this._radiusX=e[1],this._radiusY=e[2],this._explode=e[3],this._centerX=e[4],this._centerY=e[5],this._depth=e[6];var i=Math.round(e[7]),r=Math.round(e[8]),s=Math.round(e[9]),a=Math.round(e[10]);this._fillColor=t.ColorUtils.makeRGBA(i,r,s,a)}getDeletedAnimParams(){var e=this.GetAnimParams();return e[0]=0,e[1]=this.getInnerRadius(),e[2]=this.getInnerRadius(),e[3]=0,e}animateUpdate(e,i){var r=i.GetAnimParams(),s=this.GetAnimParams();if(!t.ArrayUtils.equals(r,s)){var a=new t.CustomAnimation(this._pieChart.getCtx(),this,this.getPieChart().getAnimDuration());a.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this.GetAnimParams,this.SetAnimParams,s),e.add(a,0),this.SetAnimParams(r)}}animateInsert(e){var i=new t.CustomAnimation(this._pieChart.getCtx(),this,this.getPieChart().getAnimDuration());i.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this.GetAnimParams,this.SetAnimParams,this.GetAnimParams()),e.add(i,0),this.SetAnimParams(this.getDeletedAnimParams())}animateDelete(e,i){var r=i.__getSlices(),s=this.getPieChart().__getSlices(),a=s.indexOf(this)-1;if(a>=0){for(var n=s[a].getId(),o=0;o<r.length;o++)if(r[o].getId().equals(n)){r.splice(o+1,0,this);break}}else r.splice(0,0,this);this._pieChart=i;var l=new t.CustomAnimation(i.getCtx(),this,this.getPieChart().getAnimDuration());l.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this.GetAnimParams,this.SetAnimParams,this.getDeletedAnimParams()),l.setOnEnd(this._removeDeletedSlice,this),e.add(l,0)}_removeDeletedSlice(){var e=this.getPieChart().__getSlices(),t=e.indexOf(this);t>=0&&e.splice(t,1)}getDisplayables(){var e=new Array;return this._topSurface&&(e=e.concat(this._topSurface)),this._leftSurface&&(e=e.concat(this._leftSurface)),this._rightSurface&&(e=e.concat(this._rightSurface)),this._crustSurface&&(e=e.concat(this._crustSurface)),this._sliceLabel&&e.push(this._sliceLabel),this._feelerRad&&e.push(this._feelerRad),this._feelerHoriz&&e.push(this._feelerHoriz),e}getAriaLabel(){var e,i=this._pieChart.getOptions().translations;e=null==this._seriesIndex?m.getOtherSliceDatatip(this._chart,this._value,!1):m.getDatatip(this._chart,this._seriesIndex,0,null,!1);var r=i.labelPercentage,s=W.generateSlicePercentageString(this);e+="; "+t.ResourceUtils.format(i.labelAndValue,[r,s]);var a=[];return this.isSelectable()&&a.push(i[this.isSelected()?"stateSelected":"stateUnselected"]),d.isDataItemDrillable(this._chart,this._seriesIndex,this._groupIndex)&&a.push(i.stateDrillable),t.Displayable.generateAriaLabel(e,a)}_updateAriaLabel(){var e=this.getTopDisplayable();e&&!t.Agent.deferAriaCreation()&&e.setAriaProperty("label",this.getAriaLabel())}getTopDisplayable(){return this._topSurface&&this._topSurface.length>0?this._topSurface[0]:null}isSelectable(){return this._chart.isSelectionSupported()}isSelected(){return this._selected}setSelected(e,i){if(this._selected=e,this.getTopSurface()){if(this._selected?this._pieChart.bringToFrontOfSelection(this):this._selecting||this._pieChart.pushToBackOfSelection(this),c.isSelectionHighlighted(this._chart))for(var r=this.getDisplayables(),s=0;s<r.length;s++)j._shapeIsSelectable(r[s])&&r[s].setSelected(e);if(c.isSelectionExploded(this._chart)){var a=e?1:0;if(i||"none"==c.getAnimOnDataChange(this._chart))this.setExplode(a);else{var n=new t.CustomAnimation(this._pieChart.getCtx(),this,this._pieChart.getAnimDuration()/2);n.getAnimator().addProp(t.Animator.TYPE_NUMBER,this,this.getExplode,this.setExplode,a),n.play()}}this._updateAriaLabel()}}showHoverEffect(){this._selecting=!0,this._pieChart.bringToFrontOfSelection(this);for(var e=this.getDisplayables(),t=0;t<e.length;t++)j._shapeIsSelectable(e[t])&&e[t].showHoverEffect()}hideHoverEffect(){this._selecting=!1,this._selected||this._pieChart.pushToBackOfSelection(this);for(var e=this.getDisplayables(),t=0;t<e.length;t++)j._shapeIsSelectable(e[t])&&e[t].hideHoverEffect()}getDatatip(e,t,i){return e==this._sliceLabel&&this._sliceLabel&&this._sliceLabel.isTruncated()?this.getSliceLabelString():this.getTooltip()}getDatatipColor(){return this.getFillColor()}getCategories(){return this._categories&&this._categories.length>0?this._categories:[this.getId().series]}getNextNavigable(e){var i=e.keyCode;if(e.type==t.MouseEvent.CLICK)return this;if(i==t.KeyboardEvent.SPACE&&e.ctrlKey)return this;var r=t.Agent.isRightToLeft(this._chart.getCtx()),s=this._pieChart.__getSlices(),a=s.indexOf(this),n=null;return i==t.KeyboardEvent.RIGHT_ARROW||i==t.KeyboardEvent.DOWN_ARROW&&!r||i==t.KeyboardEvent.UP_ARROW&&r?n=a<s.length-1?s[a+1]:s[0]:(i==t.KeyboardEvent.LEFT_ARROW||i==t.KeyboardEvent.DOWN_ARROW&&r||i==t.KeyboardEvent.UP_ARROW&&!r)&&(n=0==a?s[s.length-1]:s[a-1]),n}getKeyboardBoundingBox(e){var i=this.getDisplayables();return i[0]?i[0].getDimensions(e):new t.Rectangle(0,0,0,0)}getTargetElem(){var e=this.getDisplayables();return e[0]?e[0].getElem():null}showKeyboardFocusEffect(){this._isShowingKeyboardFocusEffect=!0,this.showHoverEffect()}hideKeyboardFocusEffect(){this._isShowingKeyboardFocusEffect=!1,this.hideHoverEffect()}isShowingKeyboardFocusEffect(){return this._isShowingKeyboardFocusEffect}isDragAvailable(){return!0}getDragTransferable(){return[this.getId()]}getDragFeedback(){if(this._chart.isSelectionSupported()&&this._chart.getSelectionHandler().getSelectedCount()>1){for(var e=this._chart.getSelectionHandler().getSelection(),t=[],i=0;i<e.length;i++)t=t.concat(e[i].getDisplayables());return t}return this.getDisplayables()}getExplode(){return this._explode}setExplode(e){this._explode=e,this._explodeSlice()}getCustomLabel(){return this._customLabel}getSeriesLabel(){return this._seriesLabel}getFillColor(){return this._fillColor}getFillPattern(){return this._fillPattern}getStrokeColor(){return this._strokeColor}getBorderWidth(){return this._borderWidth}getSliceGaps(){return 0==this._depth?3*c.getDataItemGaps(this._chart):0}getInnerRadius(){return this._pieChart.getInnerRadius()}getTooltip(){return null==this._seriesIndex?m.getOtherSliceDatatip(this._chart,this._value,!0):m.getDatatip(this._chart,this._seriesIndex,0,null,!0)}isDrillable(){return this._drillable}static createFillerSlice(e,t){var i=new j(e);return i._value=t,i._bFillerSlice=!0,i._centerX=e.getCenter().x,i._centerY=e.getCenter().y,i._fillColor="rgba(255,255,255,0)",i._strokeColor="rgba(255,255,255,0)",i._id=new o(null,null,null,null),i}getSeriesIndex(){return this._seriesIndex}}j.THREED_TILT=.59;class z extends t.Automation{constructor(e){super(e),this._options=this._comp.getOptions(),this._legend=this._comp.legend,this._xAxis=this._comp.xAxis,this._yAxis=this._comp.yAxis,this._y2Axis=this._comp.y2Axis,this._legendAutomation=this._legend?this._legend.getAutomation():null,this._xAxisAutomation=this._xAxis?this._xAxis.getAutomation():null,this._yAxisAutomation=this._yAxis?this._yAxis.getAutomation():null,this._y2AxisAutomation=this._y2Axis?this._y2Axis.getAutomation():null}GetSubIdForDomElement(e){var i=null;if(e.isDescendantOf(this._xAxis))return(i=this._xAxisAutomation.GetSubIdForDomElement(e))?this._convertAxisSubIdToChartSubId(i,"xAxis"):null;if(e.isDescendantOf(this._yAxis))return(i=this._yAxisAutomation.GetSubIdForDomElement(e))?this._convertAxisSubIdToChartSubId(i,"yAxis"):null;if(e.isDescendantOf(this._y2Axis))return(i=this._y2AxisAutomation.GetSubIdForDomElement(e))?this._convertAxisSubIdToChartSubId(i,"y2Axis"):null;if(e.isDescendantOf(this._legend)){var r=this._legendAutomation.GetSubIdForDomElement(e);return r?this._convertLegendSubIdToChartSubId(r):null}var s=this._comp.getEventManager().GetLogicalObject(e);if(!s)return null;if(s instanceof t.SimpleObjPeer){var a=s.getParams().type;if("pieCenterLabel"==a)return"pieCenterLabel";if("plotArea"==a)return"plotArea"}if(s instanceof j)return"dataItem["+s.getSeriesIndex()+"]";if(s instanceof f){var n=s.getSeriesIndex(),o=s.getGroupIndex();if(null!=n&&o>=0&&("funnel"!=this._options.type||"pyramid"!=this._options.type))return"dataItem["+n+"]["+o+"]";if(null!=n&&o==N._GROUP_IDX&&("funnel"==this._options.type||"pyramid"==this._options.type))return"dataItem["+n+"]";if(null!=n&&(null==o||o<0))return"series["+n+"]"}else if(s instanceof x){var l=s.getAxisType(),h=s.getIndex();return l&&h>=0?l+":referenceObject["+h+"]":null}return null}_convertLegendSubIdToChartSubId(e){var t=this._legend.getOptions(),i=this._legendAutomation.getLegendItem(t,e);if(i){for(var r=0;r<this._options.series.length;r++){if(this._options.series[r].name==i.text)return"series["+r+"]"}return"legend:"+e}return null}_convertAxisSubIdToChartSubId(e,t){if("title"==e&&t)return t+":"+e;var i=e.substring(e.indexOf("["));return i?"group"+i:null}getDomElementForSubId(e){if(e==t.Automation.TOOLTIP_SUBID)return this.GetTooltipElement(this._comp,m.isDataCursorEnabled(this._comp)?p.TOOLTIP_ID:null);if("pieCenterLabel"==e)return this._comp.pieChart.getCenterLabel().getElem();if("plotArea"==e)return this._comp.getPlotArea().getElem();var i,r,s,a=e.indexOf("["),n=e.indexOf("]"),o=e.indexOf(":");if(a>0&&n>0||o>0){var l=o<0?e.substring(0,a):e.substring(0,o);if("group"==l)return this._xAxisAutomation.getDomElementForSubId(e);if("series"==l)return e=this._convertToLegendSubId(e),this._legendAutomation.getDomElementForSubId(e);if("legend"==e.substring(0,o))return e=e.substring(o+1),this._legendAutomation.getDomElementForSubId(e);var h,g=e.substring(a+1,n);if("xAxis"==l||"yAxis"==l||"y2Axis"==l){var d=e.substring(o+1);if("title"==d){if("xAxis"==l)return this._xAxisAutomation.getDomElementForSubId(d);if("yAxis"==l)return this._yAxisAutomation.getDomElementForSubId(d);if("y2Axis"==l)return this._y2AxisAutomation.getDomElementForSubId(d)}else if(i=d.indexOf("["),r=d.indexOf("]"),"referenceObject"==d.substring(0,i)){var u=d.substring(i+1,r);if(s=this._getRefObjPeer(u))return s.getDisplayables()[0].getElem()}}if("pie"==this._options.type){var _=this._comp.pieChart.getSliceDisplayable(g);if(_)return _.getElem()}if("funnel"==this._options.type?h=N._GROUP_IDX:"pyramid"==this._options.type?h=H._GROUP_IDX:(i=(e=e.substring(n+1)).indexOf("["),r=e.indexOf("]"),i>=0&&r>=0&&(h=e.substring(i+1,r))),s=this._getChartObjPeer(g,h))return s.getDisplayables()[0].getElem()}return null}_getChartObjPeer(e,t){for(var i=this._comp.getChartObjPeers(),r=0;r<i.length;r++){var s=i[r].getSeriesIndex(),a=i[r].getGroupIndex();if(s==e&&a==t)return i[r]}return null}_getChartObjPeerFromId(e,i,r){for(var s=this._comp.getChartObjPeers(),a=0;a<s.length;a++){var n=s[a].getSeries(),o=s[a].getGroup();if(n===e&&("string"==typeof o&&1===i.length&&i[0]===o||Array.isArray(o)&&t.ArrayUtils.equals(o,i))&&(null==r||r===s[a]._itemIndex))return s[a]}return null}_getRefObjPeer(e){for(var t=this._comp.getRefObjPeers(),i=0;i<t.length;i++)if(e==t[i].getIndex())return t[i];return null}_convertToLegendSubId(e){var t=e.indexOf("["),i=e.indexOf("]"),r=e.substring(t+1,i),s=this._legend.getOptions(),a=this._options.series[r];return"section"+this._legendAutomation.getIndicesFromSeries(a,s)}getDataItem(e,t){"pie"!=this._options.type&&"funnel"!=this._options.type&&"pyramid"!=this._options.type||(t=0);var i=d.getDataItem(this._comp,e,t);return i?{borderColor:c.getBorderColor(this._comp,e,t),color:c.getColor(this._comp,e,t),label:c.getDataLabel(this._comp,e,t),targetValue:d.getTargetVal(this._comp,e,t),tooltip:m.getDatatip(this._comp,e,t,null,!1),value:d.getVal(this._comp,e,t),open:i.open,close:i.close,high:d.getHighVal(this._comp,e,t),low:d.getLowVal(this._comp,e,t),volume:i.volume,x:d.getXVal(this._comp,e,t),y:i.y,z:i.z,min:i.min,max:i.max,group:d.getGroup(this._comp,t),series:d.getSeries(this._comp,e),selected:d.isDataSelected(this._comp,e,t)}:null}getGroup(e){return d.getGroup(this._comp,e)}getSeries(e){return this._options.series[e].name}getGroupCount(){return d.getGroupCount(this._comp)}getSeriesCount(){return this._options.series.length}getTitle(){return this._options.title.text}getLegend(){var e=this._legend.__getBounds(),i=this._legend.localToStage(new t.Point(e.x,e.y));return{bounds:{x:i.x,y:i.y,width:e.w,height:e.h},title:this._legend.getOptions().title}}getPlotArea(){var e=this._comp.__getPlotAreaSpace();return{bounds:{x:e.x,y:e.y,width:e.w,height:e.h}}}getXAxis(){return this._getAxis("x")}getYAxis(){return this._getAxis("y")}getY2Axis(){return this._getAxis("y2")}_getAxis(e){var i="x"==e?this._xAxis:"y"==e?this._yAxis:this._y2Axis;if(i){var r=i.__getBounds(),s=i.localToStage(new t.Point(r.x,r.y)),a={x:s.x,y:s.y,width:r.w,height:r.h},n=this._comp;return{bounds:a,title:this._options[e+"Axis"].title,getPreferredSize:(t,r)=>{var s,a=i.getOptions(),o=a.position,l=w.getTickLabelGapSize(n,e),h=w.isStandaloneXAxis(n)||w.isStandaloneYAxis(n)||w.isStandaloneY2Axis(n)?2:0;return"top"==o||"bottom"==o?(s=i.getPreferredSize(a,t,r-l-h)).h=Math.ceil(s.h+l+h):(s=i.getPreferredSize(a,t-l-h,r)).w=Math.ceil(s.w+l+h),{width:s.w,height:s.h}}}}return null}IsTooltipElement(e){var i=e.getAttribute("id");return!(!i||0!=i.indexOf(p.TOOLTIP_ID)&&0!=i.indexOf(t.HtmlTooltipManager._TOOLTIP_DIV_ID))}dispatchItemDrill(e,t,i){var r=this._getChartObjPeerFromId(e,t,i);r&&this._comp.getEventManager().processDrillEvent(r)}dispatchMultiSeriesDrill(){var e=this._comp.pieChart;e&&e.otherSlice&&this._comp.getEventManager().processDrillEvent(e.otherSlice)}dispatchGroupDrill(e){this._xAxisAutomation&&e&&this._xAxisAutomation.dispatchDrillEvent(e)}dispatchSeriesDrill(e){this._legendAutomation&&e&&this._legendAutomation.dispatchDrillEvent(e)}}class X extends t.EventManager{constructor(e){super(e.getCtx(),e.processEvent,e,e),this._chart=e,this._dragMode=null,this._dragButtonsVisible=t.Agent.isTouchDevice(),this.panButton=null,this.zoomButton=null,this.selectButton=null,this._dataCursorHandler=null,this._panZoomHandler=null,this._marqueeZoomHandler=null,this._marqueeSelectHandler=null}addListeners(e){t.SvgDocumentUtils.addDragListeners(this._chart,this._onDragStart,this._onDragMove,this._onDragEnd,this),super.addListeners(e),t.Agent.isTouchDevice()||e.addEvtListener(t.MouseEvent.MOUSEWHEEL,this.OnMouseWheel,!1,this)}RemoveListeners(e){super.RemoveListeners(e),t.Agent.isTouchDevice()||e.removeEvtListener(t.MouseEvent.MOUSEWHEEL,this.OnMouseWheel,!1,this)}getLogicalObject(e){return this.GetLogicalObject(e,!0)}_getDragHandler(e){return e&&"user"==this._chart.getOptions().dragMode&&l.isBLAC(this._chart)&&(this._dragMode==X.DRAG_MODE_PAN||this._dragMode==X.DRAG_MODE_ZOOM)&&(this._panZoomHandler&&this._panZoomHandler.isWithinBounds(e)?this._dragMode=X.DRAG_MODE_PAN:this._dragMode=X.DRAG_MODE_ZOOM),this._dragMode==X.DRAG_MODE_PAN?this._panZoomHandler:this._dragMode==X.DRAG_MODE_ZOOM?this._marqueeZoomHandler:this._dragMode==X.DRAG_MODE_SELECT?this._marqueeSelectHandler:null}_onDragStart(e){return t.Agent.isTouchDevice()?this._onTouchDragStart(e):this._onMouseDragStart(e)}_onDragMove(e){return t.Agent.isTouchDevice()?this._onTouchDragMove(e):this._onMouseDragMove(e)}_onDragEnd(e){return t.Agent.isTouchDevice()?this._onTouchDragEnd(e):this._onMouseDragEnd(e)}_onMouseDragStart(e){var t,i=this._context.pageToStageCoords(e.pageX,e.pageY),r=this._getDragHandler(i),s=this.GetLogicalObject(e.target);return!(s&&s.isSelectable&&s.isSelectable())&&0==e.button&&r&&((t=r.processDragStart(i,e.ctrlKey))&&this._callback.call(this._callbackObj,t),this._chart.setCursor(r.getCursor(i)),this.setDragButtonsVisible(!1),this._chart!=this.getCtx().getCurrentKeyboardFocus()&&this.getCtx().setCurrentKeyboardFocus(this._chart)),!!t&&(this._dataCursorHandler&&this._dataCursorHandler.processEnd(),!0)}_onMouseDragMove(e){var t,i=this._context.pageToStageCoords(e.pageX,e.pageY),r=this._getDragHandler();r&&(t=r.processDragMove(i,e.ctrlKey))&&(this._callback.call(this._callbackObj,t),this.setDragButtonsVisible(!1)),t&&e.stopPropagation()}_onMouseDragEnd(e){var t,i=this._context.pageToStageCoords(e.pageX,e.pageY),r=this._getDragHandler();if(r){(t=r.processDragEnd(i,e.ctrlKey))&&(this._callback.call(this._callbackObj,t),this.autoToggleZoomButton()),this._chart.setCursor(r.getCursor(i));var s=this._chart.__getAxisSpace();s&&this.setDragButtonsVisible(s.containsPoint(i.x,i.y))}}OnMouseMove(e){super.OnMouseMove(e);var i=this._context.pageToStageCoords(e.pageX,e.pageY);this._dataCursorHandler&&(this.GetLogicalObjectAndDisplayable(e.target).displayable instanceof t.IconButton?this._dataCursorHandler.processEnd():this._dataCursorHandler.processMove(i));var r=this._getDragHandler(i);r?this._chart.setCursor(r.getCursor(i)):this._chart.setCursor("default")}OnMouseOut(e){super.OnMouseOut(e);var t=this._context.pageToStageCoords(e.pageX,e.pageY),i=this._chart.__getAxisSpace();i&&this.setDragButtonsVisible(i.containsPoint(t.x,t.y)),this._dataCursorHandler&&this._dataCursorHandler.processOut(t);this.GetLogicalObject(e.target)}OnMouseWheel(e){if(O.isZoomable(this._chart)){var t=null!=e.wheelDelta?e.wheelDelta:0,i=this._context.pageToStageCoords(e.pageX,e.pageY);if(this._panZoomHandler){var r=this._panZoomHandler.processMouseWheel(i,t);r&&(e.preventDefault(),e.stopPropagation(),this._callback.call(this._callbackObj,r),this._dataCursorHandler&&this._dataCursorHandler.processMove(i))}}}ShowFocusEffect(e,i){if(this._dataCursorHandler){var r=i.getDataPosition();if(r){var s=this._chart.__getPlotAreaSpace();this._dataCursorHandler.processMove(new t.Point(r.x+s.x,r.y+s.y))}}super.ShowFocusEffect(e,i)}OnBlur(e){this._dataCursorHandler&&this._dataCursorHandler.processEnd(),super.OnBlur(e)}OnClickInternal(e){var t=this.GetLogicalObject(e.target),i=this._context.pageToStageCoords(e.pageX,e.pageY);this.SeriesFocusHandler&&this.SeriesFocusHandler.processSeriesFocus(i,t),t&&(t.isSelectable&&t.isSelectable()||this.processDrillEvent(t))}OnDblClickInternal(e){var t=this.GetLogicalObject(e.target);t&&t.isSelectable&&t.isSelectable()&&this.processDrillEvent(t)}HandleTouchHoverStartInternal(e){if(this._dataCursorHandler&&!this.isTouchResponseTouchStart()){var t=this._context.pageToStageCoords(e.touch.pageX,e.touch.pageY);return this._dataCursorHandler.processMove(t),!1}var i=this.GetLogicalObject(e.target);return this.TouchManager.setTooltipEnabled(e.touch.identifier,this.getTooltipsEnabled(i)),!1}HandleTouchHoverMoveInternal(e){if(this._dataCursorHandler&&!this.isTouchResponseTouchStart()){var t=this._context.pageToStageCoords(e.touch.pageX,e.touch.pageY);return this._dataCursorHandler.processMove(t),!1}var i=this.GetLogicalObject(e.target);return this.TouchManager.setTooltipEnabled(e.touch.identifier,this.getTooltipsEnabled(i)),!1}HandleTouchHoverEndInternal(e){this.endDrag();var t=this.GetLogicalObject(e.target);t&&(t.isSelectable&&t.isSelectable()||this.processDrillEvent(t))}HandleTouchClickInternal(e){var t=this.GetLogicalObject(e.target);t&&(t.isSelectable&&t.isSelectable()||this.processDrillEvent(t))}HandleTouchDblClickInternal(e){var t=this.GetLogicalObject(e.target);t&&t.isSelectable&&t.isSelectable()&&(e.preventDefault(),e.stopPropagation(),this.processDrillEvent(t))}processDrillEvent(e){if(e&&e.isDrillable&&e.isDrillable()){var i=e.getId();if(e instanceof f)-1===e.getGroupIndex()?this.FireEvent(t.EventFactory.newChartDrillEvent(i,e.getSeries(),null,"series")):this.FireEvent(t.EventFactory.newChartDrillEvent(null!=i.id?i.id:i,e.getSeries(),e.getGroup(),"item"));else if(e instanceof j){var r="_dvtOther"===i.series?"multiSeries":"item";this.FireEvent(t.EventFactory.newChartDrillEvent(i.id,i.series,i.group,r))}}}ProcessRolloverEvent(e,i,r){var s=this._chart.getOptions();if("dim"==O.getHoverBehavior(this._chart)){var a=i.getCategories?i.getCategories():[];s.highlightedCategories=r?a.slice():null;var n=t.EventFactory.newCategoryHighlightEvent(s.highlightedCategories,r),o=c.getHoverBehaviorDelay(this._chart),l=this._chart.getObjects();this._chart.pieChart&&(l=l.concat(this._chart.pieChart.__getSlices())),this.RolloverHandler.processEvent(n,l,o,"any"==s.highlightMatch)}}_onTouchDragStart(e){var t,i,r=e.touches;if(1==r.length){var s=this._context.pageToStageCoords(r[0].pageX,r[0].pageY),a=this._getDragHandler();a?t=a.processDragStart(s,!0):this._dataCursorHandler&&this.isTouchResponseTouchStart()&&(this._dataCursorHandler.processMove(s),i=!0)}else if(2==r.length&&this._panZoomHandler&&O.isZoomable(this._chart)){this.endDrag();var n=this._context.pageToStageCoords(r[0].pageX,r[0].pageY),o=this._context.pageToStageCoords(r[1].pageX,r[1].pageY);t=this._panZoomHandler.processPinchStart(n,o)}return t&&(this._callback.call(this._callbackObj,t),this.getCtx().getTooltipManager().hideTooltip()),!(!t&&!i)&&(e.preventDefault(),e.stopPropagation(),this.setDragButtonsVisible(!1),!0)}_onTouchDragMove(e){var t,i,r=e.touches;if(1==r.length){var s=this._context.pageToStageCoords(r[0].pageX,r[0].pageY),a=this._getDragHandler();a?t=a.processDragMove(s,!0):this._dataCursorHandler&&this.isTouchResponseTouchStart()&&(this._dataCursorHandler.processMove(s),i=!0)}else if(2==r.length&&this._panZoomHandler&&O.isZoomable(this._chart)){var n=this._context.pageToStageCoords(r[0].pageX,r[0].pageY),o=this._context.pageToStageCoords(r[1].pageX,r[1].pageY);t=this._panZoomHandler.processPinchMove(n,o)}(t||i)&&e.preventDefault(),t&&(this._callback.call(this._callbackObj,t),this.getCtx().getTooltipManager().hideTooltip())}_onTouchDragEnd(e){var t,i=this.endDrag();if(this._panZoomHandler&&O.isZoomable(this._chart)&&(t=this._panZoomHandler.processPinchEnd())&&this._callback.call(this._callbackObj,t),i||t){e.preventDefault(),this.getCtx().getTooltipManager().hideTooltip();var r=this.getTouchManager(),s=1==e.changedTouches.length?e.changedTouches[0].identifier:null,a=null!=s?r.getTouchInfo(s):null;a&&!a.touchMoved||r.reset()}this.setDragButtonsVisible(!0)}endDrag(){var e,t=this._getDragHandler();return t&&(e=t.processDragEnd(null,!0)),this._dataCursorHandler&&this._dataCursorHandler.processEnd(),e&&this._callback.call(this._callbackObj,e),e}zoomBy(e){if(this._panZoomHandler&&O.isZoomable(this._chart)){var t=this._panZoomHandler.zoomBy(e);t&&this._callback.call(this._callbackObj,t)}}panBy(e,t){if(this._panZoomHandler&&O.isScrollable(this._chart)){var i=this._panZoomHandler.panBy(e,t);i&&this._callback.call(this._callbackObj,i)}}hideHoverFeedback(){this.hideTooltip(),this._dataCursorHandler&&this._dataCursorHandler.processEnd()}hideTooltip(){this._dataCursorHandler&&this._dataCursorHandler.isDataCursorShown()||super.hideTooltip()}getTooltipsEnabled(e){return(!this._dataCursorHandler||!(e instanceof f||e instanceof x||this._dataCursorHandler.isDataCursorShown()))&&super.getTooltipsEnabled()}getDataCursorHandler(){return this._dataCursorHandler}setDataCursorHandler(e){this._dataCursorHandler=e}setPanZoomHandler(e){this._panZoomHandler=e}setMarqueeZoomHandler(e){this._marqueeZoomHandler=e}setMarqueeSelectHandler(e){this._marqueeSelectHandler=e}getMarqueeGlassPane(){return this._dragMode==X.DRAG_MODE_ZOOM?this._marqueeZoomHandler.getGlassPane():this._dragMode==X.DRAG_MODE_SELECT?this._marqueeSelectHandler.getGlassPane():null}cancelMarquee(e){this._dragMode==X.DRAG_MODE_ZOOM?this._marqueeZoomHandler.cancelMarquee()&&e.preventDefault():this._dragMode==X.DRAG_MODE_SELECT&&this._marqueeSelectHandler&&this._marqueeSelectHandler.cancelMarquee()&&this._chart.render()}getDragMode(){return this._dragMode}setDragMode(e){this._dragMode=null==e?this._getDefaultDragMode():e,!this._chart.xAxis.isFullViewport()||this._chart.yAxis&&!this._chart.yAxis.isFullViewport()||this.autoToggleZoomButton()}_getDefaultDragMode(){return t.Agent.isTouchDevice()?X.DRAG_MODE_OFF:O.isScrollable(this._chart)?X.DRAG_MODE_PAN:"multiple"==this._chart.getOptions().selectionMode?X.DRAG_MODE_SELECT:null}onZoomButtonClick(e){this.zoomButton.isToggled()?(this.selectButton&&this.selectButton.setToggled(!1),this.setDragMode(X.DRAG_MODE_ZOOM)):this.setDragMode(null)}onPanButtonClick(e){this.panButton.isToggled()?(this.selectButton&&this.selectButton.setToggled(!1),this.setDragMode(X.DRAG_MODE_PAN)):this.setDragMode(null)}onSelectButtonClick(e){this.selectButton.isToggled()?(this.zoomButton&&this.zoomButton.setToggled(!1),this.panButton&&this.panButton.setToggled(!1),this.setDragMode(X.DRAG_MODE_SELECT)):this.setDragMode(null)}setDragButtonsVisible(e){e&&!this._dragButtonsVisible?(this._chart.showDragButtons(),this._dragButtonsVisible=!0):!e&&this._dragButtonsVisible&&(this._chart.hideDragButtons(),this._dragButtonsVisible=!1)}areDragButtonsVisible(){return this._dragButtonsVisible}autoToggleZoomButton(){!t.Agent.isTouchDevice()&&this.zoomButton&&(this._chart.xAxis.isFullViewport()&&this._chart.yAxis.isFullViewport()?this._dragMode==X.DRAG_MODE_PAN&&(this.zoomButton.setToggled(!0),this.onZoomButtonClick(null)):this._dragMode==X.DRAG_MODE_ZOOM&&(this.zoomButton.setToggled(!1),this.onZoomButtonClick(null)))}GetTouchResponse(){return this._dragMode&&this._dragMode!=X.DRAG_MODE_OFF?t.EventManager.TOUCH_RESPONSE_TOUCH_HOLD:this._chart.getOptions().touchResponse}isDndSupported(){return!0}GetDragSourceType(){var e=this.DragSource.getDragObject();return e instanceof f&&e.getSeriesIndex()>=0&&e.getGroupIndex()>=0||e instanceof j?"items":null}GetDragDataContexts(e){if(this._chart.isSelectionSupported()&&this._chart.getSelectionHandler().getSelectedCount()>1){for(var i=this._chart.getSelectionHandler().getSelection(),r=[],s=0;s<i.length;s++){var a=c.getDataContext(this._chart,i[s].getSeriesIndex(),i[s].getGroupIndex(),i[s].getNestedDataItemIndex());e&&t.ToolkitUtils.cleanDragDataContext(a),r.push(a)}return r}var n=this.DragSource.getDragObject(),o=null;return n instanceof f&&(o=c.getDataContext(this._chart,n.getSeriesIndex(),n.getGroupIndex(),n.getNestedDataItemIndex())),n instanceof j&&(o=c.getDataContext(this._chart,n.getSeriesIndex(),0)),o&&e&&t.ToolkitUtils.cleanDragDataContext(o),o?[o]:null}GetDropOffset(e){var i=this.DragSource.getDragObject();if(i instanceof f){var r=i.getDataPosition();if(r){r=this._chart.getPlotArea().localToStage(r);var s=this._context.pageToStageCoords(e.pageX,e.pageY);return new t.Point(r.x-s.x,r.y-s.y)}}return null}GetDropTargetType(e){var t=this._context.pageToStageCoords(e.pageX,e.pageY),i=this._chart.getOptions().dnd.drop,r=this._chart.__getPlotAreaSpace();return Object.keys(i.plotArea).length>0&&r.containsPoint(t.x,t.y)?"plotArea":Object.keys(i.xAxis).length>0&&w.isAxisRendered(this._chart,"x")&&w.axisContainsPoint(this._chart.xAxis,t)?"xAxis":Object.keys(i.yAxis).length>0&&w.isAxisRendered(this._chart,"y")&&w.axisContainsPoint(this._chart.yAxis,t)?"yAxis":Object.keys(i.y2Axis).length>0&&w.isAxisRendered(this._chart,"y2")&&w.axisContainsPoint(this._chart.y2Axis,t)?"y2Axis":null}GetDropEventPayload(e){var i=e.getNativeEvent().dataTransfer,r=Number(i.getData(t.EventManager.DROP_OFFSET_X_DATA_TYPE))||0,s=Number(i.getData(t.EventManager.DROP_OFFSET_Y_DATA_TYPE))||0,a=this._context.pageToStageCoords(e.pageX,e.pageY);return this._chart.getValsAt(a.x+r,a.y+s)}ShowDropEffect(e){var t=this._getDropObject(e);t&&(t.setClassName("oj-active-drop"),t.setSolidFill(this._chart.getOptions()._dropColor))}ClearDropEffect(){var e=this._chart.getCache().getFromCache("plotAreaBackground");if(e){var i=c.getBackgroundColor(this._chart);i?e.setSolidFill(i):e.setInvisibleFill(),t.ToolkitUtils.removeClassName(e.getElem(),"oj-invalid-drop"),t.ToolkitUtils.removeClassName(e.getElem(),"oj-active-drop")}var r=e=>{if(e){var i=e.getCache().getFromCache("background");i&&(i.setInvisibleFill(),t.ToolkitUtils.removeClassName(i.getElem(),"oj-invalid-drop"),t.ToolkitUtils.removeClassName(i.getElem(),"oj-active-drop"))}};r(this._chart.xAxis),r(this._chart.yAxis),r(this._chart.y2Axis)}ShowRejectedDropEffect(e){var t=this._getDropObject(e);t&&t.setClassName("oj-invalid-drop")}_getDropObject(e){var t,i=this.GetDropTargetType(e);return"plotArea"==i?t=this._chart.getCache().getFromCache("plotAreaBackground"):"xAxis"==i?t=this._chart.xAxis.getCache().getFromCache("background"):"yAxis"==i?t=this._chart.yAxis.getCache().getFromCache("background"):"y2Axis"==i&&(t=this._chart.y2Axis.getCache().getFromCache("background")),t}}X.DRAG_MODE_PAN="pan",X.DRAG_MODE_ZOOM="zoom",X.DRAG_MODE_SELECT="select",X.DRAG_MODE_OFF="off";class Z extends t.KeyboardHandler{constructor(e,t){super(e),this._chart=t}isSelectionEvent(e){return this.isNavigationEvent(e)&&!e.ctrlKey}isMultiSelectEvent(e){return e.keyCode==t.KeyboardEvent.SPACE&&e.ctrlKey}processKeyDown(e){var i=e.keyCode;if(i==t.KeyboardEvent.TAB){if(s=this._eventManager.getFocus())return t.EventManager.consumeEvent(e),s;var r=F.getKeyboardNavigables(this._chart);if(r.length>0)return t.EventManager.consumeEvent(e),this.getDefaultNavigable(r)}else if(i==t.KeyboardEvent.ENTER){var s;if(s=this._eventManager.getFocus())return this._eventManager.processDrillEvent(s),t.EventManager.consumeEvent(e),s}else i==t.KeyboardEvent.ESCAPE?this._eventManager.cancelMarquee(e):i==t.KeyboardEvent.PAGE_UP?((e.ctrlKey||e.shiftKey||l.isBLAC(this._chart))&&l.isVertical(this._chart)?this._eventManager.panBy(-.25,0):this._eventManager.panBy(0,-.25),t.EventManager.consumeEvent(e)):i==t.KeyboardEvent.PAGE_DOWN?((e.ctrlKey||e.shiftKey||l.isBLAC(this._chart))&&l.isVertical(this._chart)?this._eventManager.panBy(.25,0):this._eventManager.panBy(0,.25),t.EventManager.consumeEvent(e)):t.KeyboardEvent.isEquals(e)||t.KeyboardEvent.isPlus(e)?this._eventManager.zoomBy(1.5):(t.KeyboardEvent.isMinus(e)||t.KeyboardEvent.isUnderscore(e))&&this._eventManager.zoomBy(1/1.5);return super.processKeyDown(e)}getDefaultNavigable(e){if(!e||e.length<=0)return null;for(var t,i,r,s,a=l.isPie(this._chart),n=0;n<e.length;n++)s=e[n],!t||s.getSeriesIndex()<i?(t=s,i=s.getSeriesIndex(),a||(r=s.getGroupIndex())):!a&&s.getGroupIndex()<r&&(t=s,i=s.getSeriesIndex(),r=s.getGroupIndex());return t}}class q{constructor(e,t,i){this._peer=e,this._updateDuration=.75*t,this._insertDuration=.5*t,this._deleteDuration=.5*t,this._shape=e.getDisplayables()[0],this._animId=(e.getDataItemId()||e.getSeries()+"/"+e.getGroup())+i}animateUpdate(e,t){var i=t._shape;this._shape&&this._shape.getUpdateAnim&&e.add(this._shape.getUpdateAnim(this._updateDuration,i),1)}animateInsert(e){if(this._shape&&this._shape.getInsertAnim)e.add(this._shape.getInsertAnim(this._insertDuration),2);else{var i=new t.AnimFadeIn(this._shape.getCtx(),this._shape,this._insertDuration);e.add(i,0)}}animateDelete(e,i){if(i.addChild(this._shape),this._shape&&this._shape.getDeleteAnim)e.add(this._shape.getDeleteAnim(this._deleteDuration),0);else{var r=new t.AnimFadeOut(this._shape.getCtx(),this._shape,this._deleteDuration);e.add(r,0)}}getId(){return this._animId}setId(e){this._animId=e}setOldChart(e){this._oldChart=e}}const K={DIR_UP:0,DIR_DOWN:1,DIR_NOCHANGE:2,makeIndicator:(e,t,i,r,s,a)=>{if(l.isPolar(r))return null;var n=K.getDirection(e,t,i,r,s,a);if(n==K.DIR_NOCHANGE)return null;var o=n===K.DIR_DOWN,h=o?c.getAnimDownColor(r):c.getAnimUpColor(r),g=K._drawIndicator(r.getCtx(),o,l.isHorizontal(r),h);return r.getPlotArea().addChild(g),g},getDirection:(e,t,i,r,s,a)=>{var n=d.getVal(e,t,i),o=d.getVal(r,s,a);return null==o||null==n||o==n?K.DIR_NOCHANGE:o>n?K.DIR_UP:K.DIR_DOWN},_drawIndicator:(e,i,r,s)=>{var a;r?a=(t.Agent.isRightToLeft(e)?!i:i)?"M3.5,-5L3.5,5L-3.5,0L3.5,-5":"M-3.5,-5L-3.5,5L3.5,0L-3.5,-5":a=i?"M-5,-3.5L5,-3.5L0,3.5L-5,-3.5Z":"M-5,3.5L5,3.5L0,-3.5L-5,3.5Z";var n=i?"oj-chart-animation-down":"oj-chart-animation-up",o=new t.Path(e,a);return o.setClassName(n),o.setStyle({fill:s}),o}};class Q extends q{constructor(e,t,i){super(e,t,i),this._indicator=null}animateInsert(e){var t=this._shape.getInsertAnim(this._insertDuration);e.add(t,2)}animateDelete(e,t){t.addChild(this._shape);var i=this._shape.getDeleteAnim(this._deleteDuration);e.add(i,0)}animateUpdate(e,i){var r=this._oldChart,s=this._peer.getChart(),a=l.isHorizontal(r)!=l.isHorizontal(s),n=i._getAnimParams(a),o=this._getAnimParams(),h=i._shape.getPrimaryFill(),g=this._shape.getPrimaryFill(),d=i._shape.isSelected()||this._shape.isSelected()||h.equals(g);if(!t.ArrayUtils.equals(n,o)||!h.equals(g)){var u=this._peer.getSeriesIndex(),_=i._peer.getSeriesIndex(),p=this._peer.getGroupIndex(),v=i._peer.getGroupIndex();"none"!==c.getAnimIndicators(s)&&(this._indicator=K.makeIndicator(r,_,v,s,u,p)),this._setAnimParams(n),d||this._shape.setFill(h);var m=new t.CustomAnimation(this._shape.getCtx(),this,this._updateDuration);m.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this._getAnimParams,this._setAnimParams,o),d||m.getAnimator().addProp(t.Animator.TYPE_FILL,this._shape,this._shape.getFill,this._shape.setFill,g),this._indicator&&(m.setOnEnd(this._onEndAnim,this),this._indicator.setAlpha(0)),e.add(m,1)}}_getAnimParams(e){return this._shape.getAnimParams(e)}_setAnimParams(e){this._shape.setAnimParams(e,this._indicator)}_onEndAnim(){this._indicator&&(this._indicator.getParent().removeChild(this._indicator),this._indicator=null)}}class J extends q{animateUpdate(e,i){var r=this._shape,s=i._shape.getAnimParams(),a=r.getAnimParams(),n=i._shape.getFill(),o=this._shape.getFill();if(!t.ArrayUtils.equals(s,a)||!n.equals(o)){r.setAnimParams(s);var l=new t.CustomAnimation(r.getCtx(),this,this._updateDuration);l.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,r,r.getAnimParams,r.setAnimParams,a),n.equals(o)||(this._shape.setFill(n),l.getAnimator().addProp(t.Animator.TYPE_FILL,r,r.getFill,r.setFill,o)),this._indicator&&l.setOnEnd(this._onEndAnim,this),e.add(l,1)}}animateInsert(e){var i=this._shape,r=i.getAnimParams(),s=r.slice(0);s[0]+=s[1]/2,s[1]=0,s[3]=0,i.setAnimParams(s);var a=new t.CustomAnimation(i.getCtx(),this,this._insertDuration);a.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,i,i.getAnimParams,i.setAnimParams,r),e.add(a,2)}animateDelete(e,i){var r=this._shape;i.setClipPath(null),i.addChild(r);var s=r.getAnimParams(),a=s.slice(0);a[0]+=s[1]/2,a[1]=0,a[3]=0;var n=new t.CustomAnimation(r.getCtx(),this,this._deleteDuration);n.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,r,r.getAnimParams,r.setAnimParams,a),e.add(n,0)}}class $ extends q{constructor(e,t){super(e,t,""),this._context=this._shape.getCtx(),this._chart=this._peer.getChart(),this._animId+="/"+(this._shape.isArea()?"area":"line")}animateUpdate(e,i){this._baseCoords=this._shape.getBaseCoords(),this._coords=this._shape.getCoords();var r,s,a=this._shape.isArea(),n=this._oldChart,o=this._chart,l=this._peer.getSeriesIndex(),h=i._peer.getSeriesIndex(),g=this._shape.getCommonGroupIndices(i._shape),u=i._shape.getCommonGroupIndices(this._shape);if(a){var _=i._getBaseAnimParams(this._shape),p=this._getBaseAnimParams(i._shape);$._matchGroupIndices(_,p),t.ArrayUtils.equals(_,p)||(this._setBaseAnimParams(_),(r=new t.CustomAnimation(this._context,this,this._updateDuration)).getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this._getBaseAnimParams,this._setBaseAnimParams,p))}var v=i._getAnimParams(this._shape),m=this._getAnimParams(i._shape);$._matchGroupIndices(v,m),t.ArrayUtils.equals(v,m)||(this._setAnimParams(v),(s=new t.CustomAnimation(this._context,this,this._updateDuration)).getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this._getAnimParams,this._setAnimParams,m));var f=d.getSeriesType(this._peer.getChart(),l);if("none"!==c.getAnimIndicators(o)&&(!a||"lineWithArea"!=f))for(var x,C,S=0;S<g.length;S++)x=K.getDirection(n,h,u[S],o,l,g[S]),(C=K.makeIndicator(n,h,u[S],o,l,g[S]))&&this._shape.addIndicator(g[S],x,C);if(r||s){var A=new t.ParallelPlayable(this._context,r,s);A.setOnEnd(this._onAnimEnd,this),e.add(A,1)}}animateInsert(e){this._shape.setAlpha(0);var i=new t.AnimFadeIn(this._context,this._shape,this._insertDuration);e.add(i,2)}animateDelete(e,i){var r;if("area"==d.getSeriesType(this._oldChart,this._peer.getSeriesIndex())){var s=this._chart.__getAreaContainer();if(this._deletedAreas=this._shape.getParent().getParent(),!s)return;s.addChild(this._deletedAreas),(r=new t.AnimFadeOut(this._context,this._deletedAreas,this._deleteDuration)).setOnEnd(this._removeDeletedAreas,this),e.add(r,0)}else i.addChild(this._shape),r=new t.AnimFadeOut(this._context,this._shape,this._deleteDuration),e.add(r,0)}_removeDeletedAreas(){var e=this._chart.__getAreaContainer();e&&e.removeChild(this._deletedAreas)}_getAnimParams(e){return this._shape.getAnimParams(e)}_setAnimParams(e){this._shape.setAnimParams(e)}_getBaseAnimParams(e){return this._shape.getBaseAnimParams(e)}_setBaseAnimParams(e){this._shape.setBaseAnimParams(e)}_onAnimEnd(){this._shape.removeIndicators(),this._shape.setCoords(this._coords,this._baseCoords)}static _matchGroupIndices(e,t){for(var i=3;i<e.length;i+=4)e[i]=t[i]}}class ee extends q{animateUpdate(e,i){var r=i._shape.getCenterDimensions(),s=this._shape.getCenterDimensions();if(!s.equals(r)){this._shape.setCenterDimensions(r);var a=new t.CustomAnimation(this._shape.getCtx(),this,this._updateDuration);a.getAnimator().addProp(t.Animator.TYPE_RECTANGLE,this._shape,this._shape.getCenterDimensions,this._shape.setCenterDimensions,s);var n=this._peer.getChart();if(this.isValueChange(i)&&"none"!=c.getAnimIndicators(n)&&l.isScatterBubble(n)){var o=i._shape;o.setAlpha(.9),o.setClassName("oj-chart-animation-marker"),o.setCenterDimensions(r),this._peer.getChart().getPlotArea().addChild(o),a.getAnimator().addProp(t.Animator.TYPE_RECTANGLE,o,o.getCenterDimensions,o.setCenterDimensions,s),a.getAnimator().addProp(t.Animator.TYPE_NUMBER,o,o.getAlpha,o.setAlpha,0),this._overlay=o,a.setOnEnd(this._onEndAnim,this)}e.add(a,1)}}animateInsert(e){this._shape.setAlpha(0);var i=new t.AnimFadeIn(this._shape.getCtx(),this._shape,this._insertDuration);e.add(i,2)}animateDelete(e,i){i.addChild(this._shape);var r=new t.AnimFadeOut(this._shape.getCtx(),this._shape,this._deleteDuration);e.add(r,0)}isValueChange(e){var t=!1;if(e){var i=e._peer.getSeriesIndex(),r=e._peer.getGroupIndex(),s=this._peer.getSeriesIndex(),a=this._peer.getGroupIndex(),n=e._oldChart.getOptions(),o=this._peer.getChart().getOptions(),l=n.series[i].items[r].x,h=n.series[i].items[r].y,g=n.series[i].items[r].z,d=o.series[s].items[a].x,u=o.series[s].items[a].y,_=o.series[s].items[a].z;t=d!==l||u!==h||_!==g}return t}_onEndAnim(){this._overlay&&(this._peer.getChart().getPlotArea().removeChild(this._overlay),this._overlay=null)}}class te extends q{animateUpdate(e,i){var r=this._shape,s=i._shape.getAnimParams(),a=r.getAnimParams(),n=i._shape.getPrimaryFill(),o=this._shape.getPrimaryFill();if(!t.ArrayUtils.equals(s,a)||!n.equals(o)){r.setAnimParams(s);var l=new t.CustomAnimation(r.getCtx(),this,this._updateDuration);l.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,r,r.getAnimParams,r.setAnimParams,a),n.equals(o)||(this._shape.setFill(n),l.getAnimator().addProp(t.Animator.TYPE_FILL,r,r.getFill,r.setFill,o)),e.add(l,1)}}animateInsert(e){var i=this._shape,r=i.getAnimParams(),s=r.slice(0);s[1]=0,s[2]=0,i.setAnimParams(s);var a=new t.CustomAnimation(i.getCtx(),this,this._insertDuration);a.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,i,i.getAnimParams,i.setAnimParams,r),e.add(a,2)}animateDelete(e,i){var r=this._shape;i.setClipPath(null),i.addChild(r);var s=r.getAnimParams().slice(0);s[1]=0,s[2]=0;var a=new t.CustomAnimation(r.getCtx(),this,this._deleteDuration);a.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,r,r.getAnimParams,r.setAnimParams,s),e.add(a,0)}}class ie extends q{animateInsert(e){this._shape.setAlpha(0);var i=new t.AnimFadeIn(this._shape.getCtx(),this._shape,this._insertDuration);e.add(i,2)}animateDelete(e,i){i.addChild(this._shape);var r=new t.AnimFadeOut(this._shape.getCtx(),this._shape,this._deleteDuration);e.add(r,0)}animateUpdate(e,i){var r=i._shape.getAnimParams(),s=this._shape.getAnimParams();this._shape.setAnimParams(r);var a=new t.CustomAnimation(this._shape.getCtx(),this,this._updateDuration);a.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this._shape,this._shape.getAnimParams,this._shape.setAnimParams,s),e.add(a,1)}}class re extends t.Polygon{constructor(e,t,i,r){let s,a,n,o,l;t&&(a=Math.min(t[0],t[4]),n=Math.max(t[0],t[4]),o=Math.min(t[1],t[5]),l=Math.max(t[1],t[5]),s=[a,o,n,o,n,l,a,l]),super(e,s,i,r),this._x1=a,this._x2=n,this._y1=o,this._y2=l}setStyleProperties(e,i,r,s,a,n,o){this._fill=e,this._borderStroke=i,this._hoverColor=t.SelectionEffectUtils.getHoverBorderColor(r),this._innerColor=s,this._outerColor=a,this._shapeClassName=n,this._shapeStyle=o,this.setStyle(o).setClassName(n),this.setFill(e),i&&this.setStroke(i)}setAnimParams(e){this._x1=Math.min(e[0],e[4]),this._x2=Math.max(e[0],e[4]),this._y1=Math.min(e[1],e[5]),this._y2=Math.max(e[1],e[5]),this.setPoints(e),this._initializeSelectionEffects()}showHoverEffect(){if(!this.IsShowingHoverEffect)if(this.IsShowingHoverEffect=!0,"redwood"===this.getCtx().getThemeBehavior()){if(!this.isSelected()){var e=this.getFill().getColor();this._showNestedBorders(e,this._innerColor)}}else this._showNestedBorders(this._hoverColor,this._innerColor)}hideHoverEffect(){this.IsShowingHoverEffect&&(this.IsShowingHoverEffect=!1,"redwood"===this.getCtx().getThemeBehavior()?this.isSelected()||this._showNestedBorders():this.isSelected()?this._showNestedBorders(this._outerColor,this._innerColor):this._showNestedBorders())}setSelected(e){if(this.IsSelected!=e)if(this.IsSelected=e,"redwood"===this.getCtx().getThemeBehavior()){var t=this.getPrimaryFill().getColor();this.isSelected()?this._showNestedBorders(this._outerColor,this._innerColor):this.isHoverEffectShown()?this._showNestedBorders(t,this._innerColor):this._showNestedBorders()}else this.isHoverEffectShown()?this._showNestedBorders(this._hoverColor,this._innerColor):this.isSelected()?this._showNestedBorders(this._outerColor,this._innerColor):this._showNestedBorders()}UpdateSelectionEffect(){}getPrimaryFill(){return this._fill}_initializeSelectionEffects(){var e=this.isSelected()?re.OUTER_BORDER_WIDTH:re.OUTER_BORDER_WIDTH_HOVER,i=this._createPointsArray(e),r=this._createPointsArray(e+re.INNER_BORDER_WIDTH);if(this.OuterChild)return this.OuterChild.setPoints(i),void this.InnerChild.setPoints(r);this.OuterChild=new t.Polygon(this.getCtx(),i),this.OuterChild.setInvisibleFill(),this.OuterChild.setMouseEnabled(!0),this.addChild(this.OuterChild),this.InnerChild=new t.Polygon(this.getCtx(),r),this.InnerChild.setInvisibleFill(),this.InnerChild.setMouseEnabled(!0),this.addChild(this.InnerChild)}_showNestedBorders(e,t){this._initializeSelectionEffects(),t?(this.setSolidFill(e),this.setStroke(null),this.setClassName().setStyle(),this.OuterChild.setSolidFill(t),this.OuterChild.setClassName().setStyle(),this.InnerChild.setFill(this._fill),this.InnerChild.setClassName(this._shapeClassName).setStyle(this._shapeStyle)):e?(this.setSolidFill(e),this.setStroke(null),this.setClassName().setStyle(),this.OuterChild.setFill(this._fill),this.OuterChild.setClassName(this._shapeClassName).setStyle(this._shapeStyle),this.InnerChild.setInvisibleFill(),this.InnerChild.setClassName().setStyle()):(this.setFill(this._fill),this.setStroke(this._borderStroke),this.setClassName(this._shapeClassName).setStyle(this._shapeStyle),this.OuterChild.setInvisibleFill(),this.OuterChild.setClassName().setStyle(),this.InnerChild.setInvisibleFill(),this.InnerChild.setClassName().setStyle())}_createPointsArray(e){var t=this._x1+e,i=this._x2-e,r=this._y1+e,s=this._y2-e;return[t,r,i,r,i,s,t,s]}}re.OUTER_BORDER_WIDTH=2,re.OUTER_BORDER_WIDTH_HOVER=1.25,re.INNER_BORDER_WIDTH=1;class se extends re{constructor(e,t,i,r,s,a,n){super(e.getCtx(),null,null,n),this._MAX_GAP_SIZE=2,this._MIN_BAR_LENGTH_FOR_GAPS=5,this._INDICATOR_OFFSET=8,this._MIN_BAR_WIDTH_FOR_GAPS_PIXEL_HINTING=15,this._bHoriz=l.isHorizontal(e),this._bStacked=d.isStacked(e),this._barGapRatio=R.getBarGapRatio(e),this._dataItemGaps=c.getDataItemGaps(e),this._axisCoord=t,this._doNotRender=!!n,this._setBarCoords(i,r,s,a,!0)}setSelected(e){if(this.IsSelected!=e){if(this.IsSelected=e,"redwood"===this.getCtx().getThemeBehavior())var t=this.getPrimaryFill().getColor();else t=this._hoverColor;this.isSelected()?(this._tempX1=this._x1,this._tempX2=this._x2,this._tempBaselineCoord=this._baselineCoord,this._x1=this._origX1,this._x2=this._origX2,this._baselineCoord=this._origBaselineCoord,this.setPoints(this._createPointsArray()),"redwood"===this.getCtx().getThemeBehavior()?this._showNestedBorders(this._outerColor,this._innerColor):this._showNestedBorders(this.isHoverEffectShown()?t:this._outerColor,this._innerColor)):(this._x1=this._tempX1,this._x2=this._tempX2,this._baselineCoord=this._tempBaselineCoord,this.setPoints(this._createPointsArray()),"redwood"===this.getCtx().getThemeBehavior()?this.isHoverEffectShown()?this._showNestedBorders(t,this._innerColor):this._showNestedBorders(null):this._showNestedBorders(this.isHoverEffectShown()?t:null))}}getAnimParams(e){return e?this._bHoriz?[this._x2,this._x1,this._baselineCoord,this._endCoord]:[this._x1,this._x2,this._endCoord,this._baselineCoord]:[this._baselineCoord,this._endCoord,this._x1,this._x2]}setAnimParams(e,t){if(this._setBarCoords(e[0],e[1],e[2],e[3],!1),t){var i=this.getIndicatorPos();t.setTranslate(i.x,i.y),t.setAlpha(1),t.getParent().addChild(t)}}getDisplayAnim(e){var i=this.getAnimParams();this.setAnimParams([this._axisCoord,this._axisCoord,this._x1,this._x2]);var r=new t.CustomAnimation(this.getCtx(),this,e);return r.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this.getAnimParams,this.setAnimParams,i),r}getDeleteAnim(e){var i=[this._baselineCoord,this._baselineCoord,this._x1,this._x2],r=new t.CustomAnimation(this.getCtx(),this,e);return r.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this.getAnimParams,this.setAnimParams,i),r.getAnimator().addProp(t.Animator.TYPE_NUMBER,this,this.getAlpha,this.setAlpha,0),r}getInsertAnim(e){this.setAlpha(0);var i=this.getDisplayAnim(e);return i.getAnimator().addProp(t.Animator.TYPE_NUMBER,this,this.getAlpha,this.setAlpha,1),i}getIndicatorPos(){var e,i,r=(this._x1+this._x2)/2;if(this._bStacked){var s=(this._endCoord+this._baselineCoord)/2;e=this._bHoriz?s:r,i=this._bHoriz?r:s}else{var a=this._endCoord>=this._baselineCoord?this._endCoord+this._INDICATOR_OFFSET:this._endCoord-this._INDICATOR_OFFSET;e=this._bHoriz?a:r,i=this._bHoriz?r:a}return new t.Point(e,i)}_setBarCoords(e,i,r,s,a){this._baselineCoord=e,this._endCoord=i,this._x1=r,this._x2=s;var n=this._x2-this._x1;if(n<1&&(this._x1=Math.floor(this._x1),this._x2=this._x1+1,n=1),this._origX1=this._x1,this._origX2=this._x2,this._origBaselineCoord=this._baselineCoord,this._origSize=this._x2-this._x1,this._dataItemGaps>0&&a&&!this.isSelected()){var o=Math.ceil(this._MAX_GAP_SIZE*this._dataItemGaps),l=Math.abs(this._baselineCoord-this._endCoord),h=this._axisCoord==this._baselineCoord;l>=this._MIN_BAR_LENGTH_FOR_GAPS&&this._bStacked&&!h&&(this._baselineCoord+=this._endCoord>this._baselineCoord?o:-o),n>=se._MIN_BAR_WIDTH_FOR_GAPS&&(1==t.Agent.getDevicePixelRatio()&&this._barGapRatio>0&&n>this._MIN_BAR_WIDTH_FOR_GAPS_PIXEL_HINTING?("firefox"===t.Agent.browser||this._doNotRender||this.setPixelHinting(!0),this._x1=Math.round(this._x1),this._x2=Math.round(this._x2),this._origX1=this._x1,this._origX2=this._x2,this._x2-=o):(this._x1+=o/2,this._x2-=o/2),this._origSize-=o)}if(!this._doNotRender){var g=this._createPointsArray();this.setPoints(g),this.OuterChild&&this.OuterChild.setPoints(this._createPointsArray(re.OUTER_BORDER_WIDTH)),this.InnerChild&&this.InnerChild.setPoints(this._createPointsArray(re.OUTER_BORDER_WIDTH+re.INNER_BORDER_WIDTH))}}_createPointsArray(e){var t=this._baselineCoord,i=this._endCoord,r=this._x1,s=this._x2;if(e>0){if(Math.abs(r-s)<2*e||Math.abs(t-i)<2*e)return[];r+=e,s-=e,i<t?(t-=e,i+=e):(t+=e,i-=e)}return this._bHoriz?[i,r,i,s,t,s,t,r]:[r,i,s,i,s,t,r,t]}getBoundingBox(){var e=Math.min(this._x2,this._x1),i=Math.min(this._endCoord,this._baselineCoord),r=Math.abs(this._x2-this._x1),s=Math.abs(this._endCoord-this._baselineCoord);return this._bHoriz?new t.Rectangle(i,e,s,r):new t.Rectangle(e,i,r,s)}getOriginalBarSize(){return this._origSize}getDimensionsSelf(e){return this.ConvertCoordSpaceRect(this.getBoundingBox(),e)}}se._MIN_BAR_WIDTH_FOR_GAPS=5;class ae extends t.Shape{constructor(e,i,r,s,a,n,o,h,g){super(e.getCtx()),this._chart=e,this._bHoriz=l.isHorizontal(e),this._styleOptions=g,this._innerColor=c.getSelectedInnerColor(this._chart),this._outerColor=c.getSelectedOuterColor(this._chart),this._hoverColor=t.SelectionEffectUtils.getHoverBorderColor(this._styleOptions._color);var d=i-r/2,u=i+r/2;c.getDataItemGaps(e)>0&&r>se._MIN_BAR_WIDTH_FOR_GAPS&&u--,this._render(d,u,s,a,n,o,h)}_render(e,i,r,s,a,n,o){this._cleanUp();var l=this.getCtx();this._x1=Math.round(e),this._x2=Math.round(i),this._low=Math.round(r),this._q1=Math.round(s),this._q2=Math.round(a),this._q3=Math.round(n),this._high=Math.round(o);var h=i-e,g=c.getSizeInPixels(this._styleOptions.whiskerEndLength,h);g=Math.min(h,g),g=2*Math.floor((g-1)/2)+1;var d=Math.floor((e+i)/2)+.5,u=d-Math.floor(g/2)-.5,_=d+Math.floor(g/2)+.5;this._drawLine(d,this._low,d,this._high,"whisker"),this._drawLine(u,this._low,_,this._low,"whiskerEnd"),this._drawLine(u,this._high,_,this._high,"whiskerEnd"),this._q2Box=new t.Polygon(l,this._createQ2PointsArray(0));var p=k.getRectangleFill(this._chart,this._styleOptions.q2Color,this._styleOptions._q2Pattern,h);this._q2Box.setFill(p),this._applyCustomStyle(this._q2Box,"q2"),this.addChild(this._q2Box),this._q3Box=new t.Polygon(l,this._createQ3PointsArray(0));var v=k.getRectangleFill(this._chart,this._styleOptions.q3Color,this._styleOptions._q3Pattern,h);this._q3Box.setFill(v),this._applyCustomStyle(this._q3Box,"q3"),this.addChild(this._q3Box),this._drawMedianLine(0),this._borderColor=this._styleOptions.borderColor,this._borderColor&&(this._borderWidth=this._styleOptions.borderWidth,this._drawBorders(this._borderColor,this._borderWidth)),this.IsSelected&&(this.IsSelected=!1,this.setSelected(!0))}showHoverEffect(){this.IsShowingHoverEffect||(this.IsShowingHoverEffect=!0,this.isSelected()?"redwood"!==this.getCtx().getThemeBehavior()&&this._drawBorders(this._hoverColor,re.OUTER_BORDER_WIDTH,this._innerColor,re.INNER_BORDER_WIDTH):this._drawBorders(this._hoverColor,re.OUTER_BORDER_WIDTH_HOVER,this._innerColor,re.INNER_BORDER_WIDTH))}hideHoverEffect(){this.IsShowingHoverEffect&&(this.IsShowingHoverEffect=!1,this.isSelected()?this._drawBorders(this._outerColor,re.OUTER_BORDER_WIDTH,this._innerColor,re.INNER_BORDER_WIDTH):this._drawBorders(this._borderColor,this._borderWidth))}setSelected(e){this.IsSelected!=e&&(this.IsSelected=e,this.isHoverEffectShown()?e?"redwood"===this.getCtx().getThemeBehavior()?this._drawBorders(this._outerColor,re.OUTER_BORDER_WIDTH,this._innerColor,re.INNER_BORDER_WIDTH):this._drawBorders(this._hoverColor,re.OUTER_BORDER_WIDTH,this._innerColor,re.INNER_BORDER_WIDTH):this._drawBorders(this._hoverColor,re.OUTER_BORDER_WIDTH_HOVER,this._innerColor,re.INNER_BORDER_WIDTH):e?this._drawBorders(this._outerColor,re.OUTER_BORDER_WIDTH,this._innerColor,re.INNER_BORDER_WIDTH):this._drawBorders(this._hoverColor,this._borderWidth))}UpdateSelectionEffect(){}getDisplayAnim(e){return this.getInsertAnim(e)}getDeleteAnim(e){var i=new t.CustomAnimation(this.getCtx(),this,e),r=[this._x1,this._x2,this._q2,this._q2,this._q2,this._q2,this._q2];return i.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this._getAnimParams,this._setAnimParams,r),i.getAnimator().addProp(t.Animator.TYPE_NUMBER,this,this.getAlpha,this.setAlpha,0),i}getInsertAnim(e){var i=new t.CustomAnimation(this.getCtx(),this,e),r=this._getAnimParams();return this._setAnimParams([this._x1,this._x2,this._q2,this._q2,this._q2,this._q2,this._q2]),i.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this._getAnimParams,this._setAnimParams,r),this.setAlpha(0),i.getAnimator().addProp(t.Animator.TYPE_NUMBER,this,this.getAlpha,this.setAlpha,1),i}getUpdateAnim(e,i){var r=new t.CustomAnimation(this.getCtx(),this,e),s=i._getQ2Fill(),a=this._getQ2Fill();s.equals(a)||(this._setQ2Fill(s),r.getAnimator().addProp(t.Animator.TYPE_FILL,this,this._getQ2Fill,this._setQ2Fill,a));var n=i._getQ3Fill(),o=this._getQ3Fill();n.equals(o)||(this._setQ3Fill(n),r.getAnimator().addProp(t.Animator.TYPE_FILL,this,this._getQ3Fill,this._setQ3Fill,o));var l=this._getAnimParams();return this._setAnimParams(i._getAnimParams()),r.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this._getAnimParams,this._setAnimParams,l),r}_getAnimParams(){return[this._x1,this._x2,this._low,this._q1,this._q2,this._q3,this._high]}_setAnimParams(e){this._render(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}_getQ2Fill(){return new t.SolidFill(this._styleOptions.q2Color)}_setQ2Fill(e){this._styleOptions.q2Color=e.getColor()}_getQ3Fill(){return new t.SolidFill(this._styleOptions.q3Color)}_setQ3Fill(e){this._styleOptions.q3Color=e.getColor()}_drawLine(e,i,r,s,a){var n=this._bHoriz?new t.Line(this.getCtx(),i,e,s,r):new t.Line(this.getCtx(),e,i,r,s);return this._applyCustomStyle(n,a),n.setPixelHinting(!0),this.addChild(n),n}_drawMedianLine(e){if(!this._medianLine){var i=new t.Line(this.getCtx(),0,0,0,0);this._applyCustomStyle(i,"median"),i.setPixelHinting(!0),this.addChild(i),this._medianLine=i}var r=this._x1+e,s=this._x2-e,a=this._q2;this._bHoriz?(this._medianLine.setX1(a),this._medianLine.setX2(a),this._medianLine.setY1(r),this._medianLine.setY2(s)):(this._medianLine.setY1(a),this._medianLine.setY2(a),this._medianLine.setX1(r),this._medianLine.setX2(s))}_drawBorders(e,i,r,s){if(!this._outerBorderShape){var a=this.getChildIndex(this._q2Box);this._innerBorderShape=new t.Polygon(this.getCtx()),this._innerBorderShape.setInvisibleFill(),this.addChildAt(this._innerBorderShape,a),this._outerBorderShape=new t.Polygon(this.getCtx()),this._outerBorderShape.setInvisibleFill(),this.addChildAt(this._outerBorderShape,a)}var n=0;i?(this._outerBorderShape.setPoints(this._createBoxPointsArray(0)),this._outerBorderShape.setSolidFill(e),n+=i,s?(this._innerBorderShape.setPoints(this._createBoxPointsArray(i)),this._innerBorderShape.setSolidFill(r),n+=s):this._innerBorderShape.setInvisibleFill()):(this._outerBorderShape.setInvisibleFill(),this._innerBorderShape.setInvisibleFill()),this._q2Box.setPoints(this._createQ2PointsArray(n)),this._q3Box.setPoints(this._createQ3PointsArray(n)),this._drawMedianLine(n)}_createBoxPointsArray(e){var t,i,r=this._x1+e,s=this._x2-e;return this._q1<this._q3?(t=this._q1+e,i=this._q3-e):(t=this._q1-e,i=this._q3+e),this._createPointsArray(r,s,t,i)}_createQ3PointsArray(e){var t,i=this._x1+e,r=this._x2-e,s=this._q2;return t=this._q2<this._q3?this._q3-e:this._q3+e,this._createPointsArray(i,r,s,t)}_createQ2PointsArray(e){var t,i=this._x1+e,r=this._x2-e,s=this._q2;return t=this._q2<this._q1?this._q1-e:this._q1+e,this._createPointsArray(i,r,t,s)}_createPointsArray(e,t,i,r){return this._bHoriz?[i,e,i,t,r,t,r,e]:[e,i,t,i,t,r,e,r]}_applyCustomStyle(e,t){e.setStyle(this._styleOptions[t+"Style"]||this._styleOptions[t+"SvgStyle"],!0),e.setClassName(this._styleOptions[t+"ClassName"]||this._styleOptions[t+"SvgClassName"],!0)}_cleanUp(){this.removeChildren(),this._q2Box=null,this._q3Box=null,this._medianLine=null,this._outerBorderShape=null,this._innerBorderShape=null}}class ne extends t.Container{constructor(e,t,i,r,s,a,n){super(e),this._BAR_WIDTH=.3,i=Math.max(2*Math.round(i/2),1);var o=Math.min(2*Math.ceil(this._BAR_WIDTH*i/2),i),l=Math.round(t)-i/2,h=l+i;if(null!=a&&null!=n){var g=Math.round(t)-o/2,d=g+o;this._rangeShape=new re(e,[g,a,d,a,d,n,g,n]),this.addChild(this._rangeShape)}this._changeShape=new re(e,[l,r,h,r,h,s,l,s]),this.addChild(this._changeShape),this.setPixelHinting(!0)}setChangeStyle(e,t,i,r,s){this._changeShape.setStyleProperties(e,t,i,r,s)}setRangeStyle(e,t,i,r){this._rangeShape&&this._rangeShape.setStyleProperties(e,t,i,null,r)}setSelected(e){this._changeShape.setSelected(e),this._rangeShape&&this._rangeShape.setSelected(e)}showHoverEffect(){this._changeShape.showHoverEffect(),this._rangeShape&&this._rangeShape.showHoverEffect()}hideHoverEffect(){this._changeShape.hideHoverEffect(),this._rangeShape&&this._rangeShape.hideHoverEffect()}getDisplayAnim(e){var i=new t.CustomAnimation(this.getCtx(),this,e),r=this._changeShape.getPoints();if(this._changeShape.setPoints(ne._getInitialPoints(r)),i.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this._changeShape,this._changeShape.getPoints,this._changeShape.setAnimParams,r),this._rangeShape){var s=this._rangeShape.getPoints();this._rangeShape.setPoints(ne._getInitialPoints(s)),i.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this._rangeShape,this._rangeShape.getPoints,this._rangeShape.setAnimParams,s)}return i}getDeleteAnim(e){var i=new t.CustomAnimation(this.getCtx(),this,e),r=ne._getInitialPoints(this._changeShape.getPoints());if(i.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this._changeShape,this._changeShape.getPoints,this._changeShape.setAnimParams,r),this._rangeShape){var s=ne._getInitialPoints(this._rangeShape.getPoints());i.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this._rangeShape,this._rangeShape.getPoints,this._rangeShape.setAnimParams,s)}return i.getAnimator().addProp(t.Animator.TYPE_NUMBER,this,this.getAlpha,this.setAlpha,0),i}getInsertAnim(e){this.setAlpha(0);var i=this.getDisplayAnim(e);return i.getAnimator().addProp(t.Animator.TYPE_NUMBER,this,this.getAlpha,this.setAlpha,1),i}getUpdateAnim(e,i){var r=new t.CustomAnimation(this.getCtx(),this,e),s=this._changeShape.getPoints();this._changeShape.setPoints(i._changeShape.getPoints()),r.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this._changeShape,this._changeShape.getPoints,this._changeShape.setAnimParams,s);var a=i._changeShape.getPrimaryFill(),n=this._changeShape.getPrimaryFill();if(i._changeShape.isSelected()||this._changeShape.isSelected()||a.equals(n)||(this._changeShape.setFill(a),r.getAnimator().addProp(t.Animator.TYPE_FILL,this._changeShape,this._changeShape.getFill,this._changeShape.setFill,n)),this._rangeShape&&i._rangeShape){var o=this._rangeShape.getPoints();this._rangeShape.setPoints(i._rangeShape.getPoints()),r.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this._rangeShape,this._rangeShape.getPoints,this._rangeShape.setAnimParams,o)}return r}UpdateSelectionEffect(){}static _getInitialPoints(e){var t=e[0],i=e[2],r=(e[1]+e[5])/2;return[t,r,i,r,i,r,t,r]}}class oe{constructor(e,t,i,r,s,a){this.x=e,this.y1=t,this.y2=i,this.groupIndex=r,this.group=s,this.filtered=a}isUpstep(e){return Math.abs(this.y2-e)>Math.abs(this.y1-e)}clone(){return new oe(this.x,this.y1,this.y2,this.groupIndex,this.group,this.filtered)}}class le extends t.Container{constructor(e,t,i,r,s,a,n,o,l,h,g,d){super(e.getCtx()),this._INDICATOR_OFFSET=8,this._chart=e,this._bArea=t,this._availSpace=i,this._baseline=r,this._style=s,this._className=a,this._fill=n,this._stroke=o,this._type=l,this._baseType=g||l,this._indicatorMap={},this.setCoords(h,d),this.chartShapeType="lineArea"}setCoords(e,t){this._arCoord=e,t&&(this._arBaseCoord=t),this.removeChildren(),this._bArea?this._renderAreas():this._renderLines(),this._positionIndicators()}getCoords(){return this._arCoord}getBaseCoords(){return this._arBaseCoord}getBaseline(){return this._baseline}isArea(){return this._bArea}_getPointArrays(e,i){var r=[],s=[];r.push(s),e=le._convertToPointCoords(e);var a,n,o,h,g,d=l.isPolar(this._chart),u="centeredStepped"==i||"centeredSegmented"==i,_=u||"stepped"==i||"segmented"==i,p=c.getGroupWidth(this._chart),v=t.Agent.isRightToLeft(this.getCtx())&&l.isVertical(this._chart)?-1:1;d&&(a=e[e.length-1]);for(var m=!1,f=0;f<e.length;f++)null!=e[f]?(n=e[f],h=e[f]._isY2,o=u?n.x-p/2*v:n.x,h&&(m&&_&&(o+=p*v),m=!m),"curved"==i&&h&&s.push(null,null),a&&_&&this._pushCoord(s,o,a.y),this._bArea||"segmented"!=i&&"centeredSegmented"!=i||(s=[],r.push(s)),this._pushCoord(s,o,n.y),a=n):l.isMixedFrequency(this._chart)||(_&&!d&&a&&!h&&(g=u?a.x+.5*p*v:a.x+p*v,this._pushCoord(s,g,a.y)),s=[],r.push(s),a=null);if(_&&!d&&a&&!h&&(g=u?a.x+.5*p*v:a.x+p*v,this._pushCoord(s,g,a.y)),d&&r.length>1){var x=r.pop();r[0]=x.concat(r[0])}return r}_pushCoord(e,i,r){var s=h.convertAxisCoord(this._chart,new t.Point(i,r),this._availSpace);e.push(Math.round(10*s.x)/10,Math.round(10*s.y)/10)}_isRing(){if(!l.isPolar(this._chart)||!l.hasGroupAxis(this._chart)||this._arCoord.length<d.getGroupCount(this._chart))return!1;for(var e=0;e<this._arCoord.length;e++)if(null==this._arCoord[e].x)return!1;return!0}_getSplineType(){return l.isScatterBubble(this._chart)?t.PathUtils.SPLINE_TYPE_CARDINAL:l.isPolar(this._chart)?this._isRing()?t.PathUtils.SPLINE_TYPE_CARDINAL_CLOSED:t.PathUtils.SPLINE_TYPE_CARDINAL:l.isHorizontal(this._chart)?t.PathUtils.SPLINE_TYPE_MONOTONE_HORIZONTAL:t.PathUtils.SPLINE_TYPE_MONOTONE_VERTICAL}_renderLines(){for(var e,i=this._getPointArrays(this._arCoord,this._type),r=0;r<i.length;r++){var s=i[r];if(s&&s.length>1){if("curved"==this._type){var a=le._getCurvedPathCommands(s,!1,this._getSplineType());(e=new t.Path(this.getCtx(),a)).setFill(null)}else this._isRing()?(e=new t.Polygon(this.getCtx(),s)).setFill(null):e=new t.Polyline(this.getCtx(),s);e.setStroke(this._stroke),e.setClassName(this._className).setStyle(this._style),this.addChild(e)}}}_renderAreas(){var e=this._arCoord,i=this._arBaseCoord;!l.isPolar(this._chart)&&e.length>0&&i.length>0&&(e=e.slice(0),i=i.slice(0),null!=e[0].x&&null!=i[0].x&&(le._removeAreaEdge(e,0,this._baseline),le._removeAreaEdge(i,0,this._baseline),i[0].x=e[0].x),null!=e[e.length-1].x&&null!=i[i.length-1].x&&(le._removeAreaEdge(e,e.length-1,this._baseline),le._removeAreaEdge(i,i.length-1,this._baseline),i[i.length-1].x=e[e.length-1].x));var r=this._getPointArrays(e,this._type),s=this._getPointArrays(i,this._baseType);if(r.length==s.length)for(var a,n=0;n<r.length;n++){var o=r[n],h=s[n];if(!(o.length<2)){var g="curved"==this._type,d="curved"==this._baseType;this._isRing()&&(g||o.push(o[0],o[1]),h.length>=2&&!d&&h.push(h[0],h[1]));for(var u=[],_=0;_<h.length;_+=2)u.unshift(h[_],h[_+1]);if(g||d){var c=this._getSplineType(),p=g?le._getCurvedPathCommands(o,!1,c):t.PathUtils.polyline(o,!1);p+=d?le._getCurvedPathCommands(u,!0,c):t.PathUtils.polyline(u,!0),p+=t.PathUtils.closePath(),a=new t.Path(this.getCtx(),p)}else{var v=u.concat(o);a=new t.Polygon(this.getCtx(),v)}a.setFill(this._fill),a.setClassName(this._className).setStyle(this._style),this._stroke&&a.setStroke(this._stroke),this.addChild(a)}}}_positionIndicators(){for(var e,i,r,s,a,n=0;n<this._arCoord.length;n++)a=this._arCoord[n],(e=this._indicatorMap[a.groupIndex])&&e.indicator&&(s=(a.isUpstep(this._baseline)?a.y2:a.y1)+this._INDICATOR_OFFSET*(e.direction==K.DIR_UP?-1:1),r=h.convertAxisCoord(this._chart,new t.Point(a.x,s),this._availSpace),(i=e.indicator).setTranslate(r.x,r.y),i.setAlpha(1),i.getParent().addChild(i))}getAnimParams(e){return le._coordsToAnimParams(this._arCoord,e?e._arCoord:null,this._baseline)}setAnimParams(e){var t=le._animParamsToCoords(e);this.setCoords(t)}getBaseAnimParams(e){return le._coordsToAnimParams(this._arBaseCoord,e?e._arBaseCoord:null,this._baseline)}setBaseAnimParams(e){this._arBaseCoord=le._animParamsToCoords(e)}getCommonGroupIndices(e){for(var t=[],i=0;i<this._arCoord.length;i++)if(!this._arCoord[i].filtered&&null!=this._arCoord[i].x)for(var r=0;r<e._arCoord.length;r++)if(!e._arCoord[r].filtered&&null!=e._arCoord[r].x&&this._arCoord[i].group==e._arCoord[r].group){t.push(this._arCoord[i].groupIndex);break}return t}addIndicator(e,t,i){i.setAlpha(0),this._indicatorMap[e]={direction:t,indicator:i}}removeIndicators(){for(var e in this._indicatorMap){var t=this._indicatorMap[e].indicator;t&&t.getParent().removeChild(t)}this._indicatorMap={}}static _convertToPointCoords(e){for(var i=[],r=0;r<e.length;r++)if(!e[r].filtered)if(null==e[r].x)i.push(null);else if(i.push(new t.Point(e[r].x,e[r].y1)),e[r].y1!=e[r].y2){var s=new t.Point(e[r].x,e[r].y2);s._isY2=!0,i.push(s)}return i}static _coordsToAnimParams(e,t,i){if(t&&t.length>0)if(e&&e.length>0){e=e.slice(0);for(var r,s,a,n=le._coordsToGroups(t),o=le._coordsToGroups(e),l=e.length,h=n.length-1;h>=0;h--)r=n[h],-1==(s=o.indexOf(r))?(0==l?(a=e[0].clone(),e[0]=e[0].clone(),le._removeCoordJump(a,e[0],i)):(a=e[l-1].clone(),e[l-1]=e[l-1].clone(),le._removeCoordJump(e[l-1],a,i)),a.groupIndex=-1,e.splice(l,0,a)):l=s}else{e=[];for(h=0;h<t.length;h++)e.push(new oe(t[h].x,i,i))}for(var g=[],d=0;d<e.length;d++)e[d].filtered||(null==e[d].x?(g.push(1/0),g.push(1/0),g.push(1/0)):(g.push(e[d].x),g.push(e[d].y1),g.push(e[d].y2)),g.push(e[d].groupIndex));return g}static _animParamsToCoords(e){for(var t=[],i=0;i<e.length;i+=4)e[i]==1/0||isNaN(e[i])?t.push(new oe(null,null,null,e[i+3])):t.push(new oe(e[i],e[i+1],e[i+2],e[i+3]));return t}static _coordsToGroups(e){for(var t=[],i=0;i<e.length;i++)e[i].filtered||t.push(e[i].group);return t}static _removeCoordJump(e,t,i){e.isUpstep(i)?t.y1=t.y2:e.y2=e.y1}static _getCurvedPathCommands(e,i,r){var s=[],a=[];s.push(a);for(var n=0;n<e.length;n+=2)null==e[n]?(a=[],s.push(a)):a.push(e[n],e[n+1]);if(r==t.PathUtils.SPLINE_TYPE_CARDINAL_CLOSED&&s.length>1){var o=s.pop();s[0]=o.concat(s[0]),r=t.PathUtils.SPLINE_TYPE_CARDINAL}var l="";for(n=0;n<s.length;n++)a=s[n],l+=t.PathUtils.curveThroughPoints(a,i,r),i=!0;return l}static _removeAreaEdge(e,t,i){var r=e[t].clone();r.isUpstep(i)?r.y1=r.y2:r.y2=r.y1,e[t]=r}}class he extends t.SimpleMarker{constructor(e,t,i,r,s,a){super(e,t,i,r,s,s,null,null,!0),a&&this.setStroke(he.DEFAULT_STROKE)}setDataColor(e){this._dataColor=e,this._hoverStroke=new t.Stroke(e,1,1.5)}getDataColor(){return this._dataColor}showHoverEffect(){this.IsShowingHoverEffect=!0,this.setStroke(this._hoverStroke)}hideHoverEffect(){this.IsShowingHoverEffect=!1,this.setStroke(this.isSelected()?he.SELECTED_STROKE:he.DEFAULT_STROKE)}setSelected(e){this.IsSelected!=e&&(this.IsSelected=e,this.isSelected()?(this.setFill(he.SELECTED_FILL),this.setStroke(this.isHoverEffectShown()?this._hoverStroke:he.SELECTED_STROKE)):(this.setInvisibleFill(),this.setStroke(this.isHoverEffectShown()?this._hoverStroke:he.DEFAULT_STROKE)))}UpdateSelectionEffect(){}}he.DEFAULT_STROKE=new t.Stroke("none"),he.SELECTED_FILL=new t.SolidFill("#FFFFFF"),he.SELECTED_STROKE=new t.Stroke("#5A5A5A",1,1.5);class ge extends U{constructor(e,t,i,r,s,a,n){super(e.getCtx()),this._MIN_BAR_LENGTH_FOR_GAPS=4,this._MAX_DATA_ITEM_GAP=3,this._axisCoord=t,this._availSpace=n.clone(),this._bbox=null,this._dataItemGaps=c.getDataItemGaps(e)*this._MAX_DATA_ITEM_GAP,this._setBarCoords(i,r,s,a)}getAnimParams(){return[this._baselineCoord,this._endCoord,this._x1,this._x2]}setAnimParams(e){this._setBarCoords(e[0],e[1],e[2],e[3])}getPrimaryFill(){return this.getFill()}getDisplayAnim(e){var i=this.getAnimParams();this.setAnimParams([this._axisCoord,this._axisCoord,0,0]);var r=new t.CustomAnimation(this.getCtx(),this,e);return r.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this.getAnimParams,this.setAnimParams,i),r}getDeleteAnim(e){var i=[this._baselineCoord,this._baselineCoord,this._x1,this._x2],r=new t.CustomAnimation(this.getCtx(),this,e);return r.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this.getAnimParams,this.setAnimParams,i),r.getAnimator().addProp(t.Animator.TYPE_NUMBER,this,this.getAlpha,this.setAlpha,0),r}getInsertAnim(e){this.setAlpha(0);var i=this.getAnimParams();this.setAnimParams([this._baselineCoord,this._baselineCoord,this._x1,this._x2]);var r=new t.CustomAnimation(this.getCtx(),this,e);return r.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this.getAnimParams,this.setAnimParams,i),r.getAnimator().addProp(t.Animator.TYPE_NUMBER,this,this.getAlpha,this.setAlpha,1),r}_setBarCoords(e,i,r,s){var a=this._availSpace.x+this._availSpace.w/2,n=this._availSpace.y+this._availSpace.h/2,o=Math.max(i,e),l=Math.abs(i-e)>=this._MIN_BAR_LENGTH_FOR_GAPS&&this._axisCoord!=e?Math.min(i,e)+this._dataItemGaps:Math.min(i,e),g=360-t.Math.radsToDegrees(Math.max(r,s))+90,d=t.Math.radsToDegrees(Math.abs(s-r));this.setWedgeParams(a,n,o,o,g,d,this._dataItemGaps,l);var u=h.polarToCartesian(e,r,this._availSpace),_=h.polarToCartesian(e,s,this._availSpace),c=h.polarToCartesian(i,r,this._availSpace),p=h.polarToCartesian(i,s,this._availSpace),v=Math.min(u.x,_.x,c.x,p.x),m=Math.max(u.x,_.x,c.x,p.x),f=Math.min(u.y,_.y,c.y,p.y),x=Math.max(u.y,_.y,c.y,p.y);this._bbox=new t.Rectangle(v,f,m-v,x-f),this._baselineCoord=e,this._endCoord=i,this._x1=r,this._x2=s}getBoundingBox(){return this._bbox}getOriginalBarSize(){return this._bbox.w}}class de extends t.Path{constructor(e,t,i,r,s,a,n){super(e),this._markerSize=a,this._isInvisible=n,this._drawPath(t,i,r,s)}_drawPath(e,i,r,s){var a=Math.atan2(s-i,r-e),n=this._markerSize/2,o=Math.PI/8,l=t.PathUtils.moveTo(e+n*Math.cos(a+o),i+n*Math.sin(a+o))+t.PathUtils.arcTo(n,n,2*(Math.PI-o),1,e+n*Math.cos(a-o),i+n*Math.sin(a-o))+t.PathUtils.lineTo(r-n*Math.cos(a+o),s-n*Math.sin(a+o))+t.PathUtils.arcTo(n,n,2*(Math.PI-o),1,r-n*Math.cos(a-o),s-n*Math.sin(a-o))+t.PathUtils.closePath();this.setCmds(l),this._x1=e,this._y1=i,this._x2=r,this._y2=s}setStyleProperties(e,i,r,s,a){this._dataColor=r;var n=t.SelectionEffectUtils.getHoverBorderColor(r);this._isInvisible?(this.setInvisibleFill(),this._hoverStroke=new t.Stroke(n,1,1.5)):(this.setFill(e),this.setStroke(i),this.setHoverStroke(new t.Stroke(s,1,1),new t.Stroke(n,1,3.5)),this.setSelectedStroke(new t.Stroke(s,1,1.5),new t.Stroke(a,1,4.5)),this.setSelectedHoverStroke(new t.Stroke(s,1,1.5),new t.Stroke(n,1,4.5)))}getDataColor(){return this._dataColor}showHoverEffect(){this._isInvisible?(this.IsShowingHoverEffect=!0,this.setStroke(this._hoverStroke)):super.showHoverEffect()}hideHoverEffect(){this._isInvisible?(this.IsShowingHoverEffect=!1,this.setStroke(this.isSelected()?he.SELECTED_STROKE:he.DEFAULT_STROKE)):super.hideHoverEffect()}setSelected(e){if(this._isInvisible){if(this.IsSelected==e)return;this.IsSelected=e,this.isSelected()?(this.setFill(he.SELECTED_FILL),this.setStroke(this.isHoverEffectShown()?this._hoverStroke:he.SELECTED_STROKE)):(this.setInvisibleFill(),this.setStroke(this.isHoverEffectShown()?this._hoverStroke:he.DEFAULT_STROKE))}else super.setSelected(e)}UpdateSelectionEffect(){this._isInvisible||super.UpdateSelectionEffect()}getAnimParams(){return[this._x1,this._y1,this._x2,this._y2]}setAnimParams(e){this._drawPath(e[0],e[1],e[2],e[3])}isInvisible(){return this._isInvisible}getBoundingBox(){return this.getBoundingBox1().getUnion(this.getBoundingBox2())}getBoundingBox1(){return new t.Rectangle(this._x1-this._markerSize/2,this._y1-this._markerSize/2,this._markerSize,this._markerSize)}getBoundingBox2(){return new t.Rectangle(this._x2-this._markerSize/2,this._y2-this._markerSize/2,this._markerSize,this._markerSize)}}const ue={createAnim:(e,i,r,s,a)=>{if(!ue._canAnimate(e,i))return null;var n,o=i.getCtx(),h=[],g=[];l.isPie(i)?(h.push(e.pieChart),g.push(i.pieChart)):ue._buildAnimLists(o,h,e,g,i,s);var d=new t.DataAnimationHandler(o,a);d.constructAnimation(h,g),d.getNumPlayables()>0&&(n=d.getAnimation(!0));var u=i.getDataLabels();if(n&&u.length>0){for(var _=0;_<u.length;_++)u[_].setAlpha(0);n=new t.SequentialPlayable(o,n,new t.AnimFadeIn(o,u,s/4))}return n},_buildAnimLists:(e,i,r,s,a,n)=>{var o,l,h,g,d,u=r.getChartObjPeers(),_=i,c=a.getCache().getFromCache("dataFiltered");for(o=0;o<2;o++){var p={},v={};for(l=0;l<u.length;l++){if(d=null,(g=(h=u[l]).getDisplayables()[0])instanceof B)d=new J(h,n,"/funnel");else if(g instanceof G)d=new te(h,n,"/pyramid");else if(g instanceof se||g instanceof ge){if(d=new Q(h,n,"/bar"),c){var m=h.getSeries();p[m]=p[m]?p[m]+1:1,d.setId(m+"/"+p[m]+"/bar")}}else if(g instanceof le){var f=(d=new $(h,n)).getId();v[f]=v[f]?v[f]+1:1,d.setId(f+"/"+v[f])}else if(g instanceof t.SimpleMarker){if(g instanceof he&&!g.isSelected())continue;d=new ee(h,n,"/marker")}else if(g instanceof de){if(g.isInvisible()&&!g.isSelected())continue;d=new ie(h,n,"/rangeMarker")}else g instanceof ne?d=new q(h,n):g instanceof ae&&(d=new q(h,n,"/boxAndWhisker"));d&&(_.push(d),d.setOldChart(r))}_=s,u=a.getChartObjPeers()}},_canAnimate:(e,t)=>l.isPie(e)&&l.isPie(t)?e&&t:l.isPolar(e)==l.isPolar(t)&&(!(!l.isBLAC(e)||!l.isBLAC(t))||(!(!l.isScatterBubble(e)||!l.isScatterBubble(t))||e.getType()==t.getType()))},_e={createAnim:(e,i,r)=>{var s=[];if(l.isBLAC(e))_e._animBarLineArea(e,r,s);else if(l.isScatterBubble(e)||l.isFunnel(e)||l.isPyramid(e))_e._animBubbleScatterFunnelPyramid(e,r,s);else if(l.isPie(e)&&e.pieChart)return e.pieChart.getDisplayAnim();return s.length>0?new t.ParallelPlayable(e.getCtx(),s):null},_animBarLineArea:(e,i,r)=>{var s=e.getChartObjPeers(),a=s?s.length:0;if(a)for(var n,o,l,h=0;h<a;h++){n=(o=s[h]).getDisplayables()[0];var g=d.getSeriesType(o.getChart(),o.getSeriesIndex());if(l=null,n instanceof se||n instanceof ge||n instanceof ne||n instanceof ae)l=n.getDisplayAnim(i);else if(n instanceof le)l="line"==g?_e._getLinePlayable(e,n,i):_e._getAreaPlayable(e,n,i);else if(n instanceof t.SimpleMarker||n instanceof de){if(n instanceof he&&!n.isSelected())continue;l=new t.AnimFadeIn(e.getCtx(),n,i-.8,.8)}l&&r.push(l)}},_animBubbleScatterFunnelPyramid:(e,i,r)=>{var s=e.getObjects(),a=s?s.length:0;if(a)for(var n,o,l=0;l<a;l++)(n=s[l].getDisplayables()[0])instanceof t.SimpleMarker?o=new t.AnimPopIn(e.getCtx(),n,!0,i):(n instanceof B||n instanceof G)&&(o=_e._getFunnelPyramidPlayable(e,n,i)),o&&r.push(o)},_getAreaPlayable:(e,i,r)=>{var s,a=e.getCtx(),n=i.getBaseline();if(i.isArea()){for(var o=i.getBaseCoords(),l=i.getBaseAnimParams(),h=l.slice(0),g=0;g<l.length;g++)g%4!=1&&g%4!=2||(l[g]=n);i.setBaseAnimParams(l),(s=new t.CustomAnimation(a,i,r)).getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,i,i.getBaseAnimParams,i.setBaseAnimParams,h)}var d=i.getCoords(),u=i.getAnimParams(),_=u.slice(0);for(g=0;g<u.length;g++)g%4!=1&&g%4!=2||(u[g]=n);i.setAnimParams(u);var c=new t.CustomAnimation(a,i,r);c.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,i,i.getAnimParams,i.setAnimParams,_);var p=new t.ParallelPlayable(e.getCtx(),s,c);return p.setOnEnd(()=>{i.setCoords(d,o)}),p},_getFunnelPyramidPlayable:(e,i,r)=>{var s=e.getCtx(),a=i.getAnimParams(),n=a.slice(0),o=a.slice(0);a[0]=0,l.isFunnel(e)&&(a[2]=0,n[2]=0),i.setAnimParams(a);var h=new t.CustomAnimation(s,i,r/2);h.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,i,i.getAnimParams,i.setAnimParams,n);var g=new t.CustomAnimation(s,i,r/2);return g.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,i,i.getAnimParams,i.setAnimParams,o),new t.SequentialPlayable(s,[h,g])},_getLinePlayable:(e,i,r)=>{var s=i.getCoords(),a=i.getAnimParams(),n=a.slice(0);_e._getMeanPoints(a),i.setAnimParams(a);var o=new t.CustomAnimation(e.getCtx(),i,r);return o.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,i,i.getAnimParams,i.setAnimParams,n),o.setOnEnd(()=>{i.setCoords(s)}),o},_getMeanPoints:e=>{var t,i=0,r=Number.MAX_VALUE,s=-1*Number.MAX_VALUE,a=e.length;for(t=0;t<a;t++){var n=e[t];t%4!=0&&t%4!=3&&n!=1/0&&(n<r&&(r=n),n>s&&(s=n),i+=n)}for(a>8?(i-=2*r,i-=2*s,i/=a/2-4):i/=a/2,t=0;t<a;t++)t%4!=1&&t%4!=2||(e[t]=i)}};class ce extends(i.DataAxisInfoMixin(S)){getMinLabel(){return this.ZeroBaseline||"on"==this.Options._continuousExtent&&null==this.Options.min?Math.ceil(this.LinearMinValue/this.MajorIncrement)*this.MajorIncrement:Math.ceil((this.LinearMinValue-this.LinearGlobalMin)/this.MajorIncrement)*this.MajorIncrement+this.LinearGlobalMin}getLabels(e,t){if(t&&t>0)return null;var i=this.getAllLabels(e),r=[],s=e.getStage();return"tangential"!=this.Position&&(r=this.GetLabelDims(i,s),i=this.SkipLabels(i,r)),i}getAllLabels(e,t){var r=[];if(this.Options.tickLabel&&this.Options.tickLabel.scaling){var s=this.Options.tickLabel.autoPrecision?this.Options.tickLabel.autoPrecision:"on";this._axisValueFormatter=new i.LinearScaleAxisValueFormatter(this.LinearMinValue,this.LinearMaxValue,this.MajorIncrement,this.Options.tickLabel.scaling,s,this.Options.translations)}for(var a=0;a<=this.MajorTickCount;a++){var n=a*this.MajorIncrement+this.getMinLabel();if(n-this.LinearMaxValue>this.MAJOR_TICK_INCREMENT_BUFFER)break;var o,l=this.GetUnboundedCoordAt(n);if(this.Options._skipHighestTick){if(n==this.LinearMaxValue)continue;if("tangential"!=this.Position&&Math.abs(l-this.MaxCoord)<this.getTickLabelHeight())continue}this.IsLog?(n=this.linearToActual(n),this._axisValueFormatter=new i.LinearScaleAxisValueFormatter(n,n,n,this.Options.tickLabel.scaling,s,this.Options.translations),o=this._formatValue(n)):o=this._formatValue(n),t?r.push(o):r.push(this.CreateLabel(e,o,l))}return r}getMajorTickCoords(){for(var e=[],t=0;t<=this.MajorTickCount;t++){var i=t*this.MajorIncrement+this.getMinLabel();if(i-this.LinearMaxValue>this.MAJOR_TICK_INCREMENT_BUFFER)break;if(!this.Options._skipHighestTick||i!=this.LinearMaxValue){var r=this.GetUnboundedCoordAt(i);e.push(r)}}return e}getMinorTickCoords(){for(var e=[],i=-1;i<=this.MajorTickCount;i++){var r=i*this.MajorIncrement+this.getMinLabel();if(this.IsLog&&1==this.MajorIncrement&&1==this.MinorIncrement)for(var s=2;s<=9;s++){var a=r+t.Math.log10(s);if(a>this.LinearMaxValue)break;a<this.LinearMinValue||(o=this.GetUnboundedCoordAt(a),e.push(o))}else for(s=1;s<this.MinorTickCount;s++){var n=r+s*this.MinorIncrement;if(n>this.LinearMaxValue)break;if(!(n<this.LinearMinValue)){var o=this.GetUnboundedCoordAt(n);e.push(o)}}}return e}_formatValue(e){if(this.Converter&&this.Converter.format)return this._axisValueFormatter?this._axisValueFormatter.format(e,this.Converter):this.Converter.format(e);if(this._axisValueFormatter)return this._axisValueFormatter.format(e);var i=t.Math.log10(this.MajorIncrement),r=Math.max(Math.ceil(-i),0);return e.toFixed(r)}getMajorTickCount(){return this.MajorTickCount}getMinorTickCount(){return this.MinorTickCount}getMajorIncrement(){return this.linearToActual(this.MajorIncrement)}getMinorIncrement(){return this.linearToActual(this.MinorIncrement)}getMinExtent(){return(this.LinearGlobalMax-this.LinearGlobalMin)/ce.MAX_ZOOM}getStartOverflow(){return"top"!=this.Position&&"bottom"!=this.Position||!t.Agent.isRightToLeft(this.getCtx())?this.StartOverflow:this.EndOverflow}getEndOverflow(){return"top"!=this.Position&&"bottom"!=this.Position||!t.Agent.isRightToLeft(this.getCtx())?this.EndOverflow:this.StartOverflow}alignLogScaleToTickCount(e,t){if(this.IsLog)for(var i=this.getMajorTickCount();t<i;)this.MajorIncrement=null,this.MajorTickCount=null,this.MinorIncrement=null,this.MinorTickCount=null,e++,this.CalcMajorMinorIncr(e),i=this.getMajorTickCount();return e}getLogScaleUnit(){return this.LogScaleUnit}}S.registerConstructor("data",ce),ce.MAX_ZOOM=64;class pe extends S{constructor(e,r,s){super(e,r,s),"top"==this.Position||"bottom"==this.Position?(r._isOverview||"on"!=r.tickLabel.rendered||(this.StartOverflow=Math.max(i.BaseAxisInfo.MIN_AXIS_BUFFER-r.leftBuffer,0),this.EndOverflow=Math.max(i.BaseAxisInfo.MIN_AXIS_BUFFER-r.rightBuffer,0)),t.Agent.isRightToLeft(e)?(this._startCoord=this.EndCoord-this.EndOverflow,this._endCoord=this.StartCoord+this.StartOverflow):(this._startCoord=this.StartCoord+this.StartOverflow,this._endCoord=this.EndCoord-this.EndOverflow)):(this._startCoord=this.StartCoord,this._endCoord=this.EndCoord);var a=null!=r.tickLabel?r.tickLabel.converter:null;this._label1Converter=a&&a[0]?a[0]:a,this._label2Converter=a&&a[1]?a[1]:null,this._dateToIsoWithTimeZoneConverter=e.getLocaleHelpers().dateToIsoWithTimeZoneConverter,this._groups=r.groups;var n=r.timeAxisType;this._skipGaps="skipGaps"==n,this._mixedFrequency="mixedFrequency"==n,this.DataMin=r.dataMin,this.DataMax=r.dataMax,this._groups.length>1?this._averageInterval=(this.DataMax-this.DataMin)/(this._groups.length-1):this.DataMax-this.DataMin>0?this._averageInterval=this.DataMax-this.DataMin:this._averageInterval=6*pe.TIME_MINUTE,this._step=r.step;var o=r.endGroupOffset>0?r.endGroupOffset*this._averageInterval:0,l=r.startGroupOffset>0?r.startGroupOffset*this._averageInterval:0;this.GlobalMin=null!=r.min?r.min:this.DataMin-l,this.GlobalMax=null!=r.max?r.max:this.DataMax+o,null!=r.viewportStartGroup&&(this.MinValue=r.viewportStartGroup-l),null!=r.viewportEndGroup&&(this.MaxValue=r.viewportEndGroup+o),null!=r.viewportMin&&(this.MinValue=r.viewportMin),null!=r.viewportMax&&(this.MaxValue=r.viewportMax),null==this.MinValue&&(this.MinValue=this.GlobalMin),null==this.MaxValue&&(this.MaxValue=this.GlobalMax),this.GlobalMin>this.MinValue&&(this.GlobalMin=this.MinValue),this.GlobalMax<this.MaxValue&&(this.GlobalMax=this.MaxValue),this._timeRange=this.MaxValue-this.MinValue,this._level1Labels=null,this._level2Labels=null,this._level1Coords=null,this._level2Coords=null,this._isOneLevel=!0,this._level1Overflow=[],this._level2Overflow=[],this._locale=r._locale.toLowerCase(),this._monthResources=e.LocaleData.getMonthNames("abbreviated")}formatLabel(e){var t=new Date(e),i=this._formatAxisLabel(t,null,!0);return null!=i[1]?"YMD"==pe._getDMYOrder(this._locale)||this._timeRange<pe.TIME_MONTH_MIN&&this._step<pe.TIME_DAY?i[1]+" "+i[0]:i[0]+" "+i[1]:i[0]}_calculateGranularity(){return this._step>=pe.TIME_YEAR_MIN||this._timeRange>=6*pe.TIME_YEAR_MIN?pe.TIME_YEAR_MIN:this._step>=pe.TIME_MONTH_MIN||this._timeRange>=6*pe.TIME_MONTH_MIN?pe.TIME_MONTH_MIN:this._step>=pe.TIME_DAY||this._timeRange>=6*pe.TIME_DAY?pe.TIME_DAY:this._step>=pe.TIME_HOUR||this._timeRange>=6*pe.TIME_HOUR?pe.TIME_HOUR:this._step>=pe.TIME_MINUTE||this._timeRange>=6*pe.TIME_MINUTE?pe.TIME_MINUTE:pe.TIME_SECOND}_formatAxisLabelWithConverter(e,t,i){if(i){var r=null,s=null;if(i.format&&(r=i.format(this._dateToIsoWithTimeZoneConverter&&e?this._dateToIsoWithTimeZoneConverter(e):e),s=i.format(this._dateToIsoWithTimeZoneConverter&&t?this._dateToIsoWithTimeZoneConverter(t):t)),s!==r||null==r)return r;if(!i.resolvedOptions)return null;var a=this._calculateGranularity();return a===pe.TIME_MONTH_MIN&&t.getMonth()!==e.getMonth()&&null!=i.resolvedOptions().month||a===pe.TIME_DAY&&t.getDate()!==e.getDate()&&null!=i.resolvedOptions().day?r:null}}_formatAxisLabel(e,t,i){var r=null,s=null,a="left"==this.Position||"right"==this.Position,n=this._calculateGranularity();return this._label1Converter||this._label2Converter?(this._label1Converter&&(r=this._formatAxisLabelWithConverter(e,t,this._label1Converter)),this._label2Converter&&(s=this._formatAxisLabelWithConverter(e,t,this._label2Converter)),[r,s]):(n===pe.TIME_YEAR_MIN?r=this._formatDate(e,!1,!1,!0):n===pe.TIME_MONTH_MIN?(null!=t&&t.getMonth()==e.getMonth()||(r=this._formatDate(e,!1,!0,!1)),null!=t&&t.getYear()==e.getYear()||(s=this._formatDate(e,!1,!1,!0))):n===pe.TIME_DAY?i?r=this._formatDate(e,!0,!0,!0):(null!=t&&t.getDate()==e.getDate()||(r=this._formatDate(e,!0,!1,!1)),null==t||t.getYear()!=e.getYear()?s=this._formatDate(e,!1,!0,!0):t.getMonth()!=e.getMonth()&&(s=this._formatDate(e,!1,!0,!1))):(n===pe.TIME_HOUR?null!=t&&t.getHours()==e.getHours()||(r=this._formatTime(e,!1,!1)):n===pe.TIME_MINUTE?null!=t&&t.getMinutes()==e.getMinutes()||(r=this._formatTime(e,!0,!1)):null!=t&&t.getSeconds()==e.getSeconds()||(r=this._formatTime(e,!0,!0)),a?null!=t&&t.getDate()==e.getDate()||(s=this._formatDate(e,!0,!0,!1)):null==t||t.getYear()!=e.getYear()?s=this._formatDate(e,!0,!0,!0):t.getMonth()!=e.getMonth()?s=this._formatDate(e,!0,!0,!1):t.getDate()!=e.getDate()&&(s=this._formatDate(e,!0,!1,!1))),[r,s])}_formatDate(e,t,i,r){var s,a=e.getFullYear();s=this._monthResources&&this._monthResources.length>=12?this._monthResources[e.getMonth()]:e.toString().split(" ")[1];var n=e.getDate();a+=pe._getYearTrailingCharacters(this._locale),n+=pe._getDayTrailingCharacters(this._locale);for(var o=pe._getDMYOrder(this._locale),l="",h=0;h<o.length;h++)t&&"D"==o[h]?l+=n+" ":i&&"M"==o[h]?l+=s+" ":r&&"Y"==o[h]&&(l+=a+" ");return l.length>0?l.slice(0,l.length-1):l}_formatTime(e,i,r){var s,a=e.getHours(),n=e.getMinutes(),o=e.getSeconds(),l=pe._getAMString(this._locale),h=pe._getPMString(this._locale),g=pe._getAMPMBefore(this._locale),d=""!=l&&""!=h,u="";return t.Agent.isRightToLeft(this.getCtx())&&(u="‏"),d?(a<12?(s=l,0==a&&(a=12)):(s=h,a>12&&(a-=12)),u+=a,(i||0!=n)&&(u+=":"+this._doubleDigit(n))):u+=this._doubleDigit(a)+":"+this._doubleDigit(n),r&&(u+=":"+this._doubleDigit(o)),d?g?s+" "+u:u+" "+s:u}_doubleDigit(e){return e<10?"0"+e:""+e}_getMixedFrequencyStep(){return this._timeRange>=6*pe.TIME_YEAR_MIN?pe.TIME_YEAR_MIN:this._timeRange>=6*pe.TIME_MONTH_MIN?pe.TIME_MONTH_MIN:this._timeRange>=6*pe.TIME_DAY?pe.TIME_DAY:this._timeRange>=pe.TIME_DAY?3*pe.TIME_HOUR:this._timeRange>=6*pe.TIME_HOUR?pe.TIME_HOUR:this._timeRange>=pe.TIME_HOUR?15*pe.TIME_MINUTE:this._timeRange>=30*pe.TIME_MINUTE?5*pe.TIME_MINUTE:this._timeRange>=6*pe.TIME_MINUTE?pe.TIME_MINUTE:this._timeRange>=pe.TIME_MINUTE?15*pe.TIME_SECOND:this._timeRange>=30*pe.TIME_SECOND?5*pe.TIME_SECOND:pe.TIME_SECOND}_generateLabels(e){var i=[],r=[],s=[],a=[],n=[],o=null,l=0,h=0,g=e.getStage(e),d=t.Agent.isRightToLeft(e),u="left"==this.Position||"right"==this.Position,_="off"!=this.Options.zoomAndScroll,c=!0,p=0;u&&"blink"===t.Agent.engine&&(p=.16*this.getTickLabelHeight());var v=[];if(null!=this._step)v=pe._getLabelPos(this.MinValue,this.MaxValue,this._step);else if(this._mixedFrequency)this._step=this._getMixedFrequencyStep(),v=pe._getLabelPos(this.MinValue,this.MaxValue,this._step);else{for(var m=0;m<this._groups.length;m++)this._groups[m]>=this.MinValue&&this._groups[m]<=this.MaxValue&&v.push(this._groups[m]);if(this._step=this._averageInterval,!this._skipGaps){var f;if((v=pe._treatMissingValues(v,this._calculateGranularity())).length>1&&(this._step=(v[v.length-1]-v[0])/(v.length-1)),u)f=t.TextUtils.getTextStringHeight(e,this.Options.tickLabel.style);else{var x=this._formatAxisLabel(new Date(v[0]||this.MinValue))[0];f=t.TextUtils.getTextStringWidth(e,x,this.Options.tickLabel.style)}(f+this.GetTickLabelGapSize())*(v.length-1)>Math.abs(this._endCoord-this._startCoord)&&(this._step=this._getMixedFrequencyStep(),v=pe._getLabelPos(this.MinValue,this.MaxValue,this._step))}}0===v.length&&(v=[this.MinValue]);for(m=0;m<v.length;m++){var C=v[m],S=this.getCoordAt(C);if(null!=S){var A=new Date(C),b=this._formatAxisLabel(A,o),y=b[0],M=b[1];if(null!=y?(s.push({text:y,coord:null!=M?S+p:S}),a.push(S),l++):(s.push(null),a.push(null)),i.push(null),_&&c&&(S=this.MinValue?this.getCoordAt(this.MinValue):S),c=!1,null!=M){var T=this.CreateLabel(e,M,S-p);n.push(S),u||(d?T.alignRight():T.alignLeft()),r.push(T),this._isOneLevel=!1,h++}else r.push(null),n.push(null);o=A}}if(l=this._skipLabelsUniform(s,i,g,!1,d),!_&&h>1&&l<1.5*h){i=r,r=null;for(var D=0;D<i.length;D++)null!=i[D]&&i[D].alignCenter();l=this._skipLabelsGreedy(i,this.GetLabelDims(i,g),!1,d)}else 0==(h=this._skipLabelsGreedy(r,this.GetLabelDims(r,g),!0,d))&&(r=null);u&&null!=r&&this._skipVertLabels(i,r,g),this._level1Labels=i,this._level2Labels=r,this._level1Coords=a,this._level2Coords=n}_getLabelOverflow(e,t,i,r){var s=e-(i?r?t:0:.5*t);if(s<this.Options._minOverflowCoord)return Math.floor(s-this.Options._minOverflowCoord);var a=e+(i?r?0:t:.5*t);return a>this.Options._maxOverflowCoord?Math.ceil(a-this.Options._maxOverflowCoord):0}_skipLabelsGreedy(e,t,i,r){if(!t||t.length<=0)return!1;for(var s,a,n,o,l,h="left"==this.Position||"right"==this.Position,g=this.getTickLabelHeight(),d=h?.08*g:.24*g,u=0,_=Math.abs(this._endCoord-this._startCoord),c=0;c<t.length;c++)if(this._level2Overflow.push(0),null!=e[c]){var p=(l=e[c]).getDimensions().w;if(t[c].w>_)e[c]=null;else{var v=this._getLabelOverflow(l.getX(),p,i,r);this._level2Overflow[c]=v,0!=v&&(l.setX(l.getX()-v),t[c].x-=v)}}for(c=0;c<t.length;c++)null!=t[c]&&(h?(n=t[c].y,o=t[c].y+t[c].h):(n=t[c].x,o=t[c].x+t[c].w),null!=s&&null!=a&&pe._isOverlapping(s,a,n,o,d)&&(e[c]=null),null!=e[c]&&(s=n,a=o,u++));return u}_skipLabelsUniform(e,t,i,r){for(var s=[],a=[],n=Math.abs(this._endCoord-this._startCoord),o=0;o<e.length;o++)null!=e[o]&&(s.push(e[o]),a.push(null),this._level1Overflow.push(0));for(var l="left"==this.Position||"right"==this.Position,h=this,g=e=>{if(null==a[e])if(s[e].label=h.CreateLabel(i.getCtx(),s[e].text,s[e].coord),a[e]=s[e].label.getDimensions(i),a[e].w>n)s[e].label=null,a[e].w=0,a[e].h=0;else{var t=h._getLabelOverflow(s[e].coord,a[e].w,!1,r);0!=t&&(s[e].coord-=t,a[e].x-=t,s[e].label.setX(s[e].label.getX()-t),h._level1Overflow[e]=t)}return l?a[e].h:a[e].w},d=(g(0)+this.GetTickLabelGapSize())*(s.length-1),u=n>0?Math.ceil(d/n)-1:0,_=!0;_;){for(o=0;o<s.length;o++)o%(u+1)==0?(g(o),s[o].skipped=!1):s[o].skipped=!0;_=this.IsOverlapping(a,u),u++}var c=0;for(o=0;o<e.length;o++)null==e[o]||e[o].skipped||(t[o]=e[o].label,c++);return c}_skipVertLabels(e,t,i){for(var r=.08*this.getTickLabelHeight(),s=(e,t)=>pe._isOverlapping(e.y,e.y+e.h,t.y,t.y+t.h,r),a=null,n=!1,o=0;o<e.length;o++)if(e[o]&&t[o]){if(e[o].alignTop(),t[o].alignBottom(),a&&s(a,t[o].getDimensions())){n=!0;break}a=e[o].getDimensions()}else if(e[o]||t[o]){var l=e[o]?e[o]:t[o];if(a&&s(a,l.getDimensions())){n=!0;break}a=l.getDimensions()}if(n){var h,g=null,d=null,u=null;for(o=0;o<e.length;o++)t[o]?(e[o]=null,t[o].alignMiddle(),h=t[o].getDimensions(),d&&s(d,h)&&(e[g]=null),u=h):e[o]&&(h=e[o].getDimensions(),u&&s(u,h)?e[o]=null:(d=h,g=o))}}getLabels(e,t){return t&&t>1?null:(this._level1Labels||this._generateLabels(e),1==t?this._level2Labels:this._level1Labels)}getMajorTickCoords(){var e=[];if(this._isOneLevel)for(var t=0;t<this._level1Coords.length;t++)null!=this._level1Coords[t]&&null!=this._level1Labels[t]&&e.push(this._level1Coords[t]);else for(t=1;t<this._level2Coords.length;t++)null!=this._level2Coords[t]&&e.push(this._level2Coords[t]);return e}getMinorTickCoords(){if(this._isOneLevel)return[];for(var e=[],t=0;t<this._level1Coords.length;t++)null!=this._level1Coords[t]&&null!=this._level1Labels[t]&&e.push(this._level1Coords[t]);return e}getUnboundedValAt(e){if(null==e)return null;var t=(e-this._startCoord)/(this._endCoord-this._startCoord);if(this._skipGaps){var i=this._timeToIndex(this.MinValue),r=this._timeToIndex(this.MaxValue);return this._indexToTime(i+t*(r-i))}return this.MinValue+t*(this.MaxValue-this.MinValue)}getUnboundedCoordAt(e){if(null==e)return null;var t;if(this._skipGaps){var i=this._timeToIndex(this.MinValue),r=this._timeToIndex(this.MaxValue);t=(this._timeToIndex(e)-i)/(r-i)}else t=(e-this.MinValue)/(this.MaxValue-this.MinValue);return this._startCoord+t*(this._endCoord-this._startCoord)}linearToActual(e){return null==e?null:this._skipGaps?this._indexToTime(e):e}actualToLinear(e){return null==e?null:this._skipGaps?this._timeToIndex(e):e}_timeToIndex(e){for(var t=this._groups.length,i=0;i<this._groups.length;i++)if(e<=this._groups[i]){t=i;break}var r=t-1,s=void 0!==this._groups[r]?this._groups[r]:this._groups[0]-this._averageInterval;return r+(e-s)/((void 0!==this._groups[t]?this._groups[t]:this._groups[this._groups.length-1]+this._averageInterval)-s)}_indexToTime(e){var t=Math.min(Math.max(Math.ceil(e),0),this._groups.length),i=t-1,r=void 0!==this._groups[i]?this._groups[i]:this._groups[0]-this._averageInterval;return r+(e-i)*((void 0!==this._groups[t]?this._groups[t]:this._groups[this._groups.length-1]+this._averageInterval)-r)}getGroupWidth(){return this._skipGaps?Math.abs(this.getUnboundedCoordAt(this._indexToTime(1))-this.getUnboundedCoordAt(this._indexToTime(0))):Math.abs(this.getUnboundedCoordAt(this.MinValue+this._averageInterval)-this.getUnboundedCoordAt(this.MinValue))}getMinExtent(){return this._skipGaps?1:this._mixedFrequency?Math.min((this.getGlobalMax()-this.getGlobalMin())/8,this._averageInterval):this._averageInterval}getStartOverflow(){return"top"!=this.Position&&"bottom"!=this.Position||!t.Agent.isRightToLeft(this.getCtx())?this.StartOverflow:this.EndOverflow}getEndOverflow(){return"top"!=this.Position&&"bottom"!=this.Position||!t.Agent.isRightToLeft(this.getCtx())?this.EndOverflow:this.StartOverflow}static _getAMString(e){var t=e.substring(0,2);if("en-au"==e||"en-ie"==e||"en-ph"==e)return"am";if("en-gb"==e)return"";switch(t){case"en":return"AM";case"ar":return"ص";case"el":return"πμ";case"ko":return"오전";case"zh":return"上午";default:return""}}static _getPMString(e){var t=e.substring(0,2);if("en-au"==e||"en-ie"==e||"en-ph"==e)return"pm";if("en-gb"==e)return"";switch(t){case"en":return"PM";case"ar":return"م";case"el":return"μμ";case"ko":return"오후";case"zh":return"下午";default:return""}}static _getAMPMBefore(e){var t=e.substring(0,2);return"ko"==t||"zh"==t}static _getDMYOrder(e){var t=e.substring(0,2);return"en-us"==e||"en-ph"==e?"MDY":"fa"==t||"hu"==t||"ja"==t||"ko"==t||"lt"==t||"mn"==t||"zh"==t?"YMD":"DMY"}static _getYearTrailingCharacters(e){return 0==e.indexOf("ja")||0==e.indexOf("zh")?"年":0==e.indexOf("ko")?"년":""}static _getDayTrailingCharacters(e){return 0==e.indexOf("ja")||0==e.indexOf("zh")?"日":0==e.indexOf("ko")?"일":""}static _getLabelPos(e,t,i){var r=new Date(e),s=r.getTimezoneOffset();r.setMonth(0,1),r.setHours(0,0,0,0);var a=r.getTime(),n=[];if(i>=pe.TIME_YEAR_MIN&&i<=pe.TIME_YEAR_MAX){for(;a<e;)a=pe._addOneYear(a);for(;a<=t;)n.push(a),a=pe._addOneYear(a)}else if(i>=pe.TIME_MONTH_MIN&&i<=pe.TIME_MONTH_MAX){for(;a<e;)a=pe._addOneMonth(a);for(;a<=t;)n.push(a),a=pe._addOneMonth(a)}else{var o=60*(s-r.getTimezoneOffset())*1e3,l=i<pe.TIME_MONTH_MIN?o:0;for(a+=Math.ceil((e-a-l)/i)*i+l;a<=t;)n.push(a),a+=i}return n}static _addOneYear(e){var t=new Date(e);return t.setFullYear(t.getFullYear()+1),t.getTime()}static _addOneMonth(e){var t=new Date(e);return t.setMonth(t.getMonth()+1),t.getTime()}static _getGCDInterval(e){for(var t=(e,i)=>0===e?i:t(i%e,e),i=e[0],r=1;r<e.length;r++)if(1===(i=t(i,e[r])))return 1;return i}static _calculateGranularInterval(e,t,i){var r,s=e.getTimezoneOffset(),a=t.getTimezoneOffset(),n=t.getTime(),o=1e3*(s-a)*60;return o>0&&t.setTime(n+o),r=i===pe.TIME_YEAR_MIN?t.getFullYear()-e.getFullYear():i===pe.TIME_MONTH_MIN?12*(t.getFullYear()-e.getFullYear())+(t.getMonth()-e.getMonth()):Math.round((t.getTime()-e.getTime())/i),o>0&&t.setTime(n),r}static _treatMissingValues(e,t){var i,r,s=new Set,a=!1,n=e,o=[],l=e.length,h=new Date(e[0]);for(r=1;r<l;r++){var g=new Date(e[r]),d=pe._calculateGranularInterval(h,g,t);h=g,o.push(d),d<=0||(s.add(d),i?d!==i&&(a=!0):i=d)}if(a){var u=pe._getGCDInterval([...s]);for((n=[]).push(e[0]),r=1;r<l;r++){var _=e[r],c=e[r-1];if((d=o[r-1])<=u)n.push(_);else{var p,v=d/u,m=v-1,f=Math.round((_-c)/v);for(p=1;p<=m;p++)c+=f,n.push(c);n.push(_),c=_}}}return n}static _isOverlapping(e,t,i,r,s){return i>=e&&i-s<t||i<e&&r+s>e}}pe.TIME_SECOND=1e3,pe.TIME_MINUTE=60*pe.TIME_SECOND,pe.TIME_HOUR=60*pe.TIME_MINUTE,pe.TIME_DAY=24*pe.TIME_HOUR,pe.TIME_MONTH_MIN=28*pe.TIME_DAY,pe.TIME_MONTH_MAX=31*pe.TIME_DAY,pe.TIME_YEAR_MIN=365*pe.TIME_DAY,pe.TIME_YEAR_MAX=366*pe.TIME_DAY,S.registerConstructor("time",pe);const ve={renderBackgroundObjects:(e,t,i)=>{ve._renderObjects(e,t,i,"back")},renderForegroundObjects:(e,t,i)=>{ve._renderObjects(e,t,i,"front")},_renderObjects:(e,t,i,r)=>{ve._renderObjectsForAxis(e,t,i,r,e.xAxis,d.getAxisRefObjs(e,"x")),ve._renderObjectsForAxis(e,t,i,r,e.yAxis,d.getAxisRefObjs(e,"y")),ve._renderObjectsForAxis(e,t,i,r,e.y2Axis,d.getAxisRefObjs(e,"y2"))},_renderObjectsForAxis:(e,t,i,r,s,a)=>{if(a&&s)for(var n=0;n<a.length;n++){var o=a[n];if(v.isObjRendered(e,o)&&(o&&v.getLocation(o)==r)){var l,h,g=v.getType(o);if("area"==g?l=ve._createReferenceArea(o,e,i,s):"line"==g&&(l=ve._createReferenceLine(o,e,i,s),h=ve._createReferenceLine(o,e,i,s,!0)),null!=l){var d=s==e.yAxis?"yAxis":"y2Axis",u=s==e.xAxis?"xAxis":d,_=new x(e,h?[l,h]:[l],o,n,u);e.registerObject(_),e.getEventManager().associate(l,_),t.addChild(l),h&&t.addChild(h)}}}},_createReferenceArea:(e,i,r,s)=>{var a,n=i.getCtx(),o=s.getPosition(),g="top"==o||"bottom"==o,u="radial"==o,_=v.getColor(i,e),c=v.getLineType(e),p=e.style||e.svgStyle,m=e.className||e.svgClassName;if(null==e.items||s!=i.yAxis&&s!=i.y2Axis){var f=v.getLowVal(e),x=v.getHighVal(e);null!=f&&f!=-1/0||(f=s.getInfo().getGlobalMin()),null!=x&&x!=1/0||(x=s.getInfo().getGlobalMax());var C=ve._getAxisCoord(i,s,f),S=ve._getAxisCoord(i,s,x);if(l.isPolar(i)){var A,b=r.x+r.w/2,y=r.y+r.h/2;if(u)if(w.isGridPolygonal(i)){var M=d.getGroupCount(i),T=t.PolygonUtils.getRegularPolygonPoints(b,y,M,S,0,1),D=t.PolygonUtils.getRegularPolygonPoints(b,y,M,C,0,0);A=t.PathUtils.polyline(T)+t.PathUtils.polyline(D)+t.PathUtils.closePath()}else A=t.PathUtils.moveTo(b,y-S)+t.PathUtils.arcTo(S,S,Math.PI,1,b,y+S)+t.PathUtils.arcTo(S,S,Math.PI,1,b,y-S)+t.PathUtils.moveTo(b,y-C)+t.PathUtils.arcTo(C,C,Math.PI,0,b,y+C)+t.PathUtils.arcTo(C,C,Math.PI,0,b,y-C)+t.PathUtils.closePath();else{var I=i.getRadius(),O=h.polarToCartesian(I,C,r),E=h.polarToCartesian(I,S,r);A=t.PathUtils.moveTo(b,y)+t.PathUtils.lineTo(O.x,O.y)+t.PathUtils.arcTo(I,I,S-C,t.Agent.isRightToLeft(n)?0:1,E.x,E.y)+t.PathUtils.lineTo(E.x,E.y)+t.PathUtils.closePath()}a=new t.Path(n,A)}else{var P;P=g?[C,0,S,0,S,r.h,C,r.h]:[0,C,0,S,r.w,S,r.w,C],a=new t.Polygon(n,P)}a.setSolidFill(_),a.setStyle(p).setClassName(m)}else{var L=e.items,R=[],k=[];if(i.xAxis.isGroupAxis())for(;L.length<d.getGroupCount(i);)L.push(null);for(var B=0;B<L.length;B++){var F=L[B],N=v.getLowVal(F),G=v.getHighVal(F);if(null!=N&&null!=G){var H=s.getUnboundedCoordAt(N),U=s.getUnboundedCoordAt(G),V=i.xAxis.getUnboundedCoordAt(v.getXVal(i,L,B));R.push(new oe(V,U,U)),k.push(new oe(V,H,H))}else R.push(new oe),k.push(new oe)}a=new le(i,!0,r,null,p,m,new t.SolidFill(_),null,c,R,c,k)}return a},_createReferenceLine:(e,i,r,s,a)=>{var n,o=s.getPosition(),l="top"==o||"bottom"==o,g="radial"==o,u="tangential"==o,_=v.getLineWidth(i,e),c=v.getLineType(e),p=v.getColor(i,e),m=e.style||e.svgStyle,f=a?"oj-chart-reference-object-inner-line":e.className||e.svgClassName,x=new t.Stroke(p,1,_,!1,t.Stroke.getDefaultDashProps(e.lineStyle,_)),C=i.getCtx();if(null==e.items||s!=i.yAxis&&s!=i.y2Axis){if(null==e.value)return null;var S=ve._getAxisCoord(i,s,e.value);if(null==S||S==1/0||S==-1/0)return null;a&&(S-=Math.ceil(_/2));var A=r.x+r.w/2,b=r.y+r.h/2;if(g){if(w.isGridPolygonal(i)){var y=t.PolygonUtils.getRegularPolygonPoints(A,b,d.getGroupCount(i),S,0);n=new t.Polygon(C,y)}else n=new t.Circle(C,A,b,S);n.setFill(null)}else if(u){var M=h.polarToCartesian(i.getRadius(),S,r);n=new t.Line(C,A,b,M.x,M.y)}else(n=l?new t.Line(C,S,0,S,r.h):new t.Line(C,0,S,r.w,S)).setPixelHinting(!0);n.setStroke(x),n.setStyle(m).setClassName(f)}else{var T=e.items;if(i.xAxis.isGroupAxis())for(;T.length<d.getGroupCount(i);)T.push(null);for(var D=[],I=0;I<T.length;I++){var O=T[I],E=null;if(null!=O&&("object"!=typeof O?E=O:null!=O.value&&(E=O.value)),null!=E){var P=s.getUnboundedCoordAt(E)-(a?_/2:0),L=i.xAxis.getUnboundedCoordAt(v.getXVal(i,T,I));D.push(new oe(L,P,P))}else D.push(new oe)}n=new le(i,!1,r,null,m,f,null,x,c,D)}return n},_getAxisCoord:(e,t,i)=>{if(t.isGroupAxis()){var r=d.getGroupIdx(e,i);if(r>=0)return t.getUnboundedCoordAt(r)}return isNaN(i)?null:t.getUnboundedCoordAt(i)}},me={_MIN_BUBBLE_SIZE:6,_MAX_BUBBLE_SIZE_RATIO:.5,calcBubbleSizes:(e,i)=>{for(var r,s,a=w.getMinMaxVal(e,"z"),n=a.min,o=a.max,h=me._MIN_BUBBLE_SIZE,g=me._MAX_BUBBLE_SIZE_RATIO*Math.min(i.w,i.h),u=d.getSeriesCount(e),_="withoutRescale"==O.getHideAndShowBehavior(e),c=e.getOptionsCache(),p=0;p<u;p++)if(_||d.isSeriesRendered(e,p))for(var v=d.getSeriesItem(e,p),m=v.items?v.items.length:0,f=0;f<m;f++){var x=v.items[f];if(x){var C=t.LayoutUtils.getBubbleSize(x.z,n,o,h,g);c.putToCachedMap2D("bubbleSizeCache",p,f,C)}}l.isPolar(e)?(r=1/0,s=e.getRadius()):(r=i.w-2.4*w.getTickLabelHeight(e,"y"),s=i.h-1.6*w.getTickLabelHeight(e,"x")),r-=.5*g,s-=.5*g;var S=e.getCache(),A=me._getAxisValueRange(e,"x");S.putToCache("_xAxisBubbleRatio",A/r);var b=me._getAxisValueRange(e,"y");S.putToCache("_yAxisBubbleRatio",b/s)},_getAxisValueRange:(e,i)=>{var r=e.getOptions()[i+"Axis"],s=w.isLog(e,i),a=!s&&"zero"==w.getBaselineScaling(e,i),n=w.getMinMaxVal(e,i,!0),o=r.min;null==o&&(o=a?Math.min(0,n.min):n.min);var l=r.max;return null==l&&(l=a?Math.max(0,n.max):n.max),s&&l>0&&o>0?l==o?6:t.Math.log10(l/o):l==o?60:l-o},sortMarkers:e=>{e.sort(me._compareSize)},sortMarkerInfos:e=>{e.sort(me._compareInfoSize)},_compareSize:(e,t)=>t.getSize()-e.getSize(),_compareInfoSize:(e,t)=>t.size-e.size,checkPixelMap:(e,t,i,r)=>{var s=r/2,a=Math.max(Math.floor(t-s),0),n=Math.max(Math.floor(i-s),0),o=Math.max(Math.ceil(t+s),0),l=Math.max(Math.ceil(i+s),0);return e.isObscured(a,n,o,l)},updatePixelMap:(e,t,i,r,s)=>{var a=.4*r,n=Math.max(Math.round(t-a),0),o=Math.max(Math.round(t+a),0),l=Math.max(Math.round(i-a),0),h=Math.max(Math.round(i+a),0);e.obscure(n,l,o,h,s)}},fe={_MIN_TOUCH_MARKER_SIZE:16,_MIN_CHARS_DATA_LABEL:3,FILTER_THRESHOLD_SCATTER_BUBBLE:1e4,render:(e,t,i)=>{"off"==e.getOptions().plotArea.rendered?fe._renderAxisLines(e,t,i):i.w>0&&i.h>0&&(e._currentMarkers=[],e._currentAreas=[],fe._renderBackgroundObjs(e,t,i),fe._renderTicks(e,t,i),fe._renderForegroundObjs(e,t,i))},_renderBackgroundObjs:(e,i,r)=>{var s=e.getOptions(),a=fe._getBackgroundShape(e,r),n=c.getBackgroundColor(e);if(n?a.setSolidFill(n):a.setInvisibleFill(),i.addChild(a),e.getCache().putToCache("plotAreaBackground",a),O.isPlotAreaDraggable(e)&&a.setClassName("oj-draggable"),s.xAxis.referenceObjects||s.yAxis.referenceObjects||s.y2Axis.referenceObjects){var o=fe.createClippedGroup(e,i,r);ve.renderBackgroundObjects(e,o,r)}if(l.isBLAC(e)){var h=new t.Container(e.getCtx());i.addChild(h),e.__setAreaContainer(h);const a=s.comboSeriesOrder;!d.hasAreaSeries(e)||"seriesType"!==a&&l.isCombo(e)||fe._renderAreas(e,h,r,!1)}},_getBackgroundShape:(e,i)=>{var r,s=e.getCtx();if(l.isPolar(e)){var a=i.x+i.w/2,n=i.y+i.h/2;if(w.isGridPolygonal(e)){var o=t.PolygonUtils.getRegularPolygonPoints(a,n,d.getGroupCount(e),e.getRadius(),0);r=new t.Polygon(s,o)}else r=new t.Circle(s,a,n,e.getRadius())}else r=new t.Rect(s,i.x,i.y,i.w,i.h);return r},_renderTicks:(e,t,i)=>{e.xAxis&&w.isMinorTickRendered(e,"x")&&fe._renderMinorTicks(e,t,e.xAxis,i),e.yAxis&&w.isMinorTickRendered(e,"y")&&fe._renderMinorTicks(e,t,e.yAxis,i),e.y2Axis&&w.isMinorTickRendered(e,"y2")&&fe._renderMinorTicks(e,t,e.y2Axis,i),e.xAxis&&w.isMajorTickRendered(e,"x")&&fe._renderMajorTicks(e,t,e.xAxis,i),e.yAxis&&w.isMajorTickRendered(e,"y")&&fe._renderMajorTicks(e,t,e.yAxis,i),e.y2Axis&&w.isMajorTickRendered(e,"y2")&&fe._renderMajorTicks(e,t,e.y2Axis,i)},_renderAxisLines:(e,t,i)=>{e.xAxis&&e.yAxis&&w.isAxisLineRendered(e,"x")&&fe._renderAxisLine(e,t,e.xAxis,e.yAxis,i),e.xAxis&&e.y2Axis&&w.isAxisLineRendered(e,"x")&&(e.yAxis&&!d.isSplitDualY(e)||fe._renderAxisLine(e,t,e.xAxis,e.y2Axis,i)),e.yAxis&&e.xAxis&&w.isAxisLineRendered(e,"y")&&fe._renderAxisLine(e,t,e.yAxis,e.xAxis,i),e.y2Axis&&e.xAxis&&w.isAxisLineRendered(e,"y2")&&fe._renderAxisLine(e,t,e.y2Axis,e.xAxis,i)},_renderMajorTicks:(e,t,i,r)=>{fe._renderGridlines(e,t,i.getOptions().majorTick,i.getPosition(),i.getMajorTickCoords(),i.getBaselineCoord(),r)},_renderMinorTicks:(e,t,i,r)=>{fe._renderGridlines(e,t,i.getOptions().minorTick,i.getPosition(),i.getMinorTickCoords(),null,r)},_renderAxisLine:(e,t,i,r,s)=>{var a=i.getOptions(),n=a.position,o="bottom"==n||"right"==n||"tangential"==n?r.getMaxCoord():r.getMinCoord();fe._renderGridlines(e,t,a.axisLine,r.getPosition(),[o],null,s)},_renderGridlines:(e,i,r,s,a,n,o)=>{var l=r.lineColor,h=r.lineStyle,g=new t.Stroke(l,1,r.lineWidth,!1,t.Stroke.getDefaultDashProps(h,r.lineWidth)),d=g.getColor();"inherit"!=r.baselineColor&&(d="auto"==r.baselineColor?t.ColorUtils.getDarker(l,.6):r.baselineColor);for(var u=null!=r.baselineWidth?r.baselineWidth:r.lineWidth,_=r.baselineStyle?r.baselineStyle:r.lineStyle,c=new t.Stroke(d,1,u,!1,t.Stroke.getDefaultDashProps(_,u)),p="",v=0;v<a.length;v++){var m=null!=n&&a[v]==n;"radial"==s||"tangential"==s||m?fe._renderGridline(e,i,s,a[v],m?c:g,o):p+="top"==s||"bottom"==s?t.PathUtils.moveTo(a[v],o.y)+t.PathUtils.verticalLineTo(o.y+o.h):t.PathUtils.moveTo(o.x,a[v])+t.PathUtils.horizontalLineTo(o.x+o.w)}if(""!=p){var f=new t.Path(e.getCtx(),p);(!t.Agent.isTouchDevice()||t.Agent.getDevicePixelRatio()>1)&&f.setPixelHinting(!0),f.setStroke(g),f.setMouseEnabled(!1),i.addChild(f)}},_renderGridline:(e,i,r,s,a,n)=>{var o,l=i.getCtx(),h=!t.Agent.isTouchDevice()||t.Agent.getDevicePixelRatio()>1;if("radial"==r){if(w.isGridPolygonal(e)){var g=t.PolygonUtils.getRegularPolygonPoints(0,0,d.getGroupCount(e),s,0);o=new t.Polygon(l,g)}else o=new t.Circle(l,0,0,s);o.setInvisibleFill(),o.setTranslate(n.x+n.w/2,n.y+n.h/2)}else if("tangential"==r){o=new t.Line(l,0,0,e.getRadius()*Math.sin(s),-e.getRadius()*Math.cos(s));var u=s%(Math.PI/2);(u<.001||u>Math.PI/2-.001)&&h&&o.setPixelHinting(!0),o.setTranslate(n.x+n.w/2,n.y+n.h/2)}else o="top"==r||"bottom"==r?new t.Line(l,s,n.y,s,n.y+n.h):new t.Line(l,n.x,s,n.x+n.w,s),h&&o.setPixelHinting(!0);o.setStroke(a),o.setMouseEnabled(!1),i.addChild(o)},_renderForegroundObjs:(e,t,i)=>{var r=e.getOptions();const s="data"===r.comboSeriesOrder&&l.isCombo(e);var a=s?null:fe.createClippedGroup(e,t,i);fe._renderAxisLines(e,t,i);var n=r.plotArea.borderColor,o=r.plotArea.borderWidth;if(n&&0!=o){var h=fe._getBackgroundShape(e,i);h.setInvisibleFill(),h.setSolidStroke(n,null,o),h.setMouseEnabled(!1),t.addChild(h)}if(l.isBLAC(e)){const n=r.series.length;if(s)for(let r=n-1;r>=0;r--){const s=d.getSeriesType(e,r);"area"!==s&&"lineWithArea"!==s&&(a=fe.createClippedGroup(e,t,i)),"area"===s?fe._renderAreas(e,t,i,!1,r):"lineWithArea"===s?fe._renderAreas(e,t,i,!0,r):"bar"===s?fe._renderBars(e,a,i,r):"stock"===s?fe._renderStock(e,a,r):"boxPlot"===s?fe._renderBoxPlot(e,a,i,r):"line"===s&&fe._renderLines(e,t,a,i,r)}else d.hasLineWithAreaSeries(e)&&fe._renderAreas(e,t,i,!0),d.hasBarSeries(e)&&fe._renderBars(e,a,i),d.hasCandlestickSeries(e)&&fe._renderStock(e,a),d.hasBoxPlotSeries(e)&&fe._renderBoxPlot(e,a,i),d.hasLineSeries(e)&&fe._renderLines(e,t,a,i)}else l.isScatterBubble(e)&&fe._renderScatterBubble(e,t,a,!0,i);(r.xAxis.referenceObjects||r.yAxis.referenceObjects||r.y2Axis.referenceObjects)&&(a=fe.createClippedGroup(e,t,i),ve.renderForegroundObjects(e,a,i));var g=d.getInitialSelection(e);F.setInitialSelection(e,g),e.highlight(d.getHighlightedCategories(e))},_renderDataLabel:(e,i,r,s,a,n,o,h,g,u)=>{if(!l.isOverview(e)){var _="bar"==d.getSeriesType(e,s),p=l.isHorizontal(e),v={width:p?r.w:u,height:p?u:r.h},m=e.getOptions(),f=m.styleDefaults,x=null!=e.y2Axis,C="on"===m.legend.rendered;_&&e.getOptionsCache().putToCachedMap2D("barDims",s,a,v);var S=c.getDataLabel(e,s,a,n,h,g);if(null!=S){var A=R.getDataLabelPos(e,s,a,n,h,g);if("none"!=A){var b=new t.OutputText(e.getCtx(),S,0,0);b.setMouseEnabled(!1);var y=g?f.stackLabelStyle:c.getDataLabelStyle(e,s,a,n,o,A,h);b.setCSSStyle(y),b.setY(r.y+r.h/2),b.setX(r.x+r.w/2),b.alignCenter(),b.alignMiddle();var M=b.getDimensions(),T=e.getCache().getFromCache("plotAreaDims");T||(T=e.getPlotArea().getDimensions(),e.getCache().putToCache("plotAreaDims",T));var D=(e,t,i,r)=>{var s={x:null,y:null},a=r&&r.xAxis&&("left"==e||"right"==e),n=r&&r.top&&("left"==e||"right"==e),o=r&&((x||!C)&&r.y2Axis||r.legend)&&("top"==e||"bottom"==e),l=r&&r.yAxis&&("top"==e||"bottom"==e);"left"==e?s.x=t.x-i.w/2-c.MARKER_DATA_LABEL_GAP:"right"==e?s.x=t.x+t.w+i.w/2+c.MARKER_DATA_LABEL_GAP:"top"==e?s.y=t.y-i.h/2:"bottom"==e&&(s.y=t.y+t.h+i.h/2+c.MARKER_DATA_LABEL_GAP/2);var h=2*c.MARKER_DATA_LABEL_GAP;return o?s.x=T.x+T.w-i.w/2-h:l?s.x=i.w/2+h:a?s.y=T.y+T.h-i.h/2-h:n&&(s.y=i.h/2+h),s},I=f.dataLabelCollision,O=D(A,r,M);if("fitInBounds"===I){var E=c.getDataLabelCollisions(e,O,M,T,p),P=c.adjustDataLabelPos(A,E,x);P!=A&&l.isBubble(e)&&(y=g?f.stackLabelStyle:c.getDataLabelStyle(e,s,a,n,o,P,h),b.setCSSStyle(y)),O=D(A=P,r,M,E)}if(null!=O.x||null!=O.y)null!=O.x&&b.setX(O.x),null!=O.y&&b.setY(O.y);else{if(_){if(M.w>v.width||M.h>v.height)return;"inLeft"==A?b.setX(r.x+M.w/2+c.MARKER_DATA_LABEL_GAP):"inRight"==A?b.setX(r.x+r.w-M.w/2-c.MARKER_DATA_LABEL_GAP):"inTop"==A?b.setY(r.y+M.h/2+c.MARKER_DATA_LABEL_GAP):"inBottom"==A&&b.setY(r.y+r.h-M.h/2-c.MARKER_DATA_LABEL_GAP/2)}else if(l.isBubble(e)){r.x+=c.MARKER_DATA_LABEL_GAP,r.y+=c.MARKER_DATA_LABEL_GAP,r.h-=2*c.MARKER_DATA_LABEL_GAP,r.w-=2*c.MARKER_DATA_LABEL_GAP;var L=t.TextUtils.getOptimalFontSize(b.getCtx(),b.getTextString(),b.getCSSStyle(),r);if(b.setFontSize(L),!t.TextUtils.fitText(b,r.w,r.h,i,fe._MIN_CHARS_DATA_LABEL))return}if(null!=c.getPattern(e,s,a)){var w=.15*(M=b.getDimensions()).h,k=t.PathUtils.roundedRectangle(M.x-w,M.y,M.w+2*w,M.h,2,2,2,2),B=new t.Path(e.getCtx(),k);B.setSolidFill("#FFFFFF",.9),i.addChild(B)}}if(l.isBar(e)){var F,N=b.getDimensions(),G=!1;if("left"==A&&N.x<0)G=!0,F=r.x-c.MARKER_DATA_LABEL_GAP;else if("right"==A&&N.x+N.w>T.w+c.MARKER_DATA_LABEL_GAP)G=!0,F=T.w-r.w-c.MARKER_DATA_LABEL_GAP;else{if("top"==A&&N.y<0)return;if("bottom"==A&&N.y+N.h>T.y+T.h+c.MARKER_DATA_LABEL_GAP)return}if(G){if(!isNaN(S))return;if(!t.TextUtils.fitText(b,F,r.h,i,1))return;M=b.getDimensions(),"left"==A?b.setX(r.x-M.w/2-c.MARKER_DATA_LABEL_GAP):"right"==A&&b.setX(r.x+r.w+M.w/2+c.MARKER_DATA_LABEL_GAP)}}c.optimizeMarkerStroke(e)&&b.setSolidStroke("none"),i.addChild(b),e.addDataLabel(b)}}}},_renderDataLabelForMarker:(e,i,r)=>{var s=e.getEventManager().getLogicalObject(r);if(s){var a=s.getSeriesIndex(),n=s.getGroupIndex(),o=s.getNestedDataItemIndex();if(r instanceof t.SimpleMarker){var l=new t.Rectangle(r.getCx()-r.getWidth()/2,r.getCy()-r.getHeight()/2,r.getWidth(),r.getHeight());fe._renderDataLabel(e,i,l,a,n,o,r.getDataColor())}else r instanceof de&&(fe._renderDataLabel(e,i,r.getBoundingBox1(),a,n,o,r.getDataColor(),"low"),fe._renderDataLabel(e,i,r.getBoundingBox2(),a,n,o,r.getDataColor(),"high"))}},_renderScatterBubble:(e,i,r,s,a)=>{var n,o=fe._filterScatterBubble(e,s),h=d.getSeriesCount(e);for(n=0;n<h;n++)"none"!=c.getLineType(e,n)&&fe._renderLinesForSeries(e,r,n,a);var g=c.getMarkerBorderColor(e),u=c.getBorderWidth(e),_=new t.Stroke(g,1,u),p=[];if(o)for(var v=c.optimizeMarkerStroke(e),m=v?_.getColor():null,f=v?_.getWidth():null,x=0;x<o.length;x++){var C=o[x],S=fe._createMarker(e,C,m,f);p.push(S)}else{for(n=0;n<h;n++){var A=fe._getMarkersForSeries(e,n,a,_);p=p.concat(A)}s&&me.sortMarkers(p)}l.isBubble(e)?fe._addMarkersToContainer(e,r,p,_):fe._addMarkersToContainer(e,i,p,_)},_renderMarkersForSeries:(e,i,r,s)=>{var a,n=c.getMarkerBorderColor(e,r),o=c.getBorderWidth(e,r),l=new t.Stroke(n,1,o);a=d.isRangeSeries(e,r)?fe._getRangeMarkersForSeries(e,r,s):fe._getMarkersForSeries(e,r,s,l),fe._addMarkersToContainer(e,i,a,l)},_addMarkersToContainer:(e,i,r,s)=>{var a=i,n=c.optimizeMarkerStroke(e),o=c.optimizeMarkerFill(e);(n||o)&&(a=new t.Container(e.getCtx()),n?a.setStroke(s):a.setInvisibleFill(),i.addChild(a));for(var l=0;l<r.length;l++)a.addChild(r[l]),fe._renderDataLabelForMarker(e,a,r[l]);e._currentMarkers.push(r)},_getMarkerInfo:(e,i,r,s,a)=>{var n=e.getOptions(),o=d.getVal(e,i,r,s);if(null==o||isNaN(o))return null;if(d.isDataItemFiltered(e,i,r))return null;var h=d.getGroupCount(e),g=c.isMarkerDisplayed(e,i,r,s);if(!g&&(null==s||s<0)){var u=h-1,_=l.isPolar(e),p=_&&u>0&&0==r?u:r-1,v=_&&u>0&&r==u?0:r+1,m=d.getVal(e,i,p),f=d.getVal(e,i,v);null!=m&&!isNaN(m)||null!=f&&!isNaN(f)||(g=!0)}if(!g&&(l.isSpark(e)||(n._duringZoomAndScroll||l.isOverview(e))&&!d.isDataSelected(e,i,r,s)))return null;if(!d.isDataItemRendered(e,i,r,s))return!1;var x=!0,C=d.getMarkerPos(e,i,r,s,a),S=c.getMarkerSize(e,i,r,s);return a&&C&&S&&(x=a.intersects(new t.Rectangle(C.x-S/2,C.y-S/2,S,S))),C&&x?{seriesIndex:i,groupIndex:r,itemIndex:s,x:C.x,y:C.y,size:S,markerDisplayed:g}:null},_getScatterBubbleMarkerInfo:(e,t,i)=>{if(!d.isDataItemRendered(e,t,i))return!1;var r=d.getScatterBubbleMarkerPos(e,t,i);if(!r)return null;var s=c.getMarkerSize(e,t,i);return s?{seriesIndex:t,groupIndex:i,x:r.x,y:r.y,size:s}:null},_getMarkersForSeries:(e,t,i,r)=>{if(!d.isSeriesRendered(e,t))return[];for(var s=c.optimizeMarkerStroke(e),a=s?r.getColor():null,n=s?r.getWidth():null,o=[],l=d.getGroupCount(e),h=0;h<l;h++){var g=fe._getMarkerInfo(e,t,h,null,i);if(g){var u=fe._createMarker(e,g,a,n);null!=u&&o.push(u)}}return o},_createMarker:(e,i,r,s)=>{var a,n=t.Agent.isTouchDevice(),o=e.getCtx(),h=c.optimizeMarkerStroke(e),g=c.optimizeMarkerFill(e),d=i.seriesIndex,u=i.groupIndex,_=i.itemIndex,p=c.getMarkerColor(e,d,u,_),v=c.getMarkerShape(e,d,u,_),m=i.markerDisplayed;if(null==m&&(m=c.isMarkerDisplayed(e,d,u,_)),m){var x=c.getImageSource(e,d,u,_,"source");if(x){var C=c.getImageSource(e,d,u,_,"sourceSelected"),S=c.getImageSource(e,d,u,_,"sourceHover"),A=c.getImageSource(e,d,u,_,"sourceHoverSelected");a=new t.ImageMarker(o,i.x,i.y,i.size,i.size,null,x,C,S,A),c.isSelectable(e,d,u)&&a.setCursor(t.SelectionEffectUtils.getSelectingCursor())}else{(a=new t.SimpleMarker(o,v,i.x,i.y,i.size,i.size,null,null,!0)).setFill(k.getMarkerFill(e,d,u,_));var b=c.getBorderColor(e,d,u,_),y=c.getDefaultMarkerBorderColor(e,d,u,_),M=c.getUserBorderWidth(e,d,u,_),T=c.getDefaultMarkerBorderWidth(e,d,u,_),D=b||y,I=null!==M?M:T;if(D===r&&I===s||a.setSolidStroke(D,null,I),a.setDataColor(p,!0),"redwood"===e.getCtx().getThemeBehavior())l.isBubble(e)&&a.addClassName("oj-dvt-bubble-marker"),b||l.isBubble(e)||a.addClassName("oj-dvt-default-border-color"),null==M&&a.addClassName("oj-dvt-default-border-width"),c.isSelectable(e,d,u)&&(a.setCursor(t.SelectionEffectUtils.getSelectingCursor()),l.isBubble(e)?a.setFeedbackClassName("oj-dvt-selectable"):a.setFeedbackClassName("oj-dvt-selectable-marker"));else{c.isSelectable(e,d,u)&&a.setCursor(t.SelectionEffectUtils.getSelectingCursor());var O=t.SelectionEffectUtils.getHoverBorderColor(p),E=c.getSelectedInnerColor(e),P=c.getSelectedOuterColor(e);a.setHoverStroke(new t.Stroke(E,1,1),new t.Stroke(O,1,3.5)),a.setSelectedStroke(new t.Stroke(E,1,1.5),new t.Stroke(P,1,4.5)),a.setSelectedHoverStroke(new t.Stroke(E,1,1.5),new t.Stroke(O,1,4.5))}a.addClassName(c.getMarkerClassName(e,d,u,_)),a.setStyle(c.getMarkerStyle(e,d,u,_))}n&&i.size<fe._MIN_TOUCH_MARKER_SIZE&&fe._addMarkerHitArea(a,i.x,i.y,h)}else c.isSelectable(e,d,u)?((a=new he(o,v,i.x,i.y,i.size,h)).setCursor(t.SelectionEffectUtils.getSelectingCursor()),n&&fe._addMarkerHitArea(a,i.x,i.y,h)):(n&&(i.size=fe._MIN_TOUCH_MARKER_SIZE),a=new he(o,t.SimpleMarker.SQUARE,i.x,i.y,i.size,h)),g||a.setInvisibleFill(),a.setDataColor(p);return f.associate(a,e,d,u,_,i),a},_addMarkerHitArea:(e,i,r,s)=>{var a=new t.Rect(e.getCtx(),i-fe._MIN_TOUCH_MARKER_SIZE/2,r-fe._MIN_TOUCH_MARKER_SIZE/2,fe._MIN_TOUCH_MARKER_SIZE,fe._MIN_TOUCH_MARKER_SIZE);s&&a.setSolidStroke("none"),a.setInvisibleFill(),e.addChild(a)},_getRangeMarkersForSeries:(e,i,r)=>{if(!d.isSeriesRendered(e,i))return[];for(var s=t.Agent.isTouchDevice(),a=e.getCtx(),n=e.xAxis,o=d.isAssignedToY2(e,i)?e.y2Axis:e.yAxis,g=e.getOptions(),u=d.getGroupCount(e),_=[],p=0;p<u;p++)if(!d.isDataItemFiltered(e,i,p)&&d.isDataItemRendered(e,i,p)){var v=n.getCoordAt(d.getXVal(e,i,p)),m=o.getUnboundedCoordAt(d.getLowVal(e,i,p)),x=o.getUnboundedCoordAt(d.getHighVal(e,i,p));if(null!=v&&null!=m&&null!=x){var C=c.isMarkerDisplayed(e,i,p);if(!C){var S=u-1,A=l.isPolar(e),b=A&&S>0&&0==p?S:p-1,y=A&&S>0&&p==S?0:p+1,M=d.getLowVal(e,i,b),T=d.getHighVal(e,i,b),D=d.getLowVal(e,i,y),I=d.getHighVal(e,i,b);null==M&&null==T&&null==D&&null==I&&(C=!0)}if(!(g._duringZoomAndScroll||l.isOverview(e)||l.isSpark(e))||C||d.isDataSelected(e,i,p)){var O=h.convertAxisCoord(e,new t.Point(v,m),r),E=h.convertAxisCoord(e,new t.Point(v,x),r),P=new t.Point((O.x+E.x)/2,(O.y+E.y)/2),L=c.getMarkerSize(e,i,p),w=new de(a,O.x,O.y,E.x,E.y,L,!C),R=k.getMarkerFill(e,i,p),B=c.getMarkerBorderColor(e,i,p),F=c.getBorderWidth(e,i,p),N=new t.Stroke(B,1,F),G=c.getMarkerColor(e,i,p),H=c.getSelectedInnerColor(e),U=c.getSelectedOuterColor(e);w.setStyleProperties(R,N,G,H,U),c.isSelectable(e,i,p)&&w.setCursor(t.SelectionEffectUtils.getSelectingCursor());var V=new t.Line(a,O.x,O.y,E.x,E.y);V.setSolidStroke("rgba(0,0,0,0)",null,s?Math.max(L,fe._MIN_TOUCH_MARKER_SIZE):L),w.addChild(V),_.push(w),f.associate(w,e,i,p,null,P)}}}return _},_renderBars:(e,i,r,s)=>{var a=l.isHorizontal(e),n=l.isPolar(e),o=l.isStock(e),h="pixel"==c.getBarSpacing(e),g=t.Agent.isRightToLeft(e.getCtx()),u=c.isStackLabelRendered(e),_=d.isStacked(e);d.getSeriesCount(e)<2&&u&&(_=!0);for(var p=c.getSelectedInnerColor(e),v=c.getSelectedOuterColor(e),m=e.getOptions()._duringZoomAndScroll,x=c.getGroupWidth(e),C={},S=0;S<d.getSeriesCount(e);S++)if("bar"==d.getSeriesType(e,S)&&(void 0===s||s===S)){fe._filterPointsForSeries(e,S);for(var A="",b=e.getOptionsCache().getFromCachedMap("itemStyleSet",S),y=d.getStackCategory(e,S)||"",M=d.isAssignedToY2(e,S),T=w.getViewportMinMaxGroupIdx(e,S),D=T.min-1;D<=T.max+1;D++)if(!d.isDataItemFiltered(e,S,D)&&d.isDataItemRendered(e,S,D)&&0!=d.getZVal(e,S,D)){var I=R.getBarInfo(e,S,D,r);if(null!=I){var O=I.yCoord,E=I.baseCoord,P=I.axisCoord,L=I.x1,B=I.x2,F=I.barWidth;if(_){var N=""+D+y+M+(d.getVal(e,S,D)<0);if(Math.abs(E-O)<.5&&Math.abs(O-C[N])<.5&&!d.isOutermostBar(e,S,D))continue;C[N]&&(E=C[N]),C[N]=O}var G,H=!1;if(Math.abs(O-E)<1&&(d.isRangeSeries(e,S)?O--:_&&!d.isOutermostBar(e,S,D)||(H=!0,O=O>E||a&&!g&&O==E?E+3:E-3)),n)G=new ge(e,P,E,O,L,B,r);else{var U=m&&x<5&&!b;if(G=new se(e,P,E,O,L,B,U),U){var V=G.getBoundingBox();A+=t.PathUtils.moveTo(V.x,V.y)+t.PathUtils.horizontalLineTo(V.x+V.w)+t.PathUtils.verticalLineTo(V.y+V.h)+t.PathUtils.horizontalLineTo(V.x)+t.PathUtils.closePath();continue}}i.addChild(G),c.isSelectable(e,S,D)&&G.setCursor(t.SelectionEffectUtils.getSelectingCursor());var Y,W=null;if(H)Y=t.SolidFill.invisibleFill();else{Y=k.getBarFill(e,S,D,F);var j=c.getBorderColor(e,S,D),z=c.getBorderWidth(e,S,D);j&&(W=new t.Stroke(j,1,z))}var X=c.getColor(e,S,D),Z=c.getClassName(e,S,D),q=c.getStyle(e,S,D);G.setStyleProperties(Y,W,X,p,v,Z,q),h&&G.setPixelHinting(!0),f.associate(G,e,S,D,null,I.dataPos),d.isRangeSeries(e,S)?(fe._renderDataLabel(e,i,G.getBoundingBox(),S,D,null,X,"low",!1,G.getOriginalBarSize()),fe._renderDataLabel(e,i,G.getBoundingBox(),S,D,null,X,"high",!1,G.getOriginalBarSize())):fe._renderDataLabel(e,i,G.getBoundingBox(),S,D,null,X,null,!1,G.getOriginalBarSize());var K=[];K.push(G),o&&0!=S||e._currentMarkers.push(K),u&&d.isOutermostBar(e,S,D)&&fe._renderDataLabel(e,i,G.getBoundingBox(),S,D,null,null,null,!0,G.getOriginalBarSize())}}if(A){var Q=new t.Path(e.getCtx(),A),J=c.getColor(e,S);Q.setSolidFill(J);var $=c.getBorderColor(e,S);if($){var ee=c.getBorderWidth(e,S);Q.setSolidStroke($,null,ee)}var te=c.getClassName(e,S),ie=c.getStyle(e,S);Q.setClassName(te).setStyle(ie),h&&Q.setPixelHinting(!0),i.addChild(Q)}}},_renderStock:(e,i)=>{var r=e.getOptions(),s=e.xAxis,a=e.yAxis;if("candlestick"==d.getSeriesType(e,0))for(var n=w.getViewportMinMaxGroupIdx(e,0),o=n.min-1;o<=n.max+1;o++)if(d.isDataItemRendered(e,0,o)){var l=d.getDataItem(e,0,o);if(l){var h=l.open,g=l.close,u=l.low,_=l.high,p=null!=u&&null!=_;if(null!=h&&null!=g){var v,m=d.getXVal(e,0,o),x=s.getUnboundedCoordAt(m),C=c.getBarWidth(e,0,o),S=a.getBoundedCoordAt(h),A=a.getBoundedCoordAt(g),b=null;p&&(v=a.getBoundedCoordAt(u),b=a.getBoundedCoordAt(_));var y=new ne(e.getCtx(),x,C,S,A,v,b);i.addChild(y),c.isSelectable(e,0,o)&&y.setCursor(t.SelectionEffectUtils.getSelectingCursor());var M=k.getBarFill(e,0,o,C),T=null,D=c.getBorderColor(e,0,o),I=c.getBorderWidth(e,0,o);D?T=new t.Stroke(D,1,I):M instanceof t.PatternFill&&(T=new t.Stroke(M.getColor(),1,I));var O=c.getColor(e,0,o),E=c.getSelectedInnerColor(e),P=c.getSelectedOuterColor(e),L=r.styleDefaults.stockRangeColor;y.setChangeStyle(M,T,O,E,P),y.setRangeStyle(new t.SolidFill(L),T,L,P);var R=new t.Point(x,(S+A)/2);f.associate(y,e,0,o,null,R);var B=[];B.push(y._changeShape),e._currentMarkers.push(B)}}}},_renderBoxPlot:(e,i,r,s)=>{for(var a=e.xAxis,n=0;n<d.getSeriesCount(e);n++)if(void 0===s||s===n)for(var o=w.getViewportMinMaxGroupIdx(e,n),g=o.min-1;g<=o.max+1;g++)if(d.isDataItemRendered(e,n,g)&&"boxPlot"==d.getSeriesType(e,n)){var u=d.getDataItem(e,n,g);if(u){var _=u.low,p=u.q1,v=u.q2,m=u.q3,x=u.high;if(null!=_&&null!=p&&null!=v&&null!=m&&null!=x){var C=c.getBarWidth(e,n,g),S=c.getBarCategoryOffsetMap(e,g),A=d.isAssignedToY2(e,n),b=d.getStackCategory(e,n),y=S[A?"y2":"y"][b]+C/2;t.Agent.isRightToLeft(e.getCtx())&&l.isVertical(e)&&(y*=-1);var M=d.getXVal(e,n,g),T=a.getUnboundedCoordAt(M)+y,D=A?e.y2Axis:e.yAxis,I=D.getBoundedCoordAt(_),O=D.getBoundedCoordAt(p),E=D.getBoundedCoordAt(v),P=D.getBoundedCoordAt(m),L=D.getBoundedCoordAt(x),R=c.getBoxPlotStyleOptions(e,n,g),k=new ae(e,T,C,I,O,E,P,L,R);i.addChild(k),c.isSelectable(e,n,g)&&k.setCursor(t.SelectionEffectUtils.getSelectingCursor());var B=h.convertAxisCoord(e,new t.Point(T,E),r);f.associate(k,e,n,g,null,B),fe._renderBoxPlotMarkers(e,i,n,g,r,T),e._currentMarkers.push([k._medianLine])}}}},_renderBoxPlotMarkers:(e,i,r,s,a,n)=>{for(var o=c.getMarkerBorderColor(e,r,s),h=c.getBorderWidth(e,r,s),g=new t.Stroke(o,1,h),u=[],_=d.getNestedDataItemCount(e,r,s),p=0;p<_;p++){var v=fe._getMarkerInfo(e,r,s,p,a);if(v){l.isHorizontal(e)?v.y=n:v.x=n;var m=fe._createMarker(e,v,o,h);null!=m&&u.push(m)}}fe._addMarkersToContainer(e,i,u,g)},_renderLines:(e,t,i,r,s)=>{var a,n=[],o=d.getSeriesCount(e);for(a=0;a<o;a++)!d.isSeriesRendered(e,a)||"line"!=d.getSeriesType(e,a)||void 0!==s&&s!==a||n.push(a);for(var l=0;l<n.length;l++)a=n[l],"none"!=c.getLineType(e,a)&&(fe._filterPointsForSeries(e,a),fe._renderLinesForSeries(e,i,a,r));for(l=0;l<n.length;l++)fe._renderMarkersForSeries(e,t,n[l],r)},_renderAreas:(e,t,i,r,s)=>{for(var a=d.getSeriesCount(e),n=r?"lineWithArea":"area",o=[],l=[],h=0;h<a;h++)!d.isSeriesRendered(e,h)||d.getSeriesType(e,h)!=n||void 0!==s&&s!==h||(d.isAssignedToY2(e,h)?l.push(h):o.push(h));o.length>0&&fe._renderAreasForAxis(e,t,o,e.yAxis.getBaselineCoord(),i,r),l.length>0&&fe._renderAreasForAxis(e,t,l,e.y2Axis.getBaselineCoord(),i,r)},_renderAreasForAxis:(e,i,r,s,a,n)=>{for(var o=d.isStacked(e),l=fe.createClippedGroup(e,i,a),h={},g={},u={},_={},p=[],v=d.getGroupCount(e),m=0;m<v;m++)p.push(new oe(null,s,s,m,d.getGroup(e,m),!0));for(var x=0;x<r.length;x++){var C=r[x],S=d.getStackCategory(e,C),A=d.isSeriesNegative(e,C),b=h[S],y=g[S],M=u[S],T=_[S];if("none"!=c.getLineType(e,C)){var D,I,O,E=k.getAreaFill(e,C),P=c.getBorderColor(e,C),L=c.getBorderWidth(e,C),w=c.getAreaClassName(e,C),R=c.getAreaStyle(e,C),B=P?new t.Stroke(P,1,L):null,F=c.getLineType(e,C);fe._filterPointsForSeries(e,C),d.isRangeSeries(e,C)?(D=fe._getCoordsForSeries(e,C,a,"high"),I=fe._getCoordsForSeries(e,C,a,"low"),O=F):A?(D=fe._getAreaCoordsForSeries(e,C,a,M||p),I=M||[],O=T):(D=fe._getAreaCoordsForSeries(e,C,a,b||p),I=b||[],O=y);var N=new le(e,!0,a,s,R,w,E,B,F,D,O,I);l.addChild(N),e._currentAreas.push(N),f.associate(N,e,C),A?(u[S]=D,_[S]=F):(h[S]=D,g[S]=F),o||((n||c.getDataItemGaps(e)>0&&!P)&&fe._renderLinesForSeries(e,l,C,a,!n),n||fe._renderMarkersForSeries(e,i,C,a),x+1<r.length&&(l=fe.createClippedGroup(e,i,a)))}else fe._renderMarkersForSeries(e,i,C,a)}for(x=0;x<r.length;x++)if(C=r[x],"none"!=c.getLineType(e,C)){var G=c.getBorderColor(e,C)||c.getBorderColor(e,C+1);o&&(n||c.getDataItemGaps(e)>0&&!G)&&fe._renderLinesForSeries(e,l,C,a,!n),(o||n)&&fe._renderMarkersForSeries(e,i,C,a)}},_getAreaCoordsForSeries:(e,t,i,r)=>{for(var s=fe._getCoordsForSeries(e,t,i),a=[],n=0;n<r.length;n++)a.push(r[n].clone());for(var o=s.length-1,h=l.isPolar(e),g=0;g<s.length;g++)if(null!=s[g].x){var d=a[s[g].groupIndex],u=h&&0==g?o:g-1,_=h&&g==o?0:g+1;u>=0&&null!=s[u].x&&(d.y1=s[g].y1),_<=o&&null!=s[_].x&&(d.y2=s[g].y2),d.x=s[g].x,d.filtered=d.y1==d.y2&&s[g].filtered}return a},_renderLinesForSeries:(e,i,r,s,a)=>{var n;if(a){var o=2.5*c.getDataItemGaps(e);n=new t.Stroke(c.getBackgroundColor(e,!0),1,o)}else{var l=c.getColor(e,r),h=c.getLineWidth(e,r),g=c.getLineStyle(e,r);n=new t.Stroke(l,1,h,!1,t.Stroke.getDefaultDashProps(g,h))}var u=d.isAssignedToY2(e,r)?e.y2Axis.getBaselineCoord():e.yAxis.getBaselineCoord(),_=c.getLineType(e,r),p=c.getClassName(e,r),v=c.getStyle(e,r),m=t=>{var a=fe._getCoordsForSeries(e,r,s,t),o=new le(e,!1,s,u,v,p,null,n,_,a);i.addChild(o),f.associate(o,e,r)};d.isRangeSeries(e,r)?(m("high"),m("low")):m("value")},_filterScatterBubble:(e,i)=>{var r,s=d.getSeriesCount(e),a=d.getGroupCount(e);if(s*a<fe.FILTER_THRESHOLD_SCATTER_BUBBLE)return null;for(var n=[],o=0;o<s;o++)if(d.isSeriesRendered(e,o))for(var l=0;l<a;l++)null!=(r=fe._getScatterBubbleMarkerInfo(e,o,l))&&n.push(r);if(n.length<fe.FILTER_THRESHOLD_SCATTER_BUBBLE)return null;i&&me.sortMarkerInfos(n);for(var h=new t.PixelMap(25,new t.PixelMap(5,new t.PixelMap)),g=[],u=n.length-1;u>=0;u--){if(r=n[u],!me.checkPixelMap(h,r.x,r.y,r.size)){var _=c.getColor(e,r.seriesIndex,r.groupIndex),p=c.isMarkerDisplayed(e,o,l)?t.ColorUtils.getAlpha(_):0;p>0&&(me.updatePixelMap(h,r.x,r.y,r.size,p),g.push(r))}}return e.getCache().putToCache("dataFiltered",!0),g.reverse(),g},_filterPointsForSeries:(e,t)=>{if(!l.isPolar(e)&&!d.isRangeSeries(e,t)){var i,r=e.__getPlotAreaSpace(),s=l.isHorizontal(e)?r.h:r.w,a=d.getSeriesItem(e,t).items,n="bar"==d.getSeriesType(e,t),o=e.xAxis.getInfo(),h=(o.getDataMax()-o.getDataMin())/(o.getViewportMax()-o.getViewportMin()),g=n?.5:2,u=h?Math.round(g*(a.length/h)/s):1;if(u<(n?2:3))for(var _=0;_<a.length;_++)(i=a[_])&&(i._filtered=!1);else{for(var c,p,v,m,f,x=!1,C=0;C<a.length;C+=u){c=-1,p=-1/0,v=-1,m=1/0;for(var S=C;S<Math.min(C+u,a.length);S++)f=d.getCumulativeVal(e,t,S),i=a[S],null!=f&&null!=i&&((!n||f>0)&&f>p&&(c=S,p=f),(!n||f<0)&&f<m&&(v=S,m=f),i._filtered=!0,x=!0);for(var A=C;A<Math.min(C+u,a.length);A++)null!=(i=a[A])&&(A!=c&&A!=v||(i._filtered=!1))}e.getCache().putToCache("dataFiltered",x)}}},_getCoordsForSeries:(e,t,i,r)=>{var s=e.xAxis,a=e.yAxis;d.isAssignedToY2(e,t)&&(a=e.y2Axis);for(var n=[],o=w.getViewportMinMaxGroupIdx(e,t),h=o.min-1;h<=o.max+1;h++){var g=d.getGroup(e,h);if(null!=g){var u=d.getXVal(e,t,h),_=null;if("low"==r?_=d.getLowVal(e,t,h):"high"==r?_=d.getHighVal(e,t,h):null!=d.getVal(e,t,h)&&(_=d.getCumulativeVal(e,t,h)),null!=_&&!isNaN(_)&&d.isDataItemRendered(e,t,h)){l.isPolar(e)&&(_=Math.max(_,a.getInfo().getViewportMin()));var c=s.getUnboundedCoordAt(u),p=a.getUnboundedCoordAt(_);if(null!=c&&null!=p){var v=new oe(c,p,p,h,g,d.isDataItemFiltered(e,t,h));n.push(v)}else n.push(new oe(null,null,null,h,g,!1))}else n.push(new oe(null,null,null,h,g,!1))}}return n},createClippedGroup:(e,i,r)=>{var s=new t.Container(i.getCtx());i.addChild(s);var a=new t.ClipPath(e.getId()),n=fe._extendClipGroup(e);if(l.isPolar(e)){var o=r.x+r.w/2,h=r.y+r.h/2;if(w.isGridPolygonal(e)){var g=t.PolygonUtils.getRegularPolygonPoints(o,h,d.getGroupCount(e),e.getRadius(),0);a.addPolygon(g)}else a.addCircle(o,h,e.getRadius())}else l.isHorizontal(e)?a.addRect(r.x-n,r.y,r.w+2*n,r.h):a.addRect(r.x,r.y-n,r.w,r.h+2*n);return s.setClipPath(a),s},_extendClipGroup:e=>{if((d.hasLineSeries(e)||d.hasLineWithAreaSeries(e))&&!l.isSpark(e)){var t=c.getLineWidth(e),i=e=>{var i=e.getInfo(),r=i.getCoordAt(i.getGlobalMax()),s=i.getCoordAt(i.getDataMax()),a=i.getCoordAt(i.getGlobalMin()),n=i.getCoordAt(i.getDataMin());return null!=r&&null!=s&&s-r<=t/2||null!=a&&null!=n&&a-n<=t/2};if(e.yAxis&&i(e.yAxis)||e.y2Axis&&i(e.y2Axis))return Math.ceil(t/2)}return 0}};class xe{constructor(e,t){this._context=e.getCtx(),this._dataCursorShown=!1,this._dataCursor=t,this._chart=e}processMove(e,t){var i=this._chart.__getPlotAreaSpace();return i&&i.containsPoint(e.x,e.y)&&!this._chart.getOptions()._duringZoomAndScroll?(this._showDataCursor(i,e.x,e.y,t),!0):(this._removeDataCursor(t),!1)}processEnd(e){this._removeDataCursor(e)}processOut(e,t){var i=this._chart.__getPlotAreaSpace();i&&!i.containsPoint(e.x,e.y)&&this._removeDataCursor(t)}_showDataCursor(e,i,r,s){if(this._context.isOffscreen(!0))this._removeDataCursor(s);else{var a=this._dataCursor,n=this._getClosestMatch(i,r);if(null!=n){var o=n.matchRegion.getCenter(),l=i,h=r;"snap"===a.getBehavior()&&(a.isHorizontal()?h=Math.min(Math.max(o.y,e.y),e.y+e.h):l=Math.min(Math.max(o.x,e.x),e.x+e.w));var g=n.logicalObject,d=m.getDatatip(this._chart,g.getSeriesIndex(),g.getGroupIndex(),g.getNestedDataItemIndex(),!0);if(null!=d){a.setVisible(!0);var u=m.getDatatipColor(this._chart,g.getSeriesIndex(),g.getGroupIndex(),g.getNestedDataItemIndex()),_=a.isHorizontal()?h:l,c=g.getDisplayables()[0];if(c instanceof t.SimpleMarker&&a.addMarker(c.getType(),c.getSize()),a.render(e,o.x,o.y,_,d,u),this._dataCursorShown=!0,!s){var p=this._chart.getValsAt(i,r);this._chart.changeOption("dataCursorPosition",p)}}else a.setVisible(!1)}else this._removeDataCursor(s)}}_removeDataCursor(e){this._dataCursor.getVisible()&&this._dataCursor.setVisible(!1),this._context.getTooltipManager(p.TOOLTIP_ID).hideTooltip(),this._dataCursorShown=!1,e||this._chart.changeOption("dataCursorPosition",null)}isDataCursorShown(){return this._dataCursorShown}static _getClosestMatchSecondDirection(e,t,i,r){for(var s=null,a=1/0,n=e.length-1;0<=n;n--){var o=e[n],l=t?i:r,h=((t?o.matchRegion.x:o.matchRegion.y)+(t?o.matchRegion.x+o.matchRegion.w:o.matchRegion.y+o.matchRegion.h))/2,g=Math.round(Math.abs(h-l));g<a&&(a=g,s=o)}return s}static _getClosestMatchesFirstDirection(e,t,i,r,s){for(var a=1/0,n=new Array,o=0;o<e.length;o++){var l=e[o];if(s(l.logicalObject)){var h=l.matchRegion,g=t?r:i,d=((t?h.y:h.x)+(t?h.y+h.h:h.x+h.w))/2,u=Math.round(Math.abs(d-g));u<=a&&(u<a&&(n=new Array),n.push(l),a=u)}}return n}_findMatches(){var e=this._context.getStage(),t=this._chart.getEventManager(),i=[];if(!this._chart._currentMarkers)return null;for(var r=0;r<this._chart._currentMarkers.length;r++)for(var s=this._chart._currentMarkers[r],a=s.length,n=0;n<a;n++){var o=s[n],l=t.GetLogicalObject(o),h={matchRegion:o.getDimensionsSelf?o.getDimensionsSelf(e):o.getDimensions(e),logicalObject:l};i.push(h)}return i}_getClosestMatch(e,i){var r=l.isHorizontal(this._chart),s=l.isLineArea(this._chart)&&!l.isMixedFrequency(this._chart),a=this._findMatches(),n=d.getHighlightedCategories(this._chart),o="all"==this._chart.getOptions().highlightMatch,h=n.length>0?o?t.ArrayUtils.hasAllItems:t.ArrayUtils.hasAnyItem:null,g=e=>!h||h(e.getCategories(),n),u=xe._getClosestMatchesFirstDirection(a,r,e,i,g);if(!l.isScatterBubble(this._chart)){for(var _=1/0,c=-1/0,p=null,v=0;v<u.length;v++){var m=u[v];_=Math.min(_,r?m.matchRegion.y:m.matchRegion.x),c=Math.max(c,r?m.matchRegion.y+m.matchRegion.h:m.matchRegion.x+m.matchRegion.w),p=m.logicalObject.getGroupIndex()}for(v=0;v<a.length;v++){var f=a[v];if(g(f.logicalObject))if(s)f.logicalObject.getGroupIndex()==p&&u.push(f);else{var x=((r?f.matchRegion.y:f.matchRegion.x)+(r?f.matchRegion.y+f.matchRegion.h:f.matchRegion.x+f.matchRegion.w))/2;c>=x&&_<=x&&u.push(f)}}}return xe._getClosestMatchSecondDirection(u,r,e,i)}}class Ce extends I{axisToPlotArea(e){if("tangential"==this.getOptions().position)return e;if(null==e)return null;var t=e-this.getLeftOverflow();return Math.round(10*t)/10}plotAreaToAxis(e,t){if("tangential"==this.getOptions().position)return e;if(null==e)return null;var i=e+this.getLeftOverflow();return!1===t?i:Math.round(i)}linearToActual(e){return this.Info.linearToActual(e)}actualToLinear(e){return this.Info.actualToLinear(e)}getValAt(e){return this.Info.getValAt(this.plotAreaToAxis(e))}getCoordAt(e){return this.axisToPlotArea(this.Info.getCoordAt(e))}getBoundedCoordAt(e){return this.axisToPlotArea(this.Info.getBoundedCoordAt(e))}getUnboundedValAt(e){return this.Info.getUnboundedValAt(this.plotAreaToAxis(e))}getUnboundedCoordAt(e){return this.axisToPlotArea(this.Info.getUnboundedCoordAt(e))}getBaselineCoord(){return this.axisToPlotArea(this.Info.getBaselineCoord())}getPosition(){return this.getOptions().position}isGroupAxis(){return this.Info instanceof M}getMajorTickCoords(){for(var e=this.Info?this.Info.getMajorTickCoords():[],t=0;t<e.length;t++)e[t]=this.axisToPlotArea(e[t]);return e}getMinorTickCoords(){for(var e=this.Info?this.Info.getMinorTickCoords():[],t=0;t<e.length;t++)e[t]=this.axisToPlotArea(e[t]);return e}getBaselineCoord(){return this.axisToPlotArea(this.Info.getBaselineCoord())}getLinearGlobalMin(){return this.actualToLinear(this.Info.getGlobalMin())}getLinearGlobalMax(){return this.actualToLinear(this.Info.getGlobalMax())}getLinearViewportMin(){return this.actualToLinear(this.Info.getViewportMin())}getLinearViewportMax(){return this.actualToLinear(this.Info.getViewportMax())}getUnboundedLinearValAt(e){return this.Info.actualToLinear(this.getUnboundedValAt(e))}isFullViewport(){return this.Info.getViewportMin()==this.Info.getGlobalMin()&&this.Info.getViewportMax()==this.Info.getGlobalMax()}getLeftOverflow(){return t.Agent.isRightToLeft(this.getCtx())?this.Info.getEndOverflow():this.Info.getStartOverflow()}getRightOverflow(){return t.Agent.isRightToLeft(this.getCtx())?this.Info.getStartOverflow():this.Info.getEndOverflow()}getLength(){return Math.abs(this.Info.getStartCoord()-this.Info.getEndCoord())}getMinCoord(){return this.axisToPlotArea(Math.min(this.Info.getStartCoord(),this.Info.getEndCoord()))}getMaxCoord(){return this.axisToPlotArea(Math.max(this.Info.getStartCoord(),this.Info.getEndCoord()))}}const Se={_DEFAULT_AXIS_MAX_SIZE:.33,render:(e,t,i)=>{l.hasAxes(e)&&(w.applyInitialZooming(e,i),l.isBubble(e)&&me.calcBubbleSizes(e,i),l.isPolar(e)?Se._renderPolar(e,t,i):Se._renderCartesian(e,t,i))},_renderCartesian:(e,i,r)=>{var s=e.getOptions(),a=l.isHorizontal(e),n=d.isSplitDualY(e),o=l.isOverview(e),h=r.clone(),g=w.getYAxisPos(e),u=w.getY2AxisPos(e),_=!o&&s.overview.content&&s.overview.content.yAxis&&"on"==s.overview.content.yAxis.rendered,p=!o&&s.overview.content&&s.overview.content.y2Axis&&"on"==s.overview.content.y2Axis.rendered;Se._addAxisGaps(e,r),n&&g==u&&(s.yAxis._skipHighestTick=a,s.y2Axis._skipHighestTick=!a);var v=Se._createYAxis(e,i,r,h,_),m=Se._createY2Axis(e,i,r,h,p),f=!n&&"on"==s.y2Axis.alignTickMarks&&null==s.y2Axis.step;f&&v&&m&&(Se._alignYAxes(e,v,m),a||(m.dim=Se._getPreferredSize(e,m.axis,e.y2Axis,m.options,"y2",r,h,p)));var x,C=w.getTickLabelGapSize(e,"y"),S=w.getTickLabelGapSize(e,"y2");n&&g==u?(a?(x=Math.max(v.dim.h+C,m.dim.h+S),v.dim.h=x-C,m.dim.h=x-S):(x=Math.max(v.dim.w+C,m.dim.w+S),v.dim.w=x-C,m.dim.w=x-S),Se._positionAxis(r.clone(),v,C,_),Se._positionAxis(r,m,S,p)):(Se._positionAxis(r,v,C,_),Se._positionAxis(r,m,S,p));var A=d.getGroupCount(e);if("pixel"==c.getBarSpacing(e)&&l.isBar(e)&&r.w>A){var b=Math.floor(r.w/A)*A;r.x+=(r.w-b)/2,r.w=b}var y=Se._createXAxis(e,i,r,h);y.axis.render(y.options,y.dim.w,y.dim.h),Se._positionAxis(r,y,w.getTickLabelGapSize(e,"x"));var M=c.getSplitterPos(e),T=t.Agent.isRightToLeft(e.getCtx()),D=Se._getSplitAvailSpace(r,M,a,a&&T),I=Se._getSplitAvailSpace(r,1-M,a,!a||!T);a?(v&&(v.axis.setTranslateX(r.x),n?v.axis.render(v.options,D.w,v.dim.h,D.x,0):v.axis.render(v.options,r.w,v.dim.h)),f&&v&&m&&Se._alignYAxes(e,v,m),m&&(m.axis.setTranslateX(r.x),n?m.axis.render(m.options,I.w,m.dim.h,I.x,0):m.axis.render(m.options,r.w,m.dim.h)),Se._setOverflow(r,v,y)):(v&&(n?v.axis.render(v.options,v.dim.w,D.h,0,D.y):v.axis.render(v.options,v.dim.w,r.h)),f&&v&&m&&Se._alignYAxes(e,v,m),m&&(n?m.axis.render(m.options,m.dim.w,I.h,0,I.y):m.axis.render(m.options,m.dim.w,r.h)),Se._setOverflow(r,y,v,m)),Se._storeAxes(e,y,v,m)},_renderPolar:(e,t,i)=>{var r=Se._createXAxis(e,t,i,i);r.axis.setTranslateX(i.x),r.axis.setTranslateY(i.y),r.axis.render(r.options,i.w,i.h);var s=Se._createYAxis(e,t,i,i);s.axis.setTranslateX(i.x),s.axis.setTranslateY(i.y),s.axis.render(s.options,i.w,i.h),Se._storeAxes(e,r,s)},_createXAxis:(e,i,r,s)=>{var a=e.getOptions(),n=w.getXAxisPos(e),o=t.JsonUtils.clone(a.xAxis,null,e.Defaults.getNoCloneObject().xAxis);o.position=n,o.isStandalone=w.isStandaloneXAxis(e),o.groupSeparators=a.styleDefaults.groupSeparators,Se._addCommonAxisAttr(o,"x",e),o.groups=a.groups,o._groupWidthRatios=R.getGroupWidthRatios(e),o.timeAxisType=l.getTimeAxisType(e),o._locale=a._locale,o.drilling=a.drilling,o._isGroupAxis=l.hasGroupAxis(e);var h="top"==n||"bottom"==n,g=w.isGridShifted(e);if("tangential"==n&&l.hasGroupAxis(e))g?(o.startGroupOffset=.5,o.endGroupOffset=.5):o.endGroupOffset=1;else{var u=w.getAxisOffset(e);if(o.startGroupOffset=u,o.endGroupOffset=u,c.hasUncenteredSeries(e)&&(o.endGroupOffset+=1),!O.isScrollable(e)&&!l.isOverview(e)){var _=d.getGroupCount(e);w.isAxisRendered(e,"y")&&w.isTickLabelInside(e,"y")&&(o[(h?"start":"end")+"GroupOffset"]+=.04*_),w.isAxisRendered(e,"y2")&&w.isTickLabelInside(e,"y2")&&(o[(h?"end":"start")+"GroupOffset"]+=.04*_)}}o.leftBuffer=h?r.x-s.x:0,o.rightBuffer=h?s.w+s.x-(r.w+r.x):0,o._renderGridAtLabels=!g||l.hasTimeAxis(e),o.translations=a.translations;var p=new Ce(e.getCtx(),e.processEvent,e);i.addChild(p);var v=Se._getPreferredSize(e,p,e.xAxis,o,"x",r,s);return o._minOverflowCoord=a._minOverflowCoord-r.x,o._maxOverflowCoord=a._maxOverflowCoord-r.x,{axis:p,options:o,dim:v}},_createYAxis:(e,i,r,s,a)=>{var n=e.getOptions();if(d.hasY2DataOnly(e))return null;var o=t.JsonUtils.clone(n.yAxis,null,e.Defaults.getNoCloneObject().yAxis);o.position=w.getYAxisPos(e),o.isStandalone=w.isStandaloneYAxis(e),Se._addCommonAxisAttr(o,"y",e),Se._addCommonYAxisAttr(o,e),o.translations=n.translations;var l=new Ce(e.getCtx(),e.processEvent,e);i.addChild(l);var h=Se._getPreferredSize(e,l,e.yAxis,o,"y",r,s,a);return Se._adjustYAxisForLabels(l,o,e,"y"),n.yAxis.min=o.min,n.yAxis.max=o.max,{axis:l,options:o,dim:h}},_createY2Axis:(e,i,r,s,a)=>{var n=e.getOptions();if(d.hasY2Data(e)){var o=t.JsonUtils.clone(n.y2Axis,null,e.Defaults.getNoCloneObject().y2Axis);o.position=w.getY2AxisPos(e),o.isStandalone=w.isStandaloneY2Axis(e),Se._addCommonAxisAttr(o,"y2",e),Se._addCommonYAxisAttr(o,e),o.translations=n.translations;var l=new Ce(e.getCtx(),e.processEvent,e);i.addChild(l);var h=Se._getPreferredSize(e,l,e.y2Axis,o,"y2",r,s,a);return Se._adjustYAxisForLabels(l,o,e,"y2"),n.y2Axis.min=o.min,n.y2Axis.max=o.max,{axis:l,options:o,dim:h}}},_addCommonAxisAttr:(e,t,i)=>{var r=i.getOptions();if(e.skin=r.skin,e.tickLabel.position=w.isTickLabelInside(i,t)?"inside":"outside",e.baselineScaling=w.getBaselineScaling(i,t),(w.isTickLabelInside(i,t)||"tangential"==e.position)&&(e._skipHighestTick=!0),e.zoomAndScroll=l.isPolar(i)?"off":r.zoomAndScroll,e._isOverview=l.isOverview(i),e._duringZoomAndScroll=r._duringZoomAndScroll,"x"!=t||!l.hasGroupAxis(i)){var s=w.getMinMaxVal(i,t);e.dataMin=null!=e.dataMin?e.dataMin:s.min,e.dataMax=null!=e.dataMax?e.dataMax:s.max}l.isPolar(i)&&(e.polarGridShape=w.isGridPolygonal(i)?"polygon":"circle",e._radius=i.getRadius()),e.dnd=r.dnd},_addCommonYAxisAttr:(e,r)=>{if(e.timeAxisType="disabled",O.isLiveScroll(r)&&l.isBLAC(r)&&!l.isPolar(r)&&(e._continuousExtent="on"),e.isStandalone)e.leftBuffer=0,e.rightBuffer=0;else if(d.isSplitDualY(r))e.leftBuffer=1/0,e.rightBuffer=1/0;else{var s=t.Agent.isRightToLeft(r.getCtx());e.leftBuffer=s?0:i.BaseAxisInfo.MIN_AXIS_BUFFER,e.rightBuffer=s?i.BaseAxisInfo.MIN_AXIS_BUFFER:0}},_adjustYAxisForLabels:(e,i,r,s)=>{var a=r.getOptions();if(w.isYAdjustmentNeeded(r)){var n=t.CSSStyle.mergeStyles([a.styleDefaults._dataLabelStyle,a.styleDefaults.dataLabelStyle]),o=a.styleDefaults.stackLabelStyle,h=e.getInfo(),g=c.isStackLabelRendered(r),u=t.TextUtils.getTextStringHeight(r.getCtx(),g?o:n),_=0;if("log"==i.scale){_=e.getUnboundedValAt(e.getUnboundedCoordAt(h.getDataMax())-u)-h.getDataMax()}else{var p=1;d.isSplitDualY(r)&&(p="y"==s?c.getSplitterPos(r):1-c.getSplitterPos(r));var v=Math.abs(h.getEndCoord()-h.getStartCoord())*p;_=Math.abs(h.getViewportMax()-h.getViewportMin())/v*u}l.isHorizontal(r)?_*=4:_*=2,h.getDataMin()-h.getGlobalMin()<=_&&h.getDataMin()<0&&(i.dataMin-=_),h.getGlobalMax()-h.getDataMax()<=_&&h.getDataMax()>0&&(i.dataMax+=_)}},_getPreferredSize:(e,i,r,s,a,n,o,l)=>{var h=s.isStandalone,g=s.position,d="top"==g||"bottom"==g,u=w.getTickLabelGapSize(e,a),_=s.maxSize,p=s.size,v=n.w,m=n.h;if("radial"==g||"tangential"==g)v=0,m=0;else if("off"!=s.rendered||l)if(h)d?m=n.h-u:v=n.w-u;else if(null!=p)d?(m=c.getSizeInPixels(p,o.h)-u,null!=_&&(m=Math.min(m,c.getSizeInPixels(_,o.h)-u))):(v=c.getSizeInPixels(p,o.w)-u,null!=_&&(v=Math.min(v,c.getSizeInPixels(_,o.w)-u)));else{if(!e.getOptions()._duringZoomAndScroll||!r)return _=null==_?Se._DEFAULT_AXIS_MAX_SIZE:_,d?i.getPreferredSize(s,n.w,c.getSizeInPixels(_,o.h)-u,l):i.getPreferredSize(s,c.getSizeInPixels(_,o.w)-u,n.h,l);if(d){var f=t.Agent.isRightToLeft(e.getCtx());s._startOverflow=f?r.getRightOverflow():r.getLeftOverflow(),s._endOverflow=f?r.getLeftOverflow():r.getRightOverflow(),m=r.getHeight()}else v=r.getWidth()}else d?m=0:v=0;return w.isYAdjustmentNeeded(e)&&i.getPreferredSize(s,v,m),new t.Dimension(v,m)},_addAxisGaps:(e,t)=>{var i=l.isHorizontal(e),r=w.getYAxisPos(e),s=w.getY2AxisPos(e),a=w.isAxisRendered(e,"x"),n=w.isAxisRendered(e,"y"),o=w.isAxisRendered(e,"y2"),h=e.getOptions().layout.verticalAxisGap;h*=i?w.getGapScalingFactor(e,"x"):Math.max(w.getGapScalingFactor(e,"y"),w.getGapScalingFactor(e,"y2")),h=Math.ceil(h),(!i||"top"==r&&n||"top"==s&&o)&&i||(t.y+=h,t.h-=h),(!i||"bottom"==r&&n||"bottom"==s&&o)&&(i||a)||(t.h-=h)},_positionAxis:(e,i,r,s)=>{if(i){var a=s?Math.max(i.dim.h,1):i.dim.h,n=s?Math.max(i.dim.w,1):i.dim.w;t.LayoutUtils.position(e,i.options.position,i.axis,n,a,r)}},_alignYAxes:(e,t,i)=>{var r=t.axis.getInfo();if(r){var s=r.getMajorTickCount(),a=r.getMinorTickCount(),n=i.options,o=i.axis.getInfo();o&&w.isLog(e,"y")&&w.isLog(e,"y2")&&s<o.getMajorTickCount()&&(n._logScaleUnit=o.alignLogScaleToTickCount(o.getLogScaleUnit(),s)),n._majorTickCount=s,n._minorTickCount=a}},_getSplitAvailSpace:(e,t,i,r)=>{var s=e.clone();return i?(s.w=e.w*t,s.x=r?e.w*(1-t):0):(s.h=e.h*t,s.y=r?e.h*(1-t):0),s},_setOverflow:(e,t,i,r)=>{if(t){var s=t.axis.getLeftOverflow(),a=t.axis.getRightOverflow();e.x+=s,e.w-=s+a,i&&i.axis.setTranslateX(i.axis.getTranslateX()+("left"==i.options.position?s:-a)),r&&r.axis.setTranslateX(r.axis.getTranslateX()+("left"==r.options.position?s:-a))}},_storeAxes:(e,t,i,r)=>{e.xAxis&&(e.xAxis.destroy(),e.removeChild(e.xAxis)),e.yAxis&&(e.yAxis.destroy(),e.removeChild(e.yAxis)),e.y2Axis&&(e.y2Axis.destroy(),e.removeChild(e.y2Axis)),e.xAxis=t.axis,e.yAxis=i?i.axis:null,e.y2Axis=r?r.axis:null}},Ae={_DEFAULT_LINE_WIDTH_WITH_MARKER:2,_DEFAULT_MAX_SIZE:.3,_PIE_SIZE_RATIO:1.2,render:(e,i,s)=>{var a=e.getOptions(),n=a.legend.position;if(!("off"==a.legend.rendered||"auto"==a.legend.rendered&&e.getOptionsCache().getFromCache("hasLargeSeriesCount"))){var o=t.JsonUtils.clone(a.legend);delete o.position,o.skin=a.skin,o.hideAndShowBehavior=O.getHideAndShowBehavior(e),o.hoverBehavior=O.getHoverBehavior(e),o.hoverBehaviorDelay=c.getHoverBehaviorDelay(e),o.hiddenCategories=d.getHiddenCategories(e),o.highlightedCategories=d.getHighlightedCategories(e),o.dnd=a.dnd,o._dropColor=a._dropColor,o.translations=a.translations,o.sectionTitleStyle={...o.sectionTitleStyle,...o.titleStyle},o.sectionTitleHalign=o.titleHalign||o.sectionTitleHalign,delete o.titleStyle,delete o.titleHalign,"auto"==n&&(n=s.w>=s.h?"end":"bottom");var h="top"==n||"bottom"==n;if(o.orientation=h?"horizontal":"vertical","start"==n&&(o.halign="end"),"start"!=n&&"end"!=n||(o.valign="middle"),"top"==n&&(o.valign="bottom"),"top"!=n&&"bottom"!=n||(o.halign="center"),Ae._addLegendData(e,o),0!=o.sections.length){var g,_=new r.Legend(e.getCtx(),e.processEvent,e);if(null!=e.getId()&&_.setId(e.getId()+"legend"),i.addChild(_),null!=o.size)g=h?new t.Dimension(s.w,c.getSizeInPixels(o.size,s.h)):new t.Dimension(c.getSizeInPixels(o.size,s.w),s.h);else{var p=o.maxSize;if(null==p&&(p=Ae._DEFAULT_MAX_SIZE,l.isPie(e))){var v=1-Ae._PIE_SIZE_RATIO*(h?s.w/s.h:s.h/s.w);p=Math.max(p,v)}var m=h?s.w:c.getSizeInPixels(p,s.w),f=h?c.getSizeInPixels(p,s.h):s.h;g=_.getPreferredSize(o,m,f)}_.render(o,g.w,g.h);var x=h?u.getGapHeight(e,a.layout.legendGapHeight):u.getGapWidth(e,a.layout.legendGapWidth);t.LayoutUtils.position(s,n,_,g.w,g.h,x);var C=Object.keys(o.dnd.drag.series).length>0,S=_.getCache().getFromCache("background");C&&S&&S.setClassName("oj-draggable");var A=_.__getBounds(),b=_.localToStage(new t.Point(A.x,A.y));if(!l.isOverview(e)){var y=t.Agent.isRightToLeft(e.getCtx());"end"==n?y?a._minOverflowCoord=b.x+A.w+x/2:a._maxOverflowCoord=b.x-x/2:"start"==n&&(y?a._maxOverflowCoord=b.x-x/2:a._minOverflowCoord=b.x+A.w+x/2)}e.legend&&(e.legend.destroy(),i.removeChild(e.legend)),e.legend=_,Ae.isLegendInteractive(e)||e.legend.setAriaProperty("hidden","true",!0)}}},_addLegendData:(e,t)=>{var i=Ae._getSeriesItems(e,"vertical"==t.orientation);if(i.length>0){var r=t.seriesSection;r.items=i,t.sections.unshift(r),delete t.seriesSection}var s=Ae._getRefObjItems(e);if(s.length>0){var a=t.referenceObjectSection;a.items=s,t.sections.push(a),delete t.referenceObjectSection}},_getSeriesItems:(e,t)=>{var i,r,s=[];if("pie"==e.getType()||"pyramid"==e.getType()||"funnel"==e.getType()){var a=_.getRenderedSeriesIndices(e);"pyramid"==e.getType()&&t&&a.reverse();for(var n=0;n<a.length;n++){r=a[n];var o=d.getVal(e,r,0);o>=0&&null!=o&&(i=Ae._createLegendItem(e,r))&&s.push(i)}_.hasOtherSeries(e)&&(i={id:_.OTHER_ID,drilling:e.getOptions().multiSeriesDrilling,text:e.getOptions().translations.labelOther,categoryVisibility:d.getHiddenCategories(e).indexOf(_.OTHER_ID)>=0?"hidden":"visible",symbolType:"marker",color:e.getOptions().styleDefaults.otherColor,borderColor:e.getOptions().styleDefaults.borderColor},s.push(i))}else{var h={},g={},u=d.getSeriesCount(e);for(r=0;r<u;r++)if(i=Ae._createLegendItem(e,r)){var c=d.getStackCategory(e,r);d.isAssignedToY2(e,r)?g[c]?g[c].push(i):g[c]=[i]:h[c]?h[c].push(i):h[c]=[i]}var p=d.getStackCategories(e,null,!0),v=d.isStacked(e)&&l.isVertical(e)&&t;s=Ae._getSeriesItemsForAxis(h,p.y,v,s),s=Ae._getSeriesItemsForAxis(g,p.y2,v,s)}return s},_getSeriesItemsForAxis:(e,t,i,r)=>{for(var s,a=0;a<t.length;a++)(s=e[t[a]])&&(r=i?r.concat(s.reverse()):r.concat(s));return r},_createLegendItem:(e,t)=>{var i=d.getSeriesItem(e,t),r=e.getType(),s=d.getSeriesType(e,t),a=c.getLineType(e,t),n=i.displayInLegend;if(!i||"off"==n)return null;if("on"!=n&&(l.isFunnel(e)||l.isPyramid(e)||l.isStock(e)))return null;if("on"!=n&&!d.hasSeriesData(e,t))return null;var o=d.getSeriesLabel(e,t);if("on"!=n&&(null==o||"string"==typeof o&&0===o.trim().length))return null;var h={id:d.getSeries(e,t),text:o,categories:d.getCategories(e,t),categoryVisibility:d.isSeriesRendered(e,t)?"visible":"hidden",_getDataContext:c.getDataContext.bind(null,e,t,-1)};if("line"==s||"lineWithArea"==s||"scatter"==r||"bubble"==r)if(h.lineStyle=c.getLineStyle(e,t),h.lineWidth=c.getLineWidth(e,t),c.isMarkerDisplayed(e,t)){var g=c.getImageSource(e,t,null,null,"source");g?(h.symbolType="image",h.source=g):(h.symbolType="none"==a?"marker":"lineWithMarker","lineWithMarker"==h.symbolType&&(h.lineWidth=Math.min(Ae._DEFAULT_LINE_WIDTH_WITH_MARKER,h.lineWidth)),h.markerShape=c.getMarkerShape(e,t),h.markerColor=c.getMarkerColor(e,t))}else h.symbolType="line";else if("boxPlot"==s){var u=c.getBoxPlotStyleOptions(e,t);u.q2Color!=u.q3Color?(h.symbolType=l.isHorizontal(e)?"_horizontalBoxPlot":"_verticalBoxPlot",h._boxPlot=u):h.symbolType="marker"}else h.symbolType="marker","none"==c.getLineType(e,t)&&(h.markerShape=c.getMarkerShape(e,t));return h.color=c.getColor(e,t),h.borderColor=c.getBorderColor(e,t),h.pattern=c.getPattern(e,t),h.svgStyle="area"==s?c.getAreaStyle(e,t):c.getStyle(e,t),h.svgClassName="area"==s?c.getAreaClassName(e,t):c.getClassName(e,t),h.markerSvgStyle=c.getMarkerStyle(e,t),h.markerSvgClassName=c.getMarkerClassName(e,t),h.drilling=d.isSeriesDrillable(e,t)?"on":"off",h.shortDesc=i.shortDesc,h},_getRefObjItems:e=>{var t=d.getRefObjs(e);if(t.length<=0)return[];for(var i=[],r=0;r<t.length;r++){var s=t[r];if(s&&"on"==s.displayInLegend&&s.text){var a=v.getType(s);i.push({symbolType:"area"==a?"square":"line",text:s.text,color:v.getColor(e,s),lineStyle:s.lineStyle,lineWidth:v.getLineWidth(e,s),categories:v.getRefObjCategories(s),categoryVisibility:v.isObjRendered(e,s)?"visible":"hidden",shortDesc:s.shortDesc,svgStyle:s.style||s.svgStyle,svgClassName:s.className||s.svgClassName})}}return i},isLegendDrillable:function(e){var t=e.getOptions();return!!("on"===t.drilling||"seriesOnly"===t.drilling||l.isPie(e)&&"on"===t.multiSeriesDrilling)||e.getOptionsCache().getFromCache("hasDrillableSeries")},isLegendInteractive:function(e){return"none"!==O.getHideAndShowBehavior(e)||Ae.isLegendDrillable(e)}};class be extends s.Overview{constructor(e){super(e.getCtx(),e.processEvent,e),this._parentChart=e,this._chart=e.overview?e.overview.getBackgroundChart():null,this._id=e.getId()+"_overview"}_renderChart(e,i,r){var s=this._parentChart.Defaults.getNoCloneObject();this._chartContainer=new t.Container(this.getCtx()),this.addChild(this._chartContainer);e=t.JsonUtils.merge({legend:{rendered:"off",size:null},xAxis:{viewportMin:null,viewportMax:null,viewportStartGroup:null,viewportEndGroup:null,axisLine:{rendered:"off"},size:null,maxSize:.5,title:null},yAxis:{rendered:"off",size:null},y2Axis:{rendered:"off",size:null},splitDualY:"off",title:{text:null},subtitle:{text:null},footnote:{text:null},titleSeparator:{rendered:"off"},styleDefaults:{animationIndicators:"none"},layout:{outerGapWidth:0,outerGapHeight:0},_isOverview:!0},e,s),l.hasGroupAxis(this._parentChart)&&(e.xAxis.tickLabel.rendered="off"),l.isStock(this._parentChart)&&e.series&&e.series[0]&&(e.series=[e.series[0]],e.series[0].type="lineWithArea");var a=this._parentChart.getOptions().overview.content,n=(e=t.JsonUtils.merge(a,e,s)).yAxis.rendered,o=e.y2Axis.rendered;e.zoomAndScroll="off",this._chart||(this._chart=this._parentChart.createOverviewChart(),this._chart.setId(this._id));var h=i,g=this._parentChart.getWidth(),u=this._parentChart.__getPlotAreaSpace(),_=d.hasY2Data(this._parentChart),c=d.hasY2DataOnly(this._parentChart),p=(n="on"===e.yAxis.rendered&&!c,o="on"===e.y2Axis.rendered&&_,u.x),v=g-(p+i);n&&(h=p+i,e.yAxis.size=p),o&&(h=(n?p:0)+v+i,e.y2Axis.size=v),this._chartContainer.addChild(this._chart),this._chart.render(e,h,r);var m=new t.Rect(this.getCtx(),0,0,h,r);m.setInvisibleFill(),this._chartContainer.addChild(m),this._chart.getEventManager().setKeyboardHandler(null);var f=this._chart.__getPlotAreaSpace();if(n){var x=this._chartContainer.getTranslateX()-f.x;this._chartContainer.setTranslateX(x)}return new t.Dimension(i,f.h+f.y)}render(e,t,i){e.overview.style={overviewBackgroundColor:"rgba(0,0,0,0)",windowBackgroundColor:"rgba(0,0,0,0)",windowBorderTopColor:"#333333",windowBorderRightColor:"#333333",windowBorderBottomColor:"#333333",windowBorderLeftColor:"#333333",leftFilterPanelColor:"rgba(5,65,135,0.1)",rightFilterPanelColor:"rgba(5,65,135,0.1)",handleBackgroundClass:e.chart._resources.overviewGrippy,handleSize:16,handleFillColor:"rgba(0,0,0,0)"},e.overview.animationOnClick="off";var r=this._renderChart(e.chart,t,i);super.render(e.overview,r.w,r.h)}destroy(){super.destroy(),this._parentChart=null,this._chart=null}getBackgroundChart(){return this._chart}isBackgroundRendered(){return!1}isLeftAndRightFilterRendered(){return!0}HandleKeyDown(e){}HandleKeyUp(e){}}class ye extends t.Container{constructor(e,i,r,s){super(e.getCtx()),this._THREED_TILT=j.THREED_TILT,this._THREED_DEPTH=.1,this._RADIUS=.45,this._RADIUS_LABELS=.38,this._MIN_ARC_LENGTH=1.5,this.chart=e,this._options=e.getOptions(),this._frame=i.clone(),e.pieChart=this,this.otherSlice=null;for(var a=this.getLabelPos(),n=d.getSeriesCount(e),o=0;o<n;o++){var l=d.getDataItem(e,o,0);!l||"center"!=a&&"none"!=a||"outsideSlice"!=l.labelPosition||(a="outsideSlice")}this._center=new t.Point(i.x+Math.floor(i.w/2),i.y+Math.floor(i.h/2));var h="center"==a||"none"==a?this._RADIUS:this._RADIUS_LABELS;this._radiusX=Math.floor(Math.min(i.w,i.h)*h),this._radiusY=this._radiusX,this._depth=0,this._anchorOffset=90,this.is3D()&&(this._depth=i.h*this._THREED_DEPTH,this._center.y-=Math.floor(this._depth/2),this._radiusY*=this._THREED_TILT),this._slices=this._createSlices(),this._centerLabel=null,this._shapesContainer=new t.Container(this.getCtx()),this._numFrontObjs=0,this._numSelectedObjsInFront=0}getOptions(){return this._options}highlight(e){t.CategoryRolloverHandler.highlight(e,this._slices,"any"==this.getOptions().highlightMatch)}_createSlices(){for(var e,i,r=[],s=_.getRenderedSeriesIndices(this.chart),a=_.getOtherVal(this.chart),n=0;n<s.length;n++)if(i=s[n],d.isDataItemRendered(this.chart,i)){var o=(e=new j(this,i)).getVal();null==o||o<=0||r.push(e)}var l=d.getHiddenCategories(this.chart).indexOf(_.OTHER_ID)>=0;if(a>0&&!l){var h=new j(this);"ascending"==this.chart.getOptions().sorting?r.unshift(h):r.push(h),this.otherSlice=h}return t.Agent.isRightToLeft(this.getCtx())&&r.reverse(),r}setInitialSelection(){var e=this.chart.getSelectionHandler();if(e){for(var t=d.getInitialSelection(this.chart),i=[],r=0;r<t.length;r++)for(var s=0;s<this._slices.length;s++){var a=this._slices[s].getId();null!=a&&(null!=t[r].id&&a.id==t[r].id||a.series==t[r].series&&a.group==t[r].group)&&i.push(a)}if(_.isOtherSliceSelected(this.chart,t)){var n=_.getOtherSliceId(this.chart);i.push(n)}e.processInitialSelections(i,this._slices)}}render(){F.addPlotAreaDnDBackground(this.chart,this,this._frame,!0),this.contains(this._shapesContainer)||(this._shapesContainer||(this._shapesContainer=new t.Container(this.getCtx())),this.addChild(this._shapesContainer)),ye._layoutSlices(this._slices,this._anchorOffset);for(var e=2*Math.PI*this.getRadiusX(),i=0,r={},s=this.chart.getOptionsCache().getFromCache("hasLargeSeriesCount"),a=0;a<this._slices.length;a++){if(s){var n=this._slices[a].getAngleExtent(),o=n/360*e,l=(this._slices[a].getAngleStart()+n)/360*e;if(o<this._MIN_ARC_LENGTH&&Math.abs(i-l)<this._MIN_ARC_LENGTH){r[this._slices[a].getSeriesIndex()]=!0;continue}i=l}this._slices[a].preRender()}var h=ye._orderSlicesForRendering(this._slices);this._duringDisplayAnim||(W.createPieCenter(this),W.layoutLabelsAndFeelers(this));for(a=0;a<h.length;a++)r[h[a].getSeriesIndex()]||h[a].render(this._duringDisplayAnim);this.setInitialSelection(),this.highlight(d.getHighlightedCategories(this.chart))}getTotalValue(){for(var e=0,t=0;t<this._slices.length;t++){var i=this._slices[t].getVal();i>=0&&(e+=i)}return e}static _layoutSlices(e,t){var i,r,s=0,a=e?e.length:0;t>360&&(t-=360),t<0&&(t+=360);var n=0;a>0&&(n=e[0].getPieChart().getTotalValue());for(var o=0;o<a;o++){var l=(i=e[o]).getVal();(r=t-(s=3.6*(l==n?100:0==n?0:Math.min(l/n*100,99.99))))<0&&(r+=360),i.setAngleStart(r),i.setAngleExtent(s),t=i.getAngleStart()}}static _orderSlicesForRendering(e){for(var t,i,r,s,a=[],n=e?e.length:0,o=-1,l=0;l<n;l++)if((r=(i=(t=e[l]).getAngleStart())+t.getAngleExtent())>360&&(r-=360),r<0&&(r+=360),90==r||i<90&&r>90){o=l,s=r-90;break}var h=[];for(l=o;l<n;l++)h.push(e[l]);for(l=0;l<o;l++)h.push(e[l]);var g=0,d=0,u=180+s;for(l=0;l<n;l++)if(t=h[l]){if(g+t.getAngleExtent()>u){d=l;break}a.push(t),g+=t.getAngleExtent()}for(l=n-1;l>=d;l--)(t=h[l])&&a.push(t);return a}is3D(){return"on"==this._options.styleDefaults.threeDEffect}__calcMaxExplodeDistance(){var e=.5/this._RADIUS-1;return this._radiusX*e}getAnimDuration(){return c.getAnimDur(this.chart)}getDisplayAnim(){this._duringDisplayAnim=!0;var e=new t.DataAnimationHandler(this.getCtx(),this),i=this.getAnimDuration(),r=j.createFillerSlice(this,this.getTotalValue());this._slices.push(r);var s=new t.CustomAnimation(this.getCtx(),r,i);s.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,r,r.GetAnimParams,r.SetAnimParams,r.getDeletedAnimParams()),s.setOnEnd(r._removeDeletedSlice,r),e.add(s,0);for(var a=0;a<this._slices.length-1;a++)this._slices[a].animateInsert(e);var n=new t.CustomAnimation(this.getCtx(),this,i);n.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this._getAnimParams,this._setAnimParams,this._getAnimParams()),e.add(n,0);var o=[];for(a=0;a<this._slices.length;a++)o=o.concat(this._slices[a].getLabelAndFeeler());var l=new t.AnimFadeIn(this._context,o,i);e.add(l,0),this._setAnimParams();var h=e.getAnimation(!0);return h.setOnEnd(this._onEnd,this),h}_onEnd(){this._duringDisplayAnim=!1,this._setAnimParams()}getCenter(){return this._center}getId(){return"chart/pie"}getInnerRadius(){return this.is3D()?0:this._options.styleDefaults.pieInnerRadius*Math.min(this._radiusX,this._radiusY)*.95}__getFrame(){return this._frame}getRadiusX(){return this._radiusX}getRadiusY(){return this._radiusY}getDepth(){return this._depth}getSliceDisplayable(e){var t=_.getSliceBySeriesIdx(this.chart,e);return t?t.getTopDisplayable():null}__getShapesContainer(){return this._shapesContainer}__getSlices(){return this._slices}animateUpdate(e,i){var r=new t.DataAnimationHandler(this.getCtx(),this);r.constructAnimation(i.__getSlices(),this.__getSlices());var s=r.getAnimation(!0),a=new t.CustomAnimation(this.getCtx(),this,this.getAnimDuration());a.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this._getAnimParams,this._setAnimParams,this._getAnimParams());var n=new t.ParallelPlayable(this.getCtx(),s,a);n.setOnEnd(this._setAnimParams,this),e.add(n,0),this._setAnimParams([i.getDepth(),i.getRadiusY(),i.getCenter().y])}animateInsert(e){}animateDelete(e,t){}_getAnimParams(){return[this._depth,this._radiusY,this._center.y]}_setAnimParams(e){this.removeChildren(),this._shapesContainer&&this._shapesContainer.destroy(),this._shapesContainer=null,e&&(this._depth=e[0],this._radiusY=e[1],this._center.y=e[2]),this.render()}bringToFrontOfSelection(e){var t=e.getPieChart()._shapesContainer;if(t){var i=t.getNumChildren();if(i-this._numFrontObjs>1){t.removeChild(e._topSurface[0]);var r=i-this._numFrontObjs-1;t.addChildAt(e._topSurface[0],r)}}}pushToBackOfSelection(e){for(var t=this._slices.length,i=0,r=0;r<t;r++)this._slices[r].isSelected()&&i++;this._numSelectedObjsInFront=i;var s=e.getPieChart()._shapesContainer;if(s){var a=s.getNumChildren()-this._numFrontObjs-1-this._numSelectedObjsInFront;a>=0&&(s.removeChild(e._topSurface[0]),s.addChildAt(e._topSurface[0],a))}}getLabelPos(){return ye.parseLabelPos(this._options.styleDefaults.dataLabelPosition)}getSeriesLabelPos(e){var t=this.getLabelPos(),i=d.getDataItem(this.chart,e,0);return i&&i.labelPosition&&(t=i.labelPosition),ye.parseLabelPos(t)}static parseLabelPos(e){return"center"==e||"inside"==e?"center":"outsideSlice"==e||"outside"==e?"outsideSlice":"none"==e?"none":"auto"}getSkin(){return this._options.skin}setCenterLabel(e){this._centerLabel=e}getCenterLabel(){return this._centerLabel}}const Me={_BUTTON_SIZE:16,_BUTTON_PADDING:5,_BUTTON_CORNER_DIST:4,_MOUSE_WHEEL_ZOOM_RATE_SLOW:.05,_MOUSE_WHEEL_ZOOM_RATE_FAST:.2,render:(e,t,i)=>{if(Me._renderBackground(e,t,i),d.hasInvalidData(e))L(e,t,i);else{l.isOverview(e)||(e.getOptions()._maxOverflowCoord=i.x+i.w,e.getOptions()._minOverflowCoord=i.x),Me._addOuterGaps(e,i);var r=i.clone();Me._renderTitles(e,t,i),Me._adjustAvailSpace(i),Ae.render(e,t,i),Me._adjustAvailSpace(i);var s=Me._prerenderHorizScrollbar(e,t,i),a=Me._prerenderVertScrollbar(e,t,i);Me._adjustAvailSpace(i),e.__setAxisSpace(i.clone()),Se.render(e,t,i),Me._adjustAvailSpace(i),Me._positionLegend(e.legend,i),e.__setPlotAreaSpace(i.clone()),Me._setEventHandlers(e),Me._renderScrollbars(e,s,a),Me._updateTitles(e,t,r,i),Me._renderPlotArea(e,t,i),Me._renderDragButtons(e)}},_setEventHandlers:e=>{var i=e.getOptions(),r=e.getEventManager();if(l.hasAxes(e)&&!l.isOverview(e)){var s,a,n=new t.Rectangle(0,0,e.getWidth(),e.getHeight()),o=e.__getPlotAreaSpace(),h=e.__getAxisSpace(),g=new t.Rectangle(o.x,h.y,o.w,h.h),d=new t.Rectangle(h.x,o.y,h.w,o.h),u=new t.SolidFill(i.styleDefaults.marqueeColor),_=new t.Stroke(i.styleDefaults.marqueeBorderColor);if(O.isScrollable(e)){var c=O.isDelayedScroll(e)?Me._MOUSE_WHEEL_ZOOM_RATE_FAST:Me._MOUSE_WHEEL_ZOOM_RATE_SLOW;if(a=new t.PanZoomHandler(e,o,n,c),r.setPanZoomHandler(a),O.isZoomable(e)){var p=O.getZoomDir(e);s=l.isHorizontal(e)||"y"==p?new t.MarqueeHandler(e,o,n,u,_,!1,!0,null,d):l.isBLAC(e)||"x"==p?new t.MarqueeHandler(e,o,n,u,_,!0,!1,g,null):new t.MarqueeHandler(e,o,n,u,_,!0,!0,g,d),r.setMarqueeZoomHandler(s)}}"multiple"==i.selectionMode&&(s=new t.MarqueeHandler(e,o,n,u,_,!0,!0,g,d),r.setMarqueeSelectHandler(s))}},rerenderAxisAndPlotArea:(e,t)=>{if(!d.hasInvalidData(e)){var i=e.__getAxisSpace().clone(),r=e.getSelectionHandler();if(r)var s=r.getSelectedIds();var a=e.__cacheChartFocus();e.__cleanUpAxisAndPlotArea(),Se.render(e,t,i),Me._adjustAvailSpace(i),e.__setPlotAreaSpace(i.clone()),Me._renderPlotArea(e,t,i),r&&r.processInitialSelections(s,e.getChartObjPeers()),e.getEventManager().autoToggleZoomButton(),Me.positionDragButtons(e),e.highlight(d.getHighlightedCategories(e)),e.__restoreChartFocus(a)}},_renderBackground:(e,i,r)=>{var s=new t.Rect(e.getCtx(),r.x,r.y,r.w,r.h);s.setInvisibleFill(),i.addChild(s)},_addOuterGaps:(e,t)=>{var i=e.getOptions(),r=u.getGapWidth(e,i.layout.outerGapWidth),s=u.getGapHeight(e,i.layout.outerGapHeight);Me._needsOuterGaps(e)||(r=Math.min(r,1),s=Math.min(s,1)),t.x+=r,t.w-=2*r,t.y+=s,t.h-=2*s},_needsOuterGaps:e=>{var t=e.getOptions();return!(!l.isFunnel(e)||"on"!==t.styleDefaults.threeDEffect)||!(w.isStandalonePlotArea(e)||w.isStandaloneXAxis(e)||w.isStandaloneYAxis(e)||w.isStandaloneY2Axis(e))},_renderTitles:(e,i,r)=>{var s=e.getOptions();if(s.title.text){var a,n,o=E(e.getEventManager(),i,s.title.text,s.title.style,r.x,r.y,r.w,r.h),l=null!=s.title.hAlign?s.title.hAlign:s.title.halign,h="plotArea"==l.substring(0,8);if(o?(a=(n=o.getDimensions()).h,o.setAriaProperty("hidden",null)):(a=0,n=new t.Rectangle(0,0,0,0)),s.subtitle.text){var g=new t.OutputText(e.getCtx(),s.subtitle.text,r.x,r.y);g.setCSSStyle(s.subtitle.style),i.addChild(g);var d=g.getDimensions(),_=u.getGapWidth(e,s.layout.titleSubtitleGapWidth),c=n.w+_+d.w;if(c>r.w||h)_=u.getGapHeight(e,s.layout.titleSubtitleGapHeight),g.setY(r.y+a+_),t.TextUtils.fitText(g,r.w,r.h,i)&&(a+=(d=g.getDimensions()).h+_,t.Agent.isRightToLeft(e.getCtx())&&(g&&g.setX(r.w-d.w),o&&o.setX(r.w-n.w)));else{var p=n.h-d.h;g.setY(p+r.y),o&&(t.LayoutUtils.align(r,l,o,c),t.Agent.isRightToLeft(e.getCtx())?(g.setX(o.getX()),o.setX(o.getX()+d.w+_)):g.setX(o.getX()+c-d.w)),g.setAriaProperty("hidden",null),e.getEventManager().associate(g,new t.SimpleObjPeer(g.getUntruncatedTextString()))}}else t.LayoutUtils.align(r,l,o,n.w);h&&(e.getCache().putToCache("title",o),e.getCache().putToCache("subtitle",g));var v="on"==s.titleSeparator.rendered?s.layout.titleSeparatorGap:s.layout.titlePlotAreaGap;if(r.y+=a+u.getGapHeight(e,v),r.h-=a+u.getGapHeight(e,v),"on"==s.titleSeparator.rendered){var m=new t.Line(e.getCtx(),r.x,r.y,r.x+r.w,r.y),f=new t.Line(e.getCtx(),r.x,r.y+1,r.x+r.w,r.y+1);m.setSolidStroke(s.titleSeparator.upperColor),f.setSolidStroke(s.titleSeparator.lowerColor),i.addChild(m),i.addChild(f);var x=2+u.getGapHeight(e,s.layout.titlePlotAreaGap);r.y+=x,r.h-=x}}if(s.footnote.text){var C=E(e.getEventManager(),i,s.footnote.text,s.footnote.style,r.x,0,r.w,r.h),S=null!=s.footnote.hAlign?s.footnote.hAlign:s.footnote.halign,A="plotArea"==S.substring(0,8);if(C){var b=C.getDimensions();C.setY(r.y+r.h-b.h),r.h-=b.h+u.getGapHeight(e,s.layout.footnoteGap),t.LayoutUtils.align(r,S,C,b.w),C.setAriaProperty("hidden",null)}A&&e.getCache().putToCache("footnote",C)}},_updateTitles:(e,t,i,r)=>{var s=e.getOptions(),a=null!=s.title.hAlign?s.title.hAlign:s.title.halign,n=null!=s.footnote.hAlign?s.footnote.hAlign:s.footnote.halign,o=s.title.text&&"plotArea"==a.substring(0,8),l=s.footnote.text&&"plotArea"==n.substring(0,8);if(i.x=r.x,i.w=r.w,o){var h,g=e.getCache().getFromCache("title"),d=e.getCache().getFromCache("subtitle"),u=g.getDimensions();Me._alignTextToPlotArea(t,i,a,g,u.w),d&&(h=d.getDimensions(),Me._alignTextToPlotArea(t,i,a,d,h.w))}if(l){var _=e.getCache().getFromCache("footnote"),c=_.getDimensions();Me._alignTextToPlotArea(t,i,n,_,c.w)}},_alignTextToPlotArea:(e,i,r,s,a)=>{t.TextUtils.fitText(s,i.w,i.h,e)&&("plotAreaStart"==r?t.LayoutUtils.align(i,"start",s,a):"plotAreaCenter"==r?t.LayoutUtils.align(i,"center",s,a):"plotAreaEnd"==r&&t.LayoutUtils.align(i,"end",s,a))},_renderPlotArea:(e,i,r)=>{if(l.hasAxes(e)){var s=new t.Container(e.getCtx());s.setTranslate(r.x,r.y),i.addChildAt(s,1),e.setPlotArea(s),e.getEventManager().associate(s,new t.SimpleObjPeer(null,null,null,{type:"plotArea"}));var a=new t.Rectangle(0,0,r.w,r.h);fe.render(e,s,a)}else if(l.isPie(e)){var n=new ye(e,r);n.__getSlices().length>0?(i.addChild(n),e.setPlotArea(n),n.render()):L(e,i,r)}else l.isFunnel(e)?N.render(e,i,r):l.isPyramid(e)&&H.render(e,i,r);r.w=0,r.h=0},_prerenderHorizScrollbar:(e,i,r)=>{var s=r.w,a=0;return O.isScrollable(e)&&O.isHorizScrollbarSupported(e)?c.isOverviewRendered(e)?(a=Math.min(c.getOverviewHeight(e),r.h))>0&&(e.overview=new be(e),i.addChild(e.overview),t.LayoutUtils.position(r,"bottom",e.overview,s,a,10)):(a=e.getOptions().styleDefaults._scrollbarHeight,e.xScrollbar=new t.SimpleScrollbar(e.getCtx(),e.processEvent,e),i.addChild(e.xScrollbar),t.LayoutUtils.position(r,"bottom",e.xScrollbar,s,a,8),e.overview=null):e.overview=null,new t.Dimension(s,a)},_prerenderVertScrollbar:(e,i,r)=>{var s=0,a=r.h;if(O.isScrollable(e)&&O.isVertScrollbarSupported(e)){s=e.getOptions().styleDefaults._scrollbarHeight;var n=new t.SimpleScrollbar(e.getCtx(),e.processEvent,e);i.addChild(n),t.LayoutUtils.position(r,t.Agent.isRightToLeft(e.getCtx())?"right":"left",n,s,a,8),l.isHorizontal(e)?e.xScrollbar=n:e.yScrollbar=n}return new t.Dimension(s,a)},_renderScrollbars:(e,i,r)=>{var s=e.getOptions(),a={color:s.styleDefaults._scrollbarHandleColor,backgroundColor:s.styleDefaults._scrollbarTrackColor},n=e.__getPlotAreaSpace();if(e.xScrollbar&&(a.min=e.xAxis.getLinearGlobalMin(),a.max=e.xAxis.getLinearGlobalMax(),l.isHorizontal(e)?(a.isHorizontal=!1,a.isReversed=!1,e.xScrollbar.setTranslateY(n.y),e.xScrollbar.render(a,r.w,n.h)):(a.isHorizontal=!0,a.isReversed=t.Agent.isRightToLeft(e.getCtx()),e.xScrollbar.setTranslateX(n.x),e.xScrollbar.render(a,n.w,i.h)),e.xScrollbar.setViewportRange(e.xAxis.getLinearViewportMin(),e.xAxis.getLinearViewportMax())),e.yScrollbar&&(a.min=e.yAxis.getLinearGlobalMin(),a.max=e.yAxis.getLinearGlobalMax(),a.isHorizontal=!1,a.isReversed=!0,e.yScrollbar.setTranslateY(n.y),e.yScrollbar.render(a,r.w,n.h),e.yScrollbar.setViewportRange(e.yAxis.getLinearViewportMin(),e.yAxis.getLinearViewportMax())),e.overview){var o=e.Defaults.getNoCloneObject(),h={overview:{xMin:e.xAxis.getLinearGlobalMin(),xMax:e.xAxis.getLinearGlobalMax(),x1:e.xAxis.getLinearViewportMin(),x2:e.xAxis.getLinearViewportMax(),minimumWindowSize:e.xAxis.getInfo().getMinExtent()},chart:t.JsonUtils.clone(s,null,o)};O.isZoomable(e)||(h.featuresOff="zoom"),h.chart._minOverflowCoord=s._minOverflowCoord-n.x,h.chart._maxOverflowCoord=s._maxOverflowCoord-n.x,e.overview.setTranslateX(n.x),e.overview.render(h,n.w,i.h),e.overview.setViewportRange(e.xAxis.getLinearViewportMin(),e.xAxis.getLinearViewportMax())}},_positionLegend:(e,t)=>{if(e){var i=e.getDimensions(),r=e.getOptions().orientation;"vertical"==r&&i.h<=t.h?e.setTranslateY(Math.round(t.y+t.h/2-i.h/2)):"horizontal"==r&&i.w<=t.w&&e.setTranslateX(Math.round(t.x+t.w/2-i.w/2))}},_renderDragButtons:e=>{var i=Me._BUTTON_SIZE+2*(Me._BUTTON_PADDING+Me._BUTTON_CORNER_DIST),r=e.__getPlotAreaSpace();if(!(!l.hasAxes(e)||l.isOverview(e)||r.w<i||r.h<i)){var s=e.getOptions(),a=s._resources,n=s.translations,o=e.getEventManager(),h=s.dragMode;if("user"==h){var g,d,u,_=t.Agent.isTouchDevice(),c=O.isScrollable(e);e.dragButtons=new t.Container(e.getCtx());var p=[],v="multiple"==s.selectionMode&&(_||c),m=c&&_,f=c&&!_&&O.isZoomable(e)&&l.isScatterBubble(e);v&&a.select&&p.push(a.select),m&&a.pan&&p.push(a.pan),f&&a.zoom&&p.push(a.zoom),u=t.ToolkitUtils.getIconStyles(e.getCtx(),p),v&&(d=m||f?"end":"solo",o.selectButton=Me._createDragButton(e,e.dragButtons,u[a.select],o.onSelectButtonClick,o,d),g=n.tooltipSelect,o.selectButton.setTooltip(g),o.associate(o.selectButton,o.selectButton)),m&&(d=v?"start":"solo",o.panButton=Me._createDragButton(e,e.dragButtons,u[a.pan],o.onPanButtonClick,o,d),g=n.tooltipPan,o.panButton.setTooltip(g),o.associate(o.panButton,o.panButton)),f&&(d=v?"start":"solo",o.zoomButton=Me._createDragButton(e,e.dragButtons,u[a.zoom],o.onZoomButtonClick,o,d),g=n.tooltipZoom,o.zoomButton.setTooltip(g),o.associate(o.zoomButton,o.zoomButton)),Me.positionDragButtons(e),o.setDragMode(null),e.dragButtons.getNumChildren()>0&&(e.addChild(e.dragButtons),_?c&&(o.panButton.setToggled(!0),o.onPanButtonClick(null)):e.hideDragButtons(),e.dragButtons.setCursor("default"))}else"pan"==h?o.setDragMode(X.DRAG_MODE_PAN):"zoom"==h?o.setDragMode(X.DRAG_MODE_ZOOM):"select"==h?o.setDragMode(X.DRAG_MODE_SELECT):o.setDragMode(X.DRAG_MODE_OFF)}},_positionDragButton:(e,i,r)=>{var s;t.Agent.isRightToLeft(e.getCtx())?(s=r.x+Me._BUTTON_PADDING,r.x+=Me._BUTTON_SIZE+2*Me._BUTTON_PADDING):s=r.x+r.w-Me._BUTTON_SIZE-Me._BUTTON_PADDING,r.w-=Me._BUTTON_SIZE+2*Me._BUTTON_PADDING,i.setTranslate(s,r.y+Me._BUTTON_PADDING)},positionDragButtons:e=>{var t=e.__getPlotAreaSpace().clone();t.x+=Me._BUTTON_CORNER_DIST,t.w-=2*Me._BUTTON_CORNER_DIST,t.y+=Me._BUTTON_CORNER_DIST;var i=e.getEventManager();i.selectButton&&Me._positionDragButton(e,i.selectButton,t),i.panButton&&Me._positionDragButton(e,i.panButton,t),i.zoomButton&&Me._positionDragButton(e,i.zoomButton,t)},_createDragButtonBackground:(e,i)=>{var r=t.Agent.isRightToLeft(e),s="start"==i&&r||"end"==i&&!r?0:2,a="start"==i&&!r||"end"==i&&r?0:2,n=s,o=a,l=-Me._BUTTON_PADDING,h=Me._BUTTON_SIZE+2*Me._BUTTON_PADDING,g=t.PathUtils.roundedRectangle(l,l,h,h,n,a,o,s),d=new t.Path(e,g);return d.setPixelHinting(t.Agent.getDevicePixelRatio()>1),d},_getImageUrl:(e,t,i,r)=>{var s,a=e.getOptions()._resources[i];return null==a?r:null!=(s=t[a])?s:a},_createDragButton:(e,i,r,s,a,n)=>{var o=e.getCtx(),l=Me._createDragButtonBackground(o,n),h=new t.IconButton(o,"outlined",{style:r,size:Me._BUTTON_SIZE},l,null,s,a);if(t.Agent.isTouchDevice()){var g,d=t.Agent.isRightToLeft(o),u=2*Me._BUTTON_PADDING;(g="solo"==n?new t.Rect(o,-u,-u,Me._BUTTON_SIZE+2*u,Me._BUTTON_SIZE+2*u):"start"==n&&!d||"end"==n&&d?new t.Rect(o,-u,-u,Me._BUTTON_SIZE+1.5*u,Me._BUTTON_SIZE+2*u):new t.Rect(o,-.5*u,-u,Me._BUTTON_SIZE+1.5*u,Me._BUTTON_SIZE+2*u)).setInvisibleFill(),g.setSolidStroke("none"),h.addChild(g)}return h.setToggleEnabled(!0),i.addChild(h),h.addEvtListener(t.MouseEvent.MOUSEDOWN,e=>{e.stopPropagation()}),h},_adjustAvailSpace:e=>{e.x=Math.round(e.x),e.y=Math.round(e.y),e.w=Math.round(e.w),e.h=Math.round(e.h)},renderDataCursor:e=>{var t=null,i=e.getOptions(),r=e.getEventManager();if(m.isDataCursorEnabled(e)){(t=new p(e.getCtx(),i.styleDefaults.dataCursor,l.isHorizontal(e))).setBehavior(m.getDataCursorBehavior(e)),e.addChild(t);var s=new xe(e,t);r.setDataCursorHandler(s),e.positionDataCursor(i.dataCursorPosition)}else r.setDataCursorHandler(null);return t}},Te={processDataObj:e=>{if(d.hasData(e)){var i=e.getOptions(),r=e.getOptionsCache(),s=d.getSeriesCount(e);l.isValidType(e)||(i.type="bar");var a=!1,n=!1,o=!0,h=null,g=!1,u=!1,_=!1,p=!1,v=!1,m=l.isStock(e);m&&s>1&&(i.series=i.series.slice(0,1),s=1);var f=l.isMixedFrequency(e),x=s>100;r.putToCache("hasLargeSeriesCount",x);for(var C=0,S=e.getSeriesStyleArray(),A=0;A<s;A++){var b=d.getSeries(e,A);!x&&null!=b&&S.indexOf(b)<0&&S.push(b);var y=d.getSeriesItem(e,A);if(y.items&&y.items.length>C&&(C=y.items.length),"hidden"===y.visibility){var M=d.getHiddenCategories(e);M.indexOf(b)<0&&M.push(b)}if(y.visibility=null,"on"===y.assignedToY2&&(a=!0),"on"===y.displayInLegend&&(p=!0),"on"===y.drilling&&(v=!0),y&&y.items)for(var T,D=y.items,I=0;I<D.length;I++)null!=D[I]&&("object"!=typeof(T=D[I])&&(T={y:T},D[I]=T),f||null==T.x||(T.x=Number(T.x)),null!=T.y&&(T.y=Number(T.y),T.y<0&&(u=!0)),null!=T.z?(T.z=Number(T.z),null==h?h=T.z:h!=T.z&&(o=!1)):h=1,null!=T.value&&(T.value=Number(T.value),T.value<0&&(u=!0)),null!=T.targetValue&&(T.targetValue=Number(T.targetValue)),null!=T.open&&(T.open=Number(T.open),g=!0),null!=T.close&&(T.close=Number(T.close),g=!0,T.close<0&&(u=!0)),null!=T.low&&(T.low=Number(T.low),g=!0),null!=T.high&&(T.high=Number(T.high),g=!0),null!=T.volume&&(T.volume=Number(T.volume),n=!0),(T.color||T.borderColor||T.borderWidth||T.style||T.svgStyle||T.className||T.svgClassName)&&r.putToCachedMap("itemStyleSet",A,!0),"outsideBarEdge"==T.labelPosition&&(_=!0))}if(r.putToCache("hasVolume",n),r.putToCache("hasConstantZValue",o),r.putToCache("constantZValue",o?h:null),r.putToCache("hasLowHighSeries",g),r.putToCache("hasNegativeValues",u),r.putToCache("hasDataOutsideBarEdge",_),r.putToCache("hasSeriesDisplayedInLegend",p),r.putToCache("hasDrillableSeries",v),m&&d.hasVolumeSeries(e)&&!l.isOverview(e)){var O=t.JsonUtils.clone(d.getSeriesItem(e,0));O.assignedToY2="on",a=!0,O.type="bar",O.categories=d.getCategories(e,0),O.id="_volume",O._selectable="off",O.items=[];for(var E=y?y.items.length:0,P=0;P<E;P++){var L={};L.color=c.getStockVolumeColor(e,0,P),L.x=y&&y.items[P].x,L.value=y&&y.items[P].volume,L.drilling="off",O.items.push(L)}i.series.push(O),r.putToCachedMap("itemStyleSet",i.series.length-1,!0)}r.putToCache("hasY2Assignment",a);for(var w=d.getRefObjs(e),R=0;R<w.length;R++){var k=w[R].items;if(k)for(var B=0;B<k.length;B++){var F=k[B];F&&("object"!=typeof F?k[B]=Number(F):(!l.isMixedFrequency(e)&&F.x&&(F.x=Number(F.x)),F.max&&(F.max=Number(F.max)),F.min&&(F.min=Number(F.min)),F.value&&(F.value=Number(F.value))))}}i.groups||(i.groups=[]);for(var N=d.getGroupCount(e),G=0;G<C-N;G++){var H=i.translations.labelDefaultGroupName||"Group {0}",U=t.ResourceUtils.format(H,[i.groups.length+1]);i.groups.push(U)}r.putToCache("groupsArray",null),Te._processTimeAxis(e);var V=i.sorting;if(V="on"===V?"descending":"ascending"!==V&&"descending"!==V?"off":V,l.isBLAC(e)&&l.hasGroupAxis(e)&&"off"!=V&&1==d.getNumLevels(e)){for(var Y=d.getGroups(e),W={},j=0;j<Y.length;j++){for(var z=0,X=0;X<=s;X++)if(d.isSeriesRendered(e,X)&&!d.isAssignedToY2(e,X)){var Z=d.getVal(e,X,j);z+=null==Z||isNaN(Z)?0:Z}W[Y[j]]={index:j,total:z,group:i.groups[j]}}"ascending"===V?Y.sort((e,t)=>W[e].total-W[t].total):Y.sort((e,t)=>W[t].total-W[e].total);for(var q=0;q<s;q++){for(var K=[],Q=0;Q<Y.length;Q++)K.push(d.getDataItem(e,q,W[Y[Q]].index));i.series[q].items=K}for(var J=[],$=0;$<Y.length;$++)J.push(W[Y[$]].group);i.groups=J,r.putToCache("groupsArray",null),r.putToCache("value",null)}i.styleDefaults.dataCursor.lineWidth=parseFloat(i.styleDefaults.dataCursor.lineWidth),Te._sanitizeAxis(i.xAxis),Te._sanitizeAxis(i.yAxis),Te._sanitizeAxis(i.y2Axis)}},_processTimeAxis:e=>{var t,i,r=e.getCtx(),s=e.getOptions(),a=d.getSeriesCount(e),n=d.getGroupCount(e);if(l.isMixedFrequency(e))for(t=0;t<a;t++)for(i=0;i<n;i++){var o=d.getDataItem(e,t,i);null!=o&&"string"==typeof o.x&&null!=o.x&&(o.x=Te._sanitizeDateTime(r,o.x))}else if(l.hasTimeAxis(e)){for(i=0;i<n;i++){var h=d.getGroup(e,i);null!=h&&(s.groups[i]=Te._sanitizeDateTime(r,h))}e.getOptionsCache().putToCache("groupsArray",null)}if(l.hasTimeAxis(e)){var g=s.xAxis;null!=g.dataMin&&(g.dataMin=Te._sanitizeDateTime(r,g.dataMin)),null!=g.dataMax&&(g.dataMax=Te._sanitizeDateTime(r,g.dataMax)),null!=g.min&&(g.min=Te._sanitizeDateTime(r,g.min)),null!=g.max&&(g.max=Te._sanitizeDateTime(r,g.max)),null!=g.viewportMin&&(g.viewportMin=Te._sanitizeDateTime(r,g.viewportMin)),null!=g.viewportMax&&(g.viewportMax=Te._sanitizeDateTime(r,g.viewportMax)),null!=g.viewportStartGroup&&(g.viewportStartGroup=Te._sanitizeDateTime(r,g.viewportStartGroup)),null!=g.viewportEndGroup&&(g.viewportEndGroup=Te._sanitizeDateTime(r,g.viewportEndGroup));for(var u=d.getRefObjs(e),_=0;_<u.length;_++){var c=u[_].items;if(c)for(var p=0;p<c.length;p++)c[p]&&null!=c[p].x&&(c[p].x=Te._sanitizeDateTime(r,c[p].x)),c[p]&&null!=c[p].value&&(c[p].value=Te._sanitizeDateTime(r,c[p].value));else u[_].value&&null!=u[_].value&&(u[_].value=Te._sanitizeDateTime(r,u[_].value))}}},_sanitizeAxis:e=>{e.min==e.max&&(e.min=null,e.max=null)},_sanitizeDateTime:(e,t)=>{var i=null,r=e.getLocaleHelpers().isoToDateConverter;if(r){try{i=r(t)}catch(e){i=null}i=null!=i&&i.getTime?i.getTime():null}return null==i?isNaN(t)?Date.parse(t):t:i}};class De extends t.BaseComponent{constructor(e,i,r,s){super(e,i,r,s),s||(this.Defaults=new u(e),this.EventManager=new X(this),this.EventManager.addListeners(this),t.Agent.isTouchDevice()||this.EventManager.setKeyboardHandler(this.CreateKeyboardHandler(this.EventManager)),this.setId("chart1000"+Math.floor(1e9*Math.random())),this.legend=null,this.xAxis=null,this.yAxis=null,this.y2Axis=null,this.overview=null,this.xScrollbar=null,this.yScrollbar=null,this.dragButtons=null,this.pieChart=null,this.pieCenterDiv=null,this.Peers=[],this.SeriesStyleArray=[],this._numFrontObjs=0,this._numSelectedObjsInFront=0,this._dataLabels=null,this._rawOptions=null)}static getDefaults(e){return(new u).getDefaults(e)}createOverviewChart(){return new De(this.getCtx())}GetComponentDescription(){var e=this.getOptions(),i=e.translations.componentName,r="",s=t.AriaUtils.ARIA_LABEL_DESC_DELIMITER;return e.title.text&&(r+=this.Options.title.text,e.subtitle.text&&(r+=s+this.Options.subtitle.text)),e.footnote.text&&(r=0===r.length?this.Options.footnote.text:r.concat(s,this.Options.footnote.text)),r.length>0?t.ResourceUtils.format(this.Options.translations.labelAndValue,[i,r]):i}SetOptions(e){super.SetOptions(e),e?(this._rawOptions=e,this.Options=this.Defaults.calcOptions(e),Te.processDataObj(this),(t.Agent.isEnvironmentTest()||l.isScatterBubble(this)&&d.getSeriesCount(this)*d.getGroupCount(this)>fe.FILTER_THRESHOLD_SCATTER_BUBBLE)&&(this.Options.animationOnDisplay="none",this.Options.animationOnDataChange="none")):this.Options||(this.Options=this.GetDefaults());var i=this.Options.selectionMode;this._selectionHandler="single"===i?new t.SelectionHandler(this.getCtx(),t.SelectionHandler.TYPE_SINGLE):"multiple"===i?new t.SelectionHandler(this.getCtx(),t.SelectionHandler.TYPE_MULTIPLE):null,this.EventManager.setSelectionHandler(this._selectionHandler)}render(e,i,r){this.getCache().clearCache();var s=this.getCtx(),a=this.Options?this.Options.animationOnDataChange:"none",n="none"!=a?new Ie(this):null,o=this.__cacheChartFocus();this._container&&this.__cleanUp(),this.SetOptions(e),isNaN(i)||isNaN(r)||(this.Width=i,this.Height=r);var h=new t.Container(s);this.addChild(h),Me.render(this,h,new t.Rectangle(0,0,this.Width,this.Height)),l.isSpark(this)&&this.EventManager.removeListeners(this),this.StopAnimation();var g=c.getAnimOnDisplay(this),d=c.getAnimDur(this),u=new t.Rectangle(0,0,this.Width,this.Height),_=!1;if(this._container){if("none"!=a&&e)if(this.Animation=t.BlackBoxAnimationHandler.getCombinedAnimation(s,a,this._container,h,u,d),this.Animation)_=!0;else if("auto"===a&&this.getPlotArea()){var p=this.__getPlotAreaSpace();this._delContainer=fe.createClippedGroup(this,this._container,new t.Rectangle(0,0,p.w,p.h)),this.Animation=ue.createAnim(n,this,a,d,this._delContainer),this._delContainer.getNumChildren()>0&&this.getPlotArea().addChild(this._delContainer)}}else"none"!=g&&(this.Animation=t.BlackBoxAnimationHandler.getInAnimation(s,g,h,u,d),this.Animation||"auto"!==g||(this.Animation=_e.createAnim(this,g,d)));this.Animation?(this.EventManager.removeListeners(this),t.Playable.appendOnEnd(this.Animation,this._onAnimationEnd,this),this.Animation.play(),this._oldContainer=this._container,!_&&this._oldContainer&&this._oldContainer.removeFromParent()):this._container&&(this._container.removeFromParent(),this._container.destroy(),this._container=null),this._container=h,this._dataCursor=Me.renderDataCursor(this),this.UpdateAriaAttributes(),this.__restoreChartFocus(o),this.Animation||this.RenderComplete()}__cleanUp(){this._dataCursor&&(this.removeChild(this._dataCursor),this._dataCursor=null),this.EventManager&&(this.EventManager.hideHoverFeedback(),this.EventManager.setPanZoomHandler(null),this.EventManager.setMarqueeZoomHandler(null),this.EventManager.setMarqueeSelectHandler(null),this.EventManager.panButton=null,this.EventManager.zoomButton=null,this.EventManager.selectButton=null),this.pieCenterDiv&&(this.getCtx().getContainer().removeChild(this.pieCenterDiv),this.pieCenterDiv=null),this.Peers=[],this.xScrollbar=null,this.yScrollbar=null,this.dragButtons&&(this.removeChild(this.dragButtons),this.dragButtons.destroy(),this.dragButtons=null),this._plotArea=null,this._areaContainer=null,this._dataLabels=null,this.getCache().clearCache()}__cleanUpAxisAndPlotArea(){this.EventManager.hideHoverFeedback(),this.Peers=[],this.xAxis&&(this._container.removeChild(this.xAxis),this.xAxis.destroy()),this.yAxis&&(this._container.removeChild(this.yAxis),this.yAxis.destroy()),this.y2Axis&&(this._container.removeChild(this.y2Axis),this.y2Axis.destroy()),this._plotArea&&this._plotArea==this._panZoomTarget?this._plotArea.setVisible(!1):this._plotArea&&(this._container.removeChild(this._plotArea),this._plotArea.destroy()),this._plotArea=null,this.getCache().clearCache()}_onAnimationEnd(){this._oldContainer&&(this._oldContainer.removeFromParent(),this._oldContainer.destroy(),this._oldContainer=null),this._delContainer&&(this._delContainer.removeFromParent(),this._delContainer.destroy(),this._delContainer=null),this.AnimationStopped||this.RenderComplete(),this.EventManager.addListeners(this),this.Animation=null,this.AnimationStopped=!1}CreateKeyboardHandler(e){return new Z(e,this)}getAutomation(){return new z(this)}getValsAt(e,t){var i=this.__getPlotAreaSpace(),r=e-i.x,s=t-i.y,a=l.isPolar(this),n=l.isHorizontal(this);if(a){r-=i.w/2,s-=i.h/2;var o=Math.sqrt(r*r+s*s),h=Math.atan2(r,-s);return h<0&&(h+=2*Math.PI),{x:this.xAxis?this.xAxis.getValAt(h):null,y:this.yAxis?this.yAxis.getValAt(o):null}}return{x:this.xAxis?this.xAxis.getValAt(n?s:r):null,y:this.yAxis?this.yAxis.getValAt(n?r:s):null,y2:this.y2Axis?this.y2Axis.getValAt(n?r:s):null}}filter(e,t){var i="out"===t?"hidden":"visible";F.setVisibility(this,e,i),this.render(this.Options)}highlight(e){this.getOptions().highlightedCategories=t.JsonUtils.clone(e),t.CategoryRolloverHandler.highlight(e,this.getObjects(),"any"===this.getOptions().highlightMatch),this.legend&&this.legend.highlight(e),this.pieChart&&this.pieChart.highlight(e),this.overview&&this.overview.getBackgroundChart().highlight(e)}select(e){this.getOptions().selection=t.JsonUtils.clone(e);var i=d.getInitialSelection(this);F.setInitialSelection(this,i),this.pieChart&&this.pieChart.setInitialSelection()}positionDataCursor(e){var i=this.getEventManager().getDataCursorHandler();if(i){if(e){var r=this.xAxis&&null!=e.x?this.xAxis.getCoordAt(e.x):null,s=null;if(l.isBLAC(this)?this.yAxis&&null!=e.y?s=this.yAxis.getBoundedCoordAt(e.y):this.y2Axis&&null!=e.y2&&(s=this.yAxis.getBoundedCoordAt(e.y2)):s=this.yAxis&&null!=e.y?this.yAxis.getCoordAt(e.y):null,null!=r&&null!=s){var a=this.__getPlotAreaSpace(),n=h.convertAxisCoord(this,new t.Point(r,s),a);return void i.processMove(new t.Point(a.x+n.x,a.y+n.y),!0)}}i.processEnd(!0)}}processEvent(e,t){var i=e.type;if("categoryHide"===i||"categoryShow"===i)this.filter(e.category,"categoryHide"===i?"out":"in");else if("categoryHighlight"===i)this!=t&&this.highlight(e.categories),this.legend&&this.legend!=t&&this.legend.processEvent(e,t);else if("selection"===i)e=this._processSelectionEvent(e);else if("dvtPanZoom"===i)e=this._processPanZoomEvent(e);else if("dvtMarquee"===i)e=this._processMarqueeEvent(e);else if("overview"===i){var r=e.subtype;if("dropCallback"===r)return;var s="scrollTime"===r||"scrollEnd"===r||"rangeChange"===r;e=this._processScrollbarEvent(e.newX1,e.newX2,s,t)}else if("dvtSimpleScrollbar"===i)e=this._processScrollbarEvent(e.newMin,e.newMax,"end"===e.subtype,t);else if("ready"===i&&this!=t)return;if(e){if("selection"===(i=e.type)){var a,n,o=this.getOptions(),l=o.selection,h=d.getCurrentSelection(this);e.complete&&(o.selection=h),l=l||[],h=h||[];var g={};for(a=0;a<l.length;a++)g[l[a].id]=!0;var u={};for(n=0;n<h.length;n++)u[h[n].id]=!0;var _={};for(n=0;n<h.length;n++){var c=h[n].id;g[c]||(_[c]=!0)}var p={};for(a=0;a<l.length;a++){var v=l[a].id;u[v]||(p[v]=!0)}e.addedSet=_,e.removedSet=p;for(var m=0;m<e.selection.length;m++)F.addEventData(this,e.selection[m]);e.component=this.getOptions()._widgetConstructor}else if("drill"===i){if(e.subType||(e.subType="_dvtOther"===e.id?"multiSeries":"series",e.series=e.id),this._processDrillSubType(e),"multiSeries"===e.subType)return;F.addEventData(this,e),delete e.subType,e.component=this.getOptions()._widgetConstructor}this.dispatchEvent(e)}}_processDrillSubType(e){var t,i=e.subType;"item"===i?t=F.addItemDrillEventData(this,e):"group"===i?t=F.addGroupDrillEventData(this,e):"series"===i?t=F.addSeriesDrillEventData(this,e):"multiSeries"===i&&(t=F.addMultiSeriesDrillEventData(this,e)),this.dispatchEvent(t)}_processSelectionEvent(e){var i=F.processIds(this,e.selection);return this._updateOverviewSelection(),t.EventFactory.newChartSelectionEvent(i,!0)}_processPanZoomEvent(e){var i=e.subtype;return"panStart"===i||"pinchStart"===i?(t.Agent.isTouchDevice()&&this._panZoomTarget!=this._plotArea&&(this._container.removeChild(this._panZoomTarget),this._panZoomTarget=this._plotArea),null):(this._lastPanZoomEvent?(e.dxMin+=this._lastPanZoomEvent.dxMin,e.dxMax+=this._lastPanZoomEvent.dxMax,e.dyMin+=this._lastPanZoomEvent.dyMin,e.dyMax+=this._lastPanZoomEvent.dyMax):t.Context.requestAnimationFrame(t.Obj.createCallback(this,this._animatePanZoomEvent)),this._lastPanZoomEvent=e,null)}_animatePanZoomEvent(){var e=this._lastPanZoomEvent;this._lastPanZoomEvent=null;var i,r,s=e.subtype,a="panEnd"===s||"zoom"===s||"pinchEnd"===s;(O.isLiveScroll(this)?(i=F.getAxisBoundsByDelta(this,e.dxMin,e.dxMax,e.dyMin,e.dyMax),this._setScrollbarViewport(i),this._setViewport(i,a)):(i=F.getAxisBoundsByDelta(this,e.dxMinTotal,e.dxMaxTotal,e.dyMinTotal,e.dyMaxTotal),this._setScrollbarViewport(i),a&&this._setViewport(i,a)),a&&(Me._setEventHandlers(this),this._panZoomTarget!=this._plotArea&&(this._container.removeChild(this._panZoomTarget),this._panZoomTarget=null)),a||!i.unchanged)&&(r=l.isBLAC(this)?t.EventFactory.newChartViewportChangeEvent(a,i.xMin,i.xMax,i.startGroup,i.endGroup,null,null):t.EventFactory.newChartViewportChangeEvent(a,i.xMin,i.xMax,null,null,i.yMin,i.yMax),this.dispatchEvent(r))}_processMarqueeEvent(e){var i,r=e.subtype,s=this.EventManager;if(F.adjustBounds(e),s.getDragMode()===X.DRAG_MODE_SELECT){var a=s.getSelectionHandler();if("start"===r)this._initSelection=e.ctrlKey?a.getSelectedIds():[];else{var n=F.getBoundedObjs(this,e);a.processInitialSelections(this._initSelection,this.getChartObjPeers()),a.processGroupSelection(n,!0)}var o=a.getSelectedIds();i=F.getAxisBounds(this,e,!1);var h="end"===r,g=t.EventFactory.newChartSelectionEvent(o,h,i.xMin,i.xMax,i.startGroup,i.endGroup,i.yMin,i.yMax,i.y2Min,i.y2Max);return"end"===r&&this._updateOverviewSelection(),g}return s.getDragMode()===X.DRAG_MODE_ZOOM?"end"!=r?null:(i=F.getAxisBounds(this,e,!0),this._setViewport(i,!0),this._setScrollbarViewport(i),Me._setEventHandlers(this),l.isBLAC(this)?t.EventFactory.newChartViewportChangeEvent(!0,i.xMin,i.xMax,i.startGroup,i.endGroup,null,null):t.EventFactory.newChartViewportChangeEvent(!0,i.xMin,i.xMax,null,null,i.yMin,i.yMax)):null}_processScrollbarEvent(e,i,r,s){return this._lastScrollbarEvent||t.Context.requestAnimationFrame(t.Obj.createCallback(this,this._animateScrollbarEvent)),this._lastScrollbarEvent={start:e,end:i,actionDone:r,source:s},null}_animateScrollbarEvent(){var e=this._lastScrollbarEvent.start,i=this._lastScrollbarEvent.end,r=this._lastScrollbarEvent.actionDone,s=this._lastScrollbarEvent.source;this._lastScrollbarEvent=null;var a=s==this.yScrollbar?this.yAxis:this.xAxis,n=F.getActualMinMax(a,e,i);if(e=n.min,i=n.max,(O.isLiveScroll(this)||r)&&(s==this.yScrollbar?this._setViewport({yMin:e,yMax:i},r):this._setViewport({xMin:e,xMax:i,unchanged:n.unchanged},r)),r||!n.unchanged){var o;if(s==this.yScrollbar)o=t.EventFactory.newChartViewportChangeEvent(r,null,null,null,null,e,i,null,null);else{var l=F.getAxisStartEndGroup(this.xAxis,e,i);o=t.EventFactory.newChartViewportChangeEvent(r,e,i,l.startGroup,l.endGroup,null,null,null,null)}this.dispatchEvent(o)}}_updateOverviewSelection(){if(this.overview){var e=this.overview.getBackgroundChart();e.getOptions().selection=d.getCurrentSelection(this),e.render()}}changeOption(e,i,r){this.getOptions()[e]=i,this.dispatchEvent(t.EventFactory.newOptionChangeEvent(e,i,r))}registerObject(e){this.Peers.push(e)}getObjects(){return this.Peers}getChartObjPeers(){for(var e=[],t=0;t<this.Peers.length;t++)this.Peers[t]instanceof f&&e.push(this.Peers[t]);return e}getRefObjPeers(){for(var e=[],t=0;t<this.Peers.length;t++)this.Peers[t]instanceof x&&e.push(this.Peers[t]);return e}getObject(e,t){for(var i=0;i<this.Peers.length;i++)if(this.Peers[i]instanceof f&&this.Peers[i].getSeriesIndex()===e&&this.Peers[i].getGroupIndex()===t)return this.Peers[i];return null}getWidth(){return this.Width}getHeight(){return this.Height}getSeriesStyleArray(){return this.SeriesStyleArray}getPlotArea(){return this._plotArea}setPlotArea(e){this._plotArea=e}getType(){return this.getOptions().type}getSkin(){return this.getOptions().skin}getGapWidthRatio(){var e=this.getOptions();return null!==e.layout.gapWidthRatio?e.layout.gapWidthRatio:Math.min(this.Width/400,1)}getGapHeightRatio(){var e=this.getOptions();return null!==e.layout.gapHeightRatio?e.layout.gapHeightRatio:Math.min(this.Height/300,1)}getSelectionHandler(){return this._selectionHandler}isSelectionSupported(){return!!this._selectionHandler}_setViewport(e,t){!t&&e.unchanged||(null!=e.xMax&&(this.Options.xAxis.viewportMax=e.xMax),null!=e.xMin&&(this.Options.xAxis.viewportMin=e.xMin),l.isBLAC(this)?(this.Options.xAxis.viewportStartGroup=null,this.Options.xAxis.viewportEndGroup=null,this.Options._initialZoomed=!1):(null!=e.yMax&&(this.Options.yAxis.viewportMax=e.yMax),null!=e.yMin&&(this.Options.yAxis.viewportMin=e.yMin)),this.Options._duringZoomAndScroll=!t,Me.rerenderAxisAndPlotArea(this,this._container))}_setScrollbarViewport(e){if(this.xAxis&&null!=e.xMin&&null!=e.xMax){var t=this.xAxis.actualToLinear(e.xMin),i=this.xAxis.actualToLinear(e.xMax);this.overview&&this.overview.setViewportRange(t,i),this.xScrollbar&&this.xScrollbar.setViewportRange(t,i)}if(this.yAxis&&null!=e.yMin&&null!=e.yMax){var r=this.yAxis.actualToLinear(e.yMin),s=this.yAxis.actualToLinear(e.yMax);this.yScrollbar&&this.yScrollbar.setViewportRange(r,s)}}__setAxisSpace(e){var t,i;this._axisSpace=e,w.isAxisRendered(this,"x")?(t=.8*e.w,i=e.h-4*w.getTickLabelHeight(this,"x")):w.isAxisRendered(this,"y")?(t=e.w,i=e.h-w.getTickLabelHeight(this,"y")):(t=e.w,i=e.h),this._radius=Math.min(t,i)/2}__getAxisSpace(){return this._axisSpace}__setPlotAreaSpace(e){this._plotAreaSpace=e}__getPlotAreaSpace(){return this._plotAreaSpace}__setAreaContainer(e){this._areaContainer=e}__getAreaContainer(){return this._areaContainer}getRadius(){return this._radius}showDragButtons(){this.dragButtons&&this.dragButtons.setVisible(!0)}hideDragButtons(){this.dragButtons&&this.dragButtons.setVisible(!1)}addDataLabel(e){this.getDataLabels().push(e)}getDataLabels(){return this._dataLabels||(this._dataLabels=[]),this._dataLabels}__cacheChartFocus(){var e=this.EventManager.getFocus();if(e)var t=e.isShowingKeyboardFocusEffect();if(this.xAxis){var i=this.xAxis.getKeyboardFocus();if(i)var r=i.isShowingKeyboardFocusEffect()}if(this.legend){var s=this.legend.getKeyboardFocus();if(s)var a=s.isShowingKeyboardFocusEffect()}return{chartFocus:e,chartShowingFocusEffect:t,axisFocus:i,axisShowingFocusEffect:r,legendFocus:s,legendShowingFocusEffect:a,sorting:this.getOptions().sorting}}__restoreChartFocus(e){if(!l.isOverview(this)&&!l.isSpark(this)){var t=[this];if(this.xAxis&&this.xAxis.isNavigable()&&t.push(this.xAxis),this.legend&&this.legend.isNavigable()&&t.push(this.legend),this.getCtx().setKeyboardFocusArray(t),e.legendFocus&&(this.legend.setKeyboardFocus(e.legendFocus,e.legendShowingFocusEffect),e.legendShowingFocusEffect&&this.getCtx().setCurrentKeyboardFocus(this.legend)),this.Options.sorting!=e.sorting){if(e.chartFocus){var i=F.getKeyboardNavigables(this);this.EventManager.setFocusObj(this.EventManager.getKeyboardHandler().getDefaultNavigable(i))}return e.axisFocus&&this.xAxis.setKeyboardFocus(this.xAxis.EventManager.getKeyboardHandler().getDefaultNavigable(this.xAxis.__getKeyboardObjects()),e.axisShowingFocusEffect),void(e.axisShowingFocusEffect&&this.getCtx().setCurrentKeyboardFocus(this.xAxis))}if(e.chartFocus){for(var r=F.getKeyboardNavigables(this),s=!1,a=0;a<r.length;a++){var n=r[a].getId();if(n instanceof o&&n.equals(e.chartFocus.getId())){this.EventManager.setFocusObj(r[a]),e.chartShowingFocusEffect&&r[a].showKeyboardFocusEffect(),s=!0;break}}s||this.EventManager.setFocusObj(this.EventManager.getKeyboardHandler().getDefaultNavigable(r))}e.axisFocus&&(this.xAxis.setKeyboardFocus(e.axisFocus,e.axisShowingFocusEffect),e.axisShowingFocusEffect&&this.getCtx().setCurrentKeyboardFocus(this.xAxis))}}getRawOptions(){return this._rawOptions}}class Ie extends De{constructor(e){super(null,null,null,!0),this.Options=e.Options,this.Peers=e.Peers,this.SeriesStyleArray=e.SeriesStyleArray,this.Cache=e.Cache,this.pieChart=e.pieChart,this._optionsCache=new t.BaseComponentCache,this._cache=new t.BaseComponentCache}getCache(){return this._cache}getOptionsCache(){return this._optionsCache}}class Oe extends t.Automation{getDataItem(e){var t=this._comp.__getChart().getAutomation().getDataItem(0,e);return t?{borderColor:t.borderColor,color:t.color,date:t.x,low:t.low,high:t.high,value:null==t.low||null==t.high?t.value:t.high-t.low}:null}}class Ee extends t.BaseComponentDefaults{constructor(e){super({alta:{skin:t.CSSStyle.SKIN_ALTA,type:"line",animationOnDisplay:"none",animationOnDataChange:"none",areaSvgClassName:"",emptyText:null,firstColor:"",lastColor:"",highColor:"",lowColor:"",visualEffects:"auto",baselineScaling:"min",barSpacing:"auto",lineWidth:1,lineStyle:"solid",lineType:"straight",markerSize:5,markerShape:"auto",barGapRatio:.25,referenceObjects:[],svgClassName:"",_statusMessageStyle:new t.CSSStyle("font-size: 12px; color: #404259;")}},e)}}class Pe extends t.EventManager{constructor(e){super(e.getCtx(),e.dispatchEvent,e,e),this._sparkChart=e}ProcessKeyboardEvent(e){if(!this.KeyboardHandler)return!1;if(e.keyCode==t.KeyboardEvent.TAB){var i=this._sparkChart.getCtx().getStageAbsolutePosition();this.ProcessObjectTooltip(e,i.x,i.y,this._sparkChart.__getLogicalObj(),this._sparkChart)}return!1}OnBlur(e){super.OnBlur(e),this.hideTooltip()}}const Le={render:(e,t,i)=>{var r=e.__getChart(),s=Le._convertOptionsObj(e),a=e.getOptions();if("area"==a.type||"line"==a.type||"lineWithArea"==a.type){var n=Le._getDataItems(e),o=!1;if(a.firstColor||a.lastColor||a.highColor||a.lowColor)o=!0;else for(var l=0;l<n.length;l++)if(n[l]&&"on"==n[l].markerDisplayed){o=!0;break}if(o&&n.length>0||"none"==a.lineType){var h=a.markerSize/2;t-=2*h,i-=2*h,r.setTranslate(h,h)}}r.render(s,t,i)},_getDataItems:e=>{var t=e.getOptions();return t&&t.items?t.items:[]},_convertOptionsObj:e=>{for(var i=e.getOptions(),r={styleDefaults:{},xAxis:{},yAxis:{},groups:[],translations:i.translations},s=[],a=-1,n=-1,o=-1/0,l=1/0,h=Le._getDataItems(e),g=0;g<h.length;g++){var d=h[g],u={};d instanceof Object?(u.value=d.value,u.low=d.low,u.high=d.high,d.date&&(r.timeAxisType="enabled",r.groups.push(d.date)),"on"==d.markerDisplayed&&(u.markerDisplayed="on"),d.color&&(u.color=d.color),d.borderColor&&(u.borderColor=d.borderColor),d.markerShape&&(u.markerShape=d.markerShape),d.markerSize&&(u.markerSize=d.markerSize),(d.className||d.svgClassName)&&(u.svgClassName=d.className||d.svgClassName),(d.style||d.svgStyle)&&(u.svgStyle=d.style||d.svgStyle)):u.value=d,s.push(u);var _=null!=u.value?u.value:Math.max(u.low,u.high);o<_&&(o=_,a=g);var c=null!=u.value?u.value:Math.min(u.low,u.high);l>c&&(l=c,n=g)}if(i.highColor&&a>=0&&(s[a].markerDisplayed="on",s[a].color||(s[a].color=i.highColor)),i.lowColor&&n>=0&&(s[n].markerDisplayed="on",s[n].color||(s[n].color=i.lowColor)),i.firstColor&&s.length>0&&(s[0].markerDisplayed="on",s[0].color||(s[0].color=i.firstColor)),i.lastColor&&s.length>0&&(s[s.length-1].markerDisplayed="on",s[s.length-1].color||(s[s.length-1].color=i.lastColor)),r.series=[{items:s,areaColor:i.areaColor,svgClassName:i.className||i.svgClassName,svgStyle:i.style||i.svgStyle,areaSvgClassName:i.areaClassName||i.areaSvgClassName,areaStyle:i.areaStyle||i.areaSvgStyle}],i.referenceObjects&&i.referenceObjects.length>0){var p;r.yAxis.referenceObjects=i.referenceObjects,r._defaultReferenceObjectLineWidth=1;for(var v=0;v<i.referenceObjects.length;v++)"area"===(p=i.referenceObjects[v]).type?(null!=p.high&&(o=Math.max(o,p.high),l=Math.min(l,p.high)),null!=p.low&&(o=Math.max(o,p.low),l=Math.min(l,p.low))):null!=p.value&&(o=Math.max(o,p.value),l=Math.min(l,p.value))}r.__spark=!0;var m=i.barSpacing;"auto"==m&&(m=t.Agent.getDevicePixelRatio()>1?"subpixel":"pixel"),r.__sparkBarSpacing=m,r.type=i.type,r.animationOnDataChange=i.animationOnDataChange,r.animationOnDisplay=i.animationOnDisplay,r.emptyText=i.emptyText,i.color&&(r.styleDefaults.colors=[i.color]),r.styleDefaults.animationDuration=i.animationDuration,r.styleDefaults.animationIndicators="none",r.styleDefaults.lineWidth=i.lineWidth,r.styleDefaults.lineStyle=i.lineStyle,r.styleDefaults.lineType=i.lineType,r.styleDefaults.markerSize=i.markerSize,r.styleDefaults.markerShape=i.markerShape,r.styleDefaults.barGapRatio=i.barGapRatio,r.styleDefaults.dataItemGaps="0%",r.xAxis.rendered="off",r.yAxis.rendered="off";var f="zero"==i.baselineScaling,x=o!=l?.1*(o-l):.1*Math.abs(o);return r.yAxis.min=f&&l>=0?0:l-x,r.yAxis.max=f&&o<=0?0:o+x,"none"==i.visualEffects||"area"!=i.type&&"lineWithArea"!=i.type?r.styleDefaults.seriesEffect="color":r.styleDefaults.seriesEffect="gradient",r.layout={gapWidthRatio:0,gapHeightRatio:0},r.legend={rendered:"off"},r._statusMessageStyle=i._statusMessageStyle,r}};class we extends t.BaseComponent{constructor(e,i,r){super(e,i,r),e.getStage().setCursor(""),this.Defaults=new Ee(e),this.EventManager=new Pe(this),this.EventManager.addListeners(this),this._chart=new De(e,this._onRenderEnd,this),this.addChild(this._chart),t.Agent.isTouchDevice()||this.EventManager.setKeyboardHandler(new t.KeyboardHandler(this.EventManager,this)),this._tooltipMask=new t.Rect(e),this.addChild(this._tooltipMask),this.setId("sparkChart1000"+Math.floor(1e9*Math.random()))}SetOptions(e){e?(this.Options=this.Defaults.calcOptions(e),t.Agent.isEnvironmentTest()&&(this.Options.animationOnDisplay="none",this.Options.animationOnDataChange="none")):this.Options||(this.Options=this.GetDefaults())}setId(e){super.setId(e),this._chart&&this._chart.setId(e+"chart")}render(e,i,r){this.SetOptions(e),isNaN(i)||isNaN(r)||(this.Width=i,this.Height=r),this._eventReceived=!1,this._isDoneRendering=!1,Le.render(this,this.Width,this.Height);var s=this.Options.shortDesc;this._tooltipMask.setWidth(this.Width),this._tooltipMask.setHeight(this.Height),this._tooltipMask.setInvisibleFill();var a=this.Options.tooltip,n=a?a.renderer:null,o=this.Options.color;if(n){var l={component:this.Options._widgetConstructor,color:o};this._peer=new t.CustomDatatipPeer(this.getCtx().getTooltipManager(),n,o,l),this.EventManager.associate(this._tooltipMask,this._peer)}else s?(this._peer=new t.SimpleObjPeer(null,s,o),this.EventManager.associate(this._tooltipMask,this._peer)):this._peer=null;this.Options._selectingCursor&&this.setCursor(t.SelectionEffectUtils.getSelectingCursor()),this.UpdateAriaAttributes(),this._eventReceived&&this.RenderComplete(),this._isDoneRendering=!0}_onRenderEnd(e){this._eventReceived=!0,"ready"==e.type&&this._isDoneRendering&&this.RenderComplete()}__getChart(){return this._chart}getAutomation(){return new Oe(this)}UpdateAriaAttributes(){var e=t.Displayable.generateAriaLabel(t.AriaUtils.processAriaLabel(this.GetComponentDescription()),this.Options.shortDesc?[this.Options.shortDesc]:null),i=this.Options.translations;this.IsParentRoot()?(this.getCtx().setAriaRole("img"),this.getCtx().setAriaLabel(t.ResourceUtils.format(i.labelAndValue,[i.labelDataVisualization,e]))):(this.setAriaRole("img"),this.setAriaProperty("label",e))}__getLogicalObj(){return this._peer}}e.Chart=De,e.SparkChart=we,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojchart-toolkit.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojchart',["ojs/ojcore-base","ojs/ojdvt-base","ojs/ojcomponentcore","jquery","ojs/ojconverterutils-i18n","ojs/ojconverter-number","ojs/ojlogger","ojs/ojchart-toolkit"],function(e,t,r,n,o,i,a,s){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;var l={properties:{animationOnDataChange:{type:"string",enumValues:["auto","none","slideToLeft","slideToRight"],value:"none"},animationOnDisplay:{type:"string",enumValues:["alphaFade","auto","none","zoom"],value:"none"},as:{type:"string",value:""},comboSeriesOrder:{type:"string",enumValues:["data","seriesType"],value:"seriesType"},coordinateSystem:{type:"string",enumValues:["cartesian","polar"],value:"cartesian"},data:{type:"object",extension:{webelement:{exceptionStatus:[{type:"unsupported",since:"13.0.0",description:"Data sets from a DataProvider cannot be sent to WebDriverJS; use ViewModels or page variables instead."}]}}},dataCursor:{type:"string",enumValues:["auto","off","on"],value:"auto"},dataCursorBehavior:{type:"string",enumValues:["auto","smooth","snap"],value:"auto"},dataCursorPosition:{type:"object",writeback:!0,properties:{x:{type:"number|string"},y:{type:"number"},y2:{type:"number"}}},dataLabel:{type:"function"},dnd:{type:"object",properties:{drag:{type:"object",properties:{groups:{type:"object",properties:{dataTypes:{type:"string|Array<string>"},drag:{type:"function"},dragEnd:{type:"function"},dragStart:{type:"function"}}},items:{type:"object",properties:{dataTypes:{type:"string|Array<string>"},drag:{type:"function"},dragEnd:{type:"function"},dragStart:{type:"function"}}},series:{type:"object",properties:{dataTypes:{type:"string|Array<string>"},drag:{type:"function"},dragEnd:{type:"function"},dragStart:{type:"function"}}}}},drop:{type:"object",properties:{legend:{type:"object",properties:{dataTypes:{type:"string|Array<string>"},dragEnter:{type:"function"},dragLeave:{type:"function"},dragOver:{type:"function"},drop:{type:"function"}}},plotArea:{type:"object",properties:{dataTypes:{type:"string|Array<string>"},dragEnter:{type:"function"},dragLeave:{type:"function"},dragOver:{type:"function"},drop:{type:"function"}}},xAxis:{type:"object",properties:{dataTypes:{type:"string|Array<string>"},dragEnter:{type:"function"},dragLeave:{type:"function"},dragOver:{type:"function"},drop:{type:"function"}}},y2Axis:{type:"object",properties:{dataTypes:{type:"string|Array<string>"},dragEnter:{type:"function"},dragLeave:{type:"function"},dragOver:{type:"function"},drop:{type:"function"}}},yAxis:{type:"object",properties:{dataTypes:{type:"string|Array<string>"},dragEnter:{type:"function"},dragLeave:{type:"function"},dragOver:{type:"function"},drop:{type:"function"}}}}}}},dragMode:{type:"string",enumValues:["off","pan","select","user","zoom"],value:"user"},drilling:{type:"string",enumValues:["groupsOnly","off","on","seriesOnly"],value:"off"},groupComparator:{type:"function"},groups:{type:"Array<string>|Array<Object>|Promise"},hiddenCategories:{type:"Array<string>",writeback:!0,value:[]},hideAndShowBehavior:{type:"string",enumValues:["none","withRescale","withoutRescale"],value:"none"},highlightMatch:{type:"string",enumValues:["all","any"],value:"all"},highlightedCategories:{type:"Array<string>",writeback:!0,value:[]},hoverBehavior:{type:"string",enumValues:["dim","none"],value:"none"},initialZooming:{type:"string",enumValues:["first","last","none"],value:"none"},legend:{type:"object",properties:{backgroundColor:{type:"string"},borderColor:{type:"string"},maxSize:{type:"string"},position:{type:"string",enumValues:["auto","bottom","end","start","top"],value:"auto"},referenceObjectSection:{type:"object",properties:{title:{type:"string"},titleHalign:{type:"string",enumValues:["center","end","start"],value:"start"},titleStyle:{type:"object",value:{}}}},rendered:{type:"string",enumValues:["auto","off","on"],value:"auto"},scrolling:{type:"string",enumValues:["asNeeded","off"],value:"asNeeded"},sectionTitleHalign:{type:"string",enumValues:["center","end","start"],value:"start"},sectionTitleStyle:{type:"object",value:{}},sections:{type:"Array<Object>",value:[]},seriesSection:{type:"object",properties:{title:{type:"string"},titleHalign:{type:"string",enumValues:["center","end","start"],value:"start"},titleStyle:{type:"object",value:{}}}},size:{type:"string"},symbolHeight:{type:"number"},symbolWidth:{type:"number"},textStyle:{type:"object",value:{}},title:{type:"string"},titleHalign:{type:"string",enumValues:["center","end","start"]},titleStyle:{type:"object",value:{}}}},multiSeriesDrilling:{type:"string",enumValues:["off","on"],value:"off"},orientation:{type:"string",enumValues:["horizontal","vertical"],value:"vertical"},otherThreshold:{type:"number",value:0},overview:{type:"object",properties:{content:{type:"object",value:{}},height:{type:"string"},rendered:{type:"string",enumValues:["off","on"],value:"off"}}},pieCenter:{type:"object",properties:{converter:{type:"object"},label:{type:"number|string"},labelStyle:{type:"object",value:{}},renderer:{type:"function"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"}}},plotArea:{type:"object",properties:{backgroundColor:{type:"string"},borderColor:{type:"string"},borderWidth:{type:"number"},rendered:{type:"string",enumValues:["off","on"],value:"on"}}},polarGridShape:{type:"string",enumValues:["circle","polygon"],value:"circle"},selection:{type:"Array<any>",writeback:!0,value:[]},selectionMode:{type:"string",enumValues:["multiple","none","single"],value:"none"},series:{type:"Array<Object>|Promise"},seriesComparator:{type:"function"},sorting:{type:"string",enumValues:["ascending","descending","off"],value:"off"},splitDualY:{type:"string",enumValues:["auto","off","on"],value:"auto"},splitterPosition:{type:"number",value:.5},stack:{type:"string",enumValues:["off","on"],value:"off"},stackLabel:{type:"string",enumValues:["off","on"],value:"off"},stackLabelProvider:{type:"function"},styleDefaults:{type:"object",properties:{animationDownColor:{type:"string"},animationDuration:{type:"number"},animationIndicators:{type:"string",enumValues:["all","none"],value:"all"},animationUpColor:{type:"string"},barGapRatio:{type:"number"},borderColor:{type:"string"},borderWidth:{type:"number"},boxPlot:{type:"object",properties:{medianSvgClassName:{type:"string",value:""},medianSvgStyle:{type:"object",value:{}},whiskerEndLength:{type:"string"},whiskerEndSvgClassName:{type:"string",value:""},whiskerEndSvgStyle:{type:"object",value:{}},whiskerSvgClassName:{type:"string",value:""},whiskerSvgStyle:{type:"object",value:{}}}},colors:{type:"Array<string>"},dataCursor:{type:"object",properties:{lineColor:{type:"string"},lineStyle:{type:"string",enumValues:["dashed","dotted","solid"],value:"solid"},lineWidth:{type:"number"},markerColor:{type:"string"},markerDisplayed:{type:"string",enumValues:["off","on"],value:"on"},markerSize:{type:"number"}}},dataItemGaps:{type:"string"},dataLabelCollision:{type:"string",enumValues:["fitInBounds","none"],value:"none"},dataLabelPosition:{type:"string|Array<string>",enumValues:["aboveMarker","afterMarker","auto","beforeMarker","belowMarker","center","insideBarEdge","none","outsideBarEdge","outsideSlice"],value:"auto"},dataLabelStyle:{type:"object|Array<Object>"},funnelBackgroundColor:{type:"string"},groupSeparators:{type:"object",properties:{color:{type:"string"},rendered:{type:"string",enumValues:["auto","off"],value:"auto"}}},hoverBehaviorDelay:{type:"number"},lineStyle:{type:"string",enumValues:["dashed","dotted","solid"],value:"solid"},lineType:{type:"string",enumValues:["auto","centeredSegmented","centeredStepped","curved","none","segmented","stepped","straight"],value:"auto"},lineWidth:{type:"number"},markerColor:{type:"string"},markerDisplayed:{type:"string",enumValues:["auto","off","on"],value:"auto"},markerShape:{type:"string",value:"auto"},markerSize:{type:"number"},marqueeBorderColor:{type:"string"},marqueeColor:{type:"string"},maxBarWidth:{type:"number"},otherColor:{type:"string"},patterns:{type:"Array<string>"},pieFeelerColor:{type:"string"},pieInnerRadius:{type:"number",value:0},selectionEffect:{type:"string",enumValues:["explode","highlight","highlightAndExplode"],value:"highlight"},seriesEffect:{type:"string",enumValues:["color","gradient","pattern"],value:"color"},shapes:{type:"Array<string>"},stackLabelStyle:{type:"object",value:{}},stockFallingColor:{type:"string"},stockRangeColor:{type:"string"},stockRisingColor:{type:"string"},stockVolumeColor:{type:"string"},threeDEffect:{type:"string",enumValues:["off","on"],value:"off"},tooltipLabelStyle:{type:"object",value:{}},tooltipValueStyle:{type:"object",value:{}}}},timeAxisType:{type:"string",enumValues:["auto","disabled","enabled","mixedFrequency","skipGaps"],value:"auto"},tooltip:{type:"object",properties:{renderer:{type:"function"}}},touchResponse:{type:"string",enumValues:["auto","touchStart"],value:"auto"},trackResize:{type:"string",enumValues:["off","on"],value:"on"},translations:{type:"object",value:{},properties:{accessibleContainsControls:{type:"string"},componentName:{type:"string"},labelAndValue:{type:"string"},labelClearSelection:{type:"string"},labelClose:{type:"string"},labelCountWithTotal:{type:"string"},labelDataVisualization:{type:"string"},labelDate:{type:"string"},labelDefaultGroupName:{type:"string"},labelGroup:{type:"string"},labelHigh:{type:"string"},labelInvalidData:{type:"string"},labelLow:{type:"string"},labelNoData:{type:"string"},labelOpen:{type:"string"},labelOther:{type:"string"},labelPercentage:{type:"string"},labelQ1:{type:"string"},labelQ2:{type:"string"},labelQ3:{type:"string"},labelSeries:{type:"string"},labelTargetValue:{type:"string"},labelValue:{type:"string"},labelVolume:{type:"string"},labelX:{type:"string"},labelY:{type:"string"},labelZ:{type:"string"},stateCollapsed:{type:"string"},stateDrillable:{type:"string"},stateExpanded:{type:"string"},stateHidden:{type:"string"},stateIsolated:{type:"string"},stateMaximized:{type:"string"},stateMinimized:{type:"string"},stateSelected:{type:"string"},stateUnselected:{type:"string"},stateVisible:{type:"string"},tooltipPan:{type:"string"},tooltipSelect:{type:"string"},tooltipZoom:{type:"string"}}},type:{type:"string",enumValues:["area","bar","boxPlot","bubble","combo","funnel","line","lineWithArea","pie","pyramid","scatter","stock"],value:"bar"},valueFormats:{type:"object",properties:{close:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string"}}},group:{type:"object",properties:{tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string|Array<string>"}}},high:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string"}}},label:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"}}},low:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string"}}},open:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string"}}},q1:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string"}}},q2:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string"}}},q3:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string"}}},series:{type:"object",properties:{tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string"}}},targetValue:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string"}}},value:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string"}}},volume:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string"}}},x:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string"}}},y:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string"}}},y2:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string"}}},z:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string"}}}}},xAxis:{type:"object",properties:{axisLine:{type:"object",properties:{lineColor:{type:"string"},lineWidth:{type:"number"},rendered:{type:"string",enumValues:["auto","off","on"],value:"auto"}}},baselineScaling:{type:"string",enumValues:["min","zero"],value:"zero"},dataMax:{type:"number"},dataMin:{type:"number"},majorTick:{type:"object",properties:{baselineColor:{type:"string",value:"auto"},baselineStyle:{type:"string",enumValues:["dashed","dotted","solid"],value:"solid"},baselineWidth:{type:"number"},lineColor:{type:"string"},lineStyle:{type:"string",enumValues:["dashed","dotted","solid"],value:"solid"},lineWidth:{type:"number"},rendered:{type:"string",enumValues:["auto","off","on"],value:"auto"}}},max:{type:"number|string"},maxSize:{type:"string"},min:{type:"number|string"},minStep:{type:"number"},minorStep:{type:"number"},minorTick:{type:"object",properties:{lineColor:{type:"string"},lineStyle:{type:"string",enumValues:["dashed","dotted","solid"],value:"solid"},lineWidth:{type:"number"},rendered:{type:"string",enumValues:["auto","off","on"],value:"auto"}}},referenceObjects:{type:"Array<Object>",value:[]},rendered:{type:"string",enumValues:["off","on"],value:"on"},scale:{type:"string",enumValues:["linear","log"],value:"linear"},size:{type:"string"},step:{type:"number"},tickLabel:{type:"object",properties:{converter:{type:"object"},rendered:{type:"string",enumValues:["off","on"],value:"on"},rotation:{type:"string",enumValues:["auto","none"],value:"auto"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},style:{type:"object",value:{}}}},title:{type:"string"},titleStyle:{type:"object",value:{}},viewportEndGroup:{type:"number|string"},viewportMax:{type:"number|string"},viewportMin:{type:"number|string"},viewportStartGroup:{type:"number|string"}}},y2Axis:{type:"object",properties:{alignTickMarks:{type:"string",enumValues:["off","on"],value:"on"},axisLine:{type:"object",properties:{lineColor:{type:"string"},lineWidth:{type:"number"},rendered:{type:"string",enumValues:["auto","off","on"],value:"auto"}}},baselineScaling:{type:"string",enumValues:["min","zero"],value:"zero"},dataMax:{type:"number"},dataMin:{type:"number"},majorTick:{type:"object",properties:{baselineColor:{type:"string",value:"auto"},baselineStyle:{type:"string",enumValues:["dashed","dotted","solid"],value:"solid"},baselineWidth:{type:"number"},lineColor:{type:"string"},lineStyle:{type:"string",enumValues:["dashed","dotted","solid"],value:"solid"},lineWidth:{type:"number"},rendered:{type:"string",enumValues:["auto","off","on"],value:"auto"}}},max:{type:"number"},maxSize:{type:"string"},min:{type:"number"},minStep:{type:"number"},minorStep:{type:"number"},minorTick:{type:"object",properties:{lineColor:{type:"string"},lineStyle:{type:"string",enumValues:["dashed","dotted","solid"],value:"solid"},lineWidth:{type:"number"},rendered:{type:"string",enumValues:["auto","off","on"],value:"auto"}}},position:{type:"string",enumValues:["auto","bottom","end","start","top"],value:"auto"},referenceObjects:{type:"Array<Object>",value:[]},rendered:{type:"string",enumValues:["off","on"],value:"on"},scale:{type:"string",enumValues:["linear","log"],value:"linear"},size:{type:"string"},step:{type:"number"},tickLabel:{type:"object",properties:{converter:{type:"object"},position:{type:"string",enumValues:["inside","outside"],value:"outside"},rendered:{type:"string",enumValues:["off","on"],value:"on"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},style:{type:"object",value:{}}}},title:{type:"string"},titleStyle:{type:"object",value:{}}}},yAxis:{type:"object",properties:{axisLine:{type:"object",properties:{lineColor:{type:"string"},lineWidth:{type:"number"},rendered:{type:"string",enumValues:["auto","off","on"],value:"auto"}}},baselineScaling:{type:"string",enumValues:["min","zero"],value:"zero"},dataMax:{type:"number"},dataMin:{type:"number"},majorTick:{type:"object",properties:{baselineColor:{type:"string",value:"auto"},baselineStyle:{type:"string",enumValues:["dashed","dotted","solid"],value:"solid"},baselineWidth:{type:"number"},lineColor:{type:"string"},lineStyle:{type:"string",enumValues:["dashed","dotted","solid"],value:"solid"},lineWidth:{type:"number"},rendered:{type:"string",enumValues:["auto","off","on"],value:"auto"}}},max:{type:"number"},maxSize:{type:"string"},min:{type:"number"},minStep:{type:"number"},minorStep:{type:"number"},minorTick:{type:"object",properties:{lineColor:{type:"string"},lineStyle:{type:"string",enumValues:["dashed","dotted","solid"],value:"solid"},lineWidth:{type:"number"},rendered:{type:"string",enumValues:["auto","off","on"],value:"auto"}}},position:{type:"string",enumValues:["auto","bottom","end","start","top"],value:"auto"},referenceObjects:{type:"Array<Object>",value:[]},rendered:{type:"string",enumValues:["off","on"],value:"on"},scale:{type:"string",enumValues:["linear","log"],value:"linear"},size:{type:"string"},step:{type:"number"},tickLabel:{type:"object",properties:{converter:{type:"object"},position:{type:"string",enumValues:["inside","outside"],value:"outside"},rendered:{type:"string",enumValues:["off","on"],value:"on"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},style:{type:"object",value:{}}}},title:{type:"string"},titleStyle:{type:"object",value:{}},viewportMax:{type:"number"},viewportMin:{type:"number"}}},zoomAndScroll:{type:"string",enumValues:["delayed","delayedScrollOnly","live","liveScrollOnly","off"],value:"off"},zoomDirection:{type:"string",enumValues:["auto","x","y"],value:"auto"}},methods:{getAutomation:{},getContextByNode:{},getDataItem:{},getGroup:{},getGroupCount:{},getLegend:{},getPlotArea:{},getProperty:{},getSeries:{},getSeriesCount:{},getValuesAt:{},getXAxis:{},getY2Axis:{},getYAxis:{},refresh:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojDrill:{},ojGroupDrill:{},ojItemDrill:{},ojMultiSeriesDrill:{},ojSelectInput:{},ojSeriesDrill:{},ojViewportChange:{},ojViewportChangeInput:{}},extension:{}};!function(){l.extension._WIDGET_NAME="ojChart";var r=t.shapeParseFunction({"style-defaults.marker-shape":!0},{square:!0,circle:!0,diamond:!0,plus:!0,triangleDown:!0,triangleUp:!0,human:!0,star:!0,auto:!0});e.CustomElementBridge.register("oj-chart",{metadata:l,parseFunction:function(e,t,n,o){return"number|string"===n.type?isNaN(e)?e:Number(e):"style-defaults.data-label-style"===t?JSON.parse(e):r(e,t,n,o)}})}();var p={properties:{borderColor:{type:"string"},borderWidth:{type:"number"},boxPlot:{type:"object",properties:{medianSvgClassName:{type:"string"},medianSvgStyle:{type:"object"},q2Color:{type:"string"},q2SvgClassName:{type:"string"},q2SvgStyle:{type:"object"},q3Color:{type:"string"},q3SvgClassName:{type:"string"},q3SvgStyle:{type:"object"},whiskerEndLength:{type:"string"},whiskerEndSvgClassName:{type:"string"},whiskerEndSvgStyle:{type:"object"},whiskerSvgClassName:{type:"string"},whiskerSvgStyle:{type:"object"}}},categories:{type:"Array<string>"},close:{type:"number"},color:{type:"string"},drilling:{type:"string",enumValues:["inherit","off","on"],value:"inherit"},groupId:{type:"Array<(string|number)>"},high:{type:"number"},items:{type:"Array<Object>|Array<number>"},label:{type:"string|Array<string>"},labelPosition:{type:"string|Array<string>",enumValues:["aboveMarker","afterMarker","auto","beforeMarker","belowMarker","center","insideBarEdge","none","outsideBarEdge","outsideSlice"]},labelStyle:{type:"object|Array<Object>"},low:{type:"number"},markerDisplayed:{type:"string",enumValues:["auto","off","on"]},markerShape:{type:"string"},markerSize:{type:"number"},open:{type:"number"},pattern:{type:"string",enumValues:["auto","largeChecker","largeCrosshatch","largeDiagonalLeft","largeDiagonalRight","largeDiamond","largeTriangle","smallChecker","smallCrosshatch","smallDiagonalLeft","smallDiagonalRight","smallDiamond","smallTriangle"],value:"auto"},q1:{type:"number"},q2:{type:"number"},q3:{type:"number"},seriesId:{type:"string|number"},shortDesc:{type:"string|function"},source:{type:"string"},sourceHover:{type:"string"},sourceHoverSelected:{type:"string"},sourceSelected:{type:"string"},svgClassName:{type:"string"},svgStyle:{type:"object"},targetValue:{type:"number"},value:{type:"number"},volume:{type:"number"},x:{type:"number|string"},y:{type:"number"},z:{type:"number"}},extension:{}};!function(){p.extension._CONSTRUCTOR=function(){};e.CustomElementBridge.register("oj-chart-item",{metadata:p,parseFunction:t.shapeParseFunction({"marker-shape":!0},{square:!0,circle:!0,diamond:!0,plus:!0,triangleDown:!0,triangleUp:!0,human:!0,star:!0,auto:!0})})}();var u={properties:{areaColor:{type:"string"},areaSvgClassName:{type:"string"},areaSvgStyle:{type:"object"},assignedToY2:{type:"string",enumValues:["off","on"],value:"off"},borderColor:{type:"string"},borderWidth:{type:"number"},boxPlot:{type:"object",properties:{medianSvgClassName:{type:"string"},medianSvgStyle:{type:"object"},q2Color:{type:"string"},q2SvgClassName:{type:"string"},q2SvgStyle:{type:"object"},q3Color:{type:"string"},q3SvgClassName:{type:"string"},q3SvgStyle:{type:"object"},whiskerEndLength:{type:"string"},whiskerEndSvgClassName:{type:"string"},whiskerEndSvgStyle:{type:"object"},whiskerSvgClassName:{type:"string"},whiskerSvgStyle:{type:"object"}}},categories:{type:"Array<string>"},color:{type:"string"},displayInLegend:{type:"string",enumValues:["auto","off","on"],value:"auto"},drilling:{type:"string",enumValues:["inherit","off","on"],value:"inherit"},lineStyle:{type:"string",enumValues:["dashed","dotted","solid"]},lineType:{type:"string",enumValues:["auto","centeredSegmented","centeredStepped","curved","none","segmented","stepped","straight"]},lineWidth:{type:"number"},markerColor:{type:"string"},markerDisplayed:{type:"string",enumValues:["auto","off","on"]},markerShape:{type:"string"},markerSize:{type:"number"},markerSvgClassName:{type:"string"},markerSvgStyle:{type:"object"},name:{type:"string"},pattern:{type:"string",enumValues:["auto","largeChecker","largeCrosshatch","largeDiagonalLeft","largeDiagonalRight","largeDiamond","largeTriangle","smallChecker","smallCrosshatch","smallDiagonalLeft","smallDiagonalRight","smallDiamond","smallTriangle"],value:"auto"},pieSliceExplode:{type:"number",value:0},shortDesc:{type:"string"},source:{type:"string"},sourceHover:{type:"string"},sourceHoverSelected:{type:"string"},sourceSelected:{type:"string"},stackCategory:{type:"string"},svgClassName:{type:"string"},svgStyle:{type:"object"},type:{type:"string",enumValues:["area","auto","bar","boxPlot","candlestick","line","lineWithArea"],value:"auto"}},extension:{}};!function(){u.extension._CONSTRUCTOR=function(){};e.CustomElementBridge.register("oj-chart-series",{metadata:u,parseFunction:t.shapeParseFunction({"marker-shape":!0},{square:!0,circle:!0,diamond:!0,plus:!0,triangleDown:!0,triangleUp:!0,human:!0,star:!0,auto:!0})})}();var y={properties:{drilling:{type:"string",enumValues:["inherit","off","on"],value:"inherit"},labelStyle:{type:"object"},name:{type:"string"},shortDesc:{type:"string"}},extension:{}};y.extension._CONSTRUCTOR=function(){},e.CustomElementBridge.register("oj-chart-group",{metadata:y});var g={properties:{animationDuration:{type:"number"},animationOnDataChange:{type:"string",enumValues:["auto","none"],value:"none"},animationOnDisplay:{type:"string",enumValues:["auto","none"],value:"none"},areaColor:{type:"string",value:""},areaSvgClassName:{type:"string",value:""},areaSvgStyle:{type:"object",value:{}},as:{type:"string",value:""},barGapRatio:{type:"number",value:.25},baselineScaling:{type:"string",enumValues:["min","zero"],value:"min"},color:{type:"string"},data:{type:"object",extension:{webelement:{exceptionStatus:[{type:"unsupported",since:"13.0.0",description:"Data sets from a DataProvider cannot be sent to WebDriverJS; use ViewModels or page variables instead."}]}}},firstColor:{type:"string",value:""},highColor:{type:"string",value:""},items:{type:"Array<Object>|Array<number>|Promise"},lastColor:{type:"string",value:""},lineStyle:{type:"string",enumValues:["dashed","dotted","solid"],value:"solid"},lineType:{type:"string",enumValues:["centeredSegmented","centeredStepped","curved","none","segmented","stepped","straight"],value:"straight"},lineWidth:{type:"number",value:1},lowColor:{type:"string",value:""},markerShape:{type:"string",value:"auto"},markerSize:{type:"number",value:5},referenceObjects:{type:"Array<Object>",value:[]},svgClassName:{type:"string",value:""},svgStyle:{type:"object",value:{}},tooltip:{type:"object",properties:{renderer:{type:"function"}}},trackResize:{type:"string",enumValues:["off","on"],value:"on"},translations:{type:"object",value:{},properties:{accessibleContainsControls:{type:"string"},componentName:{type:"string"},labelAndValue:{type:"string"},labelClearSelection:{type:"string"},labelCountWithTotal:{type:"string"},labelDataVisualization:{type:"string"},labelInvalidData:{type:"string"},labelNoData:{type:"string"},stateCollapsed:{type:"string"},stateDrillable:{type:"string"},stateExpanded:{type:"string"},stateHidden:{type:"string"},stateIsolated:{type:"string"},stateMaximized:{type:"string"},stateMinimized:{type:"string"},stateSelected:{type:"string"},stateUnselected:{type:"string"},stateVisible:{type:"string"}}},type:{type:"string",enumValues:["area","bar","line","lineWithArea"],value:"line"},visualEffects:{type:"string",enumValues:["auto","none"],value:"auto"}},methods:{getDataItem:{},getProperty:{},refresh:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},extension:{}};!function(){g.extension._WIDGET_NAME="ojSparkChart";e.CustomElementBridge.register("oj-spark-chart",{metadata:g,parseFunction:t.shapeParseFunction({"marker-shape":!0},{square:!0,circle:!0,diamond:!0,plus:!0,triangleDown:!0,triangleUp:!0,human:!0,star:!0,auto:!0})})}();var c={properties:{borderColor:{type:"string",value:""},color:{type:"string",value:""},date:{type:"string",value:""},high:{type:"number"},low:{type:"number"},markerDisplayed:{type:"string",enumValues:["off","on"],value:"off"},markerShape:{type:"string"},markerSize:{type:"number"},svgClassName:{type:"string",value:""},svgStyle:{type:"object",value:{}},value:{type:"number"}},extension:{}};c.extension._CONSTRUCTOR=function(){},e.CustomElementBridge.register("oj-spark-chart-item",{metadata:c});const d=(e,t,r,n)=>{const o=e.element[0],i=e._TemplateHandler,s=i.getTemplates(),l=s.seriesTemplate?s.seriesTemplate[0]:null,p=s.groupTemplate?s.groupTemplate[0]:null,u=e.options.seriesComparator,y=e.options.groupComparator,g=new Map,c=p||y?new Map:null,d=new Map,m=(e,a)=>{const s=[...e.keys()],l=new Map,u=s.map((s,u)=>{let g;const d=e.get(s),b=d.value,h=d.groups;let v;return(p||y)&&(v=((e,t,n,i)=>{const a={ids:t,componentElement:o,depth:t.length,leaf:i,index:n};return Object.defineProperty(a,"items",{get:()=>c.get(e).map(e=>{const t=r[e];return{data:t._itemData,key:t.id,index:e}})}),a})(b,[...a,s],u,!h),l.set(s,v)),g=p?i.processNodeTemplate(n,t,p,"oj-chart-group",v,b):{},g.id=s,g.name=null==g.name?s:g.name,h?g.groups=m(h,[...a,s]):Object.defineProperty(g,"symbol",{value:b,enumerable:!1}),g});return y&&u.sort((e,t)=>y(l.get(e.id),l.get(t.id))),u},b=e=>{const t=[];return e.forEach(e=>{e.groups?t.push(...b(e.groups)):t.push(e.symbol)}),t};r.forEach((e,t)=>{const r=(e=>{let t=g;const r=[];for(let n=0;n<e.length;n++){const o=e[n];let i=t.get(o);i||(i={value:Symbol(o)},n!==e.length-1&&(i.groups=new Map),t.set(o,i)),r.push(i.value),t=i.groups}return r})(e.groupId);((e,t,r)=>{let n=d.get(e);n||(n=new Map,d.set(e,n));const o=t[t.length-1];void 0===n.get(o)&&(n.set(o,r),c&&t.forEach(e=>{let t=c.get(e);t||(t=[],c.set(e,t)),t.push(r)}))})(e.seriesId,r,t)});const h=(()=>{try{return m(g,[])}catch(e){return a.error(e),[]}})(),v=(e=>{let s;try{const a=new Map,p=b(e);s=[...d.keys()].map((e,s)=>{const y=d.get(e);let g,c;return(l||u)&&(g=((e,t,n,i)=>{const a={componentElement:o,id:e,index:t};return Object.defineProperty(a,"items",{get:()=>{const e=[];return n.forEach(t=>{const n=i.get(t);if(null!=n){const t=r[n];e.push({data:t._itemData,key:t.id,index:n})}}),e}}),a})(e,s,p,y),a.set(e,g)),c=l?i.processNodeTemplate(n,t,l,"oj-chart-series",g,e):{},c.id=e,c.name=null==c.name?String(e):c.name,c.items=p.map(e=>{let t=null;const n=y.get(e);return null!=n&&(t=r[n]),t}),c}),u&&s.sort((e,t)=>u(a.get(e.id),a.get(t.id)))}catch(e){a.error(e),s=[]}return s})(h);return{groups:h,series:v}};e.__registerWidget("oj.ojChart",n.oj.dvtBaseComponent,{widgetEventPrefix:"oj",options:{data:null,series:null,groups:null,selectInput:null,tooltip:{renderer:null},viewportChange:null,viewportChangeInput:null,drill:null,itemDrill:null,groupDrill:null,seriesDrill:null,multiSeriesDrill:null,comboSeriesOrder:"seriesType"},_ComponentCreate:function(){this._super(),this._SetLocaleHelpers(i,o)},_CreateDvtComponent:function(e,t,r){return new s.Chart(e,t,r)},_ConvertLocatorToSubId:function(e){var t=e.subId;return"oj-chart-item"===t?t="dataItem["+e.seriesIndex+"]["+e.itemIndex+"]":"oj-chart-group"===t?t="group"+this._GetStringFromIndexPath(e.indexPath):"oj-chart-series"===t?t="series["+e.index+"]":"oj-chart-axis-title"===t?t=e.axis+":title":"oj-chart-reference-object"===t?t=e.axis+":referenceObject["+e.index+"]":"oj-legend-item"===t?(t="legend:section"+this._GetStringFromIndexPath(e.sectionIndexPath),t+=":item["+e.itemIndex+"]"):"oj-chart-tooltip"===t?t="tooltip":"oj-chart-pie-center-label"===t&&(t="pieCenterLabel"),t},_ProcessTemplates:function(e,t,r,n,o,i,a){var s=i?this._TemplateHandler.getComponentResults(e):null;if(!s){var l=this._super(e,t,r,n,o,i,a),p=d(this,r,l.values[0],e);s={paths:["series","groups"],values:[p.series,p.groups]},i&&this._TemplateHandler.setComponentResults(e,s)}return s},_GetSimpleDataProviderConfigs:function(){return{data:{templateName:"itemTemplate",templateElementName:"oj-chart-item",resultPath:"_item",derivedTemplates:["seriesTemplate","groupTemplate"]}}},_UseObjectAssignForShapedData:function(){return!0},_ProcessOptions:function(){this._super();var e=this.options.pieCenter;e&&e._renderer&&(e.renderer=this._GetTemplateRenderer(e._renderer,"center"));var t=this.options.selection;this._IsCustomElement()&&t&&"object"==typeof t[0]&&!this.options.data&&(this.options.selection=null)},_ConvertSubIdToLocator:function(e){var t={};if(0===e.indexOf("dataItem")){var r=this._GetIndexPath(e);t.subId="oj-chart-item",t.seriesIndex=r[0],t.itemIndex=r[1]}else if(0===e.indexOf("group"))t.subId="oj-chart-group",t.indexPath=this._GetIndexPath(e);else if(0===e.indexOf("series"))t.subId="oj-chart-series",t.index=this._GetFirstIndex(e);else if(e.indexOf("Axis:title")>0)t.subId="oj-chart-axis-title",t.axis=e.substring(0,e.indexOf(":"));else if(e.indexOf("Axis:referenceObject")>0)t.subId="oj-chart-reference-object",t.axis=e.substring(0,e.indexOf(":")),t.index=this._GetFirstIndex(e);else if(0===e.indexOf("legend")){if(e.indexOf(":item")>0){var n=e.indexOf(":item"),o=e.substring(0,n),i=e.substring(n);t.subId="oj-legend-item",t.sectionIndexPath=this._GetIndexPath(o),t.itemIndex=this._GetFirstIndex(i)}}else"tooltip"===e?t.subId="oj-chart-tooltip":"pieCenterLabel"===e&&(t.subId="oj-chart-pie-center-label");return t},_GetComponentRendererOptions:function(){return[{path:"tooltip/renderer",slot:"tooltipTemplate"},{path:"pieCenter/renderer",slot:"pieCenterTemplate"}]},_GetComponentStyleClasses:function(){var e=this._super();return e.push("oj-chart"),e},_GetChildStyleClasses:function(){var e=this._super();return e["oj-chart-data-label"]={path:"styleDefaults/_dataLabelStyle",property:"TEXT"},e["oj-chart-data-cursor-line"]=[{path:"styleDefaults/dataCursor/lineColor",property:"color"},{path:"styleDefaults/dataCursor/lineWidth",property:"width"}],e["oj-chart-stack-label"]={path:"styleDefaults/stackLabelStyle",property:"TEXT"},e["oj-chart-pie-center-label"]={path:"pieCenter/labelStyle",property:"TEXT"},e["oj-chart-slice-label"]={path:"styleDefaults/sliceLabelStyle",property:"TEXT"},e["oj-chart-stock-falling"]={path:"styleDefaults/stockFallingColor",property:"background-color"},e["oj-chart-stock-range"]={path:"styleDefaults/stockRangeColor",property:"background-color"},e["oj-chart-stock-rising"]={path:"styleDefaults/stockRisingColor",property:"background-color"},e["oj-chart-xaxis-tick-label"]={path:"xAxis/tickLabel/style",property:"TEXT"},e["oj-chart-xaxis-title"]={path:"xAxis/titleStyle",property:"TEXT"},e["oj-chart-yaxis-tick-label"]={path:"yAxis/tickLabel/style",property:"TEXT"},e["oj-chart-yaxis-title"]={path:"yAxis/titleStyle",property:"TEXT"},e["oj-chart-y2axis-tick-label"]={path:"y2Axis/tickLabel/style",property:"TEXT"},e["oj-chart-y2axis-title"]={path:"y2Axis/titleStyle",property:"TEXT"},e["oj-chart-reference-object-line"]=[{path:"_defaultReferenceObjectLineColor",property:"color"},{path:"_defaultReferenceObjectLineWidth",property:"width"}],e["oj-chart-reference-object-area"]={path:"_defaultReferenceObjectAreaColor",property:"color"},e["oj-legend"]={path:"legend/textStyle",property:"TEXT"},e["oj-legend-title"]={path:"legend/titleStyle",property:"TEXT"},e["oj-legend-section-title"]=[{path:"legend/_sectionTitleStyle",property:"TEXT"},{path:"legend/sectionTitleStyle",property:"TEXT"}],e["oj-legend-hover"]={path:"legend/_hoverBorderRadius",property:"border-radius"},e["oj-dvt-color-ramp"]={path:"styleDefaults/colors",property:"COLOR"},e},_GetEventTypes:function(){return["drill","groupDrill","itemDrill","seriesDrill","multiSeriesDrill","optionChange","selectInput","viewportChange","viewportChangeInput"]},_HandleEvent:function(e){var t=e.type;if("selection"===t){var r=e.selection;if(r){for(var n=[],o=[],i=0;i<r.length;i++){var a;a=this._IsCustomElement()?r[i].id:{id:r[i].id,series:r[i].series,group:r[i].group};var s={data:r[i].data,seriesData:r[i].seriesData,groupData:r[i].groupData,itemData:r[i].itemData};n.push(a),o.push(s)}var l={endGroup:e.endGroup,startGroup:e.startGroup,xMax:e.xMax,xMin:e.xMin,yMax:e.yMax,yMin:e.yMin,y2Max:e.y2Max,y2Min:e.y2Min,selectionData:o};this._IsCustomElement()||(l.component=e.component),e.complete?this._UserOptionChange("selection",n,l):(l.items=n,this._trigger("selectInput",null,l))}}else if("viewportChange"===t){var p={endGroup:e.endGroup,startGroup:e.startGroup,xMax:e.xMax,xMin:e.xMin,yMax:e.yMax,yMin:e.yMin};e.complete&&(this.options.xAxis||(this.options.xAxis={}),this.options.yAxis||(this.options.yAxis={}),this.options.xAxis.viewportStartGroup=null,this.options.xAxis.viewportEndGroup=null,null!=e.xMin&&null!=e.xMax&&(this.options.xAxis.viewportMin=e.xMin,this.options.xAxis.viewportMax=e.xMax),null!=e.yMin&&null!=e.yMax&&(this.options.yAxis.viewportMin=e.yMin,this.options.yAxis.viewportMax=e.yMax)),this._trigger(e.complete?"viewportChange":"viewportChangeInput",null,p)}else if("drill"===t)if(e.subType){if(this._IsCustomElement()){var u=e.subType;"item"===u?this._trigger("itemDrill",null,{id:e.id,series:e.series,group:e.group,data:e.data,itemData:e.itemData,seriesData:e.seriesData,groupData:e.groupData}):"group"===u?this._trigger("groupDrill",null,{group:e.group,groupData:e.groupData,id:e.id,items:e.items}):"series"===u?this._trigger("seriesDrill",null,{id:e.id,items:e.items,series:e.series,seriesData:e.seriesData}):"multiSeries"===u&&this._trigger("multiSeriesDrill",null,{items:e.items,series:e.series,seriesData:e.seriesData})}}else this._trigger("drill",null,{id:e.id,series:e.series,group:e.group,data:e.data,seriesData:e.seriesData,groupData:e.groupData,itemData:e.itemData,component:e.component});else this._super(e)},_LoadResources:function(){null==this.options._resources&&(this.options._resources={});var e=this.options._resources;e.overviewGrippy="oj-fwk-icon oj-fwk-icon-drag-horizontal",e.pan="oj-fwk-icon oj-fwk-icon-pan",e.select="oj-fwk-icon oj-fwk-icon-marquee",e.zoom="oj-fwk-icon oj-fwk-icon-magnifier"},getTitle:function(){return this._component.getAutomation().getTitle()},getGroup:function(e){return this._component.getAutomation().getGroup(e)},getSeries:function(e){return this._component.getAutomation().getSeries(e)},getGroupCount:function(){return this._component.getAutomation().getGroupCount()},getSeriesCount:function(){return this._component.getAutomation().getSeriesCount()},getDataItem:function(e,t){return this._component.getAutomation().getDataItem(e,t)},getLegend:function(){return this._component.getAutomation().getLegend()},getPlotArea:function(){return this._component.getAutomation().getPlotArea()},getXAxis:function(){return this._component.getAutomation().getXAxis()},getYAxis:function(){return this._component.getAutomation().getYAxis()},getY2Axis:function(){return this._component.getAutomation().getY2Axis()},getValuesAt:function(e,t){return this._component.getValsAt(e,t)},getContextByNode:function(e){var t=this.getSubIdByNode(e);return t&&"oj-chart-tooltip"!==t.subId?t:null},getAutomation:function(){return this._component.getAutomation()},_GetComponentNoClonePaths:function(){var e=this._super();return e.pieCenter={converter:!0},e.xAxis={tickLabel:{converter:!0}},e.yAxis={tickLabel:{converter:!0}},e.y2Axis={tickLabel:{converter:!0}},e.valueFormats={close:{converter:!0},high:{converter:!0},label:{converter:!0},low:{converter:!0},open:{converter:!0},q1:{converter:!0},q2:{converter:!0},q3:{converter:!0},targetValue:{converter:!0},value:{converter:!0},volume:{converter:!0},x:{converter:!0},y:{converter:!0},y2:{converter:!0},z:{converter:!0}},e},_GetComponentDeferredDataPaths:function(){return{root:["groups","series","data"]}},_CompareOptionValues:function(t,r,n){return"dataCursorPosition"===t?e.Object.compareValues(r,n):this._super(t,r,n)}}),e.__registerWidget("oj.ojSparkChart",n.oj.dvtBaseComponent,{widgetEventPrefix:"oj",options:{as:"",data:null,items:null,referenceObjects:[],tooltip:{renderer:null},type:"line",color:"",areaColor:"",areaSvgClassName:"",areaSvgStyle:{},svgClassName:"",svgStyle:{},firstColor:"",lastColor:"",highColor:"",lowColor:"",animationDuration:void 0,animationOnDataChange:"none",animationOnDisplay:"none",visualEffects:"auto",baselineScaling:"min",lineWidth:1,lineStyle:"solid",lineType:"straight",markerShape:"auto",markerSize:5,barGapRatio:.25},_CreateDvtComponent:function(e,t,r){return this._focusable({element:this.element,applyHighlight:!0}),new s.SparkChart(e,t,r)},_GetComponentStyleClasses:function(){var e=this._super();return e.push("oj-sparkchart"),e},_GetChildStyleClasses:function(){var e=this._super();return e["oj-dvtbase oj-sparkchart"]={path:"animationDuration",property:"ANIM_DUR"},e["oj-spark-chart-item"]={path:"color",property:"color"},e},_Render:function(){this.element.attr("title")?(this.options.shortDesc=this.element.attr("title"),this.element.data(this.element,"title",this.element.attr("title")),this.element.removeAttr("title")):this.element.data("title")&&(this.options.shortDesc=this.element.data("title")),this._super()},getDataItem:function(e){var t=this._component.getAutomation().getDataItem(e);return this._AddAutomationGetters(t),t&&(t.getFloatValue=t.getLow),t},_GetComponentDeferredDataPaths:function(){return{root:["items","data"]}},_GetSimpleDataProviderConfigs:function(){return{data:{templateName:"itemTemplate",templateElementName:"oj-spark-chart-item",resultPath:"items"}}},_AddAutomationGetters:function(e){if(e){for(var t={},r=Object.keys(e),n=0;n<r.length;n++)this._addGetter(e,r[n],t);Object.defineProperties(e,t)}},_addGetter:function(e,t,r){r[("selected"===t?"is":"get")+t.charAt(0).toUpperCase()+t.slice(1)]={value:function(){return e[t]}}}})});
//# sourceMappingURL=ojchart.js.map;
/*!
 * Knockout JavaScript library v3.5.1
 * (c) The Knockout.js team - http://knockoutjs.com/
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 */

(function() {(function(n){var A=this||(0,eval)("this"),w=A.document,R=A.navigator,v=A.jQuery,H=A.JSON;v||"undefined"===typeof jQuery||(v=jQuery);(function(n){"function"===typeof define&&define.amd?define('knockout',["exports","require"],n):"object"===typeof exports&&"object"===typeof module?n(module.exports||exports):n(A.ko={})})(function(S,T){function K(a,c){return null===a||typeof a in W?a===c:!1}function X(b,c){var d;return function(){d||(d=a.a.setTimeout(function(){d=n;b()},c))}}function Y(b,c){var d;return function(){clearTimeout(d);
d=a.a.setTimeout(b,c)}}function Z(a,c){c&&"change"!==c?"beforeChange"===c?this.pc(a):this.gb(a,c):this.qc(a)}function aa(a,c){null!==c&&c.s&&c.s()}function ba(a,c){var d=this.qd,e=d[r];e.ra||(this.Qb&&this.mb[c]?(d.uc(c,a,this.mb[c]),this.mb[c]=null,--this.Qb):e.I[c]||d.uc(c,a,e.J?{da:a}:d.$c(a)),a.Ja&&a.gd())}var a="undefined"!==typeof S?S:{};a.b=function(b,c){for(var d=b.split("."),e=a,f=0;f<d.length-1;f++)e=e[d[f]];e[d[d.length-1]]=c};a.L=function(a,c,d){a[c]=d};a.version="3.5.1";a.b("version",
a.version);a.options={deferUpdates:!1,useOnlyNativeEvents:!1,foreachHidesDestroyed:!1};a.a=function(){function b(a,b){for(var c in a)f.call(a,c)&&b(c,a[c])}function c(a,b){if(b)for(var c in b)f.call(b,c)&&(a[c]=b[c]);return a}function d(a,b){a.__proto__=b;return a}function e(b,c,d,e){var l=b[c].match(q)||[];a.a.D(d.match(q),function(b){a.a.Na(l,b,e)});b[c]=l.join(" ")}var f=Object.prototype.hasOwnProperty,g={__proto__:[]}instanceof Array,h="function"===typeof Symbol,m={},k={};m[R&&/Firefox\/2/i.test(R.userAgent)?
"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"];m.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" ");b(m,function(a,b){if(b.length)for(var c=0,d=b.length;c<d;c++)k[b[c]]=a});var l={propertychange:!0},p=w&&function(){for(var a=3,b=w.createElement("div"),c=b.getElementsByTagName("i");b.innerHTML="\x3c!--[if gt IE "+ ++a+"]><i></i><![endif]--\x3e",c[0];);return 4<a?a:n}(),q=/\S+/g,t;return{Jc:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],
D:function(a,b,c){for(var d=0,e=a.length;d<e;d++)b.call(c,a[d],d,a)},A:"function"==typeof Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b)}:function(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},Lb:function(a,b,c){for(var d=0,e=a.length;d<e;d++)if(b.call(c,a[d],d,a))return a[d];return n},Pa:function(b,c){var d=a.a.A(b,c);0<d?b.splice(d,1):0===d&&b.shift()},wc:function(b){var c=[];b&&a.a.D(b,function(b){0>a.a.A(c,b)&&c.push(b)});return c},Mb:function(a,
b,c){var d=[];if(a)for(var e=0,l=a.length;e<l;e++)d.push(b.call(c,a[e],e));return d},jb:function(a,b,c){var d=[];if(a)for(var e=0,l=a.length;e<l;e++)b.call(c,a[e],e)&&d.push(a[e]);return d},Nb:function(a,b){if(b instanceof Array)a.push.apply(a,b);else for(var c=0,d=b.length;c<d;c++)a.push(b[c]);return a},Na:function(b,c,d){var e=a.a.A(a.a.bc(b),c);0>e?d&&b.push(c):d||b.splice(e,1)},Ba:g,extend:c,setPrototypeOf:d,Ab:g?d:c,P:b,Ga:function(a,b,c){if(!a)return a;var d={},e;for(e in a)f.call(a,e)&&(d[e]=
b.call(c,a[e],e,a));return d},Tb:function(b){for(;b.firstChild;)a.removeNode(b.firstChild)},Yb:function(b){b=a.a.la(b);for(var c=(b[0]&&b[0].ownerDocument||w).createElement("div"),d=0,e=b.length;d<e;d++)c.appendChild(a.oa(b[d]));return c},Ca:function(b,c){for(var d=0,e=b.length,l=[];d<e;d++){var k=b[d].cloneNode(!0);l.push(c?a.oa(k):k)}return l},va:function(b,c){a.a.Tb(b);if(c)for(var d=0,e=c.length;d<e;d++)b.appendChild(c[d])},Xc:function(b,c){var d=b.nodeType?[b]:b;if(0<d.length){for(var e=d[0],
l=e.parentNode,k=0,f=c.length;k<f;k++)l.insertBefore(c[k],e);k=0;for(f=d.length;k<f;k++)a.removeNode(d[k])}},Ua:function(a,b){if(a.length){for(b=8===b.nodeType&&b.parentNode||b;a.length&&a[0].parentNode!==b;)a.splice(0,1);for(;1<a.length&&a[a.length-1].parentNode!==b;)a.length--;if(1<a.length){var c=a[0],d=a[a.length-1];for(a.length=0;c!==d;)a.push(c),c=c.nextSibling;a.push(d)}}return a},Zc:function(a,b){7>p?a.setAttribute("selected",b):a.selected=b},Db:function(a){return null===a||a===n?"":a.trim?
a.trim():a.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},Ud:function(a,b){a=a||"";return b.length>a.length?!1:a.substring(0,b.length)===b},vd:function(a,b){if(a===b)return!0;if(11===a.nodeType)return!1;if(b.contains)return b.contains(1!==a.nodeType?a.parentNode:a);if(b.compareDocumentPosition)return 16==(b.compareDocumentPosition(a)&16);for(;a&&a!=b;)a=a.parentNode;return!!a},Sb:function(b){return a.a.vd(b,b.ownerDocument.documentElement)},kd:function(b){return!!a.a.Lb(b,a.a.Sb)},R:function(a){return a&&
a.tagName&&a.tagName.toLowerCase()},Ac:function(b){return a.onError?function(){try{return b.apply(this,arguments)}catch(c){throw a.onError&&a.onError(c),c;}}:b},setTimeout:function(b,c){return setTimeout(a.a.Ac(b),c)},Gc:function(b){setTimeout(function(){a.onError&&a.onError(b);throw b;},0)},B:function(b,c,d){var e=a.a.Ac(d);d=l[c];if(a.options.useOnlyNativeEvents||d||!v)if(d||"function"!=typeof b.addEventListener)if("undefined"!=typeof b.attachEvent){var k=function(a){e.call(b,a)},f="on"+c;b.attachEvent(f,
k);a.a.K.za(b,function(){b.detachEvent(f,k)})}else throw Error("Browser doesn't support addEventListener or attachEvent");else b.addEventListener(c,e,!1);else t||(t="function"==typeof v(b).on?"on":"bind"),v(b)[t](c,e)},Fb:function(b,c){if(!b||!b.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var d;"input"===a.a.R(b)&&b.type&&"click"==c.toLowerCase()?(d=b.type,d="checkbox"==d||"radio"==d):d=!1;if(a.options.useOnlyNativeEvents||!v||d)if("function"==typeof w.createEvent)if("function"==
typeof b.dispatchEvent)d=w.createEvent(k[c]||"HTMLEvents"),d.initEvent(c,!0,!0,A,0,0,0,0,0,!1,!1,!1,!1,0,b),b.dispatchEvent(d);else throw Error("The supplied element doesn't support dispatchEvent");else if(d&&b.click)b.click();else if("undefined"!=typeof b.fireEvent)b.fireEvent("on"+c);else throw Error("Browser doesn't support triggering events");else v(b).trigger(c)},f:function(b){return a.O(b)?b():b},bc:function(b){return a.O(b)?b.v():b},Eb:function(b,c,d){var l;c&&("object"===typeof b.classList?
(l=b.classList[d?"add":"remove"],a.a.D(c.match(q),function(a){l.call(b.classList,a)})):"string"===typeof b.className.baseVal?e(b.className,"baseVal",c,d):e(b,"className",c,d))},Bb:function(b,c){var d=a.a.f(c);if(null===d||d===n)d="";var e=a.h.firstChild(b);!e||3!=e.nodeType||a.h.nextSibling(e)?a.h.va(b,[b.ownerDocument.createTextNode(d)]):e.data=d;a.a.Ad(b)},Yc:function(a,b){a.name=b;if(7>=p)try{var c=a.name.replace(/[&<>'"]/g,function(a){return"&#"+a.charCodeAt(0)+";"});a.mergeAttributes(w.createElement("<input name='"+
c+"'/>"),!1)}catch(d){}},Ad:function(a){9<=p&&(a=1==a.nodeType?a:a.parentNode,a.style&&(a.style.zoom=a.style.zoom))},wd:function(a){if(p){var b=a.style.width;a.style.width=0;a.style.width=b}},Pd:function(b,c){b=a.a.f(b);c=a.a.f(c);for(var d=[],e=b;e<=c;e++)d.push(e);return d},la:function(a){for(var b=[],c=0,d=a.length;c<d;c++)b.push(a[c]);return b},Da:function(a){return h?Symbol(a):a},Zd:6===p,$d:7===p,W:p,Lc:function(b,c){for(var d=a.a.la(b.getElementsByTagName("input")).concat(a.a.la(b.getElementsByTagName("textarea"))),
e="string"==typeof c?function(a){return a.name===c}:function(a){return c.test(a.name)},l=[],k=d.length-1;0<=k;k--)e(d[k])&&l.push(d[k]);return l},Nd:function(b){return"string"==typeof b&&(b=a.a.Db(b))?H&&H.parse?H.parse(b):(new Function("return "+b))():null},hc:function(b,c,d){if(!H||!H.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");
return H.stringify(a.a.f(b),c,d)},Od:function(c,d,e){e=e||{};var l=e.params||{},k=e.includeFields||this.Jc,f=c;if("object"==typeof c&&"form"===a.a.R(c))for(var f=c.action,h=k.length-1;0<=h;h--)for(var g=a.a.Lc(c,k[h]),m=g.length-1;0<=m;m--)l[g[m].name]=g[m].value;d=a.a.f(d);var p=w.createElement("form");p.style.display="none";p.action=f;p.method="post";for(var q in d)c=w.createElement("input"),c.type="hidden",c.name=q,c.value=a.a.hc(a.a.f(d[q])),p.appendChild(c);b(l,function(a,b){var c=w.createElement("input");
c.type="hidden";c.name=a;c.value=b;p.appendChild(c)});w.body.appendChild(p);e.submitter?e.submitter(p):p.submit();setTimeout(function(){p.parentNode.removeChild(p)},0)}}}();a.b("utils",a.a);a.b("utils.arrayForEach",a.a.D);a.b("utils.arrayFirst",a.a.Lb);a.b("utils.arrayFilter",a.a.jb);a.b("utils.arrayGetDistinctValues",a.a.wc);a.b("utils.arrayIndexOf",a.a.A);a.b("utils.arrayMap",a.a.Mb);a.b("utils.arrayPushAll",a.a.Nb);a.b("utils.arrayRemoveItem",a.a.Pa);a.b("utils.cloneNodes",a.a.Ca);a.b("utils.createSymbolOrString",
a.a.Da);a.b("utils.extend",a.a.extend);a.b("utils.fieldsIncludedWithJsonPost",a.a.Jc);a.b("utils.getFormFields",a.a.Lc);a.b("utils.objectMap",a.a.Ga);a.b("utils.peekObservable",a.a.bc);a.b("utils.postJson",a.a.Od);a.b("utils.parseJson",a.a.Nd);a.b("utils.registerEventHandler",a.a.B);a.b("utils.stringifyJson",a.a.hc);a.b("utils.range",a.a.Pd);a.b("utils.toggleDomNodeCssClass",a.a.Eb);a.b("utils.triggerEvent",a.a.Fb);a.b("utils.unwrapObservable",a.a.f);a.b("utils.objectForEach",a.a.P);a.b("utils.addOrRemoveItem",
a.a.Na);a.b("utils.setTextContent",a.a.Bb);a.b("unwrap",a.a.f);Function.prototype.bind||(Function.prototype.bind=function(a){var c=this;if(1===arguments.length)return function(){return c.apply(a,arguments)};var d=Array.prototype.slice.call(arguments,1);return function(){var e=d.slice(0);e.push.apply(e,arguments);return c.apply(a,e)}});a.a.g=new function(){var b=0,c="__ko__"+(new Date).getTime(),d={},e,f;a.a.W?(e=function(a,e){var f=a[c];if(!f||"null"===f||!d[f]){if(!e)return n;f=a[c]="ko"+b++;d[f]=
{}}return d[f]},f=function(a){var b=a[c];return b?(delete d[b],a[c]=null,!0):!1}):(e=function(a,b){var d=a[c];!d&&b&&(d=a[c]={});return d},f=function(a){return a[c]?(delete a[c],!0):!1});return{get:function(a,b){var c=e(a,!1);return c&&c[b]},set:function(a,b,c){(a=e(a,c!==n))&&(a[b]=c)},Ub:function(a,b,c){a=e(a,!0);return a[b]||(a[b]=c)},clear:f,Z:function(){return b++ +c}}};a.b("utils.domData",a.a.g);a.b("utils.domData.clear",a.a.g.clear);a.a.K=new function(){function b(b,c){var d=a.a.g.get(b,e);
d===n&&c&&(d=[],a.a.g.set(b,e,d));return d}function c(c){var e=b(c,!1);if(e)for(var e=e.slice(0),k=0;k<e.length;k++)e[k](c);a.a.g.clear(c);a.a.K.cleanExternalData(c);g[c.nodeType]&&d(c.childNodes,!0)}function d(b,d){for(var e=[],l,f=0;f<b.length;f++)if(!d||8===b[f].nodeType)if(c(e[e.length]=l=b[f]),b[f]!==l)for(;f--&&-1==a.a.A(e,b[f]););}var e=a.a.g.Z(),f={1:!0,8:!0,9:!0},g={1:!0,9:!0};return{za:function(a,c){if("function"!=typeof c)throw Error("Callback must be a function");b(a,!0).push(c)},yb:function(c,
d){var f=b(c,!1);f&&(a.a.Pa(f,d),0==f.length&&a.a.g.set(c,e,n))},oa:function(b){a.u.G(function(){f[b.nodeType]&&(c(b),g[b.nodeType]&&d(b.getElementsByTagName("*")))});return b},removeNode:function(b){a.oa(b);b.parentNode&&b.parentNode.removeChild(b)},cleanExternalData:function(a){v&&"function"==typeof v.cleanData&&v.cleanData([a])}}};a.oa=a.a.K.oa;a.removeNode=a.a.K.removeNode;a.b("cleanNode",a.oa);a.b("removeNode",a.removeNode);a.b("utils.domNodeDisposal",a.a.K);a.b("utils.domNodeDisposal.addDisposeCallback",
a.a.K.za);a.b("utils.domNodeDisposal.removeDisposeCallback",a.a.K.yb);(function(){var b=[0,"",""],c=[1,"<table>","</table>"],d=[3,"<table><tbody><tr>","</tr></tbody></table>"],e=[1,"<select multiple='multiple'>","</select>"],f={thead:c,tbody:c,tfoot:c,tr:[2,"<table><tbody>","</tbody></table>"],td:d,th:d,option:e,optgroup:e},g=8>=a.a.W;a.a.ua=function(c,d){var e;if(v)if(v.parseHTML)e=v.parseHTML(c,d)||[];else{if((e=v.clean([c],d))&&e[0]){for(var l=e[0];l.parentNode&&11!==l.parentNode.nodeType;)l=l.parentNode;
l.parentNode&&l.parentNode.removeChild(l)}}else{(e=d)||(e=w);var l=e.parentWindow||e.defaultView||A,p=a.a.Db(c).toLowerCase(),q=e.createElement("div"),t;t=(p=p.match(/^(?:\x3c!--.*?--\x3e\s*?)*?<([a-z]+)[\s>]/))&&f[p[1]]||b;p=t[0];t="ignored<div>"+t[1]+c+t[2]+"</div>";"function"==typeof l.innerShiv?q.appendChild(l.innerShiv(t)):(g&&e.body.appendChild(q),q.innerHTML=t,g&&q.parentNode.removeChild(q));for(;p--;)q=q.lastChild;e=a.a.la(q.lastChild.childNodes)}return e};a.a.Md=function(b,c){var d=a.a.ua(b,
c);return d.length&&d[0].parentElement||a.a.Yb(d)};a.a.fc=function(b,c){a.a.Tb(b);c=a.a.f(c);if(null!==c&&c!==n)if("string"!=typeof c&&(c=c.toString()),v)v(b).html(c);else for(var d=a.a.ua(c,b.ownerDocument),e=0;e<d.length;e++)b.appendChild(d[e])}})();a.b("utils.parseHtmlFragment",a.a.ua);a.b("utils.setHtml",a.a.fc);a.aa=function(){function b(c,e){if(c)if(8==c.nodeType){var f=a.aa.Uc(c.nodeValue);null!=f&&e.push({ud:c,Kd:f})}else if(1==c.nodeType)for(var f=0,g=c.childNodes,h=g.length;f<h;f++)b(g[f],
e)}var c={};return{Xb:function(a){if("function"!=typeof a)throw Error("You can only pass a function to ko.memoization.memoize()");var b=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);c[b]=a;return"\x3c!--[ko_memo:"+b+"]--\x3e"},bd:function(a,b){var f=c[a];if(f===n)throw Error("Couldn't find any memo with ID "+a+". Perhaps it's already been unmemoized.");try{return f.apply(null,b||[]),!0}finally{delete c[a]}},cd:function(c,e){var f=
[];b(c,f);for(var g=0,h=f.length;g<h;g++){var m=f[g].ud,k=[m];e&&a.a.Nb(k,e);a.aa.bd(f[g].Kd,k);m.nodeValue="";m.parentNode&&m.parentNode.removeChild(m)}},Uc:function(a){return(a=a.match(/^\[ko_memo\:(.*?)\]$/))?a[1]:null}}}();a.b("memoization",a.aa);a.b("memoization.memoize",a.aa.Xb);a.b("memoization.unmemoize",a.aa.bd);a.b("memoization.parseMemoText",a.aa.Uc);a.b("memoization.unmemoizeDomNodeAndDescendants",a.aa.cd);a.na=function(){function b(){if(f)for(var b=f,c=0,d;h<f;)if(d=e[h++]){if(h>b){if(5E3<=
++c){h=f;a.a.Gc(Error("'Too much recursion' after processing "+c+" task groups."));break}b=f}try{d()}catch(p){a.a.Gc(p)}}}function c(){b();h=f=e.length=0}var d,e=[],f=0,g=1,h=0;A.MutationObserver?d=function(a){var b=w.createElement("div");(new MutationObserver(a)).observe(b,{attributes:!0});return function(){b.classList.toggle("foo")}}(c):d=w&&"onreadystatechange"in w.createElement("script")?function(a){var b=w.createElement("script");b.onreadystatechange=function(){b.onreadystatechange=null;w.documentElement.removeChild(b);
b=null;a()};w.documentElement.appendChild(b)}:function(a){setTimeout(a,0)};return{scheduler:d,zb:function(b){f||a.na.scheduler(c);e[f++]=b;return g++},cancel:function(a){a=a-(g-f);a>=h&&a<f&&(e[a]=null)},resetForTesting:function(){var a=f-h;h=f=e.length=0;return a},Sd:b}}();a.b("tasks",a.na);a.b("tasks.schedule",a.na.zb);a.b("tasks.runEarly",a.na.Sd);a.Ta={throttle:function(b,c){b.throttleEvaluation=c;var d=null;return a.$({read:b,write:function(e){clearTimeout(d);d=a.a.setTimeout(function(){b(e)},
c)}})},rateLimit:function(a,c){var d,e,f;"number"==typeof c?d=c:(d=c.timeout,e=c.method);a.Hb=!1;f="function"==typeof e?e:"notifyWhenChangesStop"==e?Y:X;a.ub(function(a){return f(a,d,c)})},deferred:function(b,c){if(!0!==c)throw Error("The 'deferred' extender only accepts the value 'true', because it is not supported to turn deferral off once enabled.");b.Hb||(b.Hb=!0,b.ub(function(c){var e,f=!1;return function(){if(!f){a.na.cancel(e);e=a.na.zb(c);try{f=!0,b.notifySubscribers(n,"dirty")}finally{f=
!1}}}}))},notify:function(a,c){a.equalityComparer="always"==c?null:K}};var W={undefined:1,"boolean":1,number:1,string:1};a.b("extenders",a.Ta);a.ic=function(b,c,d){this.da=b;this.lc=c;this.mc=d;this.Ib=!1;this.fb=this.Jb=null;a.L(this,"dispose",this.s);a.L(this,"disposeWhenNodeIsRemoved",this.l)};a.ic.prototype.s=function(){this.Ib||(this.fb&&a.a.K.yb(this.Jb,this.fb),this.Ib=!0,this.mc(),this.da=this.lc=this.mc=this.Jb=this.fb=null)};a.ic.prototype.l=function(b){this.Jb=b;a.a.K.za(b,this.fb=this.s.bind(this))};
a.T=function(){a.a.Ab(this,D);D.qb(this)};var D={qb:function(a){a.U={change:[]};a.sc=1},subscribe:function(b,c,d){var e=this;d=d||"change";var f=new a.ic(e,c?b.bind(c):b,function(){a.a.Pa(e.U[d],f);e.hb&&e.hb(d)});e.Qa&&e.Qa(d);e.U[d]||(e.U[d]=[]);e.U[d].push(f);return f},notifySubscribers:function(b,c){c=c||"change";"change"===c&&this.Gb();if(this.Wa(c)){var d="change"===c&&this.ed||this.U[c].slice(0);try{a.u.xc();for(var e=0,f;f=d[e];++e)f.Ib||f.lc(b)}finally{a.u.end()}}},ob:function(){return this.sc},
Dd:function(a){return this.ob()!==a},Gb:function(){++this.sc},ub:function(b){var c=this,d=a.O(c),e,f,g,h,m;c.gb||(c.gb=c.notifySubscribers,c.notifySubscribers=Z);var k=b(function(){c.Ja=!1;d&&h===c&&(h=c.nc?c.nc():c());var a=f||m&&c.sb(g,h);m=f=e=!1;a&&c.gb(g=h)});c.qc=function(a,b){b&&c.Ja||(m=!b);c.ed=c.U.change.slice(0);c.Ja=e=!0;h=a;k()};c.pc=function(a){e||(g=a,c.gb(a,"beforeChange"))};c.rc=function(){m=!0};c.gd=function(){c.sb(g,c.v(!0))&&(f=!0)}},Wa:function(a){return this.U[a]&&this.U[a].length},
Bd:function(b){if(b)return this.U[b]&&this.U[b].length||0;var c=0;a.a.P(this.U,function(a,b){"dirty"!==a&&(c+=b.length)});return c},sb:function(a,c){return!this.equalityComparer||!this.equalityComparer(a,c)},toString:function(){return"[object Object]"},extend:function(b){var c=this;b&&a.a.P(b,function(b,e){var f=a.Ta[b];"function"==typeof f&&(c=f(c,e)||c)});return c}};a.L(D,"init",D.qb);a.L(D,"subscribe",D.subscribe);a.L(D,"extend",D.extend);a.L(D,"getSubscriptionsCount",D.Bd);a.a.Ba&&a.a.setPrototypeOf(D,
Function.prototype);a.T.fn=D;a.Qc=function(a){return null!=a&&"function"==typeof a.subscribe&&"function"==typeof a.notifySubscribers};a.b("subscribable",a.T);a.b("isSubscribable",a.Qc);a.S=a.u=function(){function b(a){d.push(e);e=a}function c(){e=d.pop()}var d=[],e,f=0;return{xc:b,end:c,cc:function(b){if(e){if(!a.Qc(b))throw Error("Only subscribable things can act as dependencies");e.od.call(e.pd,b,b.fd||(b.fd=++f))}},G:function(a,d,e){try{return b(),a.apply(d,e||[])}finally{c()}},qa:function(){if(e)return e.o.qa()},
Va:function(){if(e)return e.o.Va()},Ya:function(){if(e)return e.Ya},o:function(){if(e)return e.o}}}();a.b("computedContext",a.S);a.b("computedContext.getDependenciesCount",a.S.qa);a.b("computedContext.getDependencies",a.S.Va);a.b("computedContext.isInitial",a.S.Ya);a.b("computedContext.registerDependency",a.S.cc);a.b("ignoreDependencies",a.Yd=a.u.G);var I=a.a.Da("_latestValue");a.ta=function(b){function c(){if(0<arguments.length)return c.sb(c[I],arguments[0])&&(c.ya(),c[I]=arguments[0],c.xa()),this;
a.u.cc(c);return c[I]}c[I]=b;a.a.Ba||a.a.extend(c,a.T.fn);a.T.fn.qb(c);a.a.Ab(c,F);a.options.deferUpdates&&a.Ta.deferred(c,!0);return c};var F={equalityComparer:K,v:function(){return this[I]},xa:function(){this.notifySubscribers(this[I],"spectate");this.notifySubscribers(this[I])},ya:function(){this.notifySubscribers(this[I],"beforeChange")}};a.a.Ba&&a.a.setPrototypeOf(F,a.T.fn);var G=a.ta.Ma="__ko_proto__";F[G]=a.ta;a.O=function(b){if((b="function"==typeof b&&b[G])&&b!==F[G]&&b!==a.o.fn[G])throw Error("Invalid object that looks like an observable; possibly from another Knockout instance");
return!!b};a.Za=function(b){return"function"==typeof b&&(b[G]===F[G]||b[G]===a.o.fn[G]&&b.Nc)};a.b("observable",a.ta);a.b("isObservable",a.O);a.b("isWriteableObservable",a.Za);a.b("isWritableObservable",a.Za);a.b("observable.fn",F);a.L(F,"peek",F.v);a.L(F,"valueHasMutated",F.xa);a.L(F,"valueWillMutate",F.ya);a.Ha=function(b){b=b||[];if("object"!=typeof b||!("length"in b))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");b=a.ta(b);a.a.Ab(b,
a.Ha.fn);return b.extend({trackArrayChanges:!0})};a.Ha.fn={remove:function(b){for(var c=this.v(),d=[],e="function"!=typeof b||a.O(b)?function(a){return a===b}:b,f=0;f<c.length;f++){var g=c[f];if(e(g)){0===d.length&&this.ya();if(c[f]!==g)throw Error("Array modified during remove; cannot remove item");d.push(g);c.splice(f,1);f--}}d.length&&this.xa();return d},removeAll:function(b){if(b===n){var c=this.v(),d=c.slice(0);this.ya();c.splice(0,c.length);this.xa();return d}return b?this.remove(function(c){return 0<=
a.a.A(b,c)}):[]},destroy:function(b){var c=this.v(),d="function"!=typeof b||a.O(b)?function(a){return a===b}:b;this.ya();for(var e=c.length-1;0<=e;e--){var f=c[e];d(f)&&(f._destroy=!0)}this.xa()},destroyAll:function(b){return b===n?this.destroy(function(){return!0}):b?this.destroy(function(c){return 0<=a.a.A(b,c)}):[]},indexOf:function(b){var c=this();return a.a.A(c,b)},replace:function(a,c){var d=this.indexOf(a);0<=d&&(this.ya(),this.v()[d]=c,this.xa())},sorted:function(a){var c=this().slice(0);
return a?c.sort(a):c.sort()},reversed:function(){return this().slice(0).reverse()}};a.a.Ba&&a.a.setPrototypeOf(a.Ha.fn,a.ta.fn);a.a.D("pop push reverse shift sort splice unshift".split(" "),function(b){a.Ha.fn[b]=function(){var a=this.v();this.ya();this.zc(a,b,arguments);var d=a[b].apply(a,arguments);this.xa();return d===a?this:d}});a.a.D(["slice"],function(b){a.Ha.fn[b]=function(){var a=this();return a[b].apply(a,arguments)}});a.Pc=function(b){return a.O(b)&&"function"==typeof b.remove&&"function"==
typeof b.push};a.b("observableArray",a.Ha);a.b("isObservableArray",a.Pc);a.Ta.trackArrayChanges=function(b,c){function d(){function c(){if(m){var d=[].concat(b.v()||[]),e;if(b.Wa("arrayChange")){if(!f||1<m)f=a.a.Pb(k,d,b.Ob);e=f}k=d;f=null;m=0;e&&e.length&&b.notifySubscribers(e,"arrayChange")}}e?c():(e=!0,h=b.subscribe(function(){++m},null,"spectate"),k=[].concat(b.v()||[]),f=null,g=b.subscribe(c))}b.Ob={};c&&"object"==typeof c&&a.a.extend(b.Ob,c);b.Ob.sparse=!0;if(!b.zc){var e=!1,f=null,g,h,m=0,
k,l=b.Qa,p=b.hb;b.Qa=function(a){l&&l.call(b,a);"arrayChange"===a&&d()};b.hb=function(a){p&&p.call(b,a);"arrayChange"!==a||b.Wa("arrayChange")||(g&&g.s(),h&&h.s(),h=g=null,e=!1,k=n)};b.zc=function(b,c,d){function l(a,b,c){return k[k.length]={status:a,value:b,index:c}}if(e&&!m){var k=[],p=b.length,g=d.length,h=0;switch(c){case "push":h=p;case "unshift":for(c=0;c<g;c++)l("added",d[c],h+c);break;case "pop":h=p-1;case "shift":p&&l("deleted",b[h],h);break;case "splice":c=Math.min(Math.max(0,0>d[0]?p+d[0]:
d[0]),p);for(var p=1===g?p:Math.min(c+(d[1]||0),p),g=c+g-2,h=Math.max(p,g),U=[],L=[],n=2;c<h;++c,++n)c<p&&L.push(l("deleted",b[c],c)),c<g&&U.push(l("added",d[n],c));a.a.Kc(L,U);break;default:return}f=k}}}};var r=a.a.Da("_state");a.o=a.$=function(b,c,d){function e(){if(0<arguments.length){if("function"===typeof f)f.apply(g.nb,arguments);else throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return this}g.ra||
a.u.cc(e);(g.ka||g.J&&e.Xa())&&e.ha();return g.X}"object"===typeof b?d=b:(d=d||{},b&&(d.read=b));if("function"!=typeof d.read)throw Error("Pass a function that returns the value of the ko.computed");var f=d.write,g={X:n,sa:!0,ka:!0,rb:!1,jc:!1,ra:!1,wb:!1,J:!1,Wc:d.read,nb:c||d.owner,l:d.disposeWhenNodeIsRemoved||d.l||null,Sa:d.disposeWhen||d.Sa,Rb:null,I:{},V:0,Ic:null};e[r]=g;e.Nc="function"===typeof f;a.a.Ba||a.a.extend(e,a.T.fn);a.T.fn.qb(e);a.a.Ab(e,C);d.pure?(g.wb=!0,g.J=!0,a.a.extend(e,da)):
d.deferEvaluation&&a.a.extend(e,ea);a.options.deferUpdates&&a.Ta.deferred(e,!0);g.l&&(g.jc=!0,g.l.nodeType||(g.l=null));g.J||d.deferEvaluation||e.ha();g.l&&e.ja()&&a.a.K.za(g.l,g.Rb=function(){e.s()});return e};var C={equalityComparer:K,qa:function(){return this[r].V},Va:function(){var b=[];a.a.P(this[r].I,function(a,d){b[d.Ka]=d.da});return b},Vb:function(b){if(!this[r].V)return!1;var c=this.Va();return-1!==a.a.A(c,b)?!0:!!a.a.Lb(c,function(a){return a.Vb&&a.Vb(b)})},uc:function(a,c,d){if(this[r].wb&&
c===this)throw Error("A 'pure' computed must not be called recursively");this[r].I[a]=d;d.Ka=this[r].V++;d.La=c.ob()},Xa:function(){var a,c,d=this[r].I;for(a in d)if(Object.prototype.hasOwnProperty.call(d,a)&&(c=d[a],this.Ia&&c.da.Ja||c.da.Dd(c.La)))return!0},Jd:function(){this.Ia&&!this[r].rb&&this.Ia(!1)},ja:function(){var a=this[r];return a.ka||0<a.V},Rd:function(){this.Ja?this[r].ka&&(this[r].sa=!0):this.Hc()},$c:function(a){if(a.Hb){var c=a.subscribe(this.Jd,this,"dirty"),d=a.subscribe(this.Rd,
this);return{da:a,s:function(){c.s();d.s()}}}return a.subscribe(this.Hc,this)},Hc:function(){var b=this,c=b.throttleEvaluation;c&&0<=c?(clearTimeout(this[r].Ic),this[r].Ic=a.a.setTimeout(function(){b.ha(!0)},c)):b.Ia?b.Ia(!0):b.ha(!0)},ha:function(b){var c=this[r],d=c.Sa,e=!1;if(!c.rb&&!c.ra){if(c.l&&!a.a.Sb(c.l)||d&&d()){if(!c.jc){this.s();return}}else c.jc=!1;c.rb=!0;try{e=this.zd(b)}finally{c.rb=!1}return e}},zd:function(b){var c=this[r],d=!1,e=c.wb?n:!c.V,d={qd:this,mb:c.I,Qb:c.V};a.u.xc({pd:d,
od:ba,o:this,Ya:e});c.I={};c.V=0;var f=this.yd(c,d);c.V?d=this.sb(c.X,f):(this.s(),d=!0);d&&(c.J?this.Gb():this.notifySubscribers(c.X,"beforeChange"),c.X=f,this.notifySubscribers(c.X,"spectate"),!c.J&&b&&this.notifySubscribers(c.X),this.rc&&this.rc());e&&this.notifySubscribers(c.X,"awake");return d},yd:function(b,c){try{var d=b.Wc;return b.nb?d.call(b.nb):d()}finally{a.u.end(),c.Qb&&!b.J&&a.a.P(c.mb,aa),b.sa=b.ka=!1}},v:function(a){var c=this[r];(c.ka&&(a||!c.V)||c.J&&this.Xa())&&this.ha();return c.X},
ub:function(b){a.T.fn.ub.call(this,b);this.nc=function(){this[r].J||(this[r].sa?this.ha():this[r].ka=!1);return this[r].X};this.Ia=function(a){this.pc(this[r].X);this[r].ka=!0;a&&(this[r].sa=!0);this.qc(this,!a)}},s:function(){var b=this[r];!b.J&&b.I&&a.a.P(b.I,function(a,b){b.s&&b.s()});b.l&&b.Rb&&a.a.K.yb(b.l,b.Rb);b.I=n;b.V=0;b.ra=!0;b.sa=!1;b.ka=!1;b.J=!1;b.l=n;b.Sa=n;b.Wc=n;this.Nc||(b.nb=n)}},da={Qa:function(b){var c=this,d=c[r];if(!d.ra&&d.J&&"change"==b){d.J=!1;if(d.sa||c.Xa())d.I=null,d.V=
0,c.ha()&&c.Gb();else{var e=[];a.a.P(d.I,function(a,b){e[b.Ka]=a});a.a.D(e,function(a,b){var e=d.I[a],m=c.$c(e.da);m.Ka=b;m.La=e.La;d.I[a]=m});c.Xa()&&c.ha()&&c.Gb()}d.ra||c.notifySubscribers(d.X,"awake")}},hb:function(b){var c=this[r];c.ra||"change"!=b||this.Wa("change")||(a.a.P(c.I,function(a,b){b.s&&(c.I[a]={da:b.da,Ka:b.Ka,La:b.La},b.s())}),c.J=!0,this.notifySubscribers(n,"asleep"))},ob:function(){var b=this[r];b.J&&(b.sa||this.Xa())&&this.ha();return a.T.fn.ob.call(this)}},ea={Qa:function(a){"change"!=
a&&"beforeChange"!=a||this.v()}};a.a.Ba&&a.a.setPrototypeOf(C,a.T.fn);var N=a.ta.Ma;C[N]=a.o;a.Oc=function(a){return"function"==typeof a&&a[N]===C[N]};a.Fd=function(b){return a.Oc(b)&&b[r]&&b[r].wb};a.b("computed",a.o);a.b("dependentObservable",a.o);a.b("isComputed",a.Oc);a.b("isPureComputed",a.Fd);a.b("computed.fn",C);a.L(C,"peek",C.v);a.L(C,"dispose",C.s);a.L(C,"isActive",C.ja);a.L(C,"getDependenciesCount",C.qa);a.L(C,"getDependencies",C.Va);a.xb=function(b,c){if("function"===typeof b)return a.o(b,
c,{pure:!0});b=a.a.extend({},b);b.pure=!0;return a.o(b,c)};a.b("pureComputed",a.xb);(function(){function b(a,f,g){g=g||new d;a=f(a);if("object"!=typeof a||null===a||a===n||a instanceof RegExp||a instanceof Date||a instanceof String||a instanceof Number||a instanceof Boolean)return a;var h=a instanceof Array?[]:{};g.save(a,h);c(a,function(c){var d=f(a[c]);switch(typeof d){case "boolean":case "number":case "string":case "function":h[c]=d;break;case "object":case "undefined":var l=g.get(d);h[c]=l!==
n?l:b(d,f,g)}});return h}function c(a,b){if(a instanceof Array){for(var c=0;c<a.length;c++)b(c);"function"==typeof a.toJSON&&b("toJSON")}else for(c in a)b(c)}function d(){this.keys=[];this.values=[]}a.ad=function(c){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return b(c,function(b){for(var c=0;a.O(b)&&10>c;c++)b=b();return b})};a.toJSON=function(b,c,d){b=a.ad(b);return a.a.hc(b,c,d)};d.prototype={constructor:d,save:function(b,c){var d=a.a.A(this.keys,
b);0<=d?this.values[d]=c:(this.keys.push(b),this.values.push(c))},get:function(b){b=a.a.A(this.keys,b);return 0<=b?this.values[b]:n}}})();a.b("toJS",a.ad);a.b("toJSON",a.toJSON);a.Wd=function(b,c,d){function e(c){var e=a.xb(b,d).extend({ma:"always"}),h=e.subscribe(function(a){a&&(h.s(),c(a))});e.notifySubscribers(e.v());return h}return"function"!==typeof Promise||c?e(c.bind(d)):new Promise(e)};a.b("when",a.Wd);(function(){a.w={M:function(b){switch(a.a.R(b)){case "option":return!0===b.__ko__hasDomDataOptionValue__?
a.a.g.get(b,a.c.options.$b):7>=a.a.W?b.getAttributeNode("value")&&b.getAttributeNode("value").specified?b.value:b.text:b.value;case "select":return 0<=b.selectedIndex?a.w.M(b.options[b.selectedIndex]):n;default:return b.value}},cb:function(b,c,d){switch(a.a.R(b)){case "option":"string"===typeof c?(a.a.g.set(b,a.c.options.$b,n),"__ko__hasDomDataOptionValue__"in b&&delete b.__ko__hasDomDataOptionValue__,b.value=c):(a.a.g.set(b,a.c.options.$b,c),b.__ko__hasDomDataOptionValue__=!0,b.value="number"===
typeof c?c:"");break;case "select":if(""===c||null===c)c=n;for(var e=-1,f=0,g=b.options.length,h;f<g;++f)if(h=a.w.M(b.options[f]),h==c||""===h&&c===n){e=f;break}if(d||0<=e||c===n&&1<b.size)b.selectedIndex=e,6===a.a.W&&a.a.setTimeout(function(){b.selectedIndex=e},0);break;default:if(null===c||c===n)c="";b.value=c}}}})();a.b("selectExtensions",a.w);a.b("selectExtensions.readValue",a.w.M);a.b("selectExtensions.writeValue",a.w.cb);a.m=function(){function b(b){b=a.a.Db(b);123===b.charCodeAt(0)&&(b=b.slice(1,
-1));b+="\n,";var c=[],d=b.match(e),p,q=[],h=0;if(1<d.length){for(var x=0,B;B=d[x];++x){var u=B.charCodeAt(0);if(44===u){if(0>=h){c.push(p&&q.length?{key:p,value:q.join("")}:{unknown:p||q.join("")});p=h=0;q=[];continue}}else if(58===u){if(!h&&!p&&1===q.length){p=q.pop();continue}}else if(47===u&&1<B.length&&(47===B.charCodeAt(1)||42===B.charCodeAt(1)))continue;else 47===u&&x&&1<B.length?(u=d[x-1].match(f))&&!g[u[0]]&&(b=b.substr(b.indexOf(B)+1),d=b.match(e),x=-1,B="/"):40===u||123===u||91===u?++h:
41===u||125===u||93===u?--h:p||q.length||34!==u&&39!==u||(B=B.slice(1,-1));q.push(B)}if(0<h)throw Error("Unbalanced parentheses, braces, or brackets");}return c}var c=["true","false","null","undefined"],d=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,e=RegExp("\"(?:\\\\.|[^\"])*\"|'(?:\\\\.|[^'])*'|`(?:\\\\.|[^`])*`|/\\*(?:[^*]|\\*+[^*/])*\\*+/|//.*\n|/(?:\\\\.|[^/])+/w*|[^\\s:,/][^,\"'`{}()/:[\\]]*[^\\s,\"'`{}()/:[\\]]|[^\\s]","g"),f=/[\])"'A-Za-z0-9_$]+$/,g={"in":1,"return":1,"typeof":1},
h={};return{Ra:[],wa:h,ac:b,vb:function(e,f){function l(b,e){var f;if(!x){var k=a.getBindingHandler(b);if(k&&k.preprocess&&!(e=k.preprocess(e,b,l)))return;if(k=h[b])f=e,0<=a.a.A(c,f)?f=!1:(k=f.match(d),f=null===k?!1:k[1]?"Object("+k[1]+")"+k[2]:f),k=f;k&&q.push("'"+("string"==typeof h[b]?h[b]:b)+"':function(_z){"+f+"=_z}")}g&&(e="function(){return "+e+" }");p.push("'"+b+"':"+e)}f=f||{};var p=[],q=[],g=f.valueAccessors,x=f.bindingParams,B="string"===typeof e?b(e):e;a.a.D(B,function(a){l(a.key||a.unknown,
a.value)});q.length&&l("_ko_property_writers","{"+q.join(",")+" }");return p.join(",")},Id:function(a,b){for(var c=0;c<a.length;c++)if(a[c].key==b)return!0;return!1},eb:function(b,c,d,e,f){if(b&&a.O(b))!a.Za(b)||f&&b.v()===e||b(e);else if((b=c.get("_ko_property_writers"))&&b[d])b[d](e)}}}();a.b("expressionRewriting",a.m);a.b("expressionRewriting.bindingRewriteValidators",a.m.Ra);a.b("expressionRewriting.parseObjectLiteral",a.m.ac);a.b("expressionRewriting.preProcessBindings",a.m.vb);a.b("expressionRewriting._twoWayBindings",
a.m.wa);a.b("jsonExpressionRewriting",a.m);a.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",a.m.vb);(function(){function b(a){return 8==a.nodeType&&g.test(f?a.text:a.nodeValue)}function c(a){return 8==a.nodeType&&h.test(f?a.text:a.nodeValue)}function d(d,e){for(var f=d,h=1,g=[];f=f.nextSibling;){if(c(f)&&(a.a.g.set(f,k,!0),h--,0===h))return g;g.push(f);b(f)&&h++}if(!e)throw Error("Cannot find closing comment tag to match: "+d.nodeValue);return null}function e(a,b){var c=d(a,b);return c?
0<c.length?c[c.length-1].nextSibling:a.nextSibling:null}var f=w&&"\x3c!--test--\x3e"===w.createComment("test").text,g=f?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,h=f?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,m={ul:!0,ol:!0},k="__ko_matchedEndComment__";a.h={ea:{},childNodes:function(a){return b(a)?d(a):a.childNodes},Ea:function(c){if(b(c)){c=a.h.childNodes(c);for(var d=0,e=c.length;d<e;d++)a.removeNode(c[d])}else a.a.Tb(c)},va:function(c,d){if(b(c)){a.h.Ea(c);for(var e=
c.nextSibling,f=0,k=d.length;f<k;f++)e.parentNode.insertBefore(d[f],e)}else a.a.va(c,d)},Vc:function(a,c){var d;b(a)?(d=a.nextSibling,a=a.parentNode):d=a.firstChild;d?c!==d&&a.insertBefore(c,d):a.appendChild(c)},Wb:function(c,d,e){e?(e=e.nextSibling,b(c)&&(c=c.parentNode),e?d!==e&&c.insertBefore(d,e):c.appendChild(d)):a.h.Vc(c,d)},firstChild:function(a){if(b(a))return!a.nextSibling||c(a.nextSibling)?null:a.nextSibling;if(a.firstChild&&c(a.firstChild))throw Error("Found invalid end comment, as the first child of "+
a);return a.firstChild},nextSibling:function(d){b(d)&&(d=e(d));if(d.nextSibling&&c(d.nextSibling)){var f=d.nextSibling;if(c(f)&&!a.a.g.get(f,k))throw Error("Found end comment without a matching opening comment, as child of "+d);return null}return d.nextSibling},Cd:b,Vd:function(a){return(a=(f?a.text:a.nodeValue).match(g))?a[1]:null},Sc:function(d){if(m[a.a.R(d)]){var f=d.firstChild;if(f){do if(1===f.nodeType){var k;k=f.firstChild;var h=null;if(k){do if(h)h.push(k);else if(b(k)){var g=e(k,!0);g?k=
g:h=[k]}else c(k)&&(h=[k]);while(k=k.nextSibling)}if(k=h)for(h=f.nextSibling,g=0;g<k.length;g++)h?d.insertBefore(k[g],h):d.appendChild(k[g])}while(f=f.nextSibling)}}}}})();a.b("virtualElements",a.h);a.b("virtualElements.allowedBindings",a.h.ea);a.b("virtualElements.emptyNode",a.h.Ea);a.b("virtualElements.insertAfter",a.h.Wb);a.b("virtualElements.prepend",a.h.Vc);a.b("virtualElements.setDomNodeChildren",a.h.va);(function(){a.ga=function(){this.nd={}};a.a.extend(a.ga.prototype,{nodeHasBindings:function(b){switch(b.nodeType){case 1:return null!=
b.getAttribute("data-bind")||a.j.getComponentNameForNode(b);case 8:return a.h.Cd(b);default:return!1}},getBindings:function(b,c){var d=this.getBindingsString(b,c),d=d?this.parseBindingsString(d,c,b):null;return a.j.tc(d,b,c,!1)},getBindingAccessors:function(b,c){var d=this.getBindingsString(b,c),d=d?this.parseBindingsString(d,c,b,{valueAccessors:!0}):null;return a.j.tc(d,b,c,!0)},getBindingsString:function(b){switch(b.nodeType){case 1:return b.getAttribute("data-bind");case 8:return a.h.Vd(b);default:return null}},
parseBindingsString:function(b,c,d,e){try{var f=this.nd,g=b+(e&&e.valueAccessors||""),h;if(!(h=f[g])){var m,k="with($context){with($data||{}){return{"+a.m.vb(b,e)+"}}}";m=new Function("$context","$element",k);h=f[g]=m}return h(c,d)}catch(l){throw l.message="Unable to parse bindings.\nBindings value: "+b+"\nMessage: "+l.message,l;}}});a.ga.instance=new a.ga})();a.b("bindingProvider",a.ga);(function(){function b(b){var c=(b=a.a.g.get(b,z))&&b.N;c&&(b.N=null,c.Tc())}function c(c,d,e){this.node=c;this.yc=
d;this.kb=[];this.H=!1;d.N||a.a.K.za(c,b);e&&e.N&&(e.N.kb.push(c),this.Kb=e)}function d(a){return function(){return a}}function e(a){return a()}function f(b){return a.a.Ga(a.u.G(b),function(a,c){return function(){return b()[c]}})}function g(b,c,e){return"function"===typeof b?f(b.bind(null,c,e)):a.a.Ga(b,d)}function h(a,b){return f(this.getBindings.bind(this,a,b))}function m(b,c){var d=a.h.firstChild(c);if(d){var e,f=a.ga.instance,l=f.preprocessNode;if(l){for(;e=d;)d=a.h.nextSibling(e),l.call(f,e);
d=a.h.firstChild(c)}for(;e=d;)d=a.h.nextSibling(e),k(b,e)}a.i.ma(c,a.i.H)}function k(b,c){var d=b,e=1===c.nodeType;e&&a.h.Sc(c);if(e||a.ga.instance.nodeHasBindings(c))d=p(c,null,b).bindingContextForDescendants;d&&!u[a.a.R(c)]&&m(d,c)}function l(b){var c=[],d={},e=[];a.a.P(b,function ca(f){if(!d[f]){var k=a.getBindingHandler(f);k&&(k.after&&(e.push(f),a.a.D(k.after,function(c){if(b[c]){if(-1!==a.a.A(e,c))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+e.join(", "));
ca(c)}}),e.length--),c.push({key:f,Mc:k}));d[f]=!0}});return c}function p(b,c,d){var f=a.a.g.Ub(b,z,{}),k=f.hd;if(!c){if(k)throw Error("You cannot apply bindings multiple times to the same element.");f.hd=!0}k||(f.context=d);f.Zb||(f.Zb={});var g;if(c&&"function"!==typeof c)g=c;else{var p=a.ga.instance,q=p.getBindingAccessors||h,m=a.$(function(){if(g=c?c(d,b):q.call(p,b,d)){if(d[t])d[t]();if(d[B])d[B]()}return g},null,{l:b});g&&m.ja()||(m=null)}var x=d,u;if(g){var J=function(){return a.a.Ga(m?m():
g,e)},r=m?function(a){return function(){return e(m()[a])}}:function(a){return g[a]};J.get=function(a){return g[a]&&e(r(a))};J.has=function(a){return a in g};a.i.H in g&&a.i.subscribe(b,a.i.H,function(){var c=(0,g[a.i.H])();if(c){var d=a.h.childNodes(b);d.length&&c(d,a.Ec(d[0]))}});a.i.pa in g&&(x=a.i.Cb(b,d),a.i.subscribe(b,a.i.pa,function(){var c=(0,g[a.i.pa])();c&&a.h.firstChild(b)&&c(b)}));f=l(g);a.a.D(f,function(c){var d=c.Mc.init,e=c.Mc.update,f=c.key;if(8===b.nodeType&&!a.h.ea[f])throw Error("The binding '"+
f+"' cannot be used with virtual elements");try{"function"==typeof d&&a.u.G(function(){var a=d(b,r(f),J,x.$data,x);if(a&&a.controlsDescendantBindings){if(u!==n)throw Error("Multiple bindings ("+u+" and "+f+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");u=f}}),"function"==typeof e&&a.$(function(){e(b,r(f),J,x.$data,x)},null,{l:b})}catch(k){throw k.message='Unable to process binding "'+f+": "+g[f]+'"\nMessage: '+k.message,
k;}})}f=u===n;return{shouldBindDescendants:f,bindingContextForDescendants:f&&x}}function q(b,c){return b&&b instanceof a.fa?b:new a.fa(b,n,n,c)}var t=a.a.Da("_subscribable"),x=a.a.Da("_ancestorBindingInfo"),B=a.a.Da("_dataDependency");a.c={};var u={script:!0,textarea:!0,template:!0};a.getBindingHandler=function(b){return a.c[b]};var J={};a.fa=function(b,c,d,e,f){function k(){var b=p?h():h,f=a.a.f(b);c?(a.a.extend(l,c),x in c&&(l[x]=c[x])):(l.$parents=[],l.$root=f,l.ko=a);l[t]=q;g?f=l.$data:(l.$rawData=
b,l.$data=f);d&&(l[d]=f);e&&e(l,c,f);if(c&&c[t]&&!a.S.o().Vb(c[t]))c[t]();m&&(l[B]=m);return l.$data}var l=this,g=b===J,h=g?n:b,p="function"==typeof h&&!a.O(h),q,m=f&&f.dataDependency;f&&f.exportDependencies?k():(q=a.xb(k),q.v(),q.ja()?q.equalityComparer=null:l[t]=n)};a.fa.prototype.createChildContext=function(b,c,d,e){!e&&c&&"object"==typeof c&&(e=c,c=e.as,d=e.extend);if(c&&e&&e.noChildContext){var f="function"==typeof b&&!a.O(b);return new a.fa(J,this,null,function(a){d&&d(a);a[c]=f?b():b},e)}return new a.fa(b,
this,c,function(a,b){a.$parentContext=b;a.$parent=b.$data;a.$parents=(b.$parents||[]).slice(0);a.$parents.unshift(a.$parent);d&&d(a)},e)};a.fa.prototype.extend=function(b,c){return new a.fa(J,this,null,function(c){a.a.extend(c,"function"==typeof b?b(c):b)},c)};var z=a.a.g.Z();c.prototype.Tc=function(){this.Kb&&this.Kb.N&&this.Kb.N.sd(this.node)};c.prototype.sd=function(b){a.a.Pa(this.kb,b);!this.kb.length&&this.H&&this.Cc()};c.prototype.Cc=function(){this.H=!0;this.yc.N&&!this.kb.length&&(this.yc.N=
null,a.a.K.yb(this.node,b),a.i.ma(this.node,a.i.pa),this.Tc())};a.i={H:"childrenComplete",pa:"descendantsComplete",subscribe:function(b,c,d,e,f){var k=a.a.g.Ub(b,z,{});k.Fa||(k.Fa=new a.T);f&&f.notifyImmediately&&k.Zb[c]&&a.u.G(d,e,[b]);return k.Fa.subscribe(d,e,c)},ma:function(b,c){var d=a.a.g.get(b,z);if(d&&(d.Zb[c]=!0,d.Fa&&d.Fa.notifySubscribers(b,c),c==a.i.H))if(d.N)d.N.Cc();else if(d.N===n&&d.Fa&&d.Fa.Wa(a.i.pa))throw Error("descendantsComplete event not supported for bindings on this node");
},Cb:function(b,d){var e=a.a.g.Ub(b,z,{});e.N||(e.N=new c(b,e,d[x]));return d[x]==e?d:d.extend(function(a){a[x]=e})}};a.Td=function(b){return(b=a.a.g.get(b,z))&&b.context};a.ib=function(b,c,d){1===b.nodeType&&a.h.Sc(b);return p(b,c,q(d))};a.ld=function(b,c,d){d=q(d);return a.ib(b,g(c,d,b),d)};a.Oa=function(a,b){1!==b.nodeType&&8!==b.nodeType||m(q(a),b)};a.vc=function(a,b,c){!v&&A.jQuery&&(v=A.jQuery);if(2>arguments.length){if(b=w.body,!b)throw Error("ko.applyBindings: could not find document.body; has the document been loaded?");
}else if(!b||1!==b.nodeType&&8!==b.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");k(q(a,c),b)};a.Dc=function(b){return!b||1!==b.nodeType&&8!==b.nodeType?n:a.Td(b)};a.Ec=function(b){return(b=a.Dc(b))?b.$data:n};a.b("bindingHandlers",a.c);a.b("bindingEvent",a.i);a.b("bindingEvent.subscribe",a.i.subscribe);a.b("bindingEvent.startPossiblyAsyncContentBinding",a.i.Cb);a.b("applyBindings",a.vc);a.b("applyBindingsToDescendants",a.Oa);
a.b("applyBindingAccessorsToNode",a.ib);a.b("applyBindingsToNode",a.ld);a.b("contextFor",a.Dc);a.b("dataFor",a.Ec)})();(function(b){function c(c,e){var k=Object.prototype.hasOwnProperty.call(f,c)?f[c]:b,l;k?k.subscribe(e):(k=f[c]=new a.T,k.subscribe(e),d(c,function(b,d){var e=!(!d||!d.synchronous);g[c]={definition:b,Gd:e};delete f[c];l||e?k.notifySubscribers(b):a.na.zb(function(){k.notifySubscribers(b)})}),l=!0)}function d(a,b){e("getConfig",[a],function(c){c?e("loadComponent",[a,c],function(a){b(a,
c)}):b(null,null)})}function e(c,d,f,l){l||(l=a.j.loaders.slice(0));var g=l.shift();if(g){var q=g[c];if(q){var t=!1;if(q.apply(g,d.concat(function(a){t?f(null):null!==a?f(a):e(c,d,f,l)}))!==b&&(t=!0,!g.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.");}else e(c,d,f,l)}else f(null)}var f={},g={};a.j={get:function(d,e){var f=Object.prototype.hasOwnProperty.call(g,d)?g[d]:b;f?f.Gd?a.u.G(function(){e(f.definition)}):
a.na.zb(function(){e(f.definition)}):c(d,e)},Bc:function(a){delete g[a]},oc:e};a.j.loaders=[];a.b("components",a.j);a.b("components.get",a.j.get);a.b("components.clearCachedDefinition",a.j.Bc)})();(function(){function b(b,c,d,e){function g(){0===--B&&e(h)}var h={},B=2,u=d.template;d=d.viewModel;u?f(c,u,function(c){a.j.oc("loadTemplate",[b,c],function(a){h.template=a;g()})}):g();d?f(c,d,function(c){a.j.oc("loadViewModel",[b,c],function(a){h[m]=a;g()})}):g()}function c(a,b,d){if("function"===typeof b)d(function(a){return new b(a)});
else if("function"===typeof b[m])d(b[m]);else if("instance"in b){var e=b.instance;d(function(){return e})}else"viewModel"in b?c(a,b.viewModel,d):a("Unknown viewModel value: "+b)}function d(b){switch(a.a.R(b)){case "script":return a.a.ua(b.text);case "textarea":return a.a.ua(b.value);case "template":if(e(b.content))return a.a.Ca(b.content.childNodes)}return a.a.Ca(b.childNodes)}function e(a){return A.DocumentFragment?a instanceof DocumentFragment:a&&11===a.nodeType}function f(a,b,c){"string"===typeof b.require?
T||A.require?(T||A.require)([b.require],function(a){a&&"object"===typeof a&&a.Xd&&a["default"]&&(a=a["default"]);c(a)}):a("Uses require, but no AMD loader is present"):c(b)}function g(a){return function(b){throw Error("Component '"+a+"': "+b);}}var h={};a.j.register=function(b,c){if(!c)throw Error("Invalid configuration for "+b);if(a.j.tb(b))throw Error("Component "+b+" is already registered");h[b]=c};a.j.tb=function(a){return Object.prototype.hasOwnProperty.call(h,a)};a.j.unregister=function(b){delete h[b];
a.j.Bc(b)};a.j.Fc={getConfig:function(b,c){c(a.j.tb(b)?h[b]:null)},loadComponent:function(a,c,d){var e=g(a);f(e,c,function(c){b(a,e,c,d)})},loadTemplate:function(b,c,f){b=g(b);if("string"===typeof c)f(a.a.ua(c));else if(c instanceof Array)f(c);else if(e(c))f(a.a.la(c.childNodes));else if(c.element)if(c=c.element,A.HTMLElement?c instanceof HTMLElement:c&&c.tagName&&1===c.nodeType)f(d(c));else if("string"===typeof c){var h=w.getElementById(c);h?f(d(h)):b("Cannot find element with ID "+c)}else b("Unknown element type: "+
c);else b("Unknown template value: "+c)},loadViewModel:function(a,b,d){c(g(a),b,d)}};var m="createViewModel";a.b("components.register",a.j.register);a.b("components.isRegistered",a.j.tb);a.b("components.unregister",a.j.unregister);a.b("components.defaultLoader",a.j.Fc);a.j.loaders.push(a.j.Fc);a.j.dd=h})();(function(){function b(b,e){var f=b.getAttribute("params");if(f){var f=c.parseBindingsString(f,e,b,{valueAccessors:!0,bindingParams:!0}),f=a.a.Ga(f,function(c){return a.o(c,null,{l:b})}),g=a.a.Ga(f,
function(c){var e=c.v();return c.ja()?a.o({read:function(){return a.a.f(c())},write:a.Za(e)&&function(a){c()(a)},l:b}):e});Object.prototype.hasOwnProperty.call(g,"$raw")||(g.$raw=f);return g}return{$raw:{}}}a.j.getComponentNameForNode=function(b){var c=a.a.R(b);if(a.j.tb(c)&&(-1!=c.indexOf("-")||"[object HTMLUnknownElement]"==""+b||8>=a.a.W&&b.tagName===c))return c};a.j.tc=function(c,e,f,g){if(1===e.nodeType){var h=a.j.getComponentNameForNode(e);if(h){c=c||{};if(c.component)throw Error('Cannot use the "component" binding on a custom element matching a component');
var m={name:h,params:b(e,f)};c.component=g?function(){return m}:m}}return c};var c=new a.ga;9>a.a.W&&(a.j.register=function(a){return function(b){return a.apply(this,arguments)}}(a.j.register),w.createDocumentFragment=function(b){return function(){var c=b(),f=a.j.dd,g;for(g in f);return c}}(w.createDocumentFragment))})();(function(){function b(b,c,d){c=c.template;if(!c)throw Error("Component '"+b+"' has no template");b=a.a.Ca(c);a.h.va(d,b)}function c(a,b,c){var d=a.createViewModel;return d?d.call(a,
b,c):b}var d=0;a.c.component={init:function(e,f,g,h,m){function k(){var a=l&&l.dispose;"function"===typeof a&&a.call(l);q&&q.s();p=l=q=null}var l,p,q,t=a.a.la(a.h.childNodes(e));a.h.Ea(e);a.a.K.za(e,k);a.o(function(){var g=a.a.f(f()),h,u;"string"===typeof g?h=g:(h=a.a.f(g.name),u=a.a.f(g.params));if(!h)throw Error("No component name specified");var n=a.i.Cb(e,m),z=p=++d;a.j.get(h,function(d){if(p===z){k();if(!d)throw Error("Unknown component '"+h+"'");b(h,d,e);var f=c(d,u,{element:e,templateNodes:t});
d=n.createChildContext(f,{extend:function(a){a.$component=f;a.$componentTemplateNodes=t}});f&&f.koDescendantsComplete&&(q=a.i.subscribe(e,a.i.pa,f.koDescendantsComplete,f));l=f;a.Oa(d,e)}})},null,{l:e});return{controlsDescendantBindings:!0}}};a.h.ea.component=!0})();var V={"class":"className","for":"htmlFor"};a.c.attr={update:function(b,c){var d=a.a.f(c())||{};a.a.P(d,function(c,d){d=a.a.f(d);var g=c.indexOf(":"),g="lookupNamespaceURI"in b&&0<g&&b.lookupNamespaceURI(c.substr(0,g)),h=!1===d||null===
d||d===n;h?g?b.removeAttributeNS(g,c):b.removeAttribute(c):d=d.toString();8>=a.a.W&&c in V?(c=V[c],h?b.removeAttribute(c):b[c]=d):h||(g?b.setAttributeNS(g,c,d):b.setAttribute(c,d));"name"===c&&a.a.Yc(b,h?"":d)})}};(function(){a.c.checked={after:["value","attr"],init:function(b,c,d){function e(){var e=b.checked,f=g();if(!a.S.Ya()&&(e||!m&&!a.S.qa())){var k=a.u.G(c);if(l){var q=p?k.v():k,z=t;t=f;z!==f?e&&(a.a.Na(q,f,!0),a.a.Na(q,z,!1)):a.a.Na(q,f,e);p&&a.Za(k)&&k(q)}else h&&(f===n?f=e:e||(f=n)),a.m.eb(k,
d,"checked",f,!0)}}function f(){var d=a.a.f(c()),e=g();l?(b.checked=0<=a.a.A(d,e),t=e):b.checked=h&&e===n?!!d:g()===d}var g=a.xb(function(){if(d.has("checkedValue"))return a.a.f(d.get("checkedValue"));if(q)return d.has("value")?a.a.f(d.get("value")):b.value}),h="checkbox"==b.type,m="radio"==b.type;if(h||m){var k=c(),l=h&&a.a.f(k)instanceof Array,p=!(l&&k.push&&k.splice),q=m||l,t=l?g():n;m&&!b.name&&a.c.uniqueName.init(b,function(){return!0});a.o(e,null,{l:b});a.a.B(b,"click",e);a.o(f,null,{l:b});
k=n}}};a.m.wa.checked=!0;a.c.checkedValue={update:function(b,c){b.value=a.a.f(c())}}})();a.c["class"]={update:function(b,c){var d=a.a.Db(a.a.f(c()));a.a.Eb(b,b.__ko__cssValue,!1);b.__ko__cssValue=d;a.a.Eb(b,d,!0)}};a.c.css={update:function(b,c){var d=a.a.f(c());null!==d&&"object"==typeof d?a.a.P(d,function(c,d){d=a.a.f(d);a.a.Eb(b,c,d)}):a.c["class"].update(b,c)}};a.c.enable={update:function(b,c){var d=a.a.f(c());d&&b.disabled?b.removeAttribute("disabled"):d||b.disabled||(b.disabled=!0)}};a.c.disable=
{update:function(b,c){a.c.enable.update(b,function(){return!a.a.f(c())})}};a.c.event={init:function(b,c,d,e,f){var g=c()||{};a.a.P(g,function(g){"string"==typeof g&&a.a.B(b,g,function(b){var k,l=c()[g];if(l){try{var p=a.a.la(arguments);e=f.$data;p.unshift(e);k=l.apply(e,p)}finally{!0!==k&&(b.preventDefault?b.preventDefault():b.returnValue=!1)}!1===d.get(g+"Bubble")&&(b.cancelBubble=!0,b.stopPropagation&&b.stopPropagation())}})})}};a.c.foreach={Rc:function(b){return function(){var c=b(),d=a.a.bc(c);
if(!d||"number"==typeof d.length)return{foreach:c,templateEngine:a.ba.Ma};a.a.f(c);return{foreach:d.data,as:d.as,noChildContext:d.noChildContext,includeDestroyed:d.includeDestroyed,afterAdd:d.afterAdd,beforeRemove:d.beforeRemove,afterRender:d.afterRender,beforeMove:d.beforeMove,afterMove:d.afterMove,templateEngine:a.ba.Ma}}},init:function(b,c){return a.c.template.init(b,a.c.foreach.Rc(c))},update:function(b,c,d,e,f){return a.c.template.update(b,a.c.foreach.Rc(c),d,e,f)}};a.m.Ra.foreach=!1;a.h.ea.foreach=
!0;a.c.hasfocus={init:function(b,c,d){function e(e){b.__ko_hasfocusUpdating=!0;var f=b.ownerDocument;if("activeElement"in f){var g;try{g=f.activeElement}catch(l){g=f.body}e=g===b}f=c();a.m.eb(f,d,"hasfocus",e,!0);b.__ko_hasfocusLastValue=e;b.__ko_hasfocusUpdating=!1}var f=e.bind(null,!0),g=e.bind(null,!1);a.a.B(b,"focus",f);a.a.B(b,"focusin",f);a.a.B(b,"blur",g);a.a.B(b,"focusout",g);b.__ko_hasfocusLastValue=!1},update:function(b,c){var d=!!a.a.f(c());b.__ko_hasfocusUpdating||b.__ko_hasfocusLastValue===
d||(d?b.focus():b.blur(),!d&&b.__ko_hasfocusLastValue&&b.ownerDocument.body.focus(),a.u.G(a.a.Fb,null,[b,d?"focusin":"focusout"]))}};a.m.wa.hasfocus=!0;a.c.hasFocus=a.c.hasfocus;a.m.wa.hasFocus="hasfocus";a.c.html={init:function(){return{controlsDescendantBindings:!0}},update:function(b,c){a.a.fc(b,c())}};(function(){function b(b,d,e){a.c[b]={init:function(b,c,h,m,k){var l,p,q={},t,x,n;if(d){m=h.get("as");var u=h.get("noChildContext");n=!(m&&u);q={as:m,noChildContext:u,exportDependencies:n}}x=(t=
"render"==h.get("completeOn"))||h.has(a.i.pa);a.o(function(){var h=a.a.f(c()),m=!e!==!h,u=!p,r;if(n||m!==l){x&&(k=a.i.Cb(b,k));if(m){if(!d||n)q.dataDependency=a.S.o();r=d?k.createChildContext("function"==typeof h?h:c,q):a.S.qa()?k.extend(null,q):k}u&&a.S.qa()&&(p=a.a.Ca(a.h.childNodes(b),!0));m?(u||a.h.va(b,a.a.Ca(p)),a.Oa(r,b)):(a.h.Ea(b),t||a.i.ma(b,a.i.H));l=m}},null,{l:b});return{controlsDescendantBindings:!0}}};a.m.Ra[b]=!1;a.h.ea[b]=!0}b("if");b("ifnot",!1,!0);b("with",!0)})();a.c.let={init:function(b,
c,d,e,f){c=f.extend(c);a.Oa(c,b);return{controlsDescendantBindings:!0}}};a.h.ea.let=!0;var Q={};a.c.options={init:function(b){if("select"!==a.a.R(b))throw Error("options binding applies only to SELECT elements");for(;0<b.length;)b.remove(0);return{controlsDescendantBindings:!0}},update:function(b,c,d){function e(){return a.a.jb(b.options,function(a){return a.selected})}function f(a,b,c){var d=typeof b;return"function"==d?b(a):"string"==d?a[b]:c}function g(c,d){if(x&&l)a.i.ma(b,a.i.H);else if(t.length){var e=
0<=a.a.A(t,a.w.M(d[0]));a.a.Zc(d[0],e);x&&!e&&a.u.G(a.a.Fb,null,[b,"change"])}}var h=b.multiple,m=0!=b.length&&h?b.scrollTop:null,k=a.a.f(c()),l=d.get("valueAllowUnset")&&d.has("value"),p=d.get("optionsIncludeDestroyed");c={};var q,t=[];l||(h?t=a.a.Mb(e(),a.w.M):0<=b.selectedIndex&&t.push(a.w.M(b.options[b.selectedIndex])));k&&("undefined"==typeof k.length&&(k=[k]),q=a.a.jb(k,function(b){return p||b===n||null===b||!a.a.f(b._destroy)}),d.has("optionsCaption")&&(k=a.a.f(d.get("optionsCaption")),null!==
k&&k!==n&&q.unshift(Q)));var x=!1;c.beforeRemove=function(a){b.removeChild(a)};k=g;d.has("optionsAfterRender")&&"function"==typeof d.get("optionsAfterRender")&&(k=function(b,c){g(0,c);a.u.G(d.get("optionsAfterRender"),null,[c[0],b!==Q?b:n])});a.a.ec(b,q,function(c,e,g){g.length&&(t=!l&&g[0].selected?[a.w.M(g[0])]:[],x=!0);e=b.ownerDocument.createElement("option");c===Q?(a.a.Bb(e,d.get("optionsCaption")),a.w.cb(e,n)):(g=f(c,d.get("optionsValue"),c),a.w.cb(e,a.a.f(g)),c=f(c,d.get("optionsText"),g),
a.a.Bb(e,c));return[e]},c,k);if(!l){var B;h?B=t.length&&e().length<t.length:B=t.length&&0<=b.selectedIndex?a.w.M(b.options[b.selectedIndex])!==t[0]:t.length||0<=b.selectedIndex;B&&a.u.G(a.a.Fb,null,[b,"change"])}(l||a.S.Ya())&&a.i.ma(b,a.i.H);a.a.wd(b);m&&20<Math.abs(m-b.scrollTop)&&(b.scrollTop=m)}};a.c.options.$b=a.a.g.Z();a.c.selectedOptions={init:function(b,c,d){function e(){var e=c(),f=[];a.a.D(b.getElementsByTagName("option"),function(b){b.selected&&f.push(a.w.M(b))});a.m.eb(e,d,"selectedOptions",
f)}function f(){var d=a.a.f(c()),e=b.scrollTop;d&&"number"==typeof d.length&&a.a.D(b.getElementsByTagName("option"),function(b){var c=0<=a.a.A(d,a.w.M(b));b.selected!=c&&a.a.Zc(b,c)});b.scrollTop=e}if("select"!=a.a.R(b))throw Error("selectedOptions binding applies only to SELECT elements");var g;a.i.subscribe(b,a.i.H,function(){g?e():(a.a.B(b,"change",e),g=a.o(f,null,{l:b}))},null,{notifyImmediately:!0})},update:function(){}};a.m.wa.selectedOptions=!0;a.c.style={update:function(b,c){var d=a.a.f(c()||
{});a.a.P(d,function(c,d){d=a.a.f(d);if(null===d||d===n||!1===d)d="";if(v)v(b).css(c,d);else if(/^--/.test(c))b.style.setProperty(c,d);else{c=c.replace(/-(\w)/g,function(a,b){return b.toUpperCase()});var g=b.style[c];b.style[c]=d;d===g||b.style[c]!=g||isNaN(d)||(b.style[c]=d+"px")}})}};a.c.submit={init:function(b,c,d,e,f){if("function"!=typeof c())throw Error("The value for a submit binding must be a function");a.a.B(b,"submit",function(a){var d,e=c();try{d=e.call(f.$data,b)}finally{!0!==d&&(a.preventDefault?
a.preventDefault():a.returnValue=!1)}})}};a.c.text={init:function(){return{controlsDescendantBindings:!0}},update:function(b,c){a.a.Bb(b,c())}};a.h.ea.text=!0;(function(){if(A&&A.navigator){var b=function(a){if(a)return parseFloat(a[1])},c=A.navigator.userAgent,d,e,f,g,h;(d=A.opera&&A.opera.version&&parseInt(A.opera.version()))||(h=b(c.match(/Edge\/([^ ]+)$/)))||b(c.match(/Chrome\/([^ ]+)/))||(e=b(c.match(/Version\/([^ ]+) Safari/)))||(f=b(c.match(/Firefox\/([^ ]+)/)))||(g=a.a.W||b(c.match(/MSIE ([^ ]+)/)))||
(g=b(c.match(/rv:([^ )]+)/)))}if(8<=g&&10>g)var m=a.a.g.Z(),k=a.a.g.Z(),l=function(b){var c=this.activeElement;(c=c&&a.a.g.get(c,k))&&c(b)},p=function(b,c){var d=b.ownerDocument;a.a.g.get(d,m)||(a.a.g.set(d,m,!0),a.a.B(d,"selectionchange",l));a.a.g.set(b,k,c)};a.c.textInput={init:function(b,c,k){function l(c,d){a.a.B(b,c,d)}function m(){var d=a.a.f(c());if(null===d||d===n)d="";L!==n&&d===L?a.a.setTimeout(m,4):b.value!==d&&(y=!0,b.value=d,y=!1,v=b.value)}function r(){w||(L=b.value,w=a.a.setTimeout(z,
4))}function z(){clearTimeout(w);L=w=n;var d=b.value;v!==d&&(v=d,a.m.eb(c(),k,"textInput",d))}var v=b.value,w,L,A=9==a.a.W?r:z,y=!1;g&&l("keypress",z);11>g&&l("propertychange",function(a){y||"value"!==a.propertyName||A(a)});8==g&&(l("keyup",z),l("keydown",z));p&&(p(b,A),l("dragend",r));(!g||9<=g)&&l("input",A);5>e&&"textarea"===a.a.R(b)?(l("keydown",r),l("paste",r),l("cut",r)):11>d?l("keydown",r):4>f?(l("DOMAutoComplete",z),l("dragdrop",z),l("drop",z)):h&&"number"===b.type&&l("keydown",r);l("change",
z);l("blur",z);a.o(m,null,{l:b})}};a.m.wa.textInput=!0;a.c.textinput={preprocess:function(a,b,c){c("textInput",a)}}})();a.c.uniqueName={init:function(b,c){if(c()){var d="ko_unique_"+ ++a.c.uniqueName.rd;a.a.Yc(b,d)}}};a.c.uniqueName.rd=0;a.c.using={init:function(b,c,d,e,f){var g;d.has("as")&&(g={as:d.get("as"),noChildContext:d.get("noChildContext")});c=f.createChildContext(c,g);a.Oa(c,b);return{controlsDescendantBindings:!0}}};a.h.ea.using=!0;a.c.value={init:function(b,c,d){var e=a.a.R(b),f="input"==
e;if(!f||"checkbox"!=b.type&&"radio"!=b.type){var g=[],h=d.get("valueUpdate"),m=!1,k=null;h&&("string"==typeof h?g=[h]:g=a.a.wc(h),a.a.Pa(g,"change"));var l=function(){k=null;m=!1;var e=c(),f=a.w.M(b);a.m.eb(e,d,"value",f)};!a.a.W||!f||"text"!=b.type||"off"==b.autocomplete||b.form&&"off"==b.form.autocomplete||-1!=a.a.A(g,"propertychange")||(a.a.B(b,"propertychange",function(){m=!0}),a.a.B(b,"focus",function(){m=!1}),a.a.B(b,"blur",function(){m&&l()}));a.a.D(g,function(c){var d=l;a.a.Ud(c,"after")&&
(d=function(){k=a.w.M(b);a.a.setTimeout(l,0)},c=c.substring(5));a.a.B(b,c,d)});var p;p=f&&"file"==b.type?function(){var d=a.a.f(c());null===d||d===n||""===d?b.value="":a.u.G(l)}:function(){var f=a.a.f(c()),g=a.w.M(b);if(null!==k&&f===k)a.a.setTimeout(p,0);else if(f!==g||g===n)"select"===e?(g=d.get("valueAllowUnset"),a.w.cb(b,f,g),g||f===a.w.M(b)||a.u.G(l)):a.w.cb(b,f)};if("select"===e){var q;a.i.subscribe(b,a.i.H,function(){q?d.get("valueAllowUnset")?p():l():(a.a.B(b,"change",l),q=a.o(p,null,{l:b}))},
null,{notifyImmediately:!0})}else a.a.B(b,"change",l),a.o(p,null,{l:b})}else a.ib(b,{checkedValue:c})},update:function(){}};a.m.wa.value=!0;a.c.visible={update:function(b,c){var d=a.a.f(c()),e="none"!=b.style.display;d&&!e?b.style.display="":!d&&e&&(b.style.display="none")}};a.c.hidden={update:function(b,c){a.c.visible.update(b,function(){return!a.a.f(c())})}};(function(b){a.c[b]={init:function(c,d,e,f,g){return a.c.event.init.call(this,c,function(){var a={};a[b]=d();return a},e,f,g)}}})("click");
a.ca=function(){};a.ca.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource");};a.ca.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock");};a.ca.prototype.makeTemplateSource=function(b,c){if("string"==typeof b){c=c||w;var d=c.getElementById(b);if(!d)throw Error("Cannot find template with ID "+b);return new a.C.F(d)}if(1==b.nodeType||8==b.nodeType)return new a.C.ia(b);throw Error("Unknown template type: "+b);};a.ca.prototype.renderTemplate=
function(a,c,d,e){a=this.makeTemplateSource(a,e);return this.renderTemplateSource(a,c,d,e)};a.ca.prototype.isTemplateRewritten=function(a,c){return!1===this.allowTemplateRewriting?!0:this.makeTemplateSource(a,c).data("isRewritten")};a.ca.prototype.rewriteTemplate=function(a,c,d){a=this.makeTemplateSource(a,d);c=c(a.text());a.text(c);a.data("isRewritten",!0)};a.b("templateEngine",a.ca);a.kc=function(){function b(b,c,d,h){b=a.m.ac(b);for(var m=a.m.Ra,k=0;k<b.length;k++){var l=b[k].key;if(Object.prototype.hasOwnProperty.call(m,
l)){var p=m[l];if("function"===typeof p){if(l=p(b[k].value))throw Error(l);}else if(!p)throw Error("This template engine does not support the '"+l+"' binding within its templates");}}d="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+a.m.vb(b,{valueAccessors:!0})+" } })()},'"+d.toLowerCase()+"')";return h.createJavaScriptEvaluatorBlock(d)+c}var c=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,
d=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{xd:function(b,c,d){c.isTemplateRewritten(b,d)||c.rewriteTemplate(b,function(b){return a.kc.Ld(b,c)},d)},Ld:function(a,f){return a.replace(c,function(a,c,d,e,l){return b(l,c,d,f)}).replace(d,function(a,c){return b(c,"\x3c!-- ko --\x3e","#comment",f)})},md:function(b,c){return a.aa.Xb(function(d,h){var m=d.nextSibling;m&&m.nodeName.toLowerCase()===c&&a.ib(m,b,h)})}}}();a.b("__tr_ambtns",a.kc.md);(function(){a.C={};a.C.F=function(b){if(this.F=b){var c=
a.a.R(b);this.ab="script"===c?1:"textarea"===c?2:"template"==c&&b.content&&11===b.content.nodeType?3:4}};a.C.F.prototype.text=function(){var b=1===this.ab?"text":2===this.ab?"value":"innerHTML";if(0==arguments.length)return this.F[b];var c=arguments[0];"innerHTML"===b?a.a.fc(this.F,c):this.F[b]=c};var b=a.a.g.Z()+"_";a.C.F.prototype.data=function(c){if(1===arguments.length)return a.a.g.get(this.F,b+c);a.a.g.set(this.F,b+c,arguments[1])};var c=a.a.g.Z();a.C.F.prototype.nodes=function(){var b=this.F;
if(0==arguments.length){var e=a.a.g.get(b,c)||{},f=e.lb||(3===this.ab?b.content:4===this.ab?b:n);if(!f||e.jd){var g=this.text();g&&g!==e.bb&&(f=a.a.Md(g,b.ownerDocument),a.a.g.set(b,c,{lb:f,bb:g,jd:!0}))}return f}e=arguments[0];this.ab!==n&&this.text("");a.a.g.set(b,c,{lb:e})};a.C.ia=function(a){this.F=a};a.C.ia.prototype=new a.C.F;a.C.ia.prototype.constructor=a.C.ia;a.C.ia.prototype.text=function(){if(0==arguments.length){var b=a.a.g.get(this.F,c)||{};b.bb===n&&b.lb&&(b.bb=b.lb.innerHTML);return b.bb}a.a.g.set(this.F,
c,{bb:arguments[0]})};a.b("templateSources",a.C);a.b("templateSources.domElement",a.C.F);a.b("templateSources.anonymousTemplate",a.C.ia)})();(function(){function b(b,c,d){var e;for(c=a.h.nextSibling(c);b&&(e=b)!==c;)b=a.h.nextSibling(e),d(e,b)}function c(c,d){if(c.length){var e=c[0],f=c[c.length-1],g=e.parentNode,h=a.ga.instance,m=h.preprocessNode;if(m){b(e,f,function(a,b){var c=a.previousSibling,d=m.call(h,a);d&&(a===e&&(e=d[0]||b),a===f&&(f=d[d.length-1]||c))});c.length=0;if(!e)return;e===f?c.push(e):
(c.push(e,f),a.a.Ua(c,g))}b(e,f,function(b){1!==b.nodeType&&8!==b.nodeType||a.vc(d,b)});b(e,f,function(b){1!==b.nodeType&&8!==b.nodeType||a.aa.cd(b,[d])});a.a.Ua(c,g)}}function d(a){return a.nodeType?a:0<a.length?a[0]:null}function e(b,e,f,h,m){m=m||{};var n=(b&&d(b)||f||{}).ownerDocument,B=m.templateEngine||g;a.kc.xd(f,B,n);f=B.renderTemplate(f,h,m,n);if("number"!=typeof f.length||0<f.length&&"number"!=typeof f[0].nodeType)throw Error("Template engine must return an array of DOM nodes");n=!1;switch(e){case "replaceChildren":a.h.va(b,
f);n=!0;break;case "replaceNode":a.a.Xc(b,f);n=!0;break;case "ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+e);}n&&(c(f,h),m.afterRender&&a.u.G(m.afterRender,null,[f,h[m.as||"$data"]]),"replaceChildren"==e&&a.i.ma(b,a.i.H));return f}function f(b,c,d){return a.O(b)?b():"function"===typeof b?b(c,d):b}var g;a.gc=function(b){if(b!=n&&!(b instanceof a.ca))throw Error("templateEngine must inherit from ko.templateEngine");g=b};a.dc=function(b,c,h,m,t){h=h||{};if((h.templateEngine||g)==
n)throw Error("Set a template engine before calling renderTemplate");t=t||"replaceChildren";if(m){var x=d(m);return a.$(function(){var g=c&&c instanceof a.fa?c:new a.fa(c,null,null,null,{exportDependencies:!0}),n=f(b,g.$data,g),g=e(m,t,n,g,h);"replaceNode"==t&&(m=g,x=d(m))},null,{Sa:function(){return!x||!a.a.Sb(x)},l:x&&"replaceNode"==t?x.parentNode:x})}return a.aa.Xb(function(d){a.dc(b,c,h,d,"replaceNode")})};a.Qd=function(b,d,g,h,m){function x(b,c){a.u.G(a.a.ec,null,[h,b,u,g,r,c]);a.i.ma(h,a.i.H)}
function r(a,b){c(b,v);g.afterRender&&g.afterRender(b,a);v=null}function u(a,c){v=m.createChildContext(a,{as:z,noChildContext:g.noChildContext,extend:function(a){a.$index=c;z&&(a[z+"Index"]=c)}});var d=f(b,a,v);return e(h,"ignoreTargetNode",d,v,g)}var v,z=g.as,w=!1===g.includeDestroyed||a.options.foreachHidesDestroyed&&!g.includeDestroyed;if(w||g.beforeRemove||!a.Pc(d))return a.$(function(){var b=a.a.f(d)||[];"undefined"==typeof b.length&&(b=[b]);w&&(b=a.a.jb(b,function(b){return b===n||null===b||
!a.a.f(b._destroy)}));x(b)},null,{l:h});x(d.v());var A=d.subscribe(function(a){x(d(),a)},null,"arrayChange");A.l(h);return A};var h=a.a.g.Z(),m=a.a.g.Z();a.c.template={init:function(b,c){var d=a.a.f(c());if("string"==typeof d||"name"in d)a.h.Ea(b);else if("nodes"in d){d=d.nodes||[];if(a.O(d))throw Error('The "nodes" option must be a plain, non-observable array.');var e=d[0]&&d[0].parentNode;e&&a.a.g.get(e,m)||(e=a.a.Yb(d),a.a.g.set(e,m,!0));(new a.C.ia(b)).nodes(e)}else if(d=a.h.childNodes(b),0<d.length)e=
a.a.Yb(d),(new a.C.ia(b)).nodes(e);else throw Error("Anonymous template defined, but no template content was provided");return{controlsDescendantBindings:!0}},update:function(b,c,d,e,f){var g=c();c=a.a.f(g);d=!0;e=null;"string"==typeof c?c={}:(g="name"in c?c.name:b,"if"in c&&(d=a.a.f(c["if"])),d&&"ifnot"in c&&(d=!a.a.f(c.ifnot)),d&&!g&&(d=!1));"foreach"in c?e=a.Qd(g,d&&c.foreach||[],c,b,f):d?(d=f,"data"in c&&(d=f.createChildContext(c.data,{as:c.as,noChildContext:c.noChildContext,exportDependencies:!0})),
e=a.dc(g,d,c,b)):a.h.Ea(b);f=e;(c=a.a.g.get(b,h))&&"function"==typeof c.s&&c.s();a.a.g.set(b,h,!f||f.ja&&!f.ja()?n:f)}};a.m.Ra.template=function(b){b=a.m.ac(b);return 1==b.length&&b[0].unknown||a.m.Id(b,"name")?null:"This template engine does not support anonymous templates nested within its templates"};a.h.ea.template=!0})();a.b("setTemplateEngine",a.gc);a.b("renderTemplate",a.dc);a.a.Kc=function(a,c,d){if(a.length&&c.length){var e,f,g,h,m;for(e=f=0;(!d||e<d)&&(h=a[f]);++f){for(g=0;m=c[g];++g)if(h.value===
m.value){h.moved=m.index;m.moved=h.index;c.splice(g,1);e=g=0;break}e+=g}}};a.a.Pb=function(){function b(b,d,e,f,g){var h=Math.min,m=Math.max,k=[],l,p=b.length,q,n=d.length,r=n-p||1,v=p+n+1,u,w,z;for(l=0;l<=p;l++)for(w=u,k.push(u=[]),z=h(n,l+r),q=m(0,l-1);q<=z;q++)u[q]=q?l?b[l-1]===d[q-1]?w[q-1]:h(w[q]||v,u[q-1]||v)+1:q+1:l+1;h=[];m=[];r=[];l=p;for(q=n;l||q;)n=k[l][q]-1,q&&n===k[l][q-1]?m.push(h[h.length]={status:e,value:d[--q],index:q}):l&&n===k[l-1][q]?r.push(h[h.length]={status:f,value:b[--l],index:l}):
(--q,--l,g.sparse||h.push({status:"retained",value:d[q]}));a.a.Kc(r,m,!g.dontLimitMoves&&10*p);return h.reverse()}return function(a,d,e){e="boolean"===typeof e?{dontLimitMoves:e}:e||{};a=a||[];d=d||[];return a.length<d.length?b(a,d,"added","deleted",e):b(d,a,"deleted","added",e)}}();a.b("utils.compareArrays",a.a.Pb);(function(){function b(b,c,d,h,m){var k=[],l=a.$(function(){var l=c(d,m,a.a.Ua(k,b))||[];0<k.length&&(a.a.Xc(k,l),h&&a.u.G(h,null,[d,l,m]));k.length=0;a.a.Nb(k,l)},null,{l:b,Sa:function(){return!a.a.kd(k)}});
return{Y:k,$:l.ja()?l:n}}var c=a.a.g.Z(),d=a.a.g.Z();a.a.ec=function(e,f,g,h,m,k){function l(b){y={Aa:b,pb:a.ta(w++)};v.push(y);r||F.push(y)}function p(b){y=t[b];w!==y.pb.v()&&D.push(y);y.pb(w++);a.a.Ua(y.Y,e);v.push(y)}function q(b,c){if(b)for(var d=0,e=c.length;d<e;d++)a.a.D(c[d].Y,function(a){b(a,d,c[d].Aa)})}f=f||[];"undefined"==typeof f.length&&(f=[f]);h=h||{};var t=a.a.g.get(e,c),r=!t,v=[],u=0,w=0,z=[],A=[],C=[],D=[],F=[],y,I=0;if(r)a.a.D(f,l);else{if(!k||t&&t._countWaitingForRemove){var E=
a.a.Mb(t,function(a){return a.Aa});k=a.a.Pb(E,f,{dontLimitMoves:h.dontLimitMoves,sparse:!0})}for(var E=0,G,H,K;G=k[E];E++)switch(H=G.moved,K=G.index,G.status){case "deleted":for(;u<K;)p(u++);H===n&&(y=t[u],y.$&&(y.$.s(),y.$=n),a.a.Ua(y.Y,e).length&&(h.beforeRemove&&(v.push(y),I++,y.Aa===d?y=null:C.push(y)),y&&z.push.apply(z,y.Y)));u++;break;case "added":for(;w<K;)p(u++);H!==n?(A.push(v.length),p(H)):l(G.value)}for(;w<f.length;)p(u++);v._countWaitingForRemove=I}a.a.g.set(e,c,v);q(h.beforeMove,D);a.a.D(z,
h.beforeRemove?a.oa:a.removeNode);var M,O,P;try{P=e.ownerDocument.activeElement}catch(N){}if(A.length)for(;(E=A.shift())!=n;){y=v[E];for(M=n;E;)if((O=v[--E].Y)&&O.length){M=O[O.length-1];break}for(f=0;u=y.Y[f];M=u,f++)a.h.Wb(e,u,M)}for(E=0;y=v[E];E++){y.Y||a.a.extend(y,b(e,g,y.Aa,m,y.pb));for(f=0;u=y.Y[f];M=u,f++)a.h.Wb(e,u,M);!y.Ed&&m&&(m(y.Aa,y.Y,y.pb),y.Ed=!0,M=y.Y[y.Y.length-1])}P&&e.ownerDocument.activeElement!=P&&P.focus();q(h.beforeRemove,C);for(E=0;E<C.length;++E)C[E].Aa=d;q(h.afterMove,D);
q(h.afterAdd,F)}})();a.b("utils.setDomNodeChildrenFromArrayMapping",a.a.ec);a.ba=function(){this.allowTemplateRewriting=!1};a.ba.prototype=new a.ca;a.ba.prototype.constructor=a.ba;a.ba.prototype.renderTemplateSource=function(b,c,d,e){if(c=(9>a.a.W?0:b.nodes)?b.nodes():null)return a.a.la(c.cloneNode(!0).childNodes);b=b.text();return a.a.ua(b,e)};a.ba.Ma=new a.ba;a.gc(a.ba.Ma);a.b("nativeTemplateEngine",a.ba);(function(){a.$a=function(){var a=this.Hd=function(){if(!v||!v.tmpl)return 0;try{if(0<=v.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(a){}return 1}();
this.renderTemplateSource=function(b,e,f,g){g=g||w;f=f||{};if(2>a)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var h=b.data("precompiled");h||(h=b.text()||"",h=v.template(null,"{{ko_with $item.koBindingContext}}"+h+"{{/ko_with}}"),b.data("precompiled",h));b=[e.$data];e=v.extend({koBindingContext:e},f.templateOptions);e=v.tmpl(h,b,e);e.appendTo(g.createElement("div"));v.fragments={};return e};this.createJavaScriptEvaluatorBlock=function(a){return"{{ko_code ((function() { return "+
a+" })()) }}"};this.addTemplate=function(a,b){w.write("<script type='text/html' id='"+a+"'>"+b+"\x3c/script>")};0<a&&(v.tmpl.tag.ko_code={open:"__.push($1 || '');"},v.tmpl.tag.ko_with={open:"with($1) {",close:"} "})};a.$a.prototype=new a.ca;a.$a.prototype.constructor=a.$a;var b=new a.$a;0<b.Hd&&a.gc(b);a.b("jqueryTmplTemplateEngine",a.$a)})()})})();})();

/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojhtmlutils',["exports"],function(e){"use strict";const t={};function r(e){for(var t=e.childNodes,n=t.length,o=0;o<n;o++){var a=t[o];r(a);var i,l,d,c=a.nodeName.toLowerCase();const n="oj-bind-replace-";if(c.substr(0,16)===n){var s=c.substr(16);for(d=document.createElement(s),i=0;i<a.attributes.length;i++)l=a.attributes[i],d.setAttribute(l.name,l.value);var p=d.content?d.content:d;for(i=0;a.childNodes.length>0;)p.appendChild(a.childNodes[0]);e.replaceChild(d,a)}else if("script"===c||"style"===c){for(d=document.createElement(c),i=0;i<a.attributes.length;i++)l=a.attributes[i],d.setAttribute(l.name,l.value);var u=a.innerHTML;d.innerHTML=u.replace(new RegExp(n,"g"),""),e.replaceChild(d,a)}else if(8===a.nodeType){var f=a.nodeValue;a.nodeValue=f.replace(new RegExp(n,"g"),"")}}}t.stringToNodeArray=function(e){var t,n,o,a,i,l=["table","caption","colgroup","col","thead","tfoot","th","tbody","tr","td","template","p"];for(t=0;t<l.length;t++)n=l[t],o=e,a=void 0,i=void 0,a=new RegExp("<"+n+"(?=\\s|>)","gi"),i=new RegExp("</"+n+"(?=\\s|>)","gi"),e=o.replace(a,"<oj-bind-replace-"+n).replace(i,"</oj-bind-replace-"+n);var d=document.createElement("div");d.innerHTML=e,-1!==e.indexOf("<oj-bind-replace-")&&r(d);for(var c=[];d.firstChild;)c.push(d.firstChild),d.removeChild(d.firstChild);return c},t.getTemplateContent=function(e){var t=[];if(1!==e.nodeType||"template"!==e.tagName.toLowerCase())throw new Error("Invalid template node "+e);var r=e.content;return r?t.push(document.importNode(r,!0)):Array.prototype.forEach.call(e.childNodes,function(e){t.push(e.cloneNode(!0))}),t};const n=t.stringToNodeArray,o=t.getTemplateContent;e.getTemplateContent=o,e.stringToNodeArray=n,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojhtmlutils.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojkoshared',["ojs/ojcore-base","knockout","ojs/ojconfig","ojs/ojlogger","ojs/ojhtmlutils"],function(e,t,n,r,i){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;const o=function(){this.Init()};function a(e,r){return function(i,o,a,s){var u=n.getExpressionEvaluator();if(!u)return e(i,o,a,s);var c=function(e,n,r,i){var o=i[e];if(!o){var a=t.expressionRewriting.preProcessBindings(e,n);o=r.createEvaluator("{"+a+"}").evaluate,i[e]=o}return o}(i,s,u,r);return c([o.$data||{},o,{$element:a}])}}e.Object.createSubclass(o,e.Object,"ComponentBinding.GlobalChangeQueue"),o.prototype.Init=function(){o.superclass.Init.call(this),this._trackers=[],this._queue=[]},o.prototype.registerComponentChanges=function(t){-1===this._trackers.indexOf(t)&&(this._trackers.push(t),this._delayTimer||(this._delayTimer=setTimeout(e.Object.createCallback(this,this._deliverChangesImpl),1),this._delayPromise=new Promise(function(e){this._delayPromiseResolver=e}.bind(this))))},o.prototype.deliverChanges=function(){this._delayTimer&&clearTimeout(this._delayTimer),this._deliverChangesImpl()},o.prototype.getThrottlePromise=function(){return this._delayPromise||Promise.resolve()},o.prototype._deliverChangesImpl=function(){this._delayTimer=null,this._resolveDelayPromise();var e=this._trackers;this._trackers=[];for(var t=0;t<e.length;t++){var n=e[t];this._queue.push({tracker:n,changes:n.flushChanges()})}for(;this._queue.length>0;){var r=this._queue.shift();r.tracker.applyChanges(r.changes)}},o.prototype._resolveDelayPromise=function(){this._delayPromise&&(this._delayPromiseResolver(),this._delayPromiseResolver=null,this._delayPromise=null)};const s=(new function(){var e=new WeakMap,s={},u={},c={},l="_ojExtended",p="_ojCacheScope",d=new o;function h(e){var t,r=n.getExpressionEvaluator();if(r){var i=r.createEvaluator(e).evaluate;return function(e,t){return i([e,e.$data||{},{$element:t}])}}try{t=new Function("$context","$element","with($context.$data||{}){with($context){return "+e+"}}")}catch(t){throw new Error(t.message+' in expression "'+e+'"')}return t}function f(t,n,r){if(!r)return t(n,r);var i,o=e,a=r[p]||r;(i=o.get(a))||(i={},o.set(a,i));var s=i[n];return s||(s=t(n,r),i[n]=s),s}function v(e,t,n){var r=t.getBindingsString;if(r)return r.call(t,e,n);switch(e.nodeType){case 1:return e.getAttribute("data-bind");case 8:var i=e.nodeValue.match(/^\s*ko(?:\s+([\s\S]+))?\s*$/);return i?i[1]:null;default:return null}}this.install=function(){var e=t.bindingProvider,n="instance",o=e[n],p="getBindingAccessors";if(!o[p])return r.error("JET's Knockout bindings are not compatible with the current binding provider since it does not implement getBindingAccessors()"),this;var d={getWrapped:function(){return o}};e[n]=d;var g,m,y,E=[];return E.push(p,"nodeHasBindings","getBindings"),E.forEach(function(e){d[e]=function(e,n,r){var i="nodeHasBindings"===n;return function(o){if(i){var a=o.nodeType;if(1!==a&&8!==a)return!1}var u=r(n,e[n]),c=u?u.apply(e,arguments):null,l=s[n];if(null!=l){var p=arguments;l.forEach(function(n){var r=Array.prototype.slice.call(p);r.push(c,e),c=t.ignoreDependencies(n,null,r)})}return c}}(o,e,function(e,n){return e!==p?n:function(e,n){return function(r,i){if(i[l]){var o=v(r,n,i),a=o?function(e,n){return f(function(e){return h("{"+t.expressionRewriting.preProcessBindings(e,{valueAccessors:!0})+"}")},e,n)}(o,i)(i,r):null;if(1===r.nodeType&&t.components.isRegistered(r.tagName.toLowerCase())){var s=e.call(n,r,i).component;s&&((a=a||{}).component=s)}return a}return e.call(n,r,i)}}(n,o)})}),d.preprocessNode=function(e){var n=e.preprocessNode;return function(r){var i,o,a=null;return 1===r.nodeType&&(i=u[r.nodeName.toLowerCase()]),i||(i=n,a=e),i&&(o=t.ignoreDependencies(i,a,[r])),Array.isArray(o)&&(o=function(e,n){var r=t.bindingProvider.instance,i=n.slice(0),o=n[0],a=0,s=0;for(;a>=0;){var u=t.virtualElements.nextSibling(o);if(o!==e){var c=r.preprocessNode(o);Array.isArray(c)&&(i.splice.apply(i,[s,1].concat(c)),s+=c.length-1)}s+=1;var l=a+1;s+=(a=(o=u)?n.indexOf(o,l):-1)-l}return i}(r,o)),o}}(o),g=t.nativeTemplateEngine.prototype,y=g[m="renderTemplateSource"],g[m]=function(e,t,n,r){return y.call(this,e,t,n,r||document)},function(){const e=t.templateSources.domElement.prototype,n="nodes",r=e[n];e[n]=function(){const e=r.apply(this,arguments);return e&&11===e.nodeType?document.importNode(e,!0):e}}(),t.components.loaders.unshift({loadTemplate:function(e,n,r){var o;if("string"==typeof n)o=t.utils.parseHtmlFragment(n,document);else if(n.element){var a=n.element;if(a instanceof HTMLElement)o=i.getTemplateContent(a);else{if("string"!=typeof a)throw new Error(`Unknown element type: ${a}`);var s=document.getElementById(a);if(!s)throw new Error(`Cannot find element with ID ${a}`);o=i.getTemplateContent(s)}}o?t.components.defaultLoader.loadTemplate(e,o,r):r(null)}}),function(e){var n,i=t.bindingProvider.instance,o="parseBindingsString";for(;i&&!n;){var s=i[o];s?(n=!0,i[o]=a(s.bind(i),e)):i=i.getWrapped?i.getWrapped():null}n||r.error("Unable to patch KO expression evaluation implementation. If you have a custom binding provider, make sure it implements the getWrapped() method that returns the default binding provider instance.")}(c),this},this.addPostprocessor=function(e){Object.keys(e).forEach(function(t){s[t]=s[t]||[],s[t].push(e[t])})},this.registerPreprocessor=function(e,t){u[e]=t},this.getBindingsString=function(e,t,n){return v(e,t,n)},this.extendBindingContext=function(e,t,n,r,i){var o={$current:t,$root:void 0,$parent:void 0,$parents:void 0};return n&&(o[n]=t),r&&(o[r]=t),e?o=e.extend(o):o.$data={},Object.defineProperty(o,p,{value:i}),Object.defineProperty(o,l,{value:!0}),o},this.createBindingExpressionEvaluator=function(e,t){if(t[l])return h(e);var r,i=n.getExpressionEvaluator();if(i){var o=i.createEvaluator(e).evaluate;return function(e){return o([e.$data||{},e])}}try{r=new Function("$context","with($context){with($data||{}){return "+e+";}}")}catch(t){throw new Error(t.message+' in expression "'+e+'"')}return r},this.createEvaluator=function(e,t){return f(this.createBindingExpressionEvaluator,e,t)},this.getGlobalChangeQueue=function(){return d}}).install();return s});
//# sourceMappingURL=ojkoshared.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojdefer',["ojs/ojkoshared","knockout","ojs/ojcore-base"],function(e,t,n){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n,e.addPostprocessor({nodeHasBindings:function(e,t){return t||1===e.nodeType&&"oj-defer"===e.nodeName.toLowerCase()},getBindingAccessors:function(e,t,n){var r=n;return 1===e.nodeType&&"oj-defer"===e.nodeName.toLowerCase()&&((r=r||{})._ojDefer_=function(){}),r}}),t.bindingHandlers._ojDefer_={init:function(e,n,r,a,s){var i=e;if(i._shown)t.applyBindingsToDescendants(s,i);else if(!i._activateSubtree){for(var o=[];i.firstChild;)o.push(i.firstChild),i.removeChild(i.firstChild);i._activateSubtree=e=>{o.forEach(t=>e.appendChild(t)),t.applyBindingsToDescendants(s,e)}}return{controlsDescendantBindings:!0}}};class r extends HTMLElement{constructor(){super(),this._activateSubtreeInternal=null,this._shownInternal=!1}get _shown(){return this._shownInternal}get _activateSubtree(){return this._activateSubtreeInternal}set _activateSubtree(e){this._activateSubtreeInternal=e}_activate(){this._activateSubtree?(this._activateSubtree(this),this._activateSubtreeInternal=null):this._shownInternal=!0}}customElements.define("oj-defer",r),n._registerLegacyNamespaceProp("DeferElement",r)});
//# sourceMappingURL=ojdefer.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojarraydataprovider',["ojs/ojcore-base","ojs/ojmap","ojs/ojset","ojs/ojdataprovider","ojs/ojeventtarget","ojs/ojlogger"],function(t,e,s,i,r,a){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,s=s&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s;
/**
     * @preserve Copyright 2013 jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */
class n{constructor(t,e){var s;this.data=t,this.options=e,this.Item=class{constructor(t,e){this.metadata=t,this.data=e,this[n._METADATA]=t,this[n._DATA]=e}},this.ItemMetadata=class{constructor(t){this.key=t,this[n._KEY]=t}},this.FetchByKeysResults=class{constructor(t,e){this.fetchParameters=t,this.results=e,this[n._FETCHPARAMETERS]=t,this[n._RESULTS]=e}},this.ContainsKeysResults=class{constructor(t,e){this.containsParameters=t,this.results=e,this[n._CONTAINSPARAMETERS]=t,this[n._RESULTS]=e}},this.FetchByOffsetResults=class{constructor(t,e,s,i){this.fetchParameters=t,this.results=e,this.done=s,this.totalFilteredRowCount=i,this[n._FETCHPARAMETERS]=t,this[n._RESULTS]=e,this[n._DONE]=s,"enabled"===t?.includeFilteredRowCount&&(this[n._TOTALFILTEREDROWCOUNR]=i)}},this.FetchListParameters=class{constructor(t,e,s,i){this.size=t,this.sortCriteria=e,this.filterCriterion=s,this.attributes=i,this[n._SIZE]=t,this[n._SORTCRITERIA]=e,this[n._FILTERCRITERION]=s,this[n._ATTRIBUTES]=i}},this.FetchListResult=class{constructor(t,e,s){this.fetchParameters=t,this.data=e,this.metadata=s,this[n._FETCHPARAMETERS]=t,this[n._DATA]=e,this[n._METADATA]=s}},this.AsyncIterable=(s=class{constructor(t){this._asyncIterator=t,this[Symbol.asyncIterator]=()=>this._asyncIterator}},Symbol.asyncIterator,s),this.AsyncIterator=class{constructor(t,e,s,i,r){this._parent=t,this._nextFunc=e,this._params=s,this._offset=i,this._signal=r,this._clientId=s&&s.clientId||Symbol(),t._mapClientIdToIteratorInfo.set(this._clientId,{offset:i,rowKey:null,data:null,filterCriterion:s?.filterCriterion,sortCriteria:s?.sortCriteria,fetchedRowKeys:[]}),this._cacheObj={},this._cacheObj[n._MUTATIONSEQUENCENUM]=t._mutationSequenceNum}next(){const t=this._signal;if(this._signal){const t=this._signal.reason;if(this._signal.aborted)return Promise.reject(new DOMException(t,"AbortError"))}return new Promise((e,s)=>{if(t){const e=t.reason;t.addEventListener("abort",t=>s(new DOMException(e,"AbortError")))}const i=this._parent._mapClientIdToIteratorInfo.get(this._clientId),r=i?i.offset:null,a=this._nextFunc(this._params,r,!1,this._cacheObj);Object.defineProperty(a.result.value,"totalFilteredRowCount",{get:()=>{if("enabled"===this._params?.includeFilteredRowCount)return(void 0===this._totalFilteredRowCount||this._parent._resetTotalFilteredRowCount)&&(this._totalFilteredRowCount=this._parent._getTotalFilteredRowCount(this._params),this._parent._resetTotalFilteredRowCount=!1),this._totalFilteredRowCount},enumerable:!0});const n=a.result.value.metadata?.length>0?a.result.value.metadata[a.result.value.metadata.length-1]?.key:null,o=a.result.value.data?.length>0?a.result.value.data[a.result.value.data.length-1]:null,l=a.result.value.metadata?.map(t=>t.key);return this._parent._mapClientIdToIteratorInfo.set(this._clientId,{offset:a.offset,rowKey:n,data:o,filterCriterion:this._params?.filterCriterion,sortCriteria:this._params?.sortCriteria,fetchedRowKeys:l?i?.fetchedRowKeys?i.fetchedRowKeys.concat(l):l:[]}),e(a.result)})}},this.AsyncIteratorYieldResult=class{constructor(t){this.value=t,this[n._VALUE]=t,this[n._DONE]=!1}},this.AsyncIteratorReturnResult=class{constructor(t){this.value=t,this[n._VALUE]=t,this[n._DONE]=!0}},this.DataProviderMutationEventDetail=class{constructor(t,e,s,i){this._parent=t,this.add=e,this.remove=s,this.update=i,this[n._ADD]=e,this[n._REMOVE]=s,this[n._UPDATE]=i,Object.defineProperty(this,n._PARENT,{value:t,enumerable:!1})}},this.DataProviderOperationEventDetail=class{constructor(t,e,s,i,r){this._parent=t,this.keys=e,this.metadata=s,this.data=i,this.indexes=r,this[n._KEYS]=e,this[n._METADATA]=s,this[n._DATA]=i,this[n._INDEXES]=r,Object.defineProperty(this,n._PARENT,{value:t,enumerable:!1})}},this.DataProviderAddOperationEventDetail=class{constructor(t,e,s,i,r,a,o){this._parent=t,this.keys=e,this.afterKeys=s,this.addBeforeKeys=i,this.metadata=r,this.data=a,this.indexes=o,this[n._KEYS]=e,this[n._AFTERKEYS]=s,this[n._ADDBEFOREKEYS]=i,this[n._METADATA]=r,this[n._DATA]=a,this[n._INDEXES]=o,Object.defineProperty(this,n._PARENT,{value:t,enumerable:!1})}},this._sequenceNum=0,this._mutationSequenceNum=0,this._mapClientIdToIteratorInfo=new Map,this._subscribeObservableArray(t),null!=e&&null!=e[n._KEYS]&&(this._keysSpecified=!0,this._keys=e[n._KEYS])}containsKeys(t){return this.fetchByKeys(t).then(e=>{const i=new s;return t[n._KEYS].forEach(t=>{null!=e[n._RESULTS].get(t)&&i.add(t)}),Promise.resolve(new this.ContainsKeysResults(t,i))})}fetchByKeys(s){const i=s?s.signal:void 0;if(i){const t=i.reason;if(i.aborted)return Promise.reject(new DOMException(t,"AbortError"))}return new Promise((r,a)=>{if(i){const t=i.reason;i.addEventListener("abort",e=>a(new DOMException(t,"AbortError")))}this._generateKeysIfNeeded();const o=new e,l=this._getKeys(),h=null!=s?s[n._ATTRIBUTES]:null;let u,c=0;if(s){const e=this._getRowData();return s[n._KEYS].forEach(s=>{for(u=null,c=0;c<l.length;c++)if(t.Object.compareValues(l[c],s)){u=c;break}if(null!=u&&u>=0){let t=e[u];if(h&&h.length>0){const e={};this._filterRowAttributes(h,t,e),t=e}o.set(s,new this.Item(new this.ItemMetadata(s),t))}}),r(new this.FetchByKeysResults(s,o))}return a("Keys are a required parameter")})}fetchByOffset(t){const e=t?t.signal:void 0;if(e){const t=e.reason;if(e.aborted)return Promise.reject(new DOMException(t,"AbortError"))}return new Promise((s,i)=>{if(e){const t=e.reason;e.addEventListener("abort",e=>i(new DOMException(t,"AbortError")))}const r=null!=t?t[n._SIZE]:-1,a=null!=t?t[n._SORTCRITERIA]:null,o=null!=t&&t[n._OFFSET]>0?t[n._OFFSET]:0,l=null!=t?t[n._ATTRIBUTES]:null,h=null!=t?t[n._FILTERCRITERION]:null;this._generateKeysIfNeeded();let u,c=[],_=!0;if(t){const e=new this.FetchListParameters(r,a,h,l),i=this._fetchFrom(e,o,!0).result;e[n._SORTCRITERIA]&&(t[n._SORTCRITERIA]=e[n._SORTCRITERIA]);const d=i[n._VALUE];_=i[n._DONE];const f=d[n._DATA],E=d[n._METADATA].map(t=>t[n._KEY]);return c=f.map((t,e)=>new this.Item(new this.ItemMetadata(E[e]),t)),"enabled"===t.includeFilteredRowCount&&(u=this._getTotalFilteredRowCount(t)),s(new this.FetchByOffsetResults(t,c,_,u))}return i("Offset is a required parameter")})}_getTotalFilteredRowCount(t){const e=this._getRowData(),s=t?t[n._FILTERCRITERION]:null;let r=-1;if(s){r=0;let t=i.FilterFactory.getFilter({filterDef:s,filterOptions:this.options});for(let s=0;s<e.length;s++)t.filter(e[s])&&++r}else r=e.length;return r}fetchFirst(t){const e=t?t.signal:void 0;return new this.AsyncIterable(new this.AsyncIterator(this,this._fetchFrom.bind(this),t,0,e))}getCapability(t){return n.getCapability(t)}static _getFetchCapability(){const t=new Set;return t.add("exclusion"),{caching:"all",attributeFilter:{expansion:{},ordering:{},defaultShape:{features:t}}}}static getCapability(t){return"sort"===t?{attributes:"multiple"}:"fetchByKeys"===t?Object.assign({implementation:"lookup"},n._getFetchCapability()):"fetchByOffset"===t?Object.assign({implementation:"randomAccess",totalFilteredRowCount:"exact"},n._getFetchCapability()):"fetchFirst"===t?Object.assign({iterationSpeed:"immediate",totalFilteredRowCount:"exact"},n._getFetchCapability()):"fetchCapability"===t?n._getFetchCapability():"filter"===t?{operators:["$co","$eq","$ew","$pr","$gt","$ge","$lt","$le","$ne","$regex","$sw","$exists"],attributeExpression:["*"],textFilter:{},textFilterMatching:{matchBy:["startsWith","contains","phrase"]},nestedFilter:{},collationOptions:{sensitivity:["base","accent","case","variant"]}}:null}getTotalSize(){return Promise.resolve(this._getRowData().length)}isEmpty(){return this._getRowData().length>0?"no":"yes"}createOptimizedKeySet(t){return new s(t)}createOptimizedKeyMap(t){if(t){const s=new e;return t.forEach((t,e)=>{s.set(e,t)}),s}return new e}_getRowData(){return this[n._DATA]instanceof Array?this[n._DATA]:this[n._DATA]()}_getKeys(){return null==this._keys||this._keys instanceof Array?this._keys:this._keys()}_indexOfKey(e,s){let i,r=-1;for(i=0;i<s.length;i++)if(t.Object.compareValues(s[i],e)){r=i;break}return r}_adjustIteratorOffset(t,e){const s=t?.indexes,i=e?.indexes;this._mapClientIdToIteratorInfo.forEach((r,a)=>{if(r.offset>0){const n=r.filterCriterion,o=r.sortCriteria,l=o?this._getSortComparator(o):null;s&&s.forEach((e,s)=>{const i=Array.from(t.keys)[s],a=this._indexOfKey(i,r.fetchedRowKeys);a>-1&&(--r.offset,r.fetchedRowKeys.splice(a,1))}),i&&i.forEach((t,s)=>{const i=e.data[s],a=Array.from(e.keys)[s];if(!n||!n.filter||i&&n.filter(i))if(l){if(i&&r.data&&l({value:r.data},{value:i})>0){++r.offset;this._indexOfKey(a,r.fetchedRowKeys)<0&&r.fetchedRowKeys.splice(t,0,a)}}else{if(t<this._indexOfKey(r.rowKey,this._getKeys())){++r.offset;this._indexOfKey(a,r.fetchedRowKeys)<0&&r.fetchedRowKeys.splice(t,0,a)}}}),this._mapClientIdToIteratorInfo.set(a,r)}})}_subscribeObservableArray(e){if(!(e instanceof Array)){if(!this._isObservableArray(e))throw new Error("Invalid data type. ArrayDataProvider only supports Array or observableArray.");e.subscribe(e=>{let i,r,n,o,l,h=[],u=[],c=[],_=[];const d=[];this._mutationSequenceNum++;let f=!0,E=!0;this._resetTotalFilteredRowCount=!0,e.forEach(t=>{"deleted"===t.status?(f=!1):"added"===t.status&&(E=!1)});const p=[],T=[];let R=null,A=null,y=null;const m=this._generateKeysIfNeeded();if(!f&&!E){for(i=0;i<e.length;i++){o=e[i].index,l=e[i].status;const s=this._getId(e[i].value);for(r=0;r<e.length;r++)r!==i&&o===e[r].index&&l!==e[r].status&&p.indexOf(i)<0&&T.indexOf(i)<0&&(null==s||t.Object.compareValues(s,this._getId(e[r].value)))&&("deleted"===l?(T.push(i),p.push(r)):(T.push(r),p.push(i)))}for(i=0;i<e.length;i++)if(p.indexOf(i)>=0){const t=this._getKeys()[e[i].index];u.push(t),h.push(e[i].value),c.push(e[i].index)}if(u.length>0){_=u.map(t=>new this.ItemMetadata(t));const t=new s;u.forEach(e=>{t.add(e)}),R=new this.DataProviderOperationEventDetail(this,t,_,h,c)}}if(h=[],u=[],c=[],!f){for(i=0;i<e.length;i++)"deleted"===e[i].status&&p.indexOf(i)<0&&T.indexOf(i)<0&&(n=this._getId(e[i].value),null==n&&(n=m?e[i].index:this._getKeys()[e[i].index]),u.push(n),h.push(e[i].value),c.push(e[i].index));if(u.length>0&&u.forEach(t=>{const e=this._indexOfKey(t,this._getKeys());e>=0&&this._keys.splice(e,1)}),u.length>0){_=u.map(t=>new this.ItemMetadata(t));const t=new s;u.forEach(e=>{t.add(e)}),y=new this.DataProviderOperationEventDetail(this,t,_,h,c)}}if(h=[],u=[],c=[],!E){const t=null==this._getKeys()||!(this._getKeys().length>0);for(i=0;i<e.length;i++)"added"===e[i].status&&p.indexOf(i)<0&&T.indexOf(i)<0&&(n=this._getId(e[i].value),null==n&&(m||this._keysSpecified)&&(n=this._getKeys()[e[i].index]),null==n?(n=this._sequenceNum,this._sequenceNum++,this._keys.splice(e[i].index,0,n)):t||-1===this._indexOfKey(n,this._getKeys())?this._keys.splice(e[i].index,0,n):m||this._keysSpecified||(a.warn("added row has duplicate key "+n),this._keys.splice(e[i].index,0,n)),u.push(n),h.push(e[i].value),c.push(e[i].index));for(i=0;i<e.length;i++)if("added"===e[i].status&&p.indexOf(i)<0&&T.indexOf(i)<0){let t=this._getKeys()[e[i].index+1];t=null==t?null:t,d.push(t)}if(u.length>0){_=u.map(t=>new this.ItemMetadata(t));const t=new s;u.forEach(e=>{t.add(e)});const e=new s;d.forEach(t=>{e.add(t)}),A=new this.DataProviderAddOperationEventDetail(this,t,e,d,_,h,c)}}this._fireMutationEvent(A,y,R)},null,"arrayChange"),e.subscribe(t=>{if(this._mutationEvent){const t=this._mutationEvent.detail;this._adjustIteratorOffset(t.remove,t.add),this.dispatchEvent(this._mutationEvent)}else if(this._mutationRemoveEvent||this._mutationAddEvent||this._mutationUpdateEvent){if(this._mutationRemoveEvent){const t=this._mutationRemoveEvent.detail;this._adjustIteratorOffset(t.remove,null),this.dispatchEvent(this._mutationRemoveEvent)}if(this._mutationAddEvent){const t=this._mutationAddEvent.detail;this._adjustIteratorOffset(null,t.add),this.dispatchEvent(this._mutationAddEvent)}this._mutationUpdateEvent&&this.dispatchEvent(this._mutationUpdateEvent)}else this.dispatchEvent(new i.DataProviderRefreshEvent);this._mutationEvent=null,this._mutationRemoveEvent=null,this._mutationAddEvent=null,this._mutationUpdateEvent=null},null,"change")}}_fireMutationEvent(t,e,s){const r=new this.DataProviderMutationEventDetail(this,t,e,s);this._mutationEvent=new i.DataProviderMutationEvent(r)}_hasSamePropValue(e,s,i){const r="_hasSamePropValue is true";try{e&&e[i]&&e[i].forEach(e=>{s&&s[i]&&s[i].forEach(s=>{if(t.Object.compareValues(e,s))throw r})})}catch(t){if(t===r)return!0;throw t}return!1}_isObservableArray(t){return"function"==typeof t&&t.subscribe&&!(void 0===t.destroyAll)}_generateKeysIfNeeded(){if(null==this._keys){const t=null!=this.options?this.options[n._KEYATTRIBUTES]||this.options[n._IDATTRIBUTE]:null;this._keys=[];const e=this._getRowData();let s,i=0;for(i=0;i<e.length;i++)s=this._getId(e[i]),null!=s&&"@index"!==t||(s=this._sequenceNum,this._sequenceNum++),this._keys[i]=s;return!0}return!1}_getId(t){let e,s=null;if(null!=this.options&&(null!=this.options[n._KEYATTRIBUTES]?s=this.options[n._KEYATTRIBUTES]:null!=this.options[n._IDATTRIBUTE]&&(s=this.options[n._IDATTRIBUTE])),null!=s){if(Array.isArray(s)){let i;for(e=[],i=0;i<s.length;i++)e[i]=this._getVal(t,s[i])}else e="@value"===s?this._getAllVals(t):this._getVal(t,s);return e}return null}_getVal(t,e){if("string"==typeof e){const s=e.indexOf(".");if(s>0){const i=e.substring(0,s),r=e.substring(s+1),a=t[i];if(a)return this._getVal(a,r)}}return"function"==typeof t[e]?t[e]():t[e]}_getAllVals(t){return"string"==typeof t||"number"==typeof t||"boolean"==typeof t?t:Object.keys(t).map(e=>this._getVal(t,e))}_fetchFrom(t,e,s,r){const a=null!=t?t[n._ATTRIBUTES]:null;this._generateKeysIfNeeded();const o=null!=t?t[n._SORTCRITERIA]:null,l=this._getCachedIndexMap(o,r),h=this._getRowData(),u=l.map(t=>h[t]),c=l.map(t=>this._getKeys()[t]),_=null!=t?t[n._SIZE]>0?t[n._SIZE]:t[n._SIZE]<0?this._getKeys().length:25:25;let d=e+_<u.length;const f=this._mergeSortCriteria(o);null!=f&&((t=t||{})[n._SORTCRITERIA]=f);let E,p=[],T=[],R=0;if(null!=t&&t[n._FILTERCRITERION]){let s=null;s=i.FilterFactory.getFilter({filterDef:t[n._FILTERCRITERION],filterOptions:this.options});let r=0;for(;p.length<_&&r<u.length;)s.filter(u[r])&&(R>=e&&(p.push(u[r]),T.push(c[r])),R++),r++;d=r<u.length}else p=u.slice(e,e+_),T=c.slice(e,e+_);R=e+p.length,E=p.map(t=>{if(a&&a.length>0){const e={};this._filterRowAttributes(a,t,e),t=e}return t});let A=T.map(t=>new this.ItemMetadata(t)),y=new this.FetchListResult(t,E,A);return(s?d:y.data.length>0)?{result:new this.AsyncIteratorYieldResult(y),offset:R}:{result:new this.AsyncIteratorReturnResult(y),offset:R}}_getCachedIndexMap(t,e){if(e&&e.indexMap&&e[n._MUTATIONSEQUENCENUM]===this._mutationSequenceNum)return e.indexMap;const s=this._getRowData().map((t,e)=>e),i=this._sortData(s,t);return e&&(e.indexMap=i,e[n._MUTATIONSEQUENCENUM]=this._mutationSequenceNum),i}_sortData(t,e){const s=this._getRowData(),i=t.map(t=>({index:t,value:s[t]}));return null!=e&&i.sort(this._getSortComparator(e)),i.map(t=>t.index)}_getSortComparator(t){return(e,s)=>{const r=null!=this.options?this.options[n._SORTCOMPARATORS]:null;let a,o,l,h,u,c;for(a=0;a<t.length;a++){o=t[a][n._DIRECTION],l=t[a][n._ATTRIBUTE],h=null,null!=r&&(h=r[n._COMPARATORS].get(l)),u=this._getVal(e.value,l),c=this._getVal(s.value,l),h||(h=i.SortUtils.getNaturalSortComparator());const _="descending"===o?-1:1,d=h(u,c)*_;if(0!==d)return d}return 0}}_mergeSortCriteria(t){const e=null!=this.options?this.options[n._IMPLICITSORT]:null;return null==e?t:null==t?e:void 0}_filterRowAttributes(t,e,s){if(Array.isArray(t)){let i,r=!1;t.forEach(t=>{t!==n._ATDEFAULT&&t.name!==n._ATDEFAULT||(r=!0)}),Object.keys(e).forEach(a=>{if(r){let r,n=!1,o=a;for(i=0;i<t.length;i++)if(r=t[i]instanceof Object?t[i].name:t[i],r.startsWith("!")){if(r=r.substr(1,r.length-1),r===a){n=!0;break}}else if(r===a){o=t[i];break}n||this._filterRowAttributes(o,e,s)}else t.forEach(t=>{let i;i=t instanceof Object?t.name:t,i.startsWith("!")||i!==a||this._filterRowAttributes(t,e,s)})})}else if(t instanceof Object){const i=t.name,r=t.attributes;if(i&&!i.startsWith("!"))if(e[i]instanceof Object&&!Array.isArray(e[i])&&r){const t={};this._filterRowAttributes(r,e[i],t),s[i]=t}else if(Array.isArray(e[i])&&r){let t;s[i]=[],e[i].forEach((e,a)=>{t={},this._filterRowAttributes(r,e,t),s[i][a]=t})}else this._proxyAttribute(s,e,i)}else this._proxyAttribute(s,e,t)}_proxyAttribute(t,e,s){t&&e&&Object.defineProperty(t,s,{get:()=>e[s],set(t){e[s]=t},enumerable:!0})}}return n._KEY="key",n._KEYS="keys",n._AFTERKEYS="afterKeys",n._ADDBEFOREKEYS="addBeforeKeys",n._DIRECTION="direction",n._ATTRIBUTE="attribute",n._ATTRIBUTES="attributes",n._SORT="sort",n._SORTCRITERIA="sortCriteria",n._FILTERCRITERION="filterCriterion",n._DATA="data",n._METADATA="metadata",n._INDEXES="indexes",n._OFFSET="offset",n._SIZE="size",n._IDATTRIBUTE="idAttribute",n._IMPLICITSORT="implicitSort",n._KEYATTRIBUTES="keyAttributes",n._SORTCOMPARATORS="sortComparators",n._COMPARATORS="comparators",n._COMPARATOR="comparator",n._RESULTS="results",n._CONTAINS="contains",n._FETCHPARAMETERS="fetchParameters",n._CONTAINSPARAMETERS="containsParameters",n._VALUE="value",n._DONE="done",n._ADD="add",n._REMOVE="remove",n._UPDATE="update",n._DETAIL="detail",n._FETCHLISTRESULT="fetchListResult",n._ATDEFAULT="@default",n._MUTATIONSEQUENCENUM="mutationSequenceNum",n._PARENT="_parent",n._TOTALFILTEREDROWCOUNR="totalFilteredRowCount",r.EventTargetMixin.applyMixin(n),t._registerLegacyNamespaceProp("ArrayDataProvider",n),n});
//# sourceMappingURL=ojarraydataprovider.js.map;

define('css!dashboard/price-list/price-list-styles',[],function(){});
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojgauge-toolkit',["exports","ojs/ojdvt-toolkit","ojs/ojdvt-axis"],function(e,t,a){"use strict";const i={hasData:e=>{var t=e.getOptions();return t&&null!=t.value&&i.hasValidData(e)},hasValidData:e=>{var t=e.getOptions();return Number(t.min)<Number(t.max)},getValThresholdIdx:(e,t)=>{var a=e.getOptions(),i=null!=t?t:a.value,s=a.thresholds;if(!s)return-1;for(var n=0;n<s.length;n++)if(i<=s[n].max)return n;return s.length-1},getThreshold:(e,t)=>{var a=e.getOptions().thresholds;return a&&t>=0&&t<a.length?a[t]:null},getReferenceObject:(e,t)=>{var a=e.getOptions().referenceLines;return a&&t>=0&&t<a.length?a[t]:null}},s={renderEmptyText:(e,a,s)=>{var n=e.getOptions(),r=n.translations,o=n.emptyText;o||(o=r.labelNoData),i.hasValidData(e)||(o=r.labelInvalidData);var l=n._statusMessageStyle;if(l.getStyle("font-size")||l.setStyle("font-size","13px"),"statusMeter"===e.type){var h=l.getStyle("color");h=h||"#333333",l.setStyle("color",h)}e.renderEmptyText(a,o,new t.Rectangle(s.x,s.y,s.w,s.h),e.getEventManager(),l)},getFormattedMetricLabel:(e,t)=>{var a=t.getOptions();if(a.metricLabel.text)return a.metricLabel.text;var i=a.metricLabel.converter,n=a.metricLabel.scaling,r=a.metricLabel.autoPrecision?a.metricLabel.autoPrecision:"on",o="percent"===a.metricLabel.textType;return s._formatMetricLabelValue(e,t,i,n,r,o)},_formatMetricLabelValue:(e,t,i,n,r,o)=>{var l,h=t.getOptions(),d=h.min,g=h.max,u=g-d,c=u<1e3?100:1e3,p=null;isNaN(u)||(p=u/c),o&&(e=s.getFillPercentage(h,h.min,h.max,e,!0));var _=new a.LinearScaleAxisValueFormatter(d,g,p,n,r,h.translations);if(i&&i.format)l=_.format(e,i);else if(o){var v=t.getCtx().getNumberConverter({style:"percent",maximumFractionDigits:0,minimumFractionDigits:0});l=v&&v.format?v.format(e):String(Math.round(100*e))+"%"}else l=_.format(e);return l},getFillPercentage:(e,t,a,i,s)=>{var n=(i-t)/(e.max-e.min);return n=s?n:Math.min(Math.max(0,n),1)},getTooltipString:e=>{var a=e.getOptions(),n=i.getValThresholdIdx(e),r=i.getThreshold(e,n),o=s.getFormattedMetricLabel(a.value,e);return r&&null!=r.shortDesc?r.shortDesc:null!=a.shortDesc?a.shortDesc:a.label.text?t.ResourceUtils.format(a.translations.labelAndValue,[a.label.text,o]):o},renderMetricLabel:(e,a,i,n,r,o,l)=>{var h=e.getOptions(),d=!1;if("on"===h.metricLabel.rendered||l&&"off"!==h.metricLabel.rendered){var g=s.getFormattedMetricLabel(h.value,e),u=s.getFormattedMetricLabel(h.min,e),c=s.getFormattedMetricLabel(h.max,e),p=new t.OutputText(e.getCtx(),g,i.x+i.w/2,i.y+i.h/2);p.setCSSStyle(h.metricLabel.style);var _=h.metricLabel.style.getStyle("font-size");_||(_=s.calcLabelFontSize([g,u,c],p,i),p.setTextString(g),p.setFontSize(_)),"top"===o?(p.setY(i.y),p.alignTop()):"middle"===o?t.TextUtils.centerTextVertically(p,i.y+i.h/2):"bottom"===o&&(p.setY(i.y+i.h),p.alignBottom()),"center"===r?p.alignCenter():"left"==r?(p.setX(i.x),p.alignLeft()):"right"===r&&(p.setX(i.x+i.w),p.alignRight()),null!=n&&p.setSolidFill(n),d=t.TextUtils.fitText(p,i.w,i.h,a)}return d},renderLabel:(e,a,i,s,n)=>{var r=e.getOptions(),o=!1;if(r.label.text){var l=r.label.text,h=r.label.style,d=new t.MultilineText(e.getCtx(),l),g=h.clone();d.setCSSStyle(h);var u=h.getStyle("font-size")||t.TextUtils.getOptimalFontSize(d.getCtx(),d.getTextString(),d.getCSSStyle(),i);g.setFontSize("font-size",u,e.getCtx()),null!=s&&g.setStyle("color",s),d.setCSSStyle(g),o=t.TextUtils.fitText(d,i.w,i.h,e);var c=d.getDimensions().h;"top"===n?d.setY(i.y):"bottom"===n?d.setY(i.y+i.h-c):d.setY(i.y+i.h/2-c/2),d.setX(i.x+i.w/2),d.alignCenter(),a.addChild(d)}return o},calcLabelFontSize:(e,a,i)=>{for(var s=0,n=null,r=0,o=0;o<e.length;o++)a.setTextString(e[o]),(r=a.getDimensions().w)>s&&(n=e[o],s=r);return a.setTextString(n),t.TextUtils.getOptimalFontSize(a.getCtx(),a.getTextString(),a.getCSSStyle(),i)},adjustForStep:(e,t)=>{var a=Number(e.step);if(a&&a>0){var i=t/a;if(i<.5)return e.min;var s=Math.ceil(i)*a;return Math.max(Math.min(e.max,s),e.min)}return t}};class n extends t.Automation{getDomElementForSubId(e){if(e===t.Automation.TOOLTIP_SUBID)return this.GetTooltipElement(this._comp);if(0===e.indexOf("item")){var a=e.indexOf("["),i=e.indexOf("]");if(a>0&&i>0){var s=e.substring(a+1,i),n=this._comp.__getRatingGaugeItem(s);if(n)return n.getElem()}}return null}GetSubIdForDomElement(e){for(var t=this._comp,a=t.getOptions(),i=0;i<a.max;i++){if(t.__getRatingGaugeItem(i)===e)return"item["+i+"]"}return null}getValue(){return this._comp.getOptions().value}getMetricLabel(){return s.getFormattedMetricLabel(this.getValue(),this._comp)}}class r extends t.EventManager{constructor(e){super(e.getCtx(),e.dispatchEvent,e,e),this._gauge=e,this.IsMouseEditing=!1}OnMouseDown(e){if(this._gauge.IsInteractive()){this.IsMouseEditing=!0,this.hideTooltip();var t=this.GetRelativePosition(e.pageX,e.pageY);this._gauge.__processValueChangeStart(t.x,t.y),e.preventDefault()}else super.OnMouseDown(e)}OnMouseUp(e){this.IsMouseEditing?this.StopMouseEditing(e):super.OnMouseUp(e)}OnMouseMove(e){if(this.IsMouseEditing){var t=this.GetRelativePosition(e.pageX,e.pageY);this._gauge.__processValueChangeMove(t.x,t.y)}!this.IsShowingTooltipWhileEditing()&&this.IsMouseEditing||super.OnMouseMove(e)}IsShowingTooltipWhileEditing(){return!1}PreEventBubble(e){var a;t.TouchEvent.TOUCHSTART===e.type&&this._gauge.IsInteractive()?(this.IsMouseEditing=!0,a=this.GetRelativePosition(e.touches[0].pageX,e.touches[0].pageY),this._gauge.__processValueChangeStart(a.x,a.y),e.preventDefault()):t.TouchEvent.TOUCHMOVE===e.type&&this.IsMouseEditing?(a=this.GetRelativePosition(e.touches[0].pageX,e.touches[0].pageY),this._gauge.__processValueChangeMove(a.x,a.y),e.preventDefault()):t.TouchEvent.TOUCHEND===e.type&&this.IsMouseEditing&&(this.IsMouseEditing=!1,a=this.GetRelativePosition(e.changedTouches[0].pageX,e.changedTouches[0].pageY),this._gauge.__processValueChangeEnd(a.x,a.y),e.preventDefault()),this.IsMouseEditing&&!this.IsShowingTooltipWhileEditing()||super.PreEventBubble(e)}ProcessKeyboardEvent(e){if(!this.KeyboardHandler)return!1;this.KeyboardHandler.processKeyDown(e);var a=e.keyCode;if(a===t.KeyboardEvent.UP_ARROW||a===t.KeyboardEvent.LEFT_ARROW||a===t.KeyboardEvent.DOWN_ARROW||a===t.KeyboardEvent.RIGHT_ARROW||a===t.KeyboardEvent.TAB){var i=this._gauge.getCtx().getStageAbsolutePosition();this.ProcessObjectTooltip(e,i.x,i.y,this._gauge.__getLogicalObject(),this._gauge)}return!1}OnBlur(e){super.OnBlur(e),this.hideTooltip()}GetRelativePosition(e,t){var a=this.getCtx().pageToStageCoords(e,t);return this._gauge.stageToLocal(a)}UpdateActiveElement(e,t){}__isMouseEditing(){return this.IsMouseEditing}StopMouseEditing(e){this.IsMouseEditing=!1;var t=this.GetRelativePosition(e.pageX,e.pageY);this._gauge.__processValueChangeEnd(t.x,t.y)}}class o extends t.KeyboardHandler{constructor(e,t){super(e),this._gauge=t}processKeyDown(e){var a=e.keyCode,i=t.Agent.isRightToLeft(this._gauge.getCtx()),s=this._gauge.getOptions().value;this._gauge.getOptions().readOnly||(a!==t.KeyboardEvent.ENTER&&a!==t.KeyboardEvent.TAB||this._oldValue===s?a===t.KeyboardEvent.UP_ARROW||a===(i?t.KeyboardEvent.LEFT_ARROW:t.KeyboardEvent.RIGHT_ARROW)?(this._gauge.__increaseValue(),t.EventManager.consumeEvent(e)):a!==t.KeyboardEvent.DOWN_ARROW&&a!==(i?t.KeyboardEvent.RIGHT_ARROW:t.KeyboardEvent.LEFT_ARROW)||(this._gauge.__decreaseValue(),t.EventManager.consumeEvent(e)):(this._gauge.dispatchEvent(t.EventFactory.newValueChangeEvent(this._oldValue,s,!0)),this._oldValue=null),null===this._oldValue&&(this._oldValue=s))}}const l={getColor:e=>{var t=e.getOptions(),a=i.getValThresholdIdx(e),s=i.getThreshold(e,a);return s&&("statusMeter"!==e.type||"statusMeter"===e.type&&"onIndicator"===t.thresholdDisplay)?l.getThresholdColor(e,s,a):t.color},getBorderColor:e=>{var t=e.getOptions(),a=i.getValThresholdIdx(e),s=i.getThreshold(e,a);return s&&s.borderColor&&("statusMeter"!==e.type||"statusMeter"===e.type&&"onIndicator"===t.thresholdDisplay)?s.borderColor:t.borderColor},getPlotAreaColor:e=>{var t=e.getOptions(),a=i.getValThresholdIdx(e),s=i.getThreshold(e,a);return s&&("statusMeter"!==e.type||"statusMeter"===e.type&&"onIndicator"!==t.thresholdDisplay)?l.getThresholdColor(e,s,a):t.plotArea.color},getPlotAreaBorderColor:e=>{var t=e.getOptions(),a=t.plotArea.borderColor;return"statusMeter"===e.type&&"circular"==t.orientation?null:a},getThresholdColor:(e,t,a)=>{if(t.color)return t.color;var i=e.getOptions(),s=a%i._thresholdColors.length;return i._thresholdColors[s]}};class h extends t.BaseComponent{constructor(e,a,i,s){super(e,a,i),e.getStage().setCursor(""),this._bStaticRendering=s,this._bStaticRendering||(this.EventManager=this.CreateEventManager(),this.EventManager.addListeners(this),t.Agent.isTouchDevice()||this.EventManager.setKeyboardHandler(this.CreateKeyboardHandler(this.EventManager)),this.setId("gauge1000"+Math.floor(1e9*Math.random())),this._editingOverlay=new t.Rect(e,0,0),this._editingOverlay.setInvisibleFill(),this.addChild(this._editingOverlay)),this._bEditing=!1,this._bResizeRender=!1,this._oldValue=null}SetOptions(e){super.SetOptions(e),this.Options=e,t.Agent.isEnvironmentTest()&&(this.Options.animationOnDisplay="none",this.Options.animationOnDataChange="none"),"ie"!==t.Agent.browser&&"edge"!==t.Agent.browser||"auto"!==this.Options.visualEffects||(this.Options.visualEffects="none"),e.className&&(this.Options.svgClassName=e.className),e.style&&(this.Options.svgStyle=e.style)}render(e,a,i){if(e?this.SetOptions(e):this.Options||this.SetOptions(null),this.Options.thresholds){var s=this.Options.thresholds;this.Options.thresholds=s.sort(h._thresholdComparator)}"number"==typeof a&&"number"==typeof i&&(0!==this.Width&&this.Width!==a||0!==this.Height&&this.Height!==i?this._bResizeRender=!0:this._bResizeRender=!1,this.Width=a,this.Height=i),this.__oldShapes=this.__shapes,this.__shapes=[];var n=new t.Container(this.getCtx());this.addChildAt(n,0),!1!==this.Render(n,this.Width,this.Height)&&this.PostRender(e,n)}PostRender(e,a){if(this._setAnimation(a,null!=e,this.__oldShapes,this.Width,this.Height),this._editingOverlay&&(this._editingOverlay.setWidth(this.Width),this._editingOverlay.setHeight(this.Height),this.getEventManager().associate(this._editingOverlay,this.__getLogicalObject(),!0)),this.UpdateAriaAttributes(),!this._bStaticRendering&&!this.Options.readOnly){a.setAriaRole("slider"),a.setAriaProperty("valuemin",this.Options.min),a.setAriaProperty("valuemax",this.Options.max);var i=s.getFormattedMetricLabel(this.Options.value,this);a.setAriaProperty("valuenow",i),a.setAriaProperty("valuetext",i);var n=s.getTooltipString(this);t.Agent.isTouchDevice()&&(this._container.setAriaProperty("live","assertive"),i!==n&&(n=i+t.AriaUtils.ARIA_LABEL_DESC_DELIMITER+n)),i!==n&&a.setAriaProperty("label",n),this._renderCount=null!=this._renderCount?this._renderCount+1:0;var r=this.getId()+"_"+this._renderCount;a.setId(r),this.getCtx().setActiveElement(a)}this.Options._selectingCursor&&this.setCursor(t.SelectionEffectUtils.getSelectingCursor()),this.Animation||this.RenderComplete()}__getLogicalObject(){var e=this.Options.tooltip,a=e?e.renderer:null,i=l.getColor(this);if(a){var n={component:this.Options._widgetConstructor,label:s.getFormattedMetricLabel(this.Options.value,this),color:i};return new t.CustomDatatipPeer(this.getCtx().getTooltipManager(),a,i,n)}var r=s.getTooltipString(this);return new t.SimpleObjPeer(null,r,i)}Render(e,t,a){}_setAnimation(e,a,i,s,n){this.StopAnimation();var r=!1,o=this._bEditing||this._bResizeRender?"none":this.getOptions().animationOnDataChange,l=this._bEditing||this._bResizeRender?"none":this.getOptions().animationOnDisplay,h=t.CSSStyle.getTimeMilliseconds(this.getOptions().animationDuration)/1e3;if(l||o){var d=new t.Rectangle(0,0,s,n),g=this.getCtx();this._container||"none"===l||null==this.__shapes[0]?this._container&&"none"!==o&&a&&null!=this.__shapes[0]&&(this.Animation=t.BlackBoxAnimationHandler.getCombinedAnimation(g,o,this._container,e,d,h),this.Animation?r=!0:this.Animation=this.CreateAnimOnDataChange(i,this.__shapes,l,h)):(this.Animation=t.BlackBoxAnimationHandler.getInAnimation(g,l,e,d,h),this.Animation||(this.Animation=this.CreateAnimOnDisplay(this.__shapes,l,h))),!r&&this._container&&(this.removeChild(this._container),this._container.destroy()),this.Animation&&(this.Animation.play(),this.Animation.setOnEnd(this._onAnimEnd,this)),r&&(this._oldContainer=this._container),this._container=e}}CreateAnimOnDisplay(e,t,a){return null}CreateAnimOnDataChange(e,a,i,s){for(var n=[],r=0;r<e.length;r++){var o=e[r],l=a[r],h=o.getAnimParams(),d=l.getAnimParams();l.setAnimParams(h);var g=new t.CustomAnimation(this.getCtx(),l,s);g.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,l,l.getAnimParams,l.setAnimParams,d),n.push(g)}return new t.ParallelPlayable(this.getCtx(),n)}GetValueAt(e,t){return null}renderUpdate(){this.render(),this.UpdateAriaLiveValue(this._container)}UpdateAriaLiveValue(e,a){a=s.getFormattedMetricLabel(a||this.Options.value,this),e.setAriaProperty("valuenow",a),e.setAriaProperty("valuetext",a),t.Agent.isTouchDevice()&&e.setAriaProperty("label",a)}_onAnimEnd(){this._oldContainer&&(this.removeChild(this._oldContainer),this._oldContainer.destroy(),this._oldContainer=null),this.AnimationStopped||this.RenderComplete(),this.Animation=null,this.AnimationStopped=!1}__processValueChangeStart(e,t){this._bEditing=!0,this._oldValue=this.Options.value,this.__processValueChangeMove(e,t)}__processValueChangeMove(e,a){if(null!=this._oldValue){var i=s.adjustForStep(this.Options,this.GetValueAt(e,a));i!==this.Options.value&&(this.Options.value=i,this.renderUpdate(),this.dispatchEvent(t.EventFactory.newValueChangeEvent(this._oldValue,this.Options.value,!1)))}}__processValueChangeEnd(e,a){if(this.__processValueChangeMove(e,a),t.Agent.isTouchDevice()){var i=s.getFormattedMetricLabel(this.Options.value,this),n=s.getTooltipString(this);i!==n&&(n=i+t.AriaUtils.ARIA_LABEL_DESC_DELIMITER+n,this._container.setAriaProperty("label",n))}this.dispatchEvent(t.EventFactory.newValueChangeEvent(this._oldValue,this.Options.value,!0)),this._bEditing=!1,this._oldValue=null}__increaseValue(){if(!this.Options.readOnly){var e=this.Options.value;if(null!=this.Options.step){var a=this.Options.value+this.Options.step;this.Options.value=s.adjustForStep(this.Options,a)}else{var i=(this.Options.max-this.Options.min)/100;this.Options.value=Math.min(Math.max(this.Options.value+i,this.Options.min),this.Options.max)}this.renderUpdate(),this.dispatchEvent(t.EventFactory.newValueChangeEvent(e,this.Options.value,!1))}}__decreaseValue(){if(!this.Options.readOnly){var e=this.Options.value;if(null!=this.Options.step){var a=this.Options.value-this.Options.step;this.Options.value=s.adjustForStep(this.Options,a)}else{var i=(this.Options.max-this.Options.min)/100;this.Options.value=Math.min(Math.max(this.Options.value-i,this.Options.min),this.Options.max)}this.renderUpdate(),this.dispatchEvent(t.EventFactory.newValueChangeEvent(e,this.Options.value,!1))}}CreateEventManager(){return new r(this)}static _thresholdComparator(e,t){return null!=e.max&&null!=t.max?e.max-t.max:e.max?-1/0:1/0}getAutomation(){return new n(this)}CreateKeyboardHandler(e){return new o(e,this)}UpdateAriaAttributes(){if(!this._bStaticRendering){var e=s.getTooltipString(this);if(this.IsParentRoot()){var a=this.Options.translations;this.IsInteractive()?(this.getCtx().setAriaRole("application"),this.getCtx().setAriaLabel(t.ResourceUtils.format(a.labelAndValue,[a.labelDataVisualization,t.AriaUtils.processAriaLabel(this.GetComponentDescription())]))):(this.getCtx().setAriaRole("img"),this.getCtx().setAriaLabel(t.ResourceUtils.format(a.labelAndValue,[a.labelDataVisualization,t.Displayable.generateAriaLabel(t.AriaUtils.processAriaLabel(this.GetComponentDescription()),e?[e]:null)])))}else this.IsInteractive()||(this.setAriaRole("img"),this.setAriaProperty("label",t.Displayable.generateAriaLabel(t.AriaUtils.processAriaLabel(this.GetComponentDescription()),e?[e]:null)))}}IsInteractive(){return!this.Options.readOnly}}class d extends t.BaseComponentDefaults{constructor(e){const a={skin:t.CSSStyle.SKIN_ALTA,min:0,max:100,center:{},color:"#393737",borderColor:null,visualEffects:"auto",emptyText:null,animationOnDataChange:"none",animationOnDisplay:"none",animationDuration:500,readOnly:"true",metricLabel:{rendered:"auto",scaling:"auto",style:new t.CSSStyle(t.BaseComponentDefaults.FONT_FAMILY_ALTA),textType:"number"},_statusMessageStyle:new t.CSSStyle(t.BaseComponentDefaults.FONT_FAMILY_ALTA),label:{style:new t.CSSStyle(t.BaseComponentDefaults.FONT_FAMILY_ALTA),position:"auto"},_thresholdColors:["#ed6647","#fad55c","#68c182"],__layout:{outerGap:1,labelGap:5}};super({alta:t.JsonUtils.merge(e.alta,a)})}}class g extends d{constructor(e){super({alta:{type:"circle"}},e)}}const u={_SHAPE_TRIANGLE_CMDS:[-50,36.6,0,-50,50,36.6],_SHAPE_STAR_CMDS:"M 13.686617627555295 -14.844072859624454 L 0 -49.99999973529656 L -13.686617627555295 -14.844072859624454 L -49.21031057098533 -11.804119976838445 L -22.1446397569434 12.966333294730747 L -30.4142789122285 49.99999973529656 L 0 30.151376755728354 L 30.4142789122285 49.99999973529656 L 22.1446397569434 12.966333294730747 L 49.21031057098533 -11.804119976838445 Z ",_SHAPE_ARROW_CMDS:[25,48,25,8,47.5,8,0,-39,-47.5,8,-25,8,-25,48],_SHAPE_HUMAN_CMDS:"M -0.06059525142297417 -50.86842065108466 C -11.4496388584463 -50.86842065108466 -20.708163169810554 -39.024253028220556 -20.708163169810554 -24.413724255650386 C -20.708163169810554 -9.803195483080515 -11.4496388584463 2.040972139783591 -0.06059525142297417 2.040972139783591 C 11.328499974520241 2.040972139783591 20.586972666964613 -9.803195483080515 20.586972666964613 -24.413724255650386 C 20.586972666964613 -39.024253028220556 11.328499974520241 -50.86842065108466 -0.06059525142297417 -50.86842065108466 z M -23.93434565705865 -2.959610715450779 C -30.908061721494278 3.3998402034127153 -42.00096758564793 18.817121073473572 -38.77478509839983 33.65756051481475 C -20.651382358034887 47.30044101688934 14.372054723529814 49.13162219665128 39.298831093003386 32.85101489300273 C 40.26410489318826 16.477493533721187 32.34060070450674 4.7883891459240715 23.167918656763206 -2.959610715450779 C 11.553661702670112 21.074158341552575 -11.029615708066558 16.237465556670102 -23.93434565705865 -2.959610715450779 z ",render:(e,a,n,r)=>{if(i.hasData(e)){var o=e.getOptions(),h=o.__layout.outerGap,d=o&&(o.size>=0||o.size<1)?Math.sqrt(o.size):1,g=new t.Rectangle(h+(n-2*h)*(1-d)/2,h+(r-2*h)*(1-d)/2,(n-2*h)*d,(r-2*h)*d);u._renderShape(e,a,g);var c=!1,p=t.ColorUtils.getContrastingTextColor(l.getColor(e));if(o.label.text){var _="middle",v=u._getMetricLabelBounds(e,a,g);"on"===o.metricLabel.rendered&&(v.y=v.y+.6*v.h,v.h=.4*v.h,_="top"),c=t.Agent.isHighContrast()||null==o.label.style.getStyle("color")?s.renderLabel(e,a,v,p,_):s.renderLabel(e,a,v,null,_)}if("on"===o.metricLabel.rendered){var m=u._getMetricLabelBounds(e,a,g),x="middle";c&&(m.h=.55*m.h,x="bottom"),t.Agent.isHighContrast()||null==o.metricLabel.style.getStyle("color")?s.renderMetricLabel(e,a,m,p,"center",x):s.renderMetricLabel(e,a,m,null,"center",x)}}else s.renderEmptyText(e,a,new t.Rectangle(0,0,n,r))},_renderShape:(e,a,i)=>{var s,n,r=e.getCtx(),o=e.getOptions(),h=o.type,d=l.getColor(e),g=l.getBorderColor(e),c=i.x+i.w/2,p=i.y+i.h/2,_=Math.min(i.w,i.h)/2;u._cache||(u._cache=new t.Cache(50));var v=Math.min(i.w/100,i.h/100);if("square"===h)s=new t.Rect(r,c-_,p-_,2*_,2*_);else if("rectangle"==h)s=new t.Rect(r,i.x,i.y,i.w,i.h);else if("diamond"===h)s=new t.Polygon(r,[c-_,p,c,p-_,c+_,p,c,p+_]);else if("circle"===h)s=new t.Circle(r,c,p,_);else{if("star"===h)n=u._SHAPE_STAR_CMDS;else if("triangle"===h)n=u._SHAPE_TRIANGLE_CMDS;else if("arrow"===h)n=u._SHAPE_ARROW_CMDS;else if("human"===h)n=u._SHAPE_HUMAN_CMDS;else if(!(n=u._cache.get(h))){s=new t.Path(r,h);var m=t.DisplayableUtils.getDimForced(r,s),x=100/Math.max(m.w,m.h);n=t.PathUtils.transformPath(s.getCommandsArray(),-x*(m.x+m.w/2),-x*(m.y+m.h/2),x,x),u._cache.put(h,n)}"triangle"===h||"arrow"===h?(n=t.PolygonUtils.scale(n,v,v),n=t.PolygonUtils.translate(n,i.x+i.w/2,i.y+i.h/2),s=new t.Polygon(r,n)):(n=t.PathUtils.transformPath(t.PathUtils.createPathArray(n),i.x+i.w/2,i.y+i.h/2,v,v),s=new t.Path(r,n))}var C=e.getCtx().getThemeBehavior();if("none"===o.visualEffects||"redwood"===C)s.setSolidFill(d);else{var y=[t.ColorUtils.adjustHSL(d,0,-.09,.04),t.ColorUtils.adjustHSL(d,0,-.04,-.05)],b=o&&o.rotation%90==0?o.rotation:0,S="arrow"===h||"star"===h||"triangle"===h?b-90:270;s.setFill(new t.LinearGradientFill(S,y,[1,1],[0,1]))}g&&s.setSolidStroke(g),s.setClassName(o.svgClassName),s.setStyle(o.svgStyle),(b=o.rotation)&&("arrow"===h||"triangle"===h||s instanceof t.Path&&"human"!==h&&"star"!==h)&&(s=u._rotate(e,a,s,i)),a.addChild(s)},_rotate:(e,a,i,s)=>{var n=e.getOptions(),r=new t.Container(e.getCtx());a.addChild(r),r.addChild(i);var o=n&&n.rotation%90==0?n.rotation:0,l=new t.Matrix;i.setMatrix(l.rotate(Math.PI*o/180));var h=r.getDimensions(),d=s.x+s.w/2-(h.x+h.w/2),g=s.y+s.h/2-(h.y+h.h/2),u=new t.Matrix;return r.setMatrix(u.translate(d,g)),r},_getMetricLabelBounds:(e,a,i)=>{var s=e.getOptions(),n=s.type,r=s.rotation%90==0?s.rotation:0,o=Math.min(i.w,i.h),l=i.x+i.w/2-o/2,h=i.y+i.h/2-o/2,d=o,g=o;return"triangle"===n?0===r?(l+=.2*o,h+=.25*o,d-=.4*o,g-=.3*o):90===r?(l+=.05*o,h+=.2*o,d-=.3*o,g-=.4*o):180===r?(l+=.2*o,h+=.05*o,d-=.4*o,g-=.3*o):270===r&&(l+=.25*o,h+=.2*o,d-=.3*o,g-=.4*o):"arrow"===n?0===r?(l+=.2*o,h+=.2*o,d-=.4*o,g-=.4*o):90===r?(l+=.05*o,h+=.2*o,d-=.28*o,g-=.4*o):180===r?(l+=.2*o,h+=.2*o,d-=.4*o,g-=.4*o):270===r&&(l+=.23*o,h+=.2*o,d-=.28*o,g-=.4*o):"star"===n?(l+=.25*o,h+=.25*o,d-=.5*o,g-=.4*o):"diamond"===n?(l+=.15*o,h+=.15*o,d-=.3*o,g-=.3*o):"rectangle"===n?(l+=.1*o,h+=.1*o,d-=.2*o,g-=.2*o):(l+=.15*o,h+=.15*o,d-=.3*o,g-=.3*o),new t.Rectangle(l,h,d,g)}};class c extends h{constructor(e,t,a,i){super(e,t,a,i),this.type="led",this.Defaults=new g(e)}SetOptions(e){(e=t.JsonUtils.clone(e)).title&&(e.label=e.title),super.SetOptions(this.Defaults.calcOptions(e)),"auto"===this.Options.animationOnDisplay&&(this.Options.animationOnDisplay="zoom"),"auto"===this.Options.animationOnDataChange&&(this.Options.animationOnDataChange="alphaFade"),this.Options.readOnly=!0}Render(e,t,a){u.render(this,e,t,a)}}class p extends d{constructor(e){super({alta:{min:0,max:5,orientation:"horizontal",unselectedState:{shape:"star",color:"#C4CED7"},selectedState:{shape:"star",color:"#F8C15A"},hoverState:{shape:"star",color:"#007CC8"},changedState:{shape:"star",color:"#ED2C02"},preserveAspectRatio:"meet",step:1}},e)}}class _ extends r{constructor(e){super(e),this._gauge=e}OnMouseOver(e){if(this._gauge.IsInteractive()){var t=this.GetRelativePosition(e.pageX,e.pageY);this._gauge.__processValueChangeStart(t.x,t.y),this.IsMouseEditing=!0}super.OnMouseOver(e)}OnMouseOut(e){if(this._gauge.IsInteractive()){var t=this.GetRelativePosition(e.pageX,e.pageY);this._gauge.__processHoverEnd(t.x,t.y),this.IsMouseEditing=!1}super.OnMouseOut(e)}OnMouseMove(e){var t=this.GetRelativePosition(e.pageX,e.pageY),a=!0===this._gauge.getOptions().disabled;this._gauge.IsInteractive()&&!this.IsMouseEditing&&this._gauge.getOptions().value!==this._gauge.GetValueAt(t.x,t.y)&&(this.IsMouseEditing=!0),a||super.OnMouseMove(e)}OnMouseDown(e){t.EventManager.prototype.OnMouseDown.call(this,e)}OnContextMenu(e){var a=t.Agent.engine;"webkit"!==a&&"blink"!==a||"mac"!==t.Agent.os||this.IsMouseEditing&&this.StopMouseEditing(e),super.OnContextMenu(e)}ProcessKeyboardEvent(e){return this.IsMouseEditing=!1,super.ProcessKeyboardEvent(e)}IsShowingTooltipWhileEditing(){return!0}}class v extends t.SimpleObjPeer{constructor(e){super(),this._gauge=e}getDatatip(e,t,a){var s,n=this._gauge.getOptions();s=this._gauge.getEventManager().__isMouseEditing()?i.getValThresholdIdx(this._gauge,this._gauge.GetValueAt(t,a)):i.getValThresholdIdx(this._gauge);var r=i.getThreshold(this._gauge,s);return r&&r.shortDesc?r.shortDesc:n.shortDesc}}const m={render:(e,a,n,r)=>{if(i.hasData(e)){var o=e.getOptions(),l=i.getValThresholdIdx(e),h=i.getThreshold(e,l),d=o.selectedState.color,g=o.changedState.color,u=o.selectedState.borderColor,c=o.changedState.borderColor;h&&h.color&&(d=h.color,g=h.color),h&&h.borderColor&&(u=h.borderColor,c=h.borderColor);var p={value:0,state:"unselected",type:o.unselectedState.shape,color:o.unselectedState.color,borderColor:o.unselectedState.borderColor,visualEffects:o.visualEffects,source:o.unselectedState.source,svgClassName:o.unselectedState.svgClassName,svgStyle:o.unselectedState.svgStyle},_={value:0,state:"selected",type:o.selectedState.shape,color:d,borderColor:u,visualEffects:o.visualEffects,source:o.selectedState.source,svgClassName:o.selectedState.svgClassName,svgStyle:o.selectedState.svgStyle},v={value:0,state:"changed",type:o.changedState.shape,color:g,borderColor:c,visualEffects:o.visualEffects,source:o.changedState.source,svgClassName:o.changedState.svgClassName,svgStyle:o.changedState.svgStyle},x={value:0,state:"hover",type:o.hoverState.shape,color:o.hoverState.color,borderColor:o.hoverState.borderColor,visualEffects:o.visualEffects,source:o.hoverState.source,svgClassName:o.hoverState.svgClassName,svgStyle:o.hoverState.svgStyle};"dot"==o.unselectedState.shape&&(p.type="circle",p.visualEffects="none",p.size=.05),m._createShapes(e,a,p),m._createShapes(e,a,o.changed?v:_),o.readOnly||o.disabled||m._createShapes(e,a,x),e.__updateClipRects(o.value,"render",a)}else s.renderEmptyText(e,a,new t.Rectangle(0,0,n,r))},_createShapes:(e,a,i)=>{var s=e.getCtx(),n=new t.Container(s);a.addChild(n);for(var r=e.getOptions(),o=e.__bounds,l=e.__shapeWidth,h=e.__shapeHeight,d="ie"===t.Agent.browser||"edge"===t.Agent.browser?null:m._createShape(s,0,0,l,h,i,r),g=0;g<r.max;g++){var u,c;if("vertical"==r.orientation?(u=o.x+o.w/2-l/2,c=o.y+o.h-(g+1)*h):t.Agent.isRightToLeft(s)?(u=o.x+o.w-(g+1)*l,c=o.y+o.h/2-h/2):(u=o.x+g*l,c=o.y+o.h/2-h/2),"ie"===t.Agent.browser||"edge"===t.Agent.browser){var p=m._createShape(s,u,c,l,h,i,r);p&&n.addChild(p)}else if(d){var _=new t.Use(s,u,c,d);n.addChild(_)}}},_createShape:(e,a,i,s,n,r,o)=>{var l;if(r.source)l=new t.ImageMarker(e,a+s/2,i+n/2,s,n,null,r.source),"none"===o.preserveAspectRatio&&l.setPreserveAspectRatio("none");else if("none"!=r.type){if(l=new c(e,null,null,!0),0!=a&&0!=i&&l.setTranslate(a,i),o.disabled||t.Agent.isHighContrast()){var h=`oj-rating-gauge-${"unselected"===r.state?"unselected":"selected"}${o.disabled?"-disabled":""}`;o.disabled?(r.svgClassName=h,r.svgStyle=null):r.svgClassName=`${r.svgClassName||""} ${h}`.trim(),t.Agent.isHighContrast()&&l.addClassName("oj-hicontrast")}l.render(r,s,n)}return l}};class x extends d{constructor(e){super({alta:{angleExtent:360,borderRadius:"auto",color:"#393737",indicatorSize:1,innerRadius:.7,metricLabel:{style:new t.CSSStyle(t.BaseComponentDefaults.FONT_FAMILY_ALTA),position:"auto"},orientation:"horizontal",plotArea:{color:"#E4E8EA",rendered:"auto",borderRadius:"auto"},startAngle:90,thresholdDisplay:"onIndicator"}},e)}}class C extends(a.DataAxisInfoMixin(a.BaseAxisInfo)){}const y={calcPointOnArc:(e,t,a)=>({x:Math.cos(a)*t+e.w/2+e.x,y:Math.sin(a)*t+e.h/2+e.y}),createCircularPathCmd:(e,a,i,s,n)=>{var r,o,l,h,d;return i<t.Math.TWO_PI?(o=y.calcPointOnArc(e,n,a),l=y.calcPointOnArc(e,n,a+i),h=y.calcPointOnArc(e,s,a+i),d=y.calcPointOnArc(e,s,a),r=t.PathUtils.moveTo(o.x,o.y)+t.PathUtils.arcTo(n,n,i,1,l.x,l.y)+t.PathUtils.lineTo(h.x,h.y)+t.PathUtils.arcTo(s,s,i,0,d.x,d.y)+t.PathUtils.closePath()):(o=y.calcPointOnArc(e,n,a),l=y.calcPointOnArc(e,n,a+i/2),h=y.calcPointOnArc(e,s,a),d=y.calcPointOnArc(e,s,a+i/2),r=t.PathUtils.moveTo(o.x,o.y)+t.PathUtils.arcTo(n,n,i/2,1,l.x,l.y)+t.PathUtils.arcTo(n,n,i/2,1,o.x,o.y),s>0&&(r+=t.PathUtils.moveTo(d.x,d.y)+t.PathUtils.arcTo(s,s,i/2,0,h.x,h.y)+t.PathUtils.arcTo(s,s,i/2,0,d.x,d.y)),r+=t.PathUtils.closePath()),r}};class b extends t.Path{constructor(e,t,a,i,s,n){super(e),this.setPath(t,a,i,s,n)}setPath(e,a,i,s,n){e&&e instanceof t.Rectangle?this._bounds=e:e=this._bounds,this._startAngle=a,this._angleExtent=i,this._innerRadius=s,this._outerRadius=n,this.setCmds(y.createCircularPathCmd(e,a,i,s,n))}getAnimParams(){return[this._bounds,this._startAngle,this._angleExtent,this._innerRadius,this._outerRadius]}setAnimParams(e){e&&5==e.length&&this.setPath(e[0],e[1],e[2],e[3],e[4])}}class S extends t.Path{constructor(e,t,a,i,s,n){super(t),this._gauge=e,this.setCoords(a,i,s,n)}setCoords(e,a,i,s){this._x1=e,this._x2=a,this._y1=i,this._y2=s;var n=Math.min(e,a),r=Math.min(i,s),o=Math.abs(e-a),l=Math.abs(s-i),h=this._gauge.getOptions(),d="vertical"==h.orientation?o:l,g=t.PathUtils.rectangleWithBorderRadius(n,r,o,l,h.borderRadius,d,"15%");this.setCmds(g)}getAnimParams(){return[this._x1,this._x2,this._y1,this._y2]}setAnimParams(e){e&&4===e.length&&this.setCoords(e[0],e[1],e[2],e[3])}}const A={render:(e,a,n,r)=>{if(i.hasData(e)){var o=e.getOptions(),l=o.__layout.outerGap,h=new t.Rectangle(l,l,n-2*l,r-2*l);"horizontal"==o.orientation||"vertical"==o.orientation?(A._hasMetricLabelOutsidePlotArea(o)&&A._renderMetricLabelOutsidePlotArea(e,a,h),A._renderShape(e,a,h)):"circular"==o.orientation&&A._renderCircularGauge(e,a,h)}else s.renderEmptyText(e,a,new t.Rectangle(0,0,n,r))},_renderCircularGauge:(e,a,i)=>{var n,r=e.getOptions(),o=i.clone(),h=t.Agent.isRightToLeft(e.getCtx()),d=0,g=null,u=r.value,c=r.innerRadius,p=r.thresholds,_=null,v=t.Math.TWO_PI-t.Math.degreesToRads(r.startAngle),m=t.Math.degreesToRads(r.angleExtent),x=(v+m)%(2*Math.PI);e.cx=i.w/2,e.cy=i.h/2,m!=2*Math.PI&&(g=A._adjustCenterAndBounds(e,c,v,m,x,i,h),_=e.maxInnerDiameter);var C=.5*(n=Math.min(i.w,i.h))*c,y=.5*n,b=r.indicatorSize;if(b&&b>1){var S=(1-1/b)/2*(y-C);C+=S,y-=S}var w="middle";g||(_=Math.min(i.w,i.h)*c,g=new t.Rectangle(i.x+i.w/2-_*(3/7),i.y+i.h/2-_*(2.5/7),_*(6/7),_*(5/7)));if(r.label.text){var O="middle",M=new t.Rectangle(g.x,g.y,g.w,g.h);"off"!=r.metricLabel.rendered&&(M.y=M.y+.6*M.h,M.h=.4*M.h,O="top"),s.renderLabel(e,a,M,null,O)&&"off"!=r.metricLabel.rendered&&(g.h=.55*g.h,w="bottom")}s.renderMetricLabel(e,a,g,null,"center",w,!0);var f=v,P=d*m,E=l.getPlotAreaBorderColor(e);if(p&&"off"!=r.plotArea.rendered&&"all"==r.thresholdDisplay)for(var R=0;R<p.length;R++){var T=l.getThresholdColor(e,p[R],R),L=p[R].max<r.max&&R!=p.length-1?p[R].max:r.max,I=0==R?r.min:p[R-1].max;f=v+m*s.getFillPercentage(r,r.min,L,I),P=(d=s.getFillPercentage(r,I,L,L))*m;var D=p[R].borderColor;A._drawCircularArc(e,a,i,f,P,C,y,T,!0,D||E)}else if("off"!=r.plotArea.rendered&&"all"!=r.thresholdDisplay){var F=l.getPlotAreaColor(e);A._drawCircularArc(e,a,i,v,m,C,y,F,!0,E)}if(C=n*c*.5,y=.5*n,b&&b<1){var U=(1-b)/2*(y-C);C+=U,y-=U}P=(d=s.getFillPercentage(r,r.min,r.max,u))*m,A._drawCircularArc(e,a,i,v,P,C,y,l.getColor(e),!1);var V=r.referenceLines;if(V)for(var N=0;N<V.length;N++){var H=V[N].color?V[N].color:"black",z=V[N].lineWidth?V[N].lineWidth:2,W=V[N].lineStyle;u=V[N].value;var G=v+s.getFillPercentage(r,r.min,r.max,u)*m;A._drawCircularReferenceLine(e,a,i,G,H,z,W)}r.center.renderer&&A._renderCenterContent(e,r,i,o,_)},_renderShape:(e,a,i)=>{var s=e.getOptions(),n=t.Agent.isRightToLeft(e.getCtx()),r="vertical"==s.orientation,o={isRTL:n,layout:{gapRatio:0},timeAxisType:"disabled",position:r?"left":"bottom",min:s.min,max:s.max,dataMin:s.min,dataMax:s.max,tickLabel:{rendered:"off"},translations:s.translations},h=new C(e.getCtx(),o,i);e.__axisInfo=h;var d=0;s.max<=0?d=s.max:s.min>=0&&(d=s.min);var g=h.getCoordAt(d);"off"==s.plotArea.rendered||"auto"==s.plotArea.rendered&&"onIndicator"==s.thresholdDisplay||(g=h.getUnboundedCoordAt(s.min));var u=h.getUnboundedCoordAt(s.value);u=r?Math.max(i.y,Math.min(i.y+i.h,u)):Math.max(i.x,Math.min(i.x+i.w,u));var c,p,_,v,m,x,y,b,w=s.indicatorSize,O=0,M=w<1?1:w,f=w>1?1:w,P=Math.min(.5,(Math.abs(u-g)-.5)/2);r?(b=u>g?-1:1,c=i.x+(1-f)/2*i.w+.5,p=i.x+i.w*(1+f)/2-.5,v=g-b*P,_=u+b*P,m=i.x+(1-1/M)/2*i.w,x=i.x+i.w*(1+1/M)/2,y=i.y,O=i.y+i.h):(b=(n?u>g:u<g)?-1:1,c=n?g-b*P:g+b*P,p=n?u+b*P:u-b*P,_=i.y+(1-f)/2*i.h+.5,v=i.y+i.h*(1+f)/2-.5,m=i.x,x=i.x+i.w,y=i.y+(1-1/M)/2*i.h,O=i.y+i.h*(1+1/M)/2);var E=!0;s.value==s.min&&(r?_=v:c=p,E=!1);var R,T,L=l.getBorderColor(e),I=l.getPlotAreaBorderColor(e),D=s.thresholds,F=r?0:270;if(D&&"off"!=s.plotArea.rendered&&"all"==s.thresholdDisplay)for(T=D.length-1;T>=0;T--){var U=T;R=A._createShape(e,e.getCtx(),m,x,y,O);var V=new t.ClipPath("pacp"+e.getId());if(T==D.length-1)!r&&n?V.addRect(h.getUnboundedCoordAt(s.max)+1,0,i.w+2,i.h+2,0,0):V.addRect(0,0,i.w+2,i.h+2,0,0);else if(r){var N=s.max-D[D.length-2-U].max;V.addRect(0,h.getUnboundedCoordAt(s.max),i.w+2,1*Math.max(0,N)/Math.abs(s.min-s.max)*i.h,0,0)}else if(n){var H=null==D[D.length-2-U].max?100:D[D.length-2-U].max;V.addRect(h.getUnboundedCoordAt(s.max),0,1*Math.max(0,s.max-H)/Math.abs(s.min-s.max)*i.w,i.h+2,0,0)}else{var z=D[U].max-s.min;V.addRect(0,0,1*Math.max(0,z)/Math.abs(s.min-s.max)*i.w,i.h+2,0,0)}R.setClipPath(V),(n||r)&&(U=D.length-1-T),R.setSolidFill(l.getThresholdColor(e,D[U],U));var W=D[U].borderColor;R.setSolidStroke(W||I),A._renderPlotAreaVisualEffects(e,a,R,l.getThresholdColor(e,D[U],U),F)}else if("off"!==s.plotArea.rendered&&("auto"!=s.plotArea.rendered||"onIndicator"!=s.thresholdDisplay)&&"all"!=s.thresholdDisplay){R=r?A._createShape(e,e.getCtx(),m,x,h.getUnboundedCoordAt(s.max),h.getUnboundedCoordAt(s.min)):A._createShape(e,e.getCtx(),h.getUnboundedCoordAt(s.min),h.getUnboundedCoordAt(s.max),y,O);var G=l.getPlotAreaColor(e);R.setSolidFill(G),R.setSolidStroke(I),A._renderPlotAreaVisualEffects(e,a,R,G,F)}var B=new S(e,e.getCtx(),c,p,_,v);e.__shapes.push(B);var j,k,K,Y,X=l.getColor(e);if("redwood"===e.getCtx().getThemeBehavior()||"none"===s.visualEffects)B.setSolidFill(X);else{var q=[t.ColorUtils.adjustHSL(X,0,-.09,.04),t.ColorUtils.adjustHSL(X,0,-.04,-.05)],J=new t.LinearGradientFill(F,q,[1,1],[0,1]);B.setFill(J)}L&&B.setSolidStroke(L),B.setClassName(s.svgClassName),B.setStyle(s.svgStyle),E&&a.addChild(B),A._createShape(e,e.getCtx(),c,p,_,v);var $=s.referenceLines;if($)for(T=0;T<$.length;T++){var Q=$[T].color?$[T].color:"white",Z=$[T].value;w=s.indicatorSize,r?(Y=((1-w)/2+w)*i.w,j=i.x+(1-w)/4*i.w,k=h.getUnboundedCoordAt(Z),K=new t.Line(e.getCtx(),j,k,j+Y,k)):(Y=((1-w)/2+w)*i.h,j=h.getUnboundedCoordAt(Z),k=i.y+(1-w)/4*i.h,K=new t.Line(e.getCtx(),j,k,j,k+Y));var ee=$[T].lineWidth?$[T].lineWidth:2,te=$[T].lineStyle,ae=new t.Stroke(Q,1,ee,!1,t.Stroke.getDefaultDashProps(te,ee));if(K.setStroke(ae),a.addChild(K),"ie"!==t.Agent.browser&&"edge"!==t.Agent.browser&&"none"!=s.visualEffects){var ie=new t.Shadow(.5,.5,1,"rgba(0, 0, 0, 0.8)");K.addDrawEffect(ie)}}var se=s.metricLabel.position;if("on"!=s.metricLabel.rendered||A._hasMetricLabelOutsidePlotArea(s)||s.label.text)s.label.text&&A._renderLabel(e,a,i,se);else{var ne={x1:c,x2:p,y1:_,y2:v},re={x1:m,x2:x,y1:y,y2:O};A._renderMetricLabelInsidePlotArea(e,a,i,X,se,ne,re)}},_createShape:(e,a,i,s,n,r)=>{var o=Math.min(i,s),l=Math.min(n,r),h=Math.abs(i-s),d=Math.abs(r-n),g=e.getOptions(),u="vertical"==g.orientation?h:d,c="auto"!=g.plotArea.borderRadius?g.plotArea.borderRadius:g.borderRadius,p=t.PathUtils.rectangleWithBorderRadius(o,l,h,d,c,u,"15%");return new t.Path(a,p)},_renderPlotAreaVisualEffects:(e,a,i,s,n)=>{var r=e.getOptions();if(i.setMouseEnabled(!1),a.addChild(i),"redwood"!==e.getCtx().getThemeBehavior()&&"none"!==r.visualEffects){var o=[t.ColorUtils.adjustHSL(s,0,-.04,-.05),t.ColorUtils.adjustHSL(s,0,-.09,.04)],l=new t.LinearGradientFill(n,o,[1,1],[0,1]);i.setFill(l)}i.setClassName(r.plotArea.svgClassName),i.setStyle(r.plotArea.svgStyle)},_renderMetricLabelOutsidePlotArea:(e,a,i)=>{var n=e.getOptions(),r=t.Agent.isRightToLeft(e.getCtx()),o="vertical"==n.orientation,l=new t.OutputText(e.getCtx(),""),h=s.getFormattedMetricLabel(n.value,e),d=n.__layout.labelGap,g=n.metricLabel.style,u=g.getStyle("color");u=u||"#333333";var c,p,_,v,m,x=null;if(l.setCSSStyle(g),l.setSolidFill(u),o&&"on"==n.metricLabel.rendered){v=n.max>0?n.max:n.min,m=s.getFormattedMetricLabel(v,e),(_=new t.OutputText(e.getCtx(),m)).setCSSStyle(g);var C=new t.Rectangle(i.x,i.y+.8*i.h,i.w,.2*i.h);c=g.getStyle("font-size")||t.TextUtils.getOptimalFontSize(_.getCtx(),_.getTextString(),_.getCSSStyle(),C),_.setFontSize(c),x=_.getDimensions(),i.h-=x.h,l.setFontSize(c),l.setTextString(h),l.setX(i.x+i.w/2),l.setY(i.y+i.h),i.h-=d,l.alignCenter(),t.TextUtils.fitText(l,i.w,i.h,a)}else if(!o&&"on"==n.metricLabel.rendered){var y;if(c=g.getStyle("font-size"),p=s.getFormattedMetricLabel(n.min,e),_=s.getFormattedMetricLabel(n.max,e),void 0===c&&i.h<18&&(c=s.calcLabelFontSize([h,p,_],l,i)),c=c?parseInt(c):13,l.setFontSize(c),n.max>0||"off"!=n.plotArea.rendered||"auto"!=n.plotArea.rendered||"onIndicator"!=n.thresholdDisplay){v=n.max>0?n.max:n.min,m=s.getFormattedMetricLabel(v,e),(_=new t.OutputText(e.getCtx(),m)).setCSSStyle(g),_.setFontSize(c),(x=_.getDimensions()).w=Math.min(x.w,i.w),y=r?i.x+x.w:i.x+i.w;var b=x.w;r?(i.x+=x.w+d,i.w-=x.w+d):i.w-=x.w+d}if(n.min<0&&"on"!=n.plotArea.rendered&&("auto"!=n.plotArea.rendered||"onIndicator"!=n.thresholdDisplay)){var S=s.getFormattedMetricLabel(n.min,e);(p=new t.OutputText(e.getCtx(),S)).setCSSStyle(g),p.setFontSize(c);var A=p.getDimensions();(n.value<0||n.max<=0)&&(y=r?i.x+i.w:i.x+A.w,b=A.w),r||(i.x+=A.w+d),i.w-=A.w+d}l.setTextString(h),l.setX(y),t.TextUtils.centerTextVertically(l,i.y+i.h/2),l.alignRight();var w="firefox"===t.Agent.browser?i.h+2:i.h;t.TextUtils.fitText(l,b,w,a)}},_renderMetricLabelInsidePlotArea:(e,a,i,n,r,o,l,h)=>{var d=e.getOptions(),g=t.Agent.isRightToLeft(e.getCtx()),u="vertical"==d.orientation,c="on"==d.plotArea.rendered,p="center",_="middle",v=new t.Rectangle(Math.min(o.x1,o.x2),Math.min(o.y1,o.y2),Math.abs(o.x2-o.x1),Math.abs(o.y2-o.y1)),m=d.metricLabel.style.getStyle("color");"center"==r?(m=m||t.ColorUtils.getContrastingTextColor(n),u?(v.h-=v.w,v.y+=v.w/2):(v.w-=v.h,v.x+=v.h/2)):"insideIndicatorEdge"==r?(m=m||t.ColorUtils.getContrastingTextColor(n),u?(v.h-=v.w,v.y+=v.w/2,_=!c&&o.y1>o.y2?"bottom":"top"):(v.w-=v.h,v.x+=v.h/2,p=g?!c&&o.x1<o.x2?"right":"left":!c&&o.x1>o.x2?"left":"right")):"outsideIndicatorEdge"==r&&(u?(v.h=Math.abs(l.y1-o.y1)-v.w,v.y=l.y1+v.w/2,_="bottom",!c&&o.y1>o.y2&&(v.h=Math.abs(l.y2-o.y1)-v.w,v.y=o.y1+v.w/2,_="top")):g?!c&&o.x1<o.x2?(v.w=Math.abs(l.x2-o.x2)-v.h,v.x=o.x2+v.h/2,p="left"):(v.w=Math.abs(l.x1-o.x2)-v.h,v.x=l.x1+v.h/2,p="right"):!c&&o.x1>o.x2?(v.w=Math.abs(l.x1-o.x2)-v.h,v.x=l.x1+v.h/2,p="right"):(v.w=Math.abs(l.x2-o.x2)-v.h,v.x=o.x2+v.h/2,p="left")),s.renderMetricLabel(e,a,v,m,p,_)||h||("outsideIndicatorEdge"==r?A._renderMetricLabelInsidePlotArea(e,a,i,n,"insideIndicatorEdge",o,l,!0):"insideIndicatorEdge"!=r&&"center"!=r||A._renderMetricLabelInsidePlotArea(e,a,i,n,"outsideIndicatorEdge",o,l,!0))},_renderLabel:(e,a,i,n)=>{var r=t.Agent.isRightToLeft(e.getCtx()),o=e.getOptions(),l="vertical"==o.orientation,h=new t.Rectangle(i.x,i.y,l?i.w:i.w-i.h,l?i.h-i.w:i.h),d=o.label.text;if(!A._hasMetricLabelOutsidePlotArea(o)&&"on"==o.metricLabel.rendered){var g=s.getFormattedMetricLabel(o.value,e);d=t.ResourceUtils.format(o.translations.labelAndValue,[d,g])}var u=o.label.style,c=u.clone(),p=u.getStyle("font-size");if(!p){var _=new t.OutputText(e.getCtx(),d,0,0);_.setCSSStyle(u),_.setTextString(d),p=l?t.TextUtils.getOptimalFontSize(_.getCtx(),_.getTextString(),_.getCSSStyle(),new t.Rectangle(h.x,h.y,h.w,Number.MAX_VALUE)):t.TextUtils.getOptimalFontSize(_.getCtx(),_.getTextString(),_.getCSSStyle(),new t.Rectangle(h.x,h.y,Number.MAX_VALUE,h.h))}var v=new t.MultilineText(e.getCtx(),d);c.setFontSize("font-size",p,e.getCtx()),v.setCSSStyle(c),t.TextUtils.fitText(v,h.w,h.h,e),"center"==o.label.position||"auto"==o.label.position&&l?(t.TextUtils.centerTextVertically(v,i.y+i.h/2),v.setX(i.x+i.w/2),v.alignCenter()):(t.TextUtils.centerTextVertically(v,i.y+i.h/2),!l&&r?(v.setX(i.x+i.w-h.h/2),v.alignRight()):l||r?l&&(v.setY(i.y+i.h-v.getDimensions().h-h.w/2),v.setX(i.x+i.w/2),v.alignCenter()):(v.setX(i.x+h.h/2),v.alignLeft())),a.addChild(v)},_drawCircularArc:(e,a,i,s,n,r,o,h,d,g)=>{var u,c=e.getCtx();t.Agent.isRightToLeft(e.getCtx())&&(s=(s=Math.PI-s-n)>0?s:s+2*Math.PI),d?u=new t.Path(c,y.createCircularPathCmd(i,s,n,r,o)):(u=new b(c,i,s,n,r,o),e.__shapes.push(u)),u.setSolidFill(h);var p=l.getBorderColor(e);p&&!d?u.setSolidStroke(p):d&&g&&u.setSolidStroke(g);var _=e.getOptions();u.setClassName(d?_.plotArea.svgClassName:_.svgClassName),u.setStyle(d?_.plotArea.svgStyle:_.svgStyle),a.addChild(u)},_drawCircularReferenceLine:(e,a,i,s,n,r,o)=>{var l=e.getCtx(),h=Math.min(i.w,i.h),d=.275*h,g=.5*h;t.Agent.isRightToLeft(e.getCtx())&&(s=(s=Math.PI-s)>0?s:s+2*Math.PI);var u=y.calcPointOnArc(i,d,s),c=y.calcPointOnArc(i,g,s),p=new t.Line(l,u.x,u.y,c.x,c.y),_=new t.Stroke(n,1,r,!1,t.Stroke.getDefaultDashProps(o,r));p.setStroke(_),a.addChild(p)},getAngleQuadrant:(e,a)=>{var i=1;return a?e>=t.Math.HALF_PI&&e<Math.PI?i=2:e>=Math.PI&&e<1.5*Math.PI?i=3:e>=1.5*Math.PI&&e<t.Math.TWO_PI&&(i=4):e>t.Math.HALF_PI&&e<=Math.PI?i=2:e>Math.PI&&e<=1.5*Math.PI?i=3:(e>1.5*Math.PI&&e<t.Math.TWO_PI||0==e)&&(i=4),i},_hasMetricLabelOutsidePlotArea:e=>{var t=e.metricLabel.position;return"auto"==t||"outsidePlotArea"==t||("withLabel"==t||"withTitle"==t)&&!e.label.text},_adjustCenterAndBounds:(e,a,i,s,n,r,o)=>{var l,h,d=null,g=A.getAngleQuadrant(i,!0),u=A.getAngleQuadrant(n,!1),c=r.w,p=r.h,_=c/2,v=p/2;if(g==u&&s<=t.Math.HALF_PI)l=2*Math.min(r.w,r.h),r.w=r.w+l/2,r.h=r.h+l/2,h=l*a,!o&&1==g||o&&2==g?(r.x-=l/2,r.y-=l/2,_=c/2-l/4+1,v=p/2-l/4+1,d=new t.Rectangle(r.x+r.w/2-1,r.y+r.h/2-1,h*(3/7)-2,h*(2.5/7)-2)):!o&&2==g||o&&1==g?(r.y-=l/2,_=c/2+l/4-1,v=p/2-l/4+1,d=new t.Rectangle(r.x+r.w/2-h*(3/7)+1,r.y+r.h/2-1,h*(3/7)-2,h*(2.5/7)-2)):!o&&3==g||o&&4==g?(_=c/2+l/4-1,v=p/2+l/4-1,d=new t.Rectangle(r.x+r.w/2-h*(3/7)+1,r.y+r.h/2-h*(2.5/7)+1,h*(3/7)-2,h*(2.5/7)-2)):(!o&&4==g||o&&3==g)&&(r.x-=l/2,_=c/2-l/4+1,v=p/2+l/4-1,d=new t.Rectangle(r.x+r.w/2-1,r.y+r.h/2-h*(2.5/7)+1,h*(3/7)-2,h*(2.5/7)-2));else if(g%4+1==u&&s<=Math.PI)1==g||3==g?(h=(l=Math.min(r.w,2*r.h))*a,r.w>r.h&&(d=new t.Rectangle(r.x+r.w/2-h*(3/7),r.y+r.h-(r.h-l/2)/2-h*(2.75/7),h*(6/7),h*(2.5/7)),1==g?(d.y=r.y+(r.h-l/2)/2+h*(.5/7),r.y-=l/2-(r.h-l/2)/2,v=p/2-l/4+1):(r.y+=(r.h-l/2)/2,v=p/2+l/4-1),r.h=l)):(h=(l=Math.min(2*r.w,r.h))*a,r.w<r.h&&(d=new t.Rectangle(r.x+r.w-(r.w-l/2)/2-h*(3.25/7),r.y+r.h/2-h*(2.5/7),h*(3/7),h*(5/7)),!o&&4==g||o&&2==g?(d.x=r.x+(r.w-l/2)/2+h*(.25/7),r.x-=l/2-(r.w-l/2)/2,_=c/2-l/4+1):(r.x+=(r.w-l/2)/2,_=c/2+l/4-1),r.w=l));else if(u%4+1==g&&s>Math.PI){var m;1==g&&r.h>r.w?(m=(h=(l=Math.min(r.w/(Math.cos(i)+1)*2,r.w/(Math.sin(n-1.5*Math.PI)+1)*2,r.h))*a)*(3/7)*(2*r.w/l-1),o?(d=new t.Rectangle(r.x+r.w-l/2-m,r.y+r.h/2-h*(2.5/7),h*(3/7)+m,h*(5/7)),r.x-=l-r.w,_=-l/2+c):(d=new t.Rectangle(r.x+l/2-h*(3/7),r.y+r.h/2-h*(2.5/7),h*(3/7)*(2*r.w/l-1+1),h*(5/7)),_=l/2),r.w=l):2==g&&r.h<r.w?(h=(l=Math.min(r.h/(Math.cos(i-t.Math.HALF_PI)+1)*2,r.h/(Math.sin(n)+1)*2,r.w))*a,d=new t.Rectangle(r.x+r.w/2-h*(3/7),r.y+l/2-h*(2.5/7),h*(6/7),h*(2.5/7)*(2*r.h/l-1+1)),r.h=l,v=l/2):3==g&&r.h>r.w?(m=(h=(l=Math.min(r.w/(Math.cos(i-Math.PI)+1)*2,r.w/(Math.sin(n-t.Math.HALF_PI)+1)*2,r.h))*a)*(3/7)*(2*r.w/l-1),o?(d=new t.Rectangle(r.x+l/2-h*(3/7),r.y+r.h/2-h*(2.5/7),h*(3/7)*(2*r.w/l-1+1),h*(5/7)),_=l/2):(d=new t.Rectangle(r.x+r.w-l/2-m,r.y+r.h/2-h*(2.5/7),h*(3/7)+m,h*(5/7)),r.x-=l-r.w,_=-l/2+c),r.w=l):4==g&&r.h<r.w&&(m=(h=(l=Math.min(r.h/(Math.cos(i-1.5*Math.PI)+1)*2,r.h/(Math.sin(t.Math.TWO_PI-n)+1)*2,r.w))*a)*(2.5/7)*(2*r.h/l-1),d=new t.Rectangle(r.x+r.w/2-h*(3/7),r.y+r.h-l/2-m,h*(6/7),h*(2.5/7)+m),r.y-=l-r.h,r.h=l,v=-l/2+p)}return e.cx=_,e.cy=v,e.maxInnerDiameter=h,d},_renderCenterContent:(e,a,i,n,r)=>{var o=new t.Rectangle(i.x+.5*(i.w-r),i.y+.5*(i.h-r),r,r);o=o.getIntersection(n);var l=new t.Rectangle(i.x+.5*(i.w-r/Math.sqrt(2)),i.y+.5*(i.h-r/Math.sqrt(2)),r/Math.sqrt(2),r/Math.sqrt(2));l=l.getIntersection(n);var h=a.center.renderer;if(h){var d={outerBounds:{x:o.x,y:o.y,width:o.w,height:o.h},innerBounds:{x:l.x,y:l.y,width:l.w,height:l.h},metricLabel:s.getFormattedMetricLabel(a.value,e),component:a._widgetConstructor},g=e.getCtx();d=g.fixRendererContext(d);var u=g.getContainer(),c=e.centerDiv;c&&u.removeChild(c);var p=h(d);if(!p)return;var _=g.createOverlayDiv();Array.isArray(p)?p.forEach(e=>{_.appendChild(e)}):_.appendChild(p),e.centerDiv=_,u.appendChild(_);var v=g.getOverlayAttachedCallback();v&&v(_)}}};e.LedGauge=c,e.RatingGauge=class extends h{constructor(e,t,a){super(e,t,a),this.type="rating",this.Defaults=new p(e)}SetOptions(e){(e=t.JsonUtils.clone(e)).changedState&&(e.changedState.className&&(e.changedState.svgClassName=e.changedState.className),e.changedState.style&&(e.changedState.svgStyle=e.changedState.style)),e.hoverState&&(e.hoverState.className&&(e.hoverState.svgClassName=e.hoverState.className),e.hoverState.style&&(e.hoverState.svgStyle=e.hoverState.style)),e.selectedState&&(e.selectedState.className&&(e.selectedState.svgClassName=e.selectedState.className),e.selectedState.style&&(e.selectedState.svgStyle=e.selectedState.style)),e.unselectedState&&(e.unselectedState.className&&(e.unselectedState.svgClassName=e.unselectedState.className),e.unselectedState.style&&(e.unselectedState.svgStyle=e.unselectedState.style)),this.getCtx().isCustomElement()&&(e.readOnly=e.readonly);var a=this.getCtx().getSvgDocument();"fit"!==e.size?(this.getCtx().removeSizingSvg(),a.style.height=e._height+"px",a.style.width=e._width+"px"):(this.getCtx().addSizingSvg(),a.style.height="",a.style.width=""),super.SetOptions(this.Defaults.calcOptions(e))}Render(e,a,i){var s=this.Options.__layout.outerGap,n=this.Options.max,r=this.Options.size,o="vertical"==this.Options.orientation,l=this.Options.selectedState.source,h="none"!=this.Options.preserveAspectRatio;if(l&&h&&"fit"===r){return t.ImageLoader.loadImage(this.Options.selectedState.source,r=>{if("ie"!==t.Agent.browser&&"edge"!==t.Agent.browser||11!=t.Agent.version||!r||0!=r.width||0!=r.height||(r.width=1,r.height=1),r&&r.width&&r.height){var l=r.width/r.height;this.__shapeWidth=o?Math.min(a-2*s,(i-2*s)*l/n):Math.min((i-2*s)*l,(a-2*s)/n),this.__shapeHeight=this.__shapeWidth/l,this.__bounds=o?new t.Rectangle(s,(i-this.__shapeHeight*n)/2,a-2*s,this.__shapeHeight*n):new t.Rectangle((a-this.__shapeWidth*n)/2,s,this.__shapeWidth*n,i-2*s),m.render(this,e,a,i)}this.PostRender(this.Options,e)}),!1}return s="fit"===r?s:0,h?(this.__shapeWidth=o?Math.min(a-2*s,(i-2*s)/n):Math.min(i-2*s,(a-2*s)/n),this.__shapeHeight=this.__shapeWidth):(this.__shapeWidth=o?a-2*s:(a-2*s)/n,this.__shapeHeight=o?(i-2*s)/n:i-2*s),this.__bounds=o?new t.Rectangle(s,(i-this.__shapeHeight*n)/2,a-2*s,this.__shapeHeight*n):new t.Rectangle((a-this.__shapeWidth*n)/2,s,this.__shapeWidth*n,i-2*s),m.render(this,e,a,i),!0}__getLogicalObject(){var e=this.Options.tooltip,a=e?e.renderer:null,i=l.getColor(this);if(a){var n={component:this.Options._widgetConstructor,label:s.getFormattedMetricLabel(this.Options.value,this),color:i};return new t.CustomDatatipPeer(this.getCtx().getTooltipManager(),a,i,n)}return new v(this)}GetValueAt(e,a){var n,r="vertical"==this.Options.orientation?this.__shapeHeight:this.__shapeWidth;return i.hasData(this)?("vertical"==this.Options.orientation?(a=Math.max(Math.min(a,this.__bounds.y+this.__bounds.h),this.__bounds.y),n=Math.max((this.__bounds.y+this.__bounds.h-a)/r,this.Options.min)):(e=Math.max(Math.min(e,this.__bounds.x+this.__bounds.w),this.__bounds.x),n=0,n=t.Agent.isRightToLeft(this.getCtx())?Math.max((this.__bounds.x+this.__bounds.w-e)/r,this.Options.min):Math.max((e-this.__bounds.x)/r,this.Options.min)),s.adjustForStep(this.Options,n)):null}__processHoverEnd(e,a){this.__updateClipRects(this.Options.value,"render"),this.dispatchEvent(t.EventFactory.newValueChangeEvent(this.Options.value,this.Options.value,!1))}__processValueChangeStart(e,t){this.__processValueChangeMove(e,t)}__processValueChangeMove(e,a){var i=this.GetValueAt(e,a);this.__updateClipRects(i,"hover"),this.dispatchEvent(t.EventFactory.newValueChangeEvent(this.Options.value,i,!1))}__processValueChangeEnd(e,a){var i=this.Options.value;this.Options.value=this.GetValueAt(e,a),this.Options.changed=!0,this.render(),this.dispatchEvent(t.EventFactory.newValueChangeEvent(i,this.Options.value,!1)),this.dispatchEvent(t.EventFactory.newValueChangeEvent(i,this.Options.value,!0))}__updateClipRects(e,a,s){if(i.hasData(this)){s||(s=this._container);var n,r,o,l,h,d,g=t.Agent.isRightToLeft(this.getCtx()),u="vertical"==this.Options.orientation,c=u?this.__shapeHeight:this.__shapeWidth,p=0,_=(e=Math.max(Math.min(e,this.Options.max),0))*c,v=e*c;"render"===a&&(p=e*c,_=0),u?(n=s.getChildAt(0),(r=new t.ClipPath).addRect(this.__bounds.x,this.__bounds.y,this.__bounds.w,this.__bounds.h-v),n.setClipPath(r),o=s.getChildAt(1),(l=new t.ClipPath).addRect(this.__bounds.x,this.__bounds.y+this.__bounds.h-p,this.__bounds.w,p),o.setClipPath(l),(h=s.getChildAt(2))&&((d=new t.ClipPath).addRect(this.__bounds.x,this.__bounds.y+this.__bounds.h-_,this.__bounds.w,_),h.setClipPath(d))):g?(n=s.getChildAt(0),(r=new t.ClipPath).addRect(this.__bounds.x,this.__bounds.y,this.__bounds.w-v,this.__bounds.h),n.setClipPath(r),o=s.getChildAt(1),(l=new t.ClipPath).addRect(this.__bounds.x+this.__bounds.w-v,this.__bounds.y,p,this.__bounds.h),o.setClipPath(l),(h=s.getChildAt(2))&&((d=new t.ClipPath).addRect(this.__bounds.x+this.__bounds.w-v,this.__bounds.y,_,this.__bounds.h),h.setClipPath(d))):(n=s.getChildAt(0),(r=new t.ClipPath).addRect(this.__bounds.x+v,this.__bounds.y,this.__bounds.w-v,this.__bounds.h),n.setClipPath(r),o=s.getChildAt(1),(l=new t.ClipPath).addRect(this.__bounds.x,this.__bounds.y,p,this.__bounds.h),o.setClipPath(l),(h=s.getChildAt(2))&&((d=new t.ClipPath).addRect(this.__bounds.x,this.__bounds.y,_,this.__bounds.h),h.setClipPath(d))),this.UpdateAriaLiveValue(s,e)}}__getRatingGaugeItem(e){return this._container.getChildAt(0).getChildAt(e)}CreateEventManager(){return new _(this)}IsInteractive(){return!this.Options.disabled&&super.IsInteractive(this)}},e.StatusMeterGauge=class extends h{constructor(e,t,a){super(e,t,a),this.type="statusMeter",this.Defaults=new x(e),this.__axisInfo=null}SetOptions(e){(e=t.JsonUtils.clone(e)).title&&(e.label=e.title),e.plotArea&&(e.plotArea.className&&(e.plotArea.svgClassName=e.plotArea.className),e.plotArea.style&&(e.plotArea.svgStyle=e.plotArea.style)),this.getCtx().isCustomElement()&&(e.readOnly=e.readonly),super.SetOptions(this.Defaults.calcOptions(e))}Render(e,t,a){A.render(this,e,t,a)}CreateAnimOnDisplay(e,a,i){for(var s=[],n=0;n<e.length;n++){var r=e[n],o=r.getAnimParams();"horizontal"==this.Options.orientation?r.setAnimParams([o[0],o[0],o[2],o[3]]):"vertical"==this.Options.orientation?r.setAnimParams([o[0],o[1],o[3],o[3]]):"circular"==this.Options.orientation&&r.setAnimParams([o[0],o[1],0,o[3],o[4]]);var l=new t.CustomAnimation(this.getCtx(),r,i);l.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,r,r.getAnimParams,r.setAnimParams,o),l.getAnimator().setEasing(function(e){return t.Easing.backOut(e,.7)}),s.push(l)}return new t.ParallelPlayable(this.getCtx(),s)}GetValueAt(e,a){var i=this.Options,s=t.Agent.isRightToLeft(this.getCtx());if("horizontal"==i.orientation)return this.__axisInfo.getBoundedValAt(e);if("vertical"==i.orientation)return this.__axisInfo.getBoundedValAt(a);if("circular"==i.orientation){var n=i.angleExtent,r=Math.atan2(a-this.cy,e-this.cx),o=s?180-(t.Math.radsToDegrees(r)-i.startAngle):t.Math.radsToDegrees(r)-(360-i.startAngle),l=(o=(o+720)%360)/n,h=i.min,d=i.max,g=l*(d-h)+h;return o>n&&(g=(o-n)/(360-n)>.5?0:d),g}return null}},Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojgauge-toolkit.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojgauge',["ojs/ojcomponentcore","ojs/ojcore-base","ojs/ojdvt-base","jquery","ojs/ojlogger","ojs/ojconverterutils-i18n","ojs/ojconverter-number","ojs/ojlabelledbyutils","ojs/ojgauge-toolkit"],function(e,t,r,a,s,n,o,i,l){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r,a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i;var u={properties:{borderColor:{type:"string"},color:{type:"string"},label:{type:"object",properties:{style:{type:"object",value:{}},text:{type:"string",value:""}}},markerSize:{type:"string",enumValues:["fit","lg","md","sm"],value:"fit"},max:{type:"number",value:100},metricLabel:{type:"object",properties:{converter:{type:"object"},rendered:{type:"string",enumValues:["off","on"],value:"off"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},style:{type:"object",value:{}},text:{type:"string",value:""},textType:{type:"string",enumValues:["number","percent"],value:"number"}}},min:{type:"number",value:0},rotation:{type:"number",enumValues:["0","180","270","90"],value:0},size:{type:"number",value:1},svgClassName:{type:"string",value:""},svgStyle:{type:"object",value:{}},thresholds:{type:"Array<Object>",value:[]},tooltip:{type:"object",properties:{renderer:{type:"function"}}},trackResize:{type:"string",enumValues:["off","on"],value:"on"},translations:{type:"object",value:{},properties:{accessibleContainsControls:{type:"string"},componentName:{type:"string"},labelAndValue:{type:"string"},labelClearSelection:{type:"string"},labelCountWithTotal:{type:"string"},labelDataVisualization:{type:"string"},labelInvalidData:{type:"string"},labelNoData:{type:"string"},stateCollapsed:{type:"string"},stateDrillable:{type:"string"},stateExpanded:{type:"string"},stateHidden:{type:"string"},stateIsolated:{type:"string"},stateMaximized:{type:"string"},stateMinimized:{type:"string"},stateSelected:{type:"string"},stateUnselected:{type:"string"},stateVisible:{type:"string"}}},type:{type:"string",value:"circle"},value:{type:"number",writeback:!0},visualEffects:{type:"string",enumValues:["auto","none"],value:"auto"}},methods:{getMetricLabel:{},getProperty:{},refresh:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},extension:{}};!function(){u.extension._WIDGET_NAME="ojLedGauge";t.CustomElementBridge.register("oj-led-gauge",{metadata:u,parseFunction:r.shapeParseFunction({type:!0},{arrow:!0,square:!0,rectangle:!0,circle:!0,diamond:!0,triangle:!0,human:!0,star:!0})})}();var p={properties:{changed:{type:"boolean",writeback:!0,value:!1},changedState:{type:"object",properties:{borderColor:{type:"string",value:""},color:{type:"string"},shape:{type:"string",value:"star"},source:{type:"string",value:""},svgClassName:{type:"string",value:""},svgStyle:{type:"object",value:{}}}},describedBy:{type:"string"},disabled:{type:"boolean",value:!1},hoverState:{type:"object",properties:{borderColor:{type:"string",value:""},color:{type:"string"},shape:{type:"string",value:"star"},source:{type:"string",value:""},svgClassName:{type:"string",value:""},svgStyle:{type:"object",value:{}}}},labelledBy:{type:"string"},max:{type:"number",value:5},min:{type:"number",value:0},orientation:{type:"string",enumValues:["horizontal","vertical"],value:"horizontal"},preserveAspectRatio:{type:"string",enumValues:["meet","none"],value:"meet"},readonly:{type:"boolean",value:!1},selectedState:{type:"object",properties:{borderColor:{type:"string",value:""},color:{type:"string"},shape:{type:"string",value:"star"},source:{type:"string",value:""},svgClassName:{type:"string",value:""},svgStyle:{type:"object",value:{}}}},size:{type:"string",enumValues:["fit","large","lg","md","medium","sm","small"],value:"fit"},step:{type:"number",value:1},thresholds:{type:"Array<Object>",value:[]},tooltip:{type:"object",properties:{renderer:{type:"function"}}},trackResize:{type:"string",enumValues:["off","on"],value:"on"},transientValue:{type:"number",writeback:!0,readOnly:!0},translations:{type:"object",value:{},properties:{accessibleContainsControls:{type:"string"},componentName:{type:"string"},labelAndValue:{type:"string"},labelClearSelection:{type:"string"},labelCountWithTotal:{type:"string"},labelDataVisualization:{type:"string"},labelInvalidData:{type:"string"},labelNoData:{type:"string"},stateCollapsed:{type:"string"},stateDrillable:{type:"string"},stateExpanded:{type:"string"},stateHidden:{type:"string"},stateIsolated:{type:"string"},stateMaximized:{type:"string"},stateMinimized:{type:"string"},stateSelected:{type:"string"},stateUnselected:{type:"string"},stateVisible:{type:"string"}}},unselectedState:{type:"object",properties:{borderColor:{type:"string",value:""},color:{type:"string"},shape:{type:"string",value:"star"},source:{type:"string",value:""},svgClassName:{type:"string",value:""},svgStyle:{type:"object",value:{}}}},value:{type:"number",writeback:!0},visualEffects:{type:"string",enumValues:["auto","none"],value:"auto"}},methods:{getProperty:{},refresh:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},extension:{}};!function(){p.extension._WIDGET_NAME="ojRatingGauge",p.extension._ALIASED_PROPS={transientValue:"rawValue"};var e=/\d/,r={circle:!0,square:!0,diamond:!0,triangle:!0,human:!0,star:!0},a={circle:!0,square:!0,diamond:!0,triangle:!0,human:!0,star:!0,dot:!0,none:!0},s={"changed-state.shape":!0,"hover-state.shape":!0,"selected-state.shape":!0,"unselected-state.shape":!0};t.CustomElementBridge.register("oj-rating-gauge",{metadata:p,parseFunction:function(t,n,o,i){if(s[n]||"unselected-state.shape"===n){if(e.test(t))return t;if(s[n]&&!r[n])throw new Error("Found: "+t+". Expected: "+r.toString());if("unselected-state.shape"!==n||a[n])return t;throw new Error("Found: "+t+". Expected: "+a.toString())}return i(t)}})}();var g={properties:{angleExtent:{type:"number",value:360},animationDuration:{type:"number"},animationOnDataChange:{type:"string",enumValues:["auto","none"],value:"none"},animationOnDisplay:{type:"string",enumValues:["auto","none"],value:"none"},borderColor:{type:"string"},borderRadius:{type:"string",value:"auto"},center:{type:"object",properties:{renderer:{type:"function"}}},color:{type:"string"},describedBy:{type:"string"},indicatorSize:{type:"number",value:1},innerRadius:{type:"number",value:.7},label:{type:"object",properties:{position:{type:"string",enumValues:["auto","center","start"],value:"auto"},style:{type:"object",value:{}},text:{type:"string",value:""}}},labelledBy:{type:"string"},max:{type:"number",value:100},metricLabel:{type:"object",properties:{converter:{type:"object"},position:{type:"string",enumValues:["auto","center","insideIndicatorEdge","outsideIndicatorEdge","outsidePlotArea","withLabel"],value:"auto"},rendered:{type:"string",enumValues:["auto","off","on"],value:"auto"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},style:{type:"object",value:{}},text:{type:"string",value:""},textType:{type:"string",enumValues:["number","percent"],value:"number"}}},min:{type:"number",value:0},orientation:{type:"string",enumValues:["circular","horizontal","vertical"],value:"horizontal"},plotArea:{type:"object",properties:{borderColor:{type:"string"},borderRadius:{type:"string",value:"auto"},color:{type:"string"},rendered:{type:"string",enumValues:["auto","off","on"],value:"auto"},svgClassName:{type:"string",value:""},svgStyle:{type:"object",value:{}}}},readonly:{type:"boolean",value:!1},referenceLines:{type:"Array<Object>",value:[]},size:{type:"string",enumValues:["fit","lg","md","sm"],value:"fit"},startAngle:{type:"number",value:90},step:{type:"number"},svgClassName:{type:"string",value:""},svgStyle:{type:"object",value:{}},thresholdDisplay:{type:"string",enumValues:["all","currentOnly","onIndicator"],value:"onIndicator"},thresholds:{type:"Array<Object>",value:[]},tooltip:{type:"object",properties:{renderer:{type:"function"}}},trackResize:{type:"string",enumValues:["off","on"],value:"on"},transientValue:{type:"number",writeback:!0,readOnly:!0},translations:{type:"object",value:{},properties:{accessibleContainsControls:{type:"string"},componentName:{type:"string"},labelAndValue:{type:"string"},labelClearSelection:{type:"string"},labelCountWithTotal:{type:"string"},labelDataVisualization:{type:"string"},labelInvalidData:{type:"string"},labelNoData:{type:"string"},stateCollapsed:{type:"string"},stateDrillable:{type:"string"},stateExpanded:{type:"string"},stateHidden:{type:"string"},stateIsolated:{type:"string"},stateMaximized:{type:"string"},stateMinimized:{type:"string"},stateSelected:{type:"string"},stateUnselected:{type:"string"},stateVisible:{type:"string"}}},value:{type:"number",writeback:!0},visualEffects:{type:"string",enumValues:["auto","none"],value:"auto"}},methods:{getMetricLabel:{},getProperty:{},refresh:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},extension:{}};g.extension._WIDGET_NAME="ojStatusMeterGauge",g.extension._ALIASED_PROPS={transientValue:"rawValue"},t.CustomElementBridge.register("oj-status-meter-gauge",{metadata:g}),t.__registerWidget("oj.dvtBaseGauge",a.oj.dvtBaseComponent,{_labelledByUpdatedForSet:i._labelledByUpdatedForSet,_describedByUpdated:i._describedByUpdated,_ComponentCreate:function(){this._SetSizeClass(),this._super(),this._SetLocaleHelpers(o,n)},_OptionChangeHandler:function(e){this._SetSizeClass(),this._super(e)},_GetSizeClass:function(){},_SetSizeClass:function(){var e=this._GetSizeClass();e!==this._sizeClass&&(this.element.removeClass(this._sizeClass),this._sizeClass=e,this.element.addClass(e))},_ProcessStyles:function(e){var t=e;this._super(t),t._thresholdColors=[t._threshold1,t._threshold2,t._threshold3],t._threshold1=null,t._threshold2=null,t._threshold3=null},_AfterCreate:function(){this._super();if(this.option("rawValue",this.options.value,{_context:{writeback:!0,internalSet:!0,readOnly:!0}}),this._SupportsOjLabel()){var e=this.options.labelledBy;this._labelledByUpdatedForSet(this.element[0].id,null,e,this.element)}},_GetContentElement:function(){return this.element},_GetChildStyleClasses:function(){var e=this._super();return e["oj-gauge-metric-label"]={path:"metricLabel/style",property:"TEXT"},e["oj-gauge-label"]={path:"label/style",property:"TEXT"},e["oj-gauge-threshold1"]={path:"_threshold1",property:"color"},e["oj-gauge-threshold2"]={path:"_threshold2",property:"color"},e["oj-gauge-threshold3"]={path:"_threshold3",property:"color"},e},_GetEventTypes:function(){return["input","optionChange"]},_HandleEvent:function(e){if("valueChange"===e.type){var t=e.newValue;e.complete?this._UserOptionChange("value",t):(this._trigger("input",null,{value:t}),this._UserOptionChange("rawValue",t))}else this._super(e)},_SupportsOjLabel:function(){return!1},_setOption:function(e,t,r){var a=this.options[e];if("rawValue"!==e){if("value"===e){this.option("rawValue",t,{_context:{writeback:!0,internalSet:!0,readOnly:!0}})}var n;if(this._SupportsOjLabel())"labelledBy"===e&&(n=this.element,this._labelledByUpdatedForSet(n[0].id,a,t,n)),"describedBy"===e&&this._describedByUpdated(a,t);this._super(e,t,r)}else s.error("'rawValue' is a read-only option and cannot be set")},_ConvertLocatorToSubId:function(e){var t=e.subId;return"oj-ledgauge-tooltip"!==t&&"oj-ratinggauge-tooltip"!==t&&"oj-statusmetergauge-tooltip"!==t||(t="tooltip"),"oj-ratinggauge-item"===t&&null!=e.index&&(t="item["+e.index+"]"),t}},!0),t.__registerWidget("oj.ojLedGauge",a.oj.dvtBaseGauge,{widgetEventPrefix:"oj",options:{borderColor:"",color:"#393737",label:{style:{},text:""},metricLabel:{converter:null,rendered:"off",scaling:"auto",style:{},text:"",textType:"number"},markerSize:"fit",max:100,min:0,rotation:0,size:1,svgClassName:"",svgStyle:{},thresholds:[],tooltip:{renderer:null},type:"circle",value:null,visualEffects:"auto"},_CreateDvtComponent:function(e,t,r){return this._focusable({element:this.element,applyHighlight:!0}),new l.LedGauge(e,t,r)},_ConvertSubIdToLocator:function(e){var t={};return"tooltip"===e&&(t.subId="oj-ledgauge-tooltip"),t},_GetComponentStyleClasses:function(){var e=this._super();return e.push("oj-ledgauge"),e.push(this._sizeClass),e},_GetSizeClass:function(){return`oj-ledgauge-${this.options.markerSize}`},_Render:function(){this.element.attr("title")?(this.options.shortDesc=this.element.attr("title"),this.element.data(this.element,"title",this.element.attr("title")),this.element.removeAttr("title")):this.element.data("title")&&(this.options.shortDesc=this.element.data("title")),this._super()},getMetricLabel:function(){return this._component.getAutomation().getMetricLabel()}});const d="oj-rating-gauge-fit";t.__registerWidget("oj.ojRatingGauge",a.oj.dvtBaseGauge,{widgetEventPrefix:"oj",options:{changed:!1,changedState:{borderColor:"",color:"",shape:"star",source:"",svgClassName:"",svgStyle:{}},hoverState:{borderColor:"",color:"",shape:"star",source:"",svgClassName:"",svgStyle:{}},labelledBy:null,describedBy:null,max:5,min:0,orientation:"horizontal",preserveAspectRatio:"meet",rawValue:null,readonly:!1,disabled:!1,size:"fit",selectedState:{borderColor:"",color:"",shape:"star",source:"",svgClassName:"",svgStyle:{}},step:1,thresholds:[],tooltip:{renderer:null},unselectedState:{borderColor:"",color:"",shape:"star",source:"",svgClassName:"",svgStyle:{}},value:null,visualEffects:"auto"},_CreateDvtComponent:function(e,t,r){return this._focusable({element:this.element,applyHighlight:!0}),new l.RatingGauge(e,t,r)},_ConvertSubIdToLocator:function(e){var t={};return"tooltip"===e?t.subId="oj-ratinggauge-tooltip":0===e.indexOf("item")&&(t.subId="oj-ratinggauge-item",t.index=this._GetFirstIndex(e)),t},_GetComponentStyleClasses:function(){var e=this._super();return e.push("oj-ratinggauge"),"fit"===this.options.size&&e.push(d),e},_GetChildStyleClasses:function(){var e=this._super();return e["oj-rating-gauge-hover"]=[{path:"hoverState/color",property:"fill"},{path:"hoverState/borderColor",property:"stroke"}],e["oj-rating-gauge-selected "+(this.options.readonly?"oj-rating-gauge-readonly":"")]=[{path:"selectedState/color",property:"fill"},{path:"selectedState/borderColor",property:"stroke"}],e["oj-rating-gauge-unselected "+(this.options.readonly?"oj-rating-gauge-readonly":"")]=[{path:"unselectedState/color",property:"fill"},{path:"unselectedState/borderColor",property:"stroke"}],e["oj-rating-gauge-changed"]=[{path:"changedState/color",property:"fill"},{path:"changedState/borderColor",property:"stroke"}],e["oj-rating-gauge-shape-sm"]={path:"_shapeSize/sm",property:"width"},e["oj-rating-gauge-shape-md"]={path:"_shapeSize/md",property:"width"},e["oj-rating-gauge-shape-lg"]={path:"_shapeSize/lg",property:"width"},e},_Render:function(){this.element.attr("title")?(this.options.shortDesc=this.element.attr("title"),this.element.data(this.element,"title",this.element.attr("title")),this.element.removeAttr("title")):this.element.data("title")&&(this.options.shortDesc=this.element.data("title")),this._super()},_SupportsOjLabel:function(){return this._IsCustomElement()},_GetTranslationsSectionName:function(){return"oj-ojRatingGauge"},_ProcessStyles:function(e){var t=e;this._super(t);var r={small:"sm",medium:"md",large:"lg"}[t.size]||t.size;if("fit"!==r){var a=parseInt(t._shapeSize[r],10),s="horizontal"===t.orientation;t._width=s?a*t.max:a,t._height=s?a:a*t.max,this._width=t._width,this._height=t._height}},_ProcessOptions:function(){this._super(),"fit"===this.options.size?this.element.addClass(d):this.element.removeClass(d)},_UserOptionChange:function(e,t){this._superApply(arguments),"value"===e&&this._UserOptionChange("changed",!0)}}),t.__registerWidget("oj.ojStatusMeterGauge",a.oj.dvtBaseGauge,{widgetEventPrefix:"oj",options:{angleExtent:360,animationOnDataChange:"none",animationOnDisplay:"none",animationDuration:void 0,borderColor:"",borderRadius:"auto",center:{renderer:null},color:"#393737",indicatorSize:1,innerRadius:.7,label:{position:"auto",style:{},text:""},labelledBy:null,describedBy:null,max:100,metricLabel:{converter:null,position:"auto",rendered:"auto",scaling:"auto",style:{},text:"",textType:"number"},min:0,orientation:"horizontal",size:"fit",plotArea:{borderColor:void 0,borderRadius:"auto",color:void 0,rendered:"auto",svgClassName:"",svgStyle:{}},rawValue:null,readonly:!1,referenceLines:[],startAngle:90,step:null,svgClassName:"",svgStyle:{},tooltip:{renderer:null},thresholdDisplay:"onIndicator",thresholds:[],value:null,visualEffects:"auto"},_GetTranslationsSectionName:function(){return"oj-ojStatusMeterGauge"},_CreateDvtComponent:function(e,t,r){return this._focusable({element:this.element,applyHighlight:!0}),new l.StatusMeterGauge(e,t,r)},_ConvertSubIdToLocator:function(e){var t={};return"tooltip"===e&&(t.subId="oj-statusmetergauge-tooltip"),t},_GetComponentStyleClasses:function(){var e=this._super();return e.push("oj-statusmetergauge"),e.push(this._sizeClass),e},_GetSizeClass:function(){return`oj-statusmetergauge-${this.options.orientation}-${this.options.size}`},_GetComponentRendererOptions:function(){return[{path:"tooltip/renderer",slot:"tooltipTemplate"},{path:"center/renderer",slot:"centerTemplate"}]},_SupportsOjLabel:function(){return this._IsCustomElement()},_ProcessOptions:function(){this._super();var e=this.options.center;e&&e._renderer&&(e.renderer=this._GetTemplateRenderer(e._renderer,"center"))},_GetChildStyleClasses:function(){var e=this._super();return e["oj-dvtbase oj-statusmetergauge"]={path:"animationDuration",property:"ANIM_DUR"},e["oj-statusmeter-gauge-plotarea"]=[{path:"plotArea/borderColor",property:"border-color"},{path:"plotArea/color",property:"color"}],e},_Render:function(){this.element.attr("title")?(this.options.shortDesc=this.element.attr("title"),this.element.data(this.element,"title",this.element.attr("title")),this.element.removeAttr("title")):this.element.data("title")&&(this.options.shortDesc=this.element.data("title")),this._super()},getMetricLabel:function(){return this._component.getAutomation().getMetricLabel()}})});
//# sourceMappingURL=ojgauge.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojvalidator-numberrange',["ojs/ojcore","ojs/ojtranslation","ojs/ojvalidator","ojs/ojvalidation-error","ojs/ojconverterutils"],function(e,a,t,r,n){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;const l=function(e){this.Init(e)};return e.Object.createSubclass(l,t,"oj.NumberRangeValidator"),l.prototype.Init=function(e){l.superclass.Init.call(this),e&&(this._min=e.min,this._max=e.max,this._converter=n.getConverterInstance(e.converter),this._hint=e.hint||{},this._customMessageSummary=e.messageSummary||{},this._customMessageDetail=e.messageDetail||{})},l.prototype.validate=function(e){var t=e?e.toString():e,n=parseFloat(t),l=this._customMessageSummary,i=this._customMessageDetail,o=i.rangeOverflow,s=i.rangeUnderflow,m=i.exact,u=l.rangeOverflow,g=l.rangeUnderflow,d=void 0!==this._min?parseFloat(this._min):null,v=void 0!==this._max?parseFloat(this._max):null,c="",h="",p=null,f=a;if(null!==e){if(null!==d&&null!==v){if(n>=d&&n<=v||d>v)return}else if(null!==d){if(n>=d)return}else if(null===v||n<=v)return;var j=function(a,t){return null!==v&&null!==d&&d===v?(p={value:e,num:t},h=m?f.applyParameters(m,p):f.getTranslatedString("oj-validator.range.number.messageDetail.exact",p),n>v?c=u||f.getTranslatedString("oj-validator.range.number.messageSummary.rangeOverflow"):n<d&&(c=u?g:f.getTranslatedString("oj-validator.range.number.messageSummary.rangeUnderflow"))):null!==v&&n>v?(p={value:e,max:t},c=u||f.getTranslatedString("oj-validator.range.number.messageSummary.rangeOverflow"),h=o?f.applyParameters(o,p):f.getTranslatedString("oj-validator.range.number.messageDetail.rangeOverflow",p)):(p={value:e,min:a},c=g||f.getTranslatedString("oj-validator.range.number.messageSummary.rangeUnderflow"),h=s?f.applyParameters(s,p):f.getTranslatedString("oj-validator.range.number.messageDetail.rangeUnderflow",p)),[c,h]}(d&&this._converter?this._converter.format(d):d,v&&this._converter?this._converter.format(v):v);throw new r.ValidatorError(j[0],j[1])}},l.prototype.getHint=function(){var e=this._hint,t=e.inRange,r=e.exact,n=e.min,l=e.max,i=a,o=void 0!==this._min?parseFloat(this._min):null,s=void 0!==this._max?parseFloat(this._max):null;return function(e,a){var m=null;return null!==o&&null!==s?m=o!==s?t?i.applyParameters(t,{min:e,max:a}):i.getTranslatedString("oj-validator.range.number.hint.inRange",{min:e,max:a}):r?i.applyParameters(r,{num:e}):i.getTranslatedString("oj-validator.range.number.hint.exact",{num:e}):null!==o?m=n?i.applyParameters(n,{min:e}):i.getTranslatedString("oj-validator.range.number.hint.min",{min:e}):null!==s&&(m=l?i.applyParameters(l,{max:a}):i.getTranslatedString("oj-validator.range.number.hint.max",{max:a})),m}(o&&this._converter?this._converter.format(o):o,s&&this._converter?this._converter.format(s):s)},l});
//# sourceMappingURL=ojvalidator-numberrange.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojinputnumber',["ojs/ojcore-base","jquery","ojs/ojcontext","ojs/ojbutton","ojs/ojeditablevalue","ojs/ojcomponentcore","ojs/ojdomutils","ojs/ojthemeutils","ojs/ojlogger","ojs/ojvalidator-numberrange","ojs/ojconverter-number"],function(t,e,n,i,s,r,a,o,u,l,p){"use strict";var d,h;function c(){return new p.IntlNumberConverter(null)}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,l=l&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l,(d={properties:{asyncValidators:{type:"Array<Object>",value:[]},autocomplete:{type:"string",value:"on",extension:{_COPY_TO_INNER_ELEM:!0}},autofocus:{type:"boolean",value:!1,extension:{_COPY_TO_INNER_ELEM:!0}},converter:{type:"object"},describedBy:{type:"string"},disabled:{type:"boolean",value:!1},displayOptions:{type:"object",properties:{converterHint:{type:"Array<string>|string"},helpInstruction:{type:"Array<string>|string",value:["notewindow"]},messages:{type:"Array<string>|string"},validatorHint:{type:"Array<string>|string"}}},help:{type:"object",properties:{instruction:{type:"string",value:""}}},helpHints:{type:"object",properties:{definition:{type:"string",value:""},source:{type:"string",value:""}}},labelEdge:{type:"string",enumValues:["inside","none","provided"]},labelHint:{type:"string",value:""},labelledBy:{type:"string"},max:{type:"number"},messagesCustom:{type:"Array<Object>",writeback:!0,value:[]},min:{type:"number"},name:{type:"string",value:"",extension:{_COPY_TO_INNER_ELEM:!0}},placeholder:{type:"string",value:""},rawValue:{type:"string",writeback:!0,readOnly:!0},readonly:{type:"boolean",value:!1},required:{type:"boolean",value:!1},step:{type:"number"},transientValue:{type:"number",writeback:!0,readOnly:!0},translations:{type:"object",value:{},properties:{numberRange:{type:"object",properties:{hint:{type:"object",properties:{exact:{type:"string"},inRange:{type:"string"},max:{type:"string"},min:{type:"string"}}},messageDetail:{type:"object",properties:{exact:{type:"string"},rangeOverflow:{type:"string"},rangeUnderflow:{type:"string"}}},messageSummary:{type:"object",properties:{rangeOverflow:{type:"string"},rangeUnderflow:{type:"string"}}}}},required:{type:"object",properties:{hint:{type:"string"},messageDetail:{type:"string"},messageSummary:{type:"string"}}},tooltipDecrement:{type:"string"},tooltipIncrement:{type:"string"}}},userAssistanceDensity:{type:"string",enumValues:["compact","efficient","reflow"],value:"reflow"},valid:{type:"string",writeback:!0,enumValues:["invalidHidden","invalidShown","pending","valid"],readOnly:!0},validators:{type:"Array<Object>",value:[]},value:{type:"number",writeback:!0},virtualKeyboard:{type:"string",enumValues:["auto","number","text"],value:"auto"}},methods:{getProperty:{},refresh:{},reset:{},setProperties:{},setProperty:{},showMessages:{},stepDown:{},stepUp:{},validate:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAnimateEnd:{},ojAnimateStart:{}},extension:{}}).extension._WIDGET_NAME="ojInputNumber",d.extension._ALIASED_PROPS={readonly:"readOnly"},d.extension._INNER_ELEM="input",d.extension._GLOBAL_TRANSFER_ATTRS=["accesskey","aria-label","tabindex"],t.CustomElementBridge.register("oj-input-number",{metadata:t.CollectionUtils.mergeDeep(d,{properties:{readonly:{binding:{consume:{name:"readonly"}}},userAssistanceDensity:{binding:{consume:{name:"userAssistanceDensity"}}},labelEdge:{binding:{consume:{name:"labelEdge"}}}}})}),t.__registerWidget("oj.ojInputNumber",e.oj.editableValue,{version:"1.0.0",defaultElement:"<input>",widgetEventPrefix:"oj",_ALLOWED_TYPES:["number","text"],options:{asyncValidators:[],autocomplete:void 0,autofocus:!1,converter:null,labelledBy:null,max:null,min:null,name:"",placeholder:"",rawValue:void 0,readOnly:!1,required:!1,step:1,transientValue:null,validators:[],value:null,virtualKeyboard:"auto"},getNodeBySubId:function(t){var e,n=this._superApply(arguments);return n||("oj-inputnumber-up"===(e=t.subId)&&(n=this.widget()[0].querySelector(".oj-inputnumber-up")),"oj-inputnumber-down"===e&&(n=this.widget()[0].querySelector(".oj-inputnumber-down")),"oj-inputnumber-input"===e&&(n=this.widget()[0].querySelector(".oj-inputnumber-input"))),n||null},getSubIdByNode:function(t){var e=null;return null!=t&&(t===this.widget()[0].querySelector(".oj-inputnumber-up")?e={subId:"oj-inputnumber-up"}:t===this.widget()[0].querySelector(".oj-inputnumber-down")?e={subId:"oj-inputnumber-down"}:t===this.widget()[0].querySelector(".oj-inputnumber-input")&&(e={subId:"oj-inputnumber-input"})),e||this._superApply(arguments)},refresh:function(){this._super(),this._setup()},stepDown:function(t){var e=this.options.step;if(0!==e){var n=(null!=t?t:1)*e*-1;this._step(n)}},stepUp:function(t){var e=this.options.step;if(0!==e){var n=(null!=t?t:1)*e;this._step(n)}},widget:function(){return e(this.uiInputNumber)},_InitOptions:function(t,e){var n=this.options,i=this;if(this._superApply(arguments),this._IsCustomElement()||s.EditableValueUtils.initializeOptionsFromDom([{attribute:"disabled",validateOption:!0},{attribute:"placeholder"},{attribute:"value"},{attribute:"readonly",option:"readOnly",validateOption:!0},{attribute:"required",coerceDomValue:!0,validateOption:!0},{attribute:"title"},{attribute:"min"},{attribute:"max"},{attribute:"step"}],e,this,function(t){for(var e=["value","step","min","max"],s=0;s<e.length;s++){var r=e[s],a=r in t?t[r]:n[r];null!=a&&(t[r]="step"===r?i._parseStep(a):i._parse(r,a))}}),this._IsCustomElement()&&i._parseStep(n.step),this.initialValue=n.value,null!=n.min&&null!=n.max&&n.max<n.min)throw new Error("ojInputNumber's max must not be less than min")},_ComponentCreate:function(){this._super(),this._draw(),this._inputNumberDefaultValidators={},this._setup(),this._registerEvents(),this._focusable({element:e(this.uiInputNumber),applyHighlight:!0})},_AfterCreate:function(){if(this._super(),this.option({transientValue:this.options.value},{_context:{writeback:!0,internalSet:!0,readOnly:!0}}),this._refreshAriaMinMax(),this.stepQueue=[],this._blurEnterSetValueCounter=0,this._IsCustomElement()){let t=this.options.labelledBy;this._initInputIdLabelForConnection(this._GetContentElement()[0],this.widget()[0].id,t)}this.options.readOnly&&this._createOrUpdateReadonlyDiv(this.element[0])},_AfterSetOption:function(t,e,n){switch(this._superApply(arguments),t){case"min":case"max":this._Refresh(t,this.options[t]);break;case"readOnly":this._AfterSetOptionDisabledReadOnly(t,s.EditableValueUtils.readOnlyOptionOptions);break;case"required":this._AfterSetOptionRequired(t);break;case"validators":this._AfterSetOptionValidators(t);break;case"asyncValidators":this._AfterSetOptionAsyncValidators(t);break;case"converter":this._AfterSetOptionConverter(t);break;case"virtualKeyboard":this._SetInputType(this._ALLOWED_TYPES)}},_CanSetValue:function(){return!!this._super()&&!this.options.readOnly},_AfterSetOptionValue:function(t,e){this._superApply(arguments);var n,i,s=e?e._context:null;s&&(n=!!s.originalEvent,i=s.doNotClearMessages||!1),n||i||(this.initialValue=this.options.value)},_SetDisplayValue:function(t){if(this._superApply(arguments),this.options.readOnly){let e=this._getReadonlyDiv();e&&(e.textContent=t)}},_IsRequired:function(){return this.options.required},_AfterSetOptionRequired:s.EditableValueUtils._AfterSetOptionRequired,_AfterSetOptionValidators:s.EditableValueUtils._AfterSetOptionValidators,_AfterSetOptionAsyncValidators:s.EditableValueUtils._AfterSetOptionAsyncValidators,_AfterSetOptionConverter:s.EditableValueUtils._AfterSetOptionConverter,_ResetConverter:s.EditableValueUtils._ResetConverter,_ResetAllValidators:function(){this._inputNumberDefaultValidators={},this._superApply(arguments)},_GetConverter:function(){return this.options.converter?this._getConverter():c()},_GetNormalizedValidatorsFromOption:s.EditableValueUtils._GetNormalizedValidatorsFromOption,_GetNormalizedAsyncValidatorsFromOption:s.EditableValueUtils._GetNormalizedAsyncValidatorsFromOption,_AriaRequiredUnsupported:function(){return!1},_setOption:function(t,e,n){var i;if(this._IsCustomElement()||"value"!==t&&"max"!==t&&"min"!==t)if("step"===t)i=this._parseStep(e);else{if("transientValue"===t)return void u.error(t+" option cannot be set");i=e}else i=this._parse(t,e);if(this._super(t,i,n),"value"===t&&this.option({transientValue:this.options.value},{_context:{writeback:!0,internalSet:!0,readOnly:!0}}),"max"!==t&&"min"!==t||this._AfterSetOptionValidators(),"disabled"===t&&(this.element[0].disabled=!!e),"readOnly"===t&&(this._createOrDestroyOjButtonset(),this.element[0].readOnly=!!e,e&&this._createOrUpdateReadonlyDiv(this.element[0]),this._refreshStateTheming("readOnly",this.options.readOnly)),"step"===t&&this._createOrDestroyOjButtonset(),"labelledBy"===t){let t=this.options.labelledBy;if(t){var s=this._GetContentElement()[0].id;this._labelledByUpdatedForInputComp(t,s)}}},_destroy:function(){var t=this._super();return this.buttonSet&&this._destroyOjButtonset(),this.initialValue=null,this.element.off("blur keydown keyup compositionstart compositionend input"),a.unwrap(this.element,e(this.uiInputNumber)),clearTimeout(this.timer),t},validate:s.EditableValueUtils.validate,_Refresh:function(t,e,n){var i;switch(this._superApply(arguments),t){case"value":i=this.options.value||0,this._updateButtonsAria(i);break;case"disabled":i=this.options.value||0,this._updateButtons(i);break;case"max":case"min":this._refreshAriaMinMax(),i=this._getDisplayValueParsed(),this._updateButtons(i);break;case"converter":i=this.options.value,this._refreshAriaText(i);break;case"required":this._refreshRequired(e)}},_labelledByUpdatedForInputComp:s.EditableValueUtils._labelledByUpdatedForInputComp,_initInputIdLabelForConnection:s.EditableValueUtils._initInputIdLabelForConnection,_linkLabelForInputComp:s.EditableValueUtils._linkLabelForInputComp,_refreshRequired:s.EditableValueUtils._refreshRequired,_GetImplicitValidators:function(){var t=this._superApply(arguments);return null==this.options.min&&null==this.options.max||(this._inputNumberDefaultValidators.numberrange=this._getImplicitNumberRangeValidator()),Object.assign(this._inputNumberDefaultValidators,t)},_GetDefaultStyleClass:function(){return"oj-inputnumber"},_SetLoading:function(){this._super(),this.element[0].readOnly=!0,this._refreshRoleSpinbutton(!1)},_ClearLoading:function(){this._super();var t=this.options.readOnly;this.element[0].readOnly=t},_IsTextFieldComponent:function(){return!0},_GetContentWrapper:function(){if(this._IsCustomElement())return this._getRootElement().querySelector(".oj-text-field-middle")},_GetAriaLabelElement:function(){return this.element[0]},_BUNDLE_KEY:{_TOOLTIP_DECREMENT:"tooltipDecrement",_TOOLTIP_INCREMENT:"tooltipIncrement"},_OPTION_TO_CSS_MAPPING:{readOnly:"oj-read-only"},_getImplicitNumberRangeValidator:function(){var t=this._createRangeValidatorOptions();return new l(t)},_setup:function(){var t=this._needsButtonset();if(t){var e=this.getTranslatedString(this._BUNDLE_KEY._TOOLTIP_INCREMENT),n=this.getTranslatedString(this._BUNDLE_KEY._TOOLTIP_DECREMENT);this.upButton.ojButton({label:e}),this.downButton.ojButton({label:n})}"boolean"==typeof this.options.readOnly&&(this.element[0].readOnly=this.options.readOnly),this._refreshStateTheming("readOnly",this.options.readOnly),this._refreshRoleSpinbutton(t),this._refreshRequired(this.options.required)},_markInternalComponents:function(){this.upButton[0].setAttribute("data-oj-internal",""),this.downButton[0].setAttribute("data-oj-internal",""),this.buttonSet[0].setAttribute("data-oj-internal","")},_createOjButtonset:function(){var t=this._createButtonset();this.inputNumberWrapper.appendChild(t.buttonSet);for(var n=this.uiInputNumber.querySelectorAll(".oj-inputnumber-button"),i=n.length,s=0;s<i;s++)n[s].setAttribute("tabindex","-1"),n[s].setAttribute("aria-hidden","true");const r=o.getCachedCSSVarValues(["--oj-private-input-number-button-global-chroming-default"])[0]||"solid";var a=t.upButton.parentNode;this.upButton=e(t.upButton).ojButton({display:"icons",chroming:r,label:this.getTranslatedString(this._BUNDLE_KEY._TOOLTIP_INCREMENT),icons:{start:"oj-component-icon oj-inputnumber-up-icon"}}),this.downButton=e(t.downButton).ojButton({display:"icons",chroming:r,label:this.getTranslatedString(this._BUNDLE_KEY._TOOLTIP_DECREMENT),icons:{start:"oj-component-icon oj-inputnumber-down-icon"}}),this.buttonSet=e(a).ojButtonset({focusManagement:"none",chroming:r}),this._markInternalComponents()},_destroyOjButtonset:function(){this.buttonSet.ojButtonset("destroy"),this.buttonSet.remove(),this.upButton=null,this.downButton=null,this.buttonSet=null},_createOrDestroyOjButtonset:function(){let t=this._needsButtonset();t&&null==this.buttonSet?(this._createOjButtonset(),this._updateButtons(this.options.value||0),this.uiInputNumber.classList.add("oj-has-buttons")):!t&&this.buttonSet&&(this._destroyOjButtonset(),this.uiInputNumber.classList.remove("oj-has-buttons")),this._refreshRoleSpinbutton(t)},_draw:function(){var t=this.element[0];t.classList.add("oj-inputnumber-input"),t.classList.add("oj-text-field-input");var e=document.createElement("span");e.className="oj-inputnumber-wrapper",this.inputNumberWrapper=e,this.uiInputNumber=e;var n=document.createElement("div");if(n.className="oj-text-field-container",n.setAttribute("role","presentation"),this.OuterWrapper){n.appendChild(e);var i=this._CreateMiddleWrapper();e.appendChild(i),i.appendChild(t),this.OuterWrapper.appendChild(n),this.uiInputNumber=this.OuterWrapper,this.uiInputNumber.classList.add("oj-inputnumber"),this.uiInputNumber.classList.add("oj-component")}else{var s=document.createElement("div");s.className="oj-inputnumber oj-component",t.parentNode.insertBefore(s,t),s.appendChild(n),n.appendChild(e),e.appendChild(t),this.uiInputNumber=s}this.saveType=t.type,this._SetInputType(this._ALLOWED_TYPES),this._needsButtonset()&&(this._createOjButtonset(),this.uiInputNumber.classList.add("oj-has-buttons"))},_needsButtonset:function(){return!0!==this.options.readOnly&&this.options.step>0},_createButtonset:function(){var t=document.createElement("div");t.className="oj-buttonset-width-auto";var e=document.createElement("button");e.setAttribute("type","button"),e.className="oj-inputnumber-button oj-inputnumber-down",t.appendChild(e);var n=document.createElement("button");return n.setAttribute("type","button"),n.className="oj-inputnumber-button oj-inputnumber-up",t.appendChild(n),{buttonSet:t,downButton:e,upButton:n}},_start:function(){return this.spinning=!0,!0},_repeat:function(e,n,i,s){var r,a=!1,o=this,u=this.options.step;n>0?this.upButton[0].classList.contains("oj-disabled")&&(a=!0):this.downButton[0].classList.contains("oj-disabled")&&(a=!0),e=e||500,clearTimeout(this.timer),this.timer=setTimeout(function(){a||o._repeat(40,n,i,!0)},e),s?(r=this.element[0],t.Context.getContext(r).getBusyContext().isReady()&&(this.stepQueue=[],this._spin(n*u,i,!0))):this._stepNoStartStop(n*u,i)},_spin:function(t,e,n){var i,s=this._GetDisplayValue()||0,r=this._ParseValueShowErrors(s);return void 0!==r?(i=this._adjustParsedValueOnSpinAndUpdateDisplay(r,t),this._valuePending=n,this._SetValue(i,e,{validationMode:this._VALIDATION_MODE.VALIDATORS_ONLY,targetOptions:n?["transientValue"]:["transientValue","value"]})):(this._updateButtonsAria(r),!1)},_adjustParsedValueOnSpinAndUpdateDisplay:function(t,e){var n,i,s=this.options,r=s.min,a=s.max,o=s.step,u=this.initialValue;return n=this._precision(r,o,u),i=this._adjustValue(t,e,r,a,o,n,u),this._CanSetValue()&&void 0!==this._UpdateElementDisplayValue(i,!0)&&this._updateButtonsAria(i),i},_precision:function(t,e,n){var i=this._precisionOf(e);return null!=t&&(i=Math.max(i,this._precisionOf(t))),null!=n&&(i=Math.max(i,this._precisionOf(n))),i},_precisionOf:function(t){var e=t.toString(),n=e.indexOf(".");return-1===n?0:e.length-n-1},_adjustValue:function(t,e,n,i,s,r,a){var o,l,p;if(r>0)return this._adjustValueForFractions(t,e,n,i,s,r,a);null==(l=null!=n?n:a)&&(l=0);try{t=parseFloat(t.toFixed(r))}catch(e){e instanceof TypeError&&(u.warn("inputNumber's value after conversion is not a number. \nThe converter must convert the value to a Number. coercing using +"),t=+t)}p=t-l;var d=Math.round(p/s)*s;if(o=(d=parseFloat(d.toFixed(r)))===p?t+e:l+(p=e<0?Math.ceil(p/s)*s:Math.floor(p/s)*s)+e,o=parseFloat(o.toFixed(r)),null!=n&&o<n)return n;if(null!=i&&o>i){var h=Math.floor((i-l)/s)*s+l;return h=parseFloat(h.toFixed(r))}return o},_adjustValueForFractions:function(e,n,i,s,r,a,o){t.Assert.assert(a>0);var u=Math.pow(10,a),l=null!=i?Math.round(i*u):i,p=null!=s?Math.round(s*u):s,d=Math.round(r*u);return this._adjustValue(Math.round(e*u),Math.round(n*u),l,p,d,0,Math.round(o*u))/u},_stop:function(t){if(this.spinning){if(this._valuePending){var e={originalEvent:t,internalSet:!0};this.option({value:this.options.transientValue},{_context:e}),this._valuePending=!1}clearTimeout(this.timer),this.spinning=!1}},_isRealMouseEvent:function(){return!a.recentTouchEnd()},_updateButtons:function(t){var e,n,i=this.options,s=i.max,r=i.min,a=this.downButton,o=this.upButton,u=null!=s,l=null!=r;(a||o)&&(e=a[0].classList.contains("oj-disabled"),n=o[0].classList.contains("oj-disabled"),i.disabled||void 0===t||u&&l&&s===r&&t===s?(e||a.ojButton("disable"),n||o.ojButton("disable")):u&&t>=s?(e&&a.ojButton("enable"),n||o.ojButton("disable")):l&&t<=r?(e||a.ojButton("disable"),n&&o.ojButton("enable")):(e&&a.ojButton("enable"),n&&o.ojButton("enable")))},_getConverter:s.EditableValueUtils._GetConverter,_createOrUpdateReadonlyDiv:s.EditableValueUtils._createOrUpdateReadonlyDiv,_getDisplayValueParsed:function(){var t,e;try{e=this._GetDisplayValue()||0,t=this._parseValue(e)}catch(e){t=void 0}return t},_blurEnterSetValue:function(t){var e,n,i,s=this.element.val(),r=this;this._stop(t),this.stepQueue=[],this._blurEnterSetValueCounter+=1,i=this._blurEnterSetValueCounter,this._valuePending=!1,(n=this._SetValue(s,t,{targetOptions:["transientValue","value"]}))instanceof Promise?n.then(function(t){i===r._blurEnterSetValueCounter&&(t||(e=r._getDisplayValueParsed(),r._updateButtonsAria(e)))}):(e=n?this.options.value:this._getDisplayValueParsed(),this._updateButtonsAria(e))},_updateButtonsAria:function(t){this._refreshAriaValueNowText(t),this._updateButtons(t)},_createRangeValidatorOptions:function(){var t,e,n,i,s,r,a,o,u,l=this.options,p=l.min,d=l.max,h=null!=p?p:void 0,c=null!=d?d:void 0,_=l.translations,m=_&&_.numberRange||{},b=m.hint||{},f=m.messageDetail||{},v=m.messageSummary||{};return null!==b&&(t=b.min||null,e=b.max||null,n=b.inRange||null,i=b.exact||null),null!==f&&(s=f.rangeOverflow||null,r=f.rangeUnderflow||null,a=f.exact||null),null!==v&&(o=v.rangeOverflow||null,u=v.rangeUnderflow||null),{min:h,max:c,hint:{min:t||null,max:e||null,inRange:n||null,exact:i||null},messageDetail:{rangeOverflow:s||null,rangeUnderflow:r||null,exact:a||null},messageSummary:{rangeOverflow:o||null,rangeUnderflow:u||null},converter:this._GetConverter()}},_parse:function(t,e){var n;if(n=null!==e?+e:e,isNaN(n))throw new Error("ojInputNumber's "+t+" option is not a number");return n},_parseStep:function(t){var e;if(null===t)return 1;if(""===t)throw new Error("Invalid step for ojInputNumber; step must be a number 0 or greater.");if((e=this._parse("step",t))<0)throw new Error("Invalid step for ojInputNumber; step must be 0 or greater.");return e},_refreshStateTheming:function(t,e){-1!==Object.keys(this._OPTION_TO_CSS_MAPPING).indexOf(t)&&(e?this.widget()[0].classList.add(this._OPTION_TO_CSS_MAPPING[t]):this.widget()[0].classList.remove(this._OPTION_TO_CSS_MAPPING[t]))},_refreshRoleSpinbutton:function(t){t?this.element[0].setAttribute("role","spinbutton"):this.element[0].removeAttribute("role")},_refreshAriaMinMax:function(){this._setAttr("aria-valuemin",this.options.min),this._setAttr("aria-valuemax",this.options.max)},_refreshAriaValueNowText:function(t){this._setAttr("aria-valuenow",t),this._refreshAriaText(t)},_refreshAriaText:function(t){var e=this.element.val();""===e||this._CompareOptionValues("value",""+t,e)?this._setAttr("aria-valuetext",null):this._setAttr("aria-valuetext",e)},_setAttr:function(t,e){void 0!==e&&(null===e?this.element[0].removeAttribute(t):this.element[0].setAttribute(t,e))},_stepNoStartStop:function(t,e){var n,i,s,r,a=this;if(void 0===t){if(0===this.stepQueue.length)return;i=(n=this.stepQueue.shift()).step,s=n.event}else{if(this.stepQueue.length>=1)return void this.stepQueue.push({step:t,event:e});i=t,s=e}(r=this._spin(i,s,!1))instanceof Promise&&(this.stepQueue.push({step:i,event:s}),r.then(function(){a.stepQueue.shift(),a._stepNoStartStop(void 0,s)}))},_step:function(t,e){this._start(),this._stepNoStartStop(t,e),this._stop(e)},_SetInputType:s.EditableValueUtils._SetInputType,_regularEventsAndListeners:{compositionstart:function(){this._isComposing=!0},compositionend:function(t){this._isComposing=!1,this._SetRawValue(this.element.val(),t)},input:function(t){this._isComposing||this._SetRawValue(this.element.val(),t)},keydown:function(t){var n=e.ui.keyCode;switch(t.keyCode){case n.ENTER:this._blurEnterSetValue(t),t.preventDefault();break;case n.UP:this._needsButtonset()&&(this.spinning||(this._start(),this._repeat(null,1,t))),t.preventDefault();break;case n.DOWN:this._needsButtonset()&&(this.spinning||(this._start(),this._repeat(null,-1,t))),t.preventDefault()}},keyup:function(t){var n=e.ui.keyCode;switch(t.keyCode){case n.UP:case n.DOWN:}this._stop(t)},blur:function(t){this._blurEnterSetValue(t)},"touchend .oj-inputnumber-button":function(t){this._stop(t)},"touchcancel .oj-inputnumber-button":function(t){this._stop(t)},"mousedown .oj-inputnumber-button.oj-enabled":function(t){this._isRealMouseEvent(t)&&(this._start(),this._repeat(null,t.currentTarget.classList.contains("oj-inputnumber-up")?1:-1,t))},"mouseup .oj-inputnumber-button":function(t){this._isRealMouseEvent(t)&&this._stop(t)},"mouseenter .oj-inputnumber-button.oj-enabled":function(t){t.currentTarget.classList.contains("oj-active")&&this._isRealMouseEvent(t)&&(this._start(),this._repeat(null,t.currentTarget.classList.contains("oj-inputnumber-up")?1:-1,t))},"mouseleave .oj-inputnumber-button":function(t){this._isRealMouseEvent(t)&&this._stop(t)}},_passiveEventsAndListeners:{"touchstart .oj-inputnumber-button.oj-enabled":function(t){this._start(),this._repeat(null,t.currentTarget.classList.contains("oj-inputnumber-up")?1:-1,t)}},_registerEvents:function(){this._on(this._regularEventsAndListeners),this._on(this._passiveEventsAndListeners)}}),r.setDefaultOptions({ojInputNumber:{step:r.createDynamicPropertyGetter(function(){return o.getCachedCSSVarValues(["--oj-private-input-number-global-step-default"])[0]}),converter:r.createDynamicPropertyGetter(function(){return null==h&&(h=c()),h})}})});
//# sourceMappingURL=ojinputnumber.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojoptgroup',["ojs/ojcore-base","ojs/ojcomponentcore"],function(e,t){"use strict";function o(e){this.updateDOM=function(){var t=e.element.customOptgroupRenderer;t&&"function"==typeof t&&t(e.element)}}var r;e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,(r={properties:{disabled:{type:"boolean",value:!1},label:{type:"string"}},methods:{getProperty:{},refresh:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},extension:{}}).properties.customOptgroupRenderer={},r.extension._CONSTRUCTOR=o,e.CustomElementBridge.register("oj-optgroup",{metadata:r})});
//# sourceMappingURL=ojoptgroup.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojhighlighttext',["exports","preact/jsx-runtime","preact","ojs/ojvcomponent"],function(e,t,i,r){"use strict";var h=function(e,t,i,r){var h,s=arguments.length,n=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,r);else for(var c=e.length-1;c>=0;c--)(h=e[c])&&(n=(s<3?h(n):s>3?h(t,i,n):h(t,i))||n);return s>3&&n&&Object.defineProperty(t,i,n),n};e.HighlightText=class extends i.Component{constructor(){super(...arguments),this._HIGHLIGHT_TOKEN="__@@__"}render(e){const i=this._highlighter(e.text,e.matchText);return t.jsx(r.Root,{class:"oj-highlighttext",children:i})}_highlighter(e,i){if(i){const r=this._escapeRegExp(i),h=e.replace(new RegExp(r,"gi"),this._HIGHLIGHT_TOKEN+"$&"+this._HIGHLIGHT_TOKEN).split(this._HIGHLIGHT_TOKEN).map((e,i)=>i%2==0?e:t.jsx("span",{class:"oj-highlighttext-highlighter",children:e}));return t.jsx("span",{children:h})}return t.jsx("span",{children:e})}_escapeRegExp(e){return e.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")}},e.HighlightText.defaultProps={text:"",matchText:""},e.HighlightText._metadata={properties:{text:{type:"string"},matchText:{type:"string"}}},e.HighlightText=h([r.customElement("oj-highlight-text")],e.HighlightText),Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojhighlighttext.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojprogress-circle',["exports","preact/jsx-runtime","ojs/ojvcomponent","preact","ojs/ojtranslation"],function(e,r,t,s,a){"use strict";var l=function(e,r,t,s){var a,l=arguments.length,n=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,r,t,s);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(n=(l<3?a(n):l>3?a(r,t,n):a(r,t))||n);return l>3&&n&&Object.defineProperty(r,t,n),n};e.ProgressCircle=class extends s.Component{render(e){return-1===e.value?this._renderIndeterminateCircle(e):this._renderDeterminateCircle(e)}_renderIndeterminateCircle(e){return r.jsx(t.Root,{class:"oj-progress-circle oj-progress-circle-"+e.size,role:"progressbar","aria-valuetext":a.getTranslatedString("oj-ojProgressbar.ariaIndeterminateProgressText"),children:r.jsx("div",{class:"oj-progress-circle-indeterminate",children:r.jsx("div",{class:"oj-progress-circle-indeterminate-inner"})})})}_renderDeterminateCircle(e){let s=e.max,a=e.value;s<0&&(s=0),a<0&&-1!==a&&(a=0);const l=0===s?0:a>s?1:a/s,n=this._getClipPath(l);return r.jsxs(t.Root,{class:"oj-progress-circle oj-progress-circle-"+e.size,role:"progressbar","aria-valuemin":0,"aria-valuemax":s,"aria-valuenow":a,children:[r.jsx("div",{class:"oj-progress-circle-tracker"}),r.jsx("div",{class:"oj-progress-circle-value",style:{clipPath:n}})]})}_getClipPath(e){let r;return e<.125?(r=this._calculateTangent(e)+50,`polygon(50% 0, ${r}% 0, 50% 50%)`):e<.375?(r=e<.25?50-this._calculateTangent(.25-e):this._calculateTangent(e-.25)+50,`polygon(50% 0, 100% 0, 100% ${r}%, 50% 50%)`):e<.625?(r=e<.5?50+this._calculateTangent(.5-e):50-this._calculateTangent(e-.5),`polygon(50% 0, 100% 0, 100% 100%, ${r}% 100%, 50% 50%)`):e<.875?(r=e<.75?50+this._calculateTangent(.75-e):50-this._calculateTangent(e-.75),`polygon(50% 0, 100% 0, 100% 100%, 0% 100%, 0% ${r}%, 50% 50%)`):(r=50-this._calculateTangent(1-e),`polygon(50% 0, 100% 0, 100% 100%, 0% 100%, 0% 0%, ${r}% 0%, 50% 50%)`)}_calculateTangent(e){return 50*Math.tan(2*e*Math.PI)}},e.ProgressCircle.defaultProps={max:100,value:0,size:"md"},e.ProgressCircle._metadata={properties:{max:{type:"number"},value:{type:"number"},size:{type:"string",enumValues:["sm","md","lg"]}}},e.ProgressCircle=l([t.customElement("oj-progress-circle")],e.ProgressCircle),Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojprogress-circle.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojlistdataproviderview',["ojs/ojcore-base","ojs/ojdataprovider","ojs/ojeventtarget"],function(t,e,s){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;
/**
     * @preserve Copyright 2013 jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */
class i{constructor(t,s){var r;this.dataProvider=t,this.options=s,this._noFilterSupport=!1,this.AsyncIterable=(r=class{constructor(t,e){this._parent=t,this._asyncIterator=e,this[Symbol.asyncIterator]=()=>this._asyncIterator}},Symbol.asyncIterator,r),this.AsyncIterator=class{constructor(t,e,s){this._parent=t,this._nextFunc=e,this._params=s}next(){const t=this._params?.signal;if(t&&t.aborted){const e=t.reason;return Promise.reject(new DOMException(e,"AbortError"))}return new Promise((e,s)=>{if(t){const e=t.reason;t.addEventListener("abort",t=>s(new DOMException(e,"AbortError")))}return e(this._nextFunc(this._params))})}},this.AsyncIteratorYieldResult=class{constructor(t,e){this._parent=t,this.value=e,this[i._VALUE]=e,this[i._DONE]=!1}},this.AsyncIteratorReturnResult=class{constructor(t,e){this._parent=t,this.value=e,this[i._VALUE]=e,this[i._DONE]=!0}},this.FetchListResult=class{constructor(t,e,s,r,n){this._parent=t,this.fetchParameters=e,this.data=s,this.metadata=r,this.totalFilteredRowCount=n,this[i._FETCHPARAMETERS]=e,this[i._DATA]=s,this[i._METADATA]=r,e&&"enabled"===e.includeFilteredRowCount&&(this[i._TOTALFILTEREDROWCOUNR]=n)}},this.Item=class{constructor(t,e,s){this._parent=t,this.metadata=e,this.data=s,this[i._METADATA]=e,this[i._DATA]=s}},this.ItemMetadata=class{constructor(t,e){this._parent=t,this.key=e,this[i._KEY]=e}},this.FetchListParameters=class{constructor(t,e,s,r,n,h,a){this._parent=t,this.params=e,this.size=s,this.sortCriteria=r,this.filterCriterion=n,this.attributes=h,this.signal=a,e&&Object.keys(e).forEach(t=>{this[t]=e[t]}),this[i._SIZE]=s,r&&(this[i._SORTCRITERIA]=r),n&&(this[i._FILTERCRITERION]=n),h&&(this[i._FETCHATTRIBUTES]=h),a&&(this[i._SIGNAL]=a)}},this.FetchByKeysParameters=class{constructor(t,e,s,r){this._parent=t,this.keys=e,this.params=s,this.attributes=r,s&&Object.keys(s).forEach(t=>{this[t]=s[t]}),e&&(this[i._KEYS]=e),r&&(this[i._FETCHATTRIBUTES]=r)}},this.FetchByOffsetParameters=class{constructor(t,e,s,r,n,h,a,_){this._parent=t,this.offset=e,this.params=s,this.size=r,this.sortCriteria=n,this.filterCriterion=h,this.attributes=a,this.signal=_,s&&Object.keys(s).forEach(t=>{this[t]=s[t]}),r&&(this[i._SIZE]=r),n&&(this[i._SORTCRITERIA]=n),e&&(this[i._OFFSET]=e),h&&(this[i._FILTERCRITERION]=h),a&&(this[i._FETCHATTRIBUTES]=a),_&&(this[i._SIGNAL]=_)}},this.FetchByKeysResults=class{constructor(t,e,s){this._parent=t,this.fetchParameters=e,this.results=s,this[i._FETCHPARAMETERS]=e,this[i._RESULTS]=s}},this.ContainsKeysResults=class{constructor(t,e,s){this._parent=t,this.containsParameters=e,this.results=s,this[i._CONTAINSPARAMETERS]=e,this[i._RESULTS]=s}},this.FetchByOffsetResults=class{constructor(t,e,s,r,n){this._parent=t,this.fetchParameters=e,this.results=s,this.done=r,this.totalFilteredRowCount=n,this[i._FETCHPARAMETERS]=e,this[i._RESULTS]=s,this[i._DONE]=r,e&&"enabled"===e.includeFilteredRowCount&&(this[i._TOTALFILTEREDROWCOUNR]=n)}},this[i._INTERNAL_FROM]=null==this.options?null:this.options[i._FROM],this[i._INTERNAL_OFFSET]=null==this.options?0:this.options[i._OFFSET]>0?this.options[i._OFFSET]:0,this[i._INTERNAL_SORTCRITERIA]=null==this.options?null:this.options[i._SORTCRITERIA],this[i._INTERNAL_DATAMAPPING]=null==this.options?null:this.options[i._DATAMAPPING],this[i._INTERNAL_FETCHATTRIBUTES]=null==this.options?null:this.options[i._FETCHATTRIBUTES],this[i._INTERNAL_FILTERCRITERION]=null==this.options?null:this.options[i._FILTERCRITERION],this._addEventListeners(t),t.getCapability&&!t.getCapability("filter")&&(this._noFilterSupport=!0),Object.defineProperty(this,"from",{set(t){this[i._INTERNAL_FROM]=t,this.dispatchEvent(new e.DataProviderRefreshEvent)},get(){return this[i._INTERNAL_FROM]},enumerable:!0}),Object.defineProperty(this,"offset",{set(t){this[i._INTERNAL_OFFSET]=t,this.dispatchEvent(new e.DataProviderRefreshEvent)},get(){return this[i._INTERNAL_OFFSET]},enumerable:!0}),Object.defineProperty(this,"sortCriteria",{set(t){this[i._INTERNAL_SORTCRITERIA]=t,this.dispatchEvent(new e.DataProviderRefreshEvent)},get(){return this[i._INTERNAL_SORTCRITERIA]},enumerable:!0}),Object.defineProperty(this,"dataMapping",{set(t){this[i._INTERNAL_DATAMAPPING]=t,this.dispatchEvent(new e.DataProviderRefreshEvent)},get(){return this[i._INTERNAL_DATAMAPPING]},enumerable:!0}),Object.defineProperty(this,"attributes",{set(t){this[i._INTERNAL_FETCHATTRIBUTES]=t,this.dispatchEvent(new e.DataProviderRefreshEvent)},get(){return this[i._INTERNAL_FETCHATTRIBUTES]},enumerable:!0}),Object.defineProperty(this,"filterCriterion",{set(t){this[i._INTERNAL_FILTERCRITERION]=t,this.dispatchEvent(new e.DataProviderRefreshEvent)},get(){return this[i._INTERNAL_FILTERCRITERION]},enumerable:!0})}containsKeys(t){return this.dataProvider[i._CONTAINSKEYS]?this.dataProvider[i._CONTAINSKEYS](t):this.fetchByKeys(t).then(e=>{const s=new Set;return t[i._KEYS].forEach(t=>{null!=e[i._RESULTS].get(t)&&s.add(t)}),Promise.resolve(new this.ContainsKeysResults(this,t,s))})}fetchByKeys(t){const e=null!=t?t[i._KEYS]:null;let s=null!=t?t[i._FETCHATTRIBUTES]:null;null==s&&(s=this[i._INTERNAL_FETCHATTRIBUTES]);const r=t?.signal;if(r&&r.aborted){const t=r.reason;return Promise.reject(new DOMException(t,"AbortError"))}return new Promise((n,h)=>{if(r){const t=r.reason;r.addEventListener("abort",e=>h(new DOMException(t,"AbortError")))}const a=new this.FetchByKeysParameters(this,e,t,s);if(this.dataProvider[i._FETCHBYKEYS])return n(this.dataProvider[i._FETCHBYKEYS](a).then(t=>{const e=t[i._RESULTS],s=new Map;return e.forEach((t,e)=>{const i=this._getMappedItems([t]);s.set(e,i[0])}),new this.FetchByKeysResults(this,a,s)}));{const e=new this.FetchListParameters(this,null,i._DEFAULT_SIZE,null,null,s),r=new Map,h=this.dataProvider[i._FETCHFIRST](e)[Symbol.asyncIterator]();return n(this._fetchNextSet(t,h,r).then(t=>{const e=new Map;return t.forEach((t,s)=>{const i=this._getMappedItems([t]);e.set(s,i[0])}),new this.FetchByKeysResults(this,a,e)}))}})}fetchByOffset(t){const e=null!=t?t[i._OFFSET]:null,s=null!=t?t[i._SIZE]:null;let r=null!=t?t[i._FETCHATTRIBUTES]:null;null==r&&(r=this[i._INTERNAL_FETCHATTRIBUTES]);let n=null!=t?t[i._SORTCRITERIA]:null;null==n&&(n=this[i._INTERNAL_SORTCRITERIA]);const h=this._getMappedSortCriteria(n),a=this._combineFilters(t),_=t?.signal;if(_&&_.aborted){const t=_.reason;return Promise.reject(new DOMException(t,"AbortError"))}return new Promise((n,E)=>{if(_){const t=_.reason;_.addEventListener("abort",e=>E(new DOMException(t,"AbortError")))}const l=this._getMappedFilterCriterion(a),T=new this.FetchByOffsetParameters(this,e,t,s,h,l,r);return n(this.dataProvider[i._FETCHBYOFFSET](T).then(t=>{const e=t[i._RESULTS],s=t[i._DONE],r=t[i._TOTALFILTEREDROWCOUNR],n=new Array;return e.forEach(t=>{const e=this._getMappedItems([t]);n.push(e[0])}),new this.FetchByOffsetResults(this,T,n,s,r)}))})}fetchFirst(t){const e={};e[i._ITEMS]=[],e[i._DONE]=!1,e[i._STARTINDEX]=0,e[i._LASTDONEHASDATA]=!1;const s=null!=t?t[i._SIZE]:null,r=t?.signal;let n=null!=t?t[i._SORTCRITERIA]:null;null==n&&(n=this[i._INTERNAL_SORTCRITERIA]);const h=this._getMappedSortCriteria(n),a=this._combineFilters(t),_=this._getMappedFilterCriterion(a);let E=null!=t?t[i._FETCHATTRIBUTES]:null;if(null==E&&(E=this[i._INTERNAL_FETCHATTRIBUTES]),null==this[i._INTERNAL_FROM]&&this[i._INTERNAL_OFFSET]>0){let n=this[i._INTERNAL_OFFSET];return new this.AsyncIterable(this,new this.AsyncIterator(this,(t=>()=>{const e=new this.FetchByOffsetParameters(this,n,null,s,h,_,E,r);return this.dataProvider[i._FETCHBYOFFSET](e).then(e=>{const r=e.results;n+=r.length;const h=this._getMappedItems(r);this._cacheResult(t,h),t[i._DONE]=e[i._DONE];const a=h.map(t=>t[i._DATA]),_=h.map(t=>t[i._METADATA]),E=e[i._FETCHPARAMETERS],l=null!=E?E[i._SORTCRITERIA]:null,T=null!=E?E[i._FILTERCRITERION]:null,o=this._getUnmappedSortCriteria(l),R=this._getUnmappedFilterCriterion(T),A=new this.FetchByOffsetParameters(this,this[i._INTERNAL_OFFSET],null,s,o,R);return t[i._DONE]?Promise.resolve(new this.AsyncIteratorReturnResult(this,new this.FetchListResult(this,A,a,_))):Promise.resolve(new this.AsyncIteratorYieldResult(this,new this.FetchListResult(this,A,a,_)))})})(e),t))}{const n=new this.FetchListParameters(this,t,s,h,_,E,r),a=this.dataProvider[i._FETCHFIRST](n)[Symbol.asyncIterator]();return new this.AsyncIterable(this,new this.AsyncIterator(this,((e,s)=>()=>e[i._LASTDONEHASDATA]?(e[i._LASTDONEHASDATA]=!1,Promise.resolve(new this.AsyncIteratorReturnResult(this,new this.FetchListResult(this,t,[],[],this._totalFilteredRowCount)))):s.next().then(r=>{let n=r[i._VALUE];n||(n={data:[],metadata:[],fetchParameters:null});const h=n[i._DATA],a=n.totalFilteredRowCount,E=n[i._METADATA],l=h.map((t,e)=>new this.Item(this,E[e],h[e]));this._noFilterSupport&&this._filterResult(_,l),this._totalFilteredRowCount=a;const T=this._getMappedItems(l);this._cacheResult(e,T),e[i._DONE]=r[i._DONE];const o=null!=t?t[i._SIZE]:null,R=(null!=t&&t[i._OFFSET],n[i._FETCHPARAMETERS]),A=null!=R?R[i._SORTCRITERIA]:null,I=null!=R?R[i._FILTERCRITERION]:null,c=this._getUnmappedSortCriteria(A),u=this._getUnmappedFilterCriterion(I),N=new this.FetchListParameters(this,t,o,c,u);return this._fetchUntilKey(N,this[i._INTERNAL_FROM],e,s).then(()=>this._fetchUntilOffset(N,this[i._INTERNAL_OFFSET]+e[i._STARTINDEX],h.length,e,s,a))}))(e,a),t))}}getCapability(t){return this.dataProvider.getCapability(t)}getTotalSize(){return this.dataProvider.getTotalSize()}isEmpty(){return this.dataProvider.isEmpty()}_fetchNextSet(e,s,r){return s.next().then(n=>{let h=n[i._VALUE];h||(h={data:[],metadata:[],fetchParameters:null});const a=h[i._DATA],_=h[i._METADATA],E=_.map(t=>t[i._KEY]);let l=!0;return e[i._KEYS].forEach(e=>{r.has(e)||E.map((s,i)=>{t.Object.compareValues(s,e)&&r.set(e,new this.Item(this,_[i],a[i]))}),r.has(e)||(l=!1)}),l||n[i._DONE]?r:this._fetchNextSet(e,s,r)})}_fetchUntilKey(e,s,r,n){if(null!=s){const e=r[i._ITEMS].filter(e=>{if(t.KeyUtils.equals(e[i._METADATA][i._KEY],s))return!0});if(e.length>0){const t=r[i._ITEMS].indexOf(e[0]);r[i._ITEMS]=r[i._ITEMS].slice(t,r[i._ITEMS].length)}else{if(!r[i._DONE])return n.next().then(t=>{let e=t[i._VALUE];e||(e={data:[],metadata:[],fetchParameters:null});const s=e[i._DATA],h=e[i._METADATA],a=s.map((t,e)=>new this.Item(this,h[e],s[e])),_=this._getMappedItems(a);return this._cacheResult(r,_),r[i._DONE]=t[i._DONE],this._fetchUntilKey(t[i._FETCHPARAMETERS],_[i._KEYS],r,n)});r[i._ITEMS]=[]}}return Promise.resolve(null)}_fetchUntilOffset(t,e,s,r,n,h){const a=null!=t&&t[i._SIZE]>0?t[i._SIZE]:s;e=e>0?e:0;const _=r[i._ITEMS].slice(e,e+a);if(this._noFilterSupport){const e=this._getMappedFilterCriterion(t[i._FILTERCRITERION]);this._filterResult(e,_)}return t&&t[i._SIZE]>0&&_.length<a&&!r[i._DONE]?n.next().then(s=>{let a=s[i._VALUE];a||(a={data:[],metadata:[],fetchParameters:null});const _=a[i._DATA],E=a[i._METADATA],l=_.map((t,e)=>new this.Item(this,E[e],_[e]));if(this._noFilterSupport){const e=this._getMappedFilterCriterion(t[i._FILTERCRITERION]);this._filterResult(e,l)}s.done&&l.length>0&&(r[i._LASTDONEHASDATA]=!0);const T=this._getMappedItems(l);return this._cacheResult(r,T),r[i._DONE]=s[i._DONE],this._fetchUntilOffset(t,e,_.length,r,n,h)}):this._createResultPromise(t,r,_,h)}_createResultPromise(t,e,s,r){e[i._STARTINDEX]=e[i._STARTINDEX]+s.length;const n=s.map(t=>t[i._DATA]),h=s.map(t=>t[i._METADATA]);let a=!1;return e[i._DONE]&&0===n.length&&(a=!0),a?Promise.resolve(new this.AsyncIteratorReturnResult(this,new this.FetchListResult(this,t,n,h,r))):Promise.resolve(new this.AsyncIteratorYieldResult(this,new this.FetchListResult(this,t,n,h,r)))}_cacheResult(t,e){e.forEach(e=>{t[i._ITEMS].push(e)})}_filterResult(t,s){if(t){t.filter||(t=e.FilterFactory.getFilter({filterDef:t}));let r=s.length-1;for(;r>=0;)t.filter(s[r][i._DATA])||s.splice(r,1),r--}}_getMappedItems(t){if(null!=this[i._INTERNAL_DATAMAPPING]){const e=this[i._INTERNAL_DATAMAPPING][i._MAPFIELDS];if(null!=e&&null!=t&&t.length>0){return t.map(t=>e.bind(this)(t))}}return t}_combineFilters(t){const s=[];let r,n=0;return null!=t&&null!=t[i._FILTERCRITERION]&&(s[n]=t[i._FILTERCRITERION],n++),null!=this[i._INTERNAL_FILTERCRITERION]&&(s[n]=this[i._INTERNAL_FILTERCRITERION]),r=0==s.length?null:1==s.length?s[0]:e.FilterFactory.getFilter({filterDef:{op:"$and",criteria:s}}),r}_getMappedFilterCriterion(t){if(null!=this[i._INTERNAL_DATAMAPPING]){const e=this[i._INTERNAL_DATAMAPPING][i._MAPFILTERCRITERION];if(null!=e&&null!=t)return e(t)}return t}_getMappedSortCriteria(t){if(null!=this[i._INTERNAL_DATAMAPPING]){const e=this[i._INTERNAL_DATAMAPPING][i._MAPSORTCRITERIA];if(null!=e&&null!=t&&t.length>0)return e(t)}return t}_getUnmappedSortCriteria(t){if(null!=this[i._INTERNAL_DATAMAPPING]){const e=this[i._INTERNAL_DATAMAPPING][i._UNMAPSORTCRITERIA];if(null!=e&&null!=t&&t.length>0)return e(t)}return t}_getUnmappedFilterCriterion(t){if(null!=this[i._INTERNAL_DATAMAPPING]){const e=this[i._INTERNAL_DATAMAPPING][i._UNMAPFILTERCRITERION];if(null!=e&&null!=t)return e(t)}return t}_addEventListeners(t){t[i._ADDEVENTLISTENER](i._REFRESH,t=>{this.dispatchEvent(t)}),t[i._ADDEVENTLISTENER](i._MUTATE,t=>{this.dispatchEvent(t)})}}return i._KEY="key",i._KEYS="keys",i._DATA="data",i._STARTINDEX="startIndex",i._SORT="sort",i._INTERNAL_SORTCRITERIA="_sortCriteria",i._SORTCRITERIA="sortCriteria",i._INTERNAL_FILTERCRITERION="_filterCriterion",i._FILTERCRITERION="filterCriterion",i._METADATA="metadata",i._ITEMS="items",i._INTERNAL_FROM="_from",i._INTERNAL_OFFSET="_offset",i._FROM="from",i._OFFSET="offset",i._REFRESH="refresh",i._MUTATE="mutate",i._SIZE="size",i._FETCHPARAMETERS="fetchParameters",i._VALUE="value",i._DONE="done",i._LASTDONEHASDATA="lastDoneHasData",i._INTERNAL_DATAMAPPING="_dataMapping",i._DATAMAPPING="dataMapping",i._MAPFIELDS="mapFields",i._MAPSORTCRITERIA="mapSortCriteria",i._MAPFILTERCRITERION="mapFilterCriterion",i._UNMAPSORTCRITERIA="unmapSortCriteria",i._UNMAPFILTERCRITERION="unmapFilterCriterion",i._RESULTS="results",i._CONTAINSPARAMETERS="containsParameters",i._DEFAULT_SIZE=25,i._CONTAINSKEYS="containsKeys",i._FETCHBYKEYS="fetchByKeys",i._FETCHBYOFFSET="fetchByOffset",i._FETCHFIRST="fetchFirst",i._ADDEVENTLISTENER="addEventListener",i._INTERNAL_FETCHATTRIBUTES="_attributes",i._FETCHATTRIBUTES="attributes",i._TOTALFILTEREDROWCOUNR="totalFilteredRowCount",i._SIGNAL="signal",s.EventTargetMixin.applyMixin(i),t._registerLegacyNamespaceProp("ListDataProviderView",i),i});
//# sourceMappingURL=ojlistdataproviderview.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojtreedataproviderview',["ojs/ojcore-base","ojs/ojlistdataproviderview"],function(t,e){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;
/**
     * @preserve Copyright 2013 jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */
class i{constructor(t,i){this.dataProvider=t,this.options=i,this._listDataProviderView=new e(t,i)}getChildDataProvider(t,e){let r=this.dataProvider.getChildDataProvider(t);return r?new i(r,this.options):null}containsKeys(t){return this._listDataProviderView.containsKeys(t)}fetchByKeys(t){return this._listDataProviderView.fetchByKeys(t)}fetchByOffset(t){return this._listDataProviderView.fetchByOffset(t)}fetchFirst(t){return this._listDataProviderView.fetchFirst(t)}getCapability(t){return this._listDataProviderView.getCapability(t)}getTotalSize(){return this._listDataProviderView.getTotalSize()}isEmpty(){return this._listDataProviderView.isEmpty()}addEventListener(t,e){this._listDataProviderView.addEventListener(t,e)}removeEventListener(t,e){this._listDataProviderView.removeEventListener(t,e)}dispatchEvent(t){return this._listDataProviderView.dispatchEvent(t)}}return t._registerLegacyNamespaceProp("TreeDataProviderView",i),i});
//# sourceMappingURL=ojtreedataproviderview.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojselectcombobox',["ojs/ojeditablevalue","ojs/ojoptgroup","ojs/ojoption","ojs/ojhighlighttext","ojs/ojprogress-circle","ojs/ojcore-base","jquery","ojs/ojdomutils","ojs/ojset","ojs/ojtimerutils","ojs/ojthemeutils","ojs/ojcontext","ojs/ojlistdataproviderview","ojs/ojtreedataproviderview","ojs/ojtranslation","ojs/ojlogger","ojs/ojcustomelement-utils","ojs/ojcomponentcore"],function(e,t,i,s,o,n,a,r,l,h,c,u,d,p,f,m,_,v){"use strict";n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n,a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a,l=l&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l,u=u&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u,d=d&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d,p=p&&Object.prototype.hasOwnProperty.call(p,"default")?p.default:p,function(){var e={properties:{readonly:{binding:{consume:{name:"readonly"}}},userAssistanceDensity:{binding:{consume:{name:"userAssistanceDensity"}}},labelEdge:{binding:{consume:{name:"labelEdge"}}}}},t={properties:{asyncValidators:{type:"Array<Object>",value:[]},converter:{type:"object"},describedBy:{type:"string"},disabled:{type:"boolean",value:!1},displayOptions:{type:"object",properties:{converterHint:{type:"Array<string>|string"},helpInstruction:{type:"Array<string>|string",value:["notewindow"]},messages:{type:"Array<string>|string"},validatorHint:{type:"Array<string>|string"}}},filterOnOpen:{type:"string",enumValues:["none","rawValue"],value:"none"},help:{type:"object",properties:{instruction:{type:"string",value:""}}},helpHints:{type:"object",properties:{definition:{type:"string",value:""},source:{type:"string",value:""}}},labelEdge:{type:"string",enumValues:["inside","none","provided"]},labelHint:{type:"string",value:""},labelledBy:{type:"string"},maximumResultCount:{type:"number",value:15},messagesCustom:{type:"Array<Object>",writeback:!0,value:[]},minLength:{type:"number",value:0},optionRenderer:{type:"function"},options:{type:"Array<Object>|object"},optionsKeys:{type:"object",properties:{childKeys:{type:"object",properties:{childKeys:{type:"object",properties:{childKeys:{type:"object"},children:{type:"string"},label:{type:"string"},value:{type:"string"}}},children:{type:"string"},label:{type:"string"},value:{type:"string"}}},children:{type:"string"},label:{type:"string"},value:{type:"string"}}},pickerAttributes:{type:"object",properties:{class:{type:"string"},style:{type:"string"}}},placeholder:{type:"string"},rawValue:{type:"string",writeback:!0,readOnly:!0},readonly:{type:"boolean",value:!1},required:{type:"boolean",value:!1},translations:{type:"object",value:{},properties:{filterFurther:{type:"string"},moreMatchesFound:{type:"string"},noMatchesFound:{type:"string"},oneMatchesFound:{type:"string"},required:{type:"object",properties:{hint:{type:"string"},messageDetail:{type:"string"},messageSummary:{type:"string"}}}}},userAssistanceDensity:{type:"string",enumValues:["compact","efficient","reflow"],value:"reflow"},valid:{type:"string",writeback:!0,enumValues:["invalidHidden","invalidShown","pending","valid"],readOnly:!0},validators:{type:"Array",value:[]},value:{type:"any",writeback:!0},valueOption:{type:"object",writeback:!0,properties:{label:{type:"string"},value:{type:"any"}}}},methods:{getProperty:{},refresh:{},reset:{},setProperties:{},setProperty:{},showMessages:{},validate:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAnimateEnd:{},ojAnimateStart:{},ojValueUpdated:{}},extension:{}};t.extension._WIDGET_NAME="ojCombobox",t.extension._INNER_ELEM="input",t.extension._GLOBAL_TRANSFER_ATTRS=["aria-controls","aria-label","tabindex"],t.extension._ALIASED_PROPS={readonly:"readOnly"},t.extension._TRACK_CHILDREN="immediate",n.CustomElementBridge.register("oj-combobox-one",{metadata:n.CollectionUtils.mergeDeep(t,e)});var i={properties:{asyncValidators:{type:"Array<Object>",value:[]},converter:{type:"object"},describedBy:{type:"string"},disabled:{type:"boolean",value:!1},displayOptions:{type:"object",properties:{converterHint:{type:"Array<string>|string"},helpInstruction:{type:"Array<string>|string",value:["notewindow"]},messages:{type:"Array<string>|string"},validatorHint:{type:"Array<string>|string"}}},help:{type:"object",properties:{instruction:{type:"string",value:""}}},helpHints:{type:"object",properties:{definition:{type:"string",value:""},source:{type:"string",value:""}}},labelEdge:{type:"string",enumValues:["inside","none","provided"]},labelHint:{type:"string",value:""},labelledBy:{type:"string"},maximumResultCount:{type:"number",value:15},messagesCustom:{type:"Array<Object>",writeback:!0,value:[]},minLength:{type:"number",value:0},optionRenderer:{type:"function"},options:{type:"Array<Object>|object"},optionsKeys:{type:"object",properties:{childKeys:{type:"object",properties:{childKeys:{type:"object",properties:{childKeys:{type:"object"},children:{type:"string"},label:{type:"string"},value:{type:"string"}}},children:{type:"string"},label:{type:"string"},value:{type:"string"}}},children:{type:"string"},label:{type:"string"},value:{type:"string"}}},pickerAttributes:{type:"object",properties:{class:{type:"string"},style:{type:"string"}}},placeholder:{type:"string"},rawValue:{type:"Array<string>",writeback:!0,readOnly:!0},readonly:{type:"boolean",value:!1},required:{type:"boolean",value:!1},translations:{type:"object",value:{},properties:{filterFurther:{type:"string"},moreMatchesFound:{type:"string"},noMatchesFound:{type:"string"},noMoreResults:{type:"string"},oneMatchesFound:{type:"string"},required:{type:"object",properties:{hint:{type:"string"},messageDetail:{type:"string"},messageSummary:{type:"string"}}}}},userAssistanceDensity:{type:"string",enumValues:["compact","efficient","reflow"],value:"reflow"},valid:{type:"string",writeback:!0,enumValues:["invalidHidden","invalidShown","pending","valid"],readOnly:!0},validators:{type:"Array",value:[]},value:{type:"Array<any>",writeback:!0},valueOptions:{type:"Array<Object>",writeback:!0}},methods:{getProperty:{},refresh:{},reset:{},setProperties:{},setProperty:{},showMessages:{},validate:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAnimateEnd:{},ojAnimateStart:{}},extension:{}};i.extension._WIDGET_NAME="ojCombobox",i.extension._INNER_ELEM="input",i.extension._GLOBAL_TRANSFER_ATTRS=["aria-controls","aria-label","tabindex"],i.extension._ALIASED_PROPS={readonly:"readOnly"},i.extension._TRACK_CHILDREN="immediate",n.CustomElementBridge.register("oj-combobox-many",{metadata:n.CollectionUtils.mergeDeep(i,e)});var s={properties:{describedBy:{type:"string"},disabled:{type:"boolean",value:!1},displayOptions:{type:"object",properties:{converterHint:{type:"Array<string>|string"},helpInstruction:{type:"Array<string>|string",value:["notewindow"]},messages:{type:"Array<string>|string"},validatorHint:{type:"Array<string>|string"}}},help:{type:"object",properties:{instruction:{type:"string",value:""}}},helpHints:{type:"object",properties:{definition:{type:"string",value:""},source:{type:"string",value:""}}},labelEdge:{type:"string",enumValues:["inside","none","provided"]},labelHint:{type:"string",value:""},labelledBy:{type:"string"},maximumResultCount:{type:"number",value:15},messagesCustom:{type:"Array<Object>",writeback:!0,value:[]},minimumResultsForSearch:{type:"number",value:15},optionRenderer:{type:"function"},options:{type:"Array<Object>|object"},optionsKeys:{type:"object",properties:{childKeys:{type:"object",properties:{childKeys:{type:"object"},children:{type:"string"},label:{type:"string"},value:{type:"string"}}},children:{type:"string"},label:{type:"string"},value:{type:"string"}}},pickerAttributes:{type:"object",properties:{class:{type:"string"},style:{type:"string"}}},placeholder:{type:"string"},readonly:{type:"boolean",value:!1},renderMode:{type:"string",enumValues:["jet","native"]},required:{type:"boolean",value:!1},translations:{type:"object",value:{},properties:{filterFurther:{type:"string"},moreMatchesFound:{type:"string"},noMatchesFound:{type:"string"},oneMatchesFound:{type:"string"},required:{type:"object",properties:{hint:{type:"string"},messageDetail:{type:"string"},messageSummary:{type:"string"}}},searchField:{type:"string"}}},userAssistanceDensity:{type:"string",enumValues:["compact","efficient","reflow"],value:"reflow"},valid:{type:"string",writeback:!0,enumValues:["invalidHidden","invalidShown","pending","valid"],readOnly:!0},value:{type:"any",writeback:!0},valueOption:{type:"object",writeback:!0,properties:{label:{type:"string"},value:{type:"any"}}}},methods:{getProperty:{},refresh:{},reset:{},setProperties:{},setProperty:{},showMessages:{},validate:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAnimateEnd:{},ojAnimateStart:{}},extension:{}};s.extension._WIDGET_NAME="ojSelect",s.extension._INNER_ELEM="select",s.extension._GLOBAL_TRANSFER_ATTRS=["aria-controls","aria-label","tabindex"],s.extension._ALIASED_PROPS={readonly:"readOnly"},s.extension._TRACK_CHILDREN="immediate",n.CustomElementBridge.register("oj-select-one",{metadata:n.CollectionUtils.mergeDeep(s,e)});var o={properties:{describedBy:{type:"string"},disabled:{type:"boolean",value:!1},displayOptions:{type:"object",properties:{converterHint:{type:"Array<string>|string"},helpInstruction:{type:"Array<string>|string",value:["notewindow"]},messages:{type:"Array<string>|string"},validatorHint:{type:"Array<string>|string"}}},help:{type:"object",properties:{instruction:{type:"string",value:""}}},helpHints:{type:"object",properties:{definition:{type:"string",value:""},source:{type:"string",value:""}}},labelEdge:{type:"string",enumValues:["inside","none","provided"]},labelHint:{type:"string",value:""},labelledBy:{type:"string"},maximumResultCount:{type:"number",value:15},messagesCustom:{type:"Array<Object>",writeback:!0,value:[]},minimumResultsForSearch:{type:"number",value:15},optionRenderer:{type:"function"},options:{type:"Array<Object>|object"},optionsKeys:{type:"object",properties:{childKeys:{type:"object",properties:{childKeys:{type:"object"},children:{type:"string"},label:{type:"string"},value:{type:"string"}}},children:{type:"string"},label:{type:"string"},value:{type:"string"}}},pickerAttributes:{type:"object",properties:{class:{type:"string"},style:{type:"string"}}},placeholder:{type:"string"},readonly:{type:"boolean",value:!1},renderMode:{type:"string",enumValues:["jet","native"]},required:{type:"boolean",value:!1},translations:{type:"object",value:{},properties:{filterFurther:{type:"string"},moreMatchesFound:{type:"string"},noMatchesFound:{type:"string"},noMoreResults:{type:"string"},oneMatchesFound:{type:"string"},required:{type:"object",properties:{hint:{type:"string"},messageDetail:{type:"string"},messageSummary:{type:"string"}}},searchField:{type:"string"}}},userAssistanceDensity:{type:"string",enumValues:["compact","efficient","reflow"],value:"reflow"},valid:{type:"string",writeback:!0,enumValues:["invalidHidden","invalidShown","pending","valid"],readOnly:!0},value:{type:"Array<any>",writeback:!0},valueOptions:{type:"Array<Object>",writeback:!0}},methods:{getProperty:{},refresh:{},reset:{},setProperties:{},setProperty:{},showMessages:{},validate:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAnimateEnd:{},ojAnimateStart:{}},extension:{}};o.extension._WIDGET_NAME="ojSelect",o.extension._INNER_ELEM="select",o.extension._GLOBAL_TRANSFER_ATTRS=["aria-controls","aria-label","tabindex"],o.extension._ALIASED_PROPS={readonly:"readOnly"},o.extension._TRACK_CHILDREN="immediate",n.CustomElementBridge.register("oj-select-many",{metadata:n.CollectionUtils.mergeDeep(o,e)})}();const g={GENERATED_OPTIONS_SELECTOR:"oj-select-options-generated",THEME:{REDWOOD:"redwood"},KEY:{TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,CODE:{KEY_V:"KeyV"},isControl:function(e){switch(e.which||e.keyCode){case g.KEY.SHIFT:case g.KEY.CTRL:case g.KEY.ALT:return!0;default:return!!e.metaKey}},isFunctionKey:function(e){var t=e.which||e.keyCode||e;return t>=112&&t<=123},isPasteAction:function(e){let t=n.AgentUtils.getAgentInfo().os;return e.code===g.KEY.CODE.KEY_V&&(t===n.AgentUtils.OS.MAC&&e.metaKey||t!==n.AgentUtils.OS.MAC&&e.ctrlKey)}},STYLE_CLASS:{HIDDEN:"oj-helper-hidden"},DEFAULT_FETCH_SIZE:15,DEFAULT_FETCH_ALL_SIZE:-1,FILTERING_FETCH_SIZE_MIN:100,FILTERING_FETCH_SIZE_MAX:500,FILTERING_FETCH_SIZE_MRC_TIMES:7,DEFAULT_QUERY_DELAY:70,DEFAULT_LOADING_INDICATOR_DELAY:250,ValueChangeTriggerTypes:{ENTER_PRESSED:"enter_pressed",OPTION_SELECTED:"option_selected",BLUR:"blur",SEARCH_ICON_CLICKED:"search_icon_clicked"},lastMousePosition:{x:0,y:0},nextUid:(b=1,function(){var e=b;return b+=1,e}),scrollBarDimensions:null,isLegacyTheme:function(){return c.parseJSONFromFontFamily("oj-theme-json").behavior!==g.THEME.REDWOOD},each2:function(e,t){for(var i=a.isFunction(e[0])?a(e[0]()):a(e[0]),s=-1,o=e.length;++s<o&&(i.context=i[0]=a.isFunction(e[0])?e[s]():e[s])&&!1!==t.call(i[0],s,i););return e},measureScrollbar:function(){var e=a("<div class='oj-listbox-measure-scrollbar'></div>");e.appendTo("body");var t={width:e.width()-e[0].clientWidth,height:e.height()-e[0].clientHeight};return e.remove(),t},splitVal:function(e,t){var i,s,o;if(null===e||e.length<1)return[];for(s=0,o=(i=e.split(t)).length;s<o;s++)i[s]=a.trim(i[s]);return i},getSideBorderPadding:function(e){return e.outerWidth(!1)-e.width()},installKeyUpChangeEvent:function(e){var t="keyup-change-value";e.on("keydown",function(){void 0===a.data(e,t)&&a.data(e,t,e.val())}),e.on("keyup",function(i){if((i.which||i.keyCode)!==g.KEY.ENTER){var s=a.data(e,t);void 0!==s&&e.val()!==s&&(a.removeData(e,t),e.trigger("keyup-change"))}else i.preventDefault()})},getSearchText:function(e){var t,i=e.which||e.keyCode;return e&&"keydown"===e.type&&(32===i||i>47&&i<58||i>64&&i<91||i>95&&i<112||i>185&&i<193||i>218&&i<223)&&(null!=e.key?t=e.key:(i>=96&&i<=105&&(i-=48),t=String.fromCharCode(i),e.shiftKey||(t=t.toLowerCase())),e.preventDefault()),t},escapeRegExp:function(e){return e.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")},installFilteredMouseMove:function(e){e.on("mousemove",function(e){var t=g.lastMousePosition;void 0!==t&&t.x===e.pageX&&t.y===e.pageY||(a(e.target).trigger("mousemove-filtered",e),g.lastMousePosition.x=e.pageX,g.lastMousePosition.y=e.pageY)})},thunk:function(e){var t,i=!1;return function(){return!1===i&&(t=e(),i=!0),t}},_focus:function(e,t){if(null!=e._focusTimer&&(e._focusTimer.clear(),delete e._focusTimer),t[0]!==document.activeElement){var i=g._addBusyState(e.container,"setting focus"),s=h.getTimer(40);s.getPromise().then(function(e){if(e){var s,o=t[0],n=t.val().length;t.focus(),t.is(":visible")&&o===document.activeElement&&(o.setSelectionRange?o.setSelectionRange(n,n):o.createTextRange&&((s=o.createTextRange()).collapse(!1),s.select())),i()}else i()}),e._focusTimer=s}},getCursorInfo:function(e){var t=a(e)[0],i=0,s=0;if("selectionStart"in t)i=t.selectionStart,s=t.selectionEnd-i;else if("selection"in document){t.focus();var o=document.selection.createRange();s=document.selection.createRange().text.length,o.moveStart("character",-t.value.length),i=o.text.length-s}return{offset:i,length:s}},killEvent:function(e){e.preventDefault()},killEventWithExceptions:function(e,t){const i=a(t.target);e.some(e=>i.is(e))||g.killEvent(t)},local:function(e,t){var i,s,o=e,n=function(e){return""+e.label};a.isArray(o)&&(o={results:s=o}),!1===a.isFunction(o)&&(s=o,o=function(){return s});var r=o();return r&&r.text&&(n=r.text,a.isFunction(n)||(i=r.text,n=function(e){return e[i]})),function(e){var i=e.term,s={results:[]};""!==i||t?(o()&&g.each2(a(o().results),function(i,o){g._processData(e,o,s.results,t,!0,n)}),e.callback(s)):e.callback(o())}},createOptionTag:function(e,t,i,s){var o=a("<option>");return o.addClass("oj-listbox-result oj-listbox-result-selectable oj-listbox-results-depth-"+e),o.attr("role","option"),o.attr("id","oj-listbox-result-label-"+g.nextUid()),o.text(s(i)),o.attr("value",t),o},createOptgroupTag:function(e,t,i){var s=a("<optgroup>");return s.addClass("oj-listbox-results-sub"),s.attr("label",i(t)),e.addClass("oj-listbox-result-with-children"),s},listPopulateResults:function(e,t,i){var s=function(e,t,o){var n,r,l,h;t.each(function(){(r=a(this)).is("li")&&(r.children("ul").length>0?(l=r.contents().filter(function(){return 1!==this.nodeType||"ul"!==this.tagName.toLowerCase()}).text(),n=g.createOptgroupTag(e,l,i),h=r.children("ul"),s(n,h.children(),o+1)):n=g.createOptionTag(o,r.attr("oj-data-value"),r.text(),i),n.appendTo(e))})};s(e,t,0)},ojOptionPopulateResults:function(e,t,i){var s=function(e,t,o){var n,r,l;t.each(function(){(r=a(this)).is("oj-option")?(l=r.text()||r.attr("label"),n=g.createOptionTag(o,r.prop("value"),l,i)):r.is("oj-optgroup")?(l=r.text()||r.attr("label"),n=g.createOptgroupTag(e,l,i),s(n,r.children(),o+1)):r.is("option")&&(n=r),n.appendTo(e)})};s(e,t,0)},lookupOptionKeys:function(e,t,i){return e[t[i]||i]},arrayPopulateResults:function(e,t,i,s){var o=function(e,t,s,n){for(var a,r,l,h,c,u=0,d=t.length;u<d;u++)a=t[u],l=g.lookupOptionKeys(a,n,"children"),h=g.lookupOptionKeys(a,n,"label"),l&&l.length>0?(r=g.createOptgroupTag(e,h,i),o(r,l,s+1,n.childKeys||{})):(c=g.lookupOptionKeys(a,n,"value"),r=g.createOptionTag(s,c,h,i)),r.appendTo(e)};o(e,t,0,s||{})},cleanupResults:function(e){e.children().not("oj-option, oj-optgroup").remove(),e.removeClass("oj-listbox-result-with-children")},_addBusyState:function(e,t){var i={description:"The component identified by '"+e.attr("id")+"' "+t};return u.getContext(e[0]).getBusyContext().addBusyState(i)},_clearBusyState:function(e){e&&e()},isDataProvider:function(e){return!(!e||!n.DataProviderFeatureChecker)&&n.DataProviderFeatureChecker.isDataProvider(e)},isTreeDataProvider:function(e){return!(!e||!n.DataProviderFeatureChecker)&&n.DataProviderFeatureChecker.isTreeDataProvider(e)},getDataProvider:function(e){if(e){var t=e._dataProvider||e.options;if(g.isDataProvider(t))return t}return null},getDataProviderKeySet:function(e,t){let i=g.getDataProvider(e.options);return null!=i&&"function"==typeof i.createOptimizedKeySet?i.createOptimizedKeySet(t):new l(t)},clearDataProviderWrapper:function(e){e.options._dataProvider=null},isDataProviderWrapped:function(e){return null!=e.options._dataProvider},_findOption:function(e,t){if(n.Object.compareValues(t,e.value))return e;if(e.children)for(var i,s=e.children,o=0;o<s.length;o++)if(i=g._findOption(s[o],t))return i;return null},findOption:function(e,t){if(Array.isArray(e)){for(var i=0,s=e.length;i<s;i++){var o=g._findOption(e[i],t);if(o)return o}return null}return g._findOption(e,t)},findOptions:function(e,t){for(var i=[],s=0;s<t.length;s++){var o=g.findOption(e,t[s]);o&&i.push(o)}return i},findOptionFromResult:function(e,t,i){var s,o=g.getLastQueryResult(e);if(o&&(s=g.findOption(o,t)),e.ojContext.multiple&&!s&&(s=g.getSelectedOptionData(e,t)),s){var n={value:t,label:s.label};return s.data&&s.metadata&&(n.data=s.data,n.metadata=s.metadata),n}return i},mergeValueAndValueOptions:function(e,t){var i=e.options.value,s=!1;if(e.multiple){var o,n=e.options.valueOptions;if(i&&i.length>0)n&&n.length&&(o=g.findOptions(n,i)),o&&o.length===n.length||(s=!0);else n&&g.syncValueWithValueOptions(e,n,i,null,t)}else{var a,r=e.options.valueOption;if(null!=i)r&&(a=g.findOption(r,i)),a||(s=!0);else r&&g.syncValueWithValueOption(e,r,i,null,t)}return s},syncValueWithValueOption:function(e,t,i,s,o){var r,l=!0,h=e._IsCustomElement();if(g.isValueOptionsForPlaceholder(!1,t)?g.isValueForPlaceholder(!1,i)?(r=i,l=!1):r=null:r=h?t?t.value:null:t?[t.value]:null,n.Object.compareValues(r,i)){if(!0===s){var c=e.element[0];a(c.options[c.selectedIndex]).text(g.getLabel(t))}else if(!1===s){var u=e.select||e.combobox;u&&l&&u._updateSelection(t)}}else g._forceSetValue(e,r,o)},syncValueWithValueOptions:function(e,t,i,s,o){var r,l=!0;if(g.isValueOptionsForPlaceholder(!0,t))g.isValueForPlaceholder(!0,i)?(r=i,l=!1):r=g.getValueForPlaceholder(!0),n.Object.compareValues(r,i)||g._forceSetValue(e,r,o);else if(t){r=[];for(var h=0;h<t.length;h++)r.push(t[h].value);if(n.Object.compareValues(r,i)){if(!0===s){var c=0;e.element.find("option").each(function(){if(this.selected){var e=g.getLabel(t[c]);this.text!=e&&a(this).text(e),c+=1}})}else if(!1===s){var u=e.select||e.combobox;u&&l&&u._updateSelection(t)}}else g._forceSetValue(e,r,o)}},_forceSetValue:function(e,t,i){var s=e,o=i||{},n={doNotClearMessages:o.doNotClearMessages,doValueChangeCheck:!1,_context:{doNotClearMessages:o.doNotClearMessages,internalSet:!0,writeback:!0}};s.forceCanSetValue=!0;try{s._SetValue(t,null,n)}finally{delete s.forceCanSetValue}},isPlaceholderSpecified:function(e){return"string"==typeof e.placeholder},getFixupValueOptionsForPlaceholder:function(e){return e?[]:{value:null,label:null}},isValueOptionsForPlaceholder:function(e,t){return null==t||!e&&null==t.value||n.Object.compareValues(t,g.getFixupValueOptionsForPlaceholder(e))},getValueOptionsForPlaceholder:function(e,t){var i=e.multiple;return e._IsCustomElement()&&g.isPlaceholderSpecified(e.options)&&g.isValueOptionsForPlaceholder(i,t)&&(t=g.getFixupValueOptionsForPlaceholder(i)),t},getValueForPlaceholder:function(e){return e?[]:""},isValueForPlaceholder:function(e,t){return null==t||n.Object.compareValues(t,g.getValueForPlaceholder(e))},setValueOptions:function(e,t){var i,s={internalSet:!0,changed:!0,writeback:!0},o=g.getOpts(e),n=!!o&&g.isDataProvider(o.options);if(e.multiple){var a=[],r=[];if(t&&t.length){i=[];for(var l=0;l<t.length;l++)i.push({value:t[l].value,label:t[l].label}),n&&(a.push(t[l].data),r.push(t[l].metadata))}else i=t;s=g.getContextWithExtraData(s,o,a,r),e.option("valueOptions",i,{_context:s}),null!=e.select&&(e.isValueOptionsSetInternally=!0),o&&(o.valueOptions=i)}else{var h=t;Array.isArray(t)&&(h=t[0]),h&&(s=g.getContextWithExtraData(s,o,h.data,h.metadata)),i=h&&!g.isValueOptionsForPlaceholder(e.multiple,h)?{value:h.value,label:h.label}:h,e.option("valueOption",i,{_context:s}),null!=e.select&&(e.isValueOptionsSetInternally=!0),o&&(o.valueOption=i)}},updateValueOptions:function(e){if(e){var t=e.datalist?e.datalist:e.opts.element;e.opts.initSelection.call(null,t,function(t){var i=e.ojContext.multiple,s=t;if(null==s&&"oj-combobox"===e._classNm){var o=e.ojContext.options.value;if(i){s=[];for(var n=0;n<o.length;n++)s.push(e.opts.manageNewEntry(o[n]))}else s=e.opts.manageNewEntry(o)}s&&(e.setValOpts(s),i?e._updateSelection(s):e._updateSelectedOption(s),e._SyncRawValue())})}},applyValueOptions:function(e,t){if(e&&!e.ojContext._resolveValueOptionsLater&&("oj-combobox"===e._classNm||"oj-select"===e._classNm)){var i=e.ojContext.multiple,s=i?t.valueOptions:t.valueOption;if(g.isValueOptionsForPlaceholder(i,s))return!1;if(s)return e._updateSelection(s),!0}return!1},isValueChanged:function(e){return e._valueHasChanged},setValueChanged:function(e,t){e._valueHasChanged=t},hasInvalidComponentMessages:function(e){return!e.isValid()&&e._hasInvalidComponentMessagesShowing()},wrapDataProviderIfNeeded:function(e,t){var i=e.options,s=i.options;if(g.isDataProvider(s)){var o,n=i.optionsKeys||{},a=g.isTreeDataProvider(s);if(a&&!(s instanceof p)||!a&&!(s instanceof d)){var r=function(e){for(var t=e.data,i={data:{}},s=Object.keys(t),o=0;o<s.length;o++){var a=s[o],r=t[a];i.data[a]=r}return null!=n.label?i.data.label=String(t[n.label]):null!=t.label&&(i.data.label=String(t.label)),null!=n.value&&(i.data.value=t[n.value]),i.metadata={key:t[n.value||"value"]},i};o=a?new p(s,{dataMapping:{mapFields:r}}):new d(s,{dataMapping:{mapFields:r}})}o&&(i._dataProvider=o,t&&(t._dataProvider=o))}},getLabel:function(e){if(null!=e)return null!=e.label?e.label:String(e.value)},_handleDataProviderEvents:function(e,t){var i=g._addBusyState(e.widget(),"updating value on dataprovider mutation event");Promise.resolve().then(function(){return e._GetThrottlePromise()}).then(function(){return e._getValueUpdatePromise()}).then(function(){"mutate"===t.type&&g._handleDataProviderMutationEvent(e,t),e._setOption("options",e.options.options),i()})},_handleDataProviderMutationEvent:function(e,t){if(null!=t.detail.remove){for(var i=t.detail.remove.data,s=!1,o=[].concat(e.options.value),n=0;n<i.length;n++){var a=o.indexOf(i[n].value);a>=0&&(o.splice(a,1),s=!0)}s&&e._setOption("value",o)}},addDataProviderEventListeners:function(e){var t=g.getDataProvider(e.options);if(t){g.removeDataProviderEventListeners(e);var i=g._handleDataProviderEvents.bind(null,e);e._saveDataProviderEH=i,t.addEventListener("mutate",i),t.addEventListener("refresh",i)}},removeDataProviderEventListeners:function(e){var t=g.getDataProvider(e.options),i=e._saveDataProviderEH;null!=t&&i&&(t.removeEventListener("mutate",i),t.removeEventListener("refresh",i),e._saveDataProviderEH=void 0)},createLoadingIndicatorElement:function(){let e;return g.isLegacyTheme()?(e=document.createElement("div"),e.setAttribute("role","presentation"),e.setAttribute("class","oj-icon oj-listbox-loading-icon")):(e=document.createElement("oj-progress-circle"),e.setAttribute("class","oj-listbox-loading-progress-circle"),e.setAttribute("data-oj-internal",""),e.setAttribute("data-oj-binding-provider","none"),e.setAttribute("value",-1),e.setAttribute("size","sm")),e},updateDropdownLoadingState:function(e,t){const i=e;if(t){i._dropdownLoadingIndicatorCount+=1,i._dropdownLoadingIndicatorTimer&&(i._dropdownLoadingIndicatorTimer.clear(),delete i._dropdownLoadingIndicatorTimer);const e=h.getTimer(i._loadingIndicatorDelay);e.getPromise().then(function(e){e&&g.addDropdownProgressCircle(i)}),i._dropdownLoadingIndicatorTimer=e}else i._dropdownLoadingIndicatorCount>0&&(i._dropdownLoadingIndicatorCount-=1),0===i._dropdownLoadingIndicatorCount&&(i._dropdownLoadingIndicatorTimer&&(i._dropdownLoadingIndicatorTimer.clear(),delete i._dropdownLoadingIndicatorTimer),g.removeDropdownProgressCircle(i))},addDropdownProgressCircle:function(e){const t=e;if(t._hasDropdownLoadingIndicator)return;const i=t.dropdown.find(".oj-listbox-loader-wrapper");let s=t._dropdownProgressCircleElement;s||(s=g.createLoadingIndicatorElement(),t._dropdownProgressCircleElement=s),i.append(s),t.results.addClass("oj-loading"),t._hasDropdownLoadingIndicator=!0,t._triggerInternalLoadingStateChange("dropdownData",!0)},removeDropdownProgressCircle:function(e){const t=e;t.results.removeClass("oj-loading"),t._hasDropdownLoadingIndicator&&(t._dropdownProgressCircleElement&&a(t._dropdownProgressCircleElement).detach(),t._hasDropdownLoadingIndicator=!1,t._triggerInternalLoadingStateChange("dropdownData",!1))},updateLoadingState:function(e,t){if(!e)return;const i=e;if(t){i._loadingIndicatorTimer&&(i._loadingIndicatorTimer.clear(),delete i._loadingIndicatorTimer);const e=h.getTimer(i._loadingIndicatorDelay);e.getPromise().then(function(e){e&&g.addLoadingIndicator(i)}),i._loadingIndicatorTimer=e}else i._loadingIndicatorTimer&&(i._loadingIndicatorTimer.clear(),delete i._loadingIndicatorTimer),g.removeLoadingIndicator(i)},addLoadingIndicator:function(e){const t=e,i=t.ojContext;t._loadingIndicatorCount+=1,t._hasLoadingIndicator||(i._SetLoading(),t._hasLoadingIndicator=!0,t._triggerInternalLoadingStateChange("textFieldLabel",!0))},removeLoadingIndicator:function(e){const t=e,i=t.ojContext;t._loadingIndicatorCount>0&&(t._loadingIndicatorCount-=1),0===t._loadingIndicatorCount&&t._hasLoadingIndicator&&(i._ClearLoading(),t._hasLoadingIndicator=!1,t._triggerInternalLoadingStateChange("textFieldLabel",!1))},addDropdownMessage:function(e,t,i){if(e._saveDropdownMessage)return;var s=a(document.createElement("div"));s.addClass("oj-listbox-filter-message-box");var o=a(document.createElement("div"));o.addClass("oj-listbox-filter-message-text"),o.attr("role","region");var n=a(document.createElement("div"));n.addClass("oj-listbox-filter-message-separator"),s.append(o),s.append(n),e.prepend(s),o.text(i),e._saveDropdownMessage=s;const r=g.getWidget(t);null!=r&&r._updateMatchesCount(i,!0)},removeDropdownMessage:function(e){e._saveDropdownMessage&&(e._saveDropdownMessage.remove(),e._saveDropdownMessage=void 0)},createItemResult:function(e,t){return{label:e.label,value:e.value,disabled:e.disabled,children:e.children,data:e,metadata:t}},fetchFlatData:function(e,t,i,s,o,n){var a=[],r=t.fetchFirst(i)[Symbol.asyncIterator](),l=n>0;return r.next().then(function t(h){if(h){var c=h.value.data,u=h.value.metadata;if(c)for(var d,p,f=0;f<c.length&&(!l||a.length<n);f++)d=c[f],p=u[f],!i.filterCriterion&&s&&s.matcher&&!s.matcher(s.term,g.getLabel(d),d)||a.push(g.createItemResult(d,p));if(o&&g.removeDropdownMessage(o),o&&!h.done&&l&&a.length>=n)g.addDropdownMessage(o,e,e.getTranslatedString("filterFurther")),e._hasMore=!0;else{if(!h.done&&(!l||a.length<n))return r.next().then(t);e._hasMore=!1}}return Promise.resolve(a)})},fetchTreeData:function(e,t,i,s,o,n){var a=n>0,r=i.size;return e._hasMore=!1,o&&g.removeDropdownMessage(o),function t(o){i.size=r;var n=[],l=o.fetchFirst(i)[Symbol.asyncIterator]();return l.next().then(function h(c){var u=c.value.data,d=c.value.metadata;return function i(s){if(s<u.length){if(r>0||!a){var l=u[s],h=d[s],c=o.getChildDataProvider(l.value);return c?t(c).then(function(e){return p(l,h,e),i(s+1)}):(p(l,h,[]),i(s+1))}e._hasMore=!0}return Promise.resolve(n)}(0).then(function(){if(a){if(c.done||r<=0)return c.done||(e._hasMore=!0),Promise.resolve(n)}else if(c.done)return Promise.resolve(n);return l.next().then(h)});function p(e,t,l){var h=!s||!s.matcher||i.filterCriterion||s.matcher(s.term,g.getLabel(e),e),c=null==o.getChildDataProvider(e.value);if(c||(h=!1),h&&0===l.length&&a&&(r-=1),h||l.length>0){var u=g.createItemResult(e,t);e.disabled&&(u.disabled=!0),c&&!u.disabled||(u._jetUnSelectable=!0),l.length>0&&(u.children=l),n.push(u)}}})}(t).then(function(t){return e._hasMore&&o&&g.addDropdownMessage(o,e,e.getTranslatedString("filterFurther")),t})},fetchFilteredData:function(e,t,i,s,o){var a=g.getDataProvider(e.options),r={size:t},l=a.getCapability("filter"),h=n.AttributeFilterOperator.AttributeOperator.$co,c=n.AttributeFilterOperator.AttributeOperator.$regex,u=!1,d=!1;if(l){var p=l.operators;p&&p.length>0&&(p.indexOf(h)>=0||p.indexOf(c)>=0)&&(u=!0,p.indexOf(c)>=0&&(d=!0))}var f=g.isTreeDataProvider(a);if(s&&s.term)if(u){var m,_=e.options.optionsKeys;if(m=_&&_.label?_.label:"label",d){var v=g.escapeRegExp(s.term);r.filterCriterion={op:c,attribute:m,value:new RegExp(v,"i")}}else r.filterCriterion={op:h,attribute:m,value:s.term}}else if(!f)if(i>0){var b=i*g.FILTERING_FETCH_SIZE_MRC_TIMES;(b>g.FILTERING_FETCH_SIZE_MAX||b<g.FILTERING_FETCH_SIZE_MIN)&&(b=g.FILTERING_FETCH_SIZE_MAX),r.size=b}else r.size=i;return f?g.fetchTreeData(e,a,r,s,o,i):g.fetchFlatData(e,a,r,s,o,i)},rejectedError:{},fetchFromDataProvider:function(e,t,i,s){var o=e.ojContext;o._fetchResolveFunc||(o._fetchResolveFunc=g._addBusyState(e.container,"fetching data")),o._saveRejectFunc&&o._saveRejectFunc(g.rejectedError);var n=new Promise(function(e,t){o._saveRejectFunc=t});t.fetchType=null;var a=g._getMaxItems(t),r=s||t.fetchSize||a,l=g.fetchFilteredData(o,r,a,i,e.dropdown).then(function(e){return o._resultCount=e?e.length:0,e});Promise.race([n,l]).then(function(t){o._saveRejectFunc=null,o._resolveSearchBoxLater&&e._showSearchBox(""),i.callback({results:t}),o._fetchResolveFunc&&(o._fetchResolveFunc(),o._fetchResolveFunc=null)},function(e){e!==g.rejectedError&&o._fetchResolveFunc?(i.callback(),o._fetchResolveFunc(),o._fetchResolveFunc=null):e===g.rejectedError&&i.cleanup()})},fetchFirstBlockFromDataProvider:function(e,t,i){var s=g.getDataProvider(t),o=g._addBusyState(e,"fetching selected data"),n=g._getMaxItems(t),a={size:i||n};return g.isTreeDataProvider(s)?g.fetchTreeData({},s,a,null,null,n).then(function(e){if(1===i&&e&&e.length>0){for(var t=e[0];t.children;)t=t.children[0];e=[t]}return g._clearBusyState(o),e},function(){return g._clearBusyState(o),null}):s.fetchFirst(a)[Symbol.asyncIterator]().next().then(function(e){return g._clearBusyState(o),e.value.data},function(){return g._clearBusyState(o),null})},duringFetchByKey:function(e){return e._fetchByKeys},fetchByKeyFromDataProvider:function(e,t,i){var s=g.getDataProvider(t);const o=e instanceof a?null:e,r=null!=o?o.container:e,l=g._addBusyState(r,"fetching selected data");var h;r._fetchByKeys&&r._fetchByKeys.promise&&n.Object.compareValues(i.value,r._fetchByKeys.key)?h=r._fetchByKeys.promise:(h=s.fetchByKeys({keys:new Set(i.value)}),r._fetchByKeys={key:i.value,promise:h}),h.then(function(e){r._fetchByKeys=void 0;var t=[];e.results.forEach(function(e){t.push(g.createItemResult(e.data,e.metadata))}),i.callback({results:t}),g._clearBusyState(l)},function(){r._fetchByKeys=void 0,i.callback(),g._clearBusyState(l)})},validateFromDataProvider:function(e,t,i){return new Promise(function(s,o){g.fetchByKeyFromDataProvider(e,t,{value:Array.isArray(i)?i:[i],callback:function(e){var t=null;if(e&&e.results.length){(t={}).value=[],t.valueOptions=[];for(var i=0;i<e.results.length;i++)t.valueOptions.push(e.results[i]),t.value.push(e.results[i].value)}s(t)}})})},isReadonly:function(e){return e._IsCustomElement()&&(e.options.readOnly||"loading"===e.options.loading)},_getMaxItems:function(e){var t;return void 0!==e.maximumResultCount&&null!==e.maximumResultCount?(t=e.maximumResultCount)<1&&(t=g.DEFAULT_FETCH_ALL_SIZE):t=g.DEFAULT_FETCH_SIZE,t},remote:function(e,t){return function(i){var s={component:this.ojContext};i.value?s.value=i.value:s.term=i.term||"",e(s).then(function(e){var s={results:[]};e&&g.each2(a(e),function(e,o){g._processData(i,o,s.results,t,!1)}),i.callback(s)})}},_processData:function(e,t,i,s,o,n){var r,l=t[0];if(!l.label&&s&&s.label&&(l.label=l[s.label]),!l.value&&s&&s.value&&(l.value=l[s.value]),!l.children&&s&&s.children&&(l.children=l[s.children],delete l[s.children]),l.children){r={};for(var h=Object.keys(l),c=0;c<h.length;c++){var u=h[c];r[u]=l[u]}r.children=[],g.each2(a(l.children),function(t,i){g._processData(e,i,r.children,s&&s.childKeys?s.childKeys:null,o,n)}),(!o||r.children.length&&g._hasLeafNode(r))&&i.push(r)}else o&&!e.matcher(e.term,n(l),l)||i.push(l)},_hasLeafNode:function(e){if(null==e.children)return!0;for(let t=0;t<e.children.length;t++){const i=e.children[t];if(g._hasLeafNode(i))return!0}return!1},checkFormatter:function(e,t){if("function"==typeof e)return!0;if(!e)return!1;throw new Error(t+" must be a function or a false value")},clazz:function(e,t){var i=function(){};return n.Object.createSubclass(i,e,""),i.prototype=a.extend(i.prototype,t),i},LAST_QUERY_RESULT:"last-query-result",getLastQueryResult:function(e){return a.data(e.container,e._classNm+"-"+g.LAST_QUERY_RESULT)},saveLastQueryResult:function(e,t){a.data(e.container,e._classNm+"-"+g.LAST_QUERY_RESULT,t)},getSelectedOptionData:function(e,t){if(e.ojContext.multiple&&e.selection)for(var i,s,o=e.selection.find("."+e._classNm+"-selected-choice"),r=0;r<o.length;r++)if(i=o.get(r),s=a(i).data(e._elemNm),n.Object.compareValues(t,s.value))return s},getContextWithExtraData:function(e,t,i,s){return!(!!t&&g.isDataProvider(t.options))||null==i||Array.isArray(i)&&0===i.length?e:a.extend(e||{},{extraData:{data:i,metadata:s}})},getOpts:function(e){var t;return e&&(e.combobox&&e.combobox.opts?t=e.combobox.opts:e.select&&e.select.opts&&(t=e.select.opts)),t},getNormalizedValueArray:function(e){return Array.isArray(e)?e:null==e?[]:[e]},getWidget:function(e){return null!=e.select?e.select:null!=e.combobox?e.combobox:e.inputSearch},createProxyDropdownElement:function(e){const t=document.createElement("div");t.style.visibility="hidden",t.style.position="absolute",t.style.overflow="hidden";const i=document.createElement("div");i.setAttribute("data-oj-containerid",e),i.setAttribute("data-oj-context",""),i.setAttribute("class","oj-listbox-drop"),t.appendChild(i);const s=document.createElement("ul");return s.setAttribute("class","oj-listbox-results"),i.appendChild(s),a(t)}};var b,y={closeOnSelect:!0,openOnEnter:!0,formatNoMatches:function(e){return e.getTranslatedString("noMatchesFound")},formatNoMoreResults:function(e){return e.getTranslatedString("noMoreResults")},formatMoreMatches:function(e,t){return 1===t?e.getTranslatedString("oneMatchesFound"):e.getTranslatedString("moreMatchesFound",{num:""+t})},id:function(e){return e.id},sanitizeData:function(e,t){return e},parseData:function(e){return e},matcher:function(e,t){return(""+t).toUpperCase().indexOf((""+e).toUpperCase())>=0},separator:","};const j=g.clazz(Object,{_bind:function(e){var t=this;return function(){return e.apply(t,arguments)}},_customOptionRenderer:function(e){var t,i=this;e.each(function(){(t=a(this)).is("oj-option")?t.wrap("<li></li>"):t.is("oj-optgroup")&&(t.wrap("<li></li>"),i._customOptionRenderer(t.children()),t.children().wrapAll("<ul class='oj-listbox-result-sub' role='group'></ul>"))})},_init:function(e){var t,i,s=this._classNm,o=this._elemNm,r=".oj-listbox-results";this.ojContext=e.ojContext;var l=this._prepareOpts(e);this.opts=l,this.id=l.id,this.parseData=l.parseData,this.sanitizeData=l.sanitizeData,this.headerInitialized=!1,this.isOjOption=this.ojContext._IsCustomElement()&&!l.options&&l.element.find("oj-option").length>0,this._loadingIndicatorCount=0,this._hasLoadingIndicator=!1,this._dropdownLoadingIndicatorCount=0,this._hasDropdownLoadingIndicator=!1,this._isAndroidDevice=n.AgentUtils.getAgentInfo().os===n.AgentUtils.OS.ANDROID;const h=this.ojContext.cssOptionDefaults;let d=Number.parseInt(h.loadingIndicatorDelay,10);Number.isNaN(d)&&(d=g.DEFAULT_LOADING_INDICATOR_DELAY),this._loadingIndicatorDelay=d;var p=c.getCachedCSSVarValues(["--oj-private-core-global-dropdown-offset"])[0]||"0";this._dropdownVerticalOffset=parseInt(p,10),void 0!==l.element.data(o)&&null!==l.element.data(o)&&l.element.data(o)._destroy(),this._prepareContainer(),this.body=g.thunk(function(){return l.element.closest("body")}),this.dropdown=this.container.find(".oj-listbox-drop"),this.dropdown.data("ojlistbox",this),this._setPickerAttributes(l.pickerAttributes);var f=this.containerId;this.dropdown.attr("data-oj-containerid",f),this._dropdownPositioningProxyContainer=g.createProxyDropdownElement(f),t=this.container.find(r),this.results=t,this.results.on("click",g.killEvent),this._resultsBusyContext=u.getContext(this.results[0]).getBusyContext();var m=this._getTransferredAttribute("aria-label");if(null!=m&&this.results.attr("aria-label",m),this._defaultResultsMaxHeight=Number.parseInt(this.results.css("max-height"),10),l.list&&a("#"+l.list).is("ul")){var _=a("#"+l.list);this.dropdownListParent=_.parent(),_.addClass("oj-listbox-results").attr("role","listbox"),this.results.replaceWith(_),t=this.container.find(r),this.results=t,this.results.css("display","")}if(this.isOjOption){var v=l.element.children();this._customOptionRenderer(v),this.results.append(l.element.children()),this.datalist=this.results}i="oj-select"===s?this.container.find("input.oj-listbox-input"):this.container.find("input."+s+"-input"),this.search=i,this.queryCount=0,this.resultsPage=0,this.context=null,this._ariaDescribedByAdded=[],this._idsFromDropdown=g.getDataProviderKeySet(l.ojContext),this._initContainer(),this.container.on("click",".oj-text-field-container",g.killEvent),g.installFilteredMouseMove(this.results),this.elementTabIndex&&("oj-select"===s?this.selection.attr("tabindex",this.elementTabIndex):this.search.attr("tabindex",this.elementTabIndex)),this._boundHighlightUnderEvent=this._bind(this._highlightUnderEvent),this.ojContext._IsCustomElement()?(this._delegatedDropdownTouchStartListener=function(e){const t=e.currentTarget,i=e.target.closest(r);i&&t.contains(i)&&this._boundHighlightUnderEvent(a.Event(e,{currentTarget:i}))}.bind(this),this.dropdown.on("mousemove-filtered touchmove touchend",r,this._boundHighlightUnderEvent),this.dropdown[0].addEventListener("touchstart",this._delegatedDropdownTouchStartListener,{passive:!0})):this.dropdown.on("mousemove-filtered touchstart touchmove touchend",r,this._boundHighlightUnderEvent),a(this.container).on("change","."+s+"-input",function(e){e.stopPropagation()}),a(this.dropdown).on("change","."+s+"-input",function(e){e.stopPropagation()});var b=this;if(g.installKeyUpChangeEvent(i),i.on("keyup-change input paste",this._bind(this._updateResults)),i.on("focus",function(){i.addClass(s+"-focused"),"oj-select"!==s&&b.container.addClass("oj-focus"),b.isSearchFocused=!0}),i.on("blur",function(){i.removeClass(s+"-focused"),"oj-select"!==s&&b.container.removeClass("oj-focus"),b.isSearchFocused=!1}),this.dropdown.on("mouseup",r,this._bind(function(e){a(e.target).closest(".oj-listbox-result-selectable").length>0&&(this._highlightUnderEvent(e),this._selectHighlighted(null,e,!1))})),this.dropdown.on("click mouseup mousedown",function(e){e.stopPropagation()}),a.isFunction(this.opts.initSelection)){this.opts.fetchType="init";var y=this.getValOpts();(!this.ojContext.multiple||y&&0!==y.length)&&(this.ojContext.multiple||y)||(y=null),this._initSelection(y)}var j=l.element.prop("readonly");void 0===j&&(j=!1),this._readonly(j);var x=l.element.prop("disabled");if(void 0===x&&(x=!1),this._enable(!x),j){let e=this.container.find(".oj-combobox-input");this.ojContext._createOrUpdateReadonlyDiv(e[0])}g.scrollBarDimensions=g.scrollBarDimensions||g.measureScrollbar(),this.autofocus=l.element.prop("autofocus"),l.element.prop("autofocus",!1),this.autofocus&&this._focus(),this.applyReadonlyState(),this.isInitialized=!0},_CreateContentElements:function(){return null},_ConfigureSlots:function(){},_RestoreSlots:function(){},_createContainerForWidget:function(){var e=a(document.createElement("div")),t=this._CreateContentElements();return e.attr("class",this._COMPONENT_CLASSLIST),e.append(t),e},_prepareContainer:function(){var e,t,i,s,o;(e=this.ojContext._IsCustomElement()?this._prepareContainerForCustomElement():this._prepareContainerForWidget()).find(".oj-listbox-drop").css("display","none"),i="#"+(t=this._getOrCreateContainerId(e)).replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),o=this.opts.element.attr("tabindex"),s=this._elemNm,this.opts.element.data(s,this).attr("tabindex","-1"),e.data(s,this),this.container=e,this.containerId=t,this.containerSelector=i,this.elementTabIndex=o,this._ConfigureSlots()},_prepareContainerForCustomElement:function(){var e,t=this.ojContext.OuterWrapper,i=this._CreateContentElements(),s=this._COMPONENT_CLASSLIST;return(e=a(t)).addClass(s),e.prepend(i),e},_prepareContainerForWidget:function(){var e,t=this.opts.element,i=this._createContainerForWidget();return t.before(i),i.append(t),(e=this._getAttribute("style"))&&i.attr("style",e),i},_getOrCreateContainerId:function(e){var t;if(this.ojContext._IsCustomElement())(t=this._getAttribute("id"))||(t=this._classNm+"-"+g.nextUid(),e.attr("id",t));else{var i=this.opts.rootAttributes;t=i&&i.id?i.id:"ojChoiceId_"+(this._getAttribute("id")||this._classNm+g.nextUid()),e.attr("id",t)}return t},applyReadonlyState:function(){var t=this.ojContext._GetContentElement();if(g.isReadonly(this.ojContext)){if(this.container.addClass("oj-read-only"),"oj-combobox"===this._classNm)if(this.ojContext.multiple){if(t=null,this.search.removeAttr("tabindex"),this.selection.attr("tabindex",this.elementTabIndex||"0"),this.ojContext.options.labelledBy){var i=this.uuid+"_Label",s=e.EditableValueUtils._getOjLabelAriaLabelledBy(this.ojContext.options.labelledBy,i);s&&this.selection.attr("aria-labelledby",s)}this.selection.attr("aria-readonly",!0)}else t.attr("readonly",!0),this.ojContext._createOrUpdateReadonlyDiv(t[0]);else"oj-select"===this._classNm&&t.attr("aria-readonly","true");t&&(t.removeAttr("role"),t.removeAttr("aria-expanded"))}else this.container.removeClass("oj-read-only"),"oj-combobox"===this._classNm?this.ojContext.multiple?(t=null,null!=this.elementTabIndex&&this.search.attr("tabindex",this.elementTabIndex),this.selection.removeAttr("tabindex"),this.selection.removeAttr("aria-labelledby"),this.selection.removeAttr("aria-readonly")):t.removeAttr("readonly",!0):"oj-select"===this._classNm&&t.removeAttr("aria-readonly"),t&&(t.attr("role","combobox"),t.attr("aria-expanded","false"));this._enableInterface()},updateAriaLabelIfNeeded:function(){if(this.ojContext._IsCustomElement()){var e=this._contentElement.attr("aria-label");e?this.results.attr("aria-label",e):this.results.removeAttr("aria-label")}},updateAriaLabelledByIfNeeded:function(e){e?this.results.attr("aria-labelledby",e):this.results.removeAttr("aria-labelledby")},_clickAwayHandler:function(e){var t=this.dropdown;a(e.target).closest(t).length||a(e.target).closest("#"+a.escapeSelector(t.attr("data-oj-containerid"))).length||t.length>0&&this.close(e)},_surrogateRemoveHandler:function(){this.dropdown&&this.dropdown.remove()},_destroy:function(){var e=this._closeDelayTimer;isNaN(e)||(delete this._closeDelayTimer,window.clearTimeout(e));var t=this.opts.element,i=t.data(this._elemNm);this.close(),this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.opts.list&&this.results?(this._cleanupList(this.results),this.dropdownListParent&&this.dropdownListParent.append(this.results)):this.isOjOption&&this.results&&(this._unwrapOjOptions(this.results),this.opts.element.append(this.results.children())),void 0!==i&&(this.ojContext._IsCustomElement()?this._cleanUpContainerForCustomElement():this._cleanUpContainerForWidget(),t.removeAttr("aria-hidden").removeData(this._elemNm).off("."+this._classNm).prop("autofocus",this.autofocus||!1),this.elementTabIndex?t.attr({tabindex:this.elementTabIndex}):t.removeAttr("tabindex"),t.show()),this._clearActiveTimers(),this.container.removeData(this._elemNm),this._dropdownPositioningProxyContainer=null,this.container=null,this.dropdown=null,this.results=null,this.search=null,this.selection=null,this.isInitialized=!1},_cleanUpContainerForWidget:function(){var e=this.opts.element,t=e.data(this._elemNm);t.container.after(e),t.container.remove(),t.dropdown.remove()},_cleanUpContainerForCustomElement:function(){var e=this.opts.element,t=e.data(this._elemNm);t.dropdown[0].removeEventListener("touchstart",this._delegatedDropdownTouchStartListener,{passive:!0}),delete this._delegatedDropdownTouchStartListener,t.container.empty(),t.container.off("click"),t.container.append(e),this._RestoreSlots()},_unwrapOjOptions:function(e){var t,i=e.children(),s=this;i.each(function(){(t=a(this)).is("li")&&(t.hasClass("oj-listbox-result-with-children")||t.children("oj-optgroup").length>0?(t.hasClass("oj-listbox-result-with-children")&&t.children(".oj-listbox-result-label").remove(),s._unwrapOjOptions(t.find("oj-optgroup").children()),t.find("oj-optgroup").children().children().unwrap(),t.find("oj-optgroup").unwrap()):t.hasClass("oj-listbox-result")?t.find("oj-option").unwrap().unwrap():t.find("oj-option").unwrap())})},_cleanupList:function(e){if(e&&e.is("ul")){e.removeClass("oj-listbox-results oj-listbox-result-sub"),e.removeAttr("role");for(var t=e.children().length-1;t>=0;t--)this._cleanupList(a(e.children()[t]))}else if(e.is("li")){(e.hasClass("oj-listbox-placeholder")||e.hasClass("oj-listbox-no-results"))&&e.remove(),e.attr("class")&&e.attr("class",e.attr("class").replace(/oj-listbox-\S+/g,""));var i=e.children(".oj-listbox-result-label");i&&i.contents().unwrap(),"none"===e.css("display")&&e.css("display",""),this._cleanupList(e.children("ul"))}},_optionToData:function(e){if(e.is("option")||e.is("oj-option"))return{value:e.prop("value")||e.attr("value"),label:e.text().trim()||e.attr("label"),element:e.get(),css:e.attr("class"),disabled:e.prop("disabled"),locked:"locked"===e.attr("locked")||!0===e.data("locked")};if(e.is("optgroup")||e.is("oj-optgroup"))return{label:e.prop("label")||e.attr("label"),disabled:e.prop("disabled"),children:[],element:e.get(),css:e.attr("class")};if(e.is("li")){var t,i,s,o=null,n=e.children();if(n&&n.length>0&&n.is("ul"))t=e.attr("oj-data-label")?e.attr("oj-data-label"):e.clone().children().remove().end().text().trim(),i=e.attr("oj-data-value"),o=[];else if(n&&n.length>0&&n.is("oj-optgroup"))t=n.prop("label"),s=n.prop("disabled"),o=[];else{var a=e.find("oj-option");t=e.attr("oj-data-label")?e.attr("oj-data-label"):e.text().trim(),i=a.length>0?a.prop("value"):e.attr("oj-data-value"),s=a.length>0?a.prop("disabled"):void 0}return{value:i,label:t,disabled:s,element:e.get(),css:e.attr("class"),children:o}}},_prepareOpts:function(e){var t,i,s=e,o=this;s.options&&Array.isArray(s.options)&&s.optionsKeys&&(s.options=a.extend(!0,[],s.options));var r=(t=s.element).get(0).tagName.toLowerCase();if(s.ojContext._IsCustomElement()?!s.options&&s.element.children().length>0&&(i=a(t),this.datalist=i):"input"===r&&t.attr("list")?(i=a("#"+t.attr("list")),this.datalist=i):"select"===r&&t.children().length>0?(i=t,this.datalist=i):s.list&&(i=a("#"+s.list),this.datalist=i),(s=a.extend({},{populateResults:function(e,t,i,n){var l,h=this.opts.id,c=g.isTreeDataProvider(g.getDataProvider(this.opts)),u=this.opts.optionRenderer;if("function"!=typeof u&&(u=null),this.opts.ojContext._IsCustomElement()&&u){var d=u;u=function(e){var t=d(e);return!t||"OJ-OPTION"!==t.tagName&&"OJ-OPTGROUP"!==t.tagName?t&&t.insert?t.insert:null:(t.hasAttribute("data-oj-binding-provider")||t.setAttribute("data-oj-binding-provider","none"),t)}}(l=function(e,t,n,d,p){var f,m,_,v,b,y,j,x,C=function(e,t){if(t.children&&t.children.length>0){var i=t.element&&a(t.element[0]).is("li")&&a(t.element[0]).children("ul"),s=i?a(t.element[0]).children("ul"):a("<ul></ul>");s.hasClass("oj-listbox-result-sub")||s.addClass("oj-listbox-result-sub"),s.attr("role","group"),l(t,t.children,s,d+1,!1),i||e.append(s)}},S=function(e,t){function i(e,t){var s=a(e).is("OJ-HIGHLIGHT-TEXT"),o=3===e.nodeType;if(s)e.setAttribute("match-text",t);else if(o){var n=e.data;if(""!==n.trim()){var r=document.createElement("oj-highlight-text");r.setAttribute("text",n),r.setAttribute("match-text",t),r.setAttribute("data-oj-internal",""),r.setAttribute("data-oj-binding-provider","none"),e.parentNode.replaceChild(r,e)}}else if(1===e.nodeType&&e.childNodes&&!/(script|style)/i.test(e.tagName))for(var l=0;l<e.childNodes.length;l++)i(e.childNodes[l],t)}e.length&&t&&t.length&&e.each(function(){i(this,t.toUpperCase())})},O=function(e){if(s.highlightTermInOptions(i)){var t=e.find(".oj-listbox-highlighter-section");t.length||(t=e),S(t,i.term)}},E=function(t,i){var o;if(u){var n=g.isDataProvider(s.options)?i.data:i,a={index:f,depth:d,leaf:!i.children,parent:e,data:n,component:s.ojContext,parentElement:t.get(0)};s.ojContext._FixRendererContext&&(a=s.ojContext._FixRendererContext(a));var r=u.call(s.ojContext,a);null!==r&&(null===r.parentNode||r.parentNode instanceof DocumentFragment)&&(t.get(0).appendChild(r),o=r)}else void 0!==(x=g.getLabel(i))&&(t.text(x),t.attr("aria-label",x));return O(t),o},V=o._getPlaceholder();for(p&&null!==V&&!i.term&&n.find(".oj-listbox-placeholder").length<=0&&("select"!==r||!o.ojContext._IsRequired())&&(_={value:"",label:V},(y=a("<li></li>")).addClass("oj-listbox-placeholder oj-listbox-results-depth-0 oj-listbox-result oj-listbox-result-selectable"),y.attr("role","presentation"),(j=a(document.createElement("div"))).addClass("oj-listbox-result-label"),j.attr("id","oj-listbox-result-label-"+g.nextUid()),j.attr("role","option"),void 0!==(x=g.getLabel(_))&&j.text(x),j.attr("aria-label",x),y.append(j),y.data(o._elemNm,_),n.prepend(y)),f=0,m=t.length;f<m;f++){b=!0===(_=t[f]).disabled,v=c?!_._jetUnSelectable:!b&&null!=h(_)&&null==_.children;var I=_.element&&a(_.element[0]).is("li");if((y=a(I?_.element[0]:"<li></li>")).hasClass("oj-listbox-result"))_.children&&_.children.length>0&&C(y,_),O(a(_.element[0]).children("div")),a(_.element[0]).css("display","");else{y.addClass("oj-listbox-results-depth-"+d),y.addClass("oj-listbox-result"),y.addClass(v?"oj-listbox-result-selectable":"oj-listbox-result-unselectable"),b&&y.addClass("oj-disabled"),_.children&&y.addClass("oj-listbox-result-with-children"),y.attr("role","presentation");var w="oj-listbox-result-label-"+g.nextUid();if((j=a(document.createElement("div"))).addClass("oj-listbox-result-label"),j.attr("id",w),j.attr("role","option"),b&&j.attr("aria-disabled","true"),e&&e.ariaLabelledById?_.ariaLabelledById=e.ariaLabelledById+" "+w:_.ariaLabelledById=w,!I){var P=E(j,_);if(y.append(j),P&&("OJ-OPTION"===P.tagName||"OJ-OPTGROUP"===P.tagName)&&(P.getAttribute("disabled")&&(y.removeClass("oj-listbox-result-selectable"),y.addClass("oj-listbox-result-unselectable oj-disabled"),j.attr("aria-disabled","true")),"OJ-OPTGROUP"===P.tagName&&P.hasAttribute("label"))){var A=P.getAttribute("label"),D=document.createTextNode(A);P.insertBefore(D,P.firstChild)}}if(_.children&&_.children.length>0&&C(y,_),y.data(o._elemNm,_),I){var N=a(_.element[0]);if(N.children("oj-optgroup").length>0){var T=N.children("oj-optgroup").prop("label")+"";N.prepend(j.text(T))}else N.children("oj-option").length>0?N.contents().wrapAll(j):N.contents().filter(function(){return"UL"!==this.tagName}).wrapAll(j);O(N.children("div")),N.css("display","")}else n.append(y)}}})(null,t,e,0,n)},highlightTermInOptions:function(e){return!(!0===e.initial)}},y,s)).id=function(e){return e.value},s.sanitizeData=function(e,t){var i=n.CollectionUtils.copyInto({},e);return t&&e.unparsedValue&&(i.value=e.unparsedValue),delete i.unparsedValue,i},s.parseData=function(e){var t,i,s=this.ojContext.multiple,o=(e||{}).value,n={};if(g.isValueForPlaceholder(!1,o))return e;s&&(o=[o]);try{t=this.ojContext._parseValue(o),i=this.ojContext._formatValue(t),n.value=Array.isArray(t)?t[0]:t,n.label=Array.isArray(i)?i[0]:i}catch(t){return e}return n},"select"!==r&&null!==s.manageNewEntry&&(s.manageNewEntry=function(e,t){const i={};let o=i;return null==e?(i.label="",i.value=""):"string"==typeof e?(i.label=e.trim(),i.value=i.label):(i.label=String(e),i.value=e),null!=s.parseData&&(o=s.parseData(i),!0===t&&(o.unparsedValue=i.value)),o}),this.datalist)s.query=this._bind(function(e){var t,i,s={results:[],more:!1},n=e.term;i=function(t,s){var a,r,l=t.children()&&t.children().length>0&&(t.children().is("ul")||t.children().is("oj-optgroup"));t.is("option")||t.is("oj-option")||t.is("li")&&!l?e.matcher(n,t.text()||t.attr("label"),t)&&s.push(o._optionToData(t)):(t.is("optgroup")||t.is("oj-optgroup")||t.is("li")&&l)&&(a=o._optionToData(t),t.is("optgroup")||t.is("oj-optgroup")?r=t.children():t.children("oj-optgroup")?r=t.children().children("ul").children():t.children("ul").children(),g.each2(r,function(e,t){i(t,a.children)}),a.children.length>0&&s.push(a))},t=this.datalist.children(),void 0!==this._getPlaceholder()&&t.length>0&&""===t.first().attr("value")&&(t=t.slice(1)),g.each2(t,function(e,t){i(t,s.results)}),e.callback(s)});else if("options"in s){var l=s.options;g.getDataProvider(s)?s.query=function(e){e.value?g.fetchByKeyFromDataProvider(o,s,e):g.fetchFromDataProvider(o,s,e)}:a.isFunction(l)?s.query=g.remote(l,s.optionsKeys?s.optionsKeys:null):s.query=g.local(l,s.optionsKeys?s.optionsKeys:null)}return s},_createHeader:function(){var e=this.opts.element.find(".oj-listbox-header");if(e.length){this.header=a("<li>",{class:"oj-listbox-result-header oj-listbox-result-unselectable",role:"presentation"}),this.header.append(e.children()),this._initializeHeaderItems();var t=a("<ul>",{class:"oj-listbox-results-with-header",role:"listbox"});t.append(this.header),t.appendTo(this.results.parent());var i=a("<li>",{role:"presentation"});t.append(i),this.results.attr("role","presentation"),this.results.appendTo(i)}this.headerInitialized=!0},_initializeHeaderItems:function(){this.headerItems=this.header.find("li[role='option'], li:not([role])"),this.headerItems.uniqueId(),this.header.find("ul").attr("role","presentation"),this.header.find("li:not([role])").attr("role","option");this.header.find("a, input, select, textarea, button, object, .oj-component-initnode").each(function(){a(this).attr("tabIndex",-1)})},_isHeaderItem:function(e){var t=!1;return this.headerItems.each(function(){return a(this).attr("id")!==e||(t=!0,!1)}),t},_getNextHeaderItem:function(e){if(!this.headerItems)return null;if(!e)return this.headerItems.first();var t=!1,i=null;return this.headerItems.each(function(){return t?(i=a(this),!1):(t=a(this).attr("id")===e,!0)}),i},_getPreviousHeaderItem:function(e){if(!this.headerItems)return null;var t=null;return this.headerItems.each(function(){return a(this).attr("id")!==e&&(t=a(this),!0)}),t},_setFocusOnHeaderItem:function(e){var t=e.find(".oj-component .oj-enabled").first();if(0===t.length){0===(t=e.find("a, input, select, textarea, button, object, .oj-component-initnode").first()).length&&(t=e.children().first())}t&&t.addClass("oj-focus oj-focus-highlight oj-focus-only")},_removeHighlightFromHeaderItems:function(){this.headerItems&&this.headerItems.find(".oj-focus").removeClass("oj-focus oj-focus-highlight oj-focus-only")},_triggerSelect:function(e){var t=a.Event(this._elemNm+"-selecting",{val:this.id(e),object:e});return this.opts.element.trigger(t),!t.isDefaultPrevented()},_triggerInternalLoadingStateChange:function(e,t){const i={content:e,isLoading:t},s=a.Event(`${this._elemNm}-internal-loading-state-changed`,{detail:i});this.opts.element.trigger(s)},_isInterfaceEnabled:function(){return!0===this.enabledInterface},_enableInterface:function(){var e=this._enabled&&!(g.isReadonly(this.ojContext)||this._readonly);return e!==this.enabledInterface&&(g.isReadonly(this.ojContext)||this.container.toggleClass("oj-disabled",!e),this.close(),this.enabledInterface=e,!0)},_enable:function(e){var t=e;void 0===t&&(t=!0),this._enabled!==t&&(this._enabled=t,this.opts.element.prop("disabled",!(t||g.isReadonly(this.ojContext))),this.container.toggleClass("oj-enabled",t),this._enableInterface())},_disable:function(){this._enable(!1)},_readonly:function(e){var t=e;return void 0===t&&(t=!1),this._readonly!==t&&(this._readonly=t,this.opts.element.prop("readonly",t),this._enableInterface(),!0)},_opened:function(){return this.container.hasClass("oj-listbox-dropdown-open")},_getDropdownPositionElement:function(){return this.container[0].querySelector(".oj-text-field-container")},_usingHandler:function(e,t){if(n.PositionUtils.isAligningPositionClipped(t)){var i=g._addBusyState(this.container,"closing popup");return void(this._closeDelayTimer=window.setTimeout(function(){this.close(),i()}.bind(this),1))}const s=this.container,o=this.dropdown,a=this.results,r=n.PositionUtils.calcAvailablePopupSize(e,t),l=a.outerHeight(),h=o.outerHeight(!0)-l,c=r.height-h-this._dropdownVerticalOffset,u=Math.min(this._defaultResultsMaxHeight,c);a.css("max-height",u);const d=this._getDropdownPosition(!0);o.position(d),"bottom"===t.vertical?(s.addClass("oj-listbox-drop-above"),o.addClass("oj-listbox-drop-above")):(s.removeClass("oj-listbox-drop-above"),o.removeClass("oj-listbox-drop-above"))},_getDropdownPosition:function(e){var t={my:"start top",at:"start bottom",of:this._getDropdownPositionElement(),collision:"flip",offset:{x:0,y:this._dropdownVerticalOffset}};e||(t.using=this._usingHandler.bind(this));var i="rtl"===r.getReadingDirection(),s=n.PositionUtils.normalizeHorizontalAlignment(t,i);return s=n.PositionUtils.coerceToJet(s),(s=n.PositionUtils.coerceToJqUi(s)).of=t.of,s},_positionDropdown:function(){var e=this.dropdown,t=this._getDropdownPosition(),i=this.container;e.css("width",i.outerWidth());const s=this._dropdownPositioningProxyContainer,o=s.children(),n=o.find(".oj-listbox-results");s.appendTo(this.body()),o.css({width:e.outerWidth()}),n.css({height:n.css("max-height")}),o.position(t),s.detach()},_shouldOpen:function(e){if(this._opened())return!1;if(!1===this._enabled||g.isReadonly(this.ojContext)||!0===this._readonly)return!1;var t={component:this.opts.element};return this.ojContext._trigger("beforeExpand",e,t)},_clearDropdownAlignmentPreference:function(){this.container.removeClass("oj-listbox-drop-above"),this.dropdown.removeClass("oj-listbox-drop-above"),this.results.css("max-height","")},open:function(e,t,i){return!!this._shouldOpen(e)&&(this._opening(e,t,i),!0)},_opening:function(){this.headerInitialized||this._createHeader(),this.container.addClass("oj-listbox-dropdown-open"),this._showDropDown()},_showDropDown:function(){if(!this._opened())return;if("true"===this._getActiveContainer().attr("aria-expanded"))return;this._clearDropdownAlignmentPreference();if(n.ZOrderUtils.getStatus(this.dropdown)===n.ZOrderUtils.STATUS.OPEN)n.PopupService.getInstance().triggerOnDescendents(this.dropdown,n.PopupService.EVENT.POPUP_REFRESH);else{this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),this.dropdown.appendTo(this.body()),this.header&&(this.dropdown.find(".oj-listbox-results-with-header").prepend(this.header),this.header.show());var e={};e[n.PopupService.EVENT.POPUP_CLOSE]=a.proxy(this.close,this),e[n.PopupService.EVENT.POPUP_REMOVE]=a.proxy(this._surrogateRemoveHandler,this),e[n.PopupService.EVENT.POPUP_AUTODISMISS]=a.proxy(this._clickAwayHandler,this),e[n.PopupService.EVENT.POPUP_REFRESH]=a.proxy(this._positionDropdown,this);var t={};t[n.PopupService.OPTION.POPUP]=this.dropdown,t[n.PopupService.OPTION.LAUNCHER]=this.opts.element,t[n.PopupService.OPTION.EVENTS]=e,t[n.PopupService.OPTION.POSITION]=this._getDropdownPosition(),t[n.PopupService.OPTION.LAYER_SELECTORS]="oj-listbox-drop-layer",t[n.PopupService.OPTION.CUSTOM_ELEMENT]=this.ojContext._IsCustomElement(),n.PopupService.getInstance().open(t),a("#oj-listbox-drop").removeAttr("id"),this.dropdown.attr("id","oj-listbox-drop");var i=this.containerId;this.dropdown.attr("data-oj-containerid",i)}this._positionDropdown(),this._getActiveContainer().attr("aria-expanded",!0)},close:function(e,t){if(this.shouldReopenOnNewData=!0===t,this._opened()){this.container.removeClass("oj-listbox-dropdown-open");var i=this._getActiveContainer().attr("aria-expanded");if(delete this.ojContext._resolveSearchBoxLater,i&&"false"!==i){var s=this.containerId,o="scroll."+s,r="resize."+s,l="orientationchange."+s;this.container.parents().add(window).each(function(){a(this).off(o).off(r).off(l)}),this._clearDropdownAlignmentPreference();var h={};h[n.PopupService.OPTION.POPUP]=this.dropdown,n.PopupService.getInstance().close(h),this.header&&(this.header.hide(),this.header.appendTo(this.container)),this.dropdown.removeAttr("data-oj-containerid"),this.dropdown.removeAttr("id"),this.opts.list||this.isOjOption?this._removeHighlight():(this.dropdown.detach(),this.results.empty()),this.dropdown.appendTo(this.container),this._getActiveContainer().attr("aria-expanded",!1),this._updateMatchesCount("",!0),"ojcombobox"===this._elemNm&&this._getActiveContainer().removeAttr("aria-activedescendant"),a.removeData(this.container,this._classNm+"-last-term"),delete this.ojContext._resultCount}}},_setPickerAttributes:function(t){e.EditableValueUtils.setPickerAttributes(this.dropdown,t)},_clearSearch:function(){},_ensureHighlightVisible:function(){var e,t,i,s,o,n,r=this.results,l=this._highlight();l<0||(e=this._findHighlightableChoices(),i=(t=a(e[l])).offset().top+t.outerHeight(!0),l===e.length-1&&(n=r.find("li.oj-listbox-more-results")).length>0&&(i=n.offset().top+n.outerHeight(!0)),i>(s=r.offset().top+r.outerHeight(!0))&&r.scrollTop(r.scrollTop()+(i-s)),(o=t.offset().top-r.offset().top)<0&&"none"!==t.css("display")&&r.scrollTop(r.scrollTop()+o))},_findHighlightableChoices:function(){return this.results.find(".oj-listbox-result-selectable:not(.oj-disabled, .oj-selected)").filter(function(){return"none"!==a(this).css("display")})},_moveHighlight:function(e){var t=this._findHighlightableChoices(),i=this._highlight();if(this.header&&(i<=0||i===t.length-1)){var s=this._getActiveContainer().attr("aria-activedescendant"),o=this._isHeaderItem(s);o||(s=null);var n=null;if(e>0&&(i<0||i===t.length-1)?n=this._getNextHeaderItem(s):e<0&&(o&&i<0||0===i)&&(n=this._getPreviousHeaderItem(s)),n)return this._removeHighlight(),this._setFocusOnHeaderItem(n),void this._getActiveContainer().attr("aria-activedescendant",n.attr("id"));o&&e<0&&(i=0)}for(;i>=-1&&i<t.length;){(i+=e)===t.length?i=0:-1===i&&(i=t.length-1);var r=a(t[i]);if(r.hasClass("oj-listbox-result-selectable")&&!r.hasClass("oj-disabled")&&!r.hasClass("oj-selected")){this._highlight(i,!0);break}}},_highlight:function(e,t,i){let s=e;const o=this._findHighlightableChoices();let n,r;if(0===arguments.length){var l=o.filter(".oj-hover");return l.length||(l=o.children(".oj-hover").closest(".oj-listbox-result")),this._updateMatchesCount(l.text()),o.get().indexOf(l[0])}return s>=o.length&&(s=o.length-1),s<0&&(s=0),this._removeHighlight(),n=a(o[s]),r=n,n.hasClass("oj-listbox-result-with-children")&&(r=n.children(".oj-listbox-result-label")),r.addClass("oj-hover"),t&&(r.addClass("oj-listbox-result-keyboard-focus"),i||r.addClass("oj-focus-highlight")),this._updateMatchesCount(r.text()),this._getActiveContainer().attr("aria-activedescendant",n.find(".oj-listbox-result-label").attr("id")),this._ensureHighlightVisible(),0},_removeHighlight:function(){this.results.find(".oj-hover").removeClass("oj-hover oj-listbox-result-keyboard-focus oj-focus-highlight"),this._removeHighlightFromHeaderItems(),"ojcombobox"===this._elemNm&&this._getActiveContainer().removeAttr("aria-activedescendant")},_highlightUnderEvent:function(e){var t=a(e.target).closest(".oj-listbox-result-selectable");if(t.length>0&&!t.is(".oj-hover")){var i=this._findHighlightableChoices();this._highlight(i.index(t))}else 0===t.length&&this._removeHighlight()},_updateMatchesCount:function(e,t){if(!this.dropdown.find(".oj-listbox-filter-message-text").length||!0===t){var i=this.container.find(".oj-listbox-liveregion");i.length&&i.text(e)}},_updateResults:function(e,t){var i=this.search,s=this,o=i.val(),n=a.data(this.container,this._classNm+"-last-term");if((!0===e||!n||o!==n||!0===this.opts.multiple||t)&&(n||o||!e||"input"!==e.type)){a.data(this.container,this._classNm+"-last-term",o);var r=this.opts.minLength||0;o.length>=r?(this._queryTimer&&this._queryTimer.clear(),e&&!0!==e?(this._queryResolveBusyState=g._addBusyState(this.container,"query results"),this._queryTimer=h.getTimer(g.DEFAULT_QUERY_DELAY),this._queryTimer.getPromise().then(function(t){t&&s._queryResults(e)}).then(this._queryResolveBusyState)):this._queryResults(e)):this.close()}},_queryResults:function(e){var t,i,s=this.search,o=this.results,n=this.opts,a=this,r=s.val();function l(){if(a._resultsBusyContext.isReady())a._resultsBusyContextPromise=null,a._positionDropdown();else{const e=a._resultsBusyContext.whenReady();a._resultsBusyContextPromise=e;const t=function(){a._resultsBusyContextPromise===e&&(a._resultsBusyContextPromise=null,a._positionDropdown())};e.then(t,t).catch(t)}if(a.header&&a.headerItems.length){var e=a._findHighlightableChoices(),t=a.headerItems.length+e.length;if(a.headerItems.attr("aria-setsize",t),e.length){var i=e.children("[role='option']");i.attr("aria-setsize",t),i.first().attr("aria-posinset",a.headerItems.length+1)}}}(n.minLength||0)>r.length?this.close():(this.open(null,!0),g.updateDropdownLoadingState(this,!0),this.queryCount+=1,i=this.queryCount,this._removeHighlight(),r=null!=(t=this.search.val())&&(!0!==e||n.inputSearch||"rawValue"===n.filterOnOpen||n.minLength>0)?t:"",this.resultsPage=1,n.query({element:n.element,term:r,page:this.resultsPage,context:null,matcher:n.matcher,callback:this._bind(function(t){if(!this.isInitialized)return;if(g.updateDropdownLoadingState(this,!1),i!==this.queryCount)return;if(!this._opened())return;n.ojContext._hasMore||g.removeDropdownMessage(a.dropdown),this.results.removeClass(g.STYLE_CLASS.HIDDEN),this.context=t&&void 0!==t.context?t.context:null;const r=!t||t.results&&0===t.results.length,h=this._isDataSelected(t)&&this.ojContext.isValid(),c=g.checkFormatter(n.formatNoMatches,"formatNoMatches"),u=g.checkFormatter(n.formatNoMoreResults,"formatNoMoreResults");if(r&&c||h&&u){let e;if(e=h?n.formatNoMoreResults(a.ojContext):n.formatNoMatches(a.ojContext),"oj-select"===this._classNm||this.header){if(this._showDropDown(),this._preprocessResults(o),g.addDropdownMessage(a.dropdown,a.ojContext,e),this.results.addClass(g.STYLE_CLASS.HIDDEN),!this._hasSearchBox()){var d=a.dropdown.find(".oj-listbox-filter-message-separator");d.length&&d.css("display","none")}l()}else this.close(null,!0);this._updateMatchesCount(e)}else g.saveLastQueryResult(this,t.results),this._showDropDown(),this._preprocessResults(o),a.opts.populateResults.call(this,o,t.results,{term:s.val(),page:this.resultsPage,context:null,initial:e},this._showPlaceholder()),this._postprocessResults(t,e),l(),this._updateMatchesCount(n.formatMoreMatches(a.ojContext,this._findHighlightableChoices().length))}),cleanup:this._bind(function(){g.updateDropdownLoadingState(this,!1)})}))},_preprocessResults:function(e){if(this.opts.list||this.isOjOption){var t=e.children();this._hideResultList(t)}else e.empty()},_processAriaLabelForHierarchy:function(){var e=this.results.find(".oj-listbox-result-with-children");if(0!==e.length){var t=this,i=function(e){var i=e.find(".oj-listbox-result-label"),s=e.data(t._elemNm).ariaLabelledById;s&&i&&i.attr("aria-labelledby",s)};g.each2(e,function(e,t){var s=t.find(".oj-listbox-result-selectable:visible");s&&s.length>0&&(i(a(s[0])),s.length>1&&i(a(s[s.length-1])))})}},_normalizeHighlighterLabel:function(e){var t;if((t=e.children("div").children("oj-option").length>0?e.children("div").children("oj-option").find("oj-highlight-text"):e.children("div").children("oj-highlight-text")).length>0)for(var i=0;i<t.length;i++){var s=t[i],o=s.getAttribute("text")||"",n=document.createTextNode(o);s.parentElement.replaceChild(n,s)}},_hideResultList:function(e){for(var t=0;t<e.length;t++){var i,s=a(e[t]);s.is("LI")&&((s.hasClass("oj-listbox-no-results")||s.hasClass("oj-listbox-placeholder"))&&s.remove(),s.css("display","none"),s.hasClass("oj-selected")&&s.removeClass("oj-selected"),this._normalizeHighlighterLabel(s)),(i=s.children("oj-optgroup")?s.children("oj-optgroup").children("ul"):s.children("ul"))&&i.children()&&this._hideResultList(i.children())}},_cancel:function(e){this.close(e)},_focusSearch:function(){g._focus(this,this.search)},_selectHighlighted:function(e,t,i){var s=e;if(this.header){var o=this._getActiveContainer().attr("aria-activedescendant");if(this._isHeaderItem(o)){var n=a("#"+o),r=n.find("a, input, select, textarea, button, object").first();return 0===r.length&&(r=n.children()),r.length&&r[0].click(),void this.close(t)}}var l=this._highlight(),h=this._getHighlightedForSelection(i);if(h){this._highlight(l);var c=this.getVal();(s=s||{}).trigger=g.ValueChangeTriggerTypes.OPTION_SELECTED;var u=this._onSelect(h,s,t);u instanceof Promise?u.then(this._bind(function(e){e&&(this._triggerUpdateEvent(h,s,t),this._triggerValueUpdatedEvent(h,c))})):!1!==u&&(this._triggerUpdateEvent(h,s,t),this._triggerValueUpdatedEvent(h,c)),t&&"keydown"===t.type&&(this.enterKeyEventHandled=!0)}},_getHighlightedForSelection:function(e){let t;return t="oj-select"!==this._classNm&&e?this.results.find(".oj-hover.oj-listbox-result-keyboard-focus"):this.results.find(".oj-hover"),t.closest(".oj-listbox-result").data(this._elemNm)},_getPlaceholder:function(){return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder},_setPlaceholder:function(){var e=this._getPlaceholder();if(this.ojContext.multiple&&"oj-select"===this._classNm){var t=this.selection.find(".oj-select-default");t.length>0?t.text(e):this._clearSearch()}else e?this.search.attr("placeholder",e):this.search.removeAttr("placeholder")},_initContainerWidth:function(){var e=function(){var e,t,i,s,o;if(null!=(e=this._getAttribute("style")))for(s=0,o=(t=e.split(";")).length;s<o;s++)if(null!==(i=t[s].replace(/\s/g,"").match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i))&&i.length>=1)return i[1];return null}.call(this);null!==e&&this.container.css("width",e)},valHasChanged:function(){var e=this.container;g.duringFetchByKey(e)&&(g.setValueChanged(this.ojContext,!0),this.ojContext.multiple||g.updateLoadingState(this,!1))},getVal:function(){return this.ojContext.option("value")},getRawValue:function(){return this.ojContext.option("rawValue")},setVal:function(e,t,i){this.valHasChanged();var s={doValueChangeCheck:!1};i&&(s._context=i);var o=this.ojContext.multiple;if(!this._skipSetValueOptions)if(g.isValueForPlaceholder(o,e)&&null!==this._getPlaceholder())this.setValOpts(g.getFixupValueOptionsForPlaceholder(o));else{var a,r=g.getLastQueryResult(this);r&&(a=o?g.findOptions(r,e):g.findOption(r,e)),a?this.setValOpts(a):"oj-combobox"===this._classNm?this.ojContext._resolveValueOptionsLater=null!=g.findOption(this.getValOpts(),e):this.ojContext._resolveValueOptionsLater=!0}var l=this.getVal(),h=null;return Array.isArray(e)||this.ojContext._IsCustomElement()?!n.Object.compareValues(l,e)||g.hasInvalidComponentMessages(this.ojContext)?h=this.ojContext._SetValue(e,t,s):"oj-combobox"!==this._classNm||o||this.ojContext._SetDisplayValue(e):!n.Object.compareValues(l,[e])||g.hasInvalidComponentMessages(this.ojContext)?h=this.ojContext._SetValue([e],t,s):"oj-combobox"!==this._classNm||o||this.ojContext._SetDisplayValue([e]),h},getValOpts:function(){var e=this.ojContext;return e.multiple?e.option("valueOptions"):e.option("valueOption")},setValOpts:function(e){var t=this.ojContext,i=t.multiple,s=g.getFixupValueOptionsForPlaceholder(i),o=i?t.options.valueOptions:t.options.valueOption;g.isValueOptionsForPlaceholder(i,e)&&g.isValueOptionsForPlaceholder(i,o)&&g.isPlaceholderSpecified(t.options)?i?t.options.valueOptions=s:t.options.valueOption=s:n.Object.compareValues(e,this.getValOpts())||g.setValueOptions(t,e),i?this.opts.valueOptions=e:this.opts.valueOption=e},_triggerUpdateEvent:function(e,t,i){},_triggerValueUpdatedEvent:function(e,t){},_showPlaceholder:function(){return!1},_getActiveContainer:function(){return this.search},_getAttribute:function(e){return this.opts.ojContext._IsCustomElement()?this.opts.ojContext.OuterWrapper.getAttribute(e):this.opts.element.attr(e)},_getTransferredAttribute:function(e){return this.opts.element.attr(e)},_showSearchBox:function(e){var t=!1,i=this.dropdown.find(".oj-listbox-search");if(i&&(this._hasSearchBox()?(this.dropdown.find(".oj-listbox-search-wrapper").removeClass("oj-helper-hidden-accessible"),a(i).removeAttr("aria-hidden"),this.search.val(e),t=!0):(this.dropdown.find(".oj-listbox-search-wrapper").addClass("oj-helper-hidden-accessible"),a(i).attr("aria-hidden","true"))),g._focus(this,t?this.search:this.selection),t){var s=this;i.find(".oj-listbox-spyglass-box").on("mouseup click",function(e){s.search.focus(),e.preventDefault()})}},_hasSearchBox:function(){if(this._userTyping)return!0;var e,t=this.opts.minimumResultsForSearch;if(this.opts.list)e=a("#"+this.opts.list).find("li").length;else if(g.isDataProvider(this.opts.options)){if(void 0===this.ojContext._resultCount)return this.ojContext._resolveSearchBoxLater=!0,!1;e=this.ojContext._resultCount,delete this.ojContext._resolveSearchBoxLater}else this.datalist?e=this.ojContext._IsCustomElement()?this.datalist.children().find("oj-option").length:this.datalist[0].length:this.opts.options&&(e=this.opts.options.length);return e>t},_hasHiddenSearchBox:function(){return"true"===this.dropdown.find(".oj-listbox-search").attr("aria-hidden")},_isDataSelected:function(e){return!1},_findItem:function(e,t){for(var i=0;i<e.length;i++)if(a(e[i]).data(this._elemNm).value===t)return e[i];return null},_UpdateValueOptionsWithConverter:function(){},_SyncRawValue:function(e,t){},_ShouldToggleDropdown:function(e){return this._isInterfaceEnabled()&&0===e.button},_ShouldCreateNewEntry:function(e){if(!this.opts.manageNewEntry)return!1;const t=e?".oj-hover.oj-listbox-result-keyboard-focus":".oj-hover",i=this.results.find(t);return this.search.val()&&0===i.length},_selectItemByValue:function(e){const t=this.ojContext.options,i={trigger:g.ValueChangeTriggerTypes.ENTER_PRESSED},s=g.getNormalizedValueArray(e);return t.options?(this._idsFromDropdown.clear(),g.isDataProvider(t.options)?this._selectItemFromDataProvider(s,i):this._selectItemFromArray(s,i)):this.isOjOption?(this._idsFromDropdown.clear(),this._selectItemFromOjOptions(s,i)):Promise.reject("Unsupported options")},_selectItemFromDataProvider:function(e,t){const i=g.getDataProvider(this.opts);let s=new Set(e);return i.fetchByKeys({keys:s}).then(this._bind(function(i){const s=i.results;let o=[];return e.forEach(this._bind(function(e){let t;if(s.has(e)){const i=s.get(e),o=i.data,n=i.metadata;t=g.createItemResult(o,n),this._idsFromDropdown.add(e)}else t=this._getItemForCustomInput(e);null!=t&&o.push(t)})),this._InvokeSelection(o,t)}))},_selectItemFromArray:function(e,t){const i=this.ojContext.options.options,s=this.ojContext.options.optionsKeys||{};let o=new Map,n=[];if(!Array.isArray(i))return Promise.reject("Unsupported options");for(let t=0;t<i.length;t++){const n=i[t],a=g.lookupOptionKeys(n,s,"value");if(e.includes(a)&&(o.set(a,n),e.length===o.size))break}return e.forEach(this._bind(function(e){let t;o.has(e)?(t=o.get(e),this._idsFromDropdown.add(e)):t=this._getItemForCustomInput(e),null!=t&&(null!=s.value&&(t.value=t[s.value]),null!=s.label&&(t.label=t[s.label]),n.push(t))})),this._InvokeSelection(n,t)},_selectItemFromOjOptions:function(e,t){const i=this.datalist.find("oj-option");let s=new Map,o=[];return g.each2(i,this._bind(function(t,i){const o=this._optionToData(i);o&&e.includes(this.id(o))&&s.set(this.id(o),o)})),e.forEach(this._bind(function(e){let t;s.has(e)?(t=s.get(e),this._idsFromDropdown.add(e)):t=this._getItemForCustomInput(e),null!=t&&o.push(t)})),this._InvokeSelection(o,t)},_getItemForCustomInput:function(e){if(this.opts.manageNewEntry){this.shouldApplyConverter=!0;const t=this.opts.manageNewEntry(e,!0);return delete this.shouldApplyConverter,t}return null},_InvokeSelection:function(e,t){},_clearActiveTimers:function(){this._focusTimer&&(this._focusTimer.clear(),delete this._focusTimer),this._loadingIndicatorTimer&&(this._loadingIndicatorTimer.clear(),delete this._loadingIndicatorTimer),this._dropdownLoadingIndicatorTimer&&(this._dropdownLoadingIndicatorTimer.clear(),delete this._dropdownLoadingIndicatorTimer),this._queryTimer&&(this._queryTimer.clear(),delete this._queryTimer)}}),x=g.clazz(j,{applyReadonlyState:function(){x.superclass.applyReadonlyState.apply(this,arguments),g.applyValueOptions(this,this.opts)},_prepareOpts:function(){var e=x.superclass._prepareOpts.apply(this,arguments),t=this,i=e.element.get(0).tagName.toLowerCase();if("input"===i&&e.element.attr("list")||"select"===i&&e.element.children().length>0||e.ojContext._IsCustomElement()&&!e.options||e.list){var s=e.list?"li":"option";e.ojContext._IsCustomElement()&&(s="oj-option"),e.initSelection=function(o,a){var r,l=[];if(t._idsFromDropdown.clear(),t.getVal())for(var h=t.getVal(),c=0;c<h.length;c++){var u=h[c];if((r=o.find(s).filter(function(){var e;return"li"===s?e=this.getAttribute("oj-data-value"):"option"!==s&&"oj-option"!==s||(e=this.value),n.Object.compareValues(e,u)}))&&r.length){let i=t._optionToData(r);l.push(i),t._idsFromDropdown.add(e.id(i))}else"ojcombobox"===t._elemNm&&l.push(e.parseData({value:u,label:u}))}else"select"!==i&&(r=o.find(s).filter(function(){return"option"===s?this.selected:"li"===s?!0===this.getAttribute("oj-data-selected"):"oj-option"===s&&!0===this.getAttribute("selected")}),g.each2(r,function(i,s){let o=t._optionToData(s);l.push(o),t._idsFromDropdown.add(e.id(o))}));a(l)}}else"options"in e&&(g.isDataProvider(e.options)||a.isFunction(e.options)?e.initSelection=function(i,s){var o=function(t,i){for(var s=[],n=0,r=t.length;n<r;n++){var l=t[n];if(i.indexOf(e.id(l))>=0&&s.push(l),l.children){var h=o(l.children,i);h&&h.length&&a.merge(s,h)}}return s},r=t.getVal(),l=[];t._idsFromDropdown.clear();var h=g.getLastQueryResult(t);h&&(l=o(h,r));var c=function(){for(var i=[],o=0;o<r.length;o++){for(var a=r[o],h=!1,c=0;c<l.length;c++){var u=l[c];if(n.Object.compareValues(a,e.id(u))){i.push(u),t._idsFromDropdown.add(e.id(u)),l.splice(c,1),h=!0;break}}if(!h){var d=t.currentItem;if(d&&d.length)for(var p=0;p<d.length;p++)if(n.Object.compareValues(a,e.id(d[p]))){i.push(d[p]),h=!0;break}h||"ojcombobox"!==t._elemNm||i.push(e.parseData({value:a,label:a}))}}s(i)};t.valueChangeTrigger?c():(g.updateLoadingState(t,!0),e.query({value:r,callback:function(i){if(t.isInitialized){if(g.updateLoadingState(t,!1),i&&i.results){var s=o(i.results,r);if(s&&s.length){var h=s;if(g.isDataProvider(e.options)){h=[];var u=t.getVal();if(n.Object.compareValues(r,u)&&!g.isValueChanged(t.ojContext))h=s;else{var d,p,f=t.getValOpts();u.forEach(function(e){for(p=!1,d=0;d<f.length;d++)if(n.Object.compareValues(f[d].value,e)){p=!0,h.push(f[d]);break}if(!p)for(d=0;d<s.length;d++)if(n.Object.compareValues(s[d].value,e)){h.push({value:s[d].value,label:s[d].label});break}}),r=u,g.setValueOptions(t.ojContext,h)}}a.merge(l,h)}}g.setValueChanged(t.ojContext,void 0),c()}},cleanup:a.noop}))}:e.initSelection=function(i,s){var o=t.getVal();if(o&&0!==o.length){var r=[];t._idsFromDropdown.clear(),e.query({matcher:function(t,i,s){var l=a.grep(o,function(t){return n.Object.compareValues(t,e.id(s))}).length;return l&&r.push(s),l},callback:a.isFunction(s)?function(){if(t.isInitialized){for(var i=[],a=0;a<o.length;a++){for(var l=o[a],h=!1,c=0;c<r.length;c++){var u=r[c];if(n.Object.compareValues(l,e.id(u))){i.push(u),t._idsFromDropdown.add(e.id(u)),r.splice(c,1),h=!0;break}}h||"ojcombobox"!==t._elemNm||i.push(e.parseData({value:l,label:l}))}s(i)}}:a.noop,cleanup:a.noop})}});return e},_selectChoice:function(e){var t=this.container.find("."+this._classNm+"-selected-choice.oj-focus"),i=t&&t.length>0,s=e&&e.length>0;(!i&&s||i&&!s||i&&s&&e[0]!==t[0])&&(i&&(this.opts.element.trigger("choice-deselected",t),t.removeClass("oj-focus")),s&&(this.close(),e.addClass("oj-focus"),this.container.find("."+this._classNm+"-description").text(e.attr("valueText")+". Press back space to delete.").attr("aria-live","assertive"),this.opts.element.trigger("choice-selected",e)))},_destroy:function(){a("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.container.off("mousedown"),x.superclass._destroy.apply(this,arguments)},_initContainer:function(){var e,t="."+this._classNm+"-accessible-container",i=g.nextUid(),s=this._getTransferredAttribute("aria-label"),o=this._getTransferredAttribute("aria-controls");this.searchContainer=this.container.find("."+this._classNm+"-search-field");var n=this.container.find(t);this.selection=n;var r=this;this.selection.on("click","."+this._classNm+"-selected-choice:not(."+this._classNm+"-locked)",function(){"ojcombobox"===r._elemNm&&r.search[0].focus(),r._selectChoice(a(this))}),"ojselect"===this._elemNm&&this.selection.on("blur",function(){r._selectChoice(null)}),this._contentElement="ojcombobox"===this._elemNm?this.search:this.selection,n.find("."+this._classNm+"-input").attr("id",this._classNm+"-input-"+i),this.results.attr("id")||this.results.attr("id","oj-listbox-results-"+i),this._contentElement.attr("aria-owns",this.results.attr("id")),this.ojContext._IsCustomElement()||((e=a("label[for='"+this._getAttribute("id")+"']")).attr("id")||e.attr("id",this._classNm+"-label-"+i),this._contentElement.attr("aria-labelledby",e.attr("id")),this.opts.element.attr("aria-labelledby",e.attr("id")),this.search.attr("id")&&e.attr("for",this.search.attr("id"))),s&&this._contentElement.attr("aria-label",s),o&&this._contentElement.attr("aria-controls",o),this.elementTabIndex&&this._contentElement.attr("tabindex",this.elementTabIndex),this.keydowns=0,"ojselect"===this._elemNm&&(this.selection.on("keydown",this._bind(this._containerKeydownHandler)),this.selection.on("keyup",this._bind(function(){this.keydowns=0}))),this.search.on("keydown",this._bind(this._containerKeydownHandler)),this.search.on("keyup",this._bind(function(){this.keydowns=0})),this.search.on("compositionstart",this._bind(function(){this.ojContext._isComposing=!0})),this.search.on("compositionend",this._bind(function(e){this.ojContext._isComposing=!1,this._onSearchInputHandler(e)})),this.search.on("input",this._bind(function(e){this.ojContext._isComposing&&!this._isAndroidDevice||this._onSearchInputHandler(e)})),this.search.on("blur keyup",this._bind(function(e){if("keyup"!==e.type||10===e.keyCode||13===e.keyCode){if(this._ShouldCreateNewEntry("keyup"===e.type)){this.shouldApplyConverter=!0;var t=this.opts.manageNewEntry(this.search.val(),!0),i={trigger:"blur"===e.type?g.ValueChangeTriggerTypes.BLUR:g.ValueChangeTriggerTypes.ENTER_PRESSED},s=this._onSelect(t,i,e);s instanceof Promise?s.then(this._bind(function(){delete this.shouldApplyConverter,this._clearSearchOnBlur()})):(delete this.shouldApplyConverter,this._clearSearchOnBlur())}this._selectChoice(null),"blur"===e.type&&(this.isSearchFocused=!1,this.search.removeClass(this._classNm+"-focused"),this.container.removeClass("oj-focus")),e.stopImmediatePropagation()}})),this.container.on("mousedown",".oj-text-field-container",this._bind(this._mouseDownHandler)),this._initContainerWidth(),this.opts.element.hide().attr("aria-hidden",!0),this._clearSearch()},_mouseDownHandler:function(e){this._ShouldToggleDropdown(e)&&(this.selection.removeClass("oj-focus-highlight"),this.container.removeClass("oj-focus-highlight"),a(e.target).closest("."+this._classNm+"-selected-choice").length>0||(this._selectChoice(null),this._opened()?(this.close(e),"ojcombobox"===this._elemNm&&this._focusSearch()):(this.open(e),("ojcombobox"===this._elemNm||this._hasSearchBox())&&this._focusSearch())))},_onSearchInputHandler:function(e){this._SyncRawValue(e,!0)},_containerKeydownHandler:function(e){if(!this._isInterfaceEnabled())return;this.keydowns+=1;var t=this.selection.find("."+this._classNm+"-selected-choice.oj-focus"),i=t.prev("."+this._classNm+"-selected-choice:not(."+this._classNm+"-locked)"),s=t.next("."+this._classNm+"-selected-choice:not(."+this._classNm+"-locked)"),o="ojselect"!==this._elemNm||this._userTyping?g.getCursorInfo(this.search):g.getCursorInfo(this.selection);const n=e.which||e.keyCode;if(t.length&&(n===g.KEY.LEFT||n===g.KEY.RIGHT||n===g.KEY.BACKSPACE||n===g.KEY.DELETE||n===g.KEY.ENTER)){var a=t;return n===g.KEY.LEFT&&i.length?a=i:n===g.KEY.RIGHT?a=s.length?s:null:n===g.KEY.BACKSPACE?(this._unselect(t.first(),e),this._resetSearchWidth(),a=i.length?i:s):n===g.KEY.DELETE?(this._unselect(t.first(),e),this._resetSearchWidth(),a=s.length?s:null):n===g.KEY.ENTER&&(a=null),this._selectChoice(a),e.preventDefault(),void(a&&a.length||this.open(e))}if(this._isBackNavAllowed()&&0===o.offset&&!o.length&&(n===g.KEY.BACKSPACE&&1===this.keydowns||n===g.KEY.LEFT))return this._selectChoice(this.selection.find("."+this._classNm+"-selected-choice:not(."+this._classNm+"-locked)").last()),void e.preventDefault();if(this._selectChoice(null),!g.KEY.isControl(e)&&!g.KEY.isFunctionKey(e)){switch(n){case g.KEY.UP:case g.KEY.DOWN:return this._opened()?this._moveHighlight(n===g.KEY.UP?-1:1):this.open(e),void e.preventDefault();case g.KEY.PAGE_UP:case g.KEY.PAGE_DOWN:return void e.preventDefault();case g.KEY.ENTER:return this._opened()&&(this._selectHighlighted(null,e,!0),e.stopPropagation()),void e.preventDefault();case g.KEY.TAB:return void this.close(e);case g.KEY.ESC:return this._cancel(e),void e.preventDefault()}this._userTyping=!0}},_isBackNavAllowed:function(){return"ojselect"!==this._elemNm||document.activeElement!==this.search[0]},_enableInterface:function(){x.superclass._enableInterface.apply(this,arguments)&&this.search.prop("disabled",!(this._isInterfaceEnabled()||g.isReadonly(this.ojContext)))},_initSelection:function(e){var t=this.getVal();if(null!==t&&0!==t.length||"oj-select"!==this._classNm&&""!==this.opts.element.text().trim()||(this._updateSelection(e||[]),this.close(),this._clearSearch()),this.datalist||null!==this.getVal()&&this.getVal().length){var i,s=this;i=this.datalist?this.datalist:this.opts.element,g.applyValueOptions(this,this.opts)||this.opts.initSelection.call(null,i,function(e){null!=e&&0!==e.length&&(s._updateSelection(e),s.close(),s._clearSearch())})}},_focus:function(){this.close(),this.search.focus()},_updateSelection:function(e){var t,i=[],s=[],o=this;a(e).each(function(){i.indexOf(o.id(this))<0&&(i.push(o.id(this)),s.push(this))}),s&&s.length>0&&("oj-combobox"===this._classNm||"oj-select"===this._classNm)&&("init"!==this.opts.fetchType&&this._skipSetValueOptions?g.isDataProvider(this.opts.options)&&(s=g.findOptions(this.opts.valueOptions,i)):this.setValOpts(s)),this.selection.find("."+this._classNm+"-selected-choice").remove(),this.selection.find(".oj-select-default").remove(),this._updateAriaDescribedBy(null,!0),t=s.length-1,a(s).each(function(e,i){var s=e===t;o._addSelectedChoice(i,s)}),this.currentItem=s,this.currentValue=i,o._postprocessResults()},_updateAriaDescribedBy:function(e,t){var i=this._contentElement,s=this.selection,o=i.attr("aria-describedby")||"",n=!1,a=o;t&&(this._ariaDescribedByAdded.forEach(function(e){a=a.replace(e,""),n=!0}),a=a.trim().replace(/\s\s+/g," "),this._ariaDescribedByAdded=[]),e&&(a=(a+" "+e).trim(),this._ariaDescribedByAdded.push(e),n=!0),n&&(i.attr("aria-describedby",a),"oj-combobox"===this._classNm&&s.attr("aria-describedby",a))},_onSelect:function(e,t,i){if(!this._triggerSelect(e))return!1;var s;t&&t.trigger&&(s={optionMetadata:{trigger:t.trigger}});var o=this.getVal()?this.getVal().slice(0):[],n=this.getValOpts()?this.getValOpts().slice(0):[],a=n.slice(0),r="oj-combobox"===this._classNm||"oj-select"===this._classNm;this.ojContext.isValid()||(o=this.currentValue.slice(0),a=this.currentItem.slice(0),this.forceApplyConverter=!0);var l,h,c,u,d,p,f=[],m=[],_=g.getOpts(this.ojContext),v=!!_&&g.isDataProvider(_.options),b=null,y=null,j=this.hasUncommittedValue;if(v)for(var x=0;x<a.length;x++)d=a[x],c=this.id(d),a[x]=g.findOptionFromResult(this,c,d),f.push(a[x].data),m.push(a[x].metadata);if(h=this.sanitizeData(e,!0),l=this.sanitizeData(e),c=this.id(h),u=this.id(l),g.getDataProviderKeySet(this.ojContext,o).has(u)||""===c||(o.push(c),r&&(p=g.findOptionFromResult(this,u,l),a.push(p),this.shouldApplyConverter&&l===p||this._idsFromDropdown.add(u),v&&(f.push(p.data),m.push(p.metadata)))),r&&(this._skipSetValueOptions=!0,this.setValOpts(a)),s=g.getContextWithExtraData(s,_,f,m),this.hasUncommittedValue=!1,(b=this.setVal(o,i,s))instanceof Promise)y=b.then(this._bind(function(t){return this._afterOnSelectSetVal(t,e,n,j),t}));else{var C=!1!==b;this._afterOnSelectSetVal(C,e,n,j),y=b}return this.opts.closeOnSelect&&this.close(i),t&&t.trigger===g.ValueChangeTriggerTypes.BLUR||"ojcombobox"!==this._elemNm||this._focusSearch(),y},_afterOnSelectSetVal:function(e,t,i,s){var o="oj-combobox"===this._classNm||"oj-select"===this._classNm;!1===e&&(this.hasUncommittedValue=s,o&&this.setValOpts(i)),this._skipSetValueOptions=!1,delete this.forceApplyConverter,!this.select&&this.opts.closeOnSelect||this._postprocessResults(t,!1,!0===this.opts.closeOnSelect),this.opts.closeOnSelect&&this.ojContext.isValid()&&this._resetSearchWidth()},_cancel:function(e){this.close(e),"ojcombobox"===this._elemNm&&this._focusSearch()},_createChoice:function(e,t,i){var s;if(e)if(t){if(s=a("<li class='"+this._classNm+"-selected-choice'>    <div></div></li>"),!i){var o=f.getTranslatedString("oj-converter.plural-separator"),n=a("<span class='"+this._classNm+"-selected-choice-separator'></span>");n.text(o),s.append(n)}}else s=a("<li class='"+this._classNm+"-selected-choice'>    <div></div>    <span role='button' aria-label='remove' class='"+this._classNm+"-clear-entry       oj-component-icon oj-default oj-clickable-icon-nocontext "+this._classNm+"-clear-entry-icon' tabindex='-1'>    </span></li>");else s=a("<li class='"+this._classNm+"-selected-choice "+this._classNm+"-locked'><div></div></li>");return s},_addSelectedChoice:function(e,t){var i,s=!e.locked,o=this.ojContext.options.readOnly,n=this._createChoice(s,o,t);if(void 0!==(i=g.getLabel(e))){var r=this._classNm+"-selected-choice-label-"+g.nextUid();n.find("div").addClass(this._classNm+"-selected-choice-label").text(i).attr("id",r),n.find("."+this._classNm+"-clear-entry").attr("aria-label",i+" remove"),n.attr("valueText",i),n.attr("aria-labelledby",r),this._updateAriaDescribedBy(r,!1)}s&&!o&&n.find("."+this._classNm+"-clear-entry").on("mousedown",g.killEvent).on("click dblclick",this._bind(function(e){if(this._isInterfaceEnabled()){var t=g._addBusyState(this.container,"unselecting "+i);a(e.target).closest("."+this._classNm+"-selected-choice").fadeOut("fast",this._bind(function(){this._unselect(a(e.target),e),this.selection.find("."+this._classNm+"-selected-choice.oj-focus").removeClass("oj-focus"),this.close(e),"ojcombobox"===this._elemNm?this._focusSearch():"ojselect"===this._elemNm&&this._getActiveContainer().focus(),t()})).dequeue(),g.killEvent(e),e.stopPropagation()}})),n.data(this._elemNm,e),"ojcombobox"===this._elemNm?n.insertBefore(this.searchContainer):this.selection.find(".oj-select-choices").append(n)},_syncValueOptions:function(e,t,i){var s,o=[],a=[],r=[],l=g.getOpts(this.ojContext),h=!!l&&g.isDataProvider(l.options);if(t&&i){for(var c=0;c<t.length;c++)for(var u=0;u<i.length;u++){var d=i[u];n.Object.compareValues(d.value,t[c])&&(h&&(s=this.id(d),d=g.findOptionFromResult(this,s,d),a.push(d.data),r.push(d.metadata)),o.push(d))}g.setValueOptions(e,o),this.currentItem=o}return g.getContextWithExtraData(null,l,a,r)},_unselect:function(e,t){var i=(this.getVal()||[]).slice(0),s=(this.getValOpts()||[]).slice(0),o=e.closest("."+this._classNm+"-selected-choice");if(0===o.length)throw new Error("Invalid argument: "+o+". Must be ."+this._classNm+"-selected-choice");var n=o.data(this._elemNm);if(n){var a,r,l;this.ojContext.isValid()?a=(this.getValOpts()||[]).slice(0):(i=this.currentValue.slice(0),a=this.currentItem.slice(0),this.forceApplyConverter=!0);var h=i.indexOf(this.id(n));-1!==h&&(i.splice(h,1),this._idsFromDropdown.delete(this.id(n)),r=this._syncValueOptions(this.ojContext,i,a),this._skipSetValueOptions=!0,(l=this.setVal(i,t,r))instanceof Promise?l.then(this._bind(function(e){this._afterUnselectSetValue(e,o,s)})):this._afterUnselectSetValue(l,o,s))}},_afterUnselectSetValue:function(e,t,i){("oj-combobox"===this._classNm||"oj-select"===this._classNm)&&!1===e&&this.setValOpts(i),this._skipSetValueOptions=!1,delete this.forceApplyConverter,!1!==e&&this.select&&this._postprocessResults(),t.remove()},_postprocessResults:function(e,t,i){if(this.ojContext.isValid()){var s=this.getVal(),o=this.results.find(".oj-listbox-result"),n=this.results.find(".oj-listbox-result-with-children"),a=this;g.each2(o,function(e,t){var i=a.id(t.data(a._elemNm));s&&s.indexOf(i)>=0&&(t.addClass("oj-selected"),t.find(".oj-listbox-result-selectable").addClass("oj-selected"))}),g.each2(n,function(e,t){t.is(".oj-listbox-result-selectable")||0!==t.find(".oj-listbox-result-selectable:not(.oj-selected)").length||t.addClass("oj-selected")}),this._processAriaLabelForHierarchy(),!o.filter(".oj-listbox-result:not(.oj-selected)").length>0&&"oj-select"!==this._classNm&&this.close(null,!0)}},_isDataSelected:function(e){var t=this.getVal();if(!t||0===t.length)return!1;for(var i=e.results,s=0;s<i.length;s++)if(-1===t.indexOf(this.id(i[s])))return!1;return!0},_resetSearchWidth:function(){},setVal:function(e,t,i){var s=[],o=e;this.valHasChanged(),"string"==typeof e&&(o=g.splitVal(e,this.opts.separator));for(var a=0;a<o.length;a++)s.indexOf(o[a])<0&&s.push(o[a]);var r={doValueChangeCheck:!1};if(i&&(r._context=i),!this._skipSetValueOptions){var l,h=g.getLastQueryResult(this);h&&(l=g.findOptions(h,o)),l&&l.length&&g.setValueOptions(this.ojContext,l)}var c=this.getVal(),u=null;return n.Object.compareValues(c,s)&&!g.hasInvalidComponentMessages(this.ojContext)||(u=this.ojContext._SetValue(s,t,r)),u instanceof Promise?u.then(this._bind(function(e){this._afterSetValue(s)})):(this._afterSetValue(s),u)},_afterSetValue:function(e){(this.ojContext.isValid()||0===e.length)&&(this.currentValue=e),this.search.attr("aria-activedescendant",this.opts.element.attr("id"))},_getSelectionData:function(){var e=null,t=this,i=null,s=this.container.find("."+this._classNm+"-selected-choice");return s&&(e=[],s.each(function(){null!=(i=a(this).data(t._elemNm))&&e.push(i)})),e},_clearSearchOnBlur:function(){!this._opened()&&"oj-select"!==this._classNm&&this.ojContext.isValid()&&this._clearSearch()},_GetContentWrapper:function(){return this.container[0].querySelector(".oj-text-field-container")},_InvokeSelection:function(e,t){const i=g.getOpts(this.ojContext),s=!!i&&g.isDataProvider(i.options),o=[],n=[],a=[],r=[];e.forEach(function(e){o.push(this.id(e));var t={label:e.label,value:this.id(e)};s&&(t.data=e.data,t.metadata=e.metadata,a.push(e.data),r.push(e.metadata)),n.push(t)}.bind(this));let l={optionMetadata:{trigger:t.trigger}};l=g.getContextWithExtraData(l,i,a,r),this.setValOpts(n),this._skipSetValueOptions=!0;const h=this.setVal(o,null,l);return h instanceof Promise?h.then(this._bind(function(){this._skipSetValueOptions=!1})):(this._skipSetValueOptions=!1,Promise.resolve(h))}}),C=g.clazz(x,{_elemNm:"ojcombobox",_classNm:"oj-combobox",_COMPONENT_CLASSLIST:"oj-combobox oj-combobox-multi oj-component",_CreateContentElements:function(){return a(["<div class='oj-text-field-container' role='presentation'> ","<ul class='oj-combobox-choices oj-combobox-accessible-container'>","  <li class='oj-combobox-search-field'><span class='oj-helper-hidden'>&nbsp;</span>","    <input type='text' role='combobox' aria-expanded='false' aria-autocomplete='list'","           autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='oj-combobox-input'>","  </li>","</ul>","</div>","<div class='oj-combobox-description oj-helper-hidden-accessible'></div>","<div class='oj-listbox-drop oj-listbox-drop-multi'>","   <div class='oj-listbox-loader-wrapper'></div>","   <ul class='oj-listbox-results' role='listbox' data-oj-context>","   </ul>","</div>","<div class='oj-helper-hidden-accessible oj-listbox-liveregion' aria-live='polite'></div>"].join(""))},_initContainer:function(){C.superclass._initContainer.apply(this,arguments),this.dropdown.on("mousedown",g.killEvent)},_opening:function(e,t){this._resizeSearch(),C.superclass._opening.apply(this,arguments),this._focusSearch(),t||this._updateResults(!0),this.search.focus()},_setPlaceholder:function(){const e=this.ojContext.isValid(),t=g.isValueForPlaceholder(!0,this.getVal())&&g.isValueOptionsForPlaceholder(!0,this.getValOpts()),i=g.isValueForPlaceholder(!0,this.currentValue)&&g.isValueOptionsForPlaceholder(!0,this.currentItem);(e&&t||!e&&i)&&(C.superclass._setPlaceholder.apply(this,arguments),this._resizeSearch())},_clearSearch:function(){var e=this._getPlaceholder(),t=this._getMaxSearchWidth();null!=e&&g.isValueForPlaceholder(!0,this.getVal())&&g.isValueOptionsForPlaceholder(!0,this.getValOpts())?(this.search.attr("placeholder",e),this.search.val("").width(t>0?t:this.container.css("width")),this.searchContainer.width("100%")):(this.search.attr("placeholder",""),this.search.val("").width(10),this.searchContainer.width("auto"))},_resetSearchWidth:function(){this.search.width(10)},_getMaxSearchWidth:function(){return this.selection.width()-g.getSideBorderPadding(this.search)},_textWidth:function(e){var t=document.createElement("span"),i=document.createTextNode(e);t.style.display="none",t.appendChild(i),a("body").append(t);var s=a("body").find("span:last").width();return a("body").find("span:last").remove(),s},_resizeSearch:function(){var e,t,i,s,o=g.getSideBorderPadding(this.search);e=this._textWidth(this.search.val())+10,t=this.search.offset().left,(s=(i=this.selection.width())-(t-this.selection.offset().left)-o)<e&&(s=i-o),s<40&&(s=i-o),s<=0&&(s=e),this.search.width(Math.floor(s))},_UpdateValueOptionsWithConverter:function(){if(!this._skipSetValueOptions){var e=(this.getValOpts()||[]).slice(),t=[];if(0!==e.length){for(var i=0;i<e.length;i++){var s=e[i];this._idsFromDropdown.has(this.id(s))?t.push(s):t.push(this.parseData(s))}this.setValOpts(t)}}},_SyncRawValue:function(e,t){let i=(this.getValOpts()||[]).slice(0),s=this.search.val(),o=i.map(function(e){return e.label});null!=s&&""!==s&&o.push(s),!0===t&&(this.hasUncommittedValue=!0),this.ojContext._SetRawValue(o,e)}}),S=g.clazz(j,{_enableInterface:function(){S.superclass._enableInterface.apply(this,arguments)&&this.search.prop("disabled",!(this._isInterfaceEnabled()||g.isReadonly(this.ojContext)))},_focus:function(){this.close()},_destroy:function(){a("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),S.superclass._destroy.apply(this,arguments)},_clear:function(e){if(this.selection.data(this._elemNm)){e||m.warn("Event should not be null when user modified the value in UI");var t=this.ojContext._IsCustomElement()?"":[];"oj-select"===this._classNm&&this.ojContext._IsRequired()||this.setVal(t,e),this.search.val(""),this.selection.removeData(this._elemNm)}this._setPlaceholder()},_initSelection:function(){if(!g.applyValueOptions(this,this.opts)){var e=this.datalist?this.datalist:this.opts.element;this.opts.initSelection.call(null,e,this._bind(this._updateSelectedOption))}},_containerKeydownHandler:function(e){if(!this._isInterfaceEnabled())return;const t=e.which||e.keyCode;if(t!==g.KEY.PAGE_UP&&t!==g.KEY.PAGE_DOWN){switch(t){case g.KEY.UP:case g.KEY.DOWN:return this._opened()?this._moveHighlight(t===g.KEY.UP?-1:1):this.open(e),void e.preventDefault();case g.KEY.ENTER:return this._opened()&&e.stopPropagation(),this._selectHighlighted(null,e,!0),e.preventDefault(),void(this._opened()||(this._userTyping=!1));case g.KEY.TAB:return this.close(e),void(this._userTyping=!1);case g.KEY.ESC:return this._opened()&&(e.preventDefault(),e.stopPropagation()),this._cancel(e),void(this._userTyping=!1)}this._userTyping=!0}else e.preventDefault()},_containerKeyupHandler:function(e){this._isInterfaceEnabled()&&(this._opened()||this.open(e))},_initContainer:function(){var e=this.container,t=this.opts.rootAttributes,i=t&&t.id?t.id:this._getAttribute("id")||g.nextUid(),s=this._getTransferredAttribute("aria-label"),o=this._getTransferredAttribute("aria-controls"),n=e.find("."+this._classNm+"-choice");this.selection=n,this._contentElement="ojcombobox"===this._elemNm?this.search:this.selection,n.attr("id",this._classNm+"-choice-"+i),n.find("."+this._classNm+"-input").attr("id",this._classNm+"-input-"+i),this.results.attr("id")||this.results.attr("id","oj-listbox-results-"+i);var r=e.find(".oj-listbox-liveregion");if(r.length&&r.attr("id","oj-listbox-live-"+i),"oj-select"!==this._classNm&&this.search.attr("aria-owns",this.results.attr("id")),!this.ojContext._IsCustomElement()){var l=a("label[for='"+this._getAttribute("id")+"']");l.attr("id")||l.attr("id",this._classNm+"-label-"+i),this.search.attr("aria-labelledby",l.attr("id")),this.opts.element.attr("aria-labelledby",l.attr("id")),this.search.attr("id")&&l.attr("for",this.search.attr("id"))}s&&this._contentElement.attr("aria-label",s),o&&this._contentElement.attr("aria-controls",o),n.on("keydown",this._bind(this._containerKeydownHandler)),n.on("mousedown",this._bind(function(e){if(this._ShouldToggleDropdown(e)){this.opts.element.prop("disabled")&&g.killEvent(e),n.removeClass("oj-focus-highlight"),this.container.removeClass("oj-focus-highlight"),this._opened()?this.close(e):this._isInterfaceEnabled()&&this.open(e);var t=this.search.parent().attr("aria-hidden");t&&"true"===t?this.selection.focus():this.search.focus(),a(e.target).hasClass("oj-combobox-open-icon")&&g.killEvent(e),this.container.addClass("oj-active")}})),n.on("mouseup",this._bind(function(){this.container.removeClass("oj-active")})),n.on("focus",this._bind(function(e){g.killEvent(e)})),this.search.on("compositionstart",this._bind(function(){this.ojContext._isComposing=!0})),this.search.on("compositionend",this._bind(function(e){this.ojContext._isComposing=!1,this._onSearchInputHandler(e)})),this.search.on("input",this._bind(function(e){this.ojContext._isComposing&&!this._isAndroidDevice||this._onSearchInputHandler(e)})),this.search.on("focus",this._bind(function(){this._previousDisplayValue=this.search.val()})),this.search.on("blur keyup",this._bind(function(e){if("keyup"!==e.type||10===e.keyCode||13===e.keyCode){if(this._ShouldCreateNewEntry("keyup"===e.type)&&("keyup"!==e.type||!this.enterKeyEventHandled)){var t=this.search.val();this.shouldApplyConverter=!0;var i=this.opts.manageNewEntry(t,!0),s={trigger:"blur"===e.type?g.ValueChangeTriggerTypes.BLUR:g.ValueChangeTriggerTypes.ENTER_PRESSED},o=this.selection.data(this._elemNm),n=this.getVal(),a=null;if(!o&&""!==t||o&&o.label!==t||!this.ojContext.isValid()&&t!==this.ojContext._GetDisplayValue()){var r=this._onSelect(i,s,e);a=r,"blur"!==e.type&&(r instanceof Promise?r.then(this._bind(function(t){t&&(this._triggerUpdateEvent(i,s,e),this._triggerValueUpdatedEvent(i,n))})):!1!==r&&(this._triggerUpdateEvent(i,s,e),this._triggerValueUpdatedEvent(i,n)))}else"keyup"===e.type&&(o&&o.label===t&&(i=o),this.close(e),this._triggerUpdateEvent(i,s,e),this._triggerValueUpdatedEvent(i,n));a instanceof Promise?a.then(this._bind(function(){delete this.shouldApplyConverter})):delete this.shouldApplyConverter}"blur"===e.type&&(this.search.removeClass(this._classNm+"-focused"),this.container.removeClass("oj-focus")),this.enterKeyEventHandled=!1}})),this._initContainerWidth(),this.opts.element.hide().attr("aria-hidden",!0),this._setPlaceholder()},_onSearchInputHandler:function(e){this._SyncRawValue(e,!0)},_prepareOpts:function(){var e=S.superclass._prepareOpts.apply(this,arguments),t=this,i=e.element.get(0).tagName.toLowerCase();if("input"===i&&e.element.attr("list")||"select"===i&&e.element.children().length>0||e.ojContext._IsCustomElement()&&!e.options||e.list){var s=e.list?"li":"option";e.ojContext._IsCustomElement()&&(s="oj-option"),e.initSelection=function(o,r){var l,h=t.getVal();t._idsFromDropdown.clear(),Array.isArray(h)&&!e.ojContext._IsCustomElement()&&(h=h[0]),null!=h&&(l=t._optionToData(o.find(s).filter(function(){var e;return"li"===s?e=this.getAttribute("oj-data-value"):"option"!==s&&"oj-option"!==s||(e=this.value),n.Object.compareValues(e,h)})),"select"===i&&void 0===l&&(h=null)),null==h&&(l=t._optionToData(o.find(s).filter(function(){return"li"===s?!0===this.getAttribute("oj-data-selected"):"option"===s&&this.selected})),"oj-select"===t._classNm&&void 0===l&&e.ojContext._IsCustomElement()&&(l=t._optionToData(a(o.find(s)[0])),m.info("Select identified by "+t.container.attr("id")+" defaults to first option because the value is not set."))),null!=l&&t._idsFromDropdown.add(e.id(l)),r(l)},e.validate=function(e,i){var o;return null!=i&&(o=t._optionToData(e.find(s).filter(function(){var e;return"li"===s?e=this.getAttribute("oj-data-value"):"option"!==s&&"oj-option"!==s||(e=this.value),n.Object.compareValues(e,i)}))),!!o}}else("options"in e||this.getVal()&&this.getVal().length>0)&&(g.isDataProvider(e.options)||a.isFunction(e.options)?e.initSelection=function(s,o){var r=function(t,i){for(var s=0,o=t.length;s<o;s++){var a=t[s];if(n.Object.compareValues(i,e.id(a)))return a;if(a.children){var l=r(a.children,i);if(l)return l}}return null},l=t._getValueItem(),h=null;if(t._idsFromDropdown.clear(),null!=l){var c=g.getLastQueryResult(t);if(c&&(h=r(c,l)),!h){var u=t.currentItem;u&&u.length&&n.Object.compareValues(l,e.id(u[0]))&&(h=u[0],m.info("Select identified by "+t.container.attr("id")+" defaults to first option due to invalid value."))}if(h||t.valueChangeTrigger)null!=h&&t._idsFromDropdown.add(e.id(h)),o(h);else{g.updateLoadingState(t,!0);const i=function(){g.updateLoadingState(t,!1)};e.query({value:[l],callback:"function"!=typeof o?i:function(s){t.isInitialized&&(i(),(!g.isDataProvider(e.options)||n.Object.compareValues(l,t.getVal())&&!g.isValueChanged(t.ojContext))&&(s&&s.results&&null!=(h=r(s.results,l))&&t._idsFromDropdown.add(e.id(h)),o(h),g.setValueChanged(t.ojContext,void 0)))},cleanup:a.noop})}}else"select"!==i||t.ojContext._HasPlaceholderSet()?o(h):g.fetchFirstBlockFromDataProvider(t.container,e,1).then(function(e){if(t.isInitialized){var i=null!=t._getValueItem();e&&e.length>0&&!i&&(o(e[0]),m.info("Select identified by "+t.container.attr("id")+" defaults to first option because the value is not set."))}})}:(e.initSelection=function(s,o){var r=t._getValueItem(),l="select"===i&&t.ojContext._HasPlaceholderSet()&&!t.ojContext._IsRequired(),h=l?t._getPlaceholder():null,c=null;t._idsFromDropdown.clear(),e.query({matcher:function(t,i,s){var o=n.Object.compareValues(r,e.id(s));return o&&(c=s),null==h&&(h=s),o},callback:a.isFunction(o)?function(){t.isInitialized&&(null!=c&&t._idsFromDropdown.add(e.id(c)),c||"select"!==i||t.ojContext._isOptionDataPending()||(c=h,m.info("Select identified by "+t.container.attr("id")+" defaults to "+(l?"placeholder":"first option")+" due to invalid value.")),o(c))}:a.noop,cleanup:a.noop})},e.validate=function(t,i){var s=i,o=null;return e.query({matcher:function(t,i,a){var r=n.Object.compareValues(s,e.id(a));return r&&(o=a),r},callback:a.noop,cleanup:a.noop}),!!o}));return e},_postprocessResults:function(e,t,i){var s,o=-1,a=this;s=this._findHighlightableChoices(),g.each2(s,function(e,t){var i=a._getValueItem();return null==i||!n.Object.compareValues(i,a.id(t.data(a._elemNm)))||(o=e,!1)}),!1!==i&&!0===t&&o>=0&&this._highlight(o,!0,!0),this._processAriaLabelForHierarchy()},_onSelect:function(e,t,i){if(!this._triggerSelect(e))return!1;var s,o,n=g.getOpts(this.ojContext);t&&t.trigger&&(s={optionMetadata:{trigger:t.trigger}}),s=g.getContextWithExtraData(s,n,e.data,e.metadata),this.close(i);var a,r=this.sanitizeData(e,!0),l=this.sanitizeData(e),h=this.getValOpts(),c=l,u=this.hasUncommittedValue,d=null,p=null,f=this.id(r),m=this.id(l);if(this._idsFromDropdown.clear(),0===f.length?(o=this.ojContext._IsCustomElement()?g.getValueForPlaceholder(!1):[],c=g.getFixupValueOptionsForPlaceholder(!1),a=g.findOptionFromResult(this,o,c)):(o=f,a=g.findOptionFromResult(this,m,c),this.shouldApplyConverter&&c===a||this._idsFromDropdown.add(m)),"oj-combobox"!==this._classNm&&"oj-select"!==this._classNm||(this._skipSetValueOptions=!0,this.setValOpts(a)),this.hasUncommittedValue=!1,(d=this.setVal(o,i,s))instanceof Promise)p=d.then(this._bind(function(e){return this._afterOnSelectSetVal(e,h,u),e}));else{var _=!1!==d;this._afterOnSelectSetVal(_,h,u),p=d}return t&&t.trigger===g.ValueChangeTriggerTypes.BLUR||"ojcombobox"!==this._elemNm||this._focusSearch(),p},_afterOnSelectSetVal:function(e,t,i){var s="oj-combobox"===this._classNm||"oj-select"===this._classNm;!1===e&&(this.hasUncommittedValue=i,s&&this.setValOpts(t)),this._skipSetValueOptions=!1,delete this.shouldApplyConverter},_clearSearch:function(){this.search.val("")},_getValueItem:function(){var e=null,t=this.getVal();return null!=t&&(e=!this.ojContext._IsCustomElement()&&t.length?t[0]:t),e},_getSelectionData:function(){return this.selection.data(this._elemNm)},_GetContentWrapper:function(){return this.container[0].querySelector(".oj-text-field-middle")},_ShouldCreateNewEntry:function(e){if(!this.opts.manageNewEntry)return!1;const t=e?".oj-hover.oj-listbox-result-keyboard-focus":".oj-hover",i=this.results.find(t);return void 0!==this.search.val()&&0===i.length},_ShouldToggleDropdown:function(e){const t=S.superclass._ShouldToggleDropdown.apply(this,arguments),i="end"===e.target.getAttribute("slot")||a(this._endSlot).find(e.target).length>0;return t&&!i},_InvokeSelection:function(e,t){if(!e.length)return Promise.resolve(!1);const i=e[0];return new Promise(this._bind(function(e,s){const o=this._onSelect(i,t,null);o instanceof Promise?o.then(e,s).catch(s):e(o)}))}}),O=g.clazz(S,{_elemNm:"ojcombobox",_classNm:"oj-combobox",_COMPONENT_CLASSLIST:"oj-combobox oj-component",_CreateContentElements:function(){return a(["<div class='oj-text-field-container oj-text-field-has-end-slot' role='presentation'>","  <div class='oj-combobox-choice oj-combobox-accessible-container' tabindex='-1' role='presentation'>","   <div class='oj-text-field-middle'>","     <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off'","       spellcheck='false' class='oj-combobox-input' role='combobox' aria-expanded='false' aria-autocomplete='list' />","   </div>","   <abbr class='oj-combobox-clear-entry' role='presentation'></abbr>","   <span class='oj-combobox-divider' role='presentation'></span>","   <span class='oj-text-field-end'>","     <a class='oj-combobox-arrow oj-combobox-icon oj-component-icon oj-clickable-icon-nocontext oj-combobox-open-icon'","       role='presentation'></a>","   </span>","  </div>","</div>","<div class='oj-listbox-drop' role='presentation'>","   <div class='oj-listbox-loader-wrapper'></div>","   <ul class='oj-listbox-results' role='listbox' data-oj-context>","   </ul>","</div>","<div class='oj-helper-hidden-accessible oj-listbox-liveregion' aria-live='polite'></div>"].join(""))},_ConfigureSlots:function(){if(null!=this.container&&this.ojContext._IsCustomElement()){var e=this.container,t=_.CustomElementUtils.getSlotMap(e[0]).end;t&&(e.find(".oj-combobox-divider").remove(),e.find(".oj-combobox-arrow").remove(),e.find(".oj-combobox-choice").append(t),this._endSlot=t)}},_RestoreSlots:function(){var e=this._endSlot;null!=e&&null!=this.container&&this.ojContext._IsCustomElement()&&this.container.append(e),this._endSlot=null},_initContainer:function(){O.superclass._initContainer.apply(this,arguments),this.dropdown.on("mousedown",g.killEvent)},_triggerValueUpdatedEvent:function(e,t){if(this.ojContext._IsCustomElement()){var i=this.id(e);if(null==i&&(i=e.label?e.label:""),this.ojContext.isValid()){var s={},o=this.ojContext.OuterWrapper;s.value=i,s.previousValue=t;var n=new CustomEvent("ojValueUpdated",{detail:s});o.dispatchEvent(n)}}},_enable:function(e){O.superclass._enable.apply(this,arguments),this._enabled?this.container.find(".oj-combobox-arrow").removeClass("oj-disabled"):this.container.find(".oj-combobox-arrow").addClass("oj-disabled")},_opening:function(e,t){O.superclass._opening.apply(this,arguments),this._focusSearch(),t||this._updateResults(!0)},_containerKeydownHandler:function(e){"end"===e.target.getAttribute("slot")||a(this._endSlot).find(e.target).length>0||g.KEY.isControl(e)||g.KEY.isFunctionKey(e)||O.superclass._containerKeydownHandler.apply(this,arguments)},_updateSelection:function(e){var t,i,s=[];if(this.selection.data(this._elemNm,e),null!==e&&0!==e.length?(void 0!==(t=g.getLabel(e))&&this.search.val()!==t&&this.search.val(t),this.search.removeClass(this._classNm+"-default"),s.push(e),i=t):(this.search.val(""),this._setPlaceholder(),i=""),this.ojContext.options.readOnly){let e=this.ojContext._getReadonlyDiv();e&&(e.textContent=i)}this.currentItem=s},_updateSelectedOption:function(e){if(null!=e)this._updateSelection(e),this.setValOpts(e);else{var t,i,s=this.getVal();null==s?t=null:Array.isArray(s)?s.length?t={label:s=s[0],value:s}:(s=null,t=null):t={label:s,value:s},i=this.parseData(t),this._updateSelection(i),g.isValueForPlaceholder(!1,s)?this.setValOpts(e):this.setValOpts(i)}},_UpdateValueOptionsWithConverter:function(){if(!this._skipSetValueOptions){var e=this.getValOpts();null==e||this._idsFromDropdown.has(this.id(e))||this.setValOpts(this.parseData(e))}},_SyncRawValue:function(e,t){!0===t&&(this.hasUncommittedValue=!0),this.ojContext._SetRawValue(this.search.val(),e)}});n.__registerWidget("oj.ojCombobox",a.oj.editableValue,{defaultElement:"<input>",widgetEventPrefix:"oj",options:{asyncValidators:[],converter:null,filterOnOpen:"none",labelledBy:null,placeholder:null,options:null,optionsKeys:{},pickerAttributes:null,optionRenderer:null,minLength:0,maximumResultCount:15,rawValue:null,required:!1,readOnly:!1,validators:[],valueOption:null,valueOptions:null,valueUpdated:null},widget:function(){return this._isComboboxInstantiated()?this.combobox.container:a(this.OuterWrapper)},_ComponentCreate:function(){this._super(),g.wrapDataProviderIfNeeded(this,null),this._setup()},_AfterCreate:function(){if(this._super(),this._IsCustomElement()){const t=this._GetContentElement()[0],i=this.OuterWrapper.id,s=this.options.labelledBy;this._initInputIdLabelForConnection(t,i,s),s&&this._labelledByUpdatedForInputComp(s,t.id);var e=this._getRootElement();this._focusable({element:e,applyHighlight:!1,afterToggle:this._handleAfterFocusToggle.bind(this,e)}),this.combobox&&"none"===this.options.labelEdge&&this.combobox.updateAriaLabelIfNeeded()}},_handleAfterFocusToggle:function(e,t){"focusout"===t&&(this._getDropdown()&&e.classList.add("oj-focus"))},_InitOptions:function(t,i){if(this._super(t,i),e.EditableValueUtils.initializeOptionsFromDom([{attribute:"disabled",validateOption:!0},{attribute:"placeholder"},{attribute:"required",coerceDomValue:!0,validateOption:!0},{attribute:"title"}],i,this),this.multiple=this._IsCustomElement()?"OJ-COMBOBOX-MANY"===this.OuterWrapper.nodeName:this.options.multiple,void 0===this.options.value)this._IsCustomElement()||(this.options.value=void 0!==this.element.attr("value")?g.splitVal(this.element.val(),","):null);else{var s=this.options.value;Array.isArray(s)?this._IsCustomElement()||(s=s.slice(0)):"string"==typeof s&&(!0===this.multiple?s=g.splitVal(s,","):this._IsCustomElement()||(s=[s])),this.options.value=s}},_IsRequired:function(){return this.options.required},_labelledByUpdatedForInputComp:function(t,i){e.EditableValueUtils._labelledByUpdatedForInputComp.apply(this,arguments);const s=e.EditableValueUtils._getOjLabelAriaLabelledBy(t,`${this.uuid}_Label`);this._isComboboxInstantiated()&&this.combobox.updateAriaLabelledByIfNeeded(s)},_initInputIdLabelForConnection:e.EditableValueUtils._initInputIdLabelForConnection,_linkLabelForInputComp:e.EditableValueUtils._linkLabelForInputComp,_createOrUpdateReadonlyDiv:e.EditableValueUtils._createOrUpdateReadonlyDiv,_AfterSetOptionRequired:e.EditableValueUtils._AfterSetOptionRequired,_AfterSetOptionValidators:e.EditableValueUtils._AfterSetOptionValidators,_AfterSetOptionAsyncValidators:e.EditableValueUtils._AfterSetOptionAsyncValidators,_AfterSetOptionConverter:e.EditableValueUtils._AfterSetOptionConverter,_ResetConverter:e.EditableValueUtils._ResetConverter,_GetConverter:e.EditableValueUtils._GetConverter,_GetNormalizedValidatorsFromOption:e.EditableValueUtils._GetNormalizedValidatorsFromOption,_GetNormalizedAsyncValidatorsFromOption:e.EditableValueUtils._GetNormalizedAsyncValidatorsFromOption,_setup:function(){var e=this.multiple;g.isValueForPlaceholder(e,this.options.value)&&(e?this.options.valueOptions=g.getValueOptionsForPlaceholder(this,this.options.valueOptions):this.options.valueOption=g.getValueOptionsForPlaceholder(this,this.options.valueOption)),this.cssOptionDefaults=c.parseJSONFromFontFamily("oj-combobox-option-defaults")||{},this._initComboboxInstance(),this._refreshRequired(this.options.required);this._resolveValueOptionsLater=g.mergeValueAndValueOptions(this,{doNotClearMessages:!0})},_refreshRequired:e.EditableValueUtils._refreshRequired,_AriaRequiredUnsupported:function(){return!1},_destroy:function(){this.combobox._destroy(),this._super()},_initComboboxInstance:function(){const e=a.extend(this.options,{element:this.element,ojContext:this});this.combobox=this.multiple?new C:new O,this.combobox._init(e)},_destroyComboboxInstance:function(){this.combobox._destroy(),this.combobox=null},_isComboboxInstantiated:function(){return null!=this.combobox},_setupComboboxResources:function(){this._isComboboxInstantiated()||this._initComboboxInstance(),g.isDataProviderWrapped(this)||g.wrapDataProviderIfNeeded(this,this.combobox?this.combobox.opts:null),g.addDataProviderEventListeners(this)},_releaseComboboxResources:function(){this._isComboboxInstantiated()&&this._destroyComboboxInstance(),g.removeDataProviderEventListeners(this),g.clearDataProviderWrapper(this)},_SetupResources:function(){this._super(),this._setupComboboxResources()},_ReleaseResources:function(){this._super(),this._releaseComboboxResources()},_IsTextFieldComponent:function(){return!0},_GetContentWrapper:function(){if(this._IsCustomElement()&&this._isComboboxInstantiated())return this.combobox._GetContentWrapper()},refresh:function(){this._super(),this._releaseComboboxResources(),this._setup(),this._setupComboboxResources(),this._SetRootAttributes(),this._initComponentMessaging()},_setOptions:function(e,t){var i;this._processSetOptions||(this._processSetOptions=[]),this._processSetOptions.push({}),this._super(e,t),(i=this._processSetOptions.pop()).messagesCustom&&i.messagesCustom()},_setOption:function(e,t,i){var s=t,o=this.multiple,n=this._super,a=(this._processSetOptions||[]).slice(-1)[0];if("value"===e&&(Array.isArray(s)?this._IsCustomElement()||(s=s.slice(0)):"string"==typeof s&&(!0===o?s=g.splitVal(s,","):this._IsCustomElement()||(s=[s])),i&&i._context&&i._context.optionMetadata?this.combobox.valueChangeTrigger=i._context.optionMetadata.trigger:this.combobox.valueChangeTrigger=null,"string"==typeof this.options.placeholder&&(null==s||s&&0===s.length||this._IsCustomElement()&&g.isValueForPlaceholder(o,s))))return g.setValueOptions(this,g.getFixupValueOptionsForPlaceholder(o)),void this._super(e,s,i);if("options"===e)g.removeDataProviderEventListeners(this),g.clearDataProviderWrapper(this);else if("optionsKeys"===e)g.clearDataProviderWrapper(this);else if("valueOption"===e&&!0!==o)s=g.getValueOptionsForPlaceholder(this,s),this.combobox.opts.valueOption=s;else if("valueOptions"===e&&!0===o)s=g.getValueOptionsForPlaceholder(this,s),this.combobox.opts.valueOptions=s;else if("messagesCustom"===e&&null!=a)return void(a.messagesCustom=n.bind(this,e,s,i));if(this._super(e,s,i),"valueOption"===e&&!0!==o)g.syncValueWithValueOption(this,s,this.options.value,!1);else if("valueOptions"===e&&!0===o)g.syncValueWithValueOptions(this,s,this.options.value,!1);else if("value"===e)g.updateValueOptions(this.combobox);else if("options"===e)g.isDataProvider(s)&&(g.wrapDataProviderIfNeeded(this,this.combobox?this.combobox.opts:null),g.addDataProviderEventListeners(this)),this.combobox.opts.options=s,this.combobox.opts=this.combobox._prepareOpts(this.combobox.opts),(this.combobox.isSearchFocused&&this.combobox.shouldReopenOnNewData||this.combobox._opened())&&this.combobox._updateResults(!1,!0);else if("optionsKeys"===e)g.wrapDataProviderIfNeeded(this,this.combobox?this.combobox.opts:null);else if("disabled"===e)s?this.combobox._disable():this.combobox._enable();else if("readOnly"===e)this.combobox.applyReadonlyState();else if("labelledBy"===e){if(this.options.labelledBy){var r=this._GetContentElement()[0].id;this._labelledByUpdatedForInputComp(this.options.labelledBy,r)}}else"maximumResultCount"===e&&(this.combobox.opts.maximumResultCount=s)},_AfterSetOption:function(e,t,i){switch(this._superApply(arguments),e){case"required":this._AfterSetOptionRequired(e);break;case"validators":this._AfterSetOptionValidators(e);break;case"converter":this.isValid()||(this._handleConverterChangeWithInvalidValue=!0),this._handleConverterChange=!0,this._AfterSetOptionConverter(e);break;case"asyncValidators":this._AfterSetOptionAsyncValidators(e);break;case"labelHint":case"labelEdge":this.combobox&&this.combobox.updateAriaLabelIfNeeded()}},_GetReadonlyFocusElement:function(){return this.multiple?this.widget()[0].querySelector(".oj-combobox-accessible-container"):this._super()},_NotifyDetached:function(){this._superApply(arguments),this._isComboboxInstantiated()&&this.combobox.close()},_NotifyHidden:function(){this._superApply(arguments),this._isComboboxInstantiated()&&this.combobox.close()},_VerifyConnectedForSetup:function(){return!0},_SetDisplayValue:function(e){this._handleConverterChange&&this.combobox._UpdateValueOptionsWithConverter(),g.applyValueOptions(this.combobox,this.options)?this.multiple&&this.combobox._clearSearch():this.combobox._initSelection(),this._resolveValueOptionsLater=!1,this._handleConverterChange=!1},_GetDisplayValue:function(){var e=null,t=this.combobox._getSelectionData();if(null!=t)if(this.multiple)if(e=[],Array.isArray(t))for(var i=0;i<t.length;i++)e.push(g.getLabel(t[i]));else e.push(g.getLabel(t));else e=Array.isArray(t)&&t.length>0?g.getLabel(t[0]):g.getLabel(t);else e=this._super();return e},_SetPlaceholder:function(e){this.combobox&&(this.combobox.opts.placeholder=e,this.combobox._setPlaceholder&&this.combobox._setPlaceholder())},_parseValue:function(e,t,i){var s,o=e;if(!this.combobox.shouldApplyConverter&&!this.combobox.forceApplyConverter&&!this._handleConverterChangeWithInvalidValue)return e;if("string"==typeof o&&(!0===this.multiple?o=g.splitVal(o,","):this._IsCustomElement()||(o=[o])),Array.isArray(o)){if(this.combobox.forceApplyConverter||this._handleConverterChangeWithInvalidValue){delete this._handleConverterChangeWithInvalidValue,s=[];for(let e=0;e<o.length;e++){let n=o[e];if(this.combobox._idsFromDropdown.has(n))s.push(n);else{let e=this._super(n,t,i);s.push(e)}}}else if((s=o.slice()).length>0){let e=s.slice(-1)[0],o=this._super(e,t,i);s.splice(-1,1,o)}}else delete this._handleConverterChangeWithInvalidValue,s=this._super(o,t,i);return s},_formatValue:function(e){var t;if(Array.isArray(e)){t=[];for(var i=0;i<e.length;i++){var s=this._super(e[i]);t.push(s)}}else t=this._super(e);return t},_NotifyContextMenuGesture:function(e,t,i){var s=this._GetMessagingLauncherElement();this._OpenContextMenu(t,i,{launcher:s})},_GetContentElement:function(){return this._isComboboxInstantiated()?this.combobox.search:this.element},_GetAriaLabelElement:function(){return this._GetContentElement()[0]},_GetDefaultStyleClass:function(){return"oj-combobox"},_SetLoading:function(){this._super(),this._isComboboxInstantiated()&&this.combobox.applyReadonlyState()},_ClearLoading:function(){this._super(),this._isComboboxInstantiated()&&this.combobox.applyReadonlyState()},validate:function(){var e,t,i=this._getDisplayValueForSetValue(),s=this.combobox,o=i;if(s.hasUncommittedValue){var n=null;if(this.multiple){var a=i[i.length-1],r=(s.getVal()||[]).slice(0),l=this._getValueOptionCandidateFromRawValue(a),h=s.id(l),c=(s.getValOpts()||[]).slice(0);n=c.slice(0),-1===r.indexOf(h)&&(n.push(l),r.push(h),e=c),o=r}else n=this._getValueOptionCandidateFromRawValue(i),o=s.id(n);s._skipSetValueOptions=!0,s.shouldApplyConverter=!0,s.setValOpts(n),s.hasUncommittedValue=!1}return!1!==(t=this._SetValue(o,null,this._VALIDATE_METHOD_OPTIONS))||this._CanSetValue()||(t=!0),this._IsCustomElement()&&(t instanceof Promise?t=t.then(function(t){return s._skipSetValueOptions=!1,delete s.shouldApplyConverter,!t&&e&&(s.setValOpts(e),s.hasUncommittedValue=!0),Promise.resolve(t?"valid":"invalid")}):(s._skipSetValueOptions=!1,delete s.shouldApplyConverter,!t&&e&&(s.setValOpts(e),s.hasUncommittedValue=!0),t=Promise.resolve(t?"valid":"invalid"))),t},_SetValue:function(e,t,i){var s=this._super(e,t,i);(!s||s instanceof Promise)&&((this._IsCustomElement()?g.isValueForPlaceholder(this.multiple,e):null==e||""===e||n.Object.compareValues(e,[]))||i===this._VALIDATE_METHOD_OPTIONS||this._SetDisplayValue(e));return s},_CanSetValue:function(){return!!this.forceCanSetValue||this._super()},_getValueOptionCandidateFromRawValue:function(e){var t=this.combobox.opts.manageNewEntry(e);return g.findOptionFromResult(this.combobox,e,t)},_getDisplayValueForSetValue:function(){var e=null,t=null,i=this.combobox.hasUncommittedValue;if(!0!==this.multiple){if(i)e=this.combobox.getRawValue();else{const t=this.combobox.currentItem||[];e=null,t.length>0&&null!=t[0]&&(e=t[0].value)}t=this._IsCustomElement()?e:null==e||""===e?[]:[e]}else{var s=this.combobox.currentValue?this.combobox.currentValue.slice(0):[];null==(e=this.combobox.search.val())||""===e||s.push(e),t=s}return t},_getValueUpdatePromise:function(){return Promise.resolve()},_getDropdown:function(){if(this.combobox&&this.combobox._opened())for(var e=a(".oj-listbox-drop"),t=0;t<e.length;t++)if("oj-listbox-drop"===a(e[t]).attr("id")&&a(e[t]).attr("data-oj-containerid")===this.combobox.containerId)return a(e[t]);return null},_findItem:function(e,t){for(var i=0;i<e.length;i++)if(a(e[i]).data("ojcombobox").value===t)return e[i];return null},getNodeBySubId:function(e){var t,i=null;if(null==e)return this.combobox&&this.combobox.container?this.combobox.container[0]:null;if(!(i=this._super(e))){"oj-combobox-drop"===(t=e.subId)&&(t="oj-listbox-drop"),"oj-combobox-results"===t&&(t="oj-listbox-results"),"oj-combobox-selection"===t&&(t="oj-combobox-selected-choice");var s=this._getDropdown();switch(t){case"oj-combobox-input":case"oj-combobox-arrow":i=this.widget().find("."+t)[0];break;case"oj-listitem":if(s){var o=s.find(".oj-listbox-result");i=this._findItem(o,e.value)}break;case"oj-combobox-remove":var n=this.widget().find(".oj-combobox-selected-choice"),r=this._findItem(n,e.value);i=r?a(r).find(".oj-combobox-clear-entry-icon")[0]:null;break;case"oj-listbox-drop":s&&(i=s[0]);break;case"oj-listbox-results":s&&(i=s.find("."+t)[0]);break;case"oj-combobox-selected-choice":i=this.widget().find("."+t).toArray()}}return i||null},getSubIdByNode:function(e){var t=null;if(null!=e){var i=a(e);t=i.hasClass("oj-combobox-input")?{subId:"oj-combobox-input"}:i.hasClass("oj-combobox-arrow")?{subId:"oj-combobox-arrow"}:i.hasClass("oj-listbox-result")?{subId:"oj-listitem",value:i.data("ojcombobox").value}:i.hasClass("oj-combobox-clear-entry-icon")?{subId:"oj-combobox-remove",value:i.closest(".oj-combobox-selected-choice").data("ojcombobox").value}:this._super(e)}return t}});const E=g.clazz(O,{_elemNm:"ojinputsearch",_classNm:"oj-inputsearch",_COMPONENT_CLASSLIST:"oj-inputsearch oj-component",_getDropdownPositionElement:function(){return this.container.children().first()},_CreateContentElements:function(){var e=a(["<div class='oj-inputsearch-choice' tabindex='-1' role='presentation'>","   <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off'","       spellcheck='false' class='oj-inputsearch-input' role='combobox' aria-expanded='false' aria-autocomplete='list' />","   <a class='oj-inputsearch-search-button oj-inputsearch-search-icon oj-component-icon oj-clickable-icon-nocontext'","       role='button' aria-label='search'></a>","</div>","<div class='oj-listbox-drop' role='presentation'>","   <ul class='oj-listbox-results' role='listbox' data-oj-context>","   </ul>","</div>","<div role='region' class='oj-helper-hidden-accessible oj-listbox-liveregion' aria-live='polite'></div>"].join("")),t=e.find(".oj-inputsearch-search-button");return this._attachSearchIconClickHandler(t),e},_attachSearchIconClickHandler:function(e){var t=this;e.on("click",function(e){if(t._isInterfaceEnabled()){if(t.opts.manageNewEntry){var i=t.search.val(),s=t.opts.manageNewEntry(i),o={trigger:g.ValueChangeTriggerTypes.SEARCH_ICON_CLICKED},n=t.selection.data(t._elemNm);!n&&""!==i||n&&n.label!==i||!t.ojContext.isValid()&&i!==t._previousDisplayValue?(t._onSelect(s,o,e),t._triggerUpdateEvent(s,o,e)):(n&&n.label===i&&(s=n),t._triggerUpdateEvent(s,o,e))}return!1}}).on("mousedown",function(e){return e.stopPropagation(),!1})},_enable:function(e){E.superclass._enable.apply(this,arguments),this._enabled?this.container.find(".oj-inputsearch-search-button").removeClass("oj-disabled"):this.container.find(".oj-inputsearch-search-button").addClass("oj-disabled")},_triggerUpdateEvent:function(e,t,i){var s;t&&(s=t.trigger);var o={_context:{optionMetadata:{trigger:s}}},n=this.id(e);if(n&&0!==n.length||(n=e.label?e.label:[]),void 0!==this.ojContext._AsyncValidate(n,i,o)&&this.ojContext.isValid()){"string"==typeof n&&(n=[n]);var a={value:n,optionMetadata:{trigger:s}};this.ojContext._trigger("update",i,a)}},_prepareOpts:function(e){var t=E.superclass._prepareOpts.apply(this,arguments);return t.highlightTermInOptions=function(){return!0},t}});n.__registerWidget("oj.ojInputSearch",a.oj.editableValue,{defaultElement:"<input>",widgetEventPrefix:"oj",options:{placeholder:void 0,required:!1,list:void 0,options:null,optionsKeys:null,pickerAttributes:null,optionRenderer:null,minLength:0,beforeExpand:null,rawValue:void 0,optionChange:null,update:null,validators:void 0},widget:function(){return this.inputSearch.container},_ComponentCreate:function(){this._super(),this._setup()},_InitOptions:function(t,i){if(this._super(t,i),e.EditableValueUtils.initializeOptionsFromDom([{attribute:"disabled",validateOption:!0},{attribute:"placeholder"},{attribute:"required",coerceDomValue:!0,validateOption:!0},{attribute:"title"}],i,this),void 0===this.options.value)this.options.value=void 0!==this.element.attr("value")?g.splitVal(this.element.val(),","):null;else{var s=this.options.value;Array.isArray(s)?s=s.slice(0):"string"==typeof s&&(s=[s]),this.options.value=s}},_AfterSetOption:function(e,t,i){switch(this._superApply(arguments),e){case"required":this._AfterSetOptionRequired(e);break;case"validators":this._AfterSetOptionValidators(e)}},_IsRequired:function(){return this.options.required},_AfterSetOptionRequired:e.EditableValueUtils._AfterSetOptionRequired,_AfterSetOptionValidators:e.EditableValueUtils._AfterSetOptionValidators,_refreshRequired:e.EditableValueUtils._refreshRequired,_GetNormalizedValidatorsFromOption:e.EditableValueUtils._GetNormalizedValidatorsFromOption,_AriaRequiredUnsupported:function(){return!1},_setup:function(){var e={};e.element=this.element,e.ojContext=this,e.inputSearch=!0,e=a.extend(this.options,e),this.cssOptionDefaults={},this.inputSearch=new E,this.inputSearch._init(e),this._refreshRequired(this.options.required)},_destroy:function(){this.inputSearch._destroy(),this._super()},refresh:function(){this._super(),this.inputSearch._destroy(),this._setup(),this._SetRootAttributes()},_setOption:function(e,t,i){var s=t;"value"===e&&(null!=s&&(Array.isArray(s)?s=s.slice(0):"string"==typeof s?s=[s]:m.error("ojInputSearch value has to be an array of string or a string.")),i&&i._context&&i._context.optionMetadata?this.inputSearch.valueChangeTrigger=i._context.optionMetadata.trigger:this.inputSearch.valueChangeTrigger=null),this._super(e,s,i),"options"===e&&(this.inputSearch.opts.options=s,this.inputSearch.opts=this.inputSearch._prepareOpts(this.inputSearch.opts)),"disabled"===e&&(s?this.inputSearch._disable():this.inputSearch._enable())},_NotifyDetached:function(){this._superApply(arguments),this.inputSearch.close()},_NotifyHidden:function(){this._superApply(arguments),this.inputSearch.close()},_SetDisplayValue:function(e){this.inputSearch._initSelection()},_SetPlaceholder:function(e){this.inputSearch&&(this.inputSearch.opts.placeholder=e,this.inputSearch._setPlaceholder&&this.inputSearch._setPlaceholder())},validate:function(){var e=this.inputSearch.search.val(),t=null,i=[];return this.isValid()&&(i=this.inputSearch.getVal()),t=null==e||""===e?i:[e],this._SetValue(t,null,this._VALIDATE_METHOD_OPTIONS)},_parseValue:function(e){var t,i=[];if(null==e)return i;if(Array.isArray(e))for(var s=0;s<e.length;s++)t=this._super(e[s]),i.push(t.toString());else"string"==typeof e?(t=this._super(e),i.push(t.toString())):m.error("ojInputSearch value has to be an array of string or a string.");return i},_GetContentElement:function(){return this.inputSearch.search},_GetDefaultStyleClass:function(){return"oj-inputsearch"},_getValueUpdatePromise:function(){return Promise.resolve()},_getDropdown:function(){if(this.inputSearch&&this.inputSearch._opened())for(var e=a(".oj-listbox-drop"),t=0;t<e.length;t++)if("oj-listbox-drop"===a(e[t]).attr("id")&&a(e[t]).attr("data-oj-containerid")===this.inputSearch.containerId)return a(e[t]);return null},expand:function(){this.inputSearch.open()},collapse:function(){this.inputSearch.close()},getNodeBySubId:function(e){var t,i=null;if(null===e)return this.inputSearch.container?this.inputSearch.container[0]:null;if(!(i=this._super(e)))switch("oj-inputsearch-search"===(t=e.subId)&&(t="oj-inputsearch-search-button"),t){case"oj-inputsearch-input":case"oj-inputsearch-search-button":i=this.widget().find("."+t)[0];break;case"oj-listitem":var s=this._getDropdown();if(s){var o=s.find(".oj-listbox-result");i=this.inputSearch._findItem(o,e.value)}}return i||null},getSubIdByNode:function(e){var t=null;if(null!=e){var i=a(e);t=i.hasClass("oj-inputsearch-input")?{subId:"oj-inputsearch-input"}:i.hasClass("oj-inputsearch-search-button")?{subId:"oj-inputsearch-search"}:i.hasClass("oj-listbox-result")?{subId:"oj-listitem",value:i.data("ojinputsearch").value}:this._super(e)}return t}});const V=g.clazz(x,{_elemNm:"ojselect",_classNm:"oj-select",_userTyping:!1,_COMPONENT_CLASSLIST:"oj-select oj-select-multi oj-component",_CreateContentElements:function(){return a(["<div class='oj-text-field-container' role='presentation'>","  <div class='oj-select-accessible-container' tabindex='0' role='combobox'","       aria-autocomplete='none' aria-expanded='false'>","    <ul class='oj-select-choices'>","    </ul>","  </div>","</div>","<div class='oj-select-description oj-helper-hidden-accessible'></div>","<div class='oj-listbox-drop' role='dialog'>","  <div class='oj-listbox-search-wrapper'>","    <div class='oj-text-field'>","      <div class='oj-text-field-container oj-text-field-has-end-slot'>","        <div class='oj-listbox-search oj-text-field-middle'>","          <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off'","                 spellcheck='false' class='oj-listbox-input oj-text-field-input' title='Search field' ","                 role='combobox' aria-expanded='false' aria-autocomplete='list' />","        </div>","        <span class='oj-listbox-spyglass-box oj-text-field-end'>","          <span class='oj-component-icon oj-clickable-icon-nocontext oj-fwk-icon-magnifier oj-listbox-search-icon' role='presentation'></span>","        </span>","      </div>","    </div>","  </div>","  <div class='oj-listbox-loader-wrapper'></div>","   <ul class='oj-listbox-results' role='listbox' data-oj-context>","   </ul>","</div>","<div class='oj-helper-hidden-accessible oj-listbox-liveregion' aria-live='polite'></div>"].join(""))},_initContainer:function(){V.superclass._initContainer.apply(this,arguments),this.dropdown.on("mousedown",g.killEventWithExceptions.bind(null,[".oj-listbox-input"]))},_enable:function(e){if(V.superclass._enable.apply(this,arguments),this._enabled){var t=this.elementTabIndex?this.elementTabIndex:"0";this.selection.attr("tabindex",t)}else this.selection.removeAttr("tabindex")},_containerKeydownHandler:function(e){if(g.KEY.isPasteAction(e)&&(this._userTyping=!0,this._opened()||this.open(e,!1,!0),this._hasHiddenSearchBox()&&this._showSearchBox(""),!r.isAncestorOrSelf(this.search.get(0),e.currentTarget)))return this.search.focus(),void this.search.trigger(e);if(V.superclass._containerKeydownHandler.apply(this,arguments),this._userTyping){if(!this._opened())return void this.open(e);if(this._hasHiddenSearchBox()){var t=g.getSearchText(e);t&&(this._showSearchBox(t),this._updateResults())}}},_opening:function(e,t,i){V.superclass._opening.apply(this,arguments);var s=null;i||(s=g.getSearchText(e),this._showSearchBox(s)),t||(s?this._updateResults():this._updateResults(!0))},_showDropDown:function(){var e="true"!==this.selection.attr("aria-expanded");V.superclass._showDropDown.apply(this,arguments),e&&(this.selection.attr("aria-expanded",!0).attr("aria-haspopup","dialog").attr("aria-owns",this.results.attr("id")),this.search.attr("aria-expanded",!0).attr("aria-controls",this.results.attr("id")))},close:function(e){!0===this._userTyping&&(this._userTyping=!1);var t=e?e.originalEvent:null,i=t instanceof MouseEvent||t instanceof FocusEvent,s=e&&(!i||e.target===this.selection||e.target===this.search||this.dropdown.has(e.target).length>0);V.superclass.close.apply(this,arguments),this.selection.attr("aria-expanded",!1).removeAttr("aria-haspopup").removeAttr("aria-owns"),this.search.attr("aria-expanded",!1).removeAttr("aria-controls"),this.ojContext.hasAfterToggleHandlerAddedFocusClass&&!s&&(this.ojContext._getRootElement().classList.remove("oj-focus"),this.ojContext.hasAfterToggleHandlerAddedFocusClass=!1),s&&g._focus(this,this.selection),this.search.val("")},_getActiveContainer:function(){return this.search.attr("aria-expanded")&&this._hasSearchBox()?this.search:this.selection},_clearSearch:function(){var e=this._getPlaceholder();if(null!=e&&g.isValueForPlaceholder(!0,this.getVal())&&g.isValueOptionsForPlaceholder(!0,this.getValOpts())){var t=a("<li></li>");t.addClass("oj-select-default"),t.text(e),this.selection.find(".oj-select-choices").append(t)}}}),I=g.clazz(S,{_elemNm:"ojselect",_classNm:"oj-select",_userTyping:!1,_COMPONENT_CLASSLIST:"oj-select oj-component",_CreateContentElements:function(){return a(["<div class='oj-text-field-container' role='presentation'>","  <div class='oj-select-choice oj-select-accessible-container' tabindex='0' role='combobox' ","     aria-autocomplete='none' aria-expanded='false'>","   <div class='oj-text-field-middle'>","      <span class='oj-select-chosen'></span>","   </div>","   <abbr class='oj-select-search-choice-close' role='presentation'></abbr>","   <span class='oj-text-field-end'>","     <a class='oj-select-arrow oj-component-icon oj-clickable-icon-nocontext oj-select-open-icon' role='presentation'>","     </a>","   </span>","  </div>","</div>","<div class='oj-listbox-drop' role='dialog'>","  <div class='oj-listbox-search-wrapper'>","    <div class='oj-text-field'>","      <div class='oj-text-field-container oj-text-field-has-end-slot'>","        <div class='oj-listbox-search oj-text-field-middle'>","          <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off'","                 spellcheck='false' class='oj-listbox-input oj-text-field-input' title='Search field' ","                 role='combobox' aria-expanded='false' aria-autocomplete='list' />","        </div>","        <span class='oj-listbox-spyglass-box oj-text-field-end'>","          <span class='oj-component-icon oj-clickable-icon-nocontext oj-fwk-icon-magnifier oj-listbox-search-icon' role='presentation'></span>","        </span>","      </div>","    </div>","  </div>","  <div class='oj-listbox-loader-wrapper'></div>","   <ul class='oj-listbox-results' role='listbox' data-oj-context>","   </ul>","</div>","<div class='oj-helper-hidden-accessible oj-listbox-liveregion' aria-live='polite'></div>"].join(""))},_enable:function(e){if(I.superclass._enable.apply(this,arguments),this._enabled){var t=this.elementTabIndex?this.elementTabIndex:"0";this.selection.attr("tabindex",t),this.container.find(".oj-select-arrow").removeClass("oj-disabled")}else this.selection.removeAttr("tabindex"),this.container.find(".oj-select-arrow").addClass("oj-disabled")},close:function(e){if(this._opened()){var t=e?e.originalEvent:null,i=t instanceof MouseEvent||t instanceof FocusEvent,s=e&&(!i||e.target===this.selection||e.target===this.search||this.dropdown.has(e.target).length>0);I.superclass.close.apply(this,arguments),this.selection.attr("aria-expanded",!1).removeAttr("aria-haspopup").removeAttr("aria-owns"),this.search.attr("aria-expanded",!1).removeAttr("aria-controls"),this._testClear(e)||this._clearSearch(),this.ojContext.hasAfterToggleHandlerAddedFocusClass&&!s&&(this.ojContext._getRootElement().classList.remove("oj-focus"),this.ojContext.hasAfterToggleHandlerAddedFocusClass=!1),s&&g._focus(this,this.selection),this.container.find(".oj-listbox-spyglass-box").off("mouseup click")}},_opening:function(e,t,i){I.superclass._opening.apply(this,arguments);var s=null;i||(s=g.getSearchText(e),this._showSearchBox(s)),t||(s?this._updateResults():this._updateResults(!0))},_showDropDown:function(){if(this._opened()){var e="true"!==this.selection.attr("aria-expanded");I.superclass._showDropDown.apply(this,arguments),e&&(this.selection.attr("aria-expanded",!0).attr("aria-haspopup","dialog").attr("aria-owns",this.results.attr("id")),this.search.attr("aria-expanded",!0).attr("aria-controls",this.results.attr("id")+" "+this.container.find(".oj-listbox-liveregion").attr("id")))}},_initContainer:function(){var e=this.containerId+"_selected";this.text=this.container.find(".oj-select-chosen").attr("id",e),I.superclass._initContainer.apply(this,arguments),this.selection.attr({"aria-labelledby":this.search.attr("aria-labelledby"),"aria-describedby":e}),this.search.on("keydown",this._bind(this._containerKeydownHandler)),this.search.on("keyup-change input",this._bind(this._containerKeyupHandler)),this.search.attr("title",this.ojContext.getTranslatedString("searchField"));var t=this;this.selection.on("blur",function(e){t._testClear(e)}),this.dropdown.on("mousedown",g.killEventWithExceptions.bind(null,[".oj-listbox-input"]))},_initSelection:function(){this._isPlaceholderOptionSelected()?(this._updateSelection(null),this.close(),this._setPlaceholder()):I.superclass._initSelection.apply(this,arguments)},_updateSelectedOption:function(e){if(null!=e){var t,i=this.getVal();Array.isArray(i)&&!this.ojContext._IsCustomElement()&&(i=i[0]),void 0===(t=this.opts.id(e))&&(t=null),n.Object.compareValues(i,t)||this.ojContext._setInitialSelectedValue(t),this.setValOpts(e),this._updateSelection(e),this.close()}else this.setValOpts(null)},_updateSelection:function(e){this.selection.data(this._elemNm,e),null!==e&&this.text.text("string"==typeof e?e:g.getLabel(e)),e&&""!==e.id&&this.text.removeClass(this._classNm+"-default")},_getActiveContainer:function(){return this.search.attr("aria-expanded")&&this._hasSearchBox()?this.search:this.selection},_isPlaceholderOptionSelected:function(){if(null===this._getPlaceholder())return!1;var e=this.getVal();return e=Array.isArray(e)?e[0]:e,g.isValueForPlaceholder(!1,e)},_getPlaceholder:function(){return this.opts.placeholder},_showPlaceholder:function(){return this.opts.placeholder=this.ojContext.options.placeholder,!0},_setPlaceholder:function(){var e=this._getPlaceholder();this._isPlaceholderOptionSelected()&&void 0!==e&&this.text.text(e).addClass(this._classNm+"-default")},setVal:function(e,t,i){var s=I.superclass.setVal.call(this,e,t,i);return s instanceof Promise?s.then(this._bind(function(t){!1!==t&&this.selection.data("selectVal",e)})):(!1!==s&&this.selection.data("selectVal",e),s)},_containerKeydownHandler:function(e){const t=e.which||e.keyCode;if(g.KEY.isPasteAction(e)&&(this._userTyping=!0,this._opened()||this.open(e,!0,!0),this._hasHiddenSearchBox()&&this._showSearchBox(""),!r.isAncestorOrSelf(this.search.get(0),e.currentTarget)))return this.search.focus(),void this.search.trigger(e);if(!(g.KEY.isControl(e)&&t!==g.KEY.SHIFT||t===g.KEY.SHIFT||g.KEY.isFunctionKey(e))){switch(t){case g.KEY.TAB:return this.close(e),this.selection.focus(),void this._testClear(e);case g.KEY.ENTER:if(e.target===this.selection[0]&&!this._opened())return this.open(e),void e.preventDefault()}if(I.superclass._containerKeydownHandler.apply(this,arguments),this._userTyping&&(this.open(e),this._opened())){var i=this.dropdown.find(".oj-listbox-search");if("true"===a(i).attr("aria-hidden")){var s=g.getSearchText(e);s&&(this._showSearchBox(s),this._updateResults())}}}},_testClear:function(e){return""===this.text.text()&&(!(this.datalist&&this.selection.data(this._elemNm)&&this.selection.data(this._elemNm).value||!g.isValueForPlaceholder(!1,this.ojContext.options.value))&&(this._clear(e),!0))}});n.__registerWidget("oj.ojSelect",a.oj.editableValue,{defaultElement:"<select>",widgetEventPrefix:"oj",options:{labelledBy:null,maximumResultCount:15,minimumResultsForSearch:15,placeholder:null,optionRenderer:null,options:null,optionsKeys:{},pickerAttributes:null,required:!1,readOnly:!1,renderMode:"jet",valueOption:null,valueOptions:null},widget:function(){return this.select?this.select.container:this.element.parent().parent()},_ComponentCreate:function(){this._super(),g.wrapDataProviderIfNeeded(this,null),this._setup()},_AfterCreate:function(){if(this._super(),this._IsCustomElement()){this.options.labelledBy&&this._labelledByUpdatedForSelectComp();var e=this._getRootElement();this._focusable({element:e,applyHighlight:!0,afterToggle:this._handleAfterFocusToggle.bind(this,e)}),this.select&&"none"===this.options.labelEdge&&this.select.updateAriaLabelIfNeeded()}},_handleAfterFocusToggle:function(e,t){(this.hasAfterToggleHandlerAddedFocusClass=!1,"focusout"===t)&&(this._getDropdown()&&(e.classList.add("oj-focus"),this.hasAfterToggleHandlerAddedFocusClass=!0))},_AfterSetOption:function(e,t,i){switch(this._superApply(arguments),e){case"required":this._AfterSetOptionRequired(e);break;case"labelHint":case"labelEdge":this.select&&this.select.updateAriaLabelIfNeeded()}},_IsRequired:function(){return this.options.required},_labelledByUpdatedForSelectComp:function(){const t=this.options.labelledBy,i=this.options.translations.required;if(!t)return;const s=e.EditableValueUtils._getOjLabelAriaLabelledBy(t,`${this.uuid}_Label`);!s||this.multiple&&g.isReadonly(this)||this._GetContentElement().attr("aria-labelledby",s),this._IsRequired()&&i&&(this._implicitReqValidator=null,this._getImplicitRequiredValidator()),this.select&&this.select.updateAriaLabelledByIfNeeded(s)},_AfterSetOptionRequired:e.EditableValueUtils._AfterSetOptionRequired,_nativeSetDisabled:function(e){e?(this.element.attr("disabled",""),this.element.parent().parent().addClass("oj-disabled").removeClass("oj-enabled")):(this.element.removeAttr("disabled"),this.element.parent().parent().removeClass("oj-disabled").addClass("oj-enabled"))},_nativeChangeHandler:function(e){var t=[],i=[],s=!this._IsRequired()&&this._HasPlaceholderSet();a(e.target).find("option").each(function(){this.selected&&(this.value||s&&""===this.value)&&(t.push(this.value),i.push({value:this.value,label:this.text}))}),g.duringFetchByKey(this.element)&&g.setValueChanged(this,!0),this._IsCustomElement()&&!0!==this.multiple?(this._SetValue(t[0],e,{doValueChangeCheck:!1,_context:{internalSet:!0}}),g.setValueOptions(this,i[0])):(this._SetValue(t,e,{doValueChangeCheck:!1,_context:{internalSet:!0}}),g.setValueOptions(this,i))},_nativeQueryCallback:function(e){if(e){var t=this.element;g.arrayPopulateResults(t,e,this._formatValue.bind(this),g.isDataProvider(this.options.options)?null:this.options.optionsKeys),t.addClass(g.GENERATED_OPTIONS_SELECTOR)}},_nativeSetSelected:function(e){var t=null;if(e)t=e;else if(this._HasPlaceholderSet()&&(this.options.required&&(t=this._nativeFindFirstEnabledOptionValue()),this._SetPlaceholder(this.options.placeholder)),null===t){var i=this._nativeFindFirstEnabledOption();t=this._nativeFindFirstEnabledOptionValue(i),g.setValueOptions(this,{value:t,label:i.text()})}this._setInitialSelectedValue(t)},_nativeFetchFromDataProvider:function(){var e=this;g.fetchFirstBlockFromDataProvider(this.element,e.options).then(function(t){if(e._nativeQueryCallback(t),t.length){var i=e.options.value;i?g.validateFromDataProvider(e.element,e.options,i).then(function(t){var i,s;if(g.isValueChanged(e)&&!1===e.multiple)g.setValueChanged(e,void 0);else if(g.isValueChanged(e)&&e.multiple&&(s=e.options.valueOptions,i=e.options.value,g.setValueChanged(e,void 0)),t){var o=t.valueOptions;Array.isArray(o)&&o.length&&g.setValueOptions(e,s?o.concat(s):o);var n=t.value;if(Array.isArray(n)&&n.length){i=i?n.concat(i):n;var a=e.multiple?i:n[0];e._nativeSetSelected(a),e.multiple&&1!==a.length||(e.element[0].value=a)}}}):e._nativeSetSelected()}})},_nativeSetup:function(){var e=this.element;if(this._IsCustomElement()?a(this.OuterWrapper).addClass("oj-select-native oj-component oj-select oj-form-control"):e.wrap("<div>").parent().addClass("oj-select-native oj-component oj-select oj-form-control"),e.addClass("oj-select-select oj-component-initnode"),e.wrap('<div class="oj-text-field-container" role="presentation">'),this.multiple?(e[0].multiple||(e[0].multiple=!0),e.parent().prepend("<a class='oj-select-arrow oj-component-icon oj-clickable-icon-nocontext oj-select-multiple-open-icon' role='presentation'></a>")):e.parent().prepend("<a class='oj-select-arrow oj-component-icon oj-clickable-icon-nocontext oj-select-open-icon' role='presentation'></a>"),this._nativeSetDisabled(this.options.disabled),this.options.list)g.listPopulateResults(e,a("#"+this.options.list).children(),this._formatValue.bind(this)),e.addClass(g.GENERATED_OPTIONS_SELECTOR);else if(this.options.options)g.getDataProvider(this.options)?this._nativeFetchFromDataProvider():this._nativeQueryCallback(this.options.options);else if(this._IsCustomElement()){var t=e.children();1===t.length&&t.hasClass("oj-listbox-placeholder")||(g.ojOptionPopulateResults(e,t,this._formatValue.bind(this)),e.addClass(g.GENERATED_OPTIONS_SELECTOR))}this._focusable({element:e,applyHighlight:!0}),this.options.value||this._HasPlaceholderSet()||g.getDataProvider(this.options)||this._setInitialSelectedValue(this._nativeFindFirstEnabledOptionValue()),e.change(this._nativeChangeHandler.bind(this)),g.addDataProviderEventListeners(this),"top"===this._ResolveLabelEdgeStrategyType()&&this._initComponentMessaging()},_ResolveLabelEdgeStrategyType:function(){var e=this._superApply(arguments);return this._IsCustomElement()&&this._isNative()&&"inside"===e&&(e="top"),e},_jetSetup:function(){var e={};e.element=this.element,e.ojContext=this,e=a.extend(this.options,e),this.cssOptionDefaults=c.parseJSONFromFontFamily("oj-select-option-defaults")||{},this.select=this.multiple?new V:new I,this.select._init(e),this.select.container.addClass("oj-select-jet oj-form-control"),this._focusable({element:this.select.selection,applyHighlight:!0})},_setInitialSelectedValue:function(e){var t;t=this._IsCustomElement()||Array.isArray(e)?e:[e],this._SetValue(t,null,{doValueChangeCheck:!1,_context:{internalSet:!0,writeback:!0},changed:!0})},_setup:function(){g.isValueForPlaceholder(this.multiple,this.options.value)&&(this.multiple?this.options.valueOptions=g.getValueOptionsForPlaceholder(this,this.options.valueOptions):this.options.valueOption=g.getValueOptionsForPlaceholder(this,this.options.valueOption));this._resolveValueOptionsLater=g.mergeValueAndValueOptions(this,{doNotClearMessages:!0}),this._isNative()?this._nativeSetup():this._jetSetup(),this._refreshRequired(this.options.required)},_IsTextFieldComponent:function(){return!0},_GetContentWrapper:function(){if(this._IsCustomElement())return this.select._GetContentWrapper()},refresh:function(){this._super(),this._cleanup(),this._releaseSelectResources(),this._setup(),this._setupSelectResources(),this._isNative()&&this.options.value&&this.element.val(this.options.value),this._SetRootAttributes(),this._initComponentMessaging()},_refreshRequired:e.EditableValueUtils._refreshRequired,_AriaRequiredUnsupported:function(){return!1},_destroy:function(){this._cleanup(),this._super()},_setupSelectResources:function(){g.isDataProviderWrapped(this)||g.wrapDataProviderIfNeeded(this,this.select?this.select.opts:null),g.addDataProviderEventListeners(this)},_releaseSelectResources:function(){g.removeDataProviderEventListeners(this),g.clearDataProviderWrapper(this)},_SetupResources:function(){this._super(),this._setupSelectResources()},_ReleaseResources:function(){this._super(),this._releaseSelectResources()},_NotifyDetached:function(){this._superApply(arguments),this.select&&this.select.close()},_NotifyHidden:function(){this._superApply(arguments),this.select&&this.select.close()},_VerifyConnectedForSetup:function(){return!0},_SetPlaceholder:function(e){if(this._isNative()&&null!=e){var t=a(this.element.children("option:first-child"));t&&""===t.attr("value")?(t.text(this.options.placeholder),t.attr("value","")):((t=g.createOptionTag(0,"",e,this._formatValue.bind(this))).addClass("oj-listbox-placeholder"),this._hidePlaceholder(t,this._IsRequired()),t.prependTo(this.element))}else if(this.select){var i=e,s=this.options.placeholder,o=this.multiple;"inside"===this.options.labelEdge&&(i=e||!o&&null==s?e:""),this.select.opts.placeholder=i,this.select._setPlaceholder()}},_HasPlaceholderSet:function(){return g.isPlaceholderSpecified(this.options)},_ClearPlaceholder:function(){this._SetPlaceholderOption(null),this._SetPlaceholder(null)},_InitOptions:function(t,i){if(this._super(t,i),e.EditableValueUtils.initializeOptionsFromDom([{attribute:"disabled",validateOption:!0},{attribute:"placeholder"},{attribute:"required",coerceDomValue:!0,validateOption:!0},{attribute:"title"}],i,this),this.multiple=this._IsCustomElement()?"OJ-SELECT-MANY"===this.OuterWrapper.nodeName:this.options.multiple,void 0===this.options.value)this._IsCustomElement()?this.options.value=null:this.options.value=void 0!==this.element.attr("value")?g.splitVal(this.element.val(),","):null;else{var s=this.options.value;Array.isArray(s)&&(this._IsCustomElement()||(s=s.slice(0))),this.options.value=s}},_SetDisplayValue:function(e){if(this.select)g.applyValueOptions(this.select,this.options)||this.select._initSelection(),this._resolveValueOptionsLater=!1;else{var t;if(this._setPlaceholderStyle(e)&&(this.element[0].selectedIndex=0),null==e)this._resolveValueOptionsLater&&g.setValueOptions(this,g.getFixupValueOptionsForPlaceholder(this.multiple));else{var i,s=!1,o=e;if(this.multiple||(Array.isArray(e)&&(o=e[0]),null===(i=this._nativeFindLabel(o))&&(m.warn("JET select: selected value not found"),this.element[0].options&&this.element[0].options.length>0?(this.element[0].selectedIndex=0,o=this.element[0].value,i=this.element[0].text,s=!0):i=String(e))),s||this.element.val(e),e=o,this._resolveValueOptionsLater){if(this.multiple){var n=0;t=[],this.element.find("option").each(function(){this.selected&&(t.push({value:e[n],label:this.text}),n+=1)})}else t={value:e,label:i};g.setValueOptions(this,t)}}this._resolveValueOptionsLater=!1}},_GetDisplayValue:function(){var e=null;if(this.select){var t=this.select._getSelectionData();if(null!=t)if(this.multiple)if(e=[],Array.isArray(t))for(var i=0;i<t.length;i++)e.push(g.getLabel(t[i]));else e.push(g.getLabel(t));else e=Array.isArray(t)&&t.length>0?g.getLabel(t[0]):g.getLabel(t);else e=this._super()}else e=this._super();return e},validate:function(){var e,t=null;if(this.select)if(!0===this.multiple){var i=this.select.search.val(),s=this.select.getVal()?this.select.getVal():[];null==i||""===i||s.push(i),t=s}else t=this.select.getVal();else this._isNative()&&(t=this.options.value);return!1!==(e=this._SetValue(t,null,this._VALIDATE_METHOD_OPTIONS))||this._CanSetValue()||(e=!0),this._IsCustomElement()&&(e=Promise.resolve(e?"valid":"invalid")),e},_CanSetValue:function(){return!!this.forceCanSetValue||this._super()},_nativeFindFirstEnabledOption:function(){var e=this.element.find("option:not(:disabled)");return e.length>0?a(e[0]):null},_nativeFindFirstEnabledOptionValue:function(e){return e||(e=this._nativeFindFirstEnabledOption()),e?this._IsCustomElement()?e.attr("value"):[e.attr("value")]:null},_nativeSetOptions:function(e){var t=this.options.value,i=this.element;if(i.hasClass(g.GENERATED_OPTIONS_SELECTOR))g.cleanupResults(i);else{var s=i.children();s.length>0&&s.remove()}if(g.isDataProvider(e))this._nativeFetchFromDataProvider();else{g.arrayPopulateResults(i,e,this._formatValue.bind(this),this.options.optionsKeys);var o=null;this._HasPlaceholderSet()&&(this.options.required&&(o=this._nativeFindFirstEnabledOptionValue()),this._SetPlaceholder()),null===o&&(o=this._nativeFindFirstEnabledOptionValue()),this.options.value=o,this.option("value",t)}i.addClass(g.GENERATED_OPTIONS_SELECTOR)},_removePlaceholderInMultiValues:function(e){for(var t,i=[],s=0;s<e.length;s++)null!=(t=e[s])&&(t.length>0?(1===i.length&&""===i[0]&&i.pop(),i.push(t)):0===i.length&&i.push(t));return i},_nativeFindLabel:function(e){var t=this.element[0].options;if(t&&t.length>0)for(var i=0;i<t.length;i++)if(t[i].value===e)return a(t[i]).text();return null},_setPlaceholderStyle:function(e){var t=this.multiple;return(null==e||""===e)&&this._HasPlaceholderSet()||!this._IsCustomElement()&&Array.isArray(e)&&1===e.length&&""===e[0]||this._IsCustomElement()&&this._HasPlaceholderSet()&&g.isValueForPlaceholder(t,e)?(this.element.addClass("oj-select-default"),!0):(this.element.removeClass("oj-select-default"),!1)},_setOptions:function(e,t){var i,s,o;if(this._processSetOptions||(this._processSetOptions=[]),this._processSetOptions.push({}),this._super(e,t),(i=this._processSetOptions.pop()).value&&(s=i.value()),i.validateValue){var n=function(){var e,t=this._resolveValueOptionsLater;return this.isValueOptionsSetInternally&&(this._resolveValueOptionsLater=!0),e=i.validateValue(),this._resolveValueOptionsLater=t,e}.bind(this);o=s instanceof Promise?s.then(n):n()}if(i.messagesCustom){const e=o||s;e instanceof Promise?e.then(i.messagesCustom):i.messagesCustom()}},_setOption:function(e,t,i){var s,o,n=t,r=this,l=this._super,h=this.multiple,c=!1,u=(this._processSetOptions||[]).slice(-1)[0];if("value"!==e){if("placeholder"===e)this.select?(this.select.opts.placeholder=n,g.isValueForPlaceholder(h,this.options.value)&&this.select._setPlaceholder()):(s=this.options.value)&&0!==s.length&&s[0]||(this.element[0].selectedIndex=0);else if("maximumResultCount"===e)this.select?this.select.opts.maximumResultCount=n:c=!0;else if("minimumResultsForSearch"===e)this.select&&(this.select.opts.minimumResultsForSearch=n);else if("renderMode"===e)this._cleanup(),c=!0;else if("messagesCustom"===e&&null!=u)return void(u.messagesCustom=l.bind(this,e,n,i));if("options"===e?(g.removeDataProviderEventListeners(this),g.clearDataProviderWrapper(this)):"optionsKeys"===e?g.clearDataProviderWrapper(this):"valueOption"===e&&!0!==h?(n=g.getValueOptionsForPlaceholder(this,n),this.select&&(this.select.opts.valueOption=n),this.isValueOptionsSetInternally=!1):"valueOptions"===e&&!0===h&&(n=g.getValueOptionsForPlaceholder(this,n),this.select&&(this.select.opts.valueOptions=n),this.isValueOptionsSetInternally=!1),this._super(e,n,i),c&&this.refresh(),"disabled"===e)this.select?n?this.select._disable():this.select._enable():this._nativeSetDisabled(n);else if("readOnly"===e)this.select&&this.select.applyReadonlyState(),"native"===this.options.renderMode&&this.refresh();else if("valueOption"===e&&!0!==h)g.syncValueWithValueOption(this,n,this.options.value,this._isNative());else if("valueOptions"===e&&!0===h)g.syncValueWithValueOptions(this,n,this.options.value,this._isNative());else if("options"===e)if(g.isDataProvider(n)&&(g.wrapDataProviderIfNeeded(this,this.select?this.select.opts:null),g.addDataProviderEventListeners(this)),this.select)if(s=this.select.getVal(),o=h?s&&0!==s.length:this._IsCustomElement()?null!=s:s&&null!=s[0],g.getDataProvider(this.options)&&o){var d=function(){if(g.applyValueOptions(this.select,this.options))return this.select.opts.options=n,this.select.opts=r.select._prepareOpts(this.select.opts),Promise.resolve();let e;const t=new Promise(function(t){e=t});var i=this.select.container,s=this.options,o=this.options.value;return g.validateFromDataProvider(i,s,o).then(function(t){var i=t?t.value:null,s=Promise.resolve();if(i){var a=t.valueOptions;Array.isArray(a)&&a.length&&g.setValueOptions(r,a),Array.isArray(i)&&i.length&&l.call(r,"value",h?i:i[0])}else{var c=null!=r.options.placeholder,u=function(){r.select.setValOpts(null),l.call(r,"value",null),h||c||r.select.text.text("")};h||c?u():s=g.fetchFirstBlockFromDataProvider(r.select.container,r.options,1).then(function(e){var t=o!==r.select.getVal();e&&e.length>0&&!t?r.select._updateSelectedOption(e[0]):t||u()})}r.select.opts.options=n,r.select.opts=r.select._prepareOpts(r.select.opts),s.then(e)}),t}.bind(this);null!=u?u.validateValue=d:d()}else this.select.opts.options=n,this.select.opts=this.select._prepareOpts(this.select.opts),h&&!o||(this.select.setValOpts(null),this._super("value",s));else this._nativeSetOptions(n);else if("optionsKeys"===e)g.wrapDataProviderIfNeeded(this,this.select?this.select.opts:null);else if("required"===e&&this._isNative()){var p=a(this.element.find(".oj-listbox-placeholder"));p&&""===p.attr("value")&&this._hidePlaceholder(p,n)}else"multiple"!==e||this._IsCustomElement()?"labelledBy"===e&&this._labelledByUpdatedForSelectComp():this.multiple=n}else{var f=function(){this._valueUpdatePromise=null;var t=function(t){l.call(this,e,t,i)}.bind(this);if(this._setPlaceholderForValue(n,t))return Promise.resolve();if(n=this._treatValueForSetValue(n),g.getDataProvider(this.options)&&n){var s,o=new Promise(function(e){s=e}),a=function(e){if(e){var i=e.valueOptions;Array.isArray(i)&&i.length&&g.setValueOptions(this,i);var o=e.value;if(Array.isArray(o)&&o.length){var n=h?o:o[0];t(n),this._isNative()&&(this.element[0].value=n)}}s()}.bind(this);return this._validateFromDataProviderAndSetValue(n,a),this._valueUpdatePromise=o,o}return this._validateFromOptionsAndSetValue(n,t),Promise.resolve()}.bind(this);null!=u?u.value=f:f()}},_isOptionDataPending:function(){var e=this.options.options,t=this.select.datalist;if(t){if(0===t.children().length)return!0}else{if(g.isDataProvider(e))return!0;if(!e||0===e.length)return!0}return!1},_validateFromDataProviderAndSetValue:function(e,t){var i=this._isNative()?this.element:this.select.container,s=this.options;this.select&&(this.select.opts.options=s.options),g.validateFromDataProvider(i,s,e).then(t)},_validateFromOptionsAndSetValue:function(e,t){var i=this.multiple;if(this._IsCustomElement()&&!i)this._isValidValue(e)&&(t(e),g.updateValueOptions(this.select));else{for(var s=[],o=0;o<e.length;o++)this.select?this._isValidValue(e[o])&&s.push(e[o]):this.element.find("option[value='"+e[o]+"']").length>0&&s.push(e[o]);(s.length>0||i)&&(this._isNative()?this._nativeSetSelected(s):(t(s),g.updateValueOptions(this.select)))}},_isValidValue:function(e){var t;return this.select&&((t=this.select.datalist)||(t=this.select.opts.element)),!(this.select&&this.select.opts.validate)||this.select.opts.validate(t,e)||this._isOptionDataPending()},_treatValueForSetValue:function(e){var t=this.multiple,i=this._IsCustomElement()&&!t,s=e;return Array.isArray(s)||i||(s=[s]),this._isNative()&&(i||(s=this._removePlaceholderInMultiValues(s)),this._setPlaceholderStyle(s)),s},_setPlaceholderForValue:function(e,t){var i=this.multiple;return!(!this._HasPlaceholderSet()&&!i||!(null!=e&&0===e.length||this._IsCustomElement()&&g.isValueForPlaceholder(i,e)))&&(g.setValueOptions(this,g.getFixupValueOptionsForPlaceholder(i)),t(e),!0)},_getValueUpdatePromise:function(){return this._valueUpdatePromise instanceof Promise?this._valueUpdatePromise:Promise.resolve()},_getDropdown:function(){if(this.select&&this.select._opened()){var e=this.select.dropdown;if(e&&e.attr("data-oj-containerid")===this.select.containerId)return e}return null},_hidePlaceholder:function(e,t){t?(e.attr("disabled",""),e.attr("hidden","")):(e.removeAttr("disabled"),e.removeAttr("hidden"))},_isNative:function(){return"native"===this.options.renderMode&&!g.isReadonly(this)},_cleanup:function(){this.element.parent().parent().hasClass("oj-select-native")?(this.element.off("change"),this.element.hasClass(g.GENERATED_OPTIONS_SELECTOR)&&g.cleanupResults(this.element),this.element.parent().hasClass("oj-text-field-container")&&this.element.unwrap(),this.element.parent().children(".oj-select-arrow").remove(),this._IsCustomElement()||this.element.unwrap(),this.element.removeClass("oj-select-select oj-component-initnode"),this.element.attr({"aria-labelledby":""})):this.select&&(this.select._destroy(),this.select=void 0)},getNodeBySubId:function(e){var t,i=null;if(null==e){var s=this.widget();return s?s[0]:null}if(this._isNative())return null;if(!(i=this._super(e))){var o=this._getDropdown();switch(t=e.subId){case"oj-select-drop":o&&(i=o[0]);break;case"oj-select-results":o&&(i=o.find(".oj-listbox-results")[0]);break;case"oj-select-search":o&&(i=o.find(".oj-listbox-search")[0]);break;case"oj-select-input":case"oj-listbox-input":o&&(i=o.find(".oj-listbox-input")[0]);break;case"oj-select-choice":case"oj-select-chosen":case"oj-select-arrow":i=this.widget().find("."+t)[0];break;case"oj-listitem":if(o){var n=o.find(".oj-listbox-result");i=this.select._findItem(n,e.value)}break;case"oj-select-remove":var r=this.widget().find(".oj-select-selected-choice"),l=this.select._findItem(r,e.value);i=l?a(l).find(".oj-select-clear-entry-icon")[0]:null;break;case"oj-listbox-result-label":if(o){var h=a("#"+this.select.results.attr("id")).children(),c=e.index;h.length&&c<h.length&&(i=h.eq(c).find("."+t)[0])}}}return i||null},getSubIdByNode:function(e){if(this._isNative())return this._super(e);var t=null;if(null!=e){var i=a(e);t=i.hasClass("oj-listbox-input")?{subId:"oj-select-input"}:i.hasClass("oj-select-arrow")?{subId:"oj-select-arrow"}:i.hasClass("oj-listbox-result")?{subId:"oj-listitem",value:i.data("ojselect").value}:i.hasClass("oj-select-clear-entry-icon")?{subId:"oj-select-remove",value:i.closest(".oj-select-selected-choice").data("ojselect").value}:this._super(e)}return t},_GetDefaultStyleClass:function(){return"oj-select"},_GetMessagingLauncherElement:function(){return this.select?this.select.selection:this._super()},_GetContentElement:function(){return this.select?this.select.selection:this.element},_GetAriaLabelElement:function(){return this._GetContentElement()[0]}}),v.setDefaultOptions({ojSelect:{displayOptions:{converterHint:["none"]},renderMode:v.createDynamicPropertyGetter(function(){return(c.parseJSONFromFontFamily("oj-select-option-defaults")||{}).renderMode})}})});
//# sourceMappingURL=ojselectcombobox.js.map;

define('css!dashboard/notifications-layer/notifications-layer-styles',[],function(){});
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojtemplateengine-utils',["exports","preact/jsx-runtime","preact","ojs/ojcore-base","ojs/ojcustomelement-utils","ojs/ojcustomelement-registry","ojs/ojmetadatautils","ojs/ojlogger"],function(e,t,o,r,s,n,a,i){"use strict";r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r;const l=Symbol("row");class c{static renderNodes(e,r,n,a){const i=n.parentStub;let d=()=>Array.from(i.childNodes);n.nodes&&(d=c._getRetrieveNodesFunction(n.nodes));const u=console.error;console.error=(e,t)=>{-1===e.indexOf("Improper nesting of table.")&&u.apply(console,arguments)};try{const e=a?Array.from(a).reduce((e,[o,r])=>t.jsx(o.Provider,{value:r,children:e}),r):r;o.render(e,i)}finally{console.error=u}let p=!0;const _=d();_.forEach(e=>{e.setAttribute?(e.setAttribute("data-oj-vdom-template-root",""),p=!1):e._oj_vdom_template_root=!0,e[l]=n,e[s.CACHED_BINDING_PROVIDER]="preact"}),n.vnode=r,n.nodes=_,p&&e.setAttribute("data-oj-vdom-template-text-roots","")}static clean(e){const t=e[l];if(!t.cleaned){t.cleaned=!0;const e=c._getInsertNodesFunction(t.nodes);o.render(null,t.parentStub),e(t.nodes),t.computedVNode?.dispose();const r=t.template,s=r._cachedRows.indexOf(t);r._cachedRows.splice(s,1)}}static findTemplateRoots(e,t){let o=e&&e.querySelectorAll?Array.from(e.querySelectorAll('[data-oj-vdom-template-root=""]')):[];e&&e.hasAttribute&&e.hasAttribute("data-oj-vdom-template-root")&&o.push(e);let r=t?.hasAttribute("data-oj-vdom-template-text-roots");if(!r){r=(e&&e.querySelectorAll?e.querySelectorAll('[data-oj-vdom-template-text-roots=""]'):[]).length>0}if(r){const t=document.createTreeWalker(e,NodeFilter.SHOW_TEXT);let r=t.currentNode;for(;r;)r._oj_vdom_template_root&&o.push(r),r=t.nextNode()}return o}static _getInsertNodesFunction(e){const t=e[e.length-1],o=t.parentNode,r=t.nextSibling;return e=>{e.forEach(e=>o.insertBefore(e,r))}}static _getRetrieveNodesFunction(e){const t=e[0],o=e[e.length-1],r=t.parentNode,s=t.previousSibling,n=o.nextSibling;return()=>{const e=[];for(let t=s?s.nextSibling:r.firstChild;t!==n;t=t.nextSibling)e.push(t);return e}}static resolveVDomTemplateProps(e,t,o,r,s,a,i){const l=n.getPropertiesForElementTag(o),[u,p]=c.extendTemplate(e,c._COMPUTED_PROPS_CACHE_FACTORY,e=>{for(const t of u)t.recalculateValue(e)}),_=new d(e=>c._computeProps(e,o,l,r,s,i),t,a,p);return u.add(_),_}static _computeProps(e,t,o,r,n,i){const l=e(n),c=(Array.isArray(l)?l:[l]).find(e=>e.type===t);if(!c)throw new Error("Item template must contain an element named {elementTagName}");const d={},u=c.props;return Object.keys(u).forEach(e=>{r.has(e)&&(d[e]=s.transformPreactValue(null,a.getPropertyMetadata(e,o),c.props[e]))}),d}static extendTemplate(e,t,o){if(!e._cachedRows){let r=e.render;Object.defineProperties(e,{_cachedRows:{writable:!0,value:t()},render:{enumerable:!0,get:()=>r,set(e){r=e,e&&o(e)}}})}return e._cachedRows}}c._COMPUTED_PROPS_CACHE_FACTORY=()=>{const e=new Set;return[e,e.delete.bind(e)]},c._ROW_CACHE_FACTORY=()=>[];class d{constructor(e,t,o,r){this._calculate=e,this._defaultProps=o,this._disposeCallback=r,this._value=e(t),this._merged=this._getMergedValue(this._value)}peek(){return this._merged}subscribe(e){if(this._sub)throw new Error("Resolved property observable does not support multiple subscribers");this._sub=e}dispose(){this._disposeCallback(this)}recalculateValue(e){const t=this._calculate(e),o=this._value;this._value=t,this._sub&&!r.Object.compareValues(t,o)&&(this._merged=this._getMergedValue(t),this._sub(this._merged))}_getMergedValue(e){return Object.assign({},this._defaultProps,e)}}class u{static getContext(e,t,o,r,s,n,a){if(e){let l=o.__ojBindingContext?o.__ojBindingContext:e.__ContextFor(o);l||(i.info("Binding context not found when processing template for element with id: "+t.id+". Using binding context for element instead."),l=e.__ContextFor(t));const c=e.__ExtendBindingContext(l,r,s,n,t);if(c.$provided&&a){const e=new Map([...c.$provided,...a]);c.$provided=e}else a&&(c.$provided=a);return c}const l={$current:r};return n&&(l[n]=r),l}static getResolvedDefaultProps(e,t,o){let r=e.get(t);if(!r){const s=document.createElement(t);r=u.getStaticPropertyMap(s,o,document.body),e.set(t,r)}return r}static getStaticPropertyMap(e,t,o){const r={};if(e){const s=e.style;s.display="none",s.position="absolute",e.setAttribute("data-oj-binding-provider","none"),o.appendChild(e),t.forEach(function(t){void 0!==e[t]&&(r[t]=e[t])}),o.removeChild(e)}return r}static createPropertyBackedByObservable(e,t,o,r,s){const n=e.__Observable(r);Object.defineProperty(t,o,{get:()=>n(),set:e=>{n(e),s&&s(e)},enumerable:!0})}}e.PreactTemplate=c,e.TemplateEngineUtils=u,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojtemplateengine-utils.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojtemplateengine-ko',["knockout","ojs/ojcore","ojs/ojkoshared","ojs/ojcustomelement-utils","ojs/ojhtmlutils","ojs/ojtemplateengine-utils"],function(e,t,r,o,n,a){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r;const i=new WeakMap;return new class{constructor(){this._bindingProvider={__ContextFor:e.contextFor,__ExtendBindingContext:r.extendBindingContext,__KoComputed:e.computed,__Observable:e.observable}}execute(t,r,n,i,s,l){const p=r.getAttribute("data-oj-as"),c=a.TemplateEngineUtils.getContext(this._bindingProvider,t,r,n,i,p,l);if(r.render)throw new Error(`The render property is not expected on the template for component ${t.id}`);const u=this._createAndPopulateContainer(r,s);let d=u.childNodes;for(let e=0;e<d.length;e++){d[e][o.CACHED_BINDING_PROVIDER]="knockout"}return e.applyBindingsToDescendants(c,u),Array.prototype.slice.call(d,0)}clean(t,r){return e.cleanNode(t)}resolveProperties(e,t,r,o,n,i,s,l){if(t.render)throw new Error(`The render property is not expected on the template for component ${e.id}`);const p=t.getAttribute("data-oj-as"),c=a.TemplateEngineUtils.getContext(this._bindingProvider,e,t,n,i,p),u=this._getPropertyContributorsViaCache(t,c,r,o,l||e);return this._createComputed(u,c,s)}defineTrackableProperty(e,t,r,o){a.TemplateEngineUtils.createPropertyBackedByObservable(this._bindingProvider,e,t,r,o)}_createComputed(r,o,n){const a=e.pureComputed(()=>{const a={};r.evalMap.forEach((t,r)=>{var i=e.utils.unwrapObservable(t(o));n&&n(r,i),a[r[0]]=this._getMergedValue(a,r,i)});const i=t.CollectionUtils.copyInto;let s=i({},r.staticMap,null,!0);return s=i(s,a,null,!0),s});return this._wrap(a,["peek","subscribe","dispose"])}_wrap(e,t){const r={};return t.forEach(t=>{r[t]=e[t].bind(e)}),r}_createAndPopulateContainer(e,t){var r=document.createElement("div");t&&(r._ojReportBusy=t);for(var o=n.getTemplateContent(e),a=0;a<o.length;a++)r.appendChild(o[a]);return r}_getPropertyContributorsViaCache(e,t,r,o,n){let a=i.get(e);if(!a){a={},i.set(e,a);const s=this._createAndPopulateContainer(e).querySelector(r);a.evalMap=this._getPropertyEvaluatorMap(s,o,t),a.staticMap=this._getStaticPropertyMap(s,o,n)}return a}_getStaticPropertyMap(e,t,r){const o={};if(e){var n=e.style;n.display="none",n.position="absolute",e.setAttribute("data-oj-binding-provider","none"),r.appendChild(e),t.forEach(function(t){void 0!==e[t]&&(o[t]=e[t])}),r.removeChild(e)}return o}_getMergedValue(e,t,r){if(t.length<2)return r;const o=e[t[0]]||{};let n=o;const a=t.length-1;for(let e=1;e<a;e++){const r=t[e],o=n[r]||{};n[r]=o,n=o}return n[t[a]]=r,o}_getPropertyEvaluatorMap(e,t,n){for(var a=new Map,i=e?e.attributes:[],s=0;s<i.length;s++){var l=i[s],p=o.AttributeUtils.attributeToPropertyName(l.name).split(".");if(t.has(p[0])){var c=o.AttributeUtils.getExpressionInfo(l.value).expr;c&&a.set(p,r.createBindingExpressionEvaluator(c,n))}}return a}}});
//# sourceMappingURL=ojtemplateengine-ko.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojtemplateengine-preact-ko',["knockout","ojs/ojkoshared","ojs/ojcontext","ojs/ojtemplateengine-utils"],function(e,t,r,o){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r;return new class{constructor(){this._defaultProps=new Map,this._bindingProvider={__ContextFor:e.contextFor,__ExtendBindingContext:t.extendBindingContext,__KoComputed:e.computed,__Observable:e.observable}}execute(e,t,r,n,a,d){const c=t.getAttribute("data-oj-as"),s=o.TemplateEngineUtils.getContext(this._bindingProvider,e,t,r,n,c,d);if(t.render)return this._executeVDomTemplate(e,t,s,d);throw new Error(`The render property is expected on the template for component ${e.id}`)}clean(t,r){let n=o.PreactTemplate.findTemplateRoots(t,r);return n.forEach(e=>{o.PreactTemplate.clean(e)}),0===n.length?e.cleanNode(t):null}resolveProperties(e,t,r,n,a,d,c,s){const l=t.render;if(l){const e=o.TemplateEngineUtils.getResolvedDefaultProps(this._defaultProps,r,n);return o.PreactTemplate.resolveVDomTemplateProps(t,l,r,n,a,e,c)}throw new Error(`The render property is expected on the template for component ${e.id}`)}defineTrackableProperty(e,t,r,n){o.TemplateEngineUtils.createPropertyBackedByObservable(this._bindingProvider,e,t,r,n)}_executeVDomTemplate(t,n,a,d){const c=r.getContext(n).getBusyContext(),s=e.pureComputed({read:()=>n.render(a.$current,d)}).extend({rateLimit:{timeout:0,method:(e,t)=>{let r;return()=>{if(!r){const o=c.addBusyState({description:"pending changes for the template element"});r=setTimeout(()=>{r=void 0,e(),o()},t)}}}}}),l=s();o.PreactTemplate.extendTemplate(n,o.PreactTemplate._ROW_CACHE_FACTORY,e=>{n._cachedRows.forEach(r=>{let n=e(r.currentContext,d);o.PreactTemplate.renderNodes(t,n,r,d)})});const i=document.createElement("div"),p={currentContext:a.$current,template:n,parentStub:i,computedVNode:s,vnode:void 0,nodes:void 0};return o.PreactTemplate.renderNodes(t,l,p,d),n._cachedRows.push(p),s.subscribe(e=>{const r=n._cachedRows.find(e=>e.computedVNode===s);r&&o.PreactTemplate.renderNodes(t,e,r,d)}),p.nodes}}});
//# sourceMappingURL=ojtemplateengine-preact-ko.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojcomposite-knockout',["ojs/ojcore-base","knockout","ojs/ojcustomelement","ojs/ojcustomelement-utils","ojs/ojkoshared","ojs/ojlogger","ojs/ojtemplateengine-ko","ojs/ojtemplateengine-preact-ko"],function(e,o,t,n,l,r,i,s){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,l=l&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i,s=s&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s;const a={};e._registerLegacyNamespaceProp("CompositeTemplateRenderer",a),a.renderTemplate=function(t,n,l){var r=a._storeNodes(n,l);o.virtualElements.setDomNodeChildren(n,l),a.invokeViewModelMethod(n,t.viewModel,"attached",[t.viewModelContext]),a.invokeViewModelMethod(n,t.viewModel,"connected",[t.viewModelContext]);var i=a._getKoBindingContext().createChildContext(t.viewModel,void 0,function(o){o[e.Composite.__COMPOSITE_PROP]=n,o.__oj_slots=t.slotMap,o.__oj_nodestorage=r,o.$slotNodeCounts=t.slotNodeCounts,o.$slotCounts=t.slotNodeCounts,o.$props=t.props,o.$properties=t.props,o.$unique=t.unique,o.$uniqueId=t.uniqueId,o.$parent=null,o.$parentContext=null,o.$parents=null,o.$provided=null});o.applyBindingsToDescendants(i,n),a.invokeViewModelMethod(n,t.viewModel,"bindingsApplied",[t.viewModelContext])},a.getEnclosingComposite=function(t){for(var n=null,l=o.contextFor(t);l&&!n;l=l.$parentContext)n=l[e.Composite.__COMPOSITE_PROP];return n},a.createTracker=function(){return o.observable()},a.invokeViewModelMethod=function(e,t,n,l){if(null!=t){var r=t[n];if("function"==typeof r)try{return o.ignoreDependencies(r,t,l)}catch(o){throw new Error("Error while invoking "+n+" callback for "+e.tagName.toLowerCase()+" with id '"+e.id+"'.")}}},a._storeNodes=function(o,t){var l,r=o.childNodes;if(r){(l=document.createElement("div")).setAttribute("data-bind","_ojNodeStorage_"),l.style.display="none",t.push(l);for(var i=[],s=0;s<r.length;s++){var a=r[s];n.CustomElementUtils.isSlotable(a)&&i.push(a)}i.forEach(function(e){l.appendChild(e)}),e.Components&&e.Components.subtreeHidden(l)}return l},a._getKoBindingContext=function(){if(!a._BINDING_CONTEXT){var e=document.createElement("div");o.applyBindings(null,e),a._BINDING_CONTEXT=o.contextFor(e),o.cleanNode(e)}return a._BINDING_CONTEXT},a._BINDING_CONTEXT=null,function(){function e(e,t){var n,l,r=["name","slot"];t?(r.push("data"),r.push("as"),l="ko _ojBindTemplateSlot_:{"):(r.push("index"),l="ko _ojBindSlot_:{");for(var i=[],s=0;s<r.length;s++){var a=r[s],d=o(e.getAttribute(a));d&&i.push(a+":"+d)}l+=i.join(","),l+="}";var u=document.createComment(l),p=document.createComment("/ko");n=[u];var c=e.parentNode;for(c.insertBefore(u,e);e.childNodes.length>0;){var m=e.childNodes[0];c.insertBefore(m,e),n.push(m)}return n.push(p),c.replaceChild(p,e),n}function o(e){if(null!=e){var o=n.AttributeUtils.getExpressionInfo(e).expr;return null==o&&(o="'"+e+"'"),o}return null}l.registerPreprocessor("oj-bind-slot",e),l.registerPreprocessor("oj-slot",e),l.registerPreprocessor("oj-bind-template-slot",function(o){return e(o,!0)})}(),o.bindingHandlers._ojNodeStorage_={init:function(){return{controlsDescendantBindings:!0}}};const d={};e._registerLegacyNamespaceProp("SlotUtils",d),d.cleanup=function(t,n){var l=n.__oj_nodestorage;if(l)for(var r=o.virtualElements.firstChild(t);r;){var i=o.virtualElements.nextSibling(r);null!=r.__oj_slots&&(l.appendChild(r),e.Components&&1===r.nodeType&&e.Components.subtreeHidden(r)),r=i}},o.bindingHandlers._ojBindSlot_={init:function(t,l,r,i,s){o.utils.domNodeDisposal.addDisposeCallback(t,d.cleanup.bind(null,t,s));var a=s.__oj_slots,u=l(),p=o.utils.unwrapObservable,c=p(u.name)||"",m=p(u.slot)||"",_=p(u.index),f=null!=_?[a[c][_]]:a[c];if(f){var v;for(v=0;v<f.length;v++){f[v].__oj_slots=m}n.CustomElementUtils.allowSlotRelocation(!0);try{o.virtualElements.setDomNodeChildren(t,f)}finally{n.CustomElementUtils.allowSlotRelocation(!1)}if(e.Components)for(v=0;v<f.length;v++){var g=f[v];1===g.nodeType&&e.Components.subtreeShown(g)}return{controlsDescendantBindings:!0}}o.virtualElements.childNodes(t).forEach(function(e){(function(e){return 1===e.nodeType||3===e.nodeType&&e.nodeValue.trim()})(e)&&(e.__oj_slots=m)})}},o.virtualElements.allowedBindings._ojBindSlot_=!0,o.bindingHandlers._ojBindTemplateSlot_={init:function(t,n,l,a,u){o.utils.domNodeDisposal.addDisposeCallback(t,d.cleanup.bind(null,t,u));var p=u.__oj_slots,c=n(),m=o.utils.unwrapObservable,_=m(c.name)||"",f=p[_],v=f&&f[f.length-1],g=!1;if(!v)for(var h=o.virtualElements.childNodes(t),C=0;C<h.length;C++)if("TEMPLATE"===h[C].tagName){g=!0,v=h[C];break}if(v){var j=u[e.Composite.__COMPOSITE_PROP];"TEMPLATE"!==v.tagName&&r.error("Slot content for slot '"+_+"' under "+j.tagName.toLowerCase()+" with id '"+j.id+"' should be wrapped inside a <template> node."),v.__oj_slots=m(c.slot)||"";const n=v.render?s:i;o.computed(function(){var e=m(c.data),l=m(c.as),r=n.execute(g?t:j,v,e,g?l:null);o.virtualElements.setDomNodeChildren(t,r)})}else o.virtualElements.setDomNodeChildren(t,[]);return{controlsDescendantBindings:!0}}},o.virtualElements.allowedBindings._ojBindTemplateSlot_=!0});
//# sourceMappingURL=ojcomposite-knockout.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojcomposite',["exports","ojs/ojcore-base","ojs/ojhtmlutils","ojs/ojlogger","ojs/ojmetadatautils","ojs/ojcomposite-knockout","ojs/ojcustomelement","ojs/ojcustomelement-utils","ojs/ojcustomelement-registry"],function(e,t,o,n,i,r,s,a,d){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;const l={getContainingComposite:function(e,o){for(var n=null,i=e;i;)if((i=t.CompositeTemplateRenderer.getEnclosingComposite(i))&&"oj-module"!==i.nodeName.toLowerCase()){if(o&&!(16&e.compareDocumentPosition(o)))break;n=i}return n}};class u extends a.LifecycleElementState{getTrackChildrenOption(){return"immediate"}}const _={};_.proto=Object.create(t.BaseCustomElementBridge.proto),_.DESC_KEY_CSS="css",_.DESC_KEY_PARSE_FUN="parseFunction",_.DESC_KEY_VIEW="view",_.DESC_KEY_VIEW_MODEL="viewModel",_.SUBID_MAP="data-oj-subid-map",_.DisconnectedState=0,_.ConnectedState=1,t.CollectionUtils.copyInto(_.proto,{beforePropertyChangedEvent:function(e,o,n){var i={property:o};t.CollectionUtils.copyInto(i,n),t.CompositeTemplateRenderer.invokeViewModelMethod(e,this._VIEW_MODEL,"propertyChanged",[i])},AddComponentMethods:function(e){var t=function(e,t,o,n,i,r){if(!t.SaveEarlyPropertySet(e,o,n)){var s=t.SetProperty(e,o,n,i,r);if(s.propertySet)if(s.isSubproperty)_._getPropertyTracker(t,s.property).valueHasMutated()}};e.setProperty=function(e,o){var n=a.CustomElementUtils.getElementBridge(this);t(this,n,e,o,this,!0)},e.getProperty=function(e){return a.CustomElementUtils.getElementBridge(this).GetProperty(this,e,this)},e._propsProto.setProperty=function(e,o){t(this._ELEMENT,this._BRIDGE,e,o,this,!1)},e._propsProto.getProperty=function(e){return this._BRIDGE.GetProperty(this._ELEMENT,e,this)},e.getNodeBySubId=function(e){var t=a.CustomElementUtils.getElementBridge(this),o=t._getViewModel();return o.getNodeBySubId?o.getNodeBySubId(e,t._getNodeBySubId.bind(this)):t._getNodeBySubId.bind(this)(e)},e.getSubIdByNode=function(e){var t=a.CustomElementUtils.getElementBridge(this),o=t._getViewModel();return o.getSubIdByNode?o.getSubIdByNode(e,t._getSubIdByNode.bind(this)):t._getSubIdByNode.bind(this)(e)}},CreateComponent:function(e){const o=a.CustomElementUtils.getElementState(e).getSlotMap();for(var n={},i=Object.keys(o),r=0;r<i.length;r++){var s=i[r];n[s]=o[s].length}var l=a.ElementUtils.getUniqueId(),u={element:e,props:Promise.resolve(this._PROPS),properties:this._PROPS,slotNodeCounts:Promise.resolve(n),slotCounts:n,unique:l};u.uniqueId=e.id?e.id:l,this._VM_CONTEXT=u;var c=d.getElementDescriptor(e.tagName)[_.DESC_KEY_VIEW_MODEL];return c="function"==typeof c?new c(u):t.CompositeTemplateRenderer.invokeViewModelMethod(e,c,"initialize",[u])||c,this._VIEW_MODEL=c,(t.CompositeTemplateRenderer.invokeViewModelMethod(e,c,"activated",[u])||Promise.resolve(!0)).then(()=>this._processCompositeTemplate(e))},DefineMethodCallback:function(e,t,o){e[t]=function(){var e=o.internalName||t,n=a.CustomElementUtils.getElementBridge(this)._getViewModel();return n[e].apply(n,arguments)}},DefinePropertyCallback:function(e,o,r){var s=function(e,i){if(!this._BRIDGE.SaveEarlyPropertySet(this._ELEMENT,o,e)){i&&(e=a.transformPreactValue(this._ELEMENT,r,e));var s=_._getPropertyTracker(this._BRIDGE,o),d=s.peek();if(a.ElementUtils.comparePropertyValues(r.writeback,e,d))n.info(a.CustomElementUtils.getElementInfo(this._ELEMENT)+": Ignoring property set for property '"+o+"' with same value.");else if(i&&(e=this._BRIDGE.ValidatePropertySet(this._ELEMENT,o,e)),r._eventListener&&this._BRIDGE.SetEventListenerProperty(this._ELEMENT,o,e),s(e),!r._derived){var l=i?"external":"internal";t.BaseCustomElementBridge.__FirePropertyChangeEvent(this._ELEMENT,o,e,d,l),this._BRIDGE.State.dirtyProps.add(o)}}},d=function(e){var t=_._getPropertyTracker(this._BRIDGE,o),n=e?t.peek():t();return void 0===n&&t(n=i.getDefaultValue(r)),n};r._derived||t.BaseCustomElementBridge.__DefineDynamicObjectProperty(e._propsProto,o,function(){return d.bind(this,!1)()},function(e){s.bind(this)(e,!1)}),t.BaseCustomElementBridge.__DefineDynamicObjectProperty(e,o,function(){var e=a.CustomElementUtils.getElementBridge(this);return d.bind(e._PROPS,!0)()},function(e){var t=a.CustomElementUtils.getElementBridge(this);s.bind(t._PROPS)(e,!0)})},GetMetadata:function(e){return e._metadata||{}},HandleDetached:function(e){t.BaseCustomElementBridge.proto.HandleDetached.call(this,e),t.CompositeTemplateRenderer.invokeViewModelMethod(e,this._VIEW_MODEL,"detached",[e]),t.CompositeTemplateRenderer.invokeViewModelMethod(e,this._VIEW_MODEL,"disconnected",[e]),this._verifyConnectDisconnect(e,_.DisconnectedState)},HandleAttached:function(e){this._verifyConnectDisconnect(e,_.ConnectedState)},HandleReattached:function(e){t.BaseCustomElementBridge.proto.HandleReattached.call(this,e),this._delayedTemplateRender?(this._delayedTemplateRender=!1,this._processCompositeTemplate(e)):t.CompositeTemplateRenderer.invokeViewModelMethod(e,this._VIEW_MODEL,"connected",[this._VM_CONTEXT]),this._verifyConnectDisconnect(e,_.ConnectedState)},InitializeElement:function(e){var o;t.BaseCustomElementBridge.proto.InitializeElement.call(this,e),t.Components&&t.Components.markPendingSubtreeHidden(e);var n=d.getElementRegistration(e.tagName).cache;if(!n.view){var i=(o=d.getElementDescriptor(e.tagName))[_.DESC_KEY_VIEW];n.view||(n.view="string"==typeof i?_._getDomNodes(i,e):i)}if(!n.css){o||(o=d.getElementDescriptor(e.tagName));var r=o[_.DESC_KEY_CSS];if(r){var s=document.createElement("style");s.type="text/css",s.styleSheet?s.styleSheet.cssText=r:s.appendChild(document.createTextNode(r)),document.head.appendChild(s),n.css=!0}}t.BaseCustomElementBridge.__InitProperties(e,e)},InitializePrototype:function(e){t.BaseCustomElementBridge.proto.InitializePrototype.call(this,e),Object.defineProperty(e,"_propsProto",{value:{}})},initializeBridge:function(e,o){t.BaseCustomElementBridge.proto.initializeBridge.call(this,e,o),e._propsProto&&(this._PROPS=Object.create(e._propsProto),this._PROPS._BRIDGE=this,this._PROPS._ELEMENT=e)},ShouldRemoveDisabled:function(){var e=this.METADATA.extension;return!!e&&!0===e._SHOULD_REMOVE_DISABLED},_getNodeBySubId:function(e){var o=_.__GetSubIdMap(this)[e.subId];if(o){if(o.alias){var n=t.CollectionUtils.copyInto({},e,void 0,!0);n.subId=o.alias;var i=o.node;return i.getNodeBySubId?i.getNodeBySubId(n):t.Components.__GetWidgetConstructor(i)("getNodeBySubId",n)}return o.node}return null},_getSubIdByNode:function(e){if(!this.contains(e))return null;var o,n,i,r=_.__GetNodeMap(this),s=l.getContainingComposite(e,this);if(null!=s){if((n=r[o=s.node.getAttribute(_.SUBID_MAP)])&&s.getSubIdByNode&&(i=s.getSubIdByNode(e))){var a=n.map[i.subId];return i.subId=a,i}return null}for(var d=e;d!==this&&!(o=d.getAttribute(_.SUBID_MAP)||d.getAttribute("data-oj-subid"));)d=d.parentNode;if(n=r[o]){if(!n.map)return{subId:o};var u=n.node;if(i=u.getSubIdByNode?u.getSubIdByNode(e):t.Components.__GetWidgetConstructor(u)("getSubIdByNode",e))return i.subId=n.map[i.subId],i}return null},_getViewModel:function(){if(!this._VIEW_MODEL)throw new a.JetElementError(this._ELEMENT,"Cannot access methods before element is upgraded.");return this._VIEW_MODEL},_verifyConnectDisconnect:function(e,t){void 0===this._verifyingState&&window.queueMicrotask(()=>{this._verifyingState===t&&(this._verifyingState===_.ConnectedState?this._verifiedConnect(e):this._verifiedDisconnect(e),this._verifyingState=void 0)}),this._verifyingState=t},_verifiedConnect:function(e){a.CustomElementUtils.getElementState(e).executeLifecycleCallbacks(!0)},_verifiedDisconnect:function(e){a.CustomElementUtils.getElementState(e).executeLifecycleCallbacks(!1)},_processCompositeTemplate:function(e){if(!e.isConnected)return void(this._delayedTemplateRender=!0);const o=a.CustomElementUtils.getElementState(e).getSlotMap(),n={props:this._PROPS,slotMap:o,slotNodeCounts:this._VM_CONTEXT.slotCounts,unique:this._VM_CONTEXT.unique,uniqueId:this._VM_CONTEXT.uniqueId,viewModel:this._VIEW_MODEL,viewModelContext:this._VM_CONTEXT};e[a.CHILD_BINDING_PROVIDER]="knockout",t.Components&&t.Components.unmarkPendingSubtreeHidden(e);const i=d.getElementRegistration(e.tagName).cache,r=_._getDomNodes(i.view,e);t.CompositeTemplateRenderer.renderTemplate(n,e,r)}}),_.register=function(e,o){var i={};i[t.BaseCustomElementBridge.DESC_KEY_META]=_._getResource(e,o,t.BaseCustomElementBridge.DESC_KEY_META),i[_.DESC_KEY_VIEW]=_._getResource(e,o,_.DESC_KEY_VIEW),i[_.DESC_KEY_CSS]=_._getResource(e,o,_.DESC_KEY_CSS),i[_.DESC_KEY_VIEW_MODEL]=_._getResource(e,o,_.DESC_KEY_VIEW_MODEL),i[_.DESC_KEY_PARSE_FUN]=o[_.DESC_KEY_PARSE_FUN];const r={descriptor:i,bridgeProto:_.proto,stateClass:u,composite:!0,cache:{}};var s=i[t.BaseCustomElementBridge.DESC_KEY_META];if(s||(n.warn("Composite registered'"+e.toLowerCase()+"' without Metadata."),s={}),null==i[_.DESC_KEY_VIEW])throw new Error("Cannot register composite '"+e.toLowerCase()+"' without a View.");i._metadata=t.BaseCustomElementBridge.__ProcessEventListeners(s,!1),d.registerElement(e,r,_.proto.getClass(i))},_._getDomNodes=function(e,t){var n,i;if("string"==typeof e)return o.stringToNodeArray(e);if(_._isDocumentFragment(e)){i=e.cloneNode(!0);var r=[];for(n=0;n<i.childNodes.length;n++)r.push(i.childNodes[n]);return r}if(Array.isArray(e)){for(i=[],n=0;n<e.length;n++)i.push(e[n].cloneNode(!0));return i}throw new a.JetElementError(t,"The composite View is not one of the following supported types: string, Array of DOM nodes, DocumentFragment")},_._generateSubIdMap=function(e,t){if(!e._SUBID_MAP){for(var o={},n={},i=t.children,r=0;r<i.length;r++)_._walkSubtree(o,n,i[r]);e._NODE_MAP=n,e._SUBID_MAP=o}},_._walkSubtree=function(e,o,n){if(!n.hasAttribute("slot")&&(_._addNodeToSubIdMap(e,o,n),!d.isElementRegistered(n.tagName)&&!t.Components.__GetWidgetConstructor(n)))for(var i=n.children,r=0;r<i.length;r++)_._walkSubtree(e,o,i[r])},_._addNodeToSubIdMap=function(e,t,o){var n=o.getAttribute("data-oj-subid"),i=o.getAttribute(_.SUBID_MAP);if(i){var r=JSON.parse(i);if("object"==typeof r&&!(r instanceof Array)){for(var s=r,a={},d=Object.keys(s),l=0;l<d.length;l++){var u=d[l];e[u]={alias:s[u],node:o},a[s[u]]=u}t[i]={map:a,node:o}}}else n&&(e[n]={node:o},t[n]={node:o})},_.__GetSubIdMap=function(e){var t=a.CustomElementUtils.getElementBridge(e);return _._generateSubIdMap(t,e),t._SUBID_MAP},_.__GetNodeMap=function(e){var t=a.CustomElementUtils.getElementBridge(e);return _._generateSubIdMap(t,e),t._NODE_MAP},_._getPropertyTracker=function(e,o){return e._TRACKERS||(e._TRACKERS={}),e._TRACKERS[o]||(e._TRACKERS[o]=t.CompositeTemplateRenderer.createTracker()),e._TRACKERS[o]},_._getResource=function(e,t,o){var n=t[o];if(null!=n){var i=Object.prototype.hasOwnProperty;if(i.call(n,"inline"))return n.inline;if(i.call(n,"promise"))throw new Error("Error while registering "+e+". The resource type for descriptor key '"+o+"' is no longer supported. The resource should be passed directly as the value instead.");return n}},_._isDocumentFragment=function(e){return window.DocumentFragment?e instanceof DocumentFragment:e&&11===e.nodeType};const c={};t._registerLegacyNamespaceProp("Composite",c),c.getMetadata=function(e){var t=c.getComponentMetadata(e);return t?Promise.resolve(t):null},c.getComponentMetadata=function(e){return d.isComposite(e)?d.getElementDescriptor(e)[t.BaseCustomElementBridge.DESC_KEY_META]:null},c.register=function(e,t){_.register(e,t)},c.getContainingComposite=l.getContainingComposite,c.__COMPOSITE_PROP="__oj_composite";const E=c.register,m=c.getMetadata,p=c.getComponentMetadata,g=c.getContainingComposite,C=c.__COMPOSITE_PROP;e.__COMPOSITE_PROP=C,e.getComponentMetadata=p,e.getContainingComposite=g,e.getMetadata=m,e.register=E,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojcomposite.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojmonitoring',["exports"],function(t){"use strict";const e={},n=Symbol();function o(){return e[n]}t.getWritebackMonitor=o,t.performMonitoredWriteback=function(t,e,n,i){if(e){const r=o();r?r(t,n,e.bind(null,i)):e(i)}},t.setWritebackMonitor=function(t){e[n]=t},Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ojmonitoring.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojbindpropagation',["exports","ojs/ojcustomelement-registry"],function(e,t){"use strict";const o=Symbol("StaticContextPropagation"),n=Symbol("ConsumedContext");const i=new Map;e.CONSUMED_CONTEXT=n,e.STATIC_PROPAGATION=o,e.getPropagationMetadataViaCache=function(e,s){let r=i.get(e);if(void 0!==r)return r;r=null;const a=s.properties??{};Object.keys(a).forEach(e=>{const t=a[e],o=t?.binding?.provide,n=t?.binding?.consume;if(o||n){if(t.properties)throw new Error("Propagating complex properties is not supported!");r=r??new Map,r.set(e,[o,n])}});const c=s.extension?._BINDING?.provide;if(c){r=r??new Map;const e=new Map;c.forEach((t,o)=>{e.set(o,{name:o,default:t})}),r.set(o,[e,void 0])}const p=t.getElementRegistration(e)?.cache?.contexts;return p&&r.set(n,[void 0,p]),i.set(e,r),r},Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojbindpropagation.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojknockouttemplateutils',["exports","knockout","jquery"],function(e,t,n){"use strict";n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;const r={getRenderer:function(e,r){var o=function(o){var a=o._parentElement||o.parentElement,l=t.contextFor(o.componentElement);if(l){var c=l.createChildContext(o.data,null,function(e){e.$context=o});t.renderTemplate(e,c,{afterRender:function(e){n(e)._ojDetectCleanData()}},a,r?"replaceNode":"replaceChildren")}return null};return function(t){if(t.componentElement.classList&&t.componentElement.classList.contains("oj-dvtbase")){var r=document.createElement("div");r.style.display="none",r._dvtcontext=t._dvtcontext,t.componentElement.appendChild(r),Object.defineProperty(t,"_parentElement",{value:r,enumerable:!1}),Object.defineProperty(t,"_templateCleanup",{value:function(){n(r).remove()},enumerable:!1}),Object.defineProperty(t,"_templateName",{value:e,enumerable:!1}),o(t);var a=r.children[0];return a?(r.removeChild(a),n(r).remove(),{insert:a}):{preventDefault:!0}}return o(t)}}},o=r.getRenderer;e.getRenderer=o,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojknockouttemplateutils.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojresponsiveknockoututils',["exports","ojs/ojcore-base","ojs/ojcustomelement-registry","knockout","jquery","ojs/ojresponsiveutils","ojs/ojcustomelement-utils"],function(e,r,t,o,n,s,a){"use strict";r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;const i=function(e,r){if(null==e)throw new Error("ResponsiveKnockoutUtils.createMediaQueryObservable: aborting, queryString is null");var t=window.matchMedia(e),s=o.observable(t.matches);const i=function(e){s(e.matches)};let l,u;if(r){l=()=>{t.addListener(i)},u=()=>{t.removeListener(i)};a.CustomElementUtils.getElementState(r).addLifecycleCallbacks(l,u)}return t.addListener(i),s.dispose=function(){if(t.removeListener(i),u&&l){a.CustomElementUtils.getElementState(r).removeLifecycleCallbacks(l,u)}},-1!==navigator.userAgent.indexOf("WebKit")&&-1===navigator.userAgent.indexOf("Chrome")&&n(window).resize(function(){var e="oj-webkit-bug-123293";0===n("body").has("."+e).length&&n("body").append('<div aria-hidden="true" class="oj-helper-hidden-accessible '+e+'">'),n("."+e).text((new Date).getMilliseconds().toString())}),s},l=function(e){var r=s.getFrameworkQuery(s.FRAMEWORK_QUERY_KEY.XXL_UP),t=s.getFrameworkQuery(s.FRAMEWORK_QUERY_KEY.XL_UP),n=s.getFrameworkQuery(s.FRAMEWORK_QUERY_KEY.LG_UP),a=s.getFrameworkQuery(s.FRAMEWORK_QUERY_KEY.MD_UP),l=s.getFrameworkQuery(s.FRAMEWORK_QUERY_KEY.SM_UP),u=null==r?null:i(r,e),c=null==t?null:i(t,e),d=null==n?null:i(n,e),b=null==a?null:i(a,e),m=null==l?null:i(l,e),p=o.pureComputed(function(){if(u&&u())return s.SCREEN_RANGE.XXL;if(c&&c())return s.SCREEN_RANGE.XL;if(d&&d())return s.SCREEN_RANGE.LG;if(b&&b())return s.SCREEN_RANGE.MD;if(m&&m())return s.SCREEN_RANGE.SM;throw new Error(" NO MATCH in ResponsiveKnockoutUtils.createScreenRangeObservable")});return p.subscribe(()=>{m&&m.dispose(),b&&b.dispose(),d&&d.dispose(),c&&c.dispose(),u&&u.dispose()},null,"asleep"),p},u={};r._registerLegacyNamespaceProp("ResponsiveKnockoutUtils",u),u.createMediaQueryObservable=function(e){return i(e)},u.createCompositeMediaQueryObservable=function(e,r){const o=r?.nodeName;if(!r||!t.isComposite(o))throw new Error(`Incorrect usage of createCompositeMediaQueryObservable for ${o} - the method should be used on the composite components and componentElement should be given as a method argument.`);return i(e,r)},u.createScreenRangeObservable=function(){return l()},u.createCompositeScreenRangeObservable=function(e){const r=e?.nodeName;if(!e||!t.isComposite(r))throw new Error(`Incorrect usage of createCompositeScreenRangeObservable for ${r} - the method should be used on the composite components and componentElement should be given as a method argument.`);return l(e)};const{createScreenRangeObservable:c,createMediaQueryObservable:d,createCompositeScreenRangeObservable:b,createCompositeMediaQueryObservable:m}=u;e.createCompositeMediaQueryObservable=m,e.createCompositeScreenRangeObservable=b,e.createMediaQueryObservable=d,e.createScreenRangeObservable=c,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojresponsiveknockoututils.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojknockout',["jqueryui-amd/widget","ojs/ojkoshared","ojs/ojcore","ojs/ojlogger","knockout","ojs/ojdomutils","jquery","ojs/ojcustomelement-registry","ojs/ojcustomelement-utils","ojs/ojmonitoring","ojs/ojbindpropagation","ojs/ojkeysetimpl","ojs/ojcontext","ojs/ojtemplateengine-ko","ojs/ojcore-base","ojs/ojknockouttemplateutils","ojs/ojresponsiveknockoututils"],function(e,t,n,r,i,o,a,s,u,l,d,c,p,f,h,g,m){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n,a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a,c=c&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c,p=p&&Object.prototype.hasOwnProperty.call(p,"default")?p.default:p,f=f&&Object.prototype.hasOwnProperty.call(f,"default")?f.default:f,h=h&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h;const v=function(e,t){this.Init(e,t)};n.Object.createSubclass(v,n.Object,"ComponentBinding.ComponentChangeTracker"),v.prototype.Init=function(e,t){v.superclass.Init.call(this),this._updateCallback=e,this._queue=t,this._changes={},this._suspendCountMap={}},v.prototype.addChange=function(e,t){this._isSuspended(e)||this._disposed||(this._changes[e]=t,this._queue.registerComponentChanges(this))},v.prototype.dispose=function(){this._disposed=!0},v.prototype.resume=function(e){var t=this._suspendCountMap[e]||0;(t-=1)<0?r.error("ComponentChangeTracker suspendCount underflow"):0===t?delete this._suspendCountMap[e]:this._suspendCountMap[e]=t},v.prototype.suspend=function(e){var t=this._suspendCountMap[e]||0;this._suspendCountMap[e]=t+1},v.prototype.applyChanges=function(e){this._disposed||this._updateCallback(e)},v.prototype.flushChanges=function(){var e=this._changes;return this._changes={},e},v.prototype._isSuspended=function(e){return(this._suspendCountMap[e]||0)>=1};const y={};var b,_;n._registerLegacyNamespaceProp("__ExpressionUtils",y),b=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,_="_ko_property_writers",y.getPropertyWriterExpression=function(e){if(null==e||["true","false","null","undefined"].indexOf(e)>=0)return null;var t=(e=e.trim()).match(b);if(null===t)return null;var n=t[1]?"Object("+t[1]+")"+t[2]:e;return"{"+_+": function(v){"+n+"=v;}}"},y.getWriter=function(e){return e[_]};const C=function(e,t){this.Init(e,t)};function E(e,t){var n="value",r={};return r[n]=t[n],r}function D(e,t,n){var r={},i=n.optionMetadata;if(i&&"shouldWrite"===i.writeback){var o=n.option;r[o]=n.value,i.readOnly&&(e.readOnlyProperties[o]=!0)}return r}var A,N,x;function j(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=r.key,o=r.value;if(null!=i&&null!=o&&t(i.trim(),o.trim()))break}}function P(e,t){return function(n){var r=e.createChildContext(n.context);return i.renderTemplate(t,r,{afterRender:function(e){a(e)._ojDetectCleanData()}},n.parentElement),null}}function O(e,t){return function(n){var r=e.createChildContext(n.data);return i.renderTemplate(t,r,{afterRender:function(e){a(e)._ojDetectCleanData()}},n.parentElement),null}}function w(e,t,n){return"tooltip"===e&&t.template&&(t._renderer=P(n,t.template)),{tooltip:t}}function T(e,t,n){return"pieCenter"===e&&t.template&&(t._renderer=P(n,t.template)),{pieCenter:t}}function I(e,t,n){if("optionTemplate"===e&&null!==t){var r=function(e,t){return function(n){var r=n.parentElement,o=e.createChildContext(n.data,null,function(e){e.$optionContext=n});return i.renderTemplate(t,o,null,r),null}}(n,String(t));return{optionRenderer:r}}return null}n.Object.createSubclass(C,n.Object,"oj.ComponentBinding"),n._registerLegacyNamespaceProp("ComponentBinding",C),C.create=function(e,t){if(null==e)throw new Error("Binding name is required!");for(var n=new C(e,t),r=i.bindingHandlers,o=Array.isArray(e)?e:[e],a=0;a<o.length;a++){var s=o[a];C._REGISTERED_NAMES.push(s),r[s]=n}return n},C.getDefaultInstance=function(){return C._INSTANCE},C.prototype.setupManagedAttributes=function(e){var t=e.for;t=null==t?"@global":t;var n=this._managedAttrOptions[t]||[];n.push(e),this._managedAttrOptions[t]=n},C.deliverChanges=function(){t.getGlobalChangeQueue().deliverChanges()},C.prototype.Init=function(e,t){C.superclass.Init.call(this),"string"==typeof t&&(t={componentName:t}),this._bindingOptions=t||{},this._bindingNames=Array.isArray(e)?e:[e],this.init=this._init.bind(this),this.update=this._update.bind(this),this._managedAttrOptions={}},C.prototype._getBindingOptions=function(){return this._bindingOptions},C.prototype._init=function(e,t,n,r,o){return i.applyBindingsToDescendants(o,e),{controlsDescendantBindings:!0}},C.prototype._update=function(e,n,o,s,u){var l,d,c=[],p=0,f=a(e);function h(e){c.forEach(function(e){e.dispose()}),c=[],e&&l&&(l("destroy"),l=null),d&&(d.dispose(),d=null),f.off(C._HANDLER_NAMESPACE)}function g(n,i,a){if(null!=n){var s=f[n];if("function"==typeof s){s=s.bind(f);d=new v(function(e){var t=C.__removeDotNotationOptions(e);s("option",e);for(var n=Object.keys(t),r=0;r<n.length;r++){var i=n[r];s("option",i,t[i])}},t.getGlobalChangeQueue());var p=Object.keys(a).filter(function(e){return!(null==e||e===i)}),h={component:s,changeTracker:d,componentName:n,specifiedOptions:p,computeds:c,valueAccessor:function(){return a},allBindingsAccessor:o,bindingContext:u,destroyCallback:function(){l=null},readOnlyProperties:{}};l=this._initComponent(e,h)}else r.error("Component %s is not found",n)}}i.ignoreDependencies(function(){i.computed(function(){var e=i.utils.unwrapObservable(n());"object"!=typeof e&&r.error("ojComponent binding should evaluate to an object");var t,o=this._bindingOptions.componentName,a=!1;if(null==o&&null!=e){for(var s=[C._COMPONENT_OPTION,"role"],u=0;!a&&u<s.length;u++)(t=s[u])in e&&(a=!0,o=e[t]);a||r.error("component attribute is required for the ojComponent binding"),o=i.utils.unwrapObservable(o)}0===p?p=1:i.ignoreDependencies(h,this,[!0]),i.ignoreDependencies(g,this,[o,t,e])},this,{disposeWhenNodeIsRemoved:e})},this),i.utils.domNodeDisposal.addDisposeCallback(e,h.bind(this,!1))},C.prototype._initComponent=function(e,t){var r=!1,o=0,s={},u=a(e),l=t.component,d=t.componentName,c=this,p="_ojDestroy",f=function(n){if(n.target&&n.target===e){t.destroyCallback();var i=c._bindingOptions.beforeDestroy;i&&i(e,l,t.valueAccessor,t.allBindingsAccessor,t.bindingContext),C._deliverCreateDestroyEventToManagedProps(!1,s,e,l,t.valueAccessor,t.allBindingsAccessor,t.bindingContext),r=!0,t.changeTracker.dispose(),e.removeEventListener(p,f)}};e.addEventListener(p,f);var h=C._resolveManagedAttributes(this._managedAttrOptions,t.specifiedOptions,d),g=C.getDefaultInstance();if(this!==g){var m=g._getManagedAttributes(t.specifiedOptions,d);n.CollectionUtils.copyInto(m,h),h=m}for(var v={},y=function(){var n=this._property,i=C._toJS(t.valueAccessor()[n]);if(0===o){var a=h[n];if(null!=a){s[n]=a;var u=a.init;if(null!=u)for(var d=u(n,i,e,l,t.valueAccessor,t.allBindingsAccessor,t.bindingContext)||{},c=Object.keys(d),p=0;p<c.length;p++){var f=c[p];v[f]=C.__cloneIfArray(d[f])}}else v[n]=C.__cloneIfArray(i)}else if(!r)if(null!=h[n]){var g=h[n].update;if(null!=g)for(var m=g(n,i,e,l,t.valueAccessor,t.allBindingsAccessor,t.bindingContext)||{},y=Object.keys(m),b=0;b<y.length;b++){var _=y[b];t.changeTracker.addChange(_,C.__cloneIfArray(m[_]))}}else t.readOnlyProperties[n]||t.changeTracker.addChange(n,C.__cloneIfArray(i))},b=0;b<t.specifiedOptions.length;b++)t.computeds.push(i.computed(y,{_property:t.specifiedOptions[b]}));o=1,C._registerWritebacks(u,t);var _=C.__removeDotNotationOptions(v);l(v),Object.keys(_).forEach(function(e){l("option",e,_[e])});var E=this._bindingOptions.afterCreate;return E&&E(e,l,t.valueAccessor,t.allBindingsAccessor,t.bindingContext),C._deliverCreateDestroyEventToManagedProps(!0,s,e,l,t.valueAccessor,t.allBindingsAccessor,t.bindingContext),v=null,l},C.prototype._getManagedAttributes=function(e,t){return C._resolveManagedAttributes(this._managedAttrOptions,e,t)},C._resolveManagedAttributes=function(e,t,n){var r={},i=[],o="attributes",s=function(t,n){var r=e[t];if(null!=r)for(var a=r.length-1;a>=0;a--){var u=r[a];if(null!=u[o]&&i.push(u),n){var l=u.use;if(null!=l){l=Array.isArray(l)?l:[l];for(var d=0;d<l.length;d++)s(l[d],!0)}}}};s(n,!0);var u=a.oj[n];if(null!=u)for(var l=Object.getPrototypeOf(u.prototype);null!=l&&"oj"===l.namespace;)s(l.widgetName,!0),l=Object.getPrototypeOf(l);if(s("@global",!1),i.length>0)for(var d=0;d<t.length;d++)for(var c=t[d],p=0;p<i.length;p++){var f=i[p];if(f[o].indexOf(c)>=0){r[c]={init:f.init,update:f.update,afterCreate:f.afterCreate,beforeDestroy:f.beforeDestroy};break}}return r},C._HANDLER_NAMESPACE=".oj_ko",C._registerWritebacks=function(e,t){for(var n={"^slider$":[{event:"slidechange",getter:E}],"^oj*":[{event:"ojoptionchange",getter:D.bind(void 0,t)}]},r={},i=Object.keys(n),o=0;o<i.length;o++){var a=i[o];if(t.componentName.match(a)){for(var s=n[a],u=0;u<s.length;u++){var l=s[u];e.on(l.event+C._HANDLER_NAMESPACE,{getter:l.getter},function(n,i){if(n.target===e[0])for(var o=n.data.getter(n,i),a=t.valueAccessor(),s=Object.keys(o),u=0;u<s.length;u++){var l=s[u];t.changeTracker.suspend(l);try{if(t.specifiedOptions.indexOf(l)>=0){var d=a[C._OPTION_MAP],c=null==d?null:d[l],p=a[l];C._writeValueToProperty(l,p,o[l],c,t.bindingContext,r)}}finally{t.changeTracker.resume(l)}}})}break}}},C._writeValueToProperty=function(e,n,r,o,a,s){if(null!=n&&i.isObservable(n))i.isWriteableObservable(n)&&n(C.__cloneIfArray(r));else{if(!(e in s)){var u=null,l=y.getPropertyWriterExpression(o);null!=l&&(u=t.createEvaluator(l,a)),s[e]=u}var d=s[e];if(d)y.getWriter(d(a))(C.__cloneIfArray(r))}},C._toJS=function(e){var t=i.utils.unwrapObservable(e);return(Array.isArray(t)||n.CollectionUtils.isPlainObject(t))&&t.ojConvertToJS&&(t=i.toJS(t)),t},C.__cloneIfArray=function(e){return Array.isArray(e)&&(e=e.slice()),e},C.__removeDotNotationOptions=function(e){for(var t={},n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];i.indexOf(".")>=0&&(t[i]=e[i],delete e[i])}return t},C._deliverCreateDestroyEventToManagedProps=function(e,t,n,r,i,o,a){for(var s=Object.keys(t),u=0;u<s.length;u++){var l=s[u],d=t[l],c=e?d.afterCreate:d.beforeDestroy;c&&c(l,n,r,i,o,a)}},C.__getKnockoutVersion=function(){return i.version},C._isNameRegistered=function(e){return C._REGISTERED_NAMES.indexOf(e)>=0},C._REGISTERED_NAMES=[],C._COMPONENT_OPTION="component",C._OPTION_MAP="_ojOptions",A="cleanExternalData",N=i.utils.domNodeDisposal,x=N[A],N[A]=function(e){var t=o?o.setInKoCleanExternal:null;t&&t(e);try{x(e)}finally{t&&t(null)}},C._INSTANCE=C.create(["__ojComponentPrivate","jqueryUI"]),t.addPostprocessor({getBindingAccessors:function(e,r,o,a){if(null==o)return null;var s=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++){var r=t[n];if(C._isNameRegistered(r))return r}return null}(o);null!=s&&(o=function(e,r,o,a,s){var u=function(e,n,r,o){var a=null,s=t.getBindingsString(e,r,o),u=i.jsonExpressionRewriting.parseObjectLiteral(s),l=null;j(u,function(e,t){return e===n&&(l=t,!0)}),null!=l&&0===l.indexOf("{")&&(a=i.jsonExpressionRewriting.parseObjectLiteral(l));return{attrList:a,bindingExpr:l}}(e,r,o,a),l=u.attrList;if(null==l)return s;var d={};return j(l,function(e,t){d[e]=t}),s=n.CollectionUtils.copyInto({},s),s[r]=function(e,n,r){var i=function(){var r={};return Object.keys(n).forEach(function(i){var o=n[i],a=t.createEvaluator(o,e).bind(null,e);Object.defineProperty(r,i,{get:a,enumerable:!0})}),Object.defineProperty(r,C._OPTION_MAP,{value:n}),r};return i.toString=function(){return r},i}(a,d,u.bindingExpr),s}(e,s,a,r,o));return o}}),t.addPostprocessor({nodeHasBindings:function(e,t){return n.BaseCustomElementBridge?t||1===e.nodeType&&s.isElementRegistered(e.nodeName):t},getBindingAccessors:function(e,t,n){if(1===e.nodeType){var r=e.nodeName;s.isElementRegistered(r)&&((n=n||{})._ojCustomElement=function(){const e=s.isComposite(r),t=s.isVComponent(r);return{skipThrottling:e||t}})}return n}}),a.widget("oj._ojDetectCleanData",{options:{cleanParent:!1},_destroy:function(){var e=i.utils.domNodeDisposal,t="cleanExternalData",n=e[t];e[t]=function(){};try{this.options.cleanParent&&null!=this.element[0].parentNode?i.cleanNode(this.element[0].parentNode):i.cleanNode(this.element[0])}finally{e[t]=n}}}),C.getDefaultInstance().setupManagedAttributes({attributes:["tooltip"],init:function(e,t,n,r,i,o,a){return w(e,t,a)},update:function(e,t,n,r,i,o,a){return w(e,t,a)},for:"tooltipOptionRenderer"}),function(){for(var e=["ojChart","ojDiagram","ojNBox","ojPictoChart","ojSunburst","ojTagCloud","ojThematicMap","ojTreemap","ojDialGauge","ojLedGauge","ojRatingGauge","ojSparkChart","ojStatusMeterGauge","ojGantt"],t=0;t<e.length;t++)C.getDefaultInstance().setupManagedAttributes({for:e[t],use:"tooltipOptionRenderer"})}(),C.getDefaultInstance().setupManagedAttributes({attributes:["pieCenter"],init:function(e,t,n,r,i,o,a){return T(e,t,a)},update:function(e,t,n,r,i,o,a){return T(e,t,a)},for:"ojChart"}),C.getDefaultInstance().setupManagedAttributes({attributes:["optionTemplate"],init:function(e,t,n,r,i,o,a){var s=I(e,t,a);if(null!==s)return s},update:function(e,t,n,r,i,o,a){return I(e,t,a)},for:"ComboboxOptionRenderer"}),C.getDefaultInstance().setupManagedAttributes({for:"ojCombobox",use:"ComboboxOptionRenderer"}),C.getDefaultInstance().setupManagedAttributes({for:"ojSelect",use:"ComboboxOptionRenderer"}),C.getDefaultInstance().setupManagedAttributes({for:"ojInputSearch",use:"ComboboxOptionRenderer"}),i.bindingHandlers.ojContextMenu={update:function(e,t,r,s,u){var l,d,c=".ojContextMenu",p=a(e),f=750,h=!1,g=!1,m=300,v=null;p.off(c).removeClass("oj-menu-context-menu-launcher")[0].removeEventListener("click",E,!0),p[0].removeEventListener("touchstart",P,{passive:!1}),clearTimeout(l);var y=p.data("_ojLastContextMenu");y&&x(y.selector,y.id).off(c);var b=!1,_=i.utils.unwrapObservable(t()),C=a.isPlainObject(_)?e.getAttribute("contextmenu"):null;function E(e){if(h)return e.preventDefault(),e.stopPropagation(),h=!1,!1}function D(e){121===e.keyCode&&e.shiftKey&&N().is(":visible")&&e.preventDefault()}function A(){var e=n.Components.__GetWidgetConstructor(N()[0],"ojMenu"),t=e&&e("instance");if(!t)throw new Error('ojContextMenu binding bound to "'+(C||_)+'", which does not reference a valid JET Menu.');return b||(t.widget().on("ojclose"+c,function(){document.removeEventListener("keyup",D)}),b=!0),t}function N(){return x(_,C)}function x(e,t){return t?a(document.getElementById(t)):a(e).first()}function j(e,t,n){h=n;var r=A();if(h&&p.one("touchend"+c,function(){r.__contextMenuPressHoldJustEnded(!0),setTimeout(function(){r.__contextMenuPressHoldJustEnded(!1)},50)}),"touchstart"===v&&"contextmenu"===e.type||"contextmenu"===v&&"touchstart"===e.type)return v=null,void clearTimeout(d);if(!e.isDefaultPrevented()){var i={launcher:p,initialFocus:"menu",position:{mouse:{my:"start top",at:"start bottom",of:e},touch:{my:"start>40 center",at:"start bottom",of:e,collision:"flipfit"},keyboard:{my:"start top",at:"start bottom",of:"launcher"}}[t]};r.__openingContextMenu=!0,r.open(e,i),r.__openingContextMenu=!1,r.widget().is(":visible")&&(e.preventDefault(),document.addEventListener("keyup",D),"touchstart"!==e.type&&"contextmenu"!==e.type||(v=e.type,d=setTimeout(function(){v=null},m)))}}function P(e){if("touchstart"===e.type&&(e=a.Event(e)),"mousedown"!==e.type||!A().__contextMenuPressHoldJustEnded())return h=!1,"touchstart"===e.type&&(g=!0,l=setTimeout(j.bind(void 0,e,"touch",!0),f)),!0}p.data("_ojLastContextMenu",{selector:_,id:C}),e.addEventListener("click",E,!0),p[0].addEventListener("touchstart",P,{passive:!1}),p.on("mousedown"+c+" keydown"+c+" ",P).on("touchend"+c+" touchcancel"+c,function(){return g=!1,clearTimeout(l),!0}).on("keydown"+c+" contextmenu"+c,function(e){("contextmenu"===e.type||121===e.keyCode&&e.shiftKey)&&j(e,g?"touch":"keydown"===e.type?"keyboard":"mouse",!1);return!0}).addClass(o.isTouchSupported()?"oj-menu-context-menu-launcher":"")}};const k=function(e,n,o){var a=function(){if(o)return null;return new v(function(t){for(var n=Object.keys(t),r=0;r<n.length;r++){b(n[r])}try{e.setProperties(t)}finally{for(var i=0;i<n.length;i++){_(n[i])}}},t.getGlobalChangeQueue())}(),d={},c={},p={},f={},h="Changed";function g(e){return e.$current||e.$data}function m(t,n,r){var i=d[n];if(i||(i=function(e){var t,n=g(e),r=function(r){t&&t(r,n,e)};return r.setListener=function(e){t=e},r}(t),d[n]=i,e.addEventListener(n,i)),!(null==r||r instanceof Function)){var o=u.AttributeUtils.eventTypeToEventListenerProperty(n),a=`Invalid type '${typeof r}' found for attribute '${u.AttributeUtils.propertyNameToAttribute(o)}'. Expected value of type 'function'."`;if(s.isElementRegistered(e.tagName)){u.CustomElementUtils.getElementState(e).rejectBindingProvider(a)}throw new u.JetElementError(e,a)}i.setListener(r)}function b(e){var t=f[e]||0;t+=1,f[e]=t}function _(e){var t=f[e];t?(t-=1,f[e]=0===t?null:t):r.error("Property count undefrlow")}this.setupPropertyBinding=function(o,s,d,v,E){if(!d)return;var D=function(e,t){var n=e.split("."),r=t;n.shift();for(var i=0;i<n.length&&(r=r.properties);i++)r=r[n[i]];return r}(s,d);if(!D)return;var A=c[s];A&&(A.dispose(),c[s]=null);var N=p[s];if(N&&(e.removeEventListener(s+h,N),p[s]=null),d._domListener){var x=u.AttributeUtils.eventListenerPropertyToEventType(s);m(n,x,null)}let j,P,O;if(void 0===o){let e;E?n.$provided&&(e=n.$provided.get(E)):e=null,e&&(j=()=>i.unwrap(e))}else{const e=u.AttributeUtils.getExpressionInfo(o);P=e.expr,P&&(j=t.createEvaluator(P,n),O=e.downstreamOnly)}if(j){if(!d.readOnly){var w=!0;i.ignoreDependencies(function(){c[s]=i.computed(function(){var t,r,o,l=j(n),c=i.utils.unwrapObservable(l);if(d._domListener){var p=u.AttributeUtils.eventListenerPropertyToEventType(s);m(n,p,c)}else Array.isArray(c)&&(c=c.slice()),d._eventListener&&c&&c instanceof Function&&(r=c,o=g(t=n),c=function(e){r(e,o,t)}),!w&&a?a.addChange(s,c):function(t,n){b(t);try{e.setProperty(t,n)}catch(t){throw u.CustomElementUtils.getElementState(e).rejectBindingProvider(t),t}finally{_(t)}}(s,c),w&&v&&v(c)})}),w=!1}void 0!==P&&d.writeback&&!O&&(p[s]=function(o,a,s){var u=o.split("."),d=u[0],c=function(e){if(!function(e){return f[e]}(d)){let d,c;i.ignoreDependencies(function(){for(var p=e.detail.value,f=1;f<u.length;f++){p=p[u[f]]}var h=s(n);if(i.isObservable(h))i.isWriteableObservable(h)?c=h:d="the observable is not writeable";else{var g=y.getPropertyWriterExpression(a);if(null!=g){const e=t.createEvaluator(g,n);c=y.getWriter(e(n))}else d="the expression is not a valid update target"}c?l.performMonitoredWriteback(o,c,e,C.__cloneIfArray(p)):d&&r.info("The expression '%s' for property '%s' was not updated because %s.",a,o,d)})}};return e.addEventListener(d+h,c),c}(s,P,j))}},this.teardown=function(){var t,n=Object.keys(c);for(t=0;t<n.length;t++){var r=c[n[t]];r&&r.dispose()}for(c={},n=Object.keys(p),t=0;t<n.length;t++){var i=n[t].split(".")[0];e.removeEventListener(i+h,p[i])}for(p={},n=Object.keys(d),t=0;t<n.length;t++){var o=n[t];e.removeEventListener(o,d[o])}d={},a&&a.dispose()}},B=function(){this._resolveWhenChildrenBindingsApplied=function(e,t){var n=this._getChildrenBindingsAppliedPromises(e);if("none"===t||0===n.length)u.CustomElementUtils.getElementState(e).resolveBindingProvider(this);else{for(var r=[];n.length>0;){var i=n.shift();("nearestCustomElement"===t||"immediate"===t&&!0===i.immediate)&&r.push(i.promiseCallback)}Promise.all(r).then(function(){this._resolveWhenChildrenBindingsApplied(e,t)}.bind(this))}},this._getChildrenBindingsAppliedPromises=function(e,t){return!e._whenChildrenBindingsApplied&&t&&Object.defineProperty(e,"_whenChildrenBindingsApplied",{value:[],enumerable:!1}),e._whenChildrenBindingsApplied||[]},this.__RegisterBindingAppliedPromiseForChildren=function(e,t){var n=null;if(e){var r=new Promise(function(e){n=e});this._getChildrenBindingsAppliedPromises(e,!0),e._whenChildrenBindingsApplied.push({immediate:t,promiseCallback:r})}return n},this.__NotifyBindingsApplied=function(e){var t=u.CustomElementUtils.getElementState(e).getTrackChildrenOption();this._resolveWhenChildrenBindingsApplied(e,t)},this.__NotifyBindingsDisposed=function(e){u.CustomElementUtils.getElementState(e).disposeBindingProvider(e)},this.__GetThrottlePromise=function(){return t.getGlobalChangeQueue().getThrottlePromise()},this.__ExtendBindingContext=function(e,n,r,i,o){return t.extendBindingContext(e,n,r,i,o)},this.__ContextFor=function(e){return e.__ojBindingContext?e.__ojBindingContext:i.contextFor(e)},this.__UnwrapObservable=function(e){return i.utils.unwrapObservable(e)},this.__IsObservable=function(e){return i.isObservable(e)},this.__KoComputed=function(e,t,n){return i.computed(e,t,n)},this.__KoIsInitial=function(){return i.computedContext.isInitial()},this.__CleanNode=function(e){i.cleanNode(e)}};function L(e,t){var n={};return function(r){var i=r.parentElement,o=e.createChildContext(r.data,null,function(e){e.$key=r.key,e.$metadata=r.metadata,e.$headerContext=r});return S(r,t,i,o,n),null}}function M(e,t){var n={};return function(r){var i=r.parentElement,o=e.createChildContext(r.data,null,function(e){e.$keys=r.keys,e.$metadata=r.metadata,e.$cellContext=r,e.$cell=r.cell});return S(r,t,i,o,n),null}}function S(e,t,n,r,o){var s=function(e,t){if("function"==typeof e)return e(t);return e}(t,e),u=function(e,t){var n=t[e];null==n&&(n=i.utils.parseHtmlFragment(document.getElementById(e).innerHTML,document),t[e]=n);var r=n.map(function(e){return e.cloneNode(!0)});return r}(s,o);i.virtualElements.setDomNodeChildren(n,u),i.applyBindingsToDescendants(r,n);for(var l=0;l<n.childNodes.length;l++)if(1===n.childNodes[l].nodeType){a(n.childNodes[l])._ojDetectCleanData({cleanParent:!0});break}}function R(e,t,n){return"template"===e?{_templateFunction:O(n,t)}:null}B.getInstance=function(){return B._instance},B._instance=new B,oj._registerLegacyNamespaceProp("_KnockoutBindingProvider",B),function(){i.bindingHandlers._ojCustomElement={after:["attr"],init:function(a,l,c,p,f){var h,g;!f||!f.$provided||f.$provided instanceof Map||(f.$provided=new Map(Object.entries(f.$provided)));const m=s.getMetadata(a.tagName),v=m.properties||{},{provide:y,consume:b,cleanup:_}=function(e,i){const a=new Map,s=new Map,l=Object.create(null),c=d.getPropagationMetadataViaCache(e.localName,i);if(null!==c){const p=i.properties||{};for(const[i,[f,h]]of c){if(void 0!==f){const s=[],c=[];if(i===d.STATIC_PROPAGATION?f.forEach(e=>{a.set(e.name,e)}):f.forEach(e=>{const t=e.name;if(void 0===t)throw new Error("name attribute for the binding/provide metadata is required!");const n=e.default,i=r(e.transform,n);s.push(i),c.push({name:t,obs:i})}),c.length>0){const r=o(s);a.set(i,{set:r,vars:c});const d=n(r),f=i+t;e.addEventListener(f,d),l[f]=d;const h=u.AttributeUtils.propertyNameToAttribute(i);if(e.hasAttribute(h)){const t=e.getAttribute(h);u.AttributeUtils.getExpressionInfo(t).expr||r(u.AttributeUtils.attributeToPropertyValue(e,h,t,p[i]))}}}if(void 0!==h)if(i===d.CONSUMED_CONTEXT)s.set(i,h);else{const e=h.name;if(void 0===e)throw new Error("'name' property on the binding/consume metadata is required!");s.set(i,e)}}}function p(){Object.keys(l).forEach(t=>e.removeEventListener(t,l[t]))}return{provide:a,consume:s,cleanup:p}}(a,m);function C(){h&&(h.teardown(),h=null),g&&(a.removeEventListener(e,g),g=null),B.getInstance().__NotifyBindingsDisposed(a)}i.computed(function(){var t=l().skipThrottling;const n=i.computedContext.isInitial();n||C(),function(t,n){h=new k(a,f,t);var r={_domListener:!0};u.CustomElementUtils.getElementState(a).beginApplyingBindings();for(var o=a.attributes,s=0;s<o.length;s++){var l=o[s],c=u.AttributeUtils.attributeToPropertyName(l.nodeName);let e,t;const i=u.AttributeUtils.isEventListenerProperty(c)&&!v[c];if(!i){t=c.split(".")[0];const r=y.get(t);e=n&&r?r.set:void 0}h.setupPropertyBinding(l.value,c,i?r:v[t],e)}b.forEach((e,t)=>{if("string"!=typeof t||a.hasAttribute(u.AttributeUtils.propertyNameToAttribute(t))){if(t===d.CONSUMED_CONTEXT){const t=f.$provided,n=new Map;e.forEach(e=>{t&&t.has(e)&&n.set(e,i.unwrap(t.get(e)))}),a.setProperty("__oj_private_contexts",n)}}else{const r=y.get(t),i=n&&r?r.set:void 0;h.setupPropertyBinding(void 0,t,v[t],i,e)}}),g=function(e){var t=e.detail,n=t.attribute,i=u.AttributeUtils.attributeToPropertyName(n),o=u.AttributeUtils.isEventListenerProperty(i)&&!v[i]?r:v[i.split(".")[0]];h.setupPropertyBinding(t.value,i,o,void 0,b.get(i))},a.addEventListener(e,g)}(t,n)},null,{disposeWhenNodeIsRemoved:a}),i.utils.domNodeDisposal.addDisposeCallback(a,function(){C(),_()});const E=function(e,t){if(0===t.size)return e;const n=e.$provided,r=new Map(n);return t.forEach(e=>{if(e.vars){e.vars.forEach(e=>{const t=e.obs;r.set(e.name,t)})}else r.set(e.name,e.default)}),e.extend({$provided:r})}(f,y);return i.applyBindingsToDescendants(E,a),B.getInstance().__NotifyBindingsApplied(a),{controlsDescendantBindings:!0}}};const e="attribute-changed",t="Changed";function n(e){return t=>e(t.detail.value)}function r(e,t){const n=i.observable(t);return e?i.pureComputed({write:t=>n(e.hasOwnProperty(t)?e[t]:t),read:()=>n()}):n}function o(e){return t=>e.forEach(e=>e(t))}}(),C.getDefaultInstance().setupManagedAttributes({attributes:["header","cell"],init:function(e,t,n,r,i,o,a){if("header"===e){var s=t.row;if(null!=s){var u=s.template;null!=u&&(s.renderer=L(a,u))}var l=t.column;if(null!=l){var d=l.template;null!=d&&(l.renderer=L(a,d))}var c=t.rowEnd;if(null!=c){var p=c.template;null!=p&&(c.renderer=L(a,p))}var f=t.columnEnd;if(null!=f){var h=f.template;null!=h&&(f.renderer=L(a,h))}return{header:t}}if("cell"===e){var g=t.template;return null!=g&&(t.renderer=M(a,g)),{cell:t}}},update:function(e,t,n,r,i,o,a){if("header"===e){var s=t.row;if(null!=s){var u=s.template;null!=u&&(s.renderer=L(a,u))}var l=t.column;if(null!=l){var d=l.template;null!=d&&(l.renderer=L(a,d))}var c=t.rowEnd;if(null!=c){var p=c.template;null!=p&&(c.renderer=L(a,p))}var f=t.columnEnd;if(null!=f){var h=f.template;null!=h&&(f.renderer=L(a,h))}return{header:t}}if("cell"===e){var g=t.template;return null!=g&&(t.renderer=M(a,g)),{cell:t}}return null},for:"ojDataGrid"}),C.getDefaultInstance().setupManagedAttributes({attributes:["template"],init:function(e,t,n,r,i,o,a){return R(e,t,a)},update:function(e,t,n,r,i,o,a){return R(e,t,a)},for:"ojDiagram"}),function(){var e="_ojbindingsobj";function n(e,t,n,i){var a=o(e.getAttribute(n),i);if(a)return r(e,t,"ko "+t+":"+a)}function r(e,t,n){for(var r=e.tagName.toLowerCase(),i=r,o=e.attributes,a=0;a<o.length;a++){var s=o[a];i+=" ",i+=s.name,i+="='",i+=s.value,i+="'"}var l=e.parentNode,d=document.createComment(i),c=document.createComment("/"+r);l.insertBefore(d,e),e[u.OJ_BIND_CONVERTED_NODE]=d;var p=document.createComment(n),f=document.createComment("/ko");l.insertBefore(p,e);var h,g=[d,p];if("if"===t)for(;e.childNodes.length>0;)h=e.childNodes[0],l.insertBefore(h,e),g.push(h);else if("_ojBindForEach_"===t)for(;e.childNodes.length>0;)h=e.childNodes[0],l.insertBefore(h,e),g.push(h);return l.insertBefore(f,e),g.push(f),l.replaceChild(c,e),g.push(c),g}function o(e,t){if(null!=e){var n=u.AttributeUtils.getExpressionInfo(e).expr;return null==n&&(n=t?"'"+e+"'":e),n}return null}function a(e,n,r,o){var a,s=u.AttributeUtils.getExpressionInfo(r).expr;if(null==s){var l=u.AttributeUtils.coerceValue(n,"class",r,"any");a=function(){return Array.isArray(l)?l.join(" "):l}}else{var d=t.createEvaluator(s,o).bind(null,o);a=i.pureComputed(function(){var e=i.unwrap(d());return Array.isArray(e)?e.join(" "):e})}e.css=a}function l(e,n,r,i,o){var a=u.AttributeUtils.getExpressionInfo(r).expr;return null==a?function(){return"object"===o?u.AttributeUtils.coerceValue(e,n,r,o):r}:t.createEvaluator(a,i).bind(null,i)}function d(e){return function(){for(var t={},n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];t[i]=e[i]()}return t}}function c(t){if(1!==t.nodeType)return{};if(!t[e]){for(var n={},r=[],i=[],o=[],a=t.attributes,u=0;u<a.length;u++){var l=a[u],d=p(l.name);d&&("style"===d?n._STYLE_BIND=d:"style."===d.substring(0,6)?i.push(d):r.push(d)),s.isElementRegistered(t.nodeName)||"on-"!==l.name.substring(0,3)||o.push(l)}if(i.length){if(n._STYLE_BIND)throw new Error("Cannot have both style and style.* data bound attributes on "+t.tagName+" with id "+t.id);n._STYLE_BIND=i}r.length&&(n._ATTR_BIND=r),o.length&&(n._EVENT_BIND=o),Object.defineProperty(t,e,{value:n})}return t[e]}function p(e){return e&&":"===e.charAt(0)?e.slice(1):null}function f(e){return":"+e}t.registerPreprocessor("oj-bind-text",function(e){return n(e,"text","value",!0)}),t.registerPreprocessor("oj-bind-if",function(e){return n(e,"if","test",!1)}),t.registerPreprocessor("oj-bind-for-each",function(e){var t=e.getAttribute("data"),n=u.AttributeUtils.getExpressionInfo(t).expr;if(!n)try{var i=JSON.parse(t);if(!Array.isArray(i))throw new Error("got value "+t);n=t}catch(e){throw new Error("The value on the oj-bind-for-each data attribute should be either a JSON array or an expression : "+e)}var a=o(e.getAttribute("as"),!0);if(!n)return;var s="ko _ojBindForEach_:{data:"+n;return r(e,"_ojBindForEach_",s+=a?",as:"+a+"}":"}")}),t.addPostprocessor({nodeHasBindings:function(e,t){var n=c(e);return t||null!=n._ATTR_BIND||null!=n._STYLE_BIND||null!=n._EVENT_BIND},getBindingAccessors:function(e,t,n){if(1===e.nodeType){n=n||{};var r,o,s=c(e),p=s._STYLE_BIND;if(p){if(n.style)throw new Error("Cannot have both style data-bind and JET style binding on "+e.tagName+" with id "+e.id);if("style"===p)n[p]=l(e,p,e.getAttribute(f(p)),t,"object");else{var h={};for(r=0;r<p.length;r++){o=p[r],h[u.AttributeUtils.attributeToPropertyName(o.substring(6))]=l(e,o,e.getAttribute(f(o)),t,"string")}n.style=d(h)}}var g=s._ATTR_BIND;if(g){if(n.attr)throw new Error("Cannot have both attr data-bind and JET attribute binding on "+e.tagName+" with id "+e.id);var m={};for(r=0;r<g.length;r++)"class"===(o=g[r])?a(n,e,e.getAttribute(f(o)),t):m[o]=l(e,o,e.getAttribute(f(o)),t,"string");n.attr=d(m)}var v=s._EVENT_BIND;if(v){var y=new k(e,t,!0);for(r=0;r<v.length;r++){var b=v[r],_=u.AttributeUtils.attributeToPropertyName(b.nodeName);y.setupPropertyBinding(b.value,_,{_domListener:!0})}i.utils.domNodeDisposal.addDisposeCallback(e,function(){y&&(y.teardown(),y=null)})}}return n}})}(),
/**
   * @license
   * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
   * Licensed under The Universal Permissive License (UPL), Version 1.0
   * as shown at https://oss.oracle.com/licenses/upl/
   *
   * @license
   * Knockout Fast Foreach v0.6.0 (2016-07-28T11:02:54.197Z)
   * By: Brian M Hunt (C) 2015 | License: MIT
   *
   * Adds `fastForEach` to `ko.bindingHandlers`.
   *
   * Modification notice: The code is obtained from https://github.com/brianmhunt/knockout-fast-foreach
   * and modified by Oracle JET team to be included into Oracle JET project.
   * @ignore
   */
function(){var e=document&&"function"==typeof document.createDocumentFragment;function t(e,t,n){return{status:"added",value:e,index:t,key:n}}function n(e){return{status:"deleted",value:{},index:e}}function o(e,t){var n;if(e){var r=e.length;n=new Array(r);for(var i=0;i<r;i++)n[i]=t(e[i],i,e)}return n}var a=function(e,t,n){if(Array.isArray(t)){var r=document.createDocumentFragment();for(let e=0,n=t.length;e!==n;++e)r.appendChild(t[e]);if(i.virtualElements.insertAfter(e,r,n),h.Components)for(let e=0,n=t.length;e!==n;++e)h.Components.subtreeAttached(t[e])}else i.virtualElements.insertAfter(e,t,n),h.Components&&h.Components.subtreeAttached(t)},s="_ko_ffe_pending_delete_index",l="oj-bind-for-each: abandoned promise";function d(e,n,r){this.element=n.element||e,i.applyBindingsToDescendants(r,this.element),function(e){for(var t,n,r=i.virtualElements.childNodes(e),o=0;o<r.length;o++){var a=r[o];if(1===a.nodeType&&"template"===a.nodeName.toLowerCase()){var s=u.CustomElementUtils.getSlotAssignment(a);if(t||s&&""!==s){if(n||"noData"!==s){var l;switch(s){case"":l="Multiple default templates found: oj-bind-for-each requires a single default template element as its direct child";break;case"noData":l="Multiple noData templates found: oj-bind-for-each requires a single noData template element as its direct child";break;default:l="Unknown template slot detected - "+s+": oj-bind-for-each supports a single default template and a single noData template"}throw new Error(l)}n=a}else t=a}}if(!t)throw new Error("Default template not found: oj-bind-for-each requires a single default template element as its direct child");e._templateNode=t,e._noDataTemplateNode=n}(this.element),this.element._templateNode.__ojBindingContext=i.contextFor(this.element._templateNode),this.data=n.data,this.as=n.as,this.changeQueue=[],this.firstLastNodesList=[],this.indexesToDelete=[],this.rendering_queued=!1,this.pendingDeletes=[],this.headDataPromise=null,this.tailDataPromise=null,i.virtualElements.emptyNode(this.element),this._initChildrenBindingsAppliedPromise();var a=i.unwrap(this.data);a.fetchFirst?(this.currentDataProvider=a,this.fetchData()):this.onArrayChange(o(a,t)),this.addSubscriptions()}d.PENDING_DELETE_INDEX_KEY=s,d.prototype.addSubscriptions=function(){var e=i.isObservable(this.data);this.currentDataProvider?(this.dataMutateHandler=this.handleDataMutateEvent.bind(this),this.dataRefreshHandler=this.handleDataRefreshEvent.bind(this),this.currentDataProvider.addEventListener("mutate",this.dataMutateHandler),this.currentDataProvider.addEventListener("refresh",this.dataRefreshHandler),e&&(this.changeSubs=this.data.subscribe(this.onDataChange,this,"change"))):e&&(this.data.indexOf||(this.data=this.data.extend({trackArrayChanges:!0})),this.changeArraySubs=this.data.subscribe(this.onArrayDataChange,this,"arrayChange"),this.changeSubs=this.data.subscribe(this.onDataChange,this,"change"))},d.prototype.removeSubscriptions=function(){this.changeSubs&&this.changeSubs.dispose(),this.changeArraySubs&&this.changeArraySubs.dispose(),this.currentDataProvider&&(this.currentDataProvider.removeEventListener("mutate",this.dataMutateHandler),this.currentDataProvider.removeEventListener("refresh",this.dataRefreshHandler))},d.prototype.onArrayDataChange=function(e){this.arrayChangeSet=e},d.prototype.onDataChange=function(e){this.arrayChangeSet?(this.onArrayChange(this.arrayChangeSet),this.arrayChangeSet=null):(this.setData({data:this.data,dataProvider:e.fetchFirst?e:null}),this.recreateContent(e))},d.prototype.recreateContent=function(e){this.changeQueue=[],this.firstLastNodesList=[],this.indexesToDelete=[],this.rendering_queued=!1,this.pendingDeletes=[],this._noDataNodes=null,i.virtualElements.emptyNode(this.element),e.fetchFirst?this.fetchData():this.onArrayChange(o(e,t))},d.prototype.registerBusyState=function(){var e=this.element.parentNode;return p.getContext(e).getBusyContext().addBusyState({description:"oj-bind-for-each binding on a node with the Id "+e.id+"is loading data."})},d.prototype._initChildrenBindingsAppliedPromise=function(){var e=this.element._templateNode.__ojBindingContext.$current,t=e?{_nearestCustomParent:e._nearestCustomParent,_immediate:e._immediate}:null,n=function(e,t){for(var n=e.parentNode;n&&!u.ElementUtils.isValidCustomElementName(n.localName);)n=n.parentNode;return n||(n=t?t._nearestCustomParent:null),n}(this.element,t),r=function(e,t,n){var r=!1,i=!!n;return e.parentNode===t?r=!0:i&&!e.parentNode.parentNode&&(r=n._immediate),r}(this.element,n,t);this.trackingContext={_nearestCustomParent:n,_immediate:r},this._childrenBindingsPromiseResolver=B.getInstance().__RegisterBindingAppliedPromiseForChildren(n,r)},d.prototype._resolveChildrenBindingsAppliedPromise=function(){this._childrenBindingsPromiseResolver&&(this._childrenBindingsPromiseResolver(),this._childrenBindingsPromiseResolver=null)},d.prototype.resetChainIfCompleted=function(e){e===this.tailDataPromise&&(this.headDataPromise=null,this.tailDataPromise=null)},d.prototype.promiseRejectHelper=function(e,t,n){if(t(),this.resetChainIfCompleted(n),!e._CAUGHT_PROMISE_REJECTION&&e.message!==l){if(e instanceof Error)throw e._CAUGHT_PROMISE_REJECTION=!0,e;throw new Error(e)}r.info(e)},d.prototype.fetchData=function(){var e,n,r,i=this.registerBusyState(),o=this.currentDataProvider.fetchFirst({size:-1})[Symbol.asyncIterator](),a=function(s,u,d){return function(c){if(d.headDataPromise===r){for(var p=c.value,f=s.length,h=0;h<p.metadata.length&&h<p.data.length;h++)s.push(t(p.data[h],f,p.metadata[h].key)),f+=1;c.done?(u.call(d,s),i(),e(),d.resetChainIfCompleted(r)):o.next().then(a(s,u,d),function(e){i(),n(e),d.resetChainIfCompleted(r)})}else i(),n(new Error(l))}};(r=new Promise(function(t,s){e=t,n=s,o.next().then(a([],this.onArrayChange,this),function(e){i(),n(e),this.resetChainIfCompleted(r)}.bind(this))}.bind(this))).catch(function(e){if(e.message!==l){if(e instanceof Error)throw e._CAUGHT_PROMISE_REJECTION=!0,e;throw new Error(e)}}),this.headDataPromise=r,this.tailDataPromise=r},d.prototype.getIndexesForEvent=function(e,t){var n,r=[];if(Array.isArray(e))for(n=0;n<e.length;n++)r.push(e[n]);else if(t){var i=Array.isArray(t)?t.length:t.size,o=new c(t),a=new Map,s=0;for(n=0;n<this.firstLastNodesList.length&&s<i;n++){var u=this.firstLastNodesList[n].key,l=o.get(u);l!==o.NOT_A_KEY&&(a.set(l,n),s+=1)}t.forEach(function(e){r.push(a.get(e))})}return r},d.prototype.handleDataMutateEvent=function(e){var t,n,r={},i=this;this.tailDataPromise?(t=this.registerBusyState(),(n=this.tailDataPromise.then(function(){return t(),i.getDataMutationHelper(e,r)})).catch(function(e){i.promiseRejectHelper(e,t,n)})):(n=this.getDataMutationHelper(e,r),this.headDataPromise=n),this.tailDataPromise=n,r.head=this.headDataPromise,r.current=n},d.prototype.getDataMutationHelper=function(e,r){var i,o,a=e.detail.add,s=e.detail.remove,u=e.detail.update,d=a&&a.data,c=u&&u.data,p=()=>{if(c){var e=0,r=[],i=this.getIndexesForEvent(u.indexes,u.keys);u.keys.forEach(function(o){if(void 0!==i[e]){var a=c[e];r.push(n(i[e])),r.push(t(a,i[e],o))}e+=1}),this.onArrayChange(r)}},f=()=>{if(s){var e=this.getIndexesForEvent(s.indexes,s.keys);e=e.filter(function(e){return void 0!==e}),this.onArrayChange(e.map(n))}},h=()=>{if(d){var e=this.getIndexesForEvent(a.indexes,a.addBeforeKeys?a.addBeforeKeys:a.afterKeys),n=[],r=0;a.keys.forEach(function(i){var o=d[r];n.push(t(o,function(t){var n=e.length>t?e[t]:this.firstLastNodesList.length+t;return void 0===n?this.firstLastNodesList.length:n}(r),i)),r+=1},this),this.onArrayChange(n)}};if(u&&!Array.isArray(c)||a&&!Array.isArray(d)){var g=u&&!Array.isArray(c)?this.currentDataProvider.fetchByKeys({keys:u.keys}):Promise.resolve(),m=a&&!Array.isArray(d)?this.currentDataProvider.fetchByKeys({keys:a.keys}):Promise.resolve();i=this.registerBusyState(),(o=Promise.all([g,m]).then(e=>{if(r.head!==this.headDataPromise)throw i(),new Error(l);var t=e[0];t&&t.results.size>0&&(c=[...u.keys].map(e=>t.results.get(e).data)),p(),f();var n=e[1];n&&n.results.size>0&&(d=[...a.keys].map(e=>n.results.get(e).data)),h(),i(),this.resetChainIfCompleted(r.current)})).catch(e=>{this.promiseRejectHelper(e,i,r.current)})}else p(),f(),h();return o},d.prototype.handleDataRefreshEvent=function(){this.recreateContent(this.currentDataProvider)},d.prototype._addNoData=function(){0===this.firstLastNodesList.length&&this.element._noDataTemplateNode&&(this._noDataNodes=f.execute(this.element,this.element._noDataTemplateNode,{},null),this.insertAllAfter(this._noDataNodes))},d.prototype._removeNoData=function(){this._noDataNodes&&(this._noDataNodes.forEach(e=>{f.clean(e,this.element),e.parentNode.removeChild(e)}),this._noDataNodes=null)},d.prototype.onArrayChange=function(e){this._removeNoData();for(var t={added:[],deleted:[]},n="added",r="deleted",i=0,o=e.length;i<o;i++)if(t[n].length&&e[i].status===n){var a=t[n][t[n].length-1];(a.isBatch?a.index+a.values.length-1:a.index)+1===e[i].index?(a.isBatch||(a={isBatch:!0,status:n,index:a.index,values:[a.value],keys:[a.key]},t[n].splice(t[n].length-1,1,a)),a.values.push(e[i].value),a.keys.push(e[i].key)):t[e[i].status].push(e[i])}else t[e[i].status].push(e[i]);t[r].length>0&&(this.changeQueue.push.apply(this.changeQueue,t[r]),this.changeQueue.push({status:"clearDeletedIndexes"})),this.changeQueue.push.apply(this.changeQueue,t[n]),this.changeQueue.length>0&&!this.rendering_queued&&(this.rendering_queued=!0,this.processQueue()),this._addNoData(),this._resolveChildrenBindingsAppliedPromise()},d.prototype.processQueue=function(){var e=this,t=9007199254740991;i.utils.arrayForEach(this.changeQueue,function(n){"number"==typeof n.index&&(t=Math.min(t,n.index)),e[n.status](n)}),this.flushPendingDeletes(),this.rendering_queued=!1,this.updateIndexes(t),this.changeQueue=[]},d.prototype.added=function(e){for(var t=e.index,n=e.isBatch?e.values:[e.value],r=e.isBatch?e.keys:[e.key],o=this.getLastNodeBeforeIndex(t),a=[],s=0,u=n.length;s<u;++s){var l,d,c=this.getPendingDeleteFor(n[s]);c&&c.nodesets.length?(l=c.nodesets.pop(),d=c.currentChildContext):(d={data:n[s],index:t+s,observableIndex:i.observable()},Object.defineProperties(d,{_nearestCustomParent:{value:this.trackingContext._nearestCustomParent,enumerable:!1},_immediate:{value:this.trackingContext._immediate,enumerable:!1}}),l=f.execute(this.element,this.element._templateNode,d,this.as)),a.push.apply(a,Array.prototype.slice.call(l)),this.firstLastNodesList.splice(t+s,0,{first:l[0],last:l[l.length-1],key:r?r[s]:null,currentChildContext:d})}this.insertAllAfter(a,o)},d.prototype.getNodesForIndex=function(e){var t=[],n=this.firstLastNodesList[e].first,r=this.firstLastNodesList[e].last;for(t.push(n);n&&n!==r;)n=n.nextSibling,t.push(n);return t},d.prototype.getLastNodeBeforeIndex=function(e){return e<1||e-1>=this.firstLastNodesList.length?null:this.firstLastNodesList[e-1].last},d.prototype.insertAllAfter=function(t,n){var r,i=this.element;if(1===t.length)a(i,t[0],n);else if(e)a(i,t,n);else for(r=t.length-1;r>=0;--r){var o=t[r];if(!o)break;a(i,o,n)}return t},d.prototype.shouldDelayDeletion=function(e){return e&&("object"==typeof e||"function"==typeof e)},d.prototype.getPendingDeleteFor=function(e){var t=e&&e[s];return void 0===t?null:this.pendingDeletes[t]},d.prototype.getOrCreatePendingDeleteFor=function(e){var t=this.getPendingDeleteFor(e);return t||(t={data:e,nodesets:[]},e[s]=this.pendingDeletes.length,this.pendingDeletes.push(t),t)},d.prototype.deleted=function(e){if(this.shouldDelayDeletion(e.value)){var t=this.getOrCreatePendingDeleteFor(e.value);t.nodesets.push(this.getNodesForIndex(e.index)),t.currentChildContext=this.firstLastNodesList[e.index].currentChildContext}else this.removeNodes(this.getNodesForIndex(e.index));this.indexesToDelete.push(e.index)},d.prototype.removeNodes=function(e){if(e.length){(()=>{for(var t=e[0].parentNode,n=e.length-1;n>=0;--n)f.clean(e[n],this.element),t.removeChild(e[n])})()}},d.prototype.flushPendingDeletes=function(){for(var e=0,t=this.pendingDeletes.length;e!==t;++e){for(var n=this.pendingDeletes[e];n.nodesets.length;)this.removeNodes(n.nodesets.pop());n.data&&void 0!==n.data[s]&&delete n.data[s]}this.pendingDeletes=[]},d.prototype.clearDeletedIndexes=function(){for(var e=this.indexesToDelete.length-1;e>=0;--e)this.firstLastNodesList.splice(this.indexesToDelete[e],1);this.indexesToDelete=[]},d.prototype.updateIndexes=function(e){for(var t=e,n=this.firstLastNodesList.length;t<n;++t){var r=this.firstLastNodesList[t].currentChildContext;r&&r.observableIndex&&r.observableIndex(t)}},d.prototype.getData=function(){return{data:this.data,dataProvider:this.currentDataProvider}},d.prototype.setData=function(e){this.removeSubscriptions(),this.data=e.data,this.currentDataProvider=e.dataProvider,this.addSubscriptions()},i.bindingHandlers._ojBindForEach_={init:function(e,t,n,r,o){var a,s;return i.computed(function(){if(s=t(),a){var e,n,r=s.data,o=a.getData().data;if(i.ignoreDependencies(function(){e=i.unwrap(o),n=i.unwrap(r)}),a.setData({data:r,dataProvider:n.fetchFirst?n:null}),Array.isArray(e)&&Array.isArray(n)){var u=i.utils.compareArrays(e,n,{sparse:!0,dontLimitMoves:!0});a.onArrayChange(u)}else a.recreateContent(n)}},null,{disposeWhenNodeIsRemoved:e}),a=new d(e,s,o),i.utils.domNodeDisposal.addDisposeCallback(e,function(){a.removeSubscriptions()}),{controlsDescendantBindings:!0}}},i.virtualElements.allowedBindings._ojBindForEach_=!0}();const U={};function $(e,t,n){if("item"===e){var r=t.template;return null!=r&&(t.renderer=function(e,t){return function(n){var r=n.parentElement,o=e.createChildContext(n.data,null,function(e){e.$itemContext=n});return i.renderTemplate(t,o,{afterRender:function(e){a(e)._ojDetectCleanData()}},r,"replaceNode"),null}}(n,r)),{item:t}}return null}function F(e,t,n){return"center"===e&&t.template&&(t._renderer=P(n,t.template)),{center:t}}function H(e,t,n){return"rootNodeContent"===e&&t.template&&(t._renderer=P(n,t.template)),{rootNodeContent:t}}n._registerLegacyNamespaceProp("koStringTemplateEngine",U),U.install=function(){var e=i;if(!e.templates){var t={},n={},r=new e.nativeTemplateEngine,o=function(e){this._templateName=e,this.text=function(e){if(!e)return t[this._templateName];t[this._templateName]=e},this.data=function(e,t){if(n[this._templateName]||(n[this._templateName]={}),1===arguments.length)return n[this._templateName][e];n[this._templateName][e]=t}};r.makeTemplateSource=function(t,n){if("string"==typeof t){var r=(n=n||document).getElementById(t);return r?new e.templateSources.domElement(r):new o(t)}if(t&&1===t.nodeType||8===t.nodeType)return new e.templateSources.anonymousTemplate(t)},e.templates=t,e.setTemplateEngine(r)}},C.getDefaultInstance().setupManagedAttributes({attributes:["item"],init:function(e,t,n,r,i,o,a){var s=$(e,t,a);if(null!=s)return s},update:function(e,t,n,r,i,o,a){return $(e,t,a)},for:"ojListViewRenderer"}),C.getDefaultInstance().setupManagedAttributes({for:"ojListView",use:"ojListViewRenderer"}),C.getDefaultInstance().setupManagedAttributes({for:"ojNavigationList",use:"ojListViewRenderer"}),n._registerLegacyNamespaceProp("ResponsiveKnockoutUtils",m),n._registerLegacyNamespaceProp("KnockoutTemplateUtils",g),C.getDefaultInstance().setupManagedAttributes({attributes:["center"],init:function(e,t,n,r,i,o,a){return F(e,t,a)},update:function(e,t,n,r,i,o,a){return F(e,t,a)},for:"ojStatusMeterGauge"}),C.getDefaultInstance().setupManagedAttributes({attributes:["rootNodeContent"],init:function(e,t,n,r,i,o,a){return H(e,t,a)},update:function(e,t,n,r,i,o,a){return H(e,t,a)},for:"ojSunburst"});var G="columns",W="columnsDefault",q="rowTemplate";function J(e,t,n){var r,o;return r=n,o=t,function(t){var n=null,s=null;if("header"===o)n=e.createChildContext(null,null,function(e){e.$columnIndex=t.columnIndex,e.$headerContext=t.headerContext,e.$data=t.data}),s=t.headerContext.parentElement;else if("cell"===o){var u=t.row;n=e.createChildContext(u,null,function(e){e.$columnIndex=t.columnIndex,e.$cellContext=t.cellContext}),s=t.cellContext.parentElement}"footer"===o&&(n=e.createChildContext(null,null,function(e){e.$columnIndex=t.columnIndex,e.$footerContext=t.footerContext}),s=t.footerContext.parentElement),i.renderTemplate(r,n,{afterRender:function(e){a(e)._ojDetectCleanData()}},s,"replaceNode")}}function V(e,t){return function(n){var r=n.row,o=e.createChildContext(r,null,function(e){e.$rowContext=n.rowContext});i.renderTemplate(t,o,{afterRender:function(e){a(e)._ojDetectCleanData()}},n.rowContext.parentElement,"replaceNode")}}function K(e,t,n){var r,i;if("areaLayers"===e){for(r=0;r<t.length;r++){var o=t[r].areaDataLayer;o&&null!=(i=o.template)&&(o._templateRenderer=O(n,i))}return{areaLayers:t}}if("pointDataLayers"===e){for(r=0;r<t.length;r++)null!=(i=t[r].template)&&(t[r]._templateRenderer=O(n,i));return{pointDataLayers:t}}return null}function Q(e,t,n){return"nodeContent"===e&&t.template&&(t._renderer=P(n,t.template)),{nodeContent:t}}C.getDefaultInstance().setupManagedAttributes({attributes:[G,W,q],init:function(e,t,n,r,i,o,a){if(e===G||e===W){for(var s=0;s<t.length;s++){var u=t[s],l=u.template,d=u.footerTemplate,c=u.headerTemplate;null!=l&&(u.renderer=J(a,"cell",l)),null!=d&&(u.footerRenderer=J(a,"footer",d)),null!=c&&(u.headerRenderer=J(a,"header",c))}return e===G?{columns:t}:{columnsDefault:t}}if(e===q)return{rowRenderer:V(a,t)}},update:function(e,t,n,r,i,o,a){if(e===G||e===W){for(var s=0;s<t.length;s++){var u=t[s],l=u.template,d=u.footerTemplate,c=u.headerTemplate;null!=l&&(u.renderer=J(a,"cell",l)),null!=d&&(u.footerRenderer=J(a,"footer",d)),null!=c&&(u.headerRenderer=J(a,"header",c))}r(e===G?{columns:t}:{columnsDefault:t})}else if(e===q)return{rowRenderer:V(a,t)};return null},for:"ojTable"}),C.getDefaultInstance().setupManagedAttributes({attributes:["areaLayers","pointDataLayers"],init:function(e,t,n,r,i,o,a){return K(e,t,a)},update:function(e,t,n,r,i,o,a){return K(e,t,a)},for:"ojThematicMap"}),C.getDefaultInstance().setupManagedAttributes({attributes:["nodeContent"],init:function(e,t,n,r,i,o,a){return Q(e,t,a)},update:function(e,t,n,r,i,o,a){return Q(e,t,a)},for:"ojTreemap"})});
//# sourceMappingURL=ojknockout.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojmessage',["require","exports","ojs/ojcore","ojs/ojknockout","ojs/ojbutton","ojs/ojjquery-hammer","ojs/ojcore-base","jquery","knockout","ojs/ojanimation","ojs/ojdomutils","ojs/ojcomponentcore","ojs/ojcomposite","ojs/ojcontext","hammerjs","ojs/ojlogger","ojs/ojthemeutils","ojs/ojtranslation"],function(e,t,o,s,i,n,a,r,p,u,c,l,d,m,h,g,_,f){"use strict";a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a,r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r,m=m&&Object.prototype.hasOwnProperty.call(m,"default")?m.default:m;function y(e){this._composite=e.element,this.containerId=[e.unique,"mc"].join("_"),this._messagesContainerId=this.containerId,this.handleCloseIcon=this._handleCloseIcon.bind(this),this.close=this._closeMessage.bind(this),this.bindingsApplied=this._bindingsApplied.bind(this),this.disconnected=this._disconnected.bind(this),this.connected=this._connected.bind(this),this.propertyChanged=this._propertyChanged.bind(this),this.messageCreatedTime=(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),this.handleKeydown=this._handleKeydown.bind(this),this._slotCounts=e.slotCounts,this._properties=e.properties,this._createObservables(),this._updateSeverityStyleClass(null)}function v(e,t){this._element=e,this._operation=t,this._init()}y.prototype._connected=function(e){var t=this._operationMediator;t&&"none"===t.getPendingOperation()&&this._isMessageOpen()&&this._scheduleAutoClose()},y.prototype._disconnected=function(e){var t=this._operationMediator;t&&"none"===t.getPendingOperation()&&this._clearAutoClose()},y.prototype._bindingsApplied=function(e){this._openMessage()},y.prototype._propertyChanged=function(e){function t(e,t,o){if("external"===e.updatedFrom&&e.property===t){var s=e.subproperty;if(s)return[t,o].join(".")===s.path;var i=e.previousValue[o];return e.value[o]!==i}return!1}if(t(e,"message","autoTimeout")&&(this.computedMessageCloseSelectors(this._computeMessageCloseSelectors()),this._clearAutoClose(),this._scheduleAutoClose()),t(e,"message","closeAffordance")&&(this.hasCloseAffordance("defaults"===this._computeCloseAffordance()),this._unregisterSwipeHandler(),this._registerSwipeHandler()),t(e,"message","icon")&&(this.computedIconStyle(this._computeIconStyle()),this.computedIconClass(this._computeIconClass()),this.computedMessageContainerSelectors(this._computeMessageContainerSelectors())),(t(e,"message","category")||t(e,"displayOptions","category"))&&(this.computedCategory(this._computeCategory()),this.computedMessageContainerSelectors(this._computeMessageContainerSelectors())),t(e,"message","severity")){const e=this.computedSeverity();this.computedSeverity(this._computeSeverity()),this.computedCategory(this._computeCategory()),this.computedIconClass(this._computeIconClass()),this.computedMessageContainerSelectors(this._computeMessageContainerSelectors()),this._updateSeverityStyleClass(e)}t(e,"message","timestamp")&&this.formattedTimestamp(this._formatTimestamp()),t(e,"message","summary")&&this.computedSummary(this._computeSummary()),t(e,"message","detail")&&(this.computedDetail(this._computeDetail()),this.computedMessageContainerSelectors(this._computeMessageContainerSelectors())),t(e,"translations","labelCloseIcon")&&this.computedLabelCloseIcon(this._computeLabelCloseIcon()),t(e,"translations","categories")&&this.computedCategory(this._computeCategory())},y.prototype._registerSwipeHandler=function(){if(c.isTouchSupported()&&"defaults"===this._computeCloseAffordance()){var e=r(document.getElementById(this._messagesContainerId)),t={recognizers:[[h.Swipe,{direction:h.DIRECTION_ALL}]],cssProps:{userSelect:"auto"}},o="rtl"===c.getReadingDirection()?"swipeleft swipeup":"swiperight swipeup";this._hammerSwipe=e.ojHammer(t).on(o,function(e){e.preventDefault(),e.gesture&&"mouse"!==e.gesture.pointerType&&this._closeMessage()}.bind(this))}},y.prototype._unregisterSwipeHandler=function(){if(c.isTouchSupported()&&this._hammerSwipe){var e="rtl"===c.getReadingDirection()?"swipeleft swipeup":"swiperight swipeup";this._hammerSwipe.off(e),delete this._hammerSwipe}},y.prototype._scheduleAutoClose=function(){this._computeAutoTimeout()>-1&&(this._autoCloseTimer=window.setTimeout(this._closeMessage.bind(this),this._computeAutoTimeout()))},y.prototype._clearAutoClose=function(){isNaN(this._autoCloseTimer)||(window.clearTimeout(this._autoCloseTimer),delete this._autoCloseTimer)},y.prototype._isMessageOpen=function(){var e=document.getElementById(this._messagesContainerId);return!(!e||!r(e).is(":visible"))},y.prototype._closeMessage=function(e){var t=document.getElementById(this._messagesContainerId);if(t){this._unregisterSwipeHandler(),this._clearAutoClose();var o=this._operationMediator;if(o){if(o.isOperationPending("close",this._closeMessage.bind(this,e)))return;o.destroy()}this._operationMediator=new v(this._composite,"close");var s="close",i=this._getAnimateOptionDefaults(s);u.startAnimation(t,s,i,this._composite).then(function(){r(t).hide(),l.subtreeHidden(t);var o={bubbles:!0,cancelable:!1,detail:{message:this._properties.message}},s=new CustomEvent("ojClose",o);e&&Object.defineProperty(s,"_originalEvent",{value:e,writable:!1}),this._composite.dispatchEvent(s)}.bind(this))}},y.prototype._computeSeverity=function(){var e=this._properties.message;return a.StringUtils.isEmptyOrUndefined(e.severity)?y._getMessageDefault("severity"):"fatal"===e.severity?"error":e.severity},y.prototype._formatTimestamp=function(){var e=this._properties.message;if(!a.StringUtils.isEmptyOrUndefined(e.timestamp)){var t=m.getContext(this._composite).getBusyContext().addBusyState({description:"oj-message is busy loading required libraries and processing timestamp"});this._getConverterPromise(e.timestamp).then(function(o){try{var s=o.format(e.timestamp);this.formattedTimestamp(s)}catch(t){g.info(`JET oj-message: Invalid value for message.timestamp: ${e.timestamp}`)}finally{t()}}.bind(this))}},y.prototype._getConverterPromise=function(t){return new Promise(function(t,o){e(["ojs/ojconverter-datetime"],function(e){t(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(o){var s=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(t,o,s.get?s:{enumerable:!0,get:function(){return e[o]}})}),t.default=e,t}(e))},o)}).then(function(e){var o=this._isDateToday(t)?"hh:mm a":"MM/dd/yy, hh:mm a";return new e.IntlDateTimeConverter({pattern:o})}.bind(this))},y.prototype._isDateToday=function(e){var t=new Date,o=new Date(e);return t.getUTCFullYear()===o.getUTCFullYear()&&t.getUTCMonth()===o.getUTCMonth()&&t.getUTCDate()===o.getUTCDate()},y.prototype._computeCategory=function(){var e=this._properties.displayOptions;if(!e||!e.category||"none"!==e.category){var t=this._properties.message;if(!a.StringUtils.isEmptyOrUndefined(t.category))return t.category;var o=this._computeSeverity();if("none"!==o){var s=this._properties.translations,i=s&&s.categories?s.categories[o]:void 0;return a.StringUtils.isEmptyOrUndefined(i)&&(i=f.getComponentTranslations("oj-ojMessage").categories[o]),i}}},y.prototype._computeAutoTimeout=function(){var e=this._properties.message;return isNaN(e.autoTimeout)?y._getMessageDefault("autoTimeout"):0===e.autoTimeout?this._getThemedAutoTimeoutDefault():e.autoTimeout},y.prototype._computeIconStyle=function(){var e=this._properties.message;if(!a.StringUtils.isEmptyOrUndefined(e.icon))return["url('",e.icon,"') no-repeat"].join("")},y.prototype._computeIconClass=function(){var e=this._properties.message;if(a.StringUtils.isEmptyOrUndefined(e.icon)){var t=this._computeSeverity();if("none"!==t){var o=["oj-component-icon","oj-message-status-icon"];return o.push(["oj","message",t,"icon"].join("-")),o.join(" ")}}},y.prototype._computeCloseAffordance=function(){var e=this._properties.message;return a.StringUtils.isEmptyOrUndefined(e.closeAffordance)?y._getMessageDefault("closeAffordance"):e.closeAffordance},y.prototype._computeMessageCloseSelectors=function(){return this._computeAutoTimeout()>-1?"oj-message-close oj-message-auto-timeout-close":"oj-message-close"},y.prototype._computeMessageContainerSelectors=function(){let e=["oj-message-container"];return this._computeIconStyle()||this._computeIconClass()||e.push("oj-message-no-icon"),this._isDetailShown()||e.push("oj-message-no-detail"),e.join(" ")},y.prototype._computeSound=function(){var e=this._properties.message;return void 0===e.sound?y._getMessageDefault("sound"):e.sound},y.prototype._computeLabelCloseIcon=function(){var e=this._properties.translations;return a.StringUtils.isEmptyOrUndefined(e.labelCloseIcon)?f.getTranslatedString("oj-ojMessage.labelCloseIcon"):e.labelCloseIcon},y.prototype._computeSummary=function(){var e=this._properties.message;if(!a.StringUtils.isEmptyOrUndefined(e.summary))return e.summary},y.prototype._computeDetail=function(){var e=this._properties.message;if(!a.StringUtils.isEmptyOrUndefined(e.detail))return e.detail},y.prototype._handleCloseIcon=function(e){this._closeMessage(e)},y.prototype._openMessage=function(){var e=document.getElementById(this._messagesContainerId);if(e)if(this._isInlinedChildOfOjMessages())this._prepareMessageAtOpen();else{this._operationMediator=new v(this._composite,"open");var t={bubbles:!0,cancelable:!1,detail:{message:this._properties.message}};this._composite.dispatchEvent(new CustomEvent("ojBeforeOpen",t));var o="open",s=this._getAnimateOptionDefaults(o);u.startAnimation(e,o,s,this._composite).then(function(){t={bubbles:!0,cancelable:!1,detail:{message:this._properties.message}},this._prepareMessageAtOpen(),this._composite.dispatchEvent(new CustomEvent("ojOpen",t))}.bind(this))}},y.prototype._isInlinedChildOfOjMessages=function(){var e=this._findMessagesAncestor();return e&&!e.getProperty("messages")},y.prototype._findMessagesAncestor=function(){for(var e=this._composite.parentElement;e;e=e.parentElement)if(e.nodeName.startsWith("OJ-"))return"OJ-MESSAGES"===e.nodeName?e:null;return null},y.prototype._isDetailShown=function(){return y._SLOT.DETAIL in this._slotCounts||(void 0!==this._computeDetail()||void 0!==this._computeCategory()&&void 0!==this._computeSummary())},y.prototype._prepareMessageAtOpen=function(){var e=this._computeSound();"none"!==e&&(this._initAudioContext(),this._playSound(e)),this._registerSwipeHandler(),this._scheduleAutoClose()},y.prototype._handleKeydown=function(e){e.defaultPrevented||"defaults"!==this._computeCloseAffordance()||e.keyCode!==r.ui.keyCode.ESCAPE&&"Escape"!==e.key||(e.preventDefault(),this._closeMessage(e))},y.prototype._playSound=function(e){if("defaults"!==e){var t=document.createElement("AUDIO");t.src=e,t.addEventListener("error",function(){g.info(`JET oj-message: Failed to load media from URL in message.sound='${e}'.`)});var o=t.play();void 0!==o&&o.then(function(){}).catch(function(t){g.info(`JET oj-message: Failed to play specified sound: '${e}'. Error: ${t}`)})}else if(void 0===window.audioContext)g.info("JET oj-message: Failed to play default sound as the browser does not support Web Audio API");else{var s=window.audioContext.createGain();s.connect(window.audioContext.destination);var i=window.audioContext.createOscillator();i.connect(s),i.start(),i.stop(window.audioContext.currentTime+.01)}},y.prototype._initAudioContext=function(){if(void 0===window.audioContext)try{window.audioContext=new(window.AudioContext||window.webkitAudioContext)}catch(e){}},y.prototype._createObservables=function(){this.hasCloseAffordance=p.observable("defaults"===this._computeCloseAffordance()),this.computedIconStyle=p.observable(this._computeIconStyle()),this.computedIconClass=p.observable(this._computeIconClass()),this.computedSeverity=p.observable(this._computeSeverity()),this.computedCategory=p.observable(this._computeCategory()),this.formattedTimestamp=p.observable(this._formatTimestamp()),this.computedLabelCloseIcon=p.observable(this._computeLabelCloseIcon()),this.computedMessageCloseSelectors=p.observable(this._computeMessageCloseSelectors()),this.computedMessageContainerSelectors=p.observable(this._computeMessageContainerSelectors()),this.computedSummary=p.observable(this._computeSummary()),this.computedDetail=p.observable(this._computeDetail())},y.prototype._updateSeverityStyleClass=function(e){if(null!=e){const t=y._getStyleClassForSeverity(e);this._composite.classList.remove(t)}const t=y._getStyleClassForSeverity(this.computedSeverity());t&&this._composite.classList.add(t)},y._getMessageDefault=function(e){return y._DEFAULTS.message[e]},y._DEFAULTS={autoTimeout:4e3,animation:{open:{effect:"fadeIn",duration:"300ms"},close:{effect:"fadeOut",duration:"300ms"}},message:{severity:"none",autoTimeout:-1,closeAffordance:"defaults",sound:"none"}},y._getStyleClassForSeverity=function(e){return y._SEVERITY_STYLE_CLASS_MAP[e]},y._SEVERITY_STYLE_CLASS_MAP={confirmation:"oj-confirmation",error:"oj-error",info:"oj-info",warning:"oj-warning"},y._SLOT={DETAIL:"detail"},y.prototype._getThemedAutoTimeoutDefault=function(){var e=_.parseJSONFromFontFamily("oj-message-option-defaults");return e&&e.autoTimeout?e.autoTimeout:y._DEFAULTS.autoTimeout},y.prototype._getAnimateOptionDefaults=function(e){return y._DEFAULTS.animation[e]},v.prototype._init=function(){this._resolvedQueue=[],this._callback=this._eventHandler.bind(this);var e=this._operation,t=["oj"];t.push(e.charAt(0).toUpperCase()),t.push(e.slice(1));var o=t.join("");this._eventType=o,this._element.addEventListener(o,this._callback);var s=m.getContext(this._element).getBusyContext(),i={description:this._getBusyStateDescription.bind(this,this._element,this._operation)},n=s.addBusyState(i);this.addPromiseExecutor(function(e){window.setImmediate(function(){e()})}.bind(this,n))},v.prototype._getBusyStateDescription=function(e,t){return`${e.nodeName} is busy animating on the ${t} operation`},v.prototype._deliverResolved=function(e){var t=this._resolvedQueue;this._resolvedQueue=[],e=e||this._operation,this._operation=null;for(var o=0;o<t.length;o++)t[o](e)},v.prototype.destroy=function(){this._deliverResolved("none"),this._callback=null,this._element=null,this._operation=null,this._eventType=null},v.prototype._eventHandler=function(e){e.target===this._element&&(this._element.removeEventListener(e.type,this._callback),this._deliverResolved(),this._callback=null)},v.prototype.getPendingOperation=function(){return this._operation?this._operation:"none"},v.prototype.addPromiseExecutor=function(e,t){this._resolvedQueue.push(e)},v.prototype.isOperationPending=function(e,t){if(!this._element)return!1;var o=!1,s=this.getPendingOperation();return e===s?(g.info(["JET oj-message: invoked a '",e,"' operation while pending animation of the same type of operation. ","The second request will be ignored."].join("")),o=!0):"none"!==s&&(g.info(["JET oj-message: invoked a '",e,"' operation while pending animation of a '",s,"' operation. The second request will be invoked after the pending ","operation completes."].join("")),this.addPromiseExecutor(t),o=!0),o};d.register("oj-message",{view:'<div :id="[[containerId]]" :class="[[computedMessageContainerSelectors]]" on-keydown="[[handleKeydown]]">  <div class="oj-message-header">    <div class="oj-message-leading-header" :title="[[computedCategory]]">      <oj-bind-if test="[[computedIconStyle]]">        <div class="oj-component-icon oj-message-status-icon oj-message-custom-icon"          role="presentation" :title="[[computedCategory]]"          :style.background="[[computedIconStyle]]">        </div>      </oj-bind-if>      <oj-bind-if test="[[computedIconClass]]">        <div role="presentation" :title="[[computedCategory]]" :class="[[computedIconClass]]">        </div>      </oj-bind-if>      <oj-bind-if test="[[computedCategory]]">        <div class="oj-message-category oj-message-title" tabindex="-1">          <h1 :title="[[computedCategory]]">            <oj-bind-text value="[[computedCategory]]"></oj-bind-text>           </h1>        </div>      </oj-bind-if>      <oj-bind-if test="[[!computedCategory() && computedSummary()]]">        <div class="oj-message-summary oj-message-title" tabindex="-1">          <oj-bind-text value="[[computedSummary]]"></oj-bind-text>        </div>      </oj-bind-if>    </div>    <div class="oj-message-trailing-header">      <oj-bind-if test="[[formattedTimestamp]]">        <div class="oj-message-timestamp">          <oj-bind-text value="[[formattedTimestamp]]"></oj-bind-text>         </div>      </oj-bind-if>      <oj-bind-if test="[[hasCloseAffordance]]">        <div :class="[[computedMessageCloseSelectors]]">          <oj-button class="oj-button-sm" display="icons" chroming="borderless" on-click="[[handleCloseIcon]]">            <span slot="startIcon" class="oj-fwk-icon oj-fwk-icon-cross"></span>            <span>              <oj-bind-text value="[[computedLabelCloseIcon]]"></oj-bind-text>            </span>          </oj-button>        </div>      </oj-bind-if>    </div>    </div>  <div class="oj-message-body">    <oj-bind-if test="[[computedCategory]]">      <div class="oj-message-summary">        <oj-bind-text value="[[computedSummary]]"></oj-bind-text>      </div>    </oj-bind-if>    <div class="oj-message-detail">      <oj-bind-slot name="detail">        <oj-bind-text value="[[computedDetail]]"></oj-bind-text>      </oj-bind-slot>    </div>  <div></div>',viewModel:y,metadata:{properties:{displayOptions:{type:"object",properties:{category:{type:"string",enumValues:["auto","header","none"],value:"auto"}}},message:{type:"object",properties:{autoTimeout:{type:"number",value:-1},category:{type:"string",value:""},closeAffordance:{type:"string",enumValues:["defaults","none"],value:"defaults"},detail:{type:"string",value:""},icon:{type:"string",value:""},severity:{type:"string",enumValues:["confirmation","error","info","none","warning"],value:"none"},sound:{type:"string",value:"none"},summary:{type:"string",value:""},timestamp:{type:"string",value:""}}},translations:{type:"object",value:{},properties:{categories:{type:"object",properties:{confirmation:{type:"string"},error:{type:"string"},info:{type:"string"},none:{type:"string"},warning:{type:"string"}}},labelCloseIcon:{type:"string"}}}},methods:{close:{},getProperty:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojClose:{}},extension:{}}}),t.ojMessage={},Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ojmessage.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojmessages',["ojs/ojcore-base","jquery","knockout","ojs/ojanimation","ojs/ojcontext","ojs/ojthemeutils","ojs/ojtranslation","ojs/ojcomposite","ojs/ojcomponentcore","ojs/ojlogger","ojs/ojdomutils","ojs/ojknockout","ojs/ojpopupcore","ojs/ojmessage","ojs/ojdataprovider","ojs/ojcustomelement-utils"],function(e,t,i,s,n,o,a,r,l,p,d,c,h,u,g,m){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;function _(t){this._composite=t.element,this.containerId=[t.unique,"mc"].join("_"),this._messagesContainerId=this.containerId,this.handleOpen=this._handleOpen.bind(this),this.handleClose=this._handleClose.bind(this),this.handleAnimateStart=this._handleAnimateStart.bind(this),this.bindingsApplied=this._bindingsApplied.bind(this),this.disconnected=this._disconnected.bind(this),this.connected=this._connected.bind(this),this.close=this._close.bind(this),this.closeAll=this._closeAll.bind(this),this.propertyChanged=this._propertyChanged.bind(this),this._properties=t.properties,this._createObservables(),this._updateLandmark(),e.AgentUtils.getAgentInfo().os===e.AgentUtils.OS.IOS&&(this._composite.style.overflow="hidden")}function v(e){this.Init(e)}_.prototype._bindingsApplied=function(){var e=this._composite.querySelector(`#${this._messagesContainerId}`);if(e.addEventListener("ojFocus",this._navigationEventListener.bind(this),!1),this._properties.messages)e.addEventListener("ojBeforeOpen",this._handleBeforeOpen.bind(this),!1);else{var t=this._getDefaultSlotMessageElements();if(0!==t.length){var i=n.getContext(this._composite).getBusyContext();this._inlinedMessagesOpenBusyStateResolve=i.addBusyState({description:"oj-messages is busy opening inlined messages"}),this._showMessagesContainer();for(var s=0;s<t.length;s++)this._animateMessageAction(t[s].firstChild,"open",this._resolveInlinedMessagesOpenBusyState(t[s].getProperty("message"),t.length))}}},_.prototype._resolveInlinedMessagesOpenBusyState=function(e,t){this._updateLiveRegionAndContainer(e),this._numInlinedChildrenAnimated=this._numInlinedChildrenAnimated?this._numInlinedChildrenAnimated+1:1,this._numInlinedChildrenAnimated===t&&(this._numInlinedChildrenAnimated=0,this._inlinedMessagesOpenBusyStateResolve())},_.prototype._disconnected=function(){_.NAVIGATION_TRACKER.remove(this._messagesContainerId),e.ZOrderUtils.getStatus(this._composite)===e.ZOrderUtils.STATUS.OPEN&&this._closeOverlay()},_.prototype._connected=function(){_.NAVIGATION_TRACKER.add(this._messagesContainerId)},_.prototype._closeAll=function(e){if(this._isMessagesShown())for(var t=this._getDefaultSlotMessageElements(),i=0;i<t.length;i++){var s=t[i].message,n=!0;e&&(n=e(s)),n&&t[i].close()}},_.prototype._propertyChanged=function(e){"external"===e.updatedFrom&&"position"===e.property?e.previousValue&&e.value?this._refresh():!e.previousValue&&e.value?this._getDefaultSlotMessageElements().length>0&&(this._isMessagesShown()&&this._hideMessages(),this._openOverlay()):e.previousValue&&!e.value&&this._getDefaultSlotMessageElements().length>0&&(this._isOverlayOpen()&&this._closeOverlay(),this._showMessages()):"external"===e.updatedFrom&&"display"===e.property?this._getDefaultSlotMessageElements().length>0&&(this._isOverlayOpen()?(this._closeOverlay(),this._openOverlay(),this._refresh()):this._isMessagesShown()&&(this._hideMessages(),this._showMessages())):"external"===e.updatedFrom&&"translations"===e.property&&this._updateLandmark()},_.prototype._close=function(e){if(e&&this._isMessagesShown())for(var i=this._getDefaultSlotMessageElements(),s=0;s<i.length;s++){t(i[s]).prop("message")===e&&i[s].close()}},_.prototype._isEventPertaining=function(e){var t=e.target,i=document.getElementById(this._messagesContainerId);return!("OJ-MESSAGE"!==t.nodeName||!d.isAncestor(i,t))},_.prototype._handleBeforeOpen=function(e){e.defaultPrevented||!this._isEventPertaining(e)||this._isMessagesShown()||this._showMessagesContainer()},_.prototype._showMessagesContainer=function(){this._isPresentationInline()?this._showMessages():this._openOverlay()},_.prototype._handleOpen=function(e){!e.defaultPrevented&&this._isEventPertaining(e)&&this._updateLiveRegionAndContainer(e.detail.message)},_.prototype._updateLiveRegionAndContainer=function(e){const t=a.getComponentTranslations("oj-ojMessage").categories,i=("fatal"===e.severity?"error":e.severity)||"none",s={category:e.category?e.category:t[i],summary:e.summary,detail:e.detail||this._getTranslationsDefault("ariaLiveRegion.noDetail")},n=this._getLiveRegion(),o=this._getTranslationsDefault("ariaLiveRegion.newMessage",s);n.announce(o),this._refresh()},_.prototype._getTranslationsDefault=function(t,i){for(var s=this._properties.translations,n=t.split("."),o=0;o<n.length&&s;o++)s=s[n[o]];return e.StringUtils.isEmptyOrUndefined(s)?s=a.getTranslatedString(["oj-ojMessages",t].join("."),i):i&&(s=a.applyParameters(s,i)),s},_.prototype._handleClose=function(e){if(!e.defaultPrevented&&this._isEventPertaining(e)){var i,s=e.target;e._originalEvent&&(i=this._getNextFocus(s)),i&&i.focus(),t(s).remove(),0===this._getDefaultSlotMessageElements().length?(_.NAVIGATION_TRACKER.togglePreviousFocus(this._messagesContainerId),this._isOverlayOpen()?this._closeOverlay():this._hideMessages()):this._refresh()}},_.prototype._getNextFocus=function(e){var t,i,s=this._getDefaultSlotMessageElements(),n=s.indexOf(e);return n-1>-1?t=s[n-1]:n+1<=s.length-1&&(t=s[n+1]),t&&(i=t.querySelector('.oj-message-category[tabindex="-1"]')),i},_.prototype._handleAnimateStart=function(e){!e.defaultPrevented&&this._isEventPertaining(e)&&(e.preventDefault(),this._animateMessageAction(e.detail.element,e.detail.action,e.detail.endCallback))},_.prototype._animateMessageAction=function(e,t,i){var n=this._isPresentationInline()?"general":this._computeDisplay(),o=this._getThemedAnimateOptions(n,t);s[o.effect](e,o).then(i)},_._DEFAULTS={general:{animation:{open:{effect:"expand",duration:"300ms"},close:{effect:"collapse",duration:"300ms"}},position:{my:{horizontal:"center",vertical:"top"},at:{horizontal:"center",vertical:"top"},of:"window",collision:"none"}},notification:{animation:{open:{effect:"slideIn",duration:"300ms"},close:{effect:"slideOut",duration:"300ms",direction:"end"}},position:{my:{horizontal:"end",vertical:"top"},at:{horizontal:"end",vertical:"top"},of:"window",collision:"none"}}},_.prototype._getThemedAnimateOptions=function(e,t){var i=o.parseJSONFromFontFamily("oj-messages-option-defaults");return i&&i[e]&&i[e].animation&&i[e].animation[t]?i[e].animation[t]:_._DEFAULTS[e].animation[t]},_.prototype._computeDisplay=function(){return this._properties.display},_.prototype._isPresentationInline=function(){return!this._properties.position},_.prototype._computeContainerSelectors=function(){var e=this._computeDisplay(),i=t(this._composite);return i.removeClass("oj-messages-general oj-messages-notification oj-messages-inline"),this._isPresentationInline()?i.addClass("oj-messages-inline"):i.addClass(["oj-messages",e].join("-")),"oj-messages-container"},_.prototype._getThemedPosition=function(){var e=this._computeDisplay(),t=o.parseJSONFromFontFamily("oj-messages-option-defaults");return t[e]&&t[e].position?t[e].position:_._DEFAULTS[e].position},_.prototype._getPositionAsJqUi=function(){var t=e.PositionUtils.coerceToJqUi(this._computePosition()),i="rtl"===d.getReadingDirection();return t=e.PositionUtils.normalizeHorizontalAlignment(t,i)},_.prototype._computePosition=function(){var t=this._properties.position;return e.PositionUtils.coerceToJet(t,this._getThemedPosition())},_.prototype._getDefaultSlotMessageElements=function(){for(var e=this._composite.querySelector(`#${this._messagesContainerId}`),t=[],i=m.CustomElementUtils.getSlotMap(e)[""],s=0;i&&s<i.length;s++)"OJ-MESSAGE"!==i[s].nodeName?"OJ-BIND-IF"!==i[s].nodeName&&p.error(`JET oj-messages: can contain only oj-message children in its default slot. Found <${i[s].nodeName}> instead.`):t.push(i[s]);return t},_.prototype._isMessagesShown=function(){return t(this._composite).is(":visible")},_.prototype._showMessages=function(){this._isMessagesShown()||(t(this._composite).show(),l.subtreeShown(t(this._composite))),_.NAVIGATION_TRACKER.add(this._messagesContainerId),this._announceNavigation()},_.prototype._hideMessages=function(){this._isMessagesShown()&&(t(this._composite).hide(),l.subtreeHidden(this._composite),_.NAVIGATION_TRACKER.remove(this._messagesContainerId),this._liveRegion&&(this._liveRegion.destroy(),delete this._liveRegion))},_.prototype._openOverlay=function(){var i=t(this._composite),s={};s[e.PopupService.OPTION.POPUP]=i,s[e.PopupService.OPTION.LAUNCHER]=this._getLauncher(),s[e.PopupService.OPTION.POSITION]=this._getPositionAsJqUi(),s[e.PopupService.OPTION.EVENTS]=this._getPopupServiceEvents(),s[e.PopupService.OPTION.LAYER_SELECTORS]=["oj","messages","layer"].join("-"),s[e.PopupService.OPTION.MODALITY]=e.PopupService.MODALITY.MODELESS,s[e.PopupService.OPTION.CUSTOM_ELEMENT]=!0,e.PopupService.getInstance().open(s),this._showMessages(),this._overlayEventsCallback=_._overlayEventsListener.bind(this,i),i[0].addEventListener("keydown",this._overlayEventsCallback,!1)},_.prototype._getLauncher=function(){var e=this._composite.parentElement;return this._composite.previousElementSibling?e=this._composite.previousElementSibling:this._composite.nextElementSibling&&(e=this._composite.nextElementSibling),t(e)},_.prototype._closeOverlay=function(){this._hideMessages();var i=t(this._composite),s={};s[e.PopupService.OPTION.POPUP]=i,e.PopupService.getInstance().close(s);var n=this._overlayEventsCallback;delete this._overlayEventsCallback,i[0].removeEventListener("keydown",n,!1)},_.prototype._isOverlayOpen=function(){var t=this._composite,i=e.ZOrderUtils.getStatus(t);return i===e.ZOrderUtils.STATUS.OPENING||i===e.ZOrderUtils.STATUS.OPEN||i===e.ZOrderUtils.STATUS.CLOSING},_._overlayEventsListener=function(e,i){if(!i.defaultPrevented&&(i.keyCode===t.ui.keyCode.TAB||"Tab"===i.key)){var s=i.target,n=e.find(":tabbable");if(n.length>0){var o=n[0],a=n[n.length-1];o===a&&s===o?i.preventDefault():o===s&&i.shiftKey?(i.preventDefault(),a.focus()):a!==s||i.shiftKey||(i.preventDefault(),o.focus())}else i.preventDefault()}},_.prototype._navigationEventListener=function(e){e.target.id===this._messagesContainerId&&(e.preventDefault(),this._announceNavigation(!0))},_.prototype._announceNavigation=function(t){var i,s=e.AgentUtils.getAgentInfo().os===e.AgentUtils.OS.IOS||e.AgentUtils.getAgentInfo().os===e.AgentUtils.OS.ANDROID;if(i=t?s?void 0:"ariaLiveRegion.navigationFromKeyboard":s?"ariaLiveRegion.navigationToTouch":"ariaLiveRegion.navigationToKeyboard"){var n=this._getLiveRegion(),o=this._getTranslationsDefault(i);n.announce(o)}},_.prototype._getLiveRegion=function(){var e=this._messagesContainerId;return this._liveRegion||(this._liveRegion=new v(e)),this._liveRegion},_.prototype._getPopupServiceEvents=function(){var t={};return t[e.PopupService.EVENT.POPUP_CLOSE]=this._closeOverlay.bind(this),t[e.PopupService.EVENT.POPUP_REMOVE]=this._surrogateRemoveHandler.bind(this),t[e.PopupService.EVENT.POPUP_REFRESH]=this._refresh.bind(this),t},_.prototype._refresh=function(){if(this._isOverlayOpen()){var e=this._composite.getBoundingClientRect();if(e.height<document.documentElement.clientHeight&&e.width<document.documentElement.clientWidth){var i=this._getPositionAsJqUi();t(this._composite).position(i)}}},_.prototype._surrogateRemoveHandler=function(){this._closeOverlay()},_.prototype._createObservables=function(){this.containerSelectors=i.pureComputed(this._computeContainerSelectors.bind(this),this)},_.prototype._computeLabelLandmark=function(){var t=this._properties;return e.StringUtils.isEmptyOrUndefined(t.translations.labelLandmark)?this._getTranslationsDefault("labelLandmark"):t.translations.labelLandmark},_.prototype._updateLandmark=function(){var e=this._computeLabelLandmark();this._composite.setAttribute("aria-label",e),this._composite.setAttribute("role","complementary")},_.NAVIGATION_TRACKER={_messagesContainerIds:[],_priorFocusCache:{},add:function(e){this.remove(e),this._messagesContainerIds.push(e),this._start(e)},remove:function(e){var t=this._messagesContainerIds,i=t.indexOf(e);i>-1&&t.splice(i,1),this._stop(e)},togglePreviousFocus:function(i){var s=this._priorFocusCache,n=s[i];return!!(n&&t(n).is(":visible")&&e.ZOrderUtils.isAboveTopModalLayer(n))&&(n.focus(),delete s[i],!0)},_addPriorFocusCache:function(e,t){this._priorFocusCache[e]=t},_start:function(e){var i=document.getElementById(e);if(i){var s=this._messageContainerListener.bind(this,e);if(i.addEventListener("focus",s,!0),i.addEventListener("keydown",s,!1),i.addEventListener("click",s,!1),t(i).data("oj_messages_nmtl",s),!this._documentCallback){this._documentCallback=this._documentListener.bind(this);var n=document.documentElement;n.addEventListener("keydown",this._documentCallback,!1),n.addEventListener("blur",this._documentCallback,!0)}}},_stop:function(e){var i=document.getElementById(e);if(i){var s=t(i).data("oj_messages_nmtl");s&&(i.removeEventListener("focus",s,!0),i.removeEventListener("keydown",s,!1),i.removeEventListener("click",s,!1))}if(this._documentCallback&&!(this._messagesContainerIds.length>0)){var n=document.documentElement;n.removeEventListener("keydown",this._documentCallback,!1),n.removeEventListener("blur",this._documentCallback,!0),delete this._documentCallback}},_indexOfFocusWithin:function(e){for(var t=this._messagesContainerIds,i=0;i<t.length;i++){var s=document.getElementById(t[i]);if(s&&d.isAncestorOrSelf(s,e))return i}return-1},_documentListener:function(i){if(!i.defaultPrevented){var s=this._messagesContainerIds;if("keydown"===i.type&&(117===i.keyCode||"F6"===i.key)&&s.length>0){var n=this._indexOfFocusWithin(i.target);if(n>-1)return;for(var o=n=s.length-1;o>-1;o--){var a=document.getElementById(s[o]);if(a&&t(a).is(":visible")&&e.ZOrderUtils.isAboveTopModalLayer(a)){var r=a.querySelector('.oj-message-title[tabindex="-1"]');i.preventDefault(),this._addPriorFocusCache(s[o],i.target),r.focus();var l=new CustomEvent("ojFocus",{bubbles:!1,cancelable:!0});a.dispatchEvent(l);break}}}else"blur"===i.type&&(this._prevActiveElement=i.target)}},_messageContainerListener:function(e,i){if(!i.defaultPrevented)if("focus"===i.type||"click"===i.type){var s=document.getElementById(e),n=this._prevActiveElement;n&&s&&!d.isAncestorOrSelf(s,n)&&this._addPriorFocusCache(e,n)}else"keydown"!==i.type||117!==i.keyCode&&i.keyCode!==t.ui.keyCode.ESCAPE&&"F6"!==i.key&&"Escape"!==i.key||this.togglePreviousFocus(e)&&i.preventDefault()}},v.prototype.Init=function(e){this._id=e},v.prototype.destroy=function(){var e=t(document.getElementById(v._LIVE_REGION_ID)),i=this._id;delete this._id,e.find('div[data-container-id="'+i+'"]').remove(),e.children("div").length<1&&e.remove()},v.prototype.announce=function(e){var i=v._getLiveRegion(),s=this._id;t("<div>").attr("data-container-id",s).text(e).appendTo(i)},v._getLiveRegion=function(){var e=t(document.getElementById(v._LIVE_REGION_ID));return 0===e.length&&((e=t("<div>")).attr({id:v._LIVE_REGION_ID,role:"log","aria-live":"polite","aria-relevant":"additions"}),e.addClass("oj-helper-hidden-accessible"),e.appendTo(document.body)),e},v._LIVE_REGION_ID="__oj_messages_arialiveregion";r.register("oj-messages",{view:'<div role="presentation" :id="[[containerId]]" :class="[[containerSelectors]]"      on-oj-open="[[handleOpen]]" on-oj-close="[[handleClose]]"      on-oj-animate-start="[[handleAnimateStart]]">  <oj-bind-if test="[[!$properties.messages]]">    <oj-bind-slot>    </oj-bind-slot>  </oj-bind-if>  <oj-bind-if test="[[$properties.messages]]">    <oj-bind-for-each data="[[$properties.messages]]" >      <template>        <oj-bind-template-slot name="messageTemplate"           data="[[{data:$current.data, componentElement:_composite}]]">          <template>            <oj-message message="[[$current.data]]" display-options="[[$properties.displayOptions]]">            </oj-message>          </template>        </oj-bind-template-slot>      </template>    </oj-bind-for-each>  </oj-bind-if></div>',viewModel:_,metadata:{properties:{display:{type:"string",enumValues:["general","notification"],value:"general"},displayOptions:{type:"object",properties:{category:{type:"string",enumValues:["auto","header","none"],value:"auto"}}},messages:{type:"Array<Object>|object"},position:{type:"object",properties:{at:{type:"object",properties:{horizontal:{type:"string",enumValues:["center","end","left","right","start"]},vertical:{type:"string",enumValues:["bottom","center","top"]}}},collision:{type:"string",enumValues:["fit","flip","flipfit","none"]},my:{type:"object",properties:{horizontal:{type:"string",enumValues:["center","end","left","right","start"]},vertical:{type:"string",enumValues:["bottom","center","top"]}}},of:{type:"string"},offset:{type:"object",properties:{x:{type:"number"},y:{type:"number"}}}}},translations:{type:"object",value:{},properties:{ariaLiveRegion:{type:"object",properties:{navigationFromKeyboard:{type:"string"},navigationToKeyboard:{type:"string"},navigationToTouch:{type:"string"},newMessage:{type:"string"},noDetail:{type:"string"}}},labelLandmark:{type:"string"}}}},methods:{close:{},closeAll:{},getProperty:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},extension:{}}})});
//# sourceMappingURL=ojmessages.js.map;

define('css!dashboard/wallet-peek/wallet-peek-styles',[],function(){});

define('css!dashboard/watch-list/watch-list-styles',[],function(){});
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojdrawerutils',["exports","ojs/ojdomutils"],function(t,e){"use strict";const r=oj;class i{static get DrawerLayoutStyleSurrogate(){return`${this.stringOjDrawer}${this.charDash}layout${this.charDash}${this.stringSurrogate}`}static get DrawerPopupStyleSurrogate(){return`${this.stringOjDrawer}${this.charDash}popup${this.charDash}${this.stringSurrogate}`}static styleDisplayMode(t){return`${this.stringOjDrawer}${this.charDash}${t}`}static get styleOpened(){return`${this.stringOjDrawer}${this.charDash}${this.stringOpened}`}static get styleFixedInViewport(){return`${this.stringOjDrawer}${this.charDash}fixed-in-viewport`}static get styleDrawerHidden(){return`${this.stringOjDrawer}${this.charDash}hidden`}static get clippingAreaSelector(){return`${this.stringOjDrawer}${this.charDash}${this.stringClippingArea}`}static get styleStartDrawer(){return`${this.stringOjDrawer}${this.charDash}${this.stringStart}`}static get styleEndDrawer(){return`${this.stringOjDrawer}${this.charDash}${this.stringEnd}`}static get styleBottomDrawer(){return`${this.stringOjDrawer}${this.charDash}${this.stringBottom}`}static get middleSectionSelector(){return`${this.stringOjDrawer}${this.charDash}${this.stringMiddleSection}`}static get mainContentSelector(){return`${this.stringOjDrawer}${this.charDash}${this.stringMainContent}`}static get styleReflow(){return`${this.stringOjDrawer}${this.charDash}${this.stringReflow}`}static get styleOverlay(){return`${this.stringOjDrawer}${this.charDash}${this.stringOverlay}`}}i.displayTypeChangeThreshold=1024,i.fullWidthDrawerChangeThreshold=600,i.fullHeightDrawerChangeThreshold=600,i.charDash="-",i.charSpace=" ",i.stringOjDrawer="oj-drawer",i.stringStart="start",i.stringEnd="end",i.stringTop="top",i.stringBottom="bottom",i.stringMiddleSection="layout-middle-section",i.stringMainContent="layout-main-content",i.stringClippingArea="clipping-area",i.stringStyleClassDisableOverflow="oj-drawer-disable-body-overflow",i.stringSurrogate="surrogate",i.stringOpened="opened",i.stringClosed="closed",i.stringClosedWithEsc="ClosedWithEsc",i.stringShouldChangeDisplayMode="ShouldChangeDisplayMode",i.stringStateToChangeTo="StateToChangeTo",i.stringPrevState="PrevState",i.stringReflow="reflow",i.stringOverlay="overlay",i.stringFullOverlay="full-overlay",i.stringDisplay="Display",i.stringResize="resize",i.stringLeft="left",i.stringRight="right",i.stringOpen="open",i.stringClose="close",i.stringSlideIn="slideIn",i.stringSlideOut="slideOut",i.stringWidth="width",i.stringHeight="height",i.animationDuration=300,i.keys={ESC:"Escape",TAB:"Tab"};class s{static capitalizeFirstChar(t){return t.charAt(0).toUpperCase()+t.slice(1)}static disableBodyOverflow(){document.body.classList.add(i.stringStyleClassDisableOverflow)}static enableBodyOverflow(){document.body.classList.remove(i.stringStyleClassDisableOverflow)}static getElement(t){return document.querySelector(t)}static getElementHeight(t){return Math.round(t.offsetHeight)}static getElementWidth(t){return Math.round(t.getBoundingClientRect().width)}static getFocusables(t){const e=["button","[href]","input","select","textarea","[tabindex]","video"],r=e.length;let i="";for(let t=0;t<r;t++){const s=`${e[t]}:not([tabindex="-1"]):not([disabled]):not([hidden])`;i+=t<r-1?`${s}, `:`${s}`}return Array.from(t.querySelectorAll(i)).filter(t=>!this.isHidden(t))}static isHidden(t){if(null===t.offsetParent)return!0;return"hidden"===window.getComputedStyle(t).visibility}static isFocusable(t){return!(!t||!t.parentElement)&&s.getFocusables(t.parentElement).some(e=>e===t)}static isObjectEmpty(t){return"object"!=typeof t||0===Object.keys(t).length&&t.constructor===Object}static isRTL(){return"rtl"===e.getReadingDirection()}static getAnimationOptions(t,e){let r;switch(e){case i.stringStart:r=t===i.stringSlideIn?this.isRTL()?i.stringLeft:i.stringRight:t===i.stringSlideOut?this.isRTL()?i.stringRight:i.stringLeft:i.stringWidth;break;case i.stringEnd:r=t===i.stringSlideIn?this.isRTL()?i.stringRight:i.stringLeft:t===i.stringSlideOut?this.isRTL()?i.stringLeft:i.stringRight:i.stringWidth;break;case i.stringBottom:r=t===i.stringSlideIn?i.stringTop:t===i.stringSlideOut?i.stringBottom:i.stringHeight}return{direction:r,duration:`${i.animationDuration}ms`}}static getCommonStyleClasses(t){return{[i.styleStartDrawer]:t===i.stringStart,[i.styleEndDrawer]:t===i.stringEnd,[i.styleBottomDrawer]:t===i.stringBottom}}static getStyleClassesMapAsString(t){let e="";for(let r in t)t[r]&&(e+=e?i.charSpace+r:r);return e}static getViewportWidth(){return r.AgentUtils.getAgentInfo().os===r.AgentUtils.OS.IOS?document.documentElement.clientWidth:window.innerWidth}static getViewportHeight(){return r.AgentUtils.getAgentInfo().os===r.AgentUtils.OS.IOS?document.documentElement.clientHeight:window.innerHeight}static moveFocusToElementOrNearestAncestor(t){if(s.isFocusable(t))t.focus();else{let e=t.parentElement;for(;e&&"HTML"!==e.nodeName&&!s.isFocusable(e);)e=e.parentElement;e&&e.focus()}}static wrapDrawerWithClippingArea(t,e){const r=$(t).wrap(function(){return`<div id="${i.clippingAreaSelector}" style="overflow:hidden; position: absolute"></div>`}).parent()[0];r.style.setProperty("height",s.getElementHeight(t)+"px"),r.style.setProperty("width",s.getElementWidth(t)+"px"),$(r).position(e),t.style.setProperty("position","static")}static unwrapDrawerClippingArea(t){t.style.removeProperty("position"),$(t).unwrap()}}t.DrawerConstants=i,t.DrawerUtils=s,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ojdrawerutils.js.map;
/**
 * @license
 * Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojdrawerpopup',["exports","preact/jsx-runtime","ojs/ojvcomponent","preact","jquery","ojs/ojanimation","ojs/ojcore-base","ojs/ojpopup","ojs/ojdrawerutils","hammerjs"],function(e,t,s,r,o,i,n,a,l,p){"use strict";o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o,p=p&&Object.prototype.hasOwnProperty.call(p,"default")?p.default:p;var d,h=function(e,t,s,r){var o,i=arguments.length,n=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,s,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(n=(i<3?o(n):i>3?o(t,s,n):o(t,s))||n);return i>3&&n&&Object.defineProperty(t,s,n),n};const c=oj,u=oj.PopupService,w=window,g=oj.ZOrderUtils;e.DrawerPopup=d=class extends r.Component{constructor(){super(...arguments),this.state={opened:this.props.opened,viewportResolvedDisplayMode:this.getViewportResolvedDisplayMode(),viewportResolvedDisplayModeVertical:this.getViewportResolvedDisplayModeVertical()},this.rootRef=r.createRef(),this.isShiftKeyActive=!1,this.windowResizeHandler=null,this.ignoreUpdate=!1,this.handleKeyDown=e=>{if(e.key===l.DrawerConstants.keys.ESC)return void this.selfClose();const t=l.DrawerUtils.getFocusables(this.rootRef.current);if(e.key===l.DrawerConstants.keys.TAB&&"modal"===this.props.modality){this.isShiftKeyActive=e.shiftKey;const{length:s,0:r,[s-1]:o}=t;if(!s)return e.preventDefault(),void this.rootRef.current.focus();if(e.shiftKey){if(document.activeElement===r)return e.preventDefault(),void o.focus()}else if(document.activeElement===o)return e.preventDefault(),void r.focus()}},this.autoDismissHandler=e=>{const t=l.DrawerUtils.getFocusables(this.rootRef.current),s=this.rootRef.current.parentNode,r=this.isTargetDescendantOfOwnZorderLayerOrItsNextSiblings(s,e.target);if("focus-loss"===this.props.autoDismiss){if("focus"===e.type&&"modal"===this.props.modality&&!r){e.preventDefault();const s=e.relatedTarget,r=t[0],o=t[t.length-1];return void(s===r?o.focus():r.focus())}r||this.selfClose()}else"none"!==this.props.autoDismiss||"modal"!==this.props.modality||r||e.preventDefault()},this.refreshHandler=e=>{u.getInstance().triggerOnDescendents(o(this.rootRef.current),u.EVENT.POPUP_REFRESH)},this.destroyHandler=()=>{const e=o(this.rootRef.current);if(g.getStatus(e)===g.STATUS.OPEN){const t={};t[u.OPTION.POPUP]=e,this.ignoreUpdate=!0,u.getInstance().close(t)}},this.isTargetDescendantOfOwnZorderLayerOrItsNextSiblings=(e,t)=>{const s=[e];let r=e.nextSibling;for(;r;)s.push(r),r=r.nextSibling;return s.some(e=>e.contains(t))},this.windowResizeCallback=()=>{const e={},t=this.state.viewportResolvedDisplayMode,s=this.getViewportResolvedDisplayMode();t!==s&&(e.viewportResolvedDisplayMode=s);const r=this.state.viewportResolvedDisplayModeVertical,o=this.getViewportResolvedDisplayModeVertical();r!==o&&(e.viewportResolvedDisplayModeVertical=o),this.isDrawerOpened()&&t===l.DrawerConstants.stringFullOverlay&&s===l.DrawerConstants.stringOverlay&&(this.isIOSspecificScrollCase()?this.applyPopupServiceModalChanges("modeless"):this.isAndroidSpecificScrollCase()&&l.DrawerUtils.enableBodyOverflow()),this.isDrawerOpened()&&t===l.DrawerConstants.stringOverlay&&s===l.DrawerConstants.stringFullOverlay&&(this.isIOSspecificScrollCase()?this.applyPopupServiceModalChanges("modal"):this.isAndroidSpecificScrollCase()&&l.DrawerUtils.disableBodyOverflow()),Object.keys(e).length>0&&this.setState(e)},this.handleSwipeAction=()=>{this.selfClose()}}static getDerivedStateFromProps(e,t){return e.opened!==t.opened?{opened:e.opened}:null}render(e){return this.ignoreUpdate||!this.isDrawerOpened()&&!this.wasDrawerOpenedInPrevState()?t.jsx(s.Root,{}):t.jsx(s.Root,{ref:this.rootRef,class:this.getPopupStyleClasses(this.props.edge),tabIndex:-1,role:this.props.role||"dialog",onKeyDown:this.handleKeyDown,children:t.jsx("div",{class:"oj-drawer-full-height",children:e.children})})}isDrawerOpened(){return this.state[l.DrawerConstants.stringOpened]}wasDrawerOpenedInPrevState(){return this.openedPrevState}async selfClose(){try{await(this.props.onOjBeforeClose?.())}catch(e){return}this.props.onOpenedChanged?.(!1)}openOrCloseDrawer(e){this.isDrawerOpened()!=e.opened&&(this.openedPrevState=this.isDrawerOpened());const t=o(this.rootRef.current),s=u.getInstance(),r=this.getPopupServiceOptions(e);this.isDrawerOpened()?[g.STATUS.CLOSE,g.STATUS.UNKNOWN].indexOf(g.getStatus(t)>-1)&&s.open(r):g.getStatus(t)===g.STATUS.OPEN&&(this.isIOSspecificScrollCase()&&this.getViewportResolvedDisplayMode()===l.DrawerConstants.stringFullOverlay&&this.applyPopupServiceModalChanges("modeless"),s.close(r))}getPopupServiceOptions(e){const t=this.props.edge,s=o(this.rootRef.current),r={},i=u.OPTION;r[i.POPUP]=s,r[i.LAUNCHER]=o(document.activeElement),r[i.MODALITY]=this.props.modality,r[i.LAYER_SELECTORS]=this.getDrawerSurrogateLayerSelectors(),r[i.LAYER_LEVEL]=u.LAYER_LEVEL.TOP_LEVEL,r[i.POSITION]=null,r[i.CUSTOM_ELEMENT]=!0;const n=u.EVENT;return r[i.EVENTS]={[n.POPUP_BEFORE_OPEN]:()=>this.beforeOpenHandler(t,r),[n.POPUP_AFTER_OPEN]:()=>this.afterOpenHandler(t,e),[n.POPUP_BEFORE_CLOSE]:()=>this.beforeCloseHandler(t),[n.POPUP_AFTER_CLOSE]:()=>this.afterCloseHandler(e),[n.POPUP_AUTODISMISS]:e=>this.autoDismissHandler(e),[n.POPUP_REFRESH]:()=>this.refreshHandler(t),[n.POPUP_REMOVE]:()=>this.destroyHandler()},r}beforeOpenHandler(e,t){l.DrawerUtils.disableBodyOverflow(),this.drawerOpener=document.activeElement,t[u.OPTION.POPUP].show();const s=c.Context.getContext(this.rootRef.current).getBusyContext().addBusyState({description:"Animation in progress"}),r=i.slideIn(this.rootRef.current,l.DrawerUtils.getAnimationOptions(l.DrawerConstants.stringSlideIn,e));return r.then(s),r}afterOpenHandler(e,t){l.DrawerUtils.enableBodyOverflow(),this.isIOSspecificScrollCase()&&this.getViewportResolvedDisplayMode()===l.DrawerConstants.stringFullOverlay&&this.applyPopupServiceModalChanges("modal"),this.isAndroidSpecificScrollCase()&&this.getViewportResolvedDisplayMode()===l.DrawerConstants.stringFullOverlay&&l.DrawerUtils.disableBodyOverflow(),this.handleFocus(t);const s=o(this.rootRef.current);if(g.getStatus(s)===g.STATUS.OPEN&&!this.isDrawerOpened()){const e=u.getInstance(),s=this.getPopupServiceOptions(t);e.close(s)}}handleFocus(e){if(this.state.opened&&e.opened!==this.state.opened){const e=this.rootRef.current.querySelectorAll("[autofocus]"),{length:t,0:s}=e;if(t>0)return void s.focus({preventScroll:!0});const r=l.DrawerUtils.getFocusables(this.rootRef.current);let o=this.rootRef.current;r.length&&(o=r[0]),o.focus({preventScroll:!0})}}beforeCloseHandler(e){if(l.DrawerUtils.disableBodyOverflow(),this.elementWithFocusBeforeDrawerCloses=document.activeElement,this.ignoreUpdate)return null;const t=c.Context.getContext(this.rootRef.current).getBusyContext().addBusyState({description:"Animation in progress"});return i.slideOut(this.rootRef.current,l.DrawerUtils.getAnimationOptions(l.DrawerConstants.stringSlideOut,e)).then(t)}afterCloseHandler(e){if(l.DrawerUtils.enableBodyOverflow(),this.rootRef.current.contains(this.elementWithFocusBeforeDrawerCloses)&&l.DrawerUtils.moveFocusToElementOrNearestAncestor(this.drawerOpener),this.ignoreUpdate)return;const t=o(this.rootRef.current);if(g.getStatus(t)===g.STATUS.CLOSE&&this.isDrawerOpened()){const t=u.getInstance(),s=this.getPopupServiceOptions(e);t.open(s)}else this.wasDrawerOpenedInPrevState()||window.queueMicrotask(()=>{this.forceUpdate()})}getDrawerSurrogateLayerSelectors(){let e=l.DrawerConstants.DrawerPopupStyleSurrogate;const t="modal";return this.props.modality===t&&(e+=` ${l.DrawerConstants.stringOjDrawer}${l.DrawerConstants.charDash}${t}`),e}getPopupStyleClasses(e){const t={};return e===l.DrawerConstants.stringBottom?this.getViewportResolvedDisplayModeVertical()!==l.DrawerConstants.stringFullOverlay&&this.getViewportResolvedDisplayMode()!==l.DrawerConstants.stringFullOverlay||(t[l.DrawerConstants.styleDisplayMode(l.DrawerConstants.stringFullOverlay)]=!0):this.getViewportResolvedDisplayMode()===l.DrawerConstants.stringFullOverlay&&(t[l.DrawerConstants.styleDisplayMode(l.DrawerConstants.stringFullOverlay)]=!0),l.DrawerUtils.getStyleClassesMapAsString(Object.assign(t,l.DrawerUtils.getCommonStyleClasses(e)))}componentDidUpdate(e,t){this.ignoreUpdate||this.handleComponentUpdate(t)}componentDidMount(){if(null===this.windowResizeHandler&&(this.windowResizeHandler=this.windowResizeCallback.bind(this)),window.addEventListener(l.DrawerConstants.stringResize,this.windowResizeHandler),this.openedPrevState=this.props.opened,d.defaultProps.opened!=this.props.opened){const e=Object.assign({},this.state);e.opened=!1,this.handleComponentUpdate(e)}}componentWillUnmount(){window.removeEventListener(l.DrawerConstants.stringResize,this.windowResizeHandler),this.windowResizeHandler=null}getViewportResolvedDisplayMode(){return l.DrawerUtils.getViewportWidth()>=l.DrawerConstants.fullWidthDrawerChangeThreshold?l.DrawerConstants.stringOverlay:l.DrawerConstants.stringFullOverlay}getViewportResolvedDisplayModeVertical(){return l.DrawerUtils.getViewportHeight()>=l.DrawerConstants.fullHeightDrawerChangeThreshold?l.DrawerConstants.stringOverlay:l.DrawerConstants.stringFullOverlay}handleComponentUpdate(e){this.openOrCloseDrawer(e),this.isDrawerOpened()&&"swipe"===this.props.closeGesture&&this.registerCloseWithSwipeListener(),!1===this.isDrawerOpened()&&e.opened&&this.unregisterCloseWithSwipeListener()}registerCloseWithSwipeListener(){this.hammerInstance=new p(w),this.props.edge===l.DrawerConstants.stringBottom&&this.hammerInstance.get("swipe").set({direction:p.DIRECTION_DOWN}),this.hammerInstance.on(this.getSwipeCloseDirection(this.props.edge),this.handleSwipeAction)}getSwipeCloseDirection(e){const t="swipeleft",s="swiperight";switch(e){case l.DrawerConstants.stringStart:return l.DrawerUtils.isRTL()?s:t;case l.DrawerConstants.stringEnd:return l.DrawerUtils.isRTL()?t:s;case l.DrawerConstants.stringBottom:return"swipedown"}}unregisterCloseWithSwipeListener(){this.hammerInstance&&this.hammerInstance.off(this.getSwipeCloseDirection(this.props.edge),this.handleSwipeAction)}isIOSspecificScrollCase(){return c.AgentUtils.getAgentInfo().os===c.AgentUtils.OS.IOS&&"modeless"===this.props.modality}isAndroidSpecificScrollCase(){return c.AgentUtils.getAgentInfo().os===c.AgentUtils.OS.ANDROID&&"modeless"===this.props.modality}applyPopupServiceModalChanges(e){const t={},s=u.OPTION;t[s.POPUP]=o(this.rootRef.current),t[s.MODALITY]=e,u.getInstance().changeOptions(t)}},e.DrawerPopup.defaultProps={autoDismiss:"focus-loss",edge:"start",modality:"modal",opened:!1,closeGesture:"swipe"},e.DrawerPopup._metadata={slots:{"":{}},properties:{opened:{type:"boolean",writeback:!0},edge:{type:"string",enumValues:["end","start","bottom"]},modality:{type:"string",enumValues:["modal","modeless"]},autoDismiss:{type:"string",enumValues:["none","focus-loss"]},closeGesture:{type:"string",enumValues:["none","swipe"]}},events:{ojBeforeClose:{cancelable:!0}},extension:{_WRITEBACK_PROPS:["opened"],_READ_ONLY_PROPS:[],_OBSERVED_GLOBAL_PROPS:["role"]}},e.DrawerPopup=d=h([s.customElement("oj-drawer-popup")],e.DrawerPopup),Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojdrawerpopup.js.map;
define("dashboard/wallet-manager/asset-card",["require","exports","preact/jsx-runtime","ojs/ojconverter-number","ojs/ojcolor","ojs/ojcolor","css!dashboard/wallet-manager/wallet-manager-styles.css","ojs/ojbutton","ojs/ojactioncard","ojs/ojcolorspectrum","ojs/ojlistview","ojs/ojlistitemlayout","ojs/ojinputtext","ojs/ojbutton","ojs/ojformlayout","ojs/ojvalidationgroup"],(function(require,e,t,a,s,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AssetCard=void 0,e.AssetCard=function({wassetName:e,wasset:i,prices:o,onCardSelected:r}){if(0===(null==i?void 0:i.length))return(0,t.jsx)(t.Fragment,{});const l=new a.IntlNumberConverter({style:"currency",currency:"USD",currencyDisplay:"symbol",currencyFormat:"standard",decimalFormat:"long",maximumFractionDigits:12}),d=o.find((t=>t.symbol===e)),c=d?d.usd_price:0,u=null==i?void 0:i.reduce(((e,t)=>e+(t.balance?parseFloat(t.balance):0)),0),f=null==i?void 0:i.reduce(((e,t)=>e+(t.balance?parseFloat(t.balance)*c:0)),0);function m(t){var a=t.currentTarget,s=a.getAttribute("data-walletAddress"),n=a.getAttribute("data-assetid");r&&s&&n&&r(s,null!=e?e:"",n,a.id)}return(0,t.jsx)("oj-action-card",Object.assign({id:"acFUSD",class:"oj-bg-neutral-20 oj-md-margin-2x-end oj-md-margin-2x-bottom"},{children:(0,t.jsxs)("div",Object.assign({class:"oj-md-margin-3x card-asset"},{children:[(0,t.jsxs)("div",Object.assign({class:"oj-flex"},{children:[(0,t.jsx)("img",{src:`styles/images/${e}.svg`,class:"card-token"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",Object.assign({class:"oj-text-primary-color oj-typography-subheading-xs"},{children:e})),(0,t.jsx)("div",Object.assign({class:"oj-text-primary-color oj-typography-subheading-xs"},{children:u}))]}),(0,t.jsx)("div",{class:"oj-flex-item"}),(0,t.jsxs)("div",Object.assign({class:"oj-sm-flex-initial oj-flex-item oj-flex oj-text-secondary-color oj-typography-body-sm oj-sm-padding-4x-top"},{children:[(0,t.jsx)("img",{src:"styles/images/fUSDT.svg",class:"card-small-token"}),(0,t.jsx)("span",Object.assign({class:"oj-sm-margin-2x-top"},{children:l.format(null!=f?f:0)}))]}))]})),(0,t.jsx)("div",Object.assign({class:"oj-md-margin-6x-top oj-md-margin-3x-bottom oj-md-margin-3x-start oj-md-margin-3x-end oj-flex"},{children:null==i?void 0:i.map((e=>{var a;return(0,t.jsx)("oj-button",Object.assign({chroming:"borderless",class:"card-wasset",id:`btn-${e.walletName}-${e.asset_id}`,"data-walletAddress":e.walletAddress,"data-assetId":e.asset_id,onClick:m},{children:(0,t.jsxs)("div",Object.assign({class:"oj-flex card-wasset"},{children:[(0,t.jsx)("div",{style:{width:"5px",height:"35px",backgroundColor:(e.walletColor?new n(e.walletColor):s.BLACK).toString()}}),(0,t.jsxs)("div",Object.assign({class:"oj-sm-margin-1x-start"},{children:[(0,t.jsx)("div",Object.assign({class:"oj-text-primary-color oj-typography-body-sm"},{children:e.walletName})),(0,t.jsx)("div",Object.assign({class:"oj-text-secondary-color oj-typography-body-xs",title:e.balance},{children:parseFloat(null!==(a=e.balance)&&void 0!==a?a:"").toFixed(8)}))]}))]}))}))}))}))]}))}))}})),define("dashboard/wallet-manager/bignumber",["require","exports"],(function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BigNumber=void 0;var t=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,a=Math.ceil,s=Math.floor,n="[BigNumber Error] ",i=n+"Number primitive has more than 15 significant digits: ",o=1e14,r=14,l=9007199254740991,d=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],c=1e7,u=1e9;function f(e){var t=0|e;return e>0||e===t?t:t-1}function m(e){for(var t,a,s=1,n=e.length,i=e[0]+"";s<n;){for(t=e[s++]+"",a=r-t.length;a--;t="0"+t);i+=t}for(n=i.length;48===i.charCodeAt(--n););return i.slice(0,n+1||1)}function g(e,t){var a,s,n=e.c,i=t.c,o=e.s,r=t.s,l=e.e,d=t.e;if(!o||!r)return null;if(a=n&&!n[0],s=i&&!i[0],a||s)return a?s?0:-r:o;if(o!=r)return o;if(a=o<0,s=l==d,!n||!i)return s?0:!n^a?1:-1;if(!s)return l>d^a?1:-1;for(r=(l=n.length)<(d=i.length)?l:d,o=0;o<r;o++)if(n[o]!=i[o])return n[o]>i[o]^a?1:-1;return l==d?0:l>d^a?1:-1}function h(e,t,a,i){if(e<t||e>a||e!==s(e))throw Error(n+(i||"Argument")+("number"==typeof e?e<t||e>a?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function v(e){var t=e.c.length-1;return f(e.e/r)==t&&e.c[t]%2!=0}function p(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function j(e,t,a){var s,n;if(t<0){for(n=a+".";++t;n+=a);e=n+e}else if(++t>(s=e.length)){for(n=a,t-=s;--t;n+=a);e+=n}else t<s&&(e=e.slice(0,t)+"."+e.slice(t));return e}e.BigNumber=function e(b){var w,y,x,_,T,A,N,O,S,E,k=$.prototype={constructor:$,toString:null,valueOf:null},C=new $(1),D=20,L=4,W=-7,F=21,P=-1e7,I=1e7,U=!1,R=1,M=0,B={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},H="0123456789abcdefghijklmnopqrstuvwxyz",G=!0;function $(e,a){var n,o,d,c,u,f,m,g,v=this;if(!(v instanceof $))return new $(e,a);if(null==a){if(e&&!0===e._isBigNumber)return v.s=e.s,void(!e.c||e.e>I?v.c=v.e=null:e.e<P?v.c=[v.e=0]:(v.e=e.e,v.c=e.c.slice()));if((f="number"==typeof e)&&0*e==0){if(v.s=1/e<0?(e=-e,-1):1,e===~~e){for(c=0,u=e;u>=10;u/=10,c++);return void(c>I?v.c=v.e=null:(v.e=c,v.c=[e]))}g=String(e)}else{if(!t.test(g=String(e)))return x(v,g,f);v.s=45==g.charCodeAt(0)?(g=g.slice(1),-1):1}(c=g.indexOf("."))>-1&&(g=g.replace(".","")),(u=g.search(/e/i))>0?(c<0&&(c=u),c+=+g.slice(u+1),g=g.substring(0,u)):c<0&&(c=g.length)}else{if(h(a,2,H.length,"Base"),10==a&&G)return V(v=new $(e),D+v.e+1,L);if(g=String(e),f="number"==typeof e){if(0*e!=0)return x(v,g,f,a);if(v.s=1/e<0?(g=g.slice(1),-1):1,$.DEBUG&&g.replace(/^0\.0*|\./,"").length>15)throw Error(i+e)}else v.s=45===g.charCodeAt(0)?(g=g.slice(1),-1):1;for(n=H.slice(0,a),c=u=0,m=g.length;u<m;u++)if(n.indexOf(o=g.charAt(u))<0){if("."==o){if(u>c){c=m;continue}}else if(!d&&(g==g.toUpperCase()&&(g=g.toLowerCase())||g==g.toLowerCase()&&(g=g.toUpperCase()))){d=!0,u=-1,c=0;continue}return x(v,String(e),f,a)}f=!1,(c=(g=y(g,a,10,v.s)).indexOf("."))>-1?g=g.replace(".",""):c=g.length}for(u=0;48===g.charCodeAt(u);u++);for(m=g.length;48===g.charCodeAt(--m););if(g=g.slice(u,++m)){if(m-=u,f&&$.DEBUG&&m>15&&(e>l||e!==s(e)))throw Error(i+v.s*e);if((c=c-u-1)>I)v.c=v.e=null;else if(c<P)v.c=[v.e=0];else{if(v.e=c,v.c=[],u=(c+1)%r,c<0&&(u+=r),u<m){for(u&&v.c.push(+g.slice(0,u)),m-=r;u<m;)v.c.push(+g.slice(u,u+=r));u=r-(g=g.slice(u)).length}else u-=m;for(;u--;g+="0");v.c.push(+g)}}else v.c=[v.e=0]}function q(e,t,a,s){var n,i,o,r,l;if(null==a?a=L:h(a,0,8),!e.c)return e.toString();if(n=e.c[0],o=e.e,null==t)l=m(e.c),l=1==s||2==s&&(o<=W||o>=F)?p(l,o):j(l,o,"0");else if(i=(e=V(new $(e),t,a)).e,r=(l=m(e.c)).length,1==s||2==s&&(t<=i||i<=W)){for(;r<t;l+="0",r++);l=p(l,i)}else if(t-=o,l=j(l,i,"0"),i+1>r){if(--t>0)for(l+=".";t--;l+="0");}else if((t+=i-r)>0)for(i+1==r&&(l+=".");t--;l+="0");return e.s<0&&n?"-"+l:l}function K(e,t){for(var a,s,n=1,i=new $(e[0]);n<e.length;n++)(!(s=new $(e[n])).s||(a=g(i,s))===t||0===a&&i.s===t)&&(i=s);return i}function z(e,t,a){for(var s=1,n=t.length;!t[--n];t.pop());for(n=t[0];n>=10;n/=10,s++);return(a=s+a*r-1)>I?e.c=e.e=null:a<P?e.c=[e.e=0]:(e.e=a,e.c=t),e}function V(e,t,n,i){var l,c,u,f,m,g,h,v=e.c,p=d;if(v){e:{for(l=1,f=v[0];f>=10;f/=10,l++);if((c=t-l)<0)c+=r,u=t,m=v[g=0],h=s(m/p[l-u-1]%10);else if((g=a((c+1)/r))>=v.length){if(!i)break e;for(;v.length<=g;v.push(0));m=h=0,l=1,u=(c%=r)-r+1}else{for(m=f=v[g],l=1;f>=10;f/=10,l++);h=(u=(c%=r)-r+l)<0?0:s(m/p[l-u-1]%10)}if(i=i||t<0||null!=v[g+1]||(u<0?m:m%p[l-u-1]),i=n<4?(h||i)&&(0==n||n==(e.s<0?3:2)):h>5||5==h&&(4==n||i||6==n&&(c>0?u>0?m/p[l-u]:0:v[g-1])%10&1||n==(e.s<0?8:7)),t<1||!v[0])return v.length=0,i?(t-=e.e+1,v[0]=p[(r-t%r)%r],e.e=-t||0):v[0]=e.e=0,e;if(0==c?(v.length=g,f=1,g--):(v.length=g+1,f=p[r-c],v[g]=u>0?s(m/p[l-u]%p[u])*f:0),i)for(;;){if(0==g){for(c=1,u=v[0];u>=10;u/=10,c++);for(u=v[0]+=f,f=1;u>=10;u/=10,f++);c!=f&&(e.e++,v[0]==o&&(v[0]=1));break}if(v[g]+=f,v[g]!=o)break;v[g--]=0,f=1}for(c=v.length;0===v[--c];v.pop());}e.e>I?e.c=e.e=null:e.e<P&&(e.c=[e.e=0])}return e}function Y(e){var t,a=e.e;return null===a?e.toString():(t=m(e.c),t=a<=W||a>=F?p(t,a):j(t,a,"0"),e.s<0?"-"+t:t)}return $.clone=e,$.ROUND_UP=0,$.ROUND_DOWN=1,$.ROUND_CEIL=2,$.ROUND_FLOOR=3,$.ROUND_HALF_UP=4,$.ROUND_HALF_DOWN=5,$.ROUND_HALF_EVEN=6,$.ROUND_HALF_CEIL=7,$.ROUND_HALF_FLOOR=8,$.EUCLID=9,$.config=$.set=function(e){var t,a;if(null!=e){if("object"!=typeof e)throw Error(n+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(h(a=e[t],0,u,t),D=a),e.hasOwnProperty(t="ROUNDING_MODE")&&(h(a=e[t],0,8,t),L=a),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((a=e[t])&&a.pop?(h(a[0],-u,0,t),h(a[1],0,u,t),W=a[0],F=a[1]):(h(a,-u,u,t),W=-(F=a<0?-a:a))),e.hasOwnProperty(t="RANGE"))if((a=e[t])&&a.pop)h(a[0],-u,-1,t),h(a[1],1,u,t),P=a[0],I=a[1];else{if(h(a,-u,u,t),!a)throw Error(n+t+" cannot be zero: "+a);P=-(I=a<0?-a:a)}if(e.hasOwnProperty(t="CRYPTO")){if((a=e[t])!==!!a)throw Error(n+t+" not true or false: "+a);if(a){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw U=!a,Error(n+"crypto unavailable");U=a}else U=a}if(e.hasOwnProperty(t="MODULO_MODE")&&(h(a=e[t],0,9,t),R=a),e.hasOwnProperty(t="POW_PRECISION")&&(h(a=e[t],0,u,t),M=a),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(a=e[t]))throw Error(n+t+" not an object: "+a);B=a}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(a=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(a))throw Error(n+t+" invalid: "+a);G="0123456789"==a.slice(0,10),H=a}}return{DECIMAL_PLACES:D,ROUNDING_MODE:L,EXPONENTIAL_AT:[W,F],RANGE:[P,I],CRYPTO:U,MODULO_MODE:R,POW_PRECISION:M,FORMAT:B,ALPHABET:H}},$.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!$.DEBUG)return!0;var t,a,i=e.c,l=e.e,d=e.s;e:if("[object Array]"=={}.toString.call(i)){if((1===d||-1===d)&&l>=-u&&l<=u&&l===s(l)){if(0===i[0]){if(0===l&&1===i.length)return!0;break e}if((t=(l+1)%r)<1&&(t+=r),String(i[0]).length==t){for(t=0;t<i.length;t++)if((a=i[t])<0||a>=o||a!==s(a))break e;if(0!==a)return!0}}}else if(null===i&&null===l&&(null===d||1===d||-1===d))return!0;throw Error(n+"Invalid BigNumber: "+e)},$.maximum=$.max=function(){return K(arguments,-1)},$.minimum=$.min=function(){return K(arguments,1)},$.random=(_=9007199254740992,T=Math.random()*_&2097151?function(){return s(Math.random()*_)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,i,o,l,c,f=0,m=[],g=new $(C);if(null==e?e=D:h(e,0,u),l=a(e/r),U)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(l*=2));f<l;)(c=131072*t[f]+(t[f+1]>>>11))>=9e15?(i=crypto.getRandomValues(new Uint32Array(2)),t[f]=i[0],t[f+1]=i[1]):(m.push(c%1e14),f+=2);f=l/2}else{if(!crypto.randomBytes)throw U=!1,Error(n+"crypto unavailable");for(t=crypto.randomBytes(l*=7);f<l;)(c=281474976710656*(31&t[f])+1099511627776*t[f+1]+4294967296*t[f+2]+16777216*t[f+3]+(t[f+4]<<16)+(t[f+5]<<8)+t[f+6])>=9e15?crypto.randomBytes(7).copy(t,f):(m.push(c%1e14),f+=7);f=l/7}if(!U)for(;f<l;)(c=T())<9e15&&(m[f++]=c%1e14);for(l=m[--f],e%=r,l&&e&&(c=d[r-e],m[f]=s(l/c)*c);0===m[f];m.pop(),f--);if(f<0)m=[o=0];else{for(o=-1;0===m[0];m.splice(0,1),o-=r);for(f=1,c=m[0];c>=10;c/=10,f++);f<r&&(o-=r-f)}return g.e=o,g.c=m,g}),$.sum=function(){for(var e=1,t=arguments,a=new $(t[0]);e<t.length;)a=a.plus(t[e++]);return a},y=function(){var e="0123456789";function t(e,t,a,s){for(var n,i,o=[0],r=0,l=e.length;r<l;){for(i=o.length;i--;o[i]*=t);for(o[0]+=s.indexOf(e.charAt(r++)),n=0;n<o.length;n++)o[n]>a-1&&(null==o[n+1]&&(o[n+1]=0),o[n+1]+=o[n]/a|0,o[n]%=a)}return o.reverse()}return function(a,s,n,i,o){var r,l,d,c,u,f,g,h,v=a.indexOf("."),p=D,b=L;for(v>=0&&(c=M,M=0,a=a.replace(".",""),f=(h=new $(s)).pow(a.length-v),M=c,h.c=t(j(m(f.c),f.e,"0"),10,n,e),h.e=h.c.length),d=c=(g=t(a,s,n,o?(r=H,e):(r=e,H))).length;0==g[--c];g.pop());if(!g[0])return r.charAt(0);if(v<0?--d:(f.c=g,f.e=d,f.s=i,g=(f=w(f,h,p,b,n)).c,u=f.r,d=f.e),v=g[l=d+p+1],c=n/2,u=u||l<0||null!=g[l+1],u=b<4?(null!=v||u)&&(0==b||b==(f.s<0?3:2)):v>c||v==c&&(4==b||u||6==b&&1&g[l-1]||b==(f.s<0?8:7)),l<1||!g[0])a=u?j(r.charAt(1),-p,r.charAt(0)):r.charAt(0);else{if(g.length=l,u)for(--n;++g[--l]>n;)g[l]=0,l||(++d,g=[1].concat(g));for(c=g.length;!g[--c];);for(v=0,a="";v<=c;a+=r.charAt(g[v++]));a=j(a,d,r.charAt(0))}return a}}(),w=function(){function e(e,t,a){var s,n,i,o,r=0,l=e.length,d=t%c,u=t/c|0;for(e=e.slice();l--;)r=((n=d*(i=e[l]%c)+(s=u*i+(o=e[l]/c|0)*d)%c*c+r)/a|0)+(s/c|0)+u*o,e[l]=n%a;return r&&(e=[r].concat(e)),e}function t(e,t,a,s){var n,i;if(a!=s)i=a>s?1:-1;else for(n=i=0;n<a;n++)if(e[n]!=t[n]){i=e[n]>t[n]?1:-1;break}return i}function a(e,t,a,s){for(var n=0;a--;)e[a]-=n,n=e[a]<t[a]?1:0,e[a]=n*s+e[a]-t[a];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(n,i,l,d,c){var u,m,g,h,v,p,j,b,w,y,x,_,T,A,N,O,S,E=n.s==i.s?1:-1,k=n.c,C=i.c;if(!(k&&k[0]&&C&&C[0]))return new $(n.s&&i.s&&(k?!C||k[0]!=C[0]:C)?k&&0==k[0]||!C?0*E:E/0:NaN);for(w=(b=new $(E)).c=[],E=l+(m=n.e-i.e)+1,c||(c=o,m=f(n.e/r)-f(i.e/r),E=E/r|0),g=0;C[g]==(k[g]||0);g++);if(C[g]>(k[g]||0)&&m--,E<0)w.push(1),h=!0;else{for(A=k.length,O=C.length,g=0,E+=2,(v=s(c/(C[0]+1)))>1&&(C=e(C,v,c),k=e(k,v,c),O=C.length,A=k.length),T=O,x=(y=k.slice(0,O)).length;x<O;y[x++]=0);S=C.slice(),S=[0].concat(S),N=C[0],C[1]>=c/2&&N++;do{if(v=0,(u=t(C,y,O,x))<0){if(_=y[0],O!=x&&(_=_*c+(y[1]||0)),(v=s(_/N))>1)for(v>=c&&(v=c-1),j=(p=e(C,v,c)).length,x=y.length;1==t(p,y,j,x);)v--,a(p,O<j?S:C,j,c),j=p.length,u=1;else 0==v&&(u=v=1),j=(p=C.slice()).length;if(j<x&&(p=[0].concat(p)),a(y,p,x,c),x=y.length,-1==u)for(;t(C,y,O,x)<1;)v++,a(y,O<x?S:C,x,c),x=y.length}else 0===u&&(v++,y=[0]);w[g++]=v,y[0]?y[x++]=k[T]||0:(y=[k[T]],x=1)}while((T++<A||null!=y[0])&&E--);h=null!=y[0],w[0]||w.splice(0,1)}if(c==o){for(g=1,E=w[0];E>=10;E/=10,g++);V(b,l+(b.e=g+m*r-1)+1,d,h)}else b.e=m,b.r=+h;return b}}(),A=/^(-?)0([xbo])(?=\w[\w.]*$)/i,N=/^([^.]+)\.$/,O=/^\.([^.]+)$/,S=/^-?(Infinity|NaN)$/,E=/^\s*\+(?=[\w.])|^\s+|\s+$/g,x=function(e,t,a,s){var i,o=a?t:t.replace(E,"");if(S.test(o))e.s=isNaN(o)?null:o<0?-1:1;else{if(!a&&(o=o.replace(A,(function(e,t,a){return i="x"==(a=a.toLowerCase())?16:"b"==a?2:8,s&&s!=i?e:t})),s&&(i=s,o=o.replace(N,"$1").replace(O,"0.$1")),t!=o))return new $(o,i);if($.DEBUG)throw Error(n+"Not a"+(s?" base "+s:"")+" number: "+t);e.s=null}e.c=e.e=null},k.absoluteValue=k.abs=function(){var e=new $(this);return e.s<0&&(e.s=1),e},k.comparedTo=function(e,t){return g(this,new $(e,t))},k.decimalPlaces=k.dp=function(e,t){var a,s,n,i=this;if(null!=e)return h(e,0,u),null==t?t=L:h(t,0,8),V(new $(i),e+i.e+1,t);if(!(a=i.c))return null;if(s=((n=a.length-1)-f(this.e/r))*r,n=a[n])for(;n%10==0;n/=10,s--);return s<0&&(s=0),s},k.dividedBy=k.div=function(e,t){return w(this,new $(e,t),D,L)},k.dividedToIntegerBy=k.idiv=function(e,t){return w(this,new $(e,t),0,1)},k.exponentiatedBy=k.pow=function(e,t){var i,o,l,d,c,u,f,m,g=this;if((e=new $(e)).c&&!e.isInteger())throw Error(n+"Exponent not an integer: "+Y(e));if(null!=t&&(t=new $(t)),c=e.e>14,!g.c||!g.c[0]||1==g.c[0]&&!g.e&&1==g.c.length||!e.c||!e.c[0])return m=new $(Math.pow(+Y(g),c?e.s*(2-v(e)):+Y(e))),t?m.mod(t):m;if(u=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new $(NaN);(o=!u&&g.isInteger()&&t.isInteger())&&(g=g.mod(t))}else{if(e.e>9&&(g.e>0||g.e<-1||(0==g.e?g.c[0]>1||c&&g.c[1]>=24e7:g.c[0]<8e13||c&&g.c[0]<=9999975e7)))return d=g.s<0&&v(e)?-0:0,g.e>-1&&(d=1/d),new $(u?1/d:d);M&&(d=a(M/r+2))}for(c?(i=new $(.5),u&&(e.s=1),f=v(e)):f=(l=Math.abs(+Y(e)))%2,m=new $(C);;){if(f){if(!(m=m.times(g)).c)break;d?m.c.length>d&&(m.c.length=d):o&&(m=m.mod(t))}if(l){if(0===(l=s(l/2)))break;f=l%2}else if(V(e=e.times(i),e.e+1,1),e.e>14)f=v(e);else{if(0===(l=+Y(e)))break;f=l%2}g=g.times(g),d?g.c&&g.c.length>d&&(g.c.length=d):o&&(g=g.mod(t))}return o?m:(u&&(m=C.div(m)),t?m.mod(t):d?V(m,M,L,undefined):m)},k.integerValue=function(e){var t=new $(this);return null==e?e=L:h(e,0,8),V(t,t.e+1,e)},k.isEqualTo=k.eq=function(e,t){return 0===g(this,new $(e,t))},k.isFinite=function(){return!!this.c},k.isGreaterThan=k.gt=function(e,t){return g(this,new $(e,t))>0},k.isGreaterThanOrEqualTo=k.gte=function(e,t){return 1===(t=g(this,new $(e,t)))||0===t},k.isInteger=function(){return!!this.c&&f(this.e/r)>this.c.length-2},k.isLessThan=k.lt=function(e,t){return g(this,new $(e,t))<0},k.isLessThanOrEqualTo=k.lte=function(e,t){return-1===(t=g(this,new $(e,t)))||0===t},k.isNaN=function(){return!this.s},k.isNegative=function(){return this.s<0},k.isPositive=function(){return this.s>0},k.isZero=function(){return!!this.c&&0==this.c[0]},k.minus=function(e,t){var a,s,n,i,l=this,d=l.s;if(t=(e=new $(e,t)).s,!d||!t)return new $(NaN);if(d!=t)return e.s=-t,l.plus(e);var c=l.e/r,u=e.e/r,m=l.c,g=e.c;if(!c||!u){if(!m||!g)return m?(e.s=-t,e):new $(g?l:NaN);if(!m[0]||!g[0])return g[0]?(e.s=-t,e):new $(m[0]?l:3==L?-0:0)}if(c=f(c),u=f(u),m=m.slice(),d=c-u){for((i=d<0)?(d=-d,n=m):(u=c,n=g),n.reverse(),t=d;t--;n.push(0));n.reverse()}else for(s=(i=(d=m.length)<(t=g.length))?d:t,d=t=0;t<s;t++)if(m[t]!=g[t]){i=m[t]<g[t];break}if(i&&(n=m,m=g,g=n,e.s=-e.s),(t=(s=g.length)-(a=m.length))>0)for(;t--;m[a++]=0);for(t=o-1;s>d;){if(m[--s]<g[s]){for(a=s;a&&!m[--a];m[a]=t);--m[a],m[s]+=o}m[s]-=g[s]}for(;0==m[0];m.splice(0,1),--u);return m[0]?z(e,m,u):(e.s=3==L?-1:1,e.c=[e.e=0],e)},k.modulo=k.mod=function(e,t){var a,s,n=this;return e=new $(e,t),!n.c||!e.s||e.c&&!e.c[0]?new $(NaN):!e.c||n.c&&!n.c[0]?new $(n):(9==R?(s=e.s,e.s=1,a=w(n,e,0,3),e.s=s,a.s*=s):a=w(n,e,0,R),(e=n.minus(a.times(e))).c[0]||1!=R||(e.s=n.s),e)},k.multipliedBy=k.times=function(e,t){var a,s,n,i,l,d,u,m,g,h,v,p,j,b,w,y=this,x=y.c,_=(e=new $(e,t)).c;if(!(x&&_&&x[0]&&_[0]))return!y.s||!e.s||x&&!x[0]&&!_||_&&!_[0]&&!x?e.c=e.e=e.s=null:(e.s*=y.s,x&&_?(e.c=[0],e.e=0):e.c=e.e=null),e;for(s=f(y.e/r)+f(e.e/r),e.s*=y.s,(u=x.length)<(h=_.length)&&(j=x,x=_,_=j,n=u,u=h,h=n),n=u+h,j=[];n--;j.push(0));for(b=o,w=c,n=h;--n>=0;){for(a=0,v=_[n]%w,p=_[n]/w|0,i=n+(l=u);i>n;)a=((m=v*(m=x[--l]%w)+(d=p*m+(g=x[l]/w|0)*v)%w*w+j[i]+a)/b|0)+(d/w|0)+p*g,j[i--]=m%b;j[i]=a}return a?++s:j.splice(0,1),z(e,j,s)},k.negated=function(){var e=new $(this);return e.s=-e.s||null,e},k.plus=function(e,t){var a,s=this,n=s.s;if(t=(e=new $(e,t)).s,!n||!t)return new $(NaN);if(n!=t)return e.s=-t,s.minus(e);var i=s.e/r,l=e.e/r,d=s.c,c=e.c;if(!i||!l){if(!d||!c)return new $(n/0);if(!d[0]||!c[0])return c[0]?e:new $(d[0]?s:0*n)}if(i=f(i),l=f(l),d=d.slice(),n=i-l){for(n>0?(l=i,a=c):(n=-n,a=d),a.reverse();n--;a.push(0));a.reverse()}for((n=d.length)-(t=c.length)<0&&(a=c,c=d,d=a,t=n),n=0;t;)n=(d[--t]=d[t]+c[t]+n)/o|0,d[t]=o===d[t]?0:d[t]%o;return n&&(d=[n].concat(d),++l),z(e,d,l)},k.precision=k.sd=function(e,t){var a,s,n,i=this;if(null!=e&&e!==!!e)return h(e,1,u),null==t?t=L:h(t,0,8),V(new $(i),e,t);if(!(a=i.c))return null;if(s=(n=a.length-1)*r+1,n=a[n]){for(;n%10==0;n/=10,s--);for(n=a[0];n>=10;n/=10,s++);}return e&&i.e+1>s&&(s=i.e+1),s},k.shiftedBy=function(e){return h(e,-9007199254740991,l),this.times("1e"+e)},k.squareRoot=k.sqrt=function(){var e,t,a,s,n,i=this,o=i.c,r=i.s,l=i.e,d=D+4,c=new $("0.5");if(1!==r||!o||!o[0])return new $(!r||r<0&&(!o||o[0])?NaN:o?i:1/0);if(0==(r=Math.sqrt(+Y(i)))||r==1/0?(((t=m(o)).length+l)%2==0&&(t+="0"),r=Math.sqrt(+t),l=f((l+1)/2)-(l<0||l%2),a=new $(t=r==1/0?"5e"+l:(t=r.toExponential()).slice(0,t.indexOf("e")+1)+l)):a=new $(r+""),a.c[0])for((r=(l=a.e)+d)<3&&(r=0);;)if(n=a,a=c.times(n.plus(w(i,n,d,1))),m(n.c).slice(0,r)===(t=m(a.c)).slice(0,r)){if(a.e<l&&--r,"9999"!=(t=t.slice(r-3,r+1))&&(s||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(V(a,a.e+D+2,1),e=!a.times(a).eq(i));break}if(!s&&(V(n,n.e+D+2,0),n.times(n).eq(i))){a=n;break}d+=4,r+=4,s=1}return V(a,a.e+D+1,L,e)},k.toExponential=function(e,t){return null!=e&&(h(e,0,u),e++),q(this,e,t,1)},k.toFixed=function(e,t){return null!=e&&(h(e,0,u),e=e+this.e+1),q(this,e,t)},k.toFormat=function(e,t,a){var s,i=this;if(null==a)null!=e&&t&&"object"==typeof t?(a=t,t=null):e&&"object"==typeof e?(a=e,e=t=null):a=B;else if("object"!=typeof a)throw Error(n+"Argument not an object: "+a);if(s=i.toFixed(e,t),i.c){var o,r=s.split("."),l=+a.groupSize,d=+a.secondaryGroupSize,c=a.groupSeparator||"",u=r[0],f=r[1],m=i.s<0,g=m?u.slice(1):u,h=g.length;if(d&&(o=l,l=d,d=o,h-=o),l>0&&h>0){for(o=h%l||l,u=g.substr(0,o);o<h;o+=l)u+=c+g.substr(o,l);d>0&&(u+=c+g.slice(o)),m&&(u="-"+u)}s=f?u+(a.decimalSeparator||"")+((d=+a.fractionGroupSize)?f.replace(new RegExp("\\d{"+d+"}\\B","g"),"$&"+(a.fractionGroupSeparator||"")):f):u}return(a.prefix||"")+s+(a.suffix||"")},k.toFraction=function(e){var t,a,s,i,o,l,c,u,f,g,h,v,p=this,j=p.c;if(null!=e&&(!(c=new $(e)).isInteger()&&(c.c||1!==c.s)||c.lt(C)))throw Error(n+"Argument "+(c.isInteger()?"out of range: ":"not an integer: ")+Y(c));if(!j)return new $(p);for(t=new $(C),f=a=new $(C),s=u=new $(C),v=m(j),o=t.e=v.length-p.e-1,t.c[0]=d[(l=o%r)<0?r+l:l],e=!e||c.comparedTo(t)>0?o>0?t:f:c,l=I,I=1/0,c=new $(v),u.c[0]=0;g=w(c,t,0,1),1!=(i=a.plus(g.times(s))).comparedTo(e);)a=s,s=i,f=u.plus(g.times(i=f)),u=i,t=c.minus(g.times(i=t)),c=i;return i=w(e.minus(a),s,0,1),u=u.plus(i.times(f)),a=a.plus(i.times(s)),u.s=f.s=p.s,h=w(f,s,o*=2,L).minus(p).abs().comparedTo(w(u,a,o,L).minus(p).abs())<1?[f,s]:[u,a],I=l,h},k.toNumber=function(){return+Y(this)},k.toPrecision=function(e,t){return null!=e&&h(e,1,u),q(this,e,t,2)},k.toString=function(e){var t,a=this,s=a.s,n=a.e;return null===n?s?(t="Infinity",s<0&&(t="-"+t)):t="NaN":(null==e?t=n<=W||n>=F?p(m(a.c),n):j(m(a.c),n,"0"):10===e&&G?t=j(m((a=V(new $(a),D+n+1,L)).c),a.e,"0"):(h(e,2,H.length,"Base"),t=y(j(m(a.c),n,"0"),10,e,s,!0)),s<0&&a.c[0]&&(t="-"+t)),t},k.valueOf=k.toJSON=function(){return Y(this)},k._isBigNumber=!0,k[Symbol.toStringTag]="BigNumber",k[Symbol.for("nodejs.util.inspect.custom")]=k.valueOf,null!=b&&$.set(b),$}(),e.default=e.BigNumber}));var __awaiter=this&&this.__awaiter||function(e,t,a,s){return new(a||(a=Promise))((function(n,i){function o(e){try{l(s.next(e))}catch(e){i(e)}}function r(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,r)}l((s=s.apply(e,t||[])).next())}))};define("dashboard/flamingo-api/api/api-client",["require","exports","axios"],(function(require,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(){this.api=t.default.create({baseURL:"https://neo-api.b-cdn.net"})}getWalletWalletHistory(e,t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/wallet/history",{neo_address:e,page:t})}))}getWalletWalletLatest(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/wallet/latest",{neo_address:e})}))}getWalletClaimsHistory(e,t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/claims/history",{neo_address:e,page:t})}))}getWalletClaimsLatest(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/claims/latest",{neo_address:e})}))}getWalletTradeHistory(e,t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/trade/history",{neo_address:e,page:t})}))}getWalletTradeLatest(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/trade/latest",{neo_address:e})}))}getWalletLpHistory(e,t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/lp/history",{neo_address:e,page:t})}))}getWalletLpLatest(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/lp/latest",{neo_address:e})}))}getWalletStakingHistory(e,t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/staking/history",{neo_address:e,page:t})}))}getWalletStakingLatest(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/staking/latest",{neo_address:e})}))}getWalletLendHistory(e,t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/lend/history",{neo_address:e,page:t})}))}getWalletLendLatest(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/lend/latest",{neo_address:e})}))}getWalletTransferHistory(e,t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/transfer/history",{neo_address:e,page:t})}))}getWalletTransferLatest(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/transfer/latest",{neo_address:e})}))}getFlamingoLivedataPricesLatest(){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/prices/latest",{})}))}getFlamingoLivedataPricesFromblock(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData(`/flamingo/live-data/prices/from-block/${e}`,{})}))}getFlamingoLivedataPricesFromdatetime({year:e,month:t,day:a,hour:s,minute:n}){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData(`/flamingo/live-data/prices/from-datetime/${e}/${t}/${a}/${s}/${n}`,{})}))}getFlamingoLivedataPricesFromtimestamp(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData(`/flamingo/live-data/prices/from-timestamp/${e}`,{})}))}getFlamingoLivedataFiatexchangerate(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData(`/flamingo/live-data/fiat-exchange-rate/${e}`,{})}))}getFlamingoLivedataClaimsHistory(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/claims/history",{page:e})}))}getFlamingoLivedataClaimsLatest(){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/claims/latest",{})}))}getFlamingoLivedataTradeHistory(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/trade/history",{page:e})}))}getFlamingoLivedataTradeLatest(){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/trade/latest",{})}))}getFlamingoLivedataLpHistory(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/lp/history",{page:e})}))}getFlamingoLivedataLpLatest(){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/lp/latest",{})}))}getFlamingoLivedataStakingHistory(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/staking/history",{page:e})}))}getFlamingoLivedataStakingLatest(){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/staking/latest",{})}))}getFlamingoLivedataLendHistory(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/lend/history",{page:e})}))}getFlamingoLivedataLendLatest(){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/lend/latest",{})}))}getFlamingoLivedataTransferHistory(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/transfer/history",{page:e})}))}getFlamingoLivedataTransferLatest(){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/transfer/latest",{})}))}getFlamingoAnalyticsMonthhistory(e,{year:t,month:a}){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData(`/flamingo/analytics/month-history/${e}`,{year:t,month:a})}))}getFlamingoAnalyticsMonthlatest(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData(`/flamingo/analytics/month-latest/${e}`,{})}))}getFlamingoAnalyticsDailyhistory(e,{year:t,month:a,day:s}){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData(`/flamingo/analytics/daily-history/${e}`,{year:t,month:a,day:s})}))}getFlamingoAnalyticsDailylatest(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData(`/flamingo/analytics/daily-latest/${e}`,{})}))}getFlamingoAnalyticsRolling30days(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData(`/flamingo/analytics/rolling-30-days/${e}`,{})}))}getFlamingoAnalyticsFlamingoTotalsupply(){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/analytics/flamingo/total-supply",{})}))}getFlamingoAnalyticsFlamingoUsdvaluelocked(){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/analytics/flamingo/usd-value-locked",{})}))}getNeoBlock(e,t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/neo/block",{index:e,flamingo_data:t})}))}getNeoBlockLatest(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/neo/block/latest",{flamingo_data:e})}))}getNeoBlocksHistory(e,t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/neo/blocks/history",{page:e,flamingo_data:t})}))}getNeoBlocksLatest(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/neo/blocks/latest",{flamingo_data:e})}))}getNeoTransaction(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/neo/transaction",{tx_hash:e})}))}fetchData(e,t={}){return __awaiter(this,void 0,void 0,(function*(){try{return(yield this.api.get(e,{params:t})).data}catch(t){throw console.error("Error fetching data from URL:",e,t),t}}))}}}));__awaiter=this&&this.__awaiter||function(e,t,a,s){return new(a||(a=Promise))((function(n,i){function o(e){try{l(s.next(e))}catch(e){i(e)}}function r(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,r)}l((s=s.apply(e,t||[])).next())}))};define("dashboard/wallet-manager/wallet-lib",["require","exports","@cityofzion/neon-core","@cityofzion/neon-core-neo3","ojs/ojlogger","axios","./bignumber","dashboard/flamingo-api/api/api-client","css!dashboard/wallet-manager/wallet-manager-styles.css","ojs/ojchart","ojs/ojactioncard","ojs/ojcolorspectrum","ojs/ojlistview","ojs/ojlistitemlayout","ojs/ojinputtext","ojs/ojbutton","ojs/ojformlayout","ojs/ojvalidationgroup","ojs/ojpopup","ojs/ojdefer"],(function(require,e,t,a,s,n,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addressFormat=e.STORAGE_VALUE_MESSAGE=e.DEFAULT_RPC_URLS=e.DEFAULT_N3_RPC_NETWORK=e.DEFAULT_N2_RPC_NETWORK=e.STORAGE_VALUE_TYPE=e.STORAGE_NAME=e.NetworkType=e.saveSelectedTagsToStorage=e.getSelectedTagsFromStorage=e.addToRatiosInStorage=e.loadRatiosFromStorage=e.deleteWalletFromStorage=e.updateWalletToStorage=e.addWalletToStorage=e.addWalletToStoragePK=e.loadWalletsFromStorage=e.loadWalletsFromStoragePK=e.getN3AllTxs=e.getN3AssetTxs=e.handleN3TxResponse=e.getN3AddressBalances=e.GAS3_CONTRACT=e.NEO3_CONTRACT=e.CWallet=e.KEY=void 0;new o.default,new t.rpc.RPCClient("https://rpc2.n3.nspcc.ru:10331");e.KEY="xxx";class r extends a.wallet.Wallet{constructor(e){super(e)}export(){return super.export()}}e.CWallet=r,e.NEO3_CONTRACT="0xef4073a0f2b305a38ec4050e4d3d28bc40ea63f5",e.GAS3_CONTRACT="0xd2a4cff31913016155e38e474a2c06d08be276cf";const l={NEO:{asset_id:e.NEO3_CONTRACT,symbol:"NEO",decimals:0,balance:"0"},GAS:{asset_id:e.GAS3_CONTRACT,symbol:"GAS",decimals:8,balance:"0"}};e.getN3AddressBalances=t=>__awaiter(void 0,void 0,void 0,(function*(){const a={jsonrpc:"2.0",method:"getnep17balances",params:[t],id:1};return(t=>{const a=[Object.assign({},l.NEO),Object.assign({},l.GAS)];return((null==t?void 0:t.balance)||[]).forEach((t=>{if(t.assethash===e.NEO3_CONTRACT)a[0].balance=t.amount;else if(t.assethash===e.GAS3_CONTRACT)a[1].balance=(0,i.default)(t.amount,10).shiftedBy(-t.decimals).toFixed();else{const e={balance:(0,i.default)(t.amount,10).shiftedBy(-t.decimals).toFixed(),asset_id:t.assethash,symbol:t.symbol,decimals:t.decimals};a.push(e)}})),Promise.resolve(a)})((yield n.default.post(e.DEFAULT_N3_RPC_NETWORK[0].rpcUrl,a)).data.result)}));const d=new Map,c=new Map;new Map;function u(t){const a=[],s=[],i=[];return t.forEach(((e,t)=>{if(d.has(e))i[t]=d.get(e);else{const n={jsonrpc:"2.0",id:1,method:"invokefunction",params:[e,"symbol"]};s.push(t),a.push(n)}})),0===a.length?Promise.resolve(i):n.default.post(e.DEFAULT_N3_RPC_NETWORK[0].rpcUrl,a).then((e=>(e.data.forEach(((e,a)=>{let n="";e.result.stack&&(n=e.result.stack[0].value,
"ByteArray"===e.result.stack[0].type&&(n=b(e.result.stack[0].value)),"ByteString"===e.result.stack[0].type&&(n=b(function(e){const t=atob(e);let a="";for(let e=0;e<t.length;e++){const s=t.charCodeAt(e).toString(16);a+=2===s.length?s:"0"+s}return a.toUpperCase()}(e.result.stack[0].value))));const o=s[a];d.set(t[o],n),i[o]=n})),i)))}e.handleN3TxResponse=a=>__awaiter(void 0,void 0,void 0,(function*(){const s=[];((null==a?void 0:a.sent)||[]).forEach((e=>{const t={block_time:Math.floor(e.timestamp/1e3),asset_id:e.assethash,from:[a.address],to:[e.transferaddress],value:`-${e.amount}`,txid:e.txhash,type:"sent",id:e.blockindex};s.push(t)})),((null==a?void 0:a.received)||[]).forEach((e=>{const t={block_time:Math.floor(e.timestamp/1e3),asset_id:e.assethash,from:[e.transferaddress],to:[a.address],value:e.amount,txid:e.txhash,type:"received",id:e.blockindex};s.push(t)})),s.sort(((e,t)=>0===e.txid.localeCompare(t.txid)?e.asset_id.localeCompare(t.asset_id):e.txid.localeCompare(t.txid)));for(let e=1;e<s.length;)s[e].txid===s[e-1].txid&&s[e].asset_id===s[e-1].asset_id?(s[e].value=(0,i.default)(s[e].value,10).plus((0,i.default)(s[e-1].value,10)),s[e].type=s[e].value.comparedTo(0)>0?"received":"sent",s[e].value=s[e].value.toFixed(),s.splice(e-1,1)):e++;const o=new Set;return s.forEach((e=>o.add(e.asset_id))),yield u(Array.from(o)),yield function(a){const s=[],o=[],r=[];return a.forEach(((e,t)=>{if(c.has(e))r[t]=c.get(e);else{const a={jsonrpc:"2.0",id:1,method:"invokefunction",params:[e,"decimals"]};o.push(t),s.push(a)}})),0===s.length?Promise.resolve(r):n.default.post(e.DEFAULT_N3_RPC_NETWORK[0].rpcUrl,s).then((e=>(e.data.forEach(((e,s)=>{let n=0;if(e.result.stack&&(n=e.result.stack[0].value,"Integer"===e.result.stack[0].type&&(n=Number(e.result.stack[0].value||0)),"ByteArray"===e.result.stack[0].type)){const a=t.u.reverseHex(e.result.stack[0].value);n=(0,i.default)(a||0,16).toNumber()}const l=o[s];c.set(a[l],n),r[l]=n})),r)))}(Array.from(o)),s.forEach(((e,t)=>{s[t].symbol=d.get(e.asset_id);const a=c.get(e.asset_id);a&&(s[t].value=(0,i.default)(s[t].value,10).shiftedBy(-a).toFixed())})),s}));e.getN3AssetTxs=(t,a)=>__awaiter(void 0,void 0,void 0,(function*(){return(yield(0,e.getN3AllTxs)(t)).filter((e=>e.asset_id===a))}));e.getN3AllTxs=t=>__awaiter(void 0,void 0,void 0,(function*(){const a=Math.floor((new Date).getTime())-2592e6,s={jsonrpc:"2.0",method:"getnep17transfers",params:[t,a],id:1};let i=yield n.default.post(e.DEFAULT_N3_RPC_NETWORK[0].rpcUrl,s);return i=yield(0,e.handleN3TxResponse)(i.data.result),i=i.sort(((e,t)=>t.block_time-e.block_time)),i}));e.loadWalletsFromStoragePK=()=>(console.log("wallet-lib > loadWalletsFromStorage"),h(m["walletArr-Neo3"]));e.loadWalletsFromStorage=()=>(console.log("wallet-lib > loadWalletsFromStorage"),h(m["walletPubArr-Neo3"]));e.addWalletToStoragePK=(t,n,i,o)=>{const l=new a.wallet.Account(n),d=a.wallet.isAddress(l.address,53)?"Neo3":"Neo2";s.info("configureWallet > chainType =",d);const c=new r({name:null!=t?t:"nxTraderUser",walletColor:o.toString()});c.walletColor=o,c.addAccount(l),c.displayName=t;c.accounts[0].WIF;c.encrypt(0,i);const u=(0,e.loadWalletsFromStoragePK)();u.push(c),v(m.chainType,d),v(m["walletArr-Neo3"],u);const{address:f}=l};e.addWalletToStorage=(t,a,n,i,o,l)=>{const d="Neo3";s.info("configureWallet > chainType =",d);const c=new r({name:null!=t?t:"nxTraderUser",walletColor:o.toString()});c.walletColor=o,c.publicKey=a,c.goal=i,c.tags=l,c.displayName=t;const u=(0,e.loadWalletsFromStorage)();u.push(c),v(m.chainType,d),v(m["walletPubArr-Neo3"],u)};e.updateWalletToStorage=(t,a,s,n,i,o)=>{const r=(0,e.loadWalletsFromStorage)(),l=r.find((e=>e.name===t));if(l){const e=l;n&&(e.walletColor=n),e.goal=s,console.log("try save ",i),e.tags=i,e.publicKey=a,e.displayName=null!=o?o:t}v(m["walletPubArr-Neo3"],r)};e.deleteWalletFromStorage=t=>{const a=(0,e.loadWalletsFromStorage)(),s=a.find((e=>e.name===t)),n=a.findIndex((e=>e.name===t));console.log("wallet-lib > deleteWalletFromStorage",s,n,a),a.splice(n,1),v(m["walletPubArr-Neo3"],a)};e.loadRatiosFromStorage=()=>h(m.ratios);e.addToRatiosInStorage=(t,a)=>{const s=(0,e.loadRatiosFromStorage)();s.set(t,a);v(m.ratios,s)};e.getSelectedTagsFromStorage=()=>(console.log("wallet-lib > getSelectedTagsFromStorage"),h(m.selectedTags));var f,m,g;function h(t){let a=localStorage[t],s=a;switch(e.STORAGE_VALUE_MESSAGE[t].type){case g.object:s=a&&"undefined"!==a?JSON.parse(a):{};break;case g.array:s=a&&"undefined"!==a?JSON.parse(a):[];break;case g.map:s=a&&"undefined"!==a?new Map(JSON.parse(a)):new Map;break;case g.number:s=a&&"undefined"!==a?Number(a):0;break;case g.boolean:s="true"===a}return s}function v(t,a){let s=a;switch(e.STORAGE_VALUE_MESSAGE[t].type){case g.object:case g.array:s=JSON.stringify(a);break;case g.number:case g.boolean:s=String(a);break;case g.array:s=JSON.stringify(a)}localStorage.setItem(t,s)}e.saveSelectedTagsToStorage=e=>{v(m.selectedTags,e)},function(e){e.MainNet="MainNet",e.TestNet="TestNet",e.N3MainNet="N3MainNet",e.N3TestNet="N3TestNet",e.N3PrivateNet="N3PrivateNet"}(f=e.NetworkType||(e.NetworkType={})),function(e){e.n2Networks="n2Networks",e.n3Networks="n3Networks",e.n2SelectedNetworkIndex="n2SelectedNetworkIndex",e.n3SelectedNetworkIndex="n3SelectedNetworkIndex",e.coinsRate="coinsRate",e.fiatRate="fiatRate",e.neo3CoinsRate="neo3CoinsRate",e.rateCurrency="rateCurrency",e.wallet="wallet",e.walletArr="walletArr",e["walletArr-Neo3"]="walletArr-Neo3",e["walletPubArr-Neo3"]="walletPubArr-Neo3",e.WIFArr="WIFArr",e["WIFArr-Neo3"]="WIFArr-Neo3",e.chainType="chainType",e.neo3AddressFlag="neo3AddressFlag",e.lang="lang",e.transaction="transaction",e.connectedWebsites="connectedWebsites",e.authAddress="authAddress",e.InvokeArgsArray="InvokeArgsArray",e.walletsStatus="walletsStatus",e.haveBackupTip="haveBackupTip",e.hasLoginAddress="hasLoginAddress",e.shouldFindNode="shouldFindNode",e.rpcUrls="rpcUrls",e.neo3RemoveT4Flag="neo3RemoveT4Flag",e.onePassword="onePassword",e.theme="theme",e.onePassCheckAddresses="onePassCheckAddresses",e.ratios="ratios",e.selectedTags="selectedTags"}(m=e.STORAGE_NAME||(e.STORAGE_NAME={})),function(e){e.number="number",e.string="string",e.object="object",e.map="map",e.boolean="boolean",e.array="array"}(g=e.STORAGE_VALUE_TYPE||(e.STORAGE_VALUE_TYPE={})),e.DEFAULT_N2_RPC_NETWORK=[{rpcUrl:"http://seed1.ngd.network:10332",name:"N2 MAINNET",explorer:"https://neo2.neotube.io/",network:f.MainNet,chainId:1,id:1},{rpcUrl:"http://seed5.ngd.network:20332",name:"N2 TESTNET",explorer:"",network:f.TestNet,chainId:2,id:2}],e.DEFAULT_N3_RPC_NETWORK=[{rpcUrl:"https://n3seed1.ngd.network:10332",name:"N3 MAINNET",magicNumber:860833102,explorer:"https://neotube.io/",network:f.N3MainNet,chainId:3,id:3},{rpcUrl:"http://seed3t5.neo.org:20332",name:"N3 TESTNET",magicNumber:894710606,explorer:"https://testnet.neotube.io/",network:f.N3TestNet,chainId:6,id:6}],e.DEFAULT_RPC_URLS={lastModified:null,nodes:{1:["http://seed6.ngd.network:10332","http://seed8.ngd.network:10332"],2:["http://seed3.ngd.network:20332","http://seed4.ngd.network:20332","http://seed5.ngd.network:20332","http://seed8.ngd.network:20332"],3:["http://seed1.neo.org:10332","http://seed2.neo.org:10332","http://seed3.neo.org:10332","http://seed4.neo.org:10332","http://seed5.neo.org:10332","https://n3seed1.ngd.network:10332","https://n3seed2.ngd.network:10332","https://neo3-mainnet.neoline.vip"],6:["http://seed1t5.neo.org:20332","http://seed2t5.neo.org:20332","http://seed3t5.neo.org:20332","http://seed4t5.neo.org:20332","http://seed5t5.neo.org:20332"]}},e.STORAGE_VALUE_MESSAGE={n2Networks:{type:g.array,isLocal:!0,default:e.DEFAULT_N2_RPC_NETWORK},n3Networks:{type:g.array,isLocal:!0,default:e.DEFAULT_N3_RPC_NETWORK},n2SelectedNetworkIndex:{type:g.number,isLocal:!0,default:0},n3SelectedNetworkIndex:{type:g.number,isLocal:!0,default:0},coinsRate:{type:g.object,isLocal:!1},fiatRate:{type:g.object,isLocal:!1},neo3CoinsRate:{type:g.object,isLocal:!1},rateCurrency:{type:g.string,isLocal:!1,default:"USD"},wallet:{type:g.object,isLocal:!0},walletArr:{type:g.array,isLocal:!0},"walletArr-Neo3":{type:g.array,isLocal:!0},"walletPubArr-Neo3":{type:g.array,isLocal:!0},WIFArr:{type:g.array,isLocal:!0},"WIFArr-Neo3":{type:g.array,isLocal:!0},chainType:{type:g.string,isLocal:!0},neo3AddressFlag:{type:g.boolean,isLocal:!0},lang:{type:g.string,isLocal:!1,default:"en"},transaction:{type:g.object,isLocal:!1},connectedWebsites:{type:g.object,isLocal:!1},authAddress:{type:g.object,isLocal:!1},InvokeArgsArray:{type:g.array,isLocal:!0},walletsStatus:{type:g.object,isLocal:!0},haveBackupTip:{type:g.boolean,isLocal:!0},hasLoginAddress:{type:g.object,isLocal:!0},shouldFindNode:{type:g.boolean,isLocal:!0},rpcUrls:{type:g.object,isLocal:!0,default:e.DEFAULT_RPC_URLS},neo3RemoveT4Flag:{type:g.boolean,isLocal:!0},onePassword:{type:g.boolean,isLocal:!0},theme:{type:g.string,isLocal:!1,default:"light-theme"},onePassCheckAddresses:{type:g.object,isLocal:!0},ratios:{type:g.map,isLocal:!0},selectedTags:{type:g.array,isLocal:!0}};const p=/^([0-9A-Fa-f]{2})*$/;function j(e){if(!function(e){try{return p.test(e)}catch(e){return!1}}(e))throw new Error(`Expected a hexstring but got ${e}`)}function b(e){return t=function(e){if(j(e),!e.length)return new Uint8Array(0);const t=e.length/2,a=new Uint8Array(t);for(let s=0;s<t;s++)a[s]=parseInt(e.substring(0,2),16),e=e.substring(2);return a}(e),String.fromCharCode.apply(null,Array.from(new Uint8Array(t)));var t}e.addressFormat=e=>{try{return`${e.substring(0,6)}...${e.substring(e.length-6,e.length)}`}catch(e){}return e}}));__awaiter=this&&this.__awaiter||function(e,t,a,s){return new(a||(a=Promise))((function(n,i){function o(e){try{l(s.next(e))}catch(e){i(e)}}function r(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,r)}l((s=s.apply(e,t||[])).next())}))};define("dashboard/price-list/price-list",["require","exports","preact/jsx-runtime","ojs/ojvcomponent","preact/hooks","@preact/signals","ojs/ojconverter-number","ojs/ojarraydataprovider","dashboard/flamingo-api/api/api-client","css!dashboard/price-list/price-list-styles.css","ojs/ojlistview","ojs/ojlistitemlayout"],(function(require,e,t,a,s,n,i,o,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.startPriceRefreshTimer=e.isAutoPriceRefreshRunning=e.stopPriceRefreshTimer=e.PriceList=e.prices=void 0;e.prices=(0,n.signal)([]);let l=(0,n.signal)(0);const d=new r.default;function c(){(function(){return __awaiter(this,void 0,void 0,(function*(){return d.getFlamingoLivedataPricesLatest()}))})().then((t=>{console.log("price-list > refreshPrices > completed",t),e.prices.value=function(e){var t=e.filter((e=>"bNEO"===e.symbol));1===t.length&&e.push({hash:t[0].hash,symbol:"NEO",unwrappedSymbol:"NEO",usd_price:t[0].usd_price});return e}(t)}))}function u(){0!==l.value&&(console.log("price-list > stop refresh timer"),clearInterval(l.value),l.value=0)}function f(){0===l.value&&(console.log("price-list > start refresh timer"),l.value=setInterval(c,3e5))}e.PriceList=(0,a.registerCustomElement)("dashboard-price-list",(function({pricesToShow:a}){const n=e.prices.value.sort(((e,t)=>e.symbol.localeCompare(t.symbol))).filter((function(e){return!!a&&a.indexOf(e.symbol)>=0})),r=new o(null!=n?n:[],{keyAttributes:"symbol"}),l=new i.IntlNumberConverter({style:"currency",currency:"USD",currencyDisplay:"symbol",currencyFormat:"standard",decimalFormat:"long",maximumFractionDigits:12});return(0,s.useEffect)((()=>(c(),f(),()=>u())),[]),(0,t.jsx)("div",{children:(0,t.jsx)("oj-list-view",Object.assign({id:"lvPrices","aria-label":"flamingo price list",data:r,class:"oj-listview-item-padding-off","selection-mode":"none"},{children:(0,t.jsx)("template",{slot:"itemTemplate","data-oj-as":"item",render:e=>(0,t.jsx)("div",{children:(0,t.jsxs)("div",Object.assign({className:"oj-flex oj-sm-padding-2x"},{children:[(0,t.jsx)("img",{src:`styles/images/${e.item.data.symbol}.svg`,class:"token"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",Object.assign({className:"oj-flex"},{children:(0,t.jsx)("span",Object.assign({class:"oj-typography-body-md oj-text-color-primary"},{children:e.item.data.symbol}))})),(0,t.jsx)("div",Object.assign({style:{fontSize:22}},{children:l.format(e.item.data.usd_price)}))]})]}))})})}))})}),"PriceList",{properties:{pricesToShow:{type:"Array<string>"}}}),e.stopPriceRefreshTimer=u,e.isAutoPriceRefreshRunning=(0,n.computed)((()=>l.value>0)),e.startPriceRefreshTimer=f})),define("dashboard/wallet-manager/wallet-list-filter",["require","exports","preact/jsx-runtime","./wallet-manager","ojs/ojarraydataprovider","./wallet-lib"],(function(require,e,t,a,s,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WalletListFilter=void 0,e.WalletListFilter=function({}){console.log("wallet-list-filter > render",a.tagsAsArray.value);const e=new s(a.tagsAsArray.value,{keyAttributes:"name"});return(0,t.jsx)("div",Object.assign({style:"width: 90%"},{children:(0,t.jsx)("oj-select-many",{labelHint:"filter wallets by tags :",labelEdge:"inside",options:e,value:a.selectedTags.value,onvalueChanged:e=>{"internal"===e.detail.updatedFrom&&(console.log("wallet-list-filter > onvalueChanged",e.detail.updatedFrom,e.detail.previousValue,e.detail.value),a.selectedTags.value=e.detail.value,(0,n.saveSelectedTagsToStorage)(e.detail.value))}})}))}})),define("dashboard/wallet-manager/form-elements",["require","exports","@preact/signals"],(function(require,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tbnDisabled=e.brbHidden=e.bcloHidden=e.bclrHidden=e.buHidden=e.bcrHidden=e.bawHidden=e.tdnHidden=void 0,console.log("form-elements > init"),e.tdnHidden=(0,t.signal)(!0),e.bawHidden=(0,t.signal)(!1),e.bcrHidden=(0,t.signal)(!1),e.buHidden=(0,t.signal)(!0),e.bclrHidden=(0,t.signal)(!1),e.bcloHidden=(0,t.signal)(!0),e.brbHidden=(0,t.signal)(!0),e.tbnDisabled=(0,t.signal)(!1)})),define("dashboard/wallet-manager/wallet-list",["require","exports","preact/jsx-runtime","preact/hooks","@preact/signals","ojs/ojarraydataprovider","ojs/ojconverter-number","ojs/ojcolor","ojs/ojcolor","dashboard/price-list/price-list","./wallet-list-filter","./form-elements","css!dashboard/wallet-manager/wallet-manager-styles.css","ojs/ojbutton","ojs/ojactioncard","ojs/ojcolorspectrum","ojs/ojlistview","ojs/ojlistitemlayout","ojs/ojinputtext","ojs/ojbutton","ojs/ojformlayout","ojs/ojvalidationgroup","ojs/ojgauge"],(function(require,e,t,a,s,n,i,o,r,l,d,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.refreshLastUpdatedTime=e.WalletList=void 0;let u=(0,s.signal)(void 0),f=(0,s.signal)(0);const m=(0,s.computed)((()=>!l.isAutoPriceRefreshRunning.value)),g=(0,s.computed)((()=>!!l.isAutoPriceRefreshRunning.value));function h(){console.log("wallet-list > refreshLastUpdatedLabel");var e=Math.abs(Date.now()-u.peek()),t=Math.floor(e/1e3);f.value=t}e.WalletList=function({wallets:e,walletsMetadata:s,showAddWallet:u,showEditWallet:v,tryDeleteWallet:p,walletSelected:j,refreshAllWalletBalances:b}){const w=new i.IntlNumberConverter({style:"currency",currency:"USD",currencyDisplay:"symbol",currencyFormat:"standard",decimalFormat:"long",maximumFractionDigits:12}),y=new n(e,{keyAttributes:"name"});return(0,a.useEffect)((()=>{const e=setInterval(h,1e4);return()=>clearInterval(e)}),[]),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",Object.assign({className:"oj-flex oj-sm-margin-7x-start oj-sm-margin-7x-end"},{children:[(0,t.jsxs)("oj-button",Object.assign({id:"butAddWallet",display:"all",onojAction:u,class:"oj-button-sm",hidden:c.bawHidden.value},{children:[(0,t.jsx)("span",{slot:"startIcon",class:"oj-ux-ico-plus"}),"Add Wallet"]})),(0,t.jsx)("span",{className:"oj-flex-item"}),(0,t.jsxs)("span",Object.assign({class:"oj-sm-padding-2x-end oj-sm-padding-4x-top oj-text-color-secondary"},{children:["last updated ",f," second(s) ago"]})),(0,t.jsxs)("oj-button",Object.assign({id:"butRefreshBalances",display:"icons",hidden:c.brbHidden.value,onojAction:b,class:"oj-button-sm oj-sm-flex-initial oj-flex-item  oj-sm-margin-2x-end"},{children:[(0,t.jsx)("span",{slot:"startIcon",class:"oj-ux-ico-refresh"}),"Refresh wallet balances"]})),(0,t.jsxs)("oj-button",Object.assign({id:"butPause",display:"icons",onojAction:l.stopPriceRefreshTimer,class:"oj-button-sm oj-sm-flex-initial oj-flex-item",hidden:m.value},{children:[(0,t.jsx)("span",{slot:"startIcon",class:"oj-ux-ico-pause"}),"Pause autorefresh"]})),(0,t.jsxs)("oj-button",Object.assign({id:"butPlay",display:"icons",onojAction:l.startPriceRefreshTimer,class:"oj-button-sm oj-sm-flex-initial oj-flex-item",hidden:g.value},{children:[(0,t.jsx)("span",{slot:"startIcon",class:"oj-ux-ico-play"}),"Start autorefresh (runs every 60 seconds)"]}))]})),(0,t.jsx)("oj-list-view",Object.assign({id:"lvWallets","aria-label":"wallets",data:y,gridlines:{item:"visible"},class:"nx-wallet-list oj-sm-padding-3x-top oj-sm-padding-3x-start oj-sm-padding-3x-end",selectionMode:"none",onselectedChanged:j},{children:(0,t.jsx)("template",{slot:"itemTemplate","data-oj-as":"item",render:function(e){var a,n;const i={width:"5px",height:"50px",backgroundColor:(e.item.data.walletColor?new r(e.item.data.walletColor):o.BLACK).toString()},l=s.get(e.key);let d=0;return l&&"runningWalletTotalInUsd"in l&&(d=l.runningWalletTotalInUsd),(0,t.jsx)("li",Object.assign({style:"align-items:center;"},{children:(0,t.jsxs)("oj-list-item-layout",Object.assign({style:"width:100%"},{children:[(0,t.jsx)("div",{slot:"leading",style:i}),(0,t.jsx)("div",Object.assign({class:"oj-typography-body-md oj-text-color-primary"},{children:null!==(a=e.item.data.displayName)&&void 0!==a?a:e.item.data.name})),(0,t.jsx)("div",Object.assign({slot:"secondary",class:"oj-typography-body-sm oj-text-color-secondary",style:"min-width: 200px;"},{children:e.item.data.publicKey?e.item.data.publicKey:e.item.data.accounts[0].label})),(0,t.jsx)("div",Object.assign({slot:"tertiary",class:"oj-flex oj-typography-body-sm oj-text-color-secondary"},{children:null===(n=e.item.data.tags)||void 0===n?void 0:n.map((e=>(0,t.jsx)("div",Object.assign({class:"tag-item"},{children:e}))))})),(0,t.jsxs)("div",Object.assign({slot:"metadata",class:"oj-flex"},{children:[(0,t.jsx)("img",{src:"styles/images/fUSDT.svg",style:{width:"25px"}}),(0,t.jsx)("span",Object.assign({class:"oj-sm-padding-2x-start oj-sm-padding-2x-end oj-sm-padding-6x-top",style:{verticalAlign:"super"}},{children:w.format(null!=d?d:0)})),(0,t.jsx)("oj-status-meter-gauge",{"labelled-by":"readOnly",orientation:"circular",min:0,max:e.item.data.goal,value:null!=d?d:0,metricLabel:{rendered:"off"},plotArea:{rendered:"on"},innerRadius:.57,size:"sm",startAngle:180,angleExtent:180,class:"oj-sm-padding-3x-top oj-sm-margin-0x",hidden:!(e.item.data.goal&&e.item.data.goal>0),readonly:!0})]})),(0,t.jsx)("div",{slot:"trailing",style:{width:"50px"}}),(0,t.jsxs)("div",Object.assign({slot:"action"},{children:[(0,t.jsxs)("oj-button",Object.assign({id:"bEdit",display:"icons",onojAction:v,class:"oj-button-sm","row-data":e.item.data.name},{children:[(0,t.jsx)("span",{slot:"startIcon",class:"oj-ux-ico-edit"}),"Edit"]})),(0,t.jsxs)("oj-button",Object.assign({id:"bDelete",display:"icons",onojAction:p,class:"oj-button-sm oj-sm-padding-2x-start","row-data":e.item.data.name},{children:[(0,t.jsx)("span",{slot:"startIcon",class:"oj-ux-ico-trash"}),"Delete"]}))]}))]}))}))}})})),(0,t.jsx)("ul",{children:(x=function(e){let t=0,a=0;return e.forEach(((e,s)=>{let n=0;if(e&&"goal"in e&&(n=e.goal,a+=n),e&&"runningWalletTotalInUsd"in e){const a=e.runningWalletTotalInUsd;t+=a}})),{runningWalletsTotalInUsd:t,runningGoal:a}}(s),(0,t.jsxs)("oj-list-item-layout",Object.assign({id:"lilFooter",style:""},{children:[(0,t.jsx)("div",{children:(0,t.jsx)(d.WalletListFilter,{})}),(0,t.jsxs)("div",Object.assign({slot:"metadata",class:"oj-flex"},{children:[(0,t.jsx)("img",{src:"styles/images/fUSDT.svg",style:{width:"25px"}}),(0,t.jsx)("span",Object.assign({class:"oj-sm-padding-2x-start oj-sm-padding-2x-end oj-sm-padding-6x-top",style:{verticalAlign:"super"}},{children:w.format(null!==(_=x.runningWalletsTotalInUsd)&&void 0!==_?_:0)})),(0,t.jsx)("oj-status-meter-gauge",{"labelled-by":"readOnly",orientation:"circular",min:0,max:x.runningGoal,value:null!==(T=x.runningWalletsTotalInUsd)&&void 0!==T?T:0,metricLabel:{rendered:"off"},plotArea:{rendered:"on"},innerRadius:.57,size:"sm",startAngle:180,angleExtent:180,class:"oj-sm-padding-3x-top oj-sm-margin-0x",readonly:!0})]})),(0,t.jsx)("div",{slot:"trailing",style:{width:"50px"}}),(0,t.jsx)("div",{slot:"action",style:{width:"52px"}})]})))})]});var x,_,T},e.refreshLastUpdatedTime=function(e){console.log("wallet-list > refreshLastUpdatedLabelNow"),u.value=e,h()}})),define("dashboard/wallet-manager/wallet-charts",["require","exports","preact/jsx-runtime","ojs/ojarraydataprovider","css!dashboard/wallet-manager/wallet-manager-styles.css","ojs/ojbutton","ojs/ojactioncard","ojs/ojcolorspectrum","ojs/ojlistview","ojs/ojlistitemlayout","ojs/ojinputtext","ojs/ojbutton","ojs/ojformlayout","ojs/ojvalidationgroup"],(function(require,e,t,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WalletCharts=void 0,e.WalletCharts=function({chartData:e}){const s=new a(e,{keyAttributes:"id"});return(0,t.jsxs)("div",Object.assign({class:"oj-flex oj-sm-margin-7x-start oj-sm-margin-7x-end"},{children:[(0,t.jsx)("oj-chart",{id:"lineAreaChart",type:"lineWithArea",style:"width:50%;",data:s,"animation-on-display":"auto","animation-on-data-change":"auto",orientation:"vertical",stack:"on","hover-behavior":"dim",styleDefaults:{lineType:"centeredStepped",markerDisplayed:"off",lineStyle:"solid"}}),(0,t.jsx)("oj-chart",{id:"pieChart",type:"pie",style:"width:50%;",data:s,"animation-on-display":"auto","animation-on-data-change":"auto","hover-behavior":"dim"})]}))}})),define("dashboard/wallet-manager/wallet-editor",["require","exports","preact/jsx-runtime","preact/hooks","@preact/signals","./wallet-lib","./form-elements","css!dashboard/wallet-manager/wallet-manager-styles.css","ojs/ojbutton","ojs/ojactioncard","ojs/ojcolorspectrum","ojs/ojlistview","ojs/ojlistitemlayout","ojs/ojinputtext","ojs/ojbutton","ojs/ojformlayout","ojs/ojvalidationgroup","ojs/ojinputnumber","ojs/ojselectcombobox"],(function(require,e,t,a,s,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WalletEditor=void 0,e.WalletEditor=function({tryCreate:e,tryUpdate:o,clear:r,close:l,showAddWallet:d,refreshAllWalletBalances:c}){console.log("wallet-editor > init");const u=(0,s.signal)(void 0);return(0,a.useEffect)((()=>()=>{console.log("wallet-editor > disposed!!!!!!")}),[]),(0,t.jsx)("div",{children:(0,t.jsx)("div",Object.assign({id:"walletEditor",className:"oj-sm-margin-4x-start oj-sm-padding-3x",hidden:!0},{children:(0,t.jsx)("oj-validation-group",Object.assign({id:"tracker",valid:u.value},{children:(0,t.jsxs)("oj-form-layout",{children:[(0,t.jsx)("oj-input-text",{id:"wn",required:!0,"label-hint":"wallet name (id)",disabled:i.tbnDisabled.value}),(0,t.jsx)("oj-input-text",{id:"wdn","label-hint":"wallet display name",style:{display:i.tdnHidden.value?"none":""}}),(0,t.jsx)("oj-input-password",{id:"wpk",required:!0,"label-hint":"public wallet address","mask-icon":"visible"}),(0,t.jsx)("oj-input-password",{id:"wk",required:!1,value:n.KEY,"label-hint":"key","mask-icon":"visible",style:"display:none",hidden:!0}),(0,t.jsx)("oj-input-number",{id:"wg",onKeyPress:e=>{let t=e.which?e.which:e.keyCode,a=String.fromCharCode(t),s=a.replace(/[^0-9\.]/g,"");a!==s&&e.preventDefault()},labelHint:"Goal (fUSDT)",labelEdge:"inside"}),(0,t.jsx)("oj-color-spectrum",{id:"wcol","label-hint":"wallet color"}),(0,t.jsxs)("oj-combobox-many",Object.assign({id:"wt",class:"oj-form-control-max-width-md",labelEdge:"none",required:!0,placeholder:"keywords to tag this wallet with"},{children:[(0,t.jsx)("oj-option",Object.assign({value:"bot"},{children:"bot"})),(0,t.jsx)("oj-option",Object.assign({value:"fees"},{children:"fees"})),(0,t.jsx)("oj-option",Object.assign({value:"flamingo"},{children:"flamingo"})),(0,t.jsx)("oj-option",Object.assign({value:"personal"},{children:"personal"}))]})),(0,t.jsxs)("div",Object.assign({className:"oj-flex"},{children:[(0,t.jsx)("oj-button",Object.assign({id:"butCreate",onojAction:e,chroming:"callToAction",hidden:i.bcrHidden.value},{children:"Create"})),(0,t.jsx)("oj-button",Object.assign({id:"butUpdate",onojAction:o,chroming:"callToAction",hidden:i.buHidden.value},{children:"Update"})),(0,t.jsx)("oj-button",Object.assign({id:"butClear",onojAction:r,class:"oj-sm-padding-2x-start",hidden:i.bcrHidden.value},{children:"Clear"})),(0,t.jsx)("oj-button",Object.assign({id:"butClose",onojAction:l,class:"oj-sm-padding-2x-start",hidden:i.bcloHidden.value},{children:"Close"}))]}))]})}))}))})}})),define("dashboard/notifications-layer/notifications-layer",["require","exports","preact/jsx-runtime","ojs/ojvcomponent","ojs/ojarraydataprovider","@preact/signals","css!dashboard/notifications-layer/notifications-layer-styles.css","ojs/ojmessages"],(function(require,e,t,a,s,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createNotification=e.NotificationsLayer=void 0;const i=(0,n.signal)([]);e.NotificationsLayer=(0,a.registerCustomElement)("dashboard-notifications-layer",(function({}){const e=new s(i.value,{keyAttributes:"id"});return(0,t.jsx)("div",{children:(0,t.jsx)("oj-messages",{class:"oj-color-invert",messages:e,display:"notification",position:{my:{vertical:"top",horizontal:"end"},at:{vertical:"top",horizontal:"end"},of:"window"}})})}),"NotificationsLayer"),e.createNotification=function(e){i.value=[e]}})),define("dashboard/flamingo-api/data/tokens",["require","exports"],(function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findTokenByHash=void 0;e.findTokenByHash=function e(t,a,s){for(var n in t){var i=t[n];if("object"==typeof i){var o=e(i,a,i);if(o)return o}if(i===a)return s}},e.default={FLM:{symbol:"FLM",decimals:8,hash:"0xf0151f528127558851b39c2cd8aa47da7418ab28"},FLUND:{symbol:"FLUND",decimals:8,hash:"0xa9603a59e21d29e37ac39cf1b5f5abf5006b22a3"},TIPS:{symbol:"TIPS",decimals:8,hash:"0x340720c7107ef5721e44ed2ea8e314cce5c130fa"},NEO:{symbol:"NEO",decimals:0,hash:"0xef4073a0f2b305a38ec4050e4d3d28bc40ea63f5"},GAS:{symbol:"GAS",decimals:8,hash:"0xd2a4cff31913016155e38e474a2c06d08be276cf"},bNEO:{symbol:"bNEO",decimals:8,hash:"0x48c40d4666f93408be1bef038b6722404d9a4c2a"},FUSD:{symbol:"FUSD",decimals:8,hash:"0x1005d400bcc2a56b7352f09e273be3f9933a5fb1"},LRB:{symbol:"LRB",decimals:8,hash:"0x8c07b4c9f5bc170a3922eac4f5bb7ef17b0acc8b"},USDL:{symbol:"USDL",decimals:8,hash:"0xa8c51aa0c177187aeed3db88bdfa908ccbc9b1a5"},SOM:{symbol:"SOM",decimals:8,hash:"0x2d4c6cf0417209a7eb410160344e224e74f87195"},CANDY:{symbol:"CANDY",decimals:9,hash:"0x88da18a5bca86ec8206d9b4960a7d0c4355a432f"},DOGER:{symbol:"DOGER",decimals:8,hash:"0x322b5a366ca724801a1aa01e669b5f3d7f8c7f6f"},DOGEF:{symbol:"DOGEF",decimals:8,hash:"0xa3291b66f70d4687fc0e41977d8acb0699f235ae"},FDE:{symbol:"FDE",decimals:8,hash:"0x9770f4d78a19d1a6fa94b472bcedffcc06b56c49"},fUSDT:{symbol:"fUSDT",decimals:6,hash:"0xcd48b160c1bbc9d74997b803b9a7ad50a4bef020"},USDT:{symbol:"USDT",decimals:6,hash:"0x68b938cc42b6a2d54fb9040f5facf4290ebb8c5f"},fWETH:{symbol:"fWETH",decimals:18,hash:"0xc14b601252aa5dfa6166cf35fe5ccd2e35f3fdf5"},WETH:{symbol:"WETH",decimals:18,hash:"0xd3a41b53888a733b549f5d4146e7a98d3285fa21"},fWBTC:{symbol:"fWBTC",decimals:8,hash:"0xd6abe115ecb75e1fa0b42f5e85934ce8c1ae2893"},WBTC:{symbol:"WBTC",decimals:8,hash:"0x4548a3bcb3c2b5ce42bf0559b1cf2f1ec97a51d0"},pONT:{symbol:"pONT",decimals:9,hash:"8122bc2212ec971690a044b37a6f52a9349b702b"},pWING:{symbol:"pWING",decimals:9,hash:"0xeeccd60ed722111f8400434dac3ba42c14d8beb1"},GM:{symbol:"GM",decimals:8,hash:"0x9b049f1283515eef1d3f6ac610e1595ed25ca3e9"},fCAKE:{symbol:"fCAKE",decimals:18,hash:"0xe65b462b90516012826f8a9c4c285d8c750e3a77"},SWTH:{symbol:"SWTH",decimals:8,hash:"0x78e1330db47634afdb5ea455302ba2d12b8d549f"},fBNB:{symbol:"fBNB",decimals:18,hash:"0xb56f0fba45cc57a948b342186274dfd863996bb3"}}}));__awaiter=this&&this.__awaiter||function(e,t,a,s){return new(a||(a=Promise))((function(n,i){function o(e){try{l(s.next(e))}catch(e){i(e)}}function r(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,r)}l((s=s.apply(e,t||[])).next())}))};define("dashboard/wallet-peek/wallet-peek",["require","exports","preact/jsx-runtime","ojs/ojvcomponent","@preact/signals","dashboard/flamingo-api/api/api-client","dashboard/flamingo-api/data/tokens","ojs/ojarraydataprovider","dashboard/wallet-manager/bignumber","css!dashboard/wallet-peek/wallet-peek-styles.css"],(function(require,e,t,a,s,n,i,o,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WalletPeek=e.seletedAddress=void 0;const l=new n.default;e.seletedAddress=(0,s.signal)(void 0),e.WalletPeek=(0,a.registerCustomElement)("dashboard-wallet-peek",(function({hiddenRoot:a,navigateBack:n}){console.log("wallet-peek > render");const d=(0,s.useSignal)(void 0),c=(0,s.useSignal)([]),u=new o(c.value,{keyAttributes:"symbol"});return(0,s.useSignalEffect)((()=>{e.seletedAddress.value&&(console.log("wallet-peek > render > selectedAddress.value changed",e.seletedAddress.value),c.value=[],function(e){return __awaiter(this,void 0,void 0,(function*(){return yield l.getWalletWalletLatest(e)}))}(e.seletedAddress.value).then((e=>{var t,a;console.log("wallet-peek > getWalletDetails",e),d.value=e,c.value=(a=[],(null===(t=d.value)||void 0===t?void 0:t.data)&&Object.keys(d.value.data[0].balances).forEach(((e,t)=>{const s=(0,i.findTokenByHash)(i.default,e,void 0);a.push({key:e,total:d.value.data[0].balances[e],token:s})})),console.log("wallet-peek > getAssetBalances ",a),a)})))})),(0,t.jsxs)("div",Object.assign({hidden:a,class:"oj-sm-margin-2x"},{children:[(0,t.jsx)("oj-button",Object.assign({display:"all",onojAction:n,class:"oj-button-md"},{children:(0,t.jsx)("span",{slot:"startIcon",class:"oj-ux-ico-back-parent"})})),(0,t.jsx)("div",{children:e.seletedAddress.value}),(0,t.jsx)("oj-list-view",Object.assign({"aria-label":"wallet balances",data:u,class:"oj-listview-item-padding-off","selection-mode":"none"},{children:(0,t.jsx)("template",{slot:"itemTemplate","data-oj-as":"item",render:e=>void 0===e.data.token?(0,t.jsx)(t.Fragment,{children:"no tokens..."}):(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{children:e.data.token.symbol}),(0,t.jsx)("div",{children:(0,r.BigNumber)(e.data.total,10).shiftedBy(-e.data.token.decimals).toFixed()})]})})}))]}))}),"WalletPeek",{properties:{hiddenRoot:{type:"boolean"},message:{type:"string"},navigateBack:{type:"function"}}})}));__awaiter=this&&this.__awaiter||function(e,t,a,s){return new(a||(a=Promise))((function(n,i){function o(e){try{l(s.next(e))}catch(e){i(e)}}function r(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,r)}l((s=s.apply(e,t||[])).next())}))};define("dashboard/flamingo-api/indexdb/indexDbService",["require","exports"],(function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const t="neo-flamingo-offline-storage";let a=!1;const s=[];let n;e.default={getObjectStore:function(e){const t=n.transaction(e,"readwrite");return t.oncomplete=function(){},t.objectStore(e)},isOfflineStorageEnabled:function(){return a},bootstrapOfflineStorage:function(e,i){return __awaiter(this,void 0,void 0,(function*(){if(a=e,!a)throw"[Offline Storage] Feature switch not enabled";try{const{openDbHandle:e}=yield new Promise(((e,a)=>{const n=self.indexedDB.open(t,1);let i=!1;n.onsuccess=function(){e({dbUpgradeNeeded:i,openDbHandle:this.result})},n.onerror=function(e){console.error("[Offline Storage] Could not open database",e),a(e)},n.onupgradeneeded=function(){s.forEach((e=>{e(this.result)})),i=!0}}));n=e,yield i()}catch(e){a=!1;const t="[Offline Storage] Feature was enabled but failed to initialize databases";throw console.error(t,e),t}}))},
registerOnUpgradeNeededListener:function(e){s.push(e)}}})),define("dashboard/flamingo-api/indexdb/indexDbErrorHandling",["require","exports"],(function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.extractErrorAsString=void 0,e.extractErrorAsString=function(e,t){try{return e+`. ${t.target.error}`}catch(t){return e+". Error converting indexdb error event to string"}}}));__awaiter=this&&this.__awaiter||function(e,t,a,s){return new(a||(a=Promise))((function(n,i){function o(e){try{l(s.next(e))}catch(e){i(e)}}function r(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,r)}l((s=s.apply(e,t||[])).next())}))};define("dashboard/flamingo-api/indexdb/transactionsDbService",["require","exports","./indexDbService","./indexDbErrorHandling"],(function(require,e,t,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s="watchlist";let n=2;t.default.registerOnUpgradeNeededListener((e=>function(e){console.log("transactionsDbService > onUpgradeNeeded");let t;e.objectStoreNames.contains(s)||(t=e.createObjectStore(s,{keyPath:"id"}),t.createIndex("idIndex","id",{unique:!0,multiEntry:!1}),t.createIndex("symbolIndex","symbol",{unique:!1,multiEntry:!1}))}(e))),e.default={setGeneratedArtifactVersion:function(e){n=e},storeTransaction:function(e,i,o){return __awaiter(this,void 0,void 0,(function*(){yield function(e,i,o){return __awaiter(this,void 0,void 0,(function*(){return new Promise(((r,l)=>{let d={block_time:e.block_time,id:e.id,size:e.size,txid:e.txid,value:e.value,net_fee:e.net_fee,asset_id:e.asset_id,symbol:e.symbol,from:e.from,to:e.to,type:e.type,purchaseCostUsdt:i,goalUsdt:o,recordVersion:n,createdOn:(new Date).toISOString()};const c=t.default.getObjectStore(s).put(d);d=null,c.onsuccess=function(){r()},c.onerror=function(t){l((0,a.extractErrorAsString)(`addTransactionToDb indexdb error id=${e.id}`,t))}}))}))}(e,i,o)}))},getTransactions:function(e){return __awaiter(this,void 0,void 0,(function*(){return yield function(e){return __awaiter(this,void 0,void 0,(function*(){return new Promise(((n,i)=>{const o=t.default.getObjectStore(s).index("symbolIndex").getAll(e);o.onsuccess=function(e){if(void 0===e.target.result)return void i();const t=e.target.result;n(t)},o.onerror=function(e){i((0,a.extractErrorAsString)("getTransactionsFromDb indexdb error",e))}}))}))}(e)}))},getAllTransactions:function(){return __awaiter(this,void 0,void 0,(function*(){return yield function(){return __awaiter(this,void 0,void 0,(function*(){return new Promise(((e,n)=>{const i=t.default.getObjectStore(s).getAll();i.onsuccess=function(t){if(void 0===t.target.result)return void n();const a=t.target.result;e(a)},i.onerror=function(e){n((0,a.extractErrorAsString)("getTransactionsFromDb indexdb error",e))}}))}))}()}))},deleteById:function(e){return __awaiter(this,void 0,void 0,(function*(){return new Promise(((a,n)=>{const i=t.default.getObjectStore(s),o=i.index("idIndex").openKeyCursor(e);o.onsuccess=function(){const e=o.result;e?(i.delete(e.primaryKey),e.continue()):a()},o.onerror=function(e){n(e.target.errorCode)}}))}))}}})),define("dashboard/watch-list/watch-list-item",["require","exports","preact/jsx-runtime","ojs/ojconverter-number","dashboard/notifications-layer/notifications-layer","css!dashboard/watch-list/watch-list-styles.css","ojs/ojgauge"],(function(require,e,t,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WatchListItem=void 0;const n=new a.IntlNumberConverter({style:"currency",currency:"USD",currencyDisplay:"symbol",currencyFormat:"standard",decimalFormat:"long",maximumFractionDigits:2}),i=new a.IntlNumberConverter({style:"decimal",minimumIntegerDigits:2,minimumFractionDigits:2,maximumFractionDigits:4,useGrouping:!1}),o=e=>({insert:`purchased ⠀(${e.componentElement.getAttribute("data-valueSymbol")}) : ${e.componentElement.getAttribute("data-value")}\n      ⠀⠀⠀⠀⠀⠀⠀⠀ (USDT) : ${e.componentElement.getAttribute("data-purchaseCostUsdt")} \n      current⠀⠀⠀ (USDT) : ${e.componentElement.getAttribute("data-curPriceInUsdt")}\n      goal⠀⠀⠀⠀⠀ (USDT) : ${e.componentElement.getAttribute("data-goalUsdt")}`});e.WatchListItem=function(e,a){e.unitPriceInUsd;const r=e.curPriceInUsdt,l=e.purchaseCostUsdt,d=e.goalUsdt,c=e.profitInUsdt;return(0,t.jsxs)("li",Object.assign({class:"oj-md-padding-3x-top oj-md-padding-3x-bottom"},{children:[(0,t.jsxs)("div",Object.assign({class:"oj-flex oj-flex oj-text-primary-color oj-typography-body-md"},{children:[(0,t.jsx)("img",{src:`styles/images/${e.symbol}.svg`,class:" card-small-token"}),(0,t.jsx)("div",Object.assign({onClick:()=>(e=>{navigator.clipboard.writeText(e);const t={id:1,severity:"none",summary:e+" copied to clipboard",autoTimeout:3e3};(0,s.createNotification)(t)})(e.value)},{children:i.format(parseFloat(e.value))})),(0,t.jsx)("div",{class:"oj-flex-item"}),(0,t.jsxs)("div",Object.assign({class:"oj-sm-flex-initial oj-flex-item oj-flex"},{children:[(0,t.jsx)("img",{src:"styles/images/fUSDT.svg",class:"oj-md-padding-2x-start card-small-token"}),(0,t.jsx)("div",{children:n.format(r)}),(0,t.jsx)("div",Object.assign({class:"oj-md-margin-2x-start "+(c>0?c>d-l?"profit-above-goal":"in-profit":"at-a-loss")},{children:n.format(c)}))]}))]})),(0,t.jsxs)("div",Object.assign({class:"oj-flex oj-md-padding-5x-start oj-md-padding-3x-top oj-md-padding-1x-bottom"},{children:[(0,t.jsx)("div",{class:"oj-flex-item"}),(0,t.jsx)("oj-status-meter-gauge",{"labelled-by":"metricLabel",min:Math.max(0,r-100),max:e.goalUsdt+50,value:r,thresholds:[{max:l,color:"red"},{max:d,color:"black"},{color:"green"}],size:"lg",referenceLines:[{value:l,color:"red"},{value:d,color:"black"}],tooltip:{renderer:o},"data-curPriceInUsdt":r,"data-purchaseCostUsdt":l,"data-goalUsdt":d,"data-value":e.value,"data-valueSymbol":e.symbol,style:{width:"250px",top:"10px"},plotArea:{rendered:"on"},readonly:!0}),(0,t.jsx)("oj-button",Object.assign({id:"bDelete",display:"icons",class:"oj-button-sm oj-sm-padding-2x-start",onojAction:a,"data-id":e.id,"data-value":e.value,"data-symbol":e.symbol},{children:(0,t.jsx)("span",{slot:"startIcon",class:"oj-ux-ico-trash"})})),(0,t.jsx)("div",{class:"oj-flex-item"})]}))]}))}}));__awaiter=this&&this.__awaiter||function(e,t,a,s){return new(a||(a=Promise))((function(n,i){function o(e){try{l(s.next(e))}catch(e){i(e)}}function r(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,r)}l((s=s.apply(e,t||[])).next())}))};define("dashboard/watch-list/watch-list",["require","exports","preact/jsx-runtime","ojs/ojvcomponent","dashboard/flamingo-api/indexdb/transactionsDbService","@preact/signals","ojs/ojarraydataprovider","dashboard/price-list/price-list","./watch-list-item","dashboard/wallet-manager/asset-watchlist","css!dashboard/watch-list/watch-list-styles.css","ojs/ojgauge"],(function(require,e,t,a,s,n,i,o,r,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WatchList=e.tryLoadTransactionsInWatchlist=void 0;const d=(0,n.signal)([]);function c(){setTimeout((()=>{s.default.getAllTransactions().then((e=>{const t=e.map(((e,t)=>function(e){const t=o.prices.value.find((t=>t.symbol===e.symbol)),a=t?t.usd_price:0,s=parseFloat(e.value)*a,n=e.purchaseCostUsdt,i=(e.goalUsdt,s-n);return Object.assign(Object.assign({},e),{profitInUsdt:i,curPriceInUsdt:s,unitPriceInUsd:a})}(e)));d.value=t.sort(((e,t)=>t.profitInUsdt-e.profitInUsdt))}))}),1e3)}function u(e){return __awaiter(this,void 0,void 0,(function*(){const t=e.srcElement.dataset.id,a=e.srcElement.dataset.symbol,s=e.srcElement.dataset.value;yield(0,l.deleteWatchListItem)(parseInt(t),a,s),c()}))}e.tryLoadTransactionsInWatchlist=c,e.WatchList=(0,a.registerCustomElement)("dashboard-watch-list",(function(){console.log("watch-list > render",d.value);const e=new i(d.value,{keyAttributes:"id"});return(0,n.useSignalEffect)((()=>{o.prices.value&&o.prices.value.length>0&&c()})),(0,t.jsx)("div",{children:(0,t.jsx)("oj-list-view",Object.assign({id:"lvWatchlist","aria-label":"transactions",data:e,gridlines:{item:"hidden"},class:"oj-sm-padding-2x",selectionMode:"none"},{children:(0,t.jsx)("template",{slot:"itemTemplate","data-oj-as":"item",render:e=>(0,r.WatchListItem)(e.data,u)})}))})}),"WatchList")}));__awaiter=this&&this.__awaiter||function(e,t,a,s){return new(a||(a=Promise))((function(n,i){function o(e){try{l(s.next(e))}catch(e){i(e)}}function r(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,r)}l((s=s.apply(e,t||[])).next())}))};define("dashboard/wallet-manager/asset-watchlist",["require","exports","preact/jsx-runtime","@preact/signals","./wallet-lib","dashboard/flamingo-api/indexdb/transactionsDbService","dashboard/notifications-layer/notifications-layer","dashboard/watch-list/watch-list-item","ojs/ojconverter-number","dashboard/price-list/price-list","./asset-transactions","dashboard/watch-list/watch-list","./wallet-manager","ojs/ojinputnumber"],(function(require,e,t,a,s,n,i,o,r,l,d,c,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AssetWatchlistEditor=e.deleteWatchListItem=e.seletedTransaction=void 0,e.seletedTransaction=(0,a.signal)(void 0);e.deleteWatchListItem=(e,t,a)=>__awaiter(void 0,void 0,void 0,(function*(){yield n.default.deleteById(e);const s={id:2,severity:"none",summary:`${t} ${a} deleted from watch list`,autoTimeout:2e3};(0,i.createNotification)(s)})),e.AssetWatchlistEditor=function({hidden:a,navigateBack:f}){var m,g,h,v,p,j,b,w,y,x,_,T,A,N,O,S,E,k;console.log("asset-watchlist > AssetWatchlistEditor");const C=l.prices.value.find((t=>{var a;return t.symbol===(null===(a=e.seletedTransaction.value)||void 0===a?void 0:a.transaction.symbol)})),D=C?C.usd_price:0,L=new r.IntlNumberConverter({style:"currency",currency:"USD",currencyDisplay:"symbol",currencyFormat:"standard",decimalFormat:"long",maximumFractionDigits:12}),W=1===(null===(m=e.seletedTransaction.value)||void 0===m?void 0:m.watchlist.length)?e.seletedTransaction.value.watchlist[0]:void 0;return(0,t.jsxs)("div",Object.assign({hidden:a,class:"oj-sm-margin-2x"},{children:[(0,t.jsxs)("div",Object.assign({class:"oj-flex"},{children:[(0,t.jsx)("oj-button",Object.assign({display:"all",onojAction:f,class:"oj-button-md"},{children:(0,t.jsx)("span",{slot:"startIcon",class:"oj-ux-ico-back-parent"})})),(0,t.jsx)("h6",Object.assign({class:"oj-sm-margin-4x-start"},{children:1===(null===(g=e.seletedTransaction.value)||void 0===g?void 0:g.watchlist.length)?"Edit existing item in watchlist":"Add to watchlist"}))]})),(0,t.jsx)("div",{children:(null===(h=e.seletedTransaction.value)||void 0===h?void 0:h.txDetail)?null===(v=e.seletedTransaction.value)||void 0===v?void 0:v.txDetail.index:"loading txdetail"}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",Object.assign({class:"oj-md-margin-3x-top oj-md-margin-5x-bottom"},{children:[(0,t.jsxs)("div",Object.assign({class:"oj-flex oj-flex oj-text-primary-color oj-typography-body-md"},{children:[(0,t.jsx)("img",{src:`styles/images/${null===(p=e.seletedTransaction.value)||void 0===p?void 0:p.transaction.symbol}.svg`,class:" card-small-token"}),(0,t.jsx)("div",Object.assign({class:"oj-flex-item"},{children:null===(j=e.seletedTransaction.value)||void 0===j?void 0:j.transaction.value})),(0,t.jsx)("div",{class:"oj-flex-item"}),(null===(b=e.seletedTransaction.value)||void 0===b?void 0:b.transaction.value)>0?(0,t.jsxs)("div",Object.assign({class:"oj-sm-flex-initial oj-flex-item oj-flex"},{children:[(0,t.jsx)("img",{src:"styles/images/fUSDT.svg",class:"card-small-token"}),(0,t.jsx)("div",{children:L.format(parseFloat(null===(w=e.seletedTransaction.value)||void 0===w?void 0:w.transaction.value)*D)})]})):(0,t.jsx)(t.Fragment,{})]})),(0,t.jsxs)("div",Object.assign({class:"oj-md-padding-6x-start oj-md-margin-1x-top oj-text-secondary-color oj-typography-body-sm"},{children:["sent"===(null===(y=e.seletedTransaction.value)||void 0===y?void 0:y.transaction.type)?"sent to ":"recieved from ",(0,t.jsxs)("span",Object.assign({class:"clipboard-action tx-address",title:"peek into address"},{children:[(0,t.jsx)("span",{class:"oj-ux-ico-wallet oj-md-margin-1x-end oj-md-margin-1x-top"}),"sent"===(null===(x=e.seletedTransaction.value)||void 0===x?void 0:x.transaction.type)?(0,s.addressFormat)(null===(_=e.seletedTransaction.value)||void 0===_?void 0:_.transaction.to[0]):(0,s.addressFormat)(null===(T=e.seletedTransaction.value)||void 0===T?void 0:T.transaction.from[0])]}))]})),(0,t.jsxs)("div",Object.assign({class:"oj-md-padding-6x-start oj-md-margin-1x-top oj-text-secondary-color oj-typography-body-sm"},{children:[(0,d.getTimeInterval)(1e3*(null===(A=e.seletedTransaction.value)||void 0===A?void 0:A.transaction.block_time)),"(",e.seletedTransaction.value?new Date(1e3*(null===(N=e.seletedTransaction.value)||void 0===N?void 0:N.transaction.block_time)).toISOString():(0,t.jsx)(t.Fragment,{}),")"]}))]})),(0,t.jsxs)("div",Object.assign({class:"oj-md-margin-5x-start"},{children:[(0,t.jsx)("oj-input-number",{id:"tc",labelHint:"Purchase Cost (fUSDT)",labelEdge:"inside",value:W?W.purchaseCostUsdt:null,class:"oj-sm-padding-1x-top"}),(0,t.jsx)("oj-input-number",{id:"tg",labelHint:"Goal (fUSDT)",labelEdge:"inside",value:W?W.goalUsdt:null,class:"oj-sm-padding-1x-top"})]}))]}),(0,t.jsx)("div",Object.assign({class:"oj-md-margin-5x-top oj-md-margin-3x-bottom"},{children:(0,t.jsx)("ul",Object.assign({style:"list-style-type: none;"},{children:1===(null===(O=e.seletedTransaction.value)||void 0===O?void 0:O.watchlist.length)?(0,o.WatchListItem)(e.seletedTransaction.value.watchlist[0],(()=>{})):(0,t.jsx)(t.Fragment,{})}))})),(0,t.jsxs)("div",Object.assign({class:"oj-flex oj-sm-padding-4x-top"},{children:[(0,t.jsx)("div",{class:"oj-flex-item"}),(0,t.jsxs)("div",Object.assign({class:"oj-sm-flex-initial oj-flex-item"},{children:[(0,t.jsx)("oj-button",Object.assign({id:"butCancel",chroming:"outlined",onojAction:f},{children:"cancel"})),(0,t.jsx)("oj-button",Object.assign({id:"butCreate",chroming:"callToAction",class:"oj-sm-margin-2x-start",onojAction:()=>__awaiter(this,void 0,void 0,(function*(){console.log("asset-transactions > addToWatchList",e.seletedTransaction.value);const t=document.getElementById("tc"),a=document.getElementById("tg");yield n.default.storeTransaction(e.seletedTransaction.value.transaction,t.value,a.value);const s={id:2,severity:"none",summary:`${e.seletedTransaction.value.transaction.symbol} ${e.seletedTransaction.value.transaction.value} added to watch list`,autoTimeout:2e3};(0,i.createNotification)(s),(0,c.tryLoadTransactionsInWatchlist)(),(0,u.refreshCurrentSelectedAssetTransactions)(),f()})),hidden:"edit"===(null===(S=e.seletedTransaction.value)||void 0===S?void 0:S.transactionType)},{children:"create"})),(0,t.jsx)("oj-button",Object.assign({id:"butUpdate",chroming:"callToAction",class:"oj-sm-margin-2x-start",onojAction:()=>__awaiter(this,void 0,void 0,(function*(){const t=document.getElementById("tc"),a=document.getElementById("tg");yield n.default.storeTransaction(e.seletedTransaction.value.transaction,t.value,a.value);const s={id:2,severity:"none",summary:`${e.seletedTransaction.value.transaction.symbol} ${e.seletedTransaction.value.transaction.value} updated in watch list`,autoTimeout:2e3};(0,i.createNotification)(s),(0,c.tryLoadTransactionsInWatchlist)(),(0,u.refreshCurrentSelectedAssetTransactions)(),f()})),hidden:"add"===(null===(E=e.seletedTransaction.value)||void 0===E?void 0:E.transactionType)},{children:"update"})),(0,t.jsx)("oj-button",Object.assign({id:"butDelete",chroming:"danger",class:"oj-sm-margin-2x-start",onojAction:()=>__awaiter(this,void 0,void 0,(function*(){yield(0,e.deleteWatchListItem)(e.seletedTransaction.value.transaction.id,e.seletedTransaction.value.transaction.symbol,e.seletedTransaction.value.transaction.value),(0,c.tryLoadTransactionsInWatchlist)(),(0,u.refreshCurrentSelectedAssetTransactions)(),f()})),hidden:"add"===(null===(k=e.seletedTransaction.value)||void 0===k?void 0:k.transactionType)},{children:"delete"}))]}))]}))]}))}}));__awaiter=this&&this.__awaiter||function(e,t,a,s){return new(a||(a=Promise))((function(n,i){function o(e){try{l(s.next(e))}catch(e){i(e)}}function r(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,r)}l((s=s.apply(e,t||[])).next())}))};define("dashboard/wallet-manager/asset-transactions",["require","exports","preact/jsx-runtime","ojs/ojconverter-number","ojs/ojcolor","./wallet-lib","ojs/ojarraydataprovider","dashboard/notifications-layer/notifications-layer","dashboard/price-list/price-list","./asset-manager","dashboard/wallet-peek/wallet-peek","./wallet-manager","ojs/ojcolor","./asset-watchlist","dashboard/flamingo-api/api/api-client","css!dashboard/wallet-manager/wallet-manager-styles.css","ojs/ojbutton","ojs/ojactioncard","ojs/ojcolorspectrum","ojs/ojlistview","ojs/ojlistitemlayout","ojs/ojinputtext","ojs/ojbutton","ojs/ojformlayout","ojs/ojvalidationgroup"],(function(require,e,t,a,s,n,i,o,r,l,d,c,u,f,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getTimeInterval=e.AssetTransactions=void 0;const g=new m.default;function h(e){let t=Math.floor((Date.now()-e)/1e3),a="second",s="ago";t<0&&(t=-t,s="from now");let n=t;return t>=31536e3?(n=Math.floor(t/31536e3),a="year"):t>=86400?(n=Math.floor(t/86400),a="day"):t>=3600?(n=Math.floor(t/3600),a="hour"):t>=60&&(n=Math.floor(t/60),a="minute"),1!=n&&(a+="s"),n+" "+a+" "+s}e.AssetTransactions=function({hidden:e,transactions:m}){if(void 0===m)return(0,t.jsx)(t.Fragment,{children:"none found ..."});console.log("asset-transactions > render",m);const v=(0,c.getWallet)(m.walletAddress),p=new i(m.transactions,{keyAttributes:"id"}),j=new a.IntlNumberConverter({style:"currency",currency:"USD",currencyDisplay:"symbol",currencyFormat:"standard",decimalFormat:"long",maximumFractionDigits:12}),b=r.prices.value.find((e=>e.symbol===m.asset_name)),w=b?b.usd_price:0,y=e=>{navigator.clipboard.writeText(e);const t={id:1,severity:"none",summary:e+" copied to clipboard",autoTimeout:3e3};(0,o.createNotification)(t)},x=e=>__awaiter(this,void 0,void 0,(function*(){(0,l.showAssetManagerRoute)({assetWatchlistEditorHidden:!1});let t=yield g.getNeoTransaction(e.txid);console.log("aeest-transactions > showAddAssetToWatchList",t),f.seletedTransaction.value={txDetail:t,transaction:e,transactionType:"add",watchlist:[]}})),_=e=>__awaiter(this,void 0,void 0,(function*(){var t;(0,l.showAssetManagerRoute)({assetWatchlistEditorHidden:!1});let a=yield g.getNeoTransaction(e.txid);f.seletedTransaction.value={txDetail:a,transaction:e,transactionType:"edit",watchlist:null===(t=m.watchlist)||void 0===t?void 0:t.filter((t=>t.id===e.id))}}));return(0,t.jsxs)("div",Object.assign({hidden:e},{children:[(0,t.jsxs)("div",Object.assign({class:"oj-flex oj-sm-padding-5x-start oj-sm-padding-5x-end oj-sm-padding-2x-top"},{children:[(0,t.jsxs)("div",Object.assign({class:"oj-flex oj-flex-item"},{children:[(0,t.jsx)("div",{style:{width:"5px",height:"27px",backgroundColor:(v.walletColor?new u(v.walletColor):s.BLACK).toString()}}),(0,t.jsxs)("div",Object.assign({class:"oj-sm-padding-1x-top oj-sm-padding-1x-start oj-sm-padding-2x-end"},{children:[v.name," > "]})),(0,t.jsx)("img",{src:`styles/images/${m.asset_name}.svg`,class:"card-small-token"}),(0,t.jsx)("div",Object.assign({class:"oj-sm-padding-1x-top oj-sm-padding-0x-start oj-sm-padding-2x-end"},{children:m.asset_name}))]})),(0,t.jsxs)("div",Object.assign({class:"oj-sm-flex-initial oj-flex-item "},{children:[m.transactions.length," ",m.transactions.length>1?"transactions":1===m.transactions.length?"transaction":""]}))]})),(0,t.jsx)("div",{children:(0,t.jsx)("oj-list-view",Object.assign({id:"lvTransactions","aria-label":"transactions",data:p,gridlines:{item:"visible"},class:"oj-sm-padding-1x",selectionMode:"none"},{children:(0,t.jsx)("template",{slot:"itemTemplate","data-oj-as":"item",render:e=>{var a,s;return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",Object.assign({class:"oj-flex oj-flex oj-text-primary-color oj-typography-body-md"},{children:[(0,t.jsx)("img",{src:`styles/images/${e.data.symbol}.svg`,class:" card-small-token"}),(0,t.jsxs)("div",Object.assign({class:"oj-flex-item",style:{width:"200px"}},{children:[e.data.value,(0,t.jsx)("span",{class:"oj-md-padding-2x-start oj-ux-ico-clipboard-add clipboard-action",title:"copy price to clipboard",onClick:()=>y(e.data.value)})]})),e.data.value>0?(0,t.jsxs)("div",Object.assign({class:"oj-flex-item oj-flex"},{children:[(0,t.jsx)("img",{src:"styles/images/fUSDT.svg",class:"card-small-token"}),(0,t.jsx)("div",{children:j.format(parseFloat(e.data.value)*w)})]})):(0,t.jsx)(t.Fragment,{}),(0,t.jsxs)("div",Object.assign({class:"oj-sm-flex-initial oj-flex-item oj-flex oj-text-secondary-color"},{children:[(0,t.jsx)("span",{class:"oj-ux-ico-bookmark clipboard-action",title:"add to watch list",hidden:"sent"===e.data.type||(null===(a=m.watchlist)||void 0===a?void 0:a.filter((t=>t.id===e.data.id)).length)>0,onClick:()=>x(e.data)}),(0,t.jsx)("span",{class:"oj-ux-ico-bookmark-selected clipboard-action",title:"remove from watch list",hidden:1!==(null===(s=m.watchlist)||void 0===s?void 0:s.filter((t=>t.id===e.data.id)).length),onClick:()=>_(e.data)})]}))]})),(0,t.jsxs)("div",Object.assign({class:"oj-md-padding-6x-start oj-md-margin-1x-top oj-text-secondary-color oj-typography-body-sm"},{children:["sent"===e.data.type?"sent to ":"recieved from ",(0,t.jsxs)("span",Object.assign({class:"clipboard-action tx-address",title:"peek into address",onClick:()=>{return t="sent"===e.data.type?e.data.to[0]:e.data.from[0],(0,l.showAssetManagerRoute)({walletPeekHidden:!1}),void(d.seletedAddress.value=t);var t}},{children:[(0,t.jsx)("span",{class:"oj-ux-ico-wallet oj-md-margin-1x-end oj-md-margin-1x-top"}),"sent"===e.data.type?(0,n.addressFormat)(e.data.to[0]):(0,n.addressFormat)(e.data.from[0])]})),(0,t.jsx)("span",{class:"oj-md-padding-2x-start oj-sm-padding-2x-top  oj-ux-ico-clipboard-add clipboard-action",title:"copy address to clipboard",onClick:()=>y("sent"===e.data.type?e.data.to[0]:e.data.from[0])})]})),(0,t.jsxs)("div",Object.assign({class:"oj-md-padding-6x-start oj-md-margin-1x-top oj-text-secondary-color oj-typography-body-sm"},{children:[h(1e3*e.data.block_time)," (",new Date(1e3*e.data.block_time).toISOString(),")"]}))]})}})}))})]}))},e.getTimeInterval=h})),define("dashboard/wallet-peek/loader",["require","exports","./wallet-peek"],(function(require,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WalletPeek=void 0,Object.defineProperty(e,"WalletPeek",{enumerable:!0,get:function(){return t.WalletPeek}})})),define("dashboard/wallet-manager/asset-manager",["require","exports","preact/jsx-runtime","./asset-transactions","@preact/signals","./asset-watchlist","dashboard/wallet-peek/loader"],(function(require,e,t,a,s,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AssetManager=e.showAssetManagerRoute=void 0;const i={assetTransactionsHidden:!0,walletPeekHidden:!0,assetWatchlistEditorHidden:!0},o=(0,s.signal)({assetTransactionsHidden:!1,walletPeekHidden:!0,assetWatchlistEditorHidden:!0});function r(e){console.log("asset-manager > showAssetManagerRoute",e),o.value=Object.assign(Object.assign({},i),e)}e.showAssetManagerRoute=r,e.AssetManager=function({transactions:e}){function s(){r({assetTransactionsHidden:!1})}return console.log("asset-manager > render"),(0,t.jsxs)("div",{children:[(0,t.jsx)(a.AssetTransactions,{transactions:e,hidden:o.value.assetTransactionsHidden}),(0,t.jsx)("dashboard-wallet-peek",{navigateBack:s,hiddenRoot:o.value.walletPeekHidden}),(0,t.jsx)(n.AssetWatchlistEditor,{navigateBack:s,hidden:o.value.assetWatchlistEditorHidden})]})}}));__awaiter=this&&this.__awaiter||function(e,t,a,s){return new(a||(a=Promise))((function(n,i){function o(e){try{l(s.next(e))}catch(e){i(e)}}function r(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,r)}l((s=s.apply(e,t||[])).next())}))};define("dashboard/wallet-manager/wallet-manager",["require","exports","preact/jsx-runtime","ojs/ojvcomponent","@preact/signals","ojs/ojcolor","./asset-card","./wallet-lib","./wallet-list","./wallet-charts","./wallet-editor","dashboard/price-list/price-list","dashboard/notifications-layer/notifications-layer","ojs/ojcolor","./asset-manager","dashboard/flamingo-api/indexdb/transactionsDbService","./form-elements","css!dashboard/wallet-manager/wallet-manager-styles.css","ojs/ojchart","ojs/ojactioncard","ojs/ojcolorspectrum","ojs/ojlistview","ojs/ojlistitemlayout","ojs/ojinputtext","ojs/ojbutton","ojs/ojformlayout","ojs/ojvalidationgroup","ojs/ojpopup","ojs/ojdrawerpopup"],(function(require,e,t,a,s,n,i,o,r,l,d,c,u,f,m,g,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getWallet=e.WalletManager=e.refreshCurrentSelectedAssetTransactions=e.walletAssetTotals=e.walletsMetadata=e.wallets=e.walletsRaw=e.selectedTags=e.tagsAsArray=e.tags=void 0;const v=(0,s.signal)(void 0),p=(0,s.signal)(void 0);new Map;e.tags=(0,s.signal)(new Set),e.tagsAsArray=(0,s.computed)((()=>Array.from(e.tags.value).map((e=>({name:e,value:e})))));let j=(0,o.getSelectedTagsFromStorage)();function b(t,a){const s=(0,o.loadWalletsFromStorage)();console.log(`wallet-manager > updateWallets ${s.length}`),(t||s&&s.length>0)&&(e.walletsRaw.value=s,a&&a())}function w(e=1e3){setTimeout(b,e)}e.selectedTags=(0,s.signal)(j),e.walletsRaw=(0,s.signal)([]),e.wallets=(0,s.computed)((()=>{if(0===e.selectedTags.value.length)return e.walletsRaw.value;let t=e.walletsRaw.value.filter((t=>{var a=!1;return t.tags.forEach((t=>{e.selectedTags.value.includes(t)&&(a=!0)})),a}));return console.log("wallet-manager > wallets > computed"),t})),e.walletsMetadata=(0,s.signal)(new Map),e.walletAssetTotals=(0,s.signal)([]),e.refreshCurrentSelectedAssetTransactions=function(){return __awaiter(this,void 0,void 0,(function*(){if(p.value.assetId){(0,c.stopPriceRefreshTimer)(),v.value={transactions:[],watchlist:[],asset_name:p.value.asset_name,assetId:p.value.assetId,walletAddress:p.value.walletAddress};var e=yield(0,o.getN3AssetTxs)(p.value.walletAddress,p.value.assetId),t=yield g.default.getTransactions(p.value.asset_name);v.value={transactions:e,watchlist:t,asset_name:p.value.asset_name,assetId:p.value.assetId,walletAddress:p.value.walletAddress}}}))},e.WalletManager=(0,a.registerCustomElement)("dashboard-wallet-manager",(function(){const a=(0,s.useSignal)([]),j=(0,s.useSignal)([]),y=(0,s.useSignal)([]),x=(0,s.useSignal)([]),_=(0,s.useSignal)([]),T=(0,s.useSignal)([]),A=(0,s.useSignal)([]),N=(0,s.useSignal)([]),O=(0,s.useSignal)([]),S=(0,s.useSignal)([]),E=(0,s.useSignal)([]),k=(0,s.useSignal)([]);function C(){const e=document.getElementById("lvWallets"),t=document.getElementById("wcol"),a=document.getElementById("wg");return{wcol:t,wn:document.getElementById("wn"),wdn:document.getElementById("wdn"),wpk:document.getElementById("wpk"),wk:document.getElementById("wk"),tracker:document.getElementById("tracker"),lvw:e,we:document.getElementById("walletEditor"),wg:a,wt:document.getElementById("wt"),de:document.getElementById("de"),dat:document.getElementById("dat")}}function D(){const e=C();e.wn.value="",e.wdn.value="",e.wpk.value="",e.wk.value=o.KEY,h.bcrHidden.value=!1,h.bclrHidden.value=!1,h.buHidden.value=!0,h.bcloHidden.value=!1,e.wcol.value=n.BLACK,e.wg.value=0,e.wt.value=[]}function L(){const e=C();D(),e.we.hidden=!0,h.bawHidden.value=!1,e.de.opened=!1,(0,c.startPriceRefreshTimer)()}function W(){const e=C();return"valid"===e.tracker.valid||(e.tracker.showMessages(),e.tracker.focusOn("@firstInvalidShown"),!1)}function F(e,t,a,s){return __awaiter(this,void 0,void 0,(function*(){if(a){p.value={walletAddress:e,asset_name:t,assetId:a};C().dat.opened=!0,(0,c.stopPriceRefreshTimer)(),v.value={transactions:[],watchlist:[],asset_name:t,assetId:a,walletAddress:e};var s=yield(0,o.getN3AssetTxs)(e,a),n=yield g.default.getTransactions(t);v.value={transactions:s,watchlist:n,asset_name:t,assetId:a,walletAddress:e},console.log("wallet-manager > assetSelected",n,v.value)}}))}function P(){return __awaiter(this,void 0,void 0,(function*(){a.value=[],j.value=[],y.value=[],x.value=[],_.value=[],T.value=[],A.value=[],O.value=[],N.value=[],S.value=[],E.value=[],k.value=[],e.walletsMetadata.value.clear(),e.walletAssetTotals.value=[],console.log("wallet-manager > refreshAllWalletBalances",e.wallets);for(let t=0;t<e.wallets.value.length;t++){const s=e.wallets.value[t],n=s.publicKey?s.publicKey:s.accounts[0].label;let i;false,void 0===i&&(i=yield(0,o.getN3AddressBalances)(n));let r=0;i.forEach((e=>{var t,i,o,l,d,u,f,m,g,h,v,p;if(c.prices.value&&e.balance&&"0"!==e.balance){let b=c.prices.value.find((t=>t.symbol===e.symbol));switch(e.symbol){case"USDT":j.value=[...j.value,Object.assign(Object.assign({},e),{walletAddress:n,walletName:null!==(t=s.displayName)&&void 0!==t?t:s.name,walletColor:s.walletColor})];break;case"fUSDT":a.value=[...a.value,Object.assign(Object.assign({},e),{walletAddress:n,walletName:null!==(i=s.displayName)&&void 0!==i?i:s.name,walletColor:s.walletColor})];break;case"FUSD":y.value=[...y.value,Object.assign(Object.assign({},e),{walletAddress:n,walletName:null!==(o=s.displayName)&&void 0!==o?o:s.name,walletColor:s.walletColor})];break;case"NEO":x.value=[...x.value,Object.assign(Object.assign({},e),{walletAddress:n,walletName:null!==(l=s.displayName)&&void 0!==l?l:s.name,walletColor:s.walletColor})],b=c.prices.value.find((e=>"bNEO"===e.symbol));break;case"bNEO":_.value=[..._.value,Object.assign(Object.assign({},e),{walletAddress:n,walletName:null!==(d=s.displayName)&&void 0!==d?d:s.name,walletColor:s.walletColor})],b=c.prices.value.find((e=>"bNEO"===e.symbol));break;case"GAS":T.value=[...T.value,Object.assign(Object.assign({},e),{walletAddress:n,walletName:null!==(u=s.displayName)&&void 0!==u?u:s.name,walletColor:s.walletColor})];break;case"FLM":A.value=[...A.value,Object.assign(Object.assign({},e),{walletAddress:n,walletName:null!==(f=s.displayName)&&void 0!==f?f:s.name,walletColor:s.walletColor})];break;case"fWBTC":N.value=[...N.value,Object.assign(Object.assign({},e),{walletAddress:n,walletName:null!==(m=s.displayName)&&void 0!==m?m:s.name,walletColor:s.walletColor})];break;case"WBTC":O.value=[...O.value,Object.assign(Object.assign({},e),{walletAddress:n,walletName:null!==(g=s.displayName)&&void 0!==g?g:s.name,walletColor:s.walletColor})];break;case"fWETH":S.value=[...S.value,Object.assign(Object.assign({},e),{walletAddress:n,walletName:null!==(h=s.displayName)&&void 0!==h?h:s.name,walletColor:s.walletColor})];break;case"WETH":E.value=[...E.value,Object.assign(Object.assign({},e),{walletAddress:n,walletName:null!==(v=s.displayName)&&void 0!==v?v:s.name,walletColor:s.walletColor})];break;case"FLUND":k.value=[...k.value,Object.assign(Object.assign({},e),{walletAddress:n,walletName:null!==(p=s.displayName)&&void 0!==p?p:s.name,walletColor:s.walletColor})];break;default:console.log(e.symbol)}const w=b?b.usd_price:0;r+=parseFloat(e.balance)*w}})),e.walletsMetadata.value.set(s.name,{runningWalletTotalInUsd:r,goal:s.goal});const l=[];function d(e,t){const a=c.prices.value.find((t=>t.symbol===e)),s=a?a.usd_price:0,n=null==t?void 0:t.reduce(((e,t)=>e+(t.balance?parseFloat(t.balance)*s:0)),0);return l.push({id:l.length,seriesId:e,groupId:"0",value:n}),l.push({id:l.length,seriesId:e,groupId:"1",value:n}),null!=n?n:0}d("FUSD",y.value),d("fUSDT",a.value),d("USDT",j.value),d("GAS",T.value),d("bNEO",_.value),d("NEO",x.value),d("FLM",A.value),d("fWBTC",N.value),d("WBTC",O.value),d("fWETH",S.value),d("WETH",E.value),d("FLUND",k.value),e.walletAssetTotals.value=l}!function(){__awaiter(this,void 0,void 0,(function*(){console.log("wallet-manager > refreshAllTags",e.wallets);const t=new Set;for(let a=0;a<e.walletsRaw.value.length;a++)e.walletsRaw.value[a].tags.forEach((e=>t.add(e)));e.tags.value=t}))}()}))}function I(){D()
;const e=C();e.we.hidden=!1,h.tdnHidden.value=!0,h.bawHidden.value=!0,e.de.opened=!0,h.tbnDisabled.value=!1,(0,c.stopPriceRefreshTimer)()}return(0,s.useSignalEffect)((()=>{c.prices.value&&c.prices.value.length>0&&(console.log("wallet-manager > useSignalEffect > prices changed"),console.log("wallet-manager > useSignalEffect > wallets changed"),b(!1,(()=>{console.log("wallet-manager > useSignalEffect > updateWallets > callback"),P(),(0,r.refreshLastUpdatedTime)(Date.now());C();h.brbHidden.value=0===e.wallets.value.length})))})),(0,t.jsxs)("div",{children:[(0,t.jsx)("oj-drawer-popup",Object.assign({id:"dat",edge:"end",class:"drawerAssetTransactions",onojBeforeClose:L,onopenedChanged:e=>{!0===e.detail.value&&(0,m.showAssetManagerRoute)({assetTransactionsHidden:!1})}},{children:(0,t.jsx)("div",{children:(0,t.jsx)(m.AssetManager,{transactions:v.value})})})),(0,t.jsx)("oj-drawer-popup",Object.assign({id:"de",edge:"start",class:"drawerEditor",onojBeforeClose:L},{children:(0,t.jsx)(d.WalletEditor,{tryCreate:function(){var e;if(W()){const t=C();t.wn.value&&t.wpk.value&&t.wk.value&&((0,o.addWalletToStorage)(t.wn.value,t.wpk.value,t.wk.value,t.wg.value,null===(e=t.wcol.value)||void 0===e?void 0:e.toString(),t.wt.value),L(),w(1e3),function(e=1e3){setTimeout((()=>{P()}),e)}(2e3),h.brbHidden.value=!1)}},tryUpdate:function(){var e;const t=C();W()&&t.wn.value&&t.wn.value&&((0,o.updateWalletToStorage)(t.wn.value,t.wpk.value,t.wg.value,null===(e=t.wcol.value)||void 0===e?void 0:e.toString(),t.wt.value,t.wdn.value),L(),w())},clear:D,close:L,showAddWallet:I,refreshAllWalletBalances:P})})),(0,t.jsx)(r.WalletList,{wallets:e.wallets.value,walletsMetadata:e.walletsMetadata.value,walletSelected:function(e){return __awaiter(this,void 0,void 0,(function*(){const t=C();if(null===e.detail.items)return D(),t.we.hidden=!0,void(h.bawHidden.value=!1)}))},tryDeleteWallet:function(e){const t=e.srcElement.attributes["row-data"].value;(0,o.deleteWalletFromStorage)(t);const a={id:1,severity:"none",summary:`wallet "${t}" deleted`,autoTimeout:3e3};(0,u.createNotification)(a),b(!0)},showAddWallet:I,showEditWallet:function(t){var a;const s=t.srcElement.attributes["row-data"].value,i=e.wallets.value.find((e=>e.name===s));if(i){const e=i.accounts[0],t=C();console.log("wallet-manager > showEditWallet",i),t.we.hidden=!1,t.wn.value=i.name,h.tdnHidden.value=!1,t.wdn.value=null!==(a=i.displayName)&&void 0!==a?a:i.name,t.wpk.value=i.publicKey?i.publicKey:e._WIF,t.wg.value=i.goal,t.wcol.value=i.walletColor?new f(i.walletColor):n.BLACK,h.bcrHidden.value=!0,h.bclrHidden.value=!0,h.buHidden.value=!1,h.bcloHidden.value=!1,h.bawHidden.value=!0,t.wt.value=i.tags,t.de.opened=!0,h.tbnDisabled.value=!0,(0,c.stopPriceRefreshTimer)()}},refreshAllWalletBalances:P}),(0,t.jsx)(l.WalletCharts,{chartData:e.walletAssetTotals.value}),(0,t.jsxs)("div",Object.assign({class:"oj-flex oj-sm-margin-7x-start oj-sm-margin-7x-end oj-sm-margin-5x-top"},{children:[(0,t.jsx)(i.AssetCard,{wassetName:"FUSD",wasset:y.value,prices:c.prices.value,onCardSelected:F}),(0,t.jsx)(i.AssetCard,{wassetName:"fUSDT",wasset:a.value,prices:c.prices.value,onCardSelected:F}),(0,t.jsx)(i.AssetCard,{wassetName:"USDT",wasset:j.value,prices:c.prices.value,onCardSelected:F}),(0,t.jsx)(i.AssetCard,{wassetName:"FLM",wasset:A.value,prices:c.prices.value,onCardSelected:F}),(0,t.jsx)(i.AssetCard,{wassetName:"FLUND",wasset:k.value,prices:c.prices.value,onCardSelected:F}),(0,t.jsx)(i.AssetCard,{wassetName:"bNEO",wasset:_.value,prices:c.prices.value,onCardSelected:F}),(0,t.jsx)(i.AssetCard,{wassetName:"NEO",wasset:x.value,prices:c.prices.value,onCardSelected:F}),(0,t.jsx)(i.AssetCard,{wassetName:"GAS",wasset:T.value,prices:c.prices.value,onCardSelected:F}),(0,t.jsx)(i.AssetCard,{wassetName:"fWBTC",wasset:N.value,prices:c.prices.value,onCardSelected:F}),(0,t.jsx)(i.AssetCard,{wassetName:"WBTC",wasset:O.value,prices:c.prices.value,onCardSelected:F}),(0,t.jsx)(i.AssetCard,{wassetName:"fWETH",wasset:S.value,prices:c.prices.value,onCardSelected:F}),(0,t.jsx)(i.AssetCard,{wassetName:"WETH",wasset:E.value,prices:c.prices.value,onCardSelected:F})]}))]})}),"WalletManager"),e.getWallet=function(t){for(let a=0;a<e.wallets.value.length;a++){const s=e.wallets.value[a];if(s.publicKey===t)return s}}})),define("dashboard/wallet-manager/loader",["require","exports","./wallet-manager"],(function(require,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WalletManager=void 0,Object.defineProperty(e,"WalletManager",{enumerable:!0,get:function(){return t.WalletManager}})}));
//# sourceMappingURL=loader.js.map;
var __awaiter=this&&this.__awaiter||function(t,e,a,i){return new(a||(a=Promise))((function(r,n){function o(t){try{l(i.next(t))}catch(t){n(t)}}function s(t){try{l(i.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof a?e:new a((function(t){t(e)}))).then(o,s)}l((i=i.apply(t,e||[])).next())}))};define("dashboard/flamingo-api/api/api-client",["require","exports","axios"],(function(require,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(){this.api=e.default.create({baseURL:"https://neo-api.b-cdn.net"})}getWalletWalletHistory(t,e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/wallet/history",{neo_address:t,page:e})}))}getWalletWalletLatest(t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/wallet/latest",{neo_address:t})}))}getWalletClaimsHistory(t,e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/claims/history",{neo_address:t,page:e})}))}getWalletClaimsLatest(t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/claims/latest",{neo_address:t})}))}getWalletTradeHistory(t,e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/trade/history",{neo_address:t,page:e})}))}getWalletTradeLatest(t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/trade/latest",{neo_address:t})}))}getWalletLpHistory(t,e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/lp/history",{neo_address:t,page:e})}))}getWalletLpLatest(t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/lp/latest",{neo_address:t})}))}getWalletStakingHistory(t,e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/staking/history",{neo_address:t,page:e})}))}getWalletStakingLatest(t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/staking/latest",{neo_address:t})}))}getWalletLendHistory(t,e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/lend/history",{neo_address:t,page:e})}))}getWalletLendLatest(t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/lend/latest",{neo_address:t})}))}getWalletTransferHistory(t,e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/transfer/history",{neo_address:t,page:e})}))}getWalletTransferLatest(t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/transfer/latest",{neo_address:t})}))}getFlamingoLivedataPricesLatest(){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/prices/latest",{})}))}getFlamingoLivedataPricesFromblock(t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData(`/flamingo/live-data/prices/from-block/${t}`,{})}))}getFlamingoLivedataPricesFromdatetime({year:t,month:e,day:a,hour:i,minute:r}){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData(`/flamingo/live-data/prices/from-datetime/${t}/${e}/${a}/${i}/${r}`,{})}))}getFlamingoLivedataPricesFromtimestamp(t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData(`/flamingo/live-data/prices/from-timestamp/${t}`,{})}))}getFlamingoLivedataFiatexchangerate(t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData(`/flamingo/live-data/fiat-exchange-rate/${t}`,{})}))}getFlamingoLivedataClaimsHistory(t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/claims/history",{page:t})}))}getFlamingoLivedataClaimsLatest(){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/claims/latest",{})}))}getFlamingoLivedataTradeHistory(t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/trade/history",{page:t})}))}getFlamingoLivedataTradeLatest(){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/trade/latest",{})}))}getFlamingoLivedataLpHistory(t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/lp/history",{page:t})}))}getFlamingoLivedataLpLatest(){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/lp/latest",{})}))}getFlamingoLivedataStakingHistory(t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/staking/history",{page:t})}))}getFlamingoLivedataStakingLatest(){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/staking/latest",{})}))}getFlamingoLivedataLendHistory(t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/lend/history",{page:t})}))}getFlamingoLivedataLendLatest(){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/lend/latest",{})}))}getFlamingoLivedataTransferHistory(t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/transfer/history",{page:t})}))}getFlamingoLivedataTransferLatest(){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/transfer/latest",{})}))}getFlamingoAnalyticsMonthhistory(t,{year:e,month:a}){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData(`/flamingo/analytics/month-history/${t}`,{year:e,month:a})}))}getFlamingoAnalyticsMonthlatest(t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData(`/flamingo/analytics/month-latest/${t}`,{})}))}getFlamingoAnalyticsDailyhistory(t,{year:e,month:a,day:i}){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData(`/flamingo/analytics/daily-history/${t}`,{year:e,month:a,day:i})}))}getFlamingoAnalyticsDailylatest(t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData(`/flamingo/analytics/daily-latest/${t}`,{})}))}getFlamingoAnalyticsRolling30days(t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData(`/flamingo/analytics/rolling-30-days/${t}`,{})}))}getFlamingoAnalyticsFlamingoTotalsupply(){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/analytics/flamingo/total-supply",{})}))}getFlamingoAnalyticsFlamingoUsdvaluelocked(){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/analytics/flamingo/usd-value-locked",{})}))}getNeoBlock(t,e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/neo/block",{index:t,flamingo_data:e})}))}getNeoBlockLatest(t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/neo/block/latest",{flamingo_data:t})}))}getNeoBlocksHistory(t,e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/neo/blocks/history",{page:t,flamingo_data:e})}))}getNeoBlocksLatest(t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/neo/blocks/latest",{flamingo_data:t})}))}getNeoTransaction(t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/neo/transaction",{tx_hash:t})}))}fetchData(t,e={}){return __awaiter(this,void 0,void 0,(function*(){try{return(yield this.api.get(t,{params:e})).data}catch(e){throw console.error("Error fetching data from URL:",t,e),e}}))}}}));__awaiter=this&&this.__awaiter||function(t,e,a,i){return new(a||(a=Promise))((function(r,n){function o(t){try{l(i.next(t))}catch(t){n(t)}}function s(t){try{l(i.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof a?e:new a((function(t){t(e)}))).then(o,s)}l((i=i.apply(t,e||[])).next())}))};define("dashboard/price-list/price-list",["require","exports","preact/jsx-runtime","ojs/ojvcomponent","preact/hooks","@preact/signals","ojs/ojconverter-number","ojs/ojarraydataprovider","dashboard/flamingo-api/api/api-client","css!dashboard/price-list/price-list-styles.css","ojs/ojlistview","ojs/ojlistitemlayout"],(function(require,t,e,a,i,r,n,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.startPriceRefreshTimer=t.isAutoPriceRefreshRunning=t.stopPriceRefreshTimer=t.PriceList=t.prices=void 0;t.prices=(0,r.signal)([]);let l=(0,r.signal)(0);const c=new s.default;function d(){(function(){return __awaiter(this,void 0,void 0,(function*(){return c.getFlamingoLivedataPricesLatest()}))})().then((e=>{console.log("price-list > refreshPrices > completed",e),t.prices.value=function(t){var e=t.filter((t=>"bNEO"===t.symbol));1===e.length&&t.push({hash:e[0].hash,symbol:"NEO",unwrappedSymbol:"NEO",usd_price:e[0].usd_price});return t}(e)}))}function u(){0!==l.value&&(console.log("price-list > stop refresh timer"),clearInterval(l.value),l.value=0)}function h(){0===l.value&&(console.log("price-list > start refresh timer"),l.value=setInterval(d,3e5))}t.PriceList=(0,a.registerCustomElement)("dashboard-price-list",(function({pricesToShow:a}){const r=t.prices.value.sort(((t,e)=>t.symbol.localeCompare(e.symbol))).filter((function(t){return!!a&&a.indexOf(t.symbol)>=0})),s=new o(null!=r?r:[],{keyAttributes:"symbol"}),l=new n.IntlNumberConverter({style:"currency",currency:"USD",currencyDisplay:"symbol",currencyFormat:"standard",decimalFormat:"long",maximumFractionDigits:12});return(0,i.useEffect)((()=>(d(),h(),()=>u())),[]),(0,e.jsx)("div",{children:(0,e.jsx)("oj-list-view",Object.assign({id:"lvPrices","aria-label":"flamingo price list",data:s,class:"oj-listview-item-padding-off","selection-mode":"none"},{children:(0,e.jsx)("template",{slot:"itemTemplate","data-oj-as":"item",render:t=>(0,e.jsx)("div",{children:(0,e.jsxs)("div",Object.assign({className:"oj-flex oj-sm-padding-2x"},{children:[(0,e.jsx)("img",{src:`styles/images/${t.item.data.symbol}.svg`,class:"token"}),(0,e.jsxs)("div",{children:[(0,e.jsx)("div",Object.assign({className:"oj-flex"},{children:(0,e.jsx)("span",Object.assign({class:"oj-typography-body-md oj-text-color-primary"},{children:t.item.data.symbol}))})),(0,e.jsx)("div",Object.assign({style:{fontSize:22}},{children:l.format(t.item.data.usd_price)}))]})]}))})})}))})}),"PriceList",{properties:{pricesToShow:{type:"Array<string>"}}}),t.stopPriceRefreshTimer=u,t.isAutoPriceRefreshRunning=(0,r.computed)((()=>l.value>0)),t.startPriceRefreshTimer=h})),define("dashboard/price-list/loader",["require","exports","./price-list"],(function(require,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PriceList=void 0,Object.defineProperty(t,"PriceList",{enumerable:!0,get:function(){return e.PriceList}})}));
//# sourceMappingURL=loader.js.map;

define('css!dashboard/ratio-list/ratio-list-styles',[],function(){});
define("dashboard/ratio-list/ratios-lib",["require","exports","@cityofzion/neon-core-neo3","ojs/ojlogger","css!dashboard/wallet-manager/wallet-manager-styles.css","ojs/ojchart","ojs/ojactioncard","ojs/ojcolorspectrum","ojs/ojlistview","ojs/ojlistitemlayout","ojs/ojinputtext","ojs/ojbutton","ojs/ojformlayout","ojs/ojvalidationgroup","ojs/ojpopup","ojs/ojdefer"],(function(require,t,e,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STORAGE_VALUE_MESSAGE=t.DEFAULT_RPC_URLS=t.DEFAULT_N3_RPC_NETWORK=t.DEFAULT_N2_RPC_NETWORK=t.STORAGE_VALUE_TYPE=t.STORAGE_NAME=t.NetworkType=t.addToRatiosInStorage=t.loadRatiosFromStorage=t.updateWalletToStorage=t.addWalletToStorage=t.loadWalletsFromStorage=t.GAS3_CONTRACT=t.NEO3_CONTRACT=t.CWallet=void 0;class i extends e.wallet.Wallet{constructor(t){super(t)}export(){return super.export()}}t.CWallet=i,t.NEO3_CONTRACT="0xef4073a0f2b305a38ec4050e4d3d28bc40ea63f5",t.GAS3_CONTRACT="0xd2a4cff31913016155e38e474a2c06d08be276cf";t.loadWalletsFromStorage=()=>n(o["walletArr-Neo3"]);t.addWalletToStorage=(r,s,n,d)=>{const c=new e.wallet.Account(s),u=e.wallet.isAddress(c.address,53)?"Neo3":"Neo2";a.info("configureWallet > chainType =",u);const h=new i({name:null!=r?r:"nxTraderUser",walletColor:d.toString()});h.walletColor=d,h.addAccount(c);h.accounts[0].WIF;h.encrypt(0,n);const g=(0,t.loadWalletsFromStorage)();g.push(h),l(o.chainType,u),l(o["walletArr-Neo3"],g);const{address:p}=c};t.updateWalletToStorage=(e,a)=>{const i=(0,t.loadWalletsFromStorage)(),r=i.find((t=>t.name===e));if(r){r.walletColor=a}l(o["walletArr-Neo3"],i)};t.loadRatiosFromStorage=()=>{var t=n(o.ratios);return null!=t?t:new Map};var r,o,s;function n(e){let a=localStorage[e],i=a;switch(t.STORAGE_VALUE_MESSAGE[e].type){case s.object:i=a&&"undefined"!==a?JSON.parse(a):{};break;case s.array:i=a&&"undefined"!==a?JSON.parse(a):[];break;case s.map:i=a&&"undefined"!==a?new Map(JSON.parse(a)):new Map;break;case s.number:i=a&&"undefined"!==a?Number(a):0;break;case s.boolean:i="true"===a}return i}function l(e,a){let i=a;switch(t.STORAGE_VALUE_MESSAGE[e].type){case s.object:case s.array:i=JSON.stringify(a);break;case s.number:case s.boolean:i=String(a);break;case s.map:i=JSON.stringify([...a.entries()])}localStorage.setItem(e,i)}t.addToRatiosInStorage=(e,a)=>{const i=(0,t.loadRatiosFromStorage)();i.set(e,a),function(t,e){if(t.size>e){Array.from(t.keys()).slice(0,1).forEach((e=>t.delete(e)))}}(i,500),l(o.ratios,i)},function(t){t.MainNet="MainNet",t.TestNet="TestNet",t.N3MainNet="N3MainNet",t.N3TestNet="N3TestNet",t.N3PrivateNet="N3PrivateNet"}(r=t.NetworkType||(t.NetworkType={})),function(t){t.n2Networks="n2Networks",t.n3Networks="n3Networks",t.n2SelectedNetworkIndex="n2SelectedNetworkIndex",t.n3SelectedNetworkIndex="n3SelectedNetworkIndex",t.coinsRate="coinsRate",t.fiatRate="fiatRate",t.neo3CoinsRate="neo3CoinsRate",t.rateCurrency="rateCurrency",t.wallet="wallet",t.walletArr="walletArr",t["walletArr-Neo3"]="walletArr-Neo3",t.WIFArr="WIFArr",t["WIFArr-Neo3"]="WIFArr-Neo3",t.chainType="chainType",t.neo3AddressFlag="neo3AddressFlag",t.lang="lang",t.transaction="transaction",t.connectedWebsites="connectedWebsites",t.authAddress="authAddress",t.InvokeArgsArray="InvokeArgsArray",t.walletsStatus="walletsStatus",t.haveBackupTip="haveBackupTip",t.hasLoginAddress="hasLoginAddress",t.shouldFindNode="shouldFindNode",t.rpcUrls="rpcUrls",t.neo3RemoveT4Flag="neo3RemoveT4Flag",t.onePassword="onePassword",t.theme="theme",t.onePassCheckAddresses="onePassCheckAddresses",t.ratios="ratios"}(o=t.STORAGE_NAME||(t.STORAGE_NAME={})),function(t){t.number="number",t.string="string",t.object="object",t.map="map",t.boolean="boolean",t.array="array"}(s=t.STORAGE_VALUE_TYPE||(t.STORAGE_VALUE_TYPE={})),t.DEFAULT_N2_RPC_NETWORK=[{rpcUrl:"http://seed1.ngd.network:10332",name:"N2 MAINNET",explorer:"https://neo2.neotube.io/",network:r.MainNet,chainId:1,id:1},{rpcUrl:"http://seed5.ngd.network:20332",name:"N2 TESTNET",explorer:"",network:r.TestNet,chainId:2,id:2}],t.DEFAULT_N3_RPC_NETWORK=[{rpcUrl:"https://n3seed1.ngd.network:10332",name:"N3 MAINNET",magicNumber:860833102,explorer:"https://neotube.io/",network:r.N3MainNet,chainId:3,id:3},{rpcUrl:"http://seed3t5.neo.org:20332",name:"N3 TESTNET",magicNumber:894710606,explorer:"https://testnet.neotube.io/",network:r.N3TestNet,chainId:6,id:6}],t.DEFAULT_RPC_URLS={lastModified:null,nodes:{1:["http://seed6.ngd.network:10332","http://seed8.ngd.network:10332"],2:["http://seed3.ngd.network:20332","http://seed4.ngd.network:20332","http://seed5.ngd.network:20332","http://seed8.ngd.network:20332"],3:["http://seed1.neo.org:10332","http://seed2.neo.org:10332","http://seed3.neo.org:10332","http://seed4.neo.org:10332","http://seed5.neo.org:10332","https://n3seed1.ngd.network:10332","https://n3seed2.ngd.network:10332","https://neo3-mainnet.neoline.vip"],6:["http://seed1t5.neo.org:20332","http://seed2t5.neo.org:20332","http://seed3t5.neo.org:20332","http://seed4t5.neo.org:20332","http://seed5t5.neo.org:20332"]}},t.STORAGE_VALUE_MESSAGE={n2Networks:{type:s.array,isLocal:!0,default:t.DEFAULT_N2_RPC_NETWORK},n3Networks:{type:s.array,isLocal:!0,default:t.DEFAULT_N3_RPC_NETWORK},n2SelectedNetworkIndex:{type:s.number,isLocal:!0,default:0},n3SelectedNetworkIndex:{type:s.number,isLocal:!0,default:0},coinsRate:{type:s.object,isLocal:!1},fiatRate:{type:s.object,isLocal:!1},neo3CoinsRate:{type:s.object,isLocal:!1},rateCurrency:{type:s.string,isLocal:!1,default:"USD"},wallet:{type:s.object,isLocal:!0},walletArr:{type:s.array,isLocal:!0},"walletArr-Neo3":{type:s.array,isLocal:!0},WIFArr:{type:s.array,isLocal:!0},"WIFArr-Neo3":{type:s.array,isLocal:!0},chainType:{type:s.string,isLocal:!0},neo3AddressFlag:{type:s.boolean,isLocal:!0},lang:{type:s.string,isLocal:!1,default:"en"},transaction:{type:s.object,isLocal:!1},connectedWebsites:{type:s.object,isLocal:!1},authAddress:{type:s.object,isLocal:!1},InvokeArgsArray:{type:s.array,isLocal:!0},walletsStatus:{type:s.object,isLocal:!0},haveBackupTip:{type:s.boolean,isLocal:!0},hasLoginAddress:{type:s.object,isLocal:!0},shouldFindNode:{type:s.boolean,isLocal:!0},rpcUrls:{type:s.object,isLocal:!0,default:t.DEFAULT_RPC_URLS},neo3RemoveT4Flag:{type:s.boolean,isLocal:!0},onePassword:{type:s.boolean,isLocal:!0},theme:{type:s.string,isLocal:!1,default:"light-theme"},onePassCheckAddresses:{type:s.object,isLocal:!0},ratios:{type:s.map,isLocal:!0}}})),define("dashboard/ratio-list/ratio-chart",["require","exports","preact/jsx-runtime","@preact/signals","ojs/ojarraydataprovider","css!dashboard/ratio-list/ratio-list-styles.css"],(function(require,t,e,a,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RatioChart=void 0,t.RatioChart=function({data:t}){const r=(0,a.useSignal)(t),o=new i(r.value,{keyAttributes:"id"});return(0,e.jsx)("div",Object.assign({class:""},{children:(0,e.jsx)("oj-spark-chart",Object.assign({type:"lineWithArea",data:o,lineType:"curved",title:""},{children:(0,e.jsx)("template",{slot:"itemTemplate","data-oj-as":"item",render:t=>(0,e.jsx)("oj-spark-chart-item",{value:t.data.value})})}))}))}}));var __awaiter=this&&this.__awaiter||function(t,e,a,i){return new(a||(a=Promise))((function(r,o){function s(t){try{l(i.next(t))}catch(t){o(t)}}function n(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof a?e:new a((function(t){t(e)}))).then(s,n)}l((i=i.apply(t,e||[])).next())}))};define("dashboard/flamingo-api/api/api-client",["require","exports","axios"],(function(require,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(){this.api=e.default.create({baseURL:"https://neo-api.b-cdn.net"})}getWalletWalletHistory(t,e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/wallet/history",{neo_address:t,page:e})}))}getWalletWalletLatest(t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/wallet/latest",{neo_address:t})}))}getWalletClaimsHistory(t,e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/claims/history",{neo_address:t,page:e})}))}getWalletClaimsLatest(t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/claims/latest",{neo_address:t})}))}getWalletTradeHistory(t,e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/trade/history",{neo_address:t,page:e})}))}getWalletTradeLatest(t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/trade/latest",{neo_address:t})}))}getWalletLpHistory(t,e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/lp/history",{neo_address:t,page:e})}))}getWalletLpLatest(t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/lp/latest",{neo_address:t})}))}getWalletStakingHistory(t,e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/staking/history",{neo_address:t,page:e})}))}getWalletStakingLatest(t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/staking/latest",{neo_address:t})}))}getWalletLendHistory(t,e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/lend/history",{neo_address:t,page:e})}))}getWalletLendLatest(t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/lend/latest",{neo_address:t})}))}getWalletTransferHistory(t,e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/transfer/history",{neo_address:t,page:e})}))}getWalletTransferLatest(t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/transfer/latest",{neo_address:t})}))}getFlamingoLivedataPricesLatest(){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/prices/latest",{})}))}getFlamingoLivedataPricesFromblock(t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData(`/flamingo/live-data/prices/from-block/${t}`,{})}))}getFlamingoLivedataPricesFromdatetime({year:t,month:e,day:a,hour:i,minute:r}){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData(`/flamingo/live-data/prices/from-datetime/${t}/${e}/${a}/${i}/${r}`,{})}))}getFlamingoLivedataPricesFromtimestamp(t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData(`/flamingo/live-data/prices/from-timestamp/${t}`,{})}))}getFlamingoLivedataFiatexchangerate(t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData(`/flamingo/live-data/fiat-exchange-rate/${t}`,{})}))}getFlamingoLivedataClaimsHistory(t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/claims/history",{page:t})}))}getFlamingoLivedataClaimsLatest(){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/claims/latest",{})}))}getFlamingoLivedataTradeHistory(t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/trade/history",{page:t})}))}getFlamingoLivedataTradeLatest(){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/trade/latest",{})}))}getFlamingoLivedataLpHistory(t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/lp/history",{page:t})}))}getFlamingoLivedataLpLatest(){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/lp/latest",{})}))}getFlamingoLivedataStakingHistory(t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/staking/history",{page:t})}))}getFlamingoLivedataStakingLatest(){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/staking/latest",{})}))}getFlamingoLivedataLendHistory(t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/lend/history",{page:t})}))}getFlamingoLivedataLendLatest(){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/lend/latest",{})}))}getFlamingoLivedataTransferHistory(t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/transfer/history",{page:t})}))}getFlamingoLivedataTransferLatest(){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/transfer/latest",{})}))}getFlamingoAnalyticsMonthhistory(t,{year:e,month:a}){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData(`/flamingo/analytics/month-history/${t}`,{year:e,month:a})}))}getFlamingoAnalyticsMonthlatest(t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData(`/flamingo/analytics/month-latest/${t}`,{})}))}getFlamingoAnalyticsDailyhistory(t,{year:e,month:a,day:i}){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData(`/flamingo/analytics/daily-history/${t}`,{year:e,month:a,day:i})}))}getFlamingoAnalyticsDailylatest(t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData(`/flamingo/analytics/daily-latest/${t}`,{})}))}getFlamingoAnalyticsRolling30days(t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData(`/flamingo/analytics/rolling-30-days/${t}`,{})}))}getFlamingoAnalyticsFlamingoTotalsupply(){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/analytics/flamingo/total-supply",{})}))}getFlamingoAnalyticsFlamingoUsdvaluelocked(){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/analytics/flamingo/usd-value-locked",{})}))}getNeoBlock(t,e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/neo/block",{index:t,flamingo_data:e})}))}getNeoBlockLatest(t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/neo/block/latest",{flamingo_data:t})}))}getNeoBlocksHistory(t,e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/neo/blocks/history",{page:t,flamingo_data:e})}))}getNeoBlocksLatest(t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/neo/blocks/latest",{flamingo_data:t})}))}getNeoTransaction(t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/neo/transaction",{tx_hash:t})}))}fetchData(t,e={}){return __awaiter(this,void 0,void 0,(function*(){try{return(yield this.api.get(t,{params:e})).data}catch(e){throw console.error("Error fetching data from URL:",t,e),e}}))}}}));__awaiter=this&&this.__awaiter||function(t,e,a,i){return new(a||(a=Promise))((function(r,o){function s(t){try{l(i.next(t))}catch(t){o(t)}}function n(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof a?e:new a((function(t){t(e)}))).then(s,n)}l((i=i.apply(t,e||[])).next())}))};define("dashboard/price-list/price-list",["require","exports","preact/jsx-runtime","ojs/ojvcomponent","preact/hooks","@preact/signals","ojs/ojconverter-number","ojs/ojarraydataprovider","dashboard/flamingo-api/api/api-client","css!dashboard/price-list/price-list-styles.css","ojs/ojlistview","ojs/ojlistitemlayout"],(function(require,t,e,a,i,r,o,s,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.startPriceRefreshTimer=t.isAutoPriceRefreshRunning=t.stopPriceRefreshTimer=t.PriceList=t.prices=void 0;t.prices=(0,r.signal)([]);let l=(0,r.signal)(0);const d=new n.default;function c(){(function(){return __awaiter(this,void 0,void 0,(function*(){return d.getFlamingoLivedataPricesLatest()}))})().then((e=>{console.log("price-list > refreshPrices > completed",e),t.prices.value=function(t){var e=t.filter((t=>"bNEO"===t.symbol));1===e.length&&t.push({hash:e[0].hash,symbol:"NEO",unwrappedSymbol:"NEO",usd_price:e[0].usd_price});return t}(e)}))}function u(){0!==l.value&&(console.log("price-list > stop refresh timer"),clearInterval(l.value),l.value=0)}function h(){0===l.value&&(console.log("price-list > start refresh timer"),l.value=setInterval(c,3e5))}t.PriceList=(0,a.registerCustomElement)("dashboard-price-list",(function({pricesToShow:a}){const r=t.prices.value.sort(((t,e)=>t.symbol.localeCompare(e.symbol))).filter((function(t){return!!a&&a.indexOf(t.symbol)>=0})),n=new s(null!=r?r:[],{keyAttributes:"symbol"}),l=new o.IntlNumberConverter({style:"currency",currency:"USD",currencyDisplay:"symbol",currencyFormat:"standard",decimalFormat:"long",maximumFractionDigits:12});return(0,i.useEffect)((()=>(c(),h(),()=>u())),[]),(0,e.jsx)("div",{children:(0,e.jsx)("oj-list-view",Object.assign({id:"lvPrices","aria-label":"flamingo price list",data:n,class:"oj-listview-item-padding-off","selection-mode":"none"},{children:(0,e.jsx)("template",{slot:"itemTemplate","data-oj-as":"item",render:t=>(0,e.jsx)("div",{children:(0,e.jsxs)("div",Object.assign({className:"oj-flex oj-sm-padding-2x"},{children:[(0,e.jsx)("img",{src:`styles/images/${t.item.data.symbol}.svg`,class:"token"}),(0,e.jsxs)("div",{children:[(0,e.jsx)("div",Object.assign({className:"oj-flex"},{children:(0,e.jsx)("span",Object.assign({class:"oj-typography-body-md oj-text-color-primary"},{children:t.item.data.symbol}))})),(0,e.jsx)("div",Object.assign({style:{fontSize:22}},{children:l.format(t.item.data.usd_price)}))]})]}))})})}))})}),"PriceList",{properties:{pricesToShow:{type:"Array<string>"}}}),t.stopPriceRefreshTimer=u,t.isAutoPriceRefreshRunning=(0,r.computed)((()=>l.value>0)),t.startPriceRefreshTimer=h})),define("dashboard/ratio-list/ratio-list",["require","exports","preact/jsx-runtime","ojs/ojvcomponent","./ratios-lib","@preact/signals","./ratio-chart","ojs/ojarraydataprovider","dashboard/price-list/price-list","css!dashboard/ratio-list/ratio-list-styles.css"],(function(require,t,e,a,i,r,o,s,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RatioList=void 0,t.RatioList=(0,a.registerCustomElement)("dashboard-ratio-list",(function({ratiosToShow:t}){const a=(0,r.useSignal)(new Map),l=(0,r.useSignal)([]),d=(0,r.computed)((()=>new s(l.value,{keyAttributes:"key"})));function c(){var e;function r(t){return n.prices.value.filter((function(e){if(t===e.symbol)return!0}))}console.log("ratio-list > getLatestRatios");const o=[];var s,d;n.prices&&(null===(e=null===n.prices||void 0===n.prices?void 0:n.prices.value)||void 0===e?void 0:e.length)>0&&(null==t||t.forEach((t=>{const e=t.split("|"),a=e[0].split("/"),i=r(a[0]),s=r(a[1]),n=i[0].usd_price/s[0].usd_price,l=s[0].usd_price/i[0].usd_price;let d="";if(null!=e[1]){const t=e[1].split("/");l<=parseFloat(t[0])?d=`👴 ${a[0]} is strong, convert ${a[0]} to ${a[1]}`:l>=parseFloat(t[1])&&(d=`👴 ${a[1]} is strong, convert ${a[1]} to ${a[0]}`)}o.push({key:e[0],p1:a[0],p2:a[1],ratio:n,ratioInvert:l,buySell:d})}))),o.length>0&&((0,i.addToRatiosInStorage)(Date.now().toString(),o),l.value=o,s=(0,i.loadRatiosFromStorage)(),d=new Map,s.forEach(((t,e)=>{t.forEach((t=>{var a;d.has(t.key)||d.set(t.key,[]),null===(a=d.get(t.key))||void 0===a||a.push({id:parseInt(e),seriesId:t.key,groupId:e,value:t.ratioInvert,buySell:t.buySell})}))})),d.forEach(((t,e)=>{d.set(e,t.slice(0,Math.min(500,t.length)))})),a.value=d)}return(0,r.useSignalEffect)((()=>{n.prices.value&&c()})),(0,e.jsx)("div",Object.assign({class:"oj-sm-margin-3x-top "},{children:(0,e.jsx)("oj-list-view",Object.assign({id:"lvRatios","aria-label":"flamingo price list",data:d.value,class:"oj-listview-item-padding-off","selection-mode":"none"},{children:(0,e.jsx)("template",{slot:"itemTemplate","data-oj-as":"item",render:t=>{var i;return(0,e.jsxs)("div",Object.assign({class:"oj-md-margin-2x-top oj-md-padding-2x-start oj-md-padding-2x-end oj-md-margin-6x-bottom"},{children:[(0,e.jsx)("div",Object.assign({class:"oj-md-padding-2x-bottom oj-typography-body-lg oj-text-color-primary"},{children:t.data.key})),(0,e.jsxs)("div",Object.assign({class:"oj-flex oj-md-margin-2x-bottom"},{children:[(0,e.jsx)("img",{src:`styles/images/${t.item.data.p1}.svg`,class:"card-small-token"}),(0,e.jsx)("img",{src:`styles/images/${t.item.data.p2}.svg`,class:"card-small-token"}),(0,e.jsx)("div",Object.assign({class:"oj-sm-padding-1x-start"},{children:t.item.data.ratioInvert}))]})),(0,e.jsx)(o.RatioChart,{data:null!==(i=a.value.get(t.data.key))&&void 0!==i?i:[]}),(0,e.jsx)("div",Object.assign({class:"oj-md-padding-2x-top"},{children:t.item.data.buySell}))]}))}})}))}))}),"RatioList",{properties:{ratiosToShow:{type:"Array<string>"}}})})),define("dashboard/ratio-list/loader",["require","exports","./ratio-list"],(function(require,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RatioList=void 0,Object.defineProperty(t,"RatioList",{enumerable:!0,get:function(){return e.RatioList}})}));
//# sourceMappingURL=loader.js.map;
define("dashboard/notifications-layer/notifications-layer",["require","exports","preact/jsx-runtime","ojs/ojvcomponent","ojs/ojarraydataprovider","@preact/signals","css!dashboard/notifications-layer/notifications-layer-styles.css","ojs/ojmessages"],(function(require,i,e,o,t,a){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.createNotification=i.NotificationsLayer=void 0;const n=(0,a.signal)([]);i.NotificationsLayer=(0,o.registerCustomElement)("dashboard-notifications-layer",(function({}){const i=new t(n.value,{keyAttributes:"id"});return(0,e.jsx)("div",{children:(0,e.jsx)("oj-messages",{class:"oj-color-invert",messages:i,display:"notification",position:{my:{vertical:"top",horizontal:"end"},at:{vertical:"top",horizontal:"end"},of:"window"}})})}),"NotificationsLayer"),i.createNotification=function(i){n.value=[i]}})),define("dashboard/notifications-layer/loader",["require","exports","./notifications-layer"],(function(require,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.NotificationsLayer=void 0,Object.defineProperty(i,"NotificationsLayer",{enumerable:!0,get:function(){return e.NotificationsLayer}})}));
//# sourceMappingURL=loader.js.map;

define('css!dashboard/bot-maintainer/bot-maintainer-styles',[],function(){});
define("dashboard/bot-maintainer/bot-maintainer",["require","exports","preact/jsx-runtime","ojs/ojvcomponent","css!dashboard/bot-maintainer/bot-maintainer-styles.css"],(function(require,e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BotMaintainer=void 0,e.BotMaintainer=(0,n.registerCustomElement)("dashboard-bot-maintainer",(function({message:e=""}){return console.log("bot-maintainer > render"),(0,t.jsx)("div",Object.assign({class:"oj-sm-margin-7x-start oj-sm-margin-7x-end oj-sm-margin-5x-top"},{children:e}))}),"BotMaintainer",{properties:{message:{type:"string"}}},{message:""})})),define("dashboard/bot-maintainer/loader",["require","exports","./bot-maintainer"],(function(require,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BotMaintainer=void 0,Object.defineProperty(e,"BotMaintainer",{enumerable:!0,get:function(){return t.BotMaintainer}})}));
//# sourceMappingURL=loader.js.map;
var __awaiter=this&&this.__awaiter||function(e,t,a,s){return new(a||(a=Promise))((function(n,i){function o(e){try{l(s.next(e))}catch(e){i(e)}}function r(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,r)}l((s=s.apply(e,t||[])).next())}))};define("dashboard/flamingo-api/indexdb/indexDbService",["require","exports"],(function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const t="neo-flamingo-offline-storage";let a=!1;const s=[];let n;e.default={getObjectStore:function(e){const t=n.transaction(e,"readwrite");return t.oncomplete=function(){},t.objectStore(e)},isOfflineStorageEnabled:function(){return a},bootstrapOfflineStorage:function(e,i){return __awaiter(this,void 0,void 0,(function*(){if(a=e,!a)throw"[Offline Storage] Feature switch not enabled";try{const{openDbHandle:e}=yield new Promise(((e,a)=>{const n=self.indexedDB.open(t,1);let i=!1;n.onsuccess=function(){e({dbUpgradeNeeded:i,openDbHandle:this.result})},n.onerror=function(e){console.error("[Offline Storage] Could not open database",e),a(e)},n.onupgradeneeded=function(){s.forEach((e=>{e(this.result)})),i=!0}}));n=e,yield i()}catch(e){a=!1;const t="[Offline Storage] Feature was enabled but failed to initialize databases";throw console.error(t,e),t}}))},registerOnUpgradeNeededListener:function(e){s.push(e)}}})),define("dashboard/flamingo-api/indexdb/indexDbErrorHandling",["require","exports"],(function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.extractErrorAsString=void 0,e.extractErrorAsString=function(e,t){try{return e+`. ${t.target.error}`}catch(t){return e+". Error converting indexdb error event to string"}}}));__awaiter=this&&this.__awaiter||function(e,t,a,s){return new(a||(a=Promise))((function(n,i){function o(e){try{l(s.next(e))}catch(e){i(e)}}function r(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,r)}l((s=s.apply(e,t||[])).next())}))};define("dashboard/flamingo-api/indexdb/transactionsDbService",["require","exports","./indexDbService","./indexDbErrorHandling"],(function(require,e,t,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s="watchlist";let n=2;t.default.registerOnUpgradeNeededListener((e=>function(e){console.log("transactionsDbService > onUpgradeNeeded");let t;e.objectStoreNames.contains(s)||(t=e.createObjectStore(s,{keyPath:"id"}),t.createIndex("idIndex","id",{unique:!0,multiEntry:!1}),t.createIndex("symbolIndex","symbol",{unique:!1,multiEntry:!1}))}(e))),e.default={setGeneratedArtifactVersion:function(e){n=e},storeTransaction:function(e,i,o){return __awaiter(this,void 0,void 0,(function*(){yield function(e,i,o){return __awaiter(this,void 0,void 0,(function*(){return new Promise(((r,l)=>{let d={block_time:e.block_time,id:e.id,size:e.size,txid:e.txid,value:e.value,net_fee:e.net_fee,asset_id:e.asset_id,symbol:e.symbol,from:e.from,to:e.to,type:e.type,purchaseCostUsdt:i,goalUsdt:o,recordVersion:n,createdOn:(new Date).toISOString()};const c=t.default.getObjectStore(s).put(d);d=null,c.onsuccess=function(){r()},c.onerror=function(t){l((0,a.extractErrorAsString)(`addTransactionToDb indexdb error id=${e.id}`,t))}}))}))}(e,i,o)}))},getTransactions:function(e){return __awaiter(this,void 0,void 0,(function*(){return yield function(e){return __awaiter(this,void 0,void 0,(function*(){return new Promise(((n,i)=>{const o=t.default.getObjectStore(s).index("symbolIndex").getAll(e);o.onsuccess=function(e){if(void 0===e.target.result)return void i();const t=e.target.result;n(t)},o.onerror=function(e){i((0,a.extractErrorAsString)("getTransactionsFromDb indexdb error",e))}}))}))}(e)}))},getAllTransactions:function(){return __awaiter(this,void 0,void 0,(function*(){return yield function(){return __awaiter(this,void 0,void 0,(function*(){return new Promise(((e,n)=>{const i=t.default.getObjectStore(s).getAll();i.onsuccess=function(t){if(void 0===t.target.result)return void n();const a=t.target.result;e(a)},i.onerror=function(e){n((0,a.extractErrorAsString)("getTransactionsFromDb indexdb error",e))}}))}))}()}))},deleteById:function(e){return __awaiter(this,void 0,void 0,(function*(){return new Promise(((a,n)=>{const i=t.default.getObjectStore(s),o=i.index("idIndex").openKeyCursor(e);o.onsuccess=function(){const e=o.result;e?(i.delete(e.primaryKey),e.continue()):a()},o.onerror=function(e){n(e.target.errorCode)}}))}))}}}));__awaiter=this&&this.__awaiter||function(e,t,a,s){return new(a||(a=Promise))((function(n,i){function o(e){try{l(s.next(e))}catch(e){i(e)}}function r(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,r)}l((s=s.apply(e,t||[])).next())}))};define("dashboard/flamingo-api/api/api-client",["require","exports","axios"],(function(require,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(){this.api=t.default.create({baseURL:"https://neo-api.b-cdn.net"})}getWalletWalletHistory(e,t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/wallet/history",{neo_address:e,page:t})}))}getWalletWalletLatest(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/wallet/latest",{neo_address:e})}))}getWalletClaimsHistory(e,t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/claims/history",{neo_address:e,page:t})}))}getWalletClaimsLatest(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/claims/latest",{neo_address:e})}))}getWalletTradeHistory(e,t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/trade/history",{neo_address:e,page:t})}))}getWalletTradeLatest(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/trade/latest",{neo_address:e})}))}getWalletLpHistory(e,t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/lp/history",{neo_address:e,page:t})}))}getWalletLpLatest(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/lp/latest",{neo_address:e})}))}getWalletStakingHistory(e,t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/staking/history",{neo_address:e,page:t})}))}getWalletStakingLatest(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/staking/latest",{neo_address:e})}))}getWalletLendHistory(e,t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/lend/history",{neo_address:e,page:t})}))}getWalletLendLatest(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/lend/latest",{neo_address:e})}))}getWalletTransferHistory(e,t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/transfer/history",{neo_address:e,page:t})}))}getWalletTransferLatest(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/transfer/latest",{neo_address:e})}))}getFlamingoLivedataPricesLatest(){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/prices/latest",{})}))}getFlamingoLivedataPricesFromblock(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData(`/flamingo/live-data/prices/from-block/${e}`,{})}))}getFlamingoLivedataPricesFromdatetime({year:e,month:t,day:a,hour:s,minute:n}){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData(`/flamingo/live-data/prices/from-datetime/${e}/${t}/${a}/${s}/${n}`,{})}))}getFlamingoLivedataPricesFromtimestamp(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData(`/flamingo/live-data/prices/from-timestamp/${e}`,{})}))}getFlamingoLivedataFiatexchangerate(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData(`/flamingo/live-data/fiat-exchange-rate/${e}`,{})}))}getFlamingoLivedataClaimsHistory(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/claims/history",{page:e})}))}getFlamingoLivedataClaimsLatest(){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/claims/latest",{})}))}getFlamingoLivedataTradeHistory(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/trade/history",{page:e})}))}getFlamingoLivedataTradeLatest(){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/trade/latest",{})}))}getFlamingoLivedataLpHistory(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/lp/history",{page:e})}))}getFlamingoLivedataLpLatest(){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/lp/latest",{})}))}getFlamingoLivedataStakingHistory(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/staking/history",{page:e})}))}getFlamingoLivedataStakingLatest(){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/staking/latest",{})}))}getFlamingoLivedataLendHistory(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/lend/history",{page:e})}))}getFlamingoLivedataLendLatest(){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/lend/latest",{})}))}getFlamingoLivedataTransferHistory(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/transfer/history",{page:e})}))}getFlamingoLivedataTransferLatest(){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/transfer/latest",{})}))}getFlamingoAnalyticsMonthhistory(e,{year:t,month:a}){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData(`/flamingo/analytics/month-history/${e}`,{year:t,month:a})}))}getFlamingoAnalyticsMonthlatest(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData(`/flamingo/analytics/month-latest/${e}`,{})}))}getFlamingoAnalyticsDailyhistory(e,{year:t,month:a,day:s}){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData(`/flamingo/analytics/daily-history/${e}`,{year:t,month:a,day:s})}))}getFlamingoAnalyticsDailylatest(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData(`/flamingo/analytics/daily-latest/${e}`,{})}))}getFlamingoAnalyticsRolling30days(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData(`/flamingo/analytics/rolling-30-days/${e}`,{})}))}getFlamingoAnalyticsFlamingoTotalsupply(){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/analytics/flamingo/total-supply",{})}))}getFlamingoAnalyticsFlamingoUsdvaluelocked(){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/analytics/flamingo/usd-value-locked",{})}))}getNeoBlock(e,t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/neo/block",{index:e,flamingo_data:t})}))}getNeoBlockLatest(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/neo/block/latest",{flamingo_data:e})}))}getNeoBlocksHistory(e,t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/neo/blocks/history",{page:e,flamingo_data:t})}))}getNeoBlocksLatest(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/neo/blocks/latest",{flamingo_data:e})}))}getNeoTransaction(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/neo/transaction",{tx_hash:e})}))}fetchData(e,t={}){return __awaiter(this,void 0,void 0,(function*(){try{return(yield this.api.get(e,{params:t})).data}catch(t){throw console.error("Error fetching data from URL:",e,t),t}}))}}}));__awaiter=this&&this.__awaiter||function(e,t,a,s){return new(a||(a=Promise))((function(n,i){function o(e){try{l(s.next(e))}catch(e){i(e)}}function r(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,r)}l((s=s.apply(e,t||[])).next())}))};define("dashboard/price-list/price-list",["require","exports","preact/jsx-runtime","ojs/ojvcomponent","preact/hooks","@preact/signals","ojs/ojconverter-number","ojs/ojarraydataprovider","dashboard/flamingo-api/api/api-client","css!dashboard/price-list/price-list-styles.css","ojs/ojlistview","ojs/ojlistitemlayout"],(function(require,e,t,a,s,n,i,o,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.startPriceRefreshTimer=e.isAutoPriceRefreshRunning=e.stopPriceRefreshTimer=e.PriceList=e.prices=void 0;e.prices=(0,n.signal)([]);let l=(0,n.signal)(0);const d=new r.default;function c(){(function(){return __awaiter(this,void 0,void 0,(function*(){return d.getFlamingoLivedataPricesLatest()}))})().then((t=>{console.log("price-list > refreshPrices > completed",t),e.prices.value=function(e){var t=e.filter((e=>"bNEO"===e.symbol));1===t.length&&e.push({hash:t[0].hash,symbol:"NEO",unwrappedSymbol:"NEO",usd_price:t[0].usd_price});return e}(t)}))}function u(){0!==l.value&&(console.log("price-list > stop refresh timer"),clearInterval(l.value),l.value=0)}function f(){0===l.value&&(console.log("price-list > start refresh timer"),l.value=setInterval(c,3e5))}e.PriceList=(0,a.registerCustomElement)("dashboard-price-list",(function({pricesToShow:a}){const n=e.prices.value.sort(((e,t)=>e.symbol.localeCompare(t.symbol))).filter((function(e){return!!a&&a.indexOf(e.symbol)>=0})),r=new o(null!=n?n:[],{keyAttributes:"symbol"}),l=new i.IntlNumberConverter({style:"currency",currency:"USD",currencyDisplay:"symbol",currencyFormat:"standard",decimalFormat:"long",maximumFractionDigits:12});return(0,s.useEffect)((()=>(c(),f(),()=>u())),[]),(0,t.jsx)("div",{children:(0,t.jsx)("oj-list-view",Object.assign({id:"lvPrices","aria-label":"flamingo price list",data:r,class:"oj-listview-item-padding-off","selection-mode":"none"},{children:(0,t.jsx)("template",{slot:"itemTemplate","data-oj-as":"item",render:e=>(0,t.jsx)("div",{children:(0,t.jsxs)("div",Object.assign({className:"oj-flex oj-sm-padding-2x"},{children:[(0,t.jsx)("img",{src:`styles/images/${e.item.data.symbol}.svg`,class:"token"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",Object.assign({className:"oj-flex"},{children:(0,t.jsx)("span",Object.assign({class:"oj-typography-body-md oj-text-color-primary"},{children:e.item.data.symbol}))})),(0,t.jsx)("div",Object.assign({style:{fontSize:22}},{children:l.format(e.item.data.usd_price)}))]})]}))})})}))})}),"PriceList",{properties:{pricesToShow:{type:"Array<string>"}}}),e.stopPriceRefreshTimer=u,e.isAutoPriceRefreshRunning=(0,n.computed)((()=>l.value>0)),e.startPriceRefreshTimer=f})),define("dashboard/notifications-layer/notifications-layer",["require","exports","preact/jsx-runtime","ojs/ojvcomponent","ojs/ojarraydataprovider","@preact/signals","css!dashboard/notifications-layer/notifications-layer-styles.css","ojs/ojmessages"],(function(require,e,t,a,s,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createNotification=e.NotificationsLayer=void 0;const i=(0,n.signal)([]);e.NotificationsLayer=(0,a.registerCustomElement)("dashboard-notifications-layer",(function({}){const e=new s(i.value,{keyAttributes:"id"});return(0,t.jsx)("div",{children:(0,t.jsx)("oj-messages",{class:"oj-color-invert",messages:e,display:"notification",position:{my:{vertical:"top",horizontal:"end"},at:{vertical:"top",horizontal:"end"},of:"window"}})})}),"NotificationsLayer"),e.createNotification=function(e){i.value=[e]}})),define("dashboard/watch-list/watch-list-item",["require","exports","preact/jsx-runtime","ojs/ojconverter-number","dashboard/notifications-layer/notifications-layer","css!dashboard/watch-list/watch-list-styles.css","ojs/ojgauge"],(function(require,e,t,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WatchListItem=void 0;const n=new a.IntlNumberConverter({style:"currency",currency:"USD",currencyDisplay:"symbol",currencyFormat:"standard",decimalFormat:"long",maximumFractionDigits:2}),i=new a.IntlNumberConverter({style:"decimal",minimumIntegerDigits:2,minimumFractionDigits:2,maximumFractionDigits:4,useGrouping:!1}),o=e=>({insert:`purchased ⠀(${e.componentElement.getAttribute("data-valueSymbol")}) : ${e.componentElement.getAttribute("data-value")}\n      ⠀⠀⠀⠀⠀⠀⠀⠀ (USDT) : ${e.componentElement.getAttribute("data-purchaseCostUsdt")} \n      current⠀⠀⠀ (USDT) : ${e.componentElement.getAttribute("data-curPriceInUsdt")}\n      goal⠀⠀⠀⠀⠀ (USDT) : ${e.componentElement.getAttribute("data-goalUsdt")}`});e.WatchListItem=function(e,a){e.unitPriceInUsd;const r=e.curPriceInUsdt,l=e.purchaseCostUsdt,d=e.goalUsdt,c=e.profitInUsdt;return(0,t.jsxs)("li",Object.assign({class:"oj-md-padding-3x-top oj-md-padding-3x-bottom"},{children:[(0,t.jsxs)("div",Object.assign({class:"oj-flex oj-flex oj-text-primary-color oj-typography-body-md"},{children:[(0,t.jsx)("img",{src:`styles/images/${e.symbol}.svg`,class:" card-small-token"}),(0,t.jsx)("div",Object.assign({onClick:()=>(e=>{navigator.clipboard.writeText(e);const t={id:1,severity:"none",summary:e+" copied to clipboard",autoTimeout:3e3};(0,s.createNotification)(t)})(e.value)},{children:i.format(parseFloat(e.value))})),(0,t.jsx)("div",{class:"oj-flex-item"}),(0,t.jsxs)("div",Object.assign({class:"oj-sm-flex-initial oj-flex-item oj-flex"},{children:[(0,t.jsx)("img",{src:"styles/images/fUSDT.svg",class:"oj-md-padding-2x-start card-small-token"}),(0,t.jsx)("div",{children:n.format(r)}),(0,t.jsx)("div",Object.assign({class:"oj-md-margin-2x-start "+(c>0?c>d-l?"profit-above-goal":"in-profit":"at-a-loss")},{children:n.format(c)}))]}))]})),(0,t.jsxs)("div",Object.assign({class:"oj-flex oj-md-padding-5x-start oj-md-padding-3x-top oj-md-padding-1x-bottom"},{children:[(0,t.jsx)("div",{class:"oj-flex-item"}),(0,t.jsx)("oj-status-meter-gauge",{"labelled-by":"metricLabel",min:Math.max(0,r-100),max:e.goalUsdt+50,value:r,thresholds:[{max:l,color:"red"},{max:d,color:"black"},{color:"green"}],size:"lg",referenceLines:[{value:l,color:"red"},{value:d,color:"black"}],tooltip:{renderer:o},"data-curPriceInUsdt":r,"data-purchaseCostUsdt":l,"data-goalUsdt":d,"data-value":e.value,"data-valueSymbol":e.symbol,style:{width:"250px",top:"10px"},plotArea:{rendered:"on"},readonly:!0}),(0,t.jsx)("oj-button",Object.assign({id:"bDelete",display:"icons",class:"oj-button-sm oj-sm-padding-2x-start",onojAction:a,"data-id":e.id,"data-value":e.value,"data-symbol":e.symbol},{children:(0,t.jsx)("span",{slot:"startIcon",class:"oj-ux-ico-trash"})})),(0,t.jsx)("div",{class:"oj-flex-item"})]}))]}))}})),define("dashboard/wallet-manager/bignumber",["require","exports"],(function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BigNumber=void 0;var t=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,a=Math.ceil,s=Math.floor,n="[BigNumber Error] ",i=n+"Number primitive has more than 15 significant digits: ",o=1e14,r=14,l=9007199254740991,d=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],c=1e7,u=1e9;function f(e){var t=0|e;return e>0||e===t?t:t-1}function m(e){for(var t,a,s=1,n=e.length,i=e[0]+"";s<n;){for(t=e[s++]+"",a=r-t.length;a--;t="0"+t);i+=t}for(n=i.length;48===i.charCodeAt(--n););return i.slice(0,n+1||1)}function g(e,t){var a,s,n=e.c,i=t.c,o=e.s,r=t.s,l=e.e,d=t.e;if(!o||!r)return null;if(a=n&&!n[0],s=i&&!i[0],a||s)return a?s?0:-r:o;if(o!=r)return o;if(a=o<0,s=l==d,!n||!i)return s?0:!n^a?1:-1;if(!s)return l>d^a?1:-1;for(r=(l=n.length)<(d=i.length)?l:d,o=0;o<r;o++)if(n[o]!=i[o])return n[o]>i[o]^a?1:-1;return l==d?0:l>d^a?1:-1}function h(e,t,a,i){if(e<t||e>a||e!==s(e))throw Error(n+(i||"Argument")+("number"==typeof e?e<t||e>a?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function v(e){var t=e.c.length-1;return f(e.e/r)==t&&e.c[t]%2!=0}function p(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function j(e,t,a){var s,n;if(t<0){for(n=a+".";++t;n+=a);e=n+e}else if(++t>(s=e.length)){for(n=a,t-=s;--t;n+=a);e+=n}else t<s&&(e=e.slice(0,t)+"."+e.slice(t));return e}e.BigNumber=function e(b){var w,y,x,_,T,A,N,O,S,E,k=$.prototype={constructor:$,toString:null,valueOf:null},C=new $(1),L=20,D=4,W=-7,F=21,P=-1e7,I=1e7,U=!1,R=1,M=0,B={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},H="0123456789abcdefghijklmnopqrstuvwxyz",G=!0;function $(e,a){var n,o,d,c,u,f,m,g,v=this;if(!(v instanceof $))return new $(e,a);if(null==a){if(e&&!0===e._isBigNumber)return v.s=e.s,void(!e.c||e.e>I?v.c=v.e=null:e.e<P?v.c=[v.e=0]:(v.e=e.e,v.c=e.c.slice()));if((f="number"==typeof e)&&0*e==0){if(v.s=1/e<0?(e=-e,-1):1,e===~~e){for(c=0,u=e;u>=10;u/=10,c++);return void(c>I?v.c=v.e=null:(v.e=c,v.c=[e]))}g=String(e)}else{if(!t.test(g=String(e)))return x(v,g,f);v.s=45==g.charCodeAt(0)?(g=g.slice(1),-1):1}(c=g.indexOf("."))>-1&&(g=g.replace(".","")),(u=g.search(/e/i))>0?(c<0&&(c=u),c+=+g.slice(u+1),g=g.substring(0,u)):c<0&&(c=g.length)}else{if(h(a,2,H.length,"Base"),10==a&&G)return V(v=new $(e),L+v.e+1,D);if(g=String(e),f="number"==typeof e){if(0*e!=0)return x(v,g,f,a);if(v.s=1/e<0?(g=g.slice(1),-1):1,$.DEBUG&&g.replace(/^0\.0*|\./,"").length>15)throw Error(i+e)}else v.s=45===g.charCodeAt(0)?(g=g.slice(1),-1):1;for(n=H.slice(0,a),c=u=0,m=g.length;u<m;u++)if(n.indexOf(o=g.charAt(u))<0){if("."==o){if(u>c){c=m;continue}}else if(!d&&(g==g.toUpperCase()&&(g=g.toLowerCase())||g==g.toLowerCase()&&(g=g.toUpperCase()))){d=!0,u=-1,c=0;continue}return x(v,String(e),f,a)}f=!1,(c=(g=y(g,a,10,v.s)).indexOf("."))>-1?g=g.replace(".",""):c=g.length}for(u=0;48===g.charCodeAt(u);u++);for(m=g.length;48===g.charCodeAt(--m););if(g=g.slice(u,++m)){if(m-=u,f&&$.DEBUG&&m>15&&(e>l||e!==s(e)))throw Error(i+v.s*e);if((c=c-u-1)>I)v.c=v.e=null;else if(c<P)v.c=[v.e=0];else{if(v.e=c,v.c=[],u=(c+1)%r,c<0&&(u+=r),u<m){for(u&&v.c.push(+g.slice(0,u)),m-=r;u<m;)v.c.push(+g.slice(u,u+=r));u=r-(g=g.slice(u)).length}else u-=m;for(;u--;g+="0");v.c.push(+g)}}else v.c=[v.e=0]}function q(e,t,a,s){var n,i,o,r,l;if(null==a?a=D:h(a,0,8),!e.c)return e.toString();if(n=e.c[0],o=e.e,null==t)l=m(e.c),l=1==s||2==s&&(o<=W||o>=F)?p(l,o):j(l,o,"0");else if(i=(e=V(new $(e),t,a)).e,r=(l=m(e.c)).length,1==s||2==s&&(t<=i||i<=W)){for(;r<t;l+="0",r++);l=p(l,i)}else if(t-=o,l=j(l,i,"0"),i+1>r){if(--t>0)for(l+=".";t--;l+="0");}else if((t+=i-r)>0)for(i+1==r&&(l+=".");t--;l+="0");return e.s<0&&n?"-"+l:l}function K(e,t){for(var a,s,n=1,i=new $(e[0]);n<e.length;n++)(!(s=new $(e[n])).s||(a=g(i,s))===t||0===a&&i.s===t)&&(i=s);return i}function z(e,t,a){for(var s=1,n=t.length;!t[--n];t.pop());for(n=t[0];n>=10;n/=10,s++);return(a=s+a*r-1)>I?e.c=e.e=null:a<P?e.c=[e.e=0]:(e.e=a,e.c=t),e}function V(e,t,n,i){var l,c,u,f,m,g,h,v=e.c,p=d;if(v){e:{for(l=1,f=v[0];f>=10;f/=10,l++);if((c=t-l)<0)c+=r,u=t,m=v[g=0],h=s(m/p[l-u-1]%10);else if((g=a((c+1)/r))>=v.length){if(!i)break e;for(;v.length<=g;v.push(0));m=h=0,l=1,u=(c%=r)-r+1}else{for(m=f=v[g],l=1;f>=10;f/=10,l++);h=(u=(c%=r)-r+l)<0?0:s(m/p[l-u-1]%10)}if(i=i||t<0||null!=v[g+1]||(u<0?m:m%p[l-u-1]),i=n<4?(h||i)&&(0==n||n==(e.s<0?3:2)):h>5||5==h&&(4==n||i||6==n&&(c>0?u>0?m/p[l-u]:0:v[g-1])%10&1||n==(e.s<0?8:7)),t<1||!v[0])return v.length=0,i?(t-=e.e+1,v[0]=p[(r-t%r)%r],e.e=-t||0):v[0]=e.e=0,e;if(0==c?(v.length=g,f=1,g--):(v.length=g+1,f=p[r-c],v[g]=u>0?s(m/p[l-u]%p[u])*f:0),i)for(;;){if(0==g){for(c=1,u=v[0];u>=10;u/=10,c++);for(u=v[0]+=f,f=1;u>=10;u/=10,f++);c!=f&&(e.e++,v[0]==o&&(v[0]=1));break}if(v[g]+=f,v[g]!=o)break;v[g--]=0,f=1}for(c=v.length;0===v[--c];v.pop());}e.e>I?e.c=e.e=null:e.e<P&&(e.c=[e.e=0])}return e}function Y(e){var t,a=e.e;return null===a?e.toString():(t=m(e.c),t=a<=W||a>=F?p(t,a):j(t,a,"0"),e.s<0?"-"+t:t)}return $.clone=e,$.ROUND_UP=0,$.ROUND_DOWN=1,$.ROUND_CEIL=2,$.ROUND_FLOOR=3,$.ROUND_HALF_UP=4,$.ROUND_HALF_DOWN=5,$.ROUND_HALF_EVEN=6,$.ROUND_HALF_CEIL=7,$.ROUND_HALF_FLOOR=8,$.EUCLID=9,$.config=$.set=function(e){var t,a;if(null!=e){if("object"!=typeof e)throw Error(n+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(h(a=e[t],0,u,t),L=a),e.hasOwnProperty(t="ROUNDING_MODE")&&(h(a=e[t],0,8,t),D=a),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((a=e[t])&&a.pop?(h(a[0],-u,0,t),h(a[1],0,u,t),W=a[0],F=a[1]):(h(a,-u,u,t),W=-(F=a<0?-a:a))),e.hasOwnProperty(t="RANGE"))if((a=e[t])&&a.pop)h(a[0],-u,-1,t),h(a[1],1,u,t),P=a[0],I=a[1];else{if(h(a,-u,u,t),!a)throw Error(n+t+" cannot be zero: "+a);P=-(I=a<0?-a:a)}if(e.hasOwnProperty(t="CRYPTO")){if((a=e[t])!==!!a)throw Error(n+t+" not true or false: "+a);if(a){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw U=!a,Error(n+"crypto unavailable");U=a}else U=a}if(e.hasOwnProperty(t="MODULO_MODE")&&(h(a=e[t],0,9,t),R=a),e.hasOwnProperty(t="POW_PRECISION")&&(h(a=e[t],0,u,t),M=a),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(a=e[t]))throw Error(n+t+" not an object: "+a);B=a}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(a=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(a))throw Error(n+t+" invalid: "+a);G="0123456789"==a.slice(0,10),H=a}}return{DECIMAL_PLACES:L,ROUNDING_MODE:D,EXPONENTIAL_AT:[W,F],RANGE:[P,I],CRYPTO:U,MODULO_MODE:R,POW_PRECISION:M,FORMAT:B,ALPHABET:H}},$.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!$.DEBUG)return!0;var t,a,i=e.c,l=e.e,d=e.s;e:if("[object Array]"=={}.toString.call(i)){if((1===d||-1===d)&&l>=-u&&l<=u&&l===s(l)){if(0===i[0]){if(0===l&&1===i.length)return!0;break e}if((t=(l+1)%r)<1&&(t+=r),String(i[0]).length==t){for(t=0;t<i.length;t++)if((a=i[t])<0||a>=o||a!==s(a))break e;if(0!==a)return!0}}}else if(null===i&&null===l&&(null===d||1===d||-1===d))return!0;throw Error(n+"Invalid BigNumber: "+e)},$.maximum=$.max=function(){return K(arguments,-1)},$.minimum=$.min=function(){return K(arguments,1)},$.random=(_=9007199254740992,T=Math.random()*_&2097151?function(){return s(Math.random()*_)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,i,o,l,c,f=0,m=[],g=new $(C);if(null==e?e=L:h(e,0,u),l=a(e/r),U)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(l*=2));f<l;)(c=131072*t[f]+(t[f+1]>>>11))>=9e15?(i=crypto.getRandomValues(new Uint32Array(2)),t[f]=i[0],t[f+1]=i[1]):(m.push(c%1e14),f+=2);f=l/2}else{if(!crypto.randomBytes)throw U=!1,Error(n+"crypto unavailable");for(t=crypto.randomBytes(l*=7);f<l;)(c=281474976710656*(31&t[f])+1099511627776*t[f+1]+4294967296*t[f+2]+16777216*t[f+3]+(t[f+4]<<16)+(t[f+5]<<8)+t[f+6])>=9e15?crypto.randomBytes(7).copy(t,f):(m.push(c%1e14),f+=7);f=l/7}if(!U)for(;f<l;)(c=T())<9e15&&(m[f++]=c%1e14);for(l=m[--f],e%=r,l&&e&&(c=d[r-e],m[f]=s(l/c)*c);0===m[f];m.pop(),f--);if(f<0)m=[o=0];else{for(o=-1;0===m[0];m.splice(0,1),o-=r);for(f=1,c=m[0];c>=10;c/=10,f++);f<r&&(o-=r-f)}return g.e=o,g.c=m,g}),$.sum=function(){for(var e=1,t=arguments,a=new $(t[0]);e<t.length;)a=a.plus(t[e++]);return a},y=function(){var e="0123456789";function t(e,t,a,s){for(var n,i,o=[0],r=0,l=e.length;r<l;){for(i=o.length;i--;o[i]*=t);for(o[0]+=s.indexOf(e.charAt(r++)),n=0;n<o.length;n++)o[n]>a-1&&(null==o[n+1]&&(o[n+1]=0),o[n+1]+=o[n]/a|0,o[n]%=a)}return o.reverse()}return function(a,s,n,i,o){var r,l,d,c,u,f,g,h,v=a.indexOf("."),p=L,b=D;for(v>=0&&(c=M,M=0,a=a.replace(".",""),f=(h=new $(s)).pow(a.length-v),M=c,h.c=t(j(m(f.c),f.e,"0"),10,n,e),h.e=h.c.length),d=c=(g=t(a,s,n,o?(r=H,e):(r=e,H))).length;0==g[--c];g.pop());if(!g[0])return r.charAt(0);if(v<0?--d:(f.c=g,f.e=d,f.s=i,g=(f=w(f,h,p,b,n)).c,u=f.r,d=f.e),v=g[l=d+p+1],c=n/2,u=u||l<0||null!=g[l+1],u=b<4?(null!=v||u)&&(0==b||b==(f.s<0?3:2)):v>c||v==c&&(4==b||u||6==b&&1&g[l-1]||b==(f.s<0?8:7)),l<1||!g[0])a=u?j(r.charAt(1),-p,r.charAt(0)):r.charAt(0);else{if(g.length=l,u)for(--n;++g[--l]>n;)g[l]=0,l||(++d,g=[1].concat(g));for(c=g.length;!g[--c];);for(v=0,a="";v<=c;a+=r.charAt(g[v++]));a=j(a,d,r.charAt(0))}return a}}(),w=function(){function e(e,t,a){var s,n,i,o,r=0,l=e.length,d=t%c,u=t/c|0;for(e=e.slice();l--;)r=((n=d*(i=e[l]%c)+(s=u*i+(o=e[l]/c|0)*d)%c*c+r)/a|0)+(s/c|0)+u*o,e[l]=n%a;return r&&(e=[r].concat(e)),e}function t(e,t,a,s){var n,i;if(a!=s)i=a>s?1:-1;else for(n=i=0;n<a;n++)if(e[n]!=t[n]){i=e[n]>t[n]?1:-1;break}return i}function a(e,t,a,s){for(var n=0;a--;)e[a]-=n,n=e[a]<t[a]?1:0,e[a]=n*s+e[a]-t[a];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(n,i,l,d,c){var u,m,g,h,v,p,j,b,w,y,x,_,T,A,N,O,S,E=n.s==i.s?1:-1,k=n.c,C=i.c;if(!(k&&k[0]&&C&&C[0]))return new $(n.s&&i.s&&(k?!C||k[0]!=C[0]:C)?k&&0==k[0]||!C?0*E:E/0:NaN);for(w=(b=new $(E)).c=[],E=l+(m=n.e-i.e)+1,c||(c=o,m=f(n.e/r)-f(i.e/r),E=E/r|0),g=0;C[g]==(k[g]||0);g++);if(C[g]>(k[g]||0)&&m--,E<0)w.push(1),h=!0;else{for(A=k.length,O=C.length,g=0,E+=2,(v=s(c/(C[0]+1)))>1&&(C=e(C,v,c),k=e(k,v,c),O=C.length,A=k.length),T=O,x=(y=k.slice(0,O)).length;x<O;y[x++]=0);S=C.slice(),S=[0].concat(S),N=C[0],C[1]>=c/2&&N++;do{if(v=0,(u=t(C,y,O,x))<0){if(_=y[0],O!=x&&(_=_*c+(y[1]||0)),(v=s(_/N))>1)for(v>=c&&(v=c-1),j=(p=e(C,v,c)).length,x=y.length;1==t(p,y,j,x);)v--,a(p,O<j?S:C,j,c),j=p.length,u=1;else 0==v&&(u=v=1),j=(p=C.slice()).length;if(j<x&&(p=[0].concat(p)),a(y,p,x,c),x=y.length,-1==u)for(;t(C,y,O,x)<1;)v++,a(y,O<x?S:C,x,c),x=y.length}else 0===u&&(v++,y=[0]);w[g++]=v,y[0]?y[x++]=k[T]||0:(y=[k[T]],x=1)}while((T++<A||null!=y[0])&&E--);h=null!=y[0],w[0]||w.splice(0,1)}if(c==o){for(g=1,E=w[0];E>=10;E/=10,g++);V(b,l+(b.e=g+m*r-1)+1,d,h)}else b.e=m,b.r=+h;return b}}(),A=/^(-?)0([xbo])(?=\w[\w.]*$)/i,N=/^([^.]+)\.$/,O=/^\.([^.]+)$/,S=/^-?(Infinity|NaN)$/,E=/^\s*\+(?=[\w.])|^\s+|\s+$/g,x=function(e,t,a,s){var i,o=a?t:t.replace(E,"");if(S.test(o))e.s=isNaN(o)?null:o<0?-1:1;else{if(!a&&(o=o.replace(A,(function(e,t,a){return i="x"==(a=a.toLowerCase())?16:"b"==a?2:8,s&&s!=i?e:t})),s&&(i=s,o=o.replace(N,"$1").replace(O,"0.$1")),t!=o))return new $(o,i);if($.DEBUG)throw Error(n+"Not a"+(s?" base "+s:"")+" number: "+t);e.s=null}e.c=e.e=null},k.absoluteValue=k.abs=function(){var e=new $(this);return e.s<0&&(e.s=1),e},k.comparedTo=function(e,t){return g(this,new $(e,t))},k.decimalPlaces=k.dp=function(e,t){var a,s,n,i=this;if(null!=e)return h(e,0,u),null==t?t=D:h(t,0,8),V(new $(i),e+i.e+1,t);if(!(a=i.c))return null;if(s=((n=a.length-1)-f(this.e/r))*r,n=a[n])for(;n%10==0;n/=10,s--);return s<0&&(s=0),s},k.dividedBy=k.div=function(e,t){return w(this,new $(e,t),L,D)},k.dividedToIntegerBy=k.idiv=function(e,t){return w(this,new $(e,t),0,1)},k.exponentiatedBy=k.pow=function(e,t){var i,o,l,d,c,u,f,m,g=this;if((e=new $(e)).c&&!e.isInteger())throw Error(n+"Exponent not an integer: "+Y(e));if(null!=t&&(t=new $(t)),c=e.e>14,!g.c||!g.c[0]||1==g.c[0]&&!g.e&&1==g.c.length||!e.c||!e.c[0])return m=new $(Math.pow(+Y(g),c?e.s*(2-v(e)):+Y(e))),t?m.mod(t):m;if(u=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new $(NaN);(o=!u&&g.isInteger()&&t.isInteger())&&(g=g.mod(t))}else{if(e.e>9&&(g.e>0||g.e<-1||(0==g.e?g.c[0]>1||c&&g.c[1]>=24e7:g.c[0]<8e13||c&&g.c[0]<=9999975e7)))return d=g.s<0&&v(e)?-0:0,g.e>-1&&(d=1/d),new $(u?1/d:d);M&&(d=a(M/r+2))}for(c?(i=new $(.5),u&&(e.s=1),f=v(e)):f=(l=Math.abs(+Y(e)))%2,m=new $(C);;){if(f){if(!(m=m.times(g)).c)break;d?m.c.length>d&&(m.c.length=d):o&&(m=m.mod(t))}if(l){if(0===(l=s(l/2)))break;f=l%2}else if(V(e=e.times(i),e.e+1,1),e.e>14)f=v(e);else{if(0===(l=+Y(e)))break;f=l%2}g=g.times(g),d?g.c&&g.c.length>d&&(g.c.length=d):o&&(g=g.mod(t))}return o?m:(u&&(m=C.div(m)),t?m.mod(t):d?V(m,M,D,undefined):m)},k.integerValue=function(e){var t=new $(this);return null==e?e=D:h(e,0,8),V(t,t.e+1,e)},k.isEqualTo=k.eq=function(e,t){return 0===g(this,new $(e,t))},k.isFinite=function(){return!!this.c},k.isGreaterThan=k.gt=function(e,t){return g(this,new $(e,t))>0},k.isGreaterThanOrEqualTo=k.gte=function(e,t){return 1===(t=g(this,new $(e,t)))||0===t},k.isInteger=function(){return!!this.c&&f(this.e/r)>this.c.length-2},k.isLessThan=k.lt=function(e,t){return g(this,new $(e,t))<0},k.isLessThanOrEqualTo=k.lte=function(e,t){return-1===(t=g(this,new $(e,t)))||0===t},k.isNaN=function(){return!this.s},k.isNegative=function(){
return this.s<0},k.isPositive=function(){return this.s>0},k.isZero=function(){return!!this.c&&0==this.c[0]},k.minus=function(e,t){var a,s,n,i,l=this,d=l.s;if(t=(e=new $(e,t)).s,!d||!t)return new $(NaN);if(d!=t)return e.s=-t,l.plus(e);var c=l.e/r,u=e.e/r,m=l.c,g=e.c;if(!c||!u){if(!m||!g)return m?(e.s=-t,e):new $(g?l:NaN);if(!m[0]||!g[0])return g[0]?(e.s=-t,e):new $(m[0]?l:3==D?-0:0)}if(c=f(c),u=f(u),m=m.slice(),d=c-u){for((i=d<0)?(d=-d,n=m):(u=c,n=g),n.reverse(),t=d;t--;n.push(0));n.reverse()}else for(s=(i=(d=m.length)<(t=g.length))?d:t,d=t=0;t<s;t++)if(m[t]!=g[t]){i=m[t]<g[t];break}if(i&&(n=m,m=g,g=n,e.s=-e.s),(t=(s=g.length)-(a=m.length))>0)for(;t--;m[a++]=0);for(t=o-1;s>d;){if(m[--s]<g[s]){for(a=s;a&&!m[--a];m[a]=t);--m[a],m[s]+=o}m[s]-=g[s]}for(;0==m[0];m.splice(0,1),--u);return m[0]?z(e,m,u):(e.s=3==D?-1:1,e.c=[e.e=0],e)},k.modulo=k.mod=function(e,t){var a,s,n=this;return e=new $(e,t),!n.c||!e.s||e.c&&!e.c[0]?new $(NaN):!e.c||n.c&&!n.c[0]?new $(n):(9==R?(s=e.s,e.s=1,a=w(n,e,0,3),e.s=s,a.s*=s):a=w(n,e,0,R),(e=n.minus(a.times(e))).c[0]||1!=R||(e.s=n.s),e)},k.multipliedBy=k.times=function(e,t){var a,s,n,i,l,d,u,m,g,h,v,p,j,b,w,y=this,x=y.c,_=(e=new $(e,t)).c;if(!(x&&_&&x[0]&&_[0]))return!y.s||!e.s||x&&!x[0]&&!_||_&&!_[0]&&!x?e.c=e.e=e.s=null:(e.s*=y.s,x&&_?(e.c=[0],e.e=0):e.c=e.e=null),e;for(s=f(y.e/r)+f(e.e/r),e.s*=y.s,(u=x.length)<(h=_.length)&&(j=x,x=_,_=j,n=u,u=h,h=n),n=u+h,j=[];n--;j.push(0));for(b=o,w=c,n=h;--n>=0;){for(a=0,v=_[n]%w,p=_[n]/w|0,i=n+(l=u);i>n;)a=((m=v*(m=x[--l]%w)+(d=p*m+(g=x[l]/w|0)*v)%w*w+j[i]+a)/b|0)+(d/w|0)+p*g,j[i--]=m%b;j[i]=a}return a?++s:j.splice(0,1),z(e,j,s)},k.negated=function(){var e=new $(this);return e.s=-e.s||null,e},k.plus=function(e,t){var a,s=this,n=s.s;if(t=(e=new $(e,t)).s,!n||!t)return new $(NaN);if(n!=t)return e.s=-t,s.minus(e);var i=s.e/r,l=e.e/r,d=s.c,c=e.c;if(!i||!l){if(!d||!c)return new $(n/0);if(!d[0]||!c[0])return c[0]?e:new $(d[0]?s:0*n)}if(i=f(i),l=f(l),d=d.slice(),n=i-l){for(n>0?(l=i,a=c):(n=-n,a=d),a.reverse();n--;a.push(0));a.reverse()}for((n=d.length)-(t=c.length)<0&&(a=c,c=d,d=a,t=n),n=0;t;)n=(d[--t]=d[t]+c[t]+n)/o|0,d[t]=o===d[t]?0:d[t]%o;return n&&(d=[n].concat(d),++l),z(e,d,l)},k.precision=k.sd=function(e,t){var a,s,n,i=this;if(null!=e&&e!==!!e)return h(e,1,u),null==t?t=D:h(t,0,8),V(new $(i),e,t);if(!(a=i.c))return null;if(s=(n=a.length-1)*r+1,n=a[n]){for(;n%10==0;n/=10,s--);for(n=a[0];n>=10;n/=10,s++);}return e&&i.e+1>s&&(s=i.e+1),s},k.shiftedBy=function(e){return h(e,-9007199254740991,l),this.times("1e"+e)},k.squareRoot=k.sqrt=function(){var e,t,a,s,n,i=this,o=i.c,r=i.s,l=i.e,d=L+4,c=new $("0.5");if(1!==r||!o||!o[0])return new $(!r||r<0&&(!o||o[0])?NaN:o?i:1/0);if(0==(r=Math.sqrt(+Y(i)))||r==1/0?(((t=m(o)).length+l)%2==0&&(t+="0"),r=Math.sqrt(+t),l=f((l+1)/2)-(l<0||l%2),a=new $(t=r==1/0?"5e"+l:(t=r.toExponential()).slice(0,t.indexOf("e")+1)+l)):a=new $(r+""),a.c[0])for((r=(l=a.e)+d)<3&&(r=0);;)if(n=a,a=c.times(n.plus(w(i,n,d,1))),m(n.c).slice(0,r)===(t=m(a.c)).slice(0,r)){if(a.e<l&&--r,"9999"!=(t=t.slice(r-3,r+1))&&(s||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(V(a,a.e+L+2,1),e=!a.times(a).eq(i));break}if(!s&&(V(n,n.e+L+2,0),n.times(n).eq(i))){a=n;break}d+=4,r+=4,s=1}return V(a,a.e+L+1,D,e)},k.toExponential=function(e,t){return null!=e&&(h(e,0,u),e++),q(this,e,t,1)},k.toFixed=function(e,t){return null!=e&&(h(e,0,u),e=e+this.e+1),q(this,e,t)},k.toFormat=function(e,t,a){var s,i=this;if(null==a)null!=e&&t&&"object"==typeof t?(a=t,t=null):e&&"object"==typeof e?(a=e,e=t=null):a=B;else if("object"!=typeof a)throw Error(n+"Argument not an object: "+a);if(s=i.toFixed(e,t),i.c){var o,r=s.split("."),l=+a.groupSize,d=+a.secondaryGroupSize,c=a.groupSeparator||"",u=r[0],f=r[1],m=i.s<0,g=m?u.slice(1):u,h=g.length;if(d&&(o=l,l=d,d=o,h-=o),l>0&&h>0){for(o=h%l||l,u=g.substr(0,o);o<h;o+=l)u+=c+g.substr(o,l);d>0&&(u+=c+g.slice(o)),m&&(u="-"+u)}s=f?u+(a.decimalSeparator||"")+((d=+a.fractionGroupSize)?f.replace(new RegExp("\\d{"+d+"}\\B","g"),"$&"+(a.fractionGroupSeparator||"")):f):u}return(a.prefix||"")+s+(a.suffix||"")},k.toFraction=function(e){var t,a,s,i,o,l,c,u,f,g,h,v,p=this,j=p.c;if(null!=e&&(!(c=new $(e)).isInteger()&&(c.c||1!==c.s)||c.lt(C)))throw Error(n+"Argument "+(c.isInteger()?"out of range: ":"not an integer: ")+Y(c));if(!j)return new $(p);for(t=new $(C),f=a=new $(C),s=u=new $(C),v=m(j),o=t.e=v.length-p.e-1,t.c[0]=d[(l=o%r)<0?r+l:l],e=!e||c.comparedTo(t)>0?o>0?t:f:c,l=I,I=1/0,c=new $(v),u.c[0]=0;g=w(c,t,0,1),1!=(i=a.plus(g.times(s))).comparedTo(e);)a=s,s=i,f=u.plus(g.times(i=f)),u=i,t=c.minus(g.times(i=t)),c=i;return i=w(e.minus(a),s,0,1),u=u.plus(i.times(f)),a=a.plus(i.times(s)),u.s=f.s=p.s,h=w(f,s,o*=2,D).minus(p).abs().comparedTo(w(u,a,o,D).minus(p).abs())<1?[f,s]:[u,a],I=l,h},k.toNumber=function(){return+Y(this)},k.toPrecision=function(e,t){return null!=e&&h(e,1,u),q(this,e,t,2)},k.toString=function(e){var t,a=this,s=a.s,n=a.e;return null===n?s?(t="Infinity",s<0&&(t="-"+t)):t="NaN":(null==e?t=n<=W||n>=F?p(m(a.c),n):j(m(a.c),n,"0"):10===e&&G?t=j(m((a=V(new $(a),L+n+1,D)).c),a.e,"0"):(h(e,2,H.length,"Base"),t=y(j(m(a.c),n,"0"),10,e,s,!0)),s<0&&a.c[0]&&(t="-"+t)),t},k.valueOf=k.toJSON=function(){return Y(this)},k._isBigNumber=!0,k[Symbol.toStringTag]="BigNumber",k[Symbol.for("nodejs.util.inspect.custom")]=k.valueOf,null!=b&&$.set(b),$}(),e.default=e.BigNumber}));__awaiter=this&&this.__awaiter||function(e,t,a,s){return new(a||(a=Promise))((function(n,i){function o(e){try{l(s.next(e))}catch(e){i(e)}}function r(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,r)}l((s=s.apply(e,t||[])).next())}))};define("dashboard/wallet-manager/wallet-lib",["require","exports","@cityofzion/neon-core","@cityofzion/neon-core-neo3","ojs/ojlogger","axios","./bignumber","dashboard/flamingo-api/api/api-client","css!dashboard/wallet-manager/wallet-manager-styles.css","ojs/ojchart","ojs/ojactioncard","ojs/ojcolorspectrum","ojs/ojlistview","ojs/ojlistitemlayout","ojs/ojinputtext","ojs/ojbutton","ojs/ojformlayout","ojs/ojvalidationgroup","ojs/ojpopup","ojs/ojdefer"],(function(require,e,t,a,s,n,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addressFormat=e.STORAGE_VALUE_MESSAGE=e.DEFAULT_RPC_URLS=e.DEFAULT_N3_RPC_NETWORK=e.DEFAULT_N2_RPC_NETWORK=e.STORAGE_VALUE_TYPE=e.STORAGE_NAME=e.NetworkType=e.saveSelectedTagsToStorage=e.getSelectedTagsFromStorage=e.addToRatiosInStorage=e.loadRatiosFromStorage=e.deleteWalletFromStorage=e.updateWalletToStorage=e.addWalletToStorage=e.addWalletToStoragePK=e.loadWalletsFromStorage=e.loadWalletsFromStoragePK=e.getN3AllTxs=e.getN3AssetTxs=e.handleN3TxResponse=e.getN3AddressBalances=e.GAS3_CONTRACT=e.NEO3_CONTRACT=e.CWallet=e.KEY=void 0;new o.default,new t.rpc.RPCClient("https://rpc2.n3.nspcc.ru:10331");e.KEY="xxx";class r extends a.wallet.Wallet{constructor(e){super(e)}export(){return super.export()}}e.CWallet=r,e.NEO3_CONTRACT="0xef4073a0f2b305a38ec4050e4d3d28bc40ea63f5",e.GAS3_CONTRACT="0xd2a4cff31913016155e38e474a2c06d08be276cf";const l={NEO:{asset_id:e.NEO3_CONTRACT,symbol:"NEO",decimals:0,balance:"0"},GAS:{asset_id:e.GAS3_CONTRACT,symbol:"GAS",decimals:8,balance:"0"}};e.getN3AddressBalances=t=>__awaiter(void 0,void 0,void 0,(function*(){const a={jsonrpc:"2.0",method:"getnep17balances",params:[t],id:1};return(t=>{const a=[Object.assign({},l.NEO),Object.assign({},l.GAS)];return((null==t?void 0:t.balance)||[]).forEach((t=>{if(t.assethash===e.NEO3_CONTRACT)a[0].balance=t.amount;else if(t.assethash===e.GAS3_CONTRACT)a[1].balance=(0,i.default)(t.amount,10).shiftedBy(-t.decimals).toFixed();else{const e={balance:(0,i.default)(t.amount,10).shiftedBy(-t.decimals).toFixed(),asset_id:t.assethash,symbol:t.symbol,decimals:t.decimals};a.push(e)}})),Promise.resolve(a)})((yield n.default.post(e.DEFAULT_N3_RPC_NETWORK[0].rpcUrl,a)).data.result)}));const d=new Map,c=new Map;new Map;function u(t){const a=[],s=[],i=[];return t.forEach(((e,t)=>{if(d.has(e))i[t]=d.get(e);else{const n={jsonrpc:"2.0",id:1,method:"invokefunction",params:[e,"symbol"]};s.push(t),a.push(n)}})),0===a.length?Promise.resolve(i):n.default.post(e.DEFAULT_N3_RPC_NETWORK[0].rpcUrl,a).then((e=>(e.data.forEach(((e,a)=>{let n="";e.result.stack&&(n=e.result.stack[0].value,"ByteArray"===e.result.stack[0].type&&(n=b(e.result.stack[0].value)),"ByteString"===e.result.stack[0].type&&(n=b(function(e){const t=atob(e);let a="";for(let e=0;e<t.length;e++){const s=t.charCodeAt(e).toString(16);a+=2===s.length?s:"0"+s}return a.toUpperCase()}(e.result.stack[0].value))));const o=s[a];d.set(t[o],n),i[o]=n})),i)))}e.handleN3TxResponse=a=>__awaiter(void 0,void 0,void 0,(function*(){const s=[];((null==a?void 0:a.sent)||[]).forEach((e=>{const t={block_time:Math.floor(e.timestamp/1e3),asset_id:e.assethash,from:[a.address],to:[e.transferaddress],value:`-${e.amount}`,txid:e.txhash,type:"sent",id:e.blockindex};s.push(t)})),((null==a?void 0:a.received)||[]).forEach((e=>{const t={block_time:Math.floor(e.timestamp/1e3),asset_id:e.assethash,from:[e.transferaddress],to:[a.address],value:e.amount,txid:e.txhash,type:"received",id:e.blockindex};s.push(t)})),s.sort(((e,t)=>0===e.txid.localeCompare(t.txid)?e.asset_id.localeCompare(t.asset_id):e.txid.localeCompare(t.txid)));for(let e=1;e<s.length;)s[e].txid===s[e-1].txid&&s[e].asset_id===s[e-1].asset_id?(s[e].value=(0,i.default)(s[e].value,10).plus((0,i.default)(s[e-1].value,10)),s[e].type=s[e].value.comparedTo(0)>0?"received":"sent",s[e].value=s[e].value.toFixed(),s.splice(e-1,1)):e++;const o=new Set;return s.forEach((e=>o.add(e.asset_id))),yield u(Array.from(o)),yield function(a){const s=[],o=[],r=[];return a.forEach(((e,t)=>{if(c.has(e))r[t]=c.get(e);else{const a={jsonrpc:"2.0",id:1,method:"invokefunction",params:[e,"decimals"]};o.push(t),s.push(a)}})),0===s.length?Promise.resolve(r):n.default.post(e.DEFAULT_N3_RPC_NETWORK[0].rpcUrl,s).then((e=>(e.data.forEach(((e,s)=>{let n=0;if(e.result.stack&&(n=e.result.stack[0].value,"Integer"===e.result.stack[0].type&&(n=Number(e.result.stack[0].value||0)),"ByteArray"===e.result.stack[0].type)){const a=t.u.reverseHex(e.result.stack[0].value);n=(0,i.default)(a||0,16).toNumber()}const l=o[s];c.set(a[l],n),r[l]=n})),r)))}(Array.from(o)),s.forEach(((e,t)=>{s[t].symbol=d.get(e.asset_id);const a=c.get(e.asset_id);a&&(s[t].value=(0,i.default)(s[t].value,10).shiftedBy(-a).toFixed())})),s}));e.getN3AssetTxs=(t,a)=>__awaiter(void 0,void 0,void 0,(function*(){return(yield(0,e.getN3AllTxs)(t)).filter((e=>e.asset_id===a))}));e.getN3AllTxs=t=>__awaiter(void 0,void 0,void 0,(function*(){const a=Math.floor((new Date).getTime())-2592e6,s={jsonrpc:"2.0",method:"getnep17transfers",params:[t,a],id:1};let i=yield n.default.post(e.DEFAULT_N3_RPC_NETWORK[0].rpcUrl,s);return i=yield(0,e.handleN3TxResponse)(i.data.result),i=i.sort(((e,t)=>t.block_time-e.block_time)),i}));e.loadWalletsFromStoragePK=()=>(console.log("wallet-lib > loadWalletsFromStorage"),h(m["walletArr-Neo3"]));e.loadWalletsFromStorage=()=>(console.log("wallet-lib > loadWalletsFromStorage"),h(m["walletPubArr-Neo3"]));e.addWalletToStoragePK=(t,n,i,o)=>{const l=new a.wallet.Account(n),d=a.wallet.isAddress(l.address,53)?"Neo3":"Neo2";s.info("configureWallet > chainType =",d);const c=new r({name:null!=t?t:"nxTraderUser",walletColor:o.toString()});c.walletColor=o,c.addAccount(l),c.displayName=t;c.accounts[0].WIF;c.encrypt(0,i);const u=(0,e.loadWalletsFromStoragePK)();u.push(c),v(m.chainType,d),v(m["walletArr-Neo3"],u);const{address:f}=l};e.addWalletToStorage=(t,a,n,i,o,l)=>{const d="Neo3";s.info("configureWallet > chainType =",d);const c=new r({name:null!=t?t:"nxTraderUser",walletColor:o.toString()});c.walletColor=o,c.publicKey=a,c.goal=i,c.tags=l,c.displayName=t;const u=(0,e.loadWalletsFromStorage)();u.push(c),v(m.chainType,d),v(m["walletPubArr-Neo3"],u)};e.updateWalletToStorage=(t,a,s,n,i,o)=>{const r=(0,e.loadWalletsFromStorage)(),l=r.find((e=>e.name===t));if(l){const e=l;n&&(e.walletColor=n),e.goal=s,console.log("try save ",i),e.tags=i,e.publicKey=a,e.displayName=null!=o?o:t}v(m["walletPubArr-Neo3"],r)};e.deleteWalletFromStorage=t=>{const a=(0,e.loadWalletsFromStorage)(),s=a.find((e=>e.name===t)),n=a.findIndex((e=>e.name===t));console.log("wallet-lib > deleteWalletFromStorage",s,n,a),a.splice(n,1),v(m["walletPubArr-Neo3"],a)};e.loadRatiosFromStorage=()=>h(m.ratios);e.addToRatiosInStorage=(t,a)=>{const s=(0,e.loadRatiosFromStorage)();s.set(t,a);v(m.ratios,s)};e.getSelectedTagsFromStorage=()=>(console.log("wallet-lib > getSelectedTagsFromStorage"),h(m.selectedTags));var f,m,g;function h(t){let a=localStorage[t],s=a;switch(e.STORAGE_VALUE_MESSAGE[t].type){case g.object:s=a&&"undefined"!==a?JSON.parse(a):{};break;case g.array:s=a&&"undefined"!==a?JSON.parse(a):[];break;case g.map:s=a&&"undefined"!==a?new Map(JSON.parse(a)):new Map;break;case g.number:s=a&&"undefined"!==a?Number(a):0;break;case g.boolean:s="true"===a}return s}function v(t,a){let s=a;switch(e.STORAGE_VALUE_MESSAGE[t].type){case g.object:case g.array:s=JSON.stringify(a);break;case g.number:case g.boolean:s=String(a);break;case g.array:s=JSON.stringify(a)}localStorage.setItem(t,s)}e.saveSelectedTagsToStorage=e=>{v(m.selectedTags,e)},function(e){e.MainNet="MainNet",e.TestNet="TestNet",e.N3MainNet="N3MainNet",e.N3TestNet="N3TestNet",e.N3PrivateNet="N3PrivateNet"}(f=e.NetworkType||(e.NetworkType={})),function(e){e.n2Networks="n2Networks",e.n3Networks="n3Networks",e.n2SelectedNetworkIndex="n2SelectedNetworkIndex",e.n3SelectedNetworkIndex="n3SelectedNetworkIndex",e.coinsRate="coinsRate",e.fiatRate="fiatRate",e.neo3CoinsRate="neo3CoinsRate",e.rateCurrency="rateCurrency",e.wallet="wallet",e.walletArr="walletArr",e["walletArr-Neo3"]="walletArr-Neo3",e["walletPubArr-Neo3"]="walletPubArr-Neo3",e.WIFArr="WIFArr",e["WIFArr-Neo3"]="WIFArr-Neo3",e.chainType="chainType",e.neo3AddressFlag="neo3AddressFlag",e.lang="lang",e.transaction="transaction",e.connectedWebsites="connectedWebsites",e.authAddress="authAddress",e.InvokeArgsArray="InvokeArgsArray",e.walletsStatus="walletsStatus",e.haveBackupTip="haveBackupTip",e.hasLoginAddress="hasLoginAddress",e.shouldFindNode="shouldFindNode",e.rpcUrls="rpcUrls",e.neo3RemoveT4Flag="neo3RemoveT4Flag",e.onePassword="onePassword",e.theme="theme",e.onePassCheckAddresses="onePassCheckAddresses",e.ratios="ratios",e.selectedTags="selectedTags"}(m=e.STORAGE_NAME||(e.STORAGE_NAME={})),function(e){e.number="number",e.string="string",e.object="object",e.map="map",e.boolean="boolean",e.array="array"}(g=e.STORAGE_VALUE_TYPE||(e.STORAGE_VALUE_TYPE={})),e.DEFAULT_N2_RPC_NETWORK=[{rpcUrl:"http://seed1.ngd.network:10332",name:"N2 MAINNET",explorer:"https://neo2.neotube.io/",network:f.MainNet,chainId:1,id:1},{rpcUrl:"http://seed5.ngd.network:20332",name:"N2 TESTNET",explorer:"",network:f.TestNet,chainId:2,id:2}],e.DEFAULT_N3_RPC_NETWORK=[{rpcUrl:"https://n3seed1.ngd.network:10332",name:"N3 MAINNET",magicNumber:860833102,explorer:"https://neotube.io/",network:f.N3MainNet,chainId:3,id:3},{rpcUrl:"http://seed3t5.neo.org:20332",name:"N3 TESTNET",magicNumber:894710606,explorer:"https://testnet.neotube.io/",network:f.N3TestNet,chainId:6,id:6}],e.DEFAULT_RPC_URLS={lastModified:null,nodes:{1:["http://seed6.ngd.network:10332","http://seed8.ngd.network:10332"],2:["http://seed3.ngd.network:20332","http://seed4.ngd.network:20332","http://seed5.ngd.network:20332","http://seed8.ngd.network:20332"],3:["http://seed1.neo.org:10332","http://seed2.neo.org:10332","http://seed3.neo.org:10332","http://seed4.neo.org:10332","http://seed5.neo.org:10332","https://n3seed1.ngd.network:10332","https://n3seed2.ngd.network:10332","https://neo3-mainnet.neoline.vip"],6:["http://seed1t5.neo.org:20332","http://seed2t5.neo.org:20332","http://seed3t5.neo.org:20332","http://seed4t5.neo.org:20332","http://seed5t5.neo.org:20332"]}},e.STORAGE_VALUE_MESSAGE={n2Networks:{type:g.array,isLocal:!0,default:e.DEFAULT_N2_RPC_NETWORK},n3Networks:{type:g.array,isLocal:!0,default:e.DEFAULT_N3_RPC_NETWORK},n2SelectedNetworkIndex:{type:g.number,isLocal:!0,default:0},n3SelectedNetworkIndex:{type:g.number,isLocal:!0,default:0},coinsRate:{type:g.object,isLocal:!1},fiatRate:{type:g.object,isLocal:!1},neo3CoinsRate:{type:g.object,isLocal:!1},rateCurrency:{type:g.string,isLocal:!1,default:"USD"},wallet:{type:g.object,isLocal:!0},walletArr:{type:g.array,isLocal:!0},"walletArr-Neo3":{type:g.array,isLocal:!0},"walletPubArr-Neo3":{type:g.array,isLocal:!0},WIFArr:{type:g.array,isLocal:!0},"WIFArr-Neo3":{type:g.array,isLocal:!0},chainType:{type:g.string,isLocal:!0},neo3AddressFlag:{type:g.boolean,isLocal:!0},lang:{type:g.string,isLocal:!1,default:"en"},transaction:{type:g.object,isLocal:!1},connectedWebsites:{type:g.object,isLocal:!1},authAddress:{type:g.object,isLocal:!1},InvokeArgsArray:{type:g.array,isLocal:!0},walletsStatus:{type:g.object,isLocal:!0},haveBackupTip:{type:g.boolean,isLocal:!0},hasLoginAddress:{type:g.object,isLocal:!0},shouldFindNode:{type:g.boolean,isLocal:!0},rpcUrls:{type:g.object,isLocal:!0,default:e.DEFAULT_RPC_URLS},neo3RemoveT4Flag:{type:g.boolean,isLocal:!0},onePassword:{type:g.boolean,isLocal:!0},theme:{type:g.string,isLocal:!1,default:"light-theme"},onePassCheckAddresses:{type:g.object,isLocal:!0},ratios:{type:g.map,isLocal:!0},selectedTags:{type:g.array,isLocal:!0}};const p=/^([0-9A-Fa-f]{2})*$/;function j(e){if(!function(e){try{return p.test(e)}catch(e){return!1}}(e))throw new Error(`Expected a hexstring but got ${e}`)}function b(e){return t=function(e){if(j(e),!e.length)return new Uint8Array(0);const t=e.length/2,a=new Uint8Array(t);for(let s=0;s<t;s++)a[s]=parseInt(e.substring(0,2),16),e=e.substring(2);return a}(e),String.fromCharCode.apply(null,Array.from(new Uint8Array(t)));var t}e.addressFormat=e=>{try{return`${e.substring(0,6)}...${e.substring(e.length-6,e.length)}`}catch(e){}return e}})),define("dashboard/flamingo-api/data/tokens",["require","exports"],(function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findTokenByHash=void 0;e.findTokenByHash=function e(t,a,s){for(var n in t){var i=t[n];if("object"==typeof i){var o=e(i,a,i);if(o)return o}if(i===a)return s}},e.default={FLM:{symbol:"FLM",decimals:8,hash:"0xf0151f528127558851b39c2cd8aa47da7418ab28"},FLUND:{symbol:"FLUND",decimals:8,hash:"0xa9603a59e21d29e37ac39cf1b5f5abf5006b22a3"},TIPS:{symbol:"TIPS",decimals:8,hash:"0x340720c7107ef5721e44ed2ea8e314cce5c130fa"},NEO:{symbol:"NEO",decimals:0,hash:"0xef4073a0f2b305a38ec4050e4d3d28bc40ea63f5"},GAS:{symbol:"GAS",decimals:8,hash:"0xd2a4cff31913016155e38e474a2c06d08be276cf"},bNEO:{symbol:"bNEO",decimals:8,hash:"0x48c40d4666f93408be1bef038b6722404d9a4c2a"},FUSD:{symbol:"FUSD",decimals:8,hash:"0x1005d400bcc2a56b7352f09e273be3f9933a5fb1"},LRB:{symbol:"LRB",decimals:8,hash:"0x8c07b4c9f5bc170a3922eac4f5bb7ef17b0acc8b"},USDL:{symbol:"USDL",decimals:8,hash:"0xa8c51aa0c177187aeed3db88bdfa908ccbc9b1a5"},SOM:{symbol:"SOM",decimals:8,hash:"0x2d4c6cf0417209a7eb410160344e224e74f87195"},CANDY:{symbol:"CANDY",decimals:9,hash:"0x88da18a5bca86ec8206d9b4960a7d0c4355a432f"},DOGER:{symbol:"DOGER",decimals:8,hash:"0x322b5a366ca724801a1aa01e669b5f3d7f8c7f6f"},DOGEF:{symbol:"DOGEF",decimals:8,hash:"0xa3291b66f70d4687fc0e41977d8acb0699f235ae"},FDE:{symbol:"FDE",decimals:8,hash:"0x9770f4d78a19d1a6fa94b472bcedffcc06b56c49"},fUSDT:{symbol:"fUSDT",decimals:6,hash:"0xcd48b160c1bbc9d74997b803b9a7ad50a4bef020"},USDT:{symbol:"USDT",decimals:6,hash:"0x68b938cc42b6a2d54fb9040f5facf4290ebb8c5f"},fWETH:{symbol:"fWETH",decimals:18,hash:"0xc14b601252aa5dfa6166cf35fe5ccd2e35f3fdf5"},WETH:{symbol:"WETH",decimals:18,hash:"0xd3a41b53888a733b549f5d4146e7a98d3285fa21"},fWBTC:{symbol:"fWBTC",decimals:8,hash:"0xd6abe115ecb75e1fa0b42f5e85934ce8c1ae2893"},WBTC:{symbol:"WBTC",decimals:8,hash:"0x4548a3bcb3c2b5ce42bf0559b1cf2f1ec97a51d0"},pONT:{symbol:"pONT",decimals:9,hash:"8122bc2212ec971690a044b37a6f52a9349b702b"},pWING:{symbol:"pWING",decimals:9,hash:"0xeeccd60ed722111f8400434dac3ba42c14d8beb1"},GM:{symbol:"GM",decimals:8,hash:"0x9b049f1283515eef1d3f6ac610e1595ed25ca3e9"},fCAKE:{symbol:"fCAKE",decimals:18,hash:"0xe65b462b90516012826f8a9c4c285d8c750e3a77"},SWTH:{symbol:"SWTH",decimals:8,hash:"0x78e1330db47634afdb5ea455302ba2d12b8d549f"},fBNB:{symbol:"fBNB",decimals:18,hash:"0xb56f0fba45cc57a948b342186274dfd863996bb3"}}}));__awaiter=this&&this.__awaiter||function(e,t,a,s){return new(a||(a=Promise))((function(n,i){function o(e){try{l(s.next(e))}catch(e){i(e)}}function r(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,r)}l((s=s.apply(e,t||[])).next())}))};define("dashboard/wallet-peek/wallet-peek",["require","exports","preact/jsx-runtime","ojs/ojvcomponent","@preact/signals","dashboard/flamingo-api/api/api-client","dashboard/flamingo-api/data/tokens","ojs/ojarraydataprovider","dashboard/wallet-manager/bignumber","css!dashboard/wallet-peek/wallet-peek-styles.css"],(function(require,e,t,a,s,n,i,o,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WalletPeek=e.seletedAddress=void 0;const l=new n.default;e.seletedAddress=(0,s.signal)(void 0),e.WalletPeek=(0,a.registerCustomElement)("dashboard-wallet-peek",(function({hiddenRoot:a,navigateBack:n}){console.log("wallet-peek > render");const d=(0,s.useSignal)(void 0),c=(0,s.useSignal)([]),u=new o(c.value,{keyAttributes:"symbol"});return(0,s.useSignalEffect)((()=>{e.seletedAddress.value&&(console.log("wallet-peek > render > selectedAddress.value changed",e.seletedAddress.value),c.value=[],function(e){return __awaiter(this,void 0,void 0,(function*(){return yield l.getWalletWalletLatest(e)}))}(e.seletedAddress.value).then((e=>{var t,a;console.log("wallet-peek > getWalletDetails",e),d.value=e,c.value=(a=[],(null===(t=d.value)||void 0===t?void 0:t.data)&&Object.keys(d.value.data[0].balances).forEach(((e,t)=>{const s=(0,i.findTokenByHash)(i.default,e,void 0);a.push({key:e,total:d.value.data[0].balances[e],token:s})})),console.log("wallet-peek > getAssetBalances ",a),a)})))})),(0,t.jsxs)("div",Object.assign({hidden:a,class:"oj-sm-margin-2x"},{children:[(0,t.jsx)("oj-button",Object.assign({display:"all",onojAction:n,class:"oj-button-md"},{children:(0,t.jsx)("span",{slot:"startIcon",class:"oj-ux-ico-back-parent"})})),(0,t.jsx)("div",{children:e.seletedAddress.value}),(0,t.jsx)("oj-list-view",Object.assign({"aria-label":"wallet balances",data:u,class:"oj-listview-item-padding-off","selection-mode":"none"},{children:(0,t.jsx)("template",{slot:"itemTemplate","data-oj-as":"item",render:e=>void 0===e.data.token?(0,t.jsx)(t.Fragment,{children:"no tokens..."}):(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{children:e.data.token.symbol}),(0,t.jsx)("div",{children:(0,r.BigNumber)(e.data.total,10).shiftedBy(-e.data.token.decimals).toFixed()})]})})}))]}))}),"WalletPeek",{properties:{hiddenRoot:{type:"boolean"},message:{type:"string"},navigateBack:{type:"function"}}})})),define("dashboard/wallet-peek/loader",["require","exports","./wallet-peek"],(function(require,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WalletPeek=void 0,Object.defineProperty(e,"WalletPeek",{enumerable:!0,get:function(){return t.WalletPeek}})})),define("dashboard/wallet-manager/asset-manager",["require","exports","preact/jsx-runtime","./asset-transactions","@preact/signals","./asset-watchlist","dashboard/wallet-peek/loader"],(function(require,e,t,a,s,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AssetManager=e.showAssetManagerRoute=void 0;const i={assetTransactionsHidden:!0,walletPeekHidden:!0,assetWatchlistEditorHidden:!0},o=(0,s.signal)({assetTransactionsHidden:!1,walletPeekHidden:!0,assetWatchlistEditorHidden:!0});function r(e){console.log("asset-manager > showAssetManagerRoute",e),o.value=Object.assign(Object.assign({},i),e)}e.showAssetManagerRoute=r,e.AssetManager=function({transactions:e}){function s(){r({assetTransactionsHidden:!1})}return console.log("asset-manager > render"),(0,t.jsxs)("div",{children:[(0,t.jsx)(a.AssetTransactions,{transactions:e,hidden:o.value.assetTransactionsHidden}),(0,t.jsx)("dashboard-wallet-peek",{navigateBack:s,hiddenRoot:o.value.walletPeekHidden}),(0,t.jsx)(n.AssetWatchlistEditor,{navigateBack:s,hidden:o.value.assetWatchlistEditorHidden})]})}})),define("dashboard/wallet-manager/asset-card",["require","exports","preact/jsx-runtime","ojs/ojconverter-number","ojs/ojcolor","ojs/ojcolor","css!dashboard/wallet-manager/wallet-manager-styles.css","ojs/ojbutton","ojs/ojactioncard","ojs/ojcolorspectrum","ojs/ojlistview","ojs/ojlistitemlayout","ojs/ojinputtext","ojs/ojbutton","ojs/ojformlayout","ojs/ojvalidationgroup"],(function(require,e,t,a,s,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AssetCard=void 0,e.AssetCard=function({wassetName:e,wasset:i,prices:o,onCardSelected:r}){if(0===(null==i?void 0:i.length))return(0,t.jsx)(t.Fragment,{});const l=new a.IntlNumberConverter({style:"currency",currency:"USD",currencyDisplay:"symbol",currencyFormat:"standard",decimalFormat:"long",maximumFractionDigits:12}),d=o.find((t=>t.symbol===e)),c=d?d.usd_price:0,u=null==i?void 0:i.reduce(((e,t)=>e+(t.balance?parseFloat(t.balance):0)),0),f=null==i?void 0:i.reduce(((e,t)=>e+(t.balance?parseFloat(t.balance)*c:0)),0);function m(t){var a=t.currentTarget,s=a.getAttribute("data-walletAddress"),n=a.getAttribute("data-assetid");r&&s&&n&&r(s,null!=e?e:"",n,a.id)}return(0,t.jsx)("oj-action-card",Object.assign({id:"acFUSD",class:"oj-bg-neutral-20 oj-md-margin-2x-end oj-md-margin-2x-bottom"},{children:(0,t.jsxs)("div",Object.assign({class:"oj-md-margin-3x card-asset"},{children:[(0,t.jsxs)("div",Object.assign({class:"oj-flex"},{children:[(0,t.jsx)("img",{src:`styles/images/${e}.svg`,class:"card-token"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",Object.assign({class:"oj-text-primary-color oj-typography-subheading-xs"},{children:e})),(0,t.jsx)("div",Object.assign({class:"oj-text-primary-color oj-typography-subheading-xs"},{children:u}))]}),(0,t.jsx)("div",{class:"oj-flex-item"}),(0,t.jsxs)("div",Object.assign({class:"oj-sm-flex-initial oj-flex-item oj-flex oj-text-secondary-color oj-typography-body-sm oj-sm-padding-4x-top"},{children:[(0,t.jsx)("img",{src:"styles/images/fUSDT.svg",class:"card-small-token"}),(0,t.jsx)("span",Object.assign({class:"oj-sm-margin-2x-top"},{children:l.format(null!=f?f:0)}))]}))]})),(0,t.jsx)("div",Object.assign({class:"oj-md-margin-6x-top oj-md-margin-3x-bottom oj-md-margin-3x-start oj-md-margin-3x-end oj-flex"},{children:null==i?void 0:i.map((e=>{var a;return(0,t.jsx)("oj-button",Object.assign({chroming:"borderless",class:"card-wasset",id:`btn-${e.walletName}-${e.asset_id}`,"data-walletAddress":e.walletAddress,"data-assetId":e.asset_id,onClick:m},{children:(0,t.jsxs)("div",Object.assign({class:"oj-flex card-wasset"},{children:[(0,t.jsx)("div",{style:{width:"5px",height:"35px",backgroundColor:(e.walletColor?new n(e.walletColor):s.BLACK).toString()}}),(0,t.jsxs)("div",Object.assign({class:"oj-sm-margin-1x-start"},{children:[(0,t.jsx)("div",Object.assign({class:"oj-text-primary-color oj-typography-body-sm"},{children:e.walletName})),(0,t.jsx)("div",Object.assign({class:"oj-text-secondary-color oj-typography-body-xs",title:e.balance},{children:parseFloat(null!==(a=e.balance)&&void 0!==a?a:"").toFixed(8)}))]}))]}))}))}))}))]}))}))}})),define("dashboard/wallet-manager/wallet-list-filter",["require","exports","preact/jsx-runtime","./wallet-manager","ojs/ojarraydataprovider","./wallet-lib"],(function(require,e,t,a,s,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WalletListFilter=void 0,e.WalletListFilter=function({}){console.log("wallet-list-filter > render",a.tagsAsArray.value);const e=new s(a.tagsAsArray.value,{keyAttributes:"name"});return(0,t.jsx)("div",Object.assign({style:"width: 90%"},{children:(0,t.jsx)("oj-select-many",{labelHint:"filter wallets by tags :",labelEdge:"inside",options:e,value:a.selectedTags.value,onvalueChanged:e=>{"internal"===e.detail.updatedFrom&&(console.log("wallet-list-filter > onvalueChanged",e.detail.updatedFrom,e.detail.previousValue,e.detail.value),a.selectedTags.value=e.detail.value,(0,n.saveSelectedTagsToStorage)(e.detail.value))}})}))}})),define("dashboard/wallet-manager/form-elements",["require","exports","@preact/signals"],(function(require,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tbnDisabled=e.brbHidden=e.bcloHidden=e.bclrHidden=e.buHidden=e.bcrHidden=e.bawHidden=e.tdnHidden=void 0,console.log("form-elements > init"),e.tdnHidden=(0,t.signal)(!0),e.bawHidden=(0,t.signal)(!1),e.bcrHidden=(0,t.signal)(!1),e.buHidden=(0,t.signal)(!0),e.bclrHidden=(0,t.signal)(!1),e.bcloHidden=(0,t.signal)(!0),e.brbHidden=(0,t.signal)(!0),e.tbnDisabled=(0,t.signal)(!1)})),define("dashboard/wallet-manager/wallet-list",["require","exports","preact/jsx-runtime","preact/hooks","@preact/signals","ojs/ojarraydataprovider","ojs/ojconverter-number","ojs/ojcolor","ojs/ojcolor","dashboard/price-list/price-list","./wallet-list-filter","./form-elements","css!dashboard/wallet-manager/wallet-manager-styles.css","ojs/ojbutton","ojs/ojactioncard","ojs/ojcolorspectrum","ojs/ojlistview","ojs/ojlistitemlayout","ojs/ojinputtext","ojs/ojbutton","ojs/ojformlayout","ojs/ojvalidationgroup","ojs/ojgauge"],(function(require,e,t,a,s,n,i,o,r,l,d,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.refreshLastUpdatedTime=e.WalletList=void 0;let u=(0,s.signal)(void 0),f=(0,s.signal)(0);const m=(0,s.computed)((()=>!l.isAutoPriceRefreshRunning.value)),g=(0,s.computed)((()=>!!l.isAutoPriceRefreshRunning.value));function h(){console.log("wallet-list > refreshLastUpdatedLabel");var e=Math.abs(Date.now()-u.peek()),t=Math.floor(e/1e3);f.value=t}e.WalletList=function({wallets:e,walletsMetadata:s,showAddWallet:u,showEditWallet:v,tryDeleteWallet:p,walletSelected:j,refreshAllWalletBalances:b}){const w=new i.IntlNumberConverter({style:"currency",currency:"USD",currencyDisplay:"symbol",currencyFormat:"standard",decimalFormat:"long",maximumFractionDigits:12}),y=new n(e,{keyAttributes:"name"});return(0,a.useEffect)((()=>{const e=setInterval(h,1e4);return()=>clearInterval(e)}),[]),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",Object.assign({className:"oj-flex oj-sm-margin-7x-start oj-sm-margin-7x-end"},{children:[(0,t.jsxs)("oj-button",Object.assign({id:"butAddWallet",display:"all",onojAction:u,class:"oj-button-sm",hidden:c.bawHidden.value},{children:[(0,t.jsx)("span",{slot:"startIcon",class:"oj-ux-ico-plus"}),"Add Wallet"]})),(0,t.jsx)("span",{className:"oj-flex-item"}),(0,t.jsxs)("span",Object.assign({class:"oj-sm-padding-2x-end oj-sm-padding-4x-top oj-text-color-secondary"},{children:["last updated ",f," second(s) ago"]})),(0,t.jsxs)("oj-button",Object.assign({id:"butRefreshBalances",display:"icons",hidden:c.brbHidden.value,onojAction:b,class:"oj-button-sm oj-sm-flex-initial oj-flex-item  oj-sm-margin-2x-end"},{children:[(0,t.jsx)("span",{slot:"startIcon",class:"oj-ux-ico-refresh"}),"Refresh wallet balances"]})),(0,t.jsxs)("oj-button",Object.assign({id:"butPause",display:"icons",onojAction:l.stopPriceRefreshTimer,class:"oj-button-sm oj-sm-flex-initial oj-flex-item",hidden:m.value},{children:[(0,t.jsx)("span",{slot:"startIcon",class:"oj-ux-ico-pause"}),"Pause autorefresh"]})),(0,t.jsxs)("oj-button",Object.assign({id:"butPlay",display:"icons",onojAction:l.startPriceRefreshTimer,class:"oj-button-sm oj-sm-flex-initial oj-flex-item",hidden:g.value},{children:[(0,t.jsx)("span",{slot:"startIcon",class:"oj-ux-ico-play"}),"Start autorefresh (runs every 60 seconds)"]}))]})),(0,t.jsx)("oj-list-view",Object.assign({id:"lvWallets","aria-label":"wallets",data:y,gridlines:{item:"visible"},class:"nx-wallet-list oj-sm-padding-3x-top oj-sm-padding-3x-start oj-sm-padding-3x-end",selectionMode:"none",onselectedChanged:j},{children:(0,t.jsx)("template",{slot:"itemTemplate","data-oj-as":"item",render:function(e){var a,n;const i={width:"5px",height:"50px",backgroundColor:(e.item.data.walletColor?new r(e.item.data.walletColor):o.BLACK).toString()},l=s.get(e.key)
;let d=0;return l&&"runningWalletTotalInUsd"in l&&(d=l.runningWalletTotalInUsd),(0,t.jsx)("li",Object.assign({style:"align-items:center;"},{children:(0,t.jsxs)("oj-list-item-layout",Object.assign({style:"width:100%"},{children:[(0,t.jsx)("div",{slot:"leading",style:i}),(0,t.jsx)("div",Object.assign({class:"oj-typography-body-md oj-text-color-primary"},{children:null!==(a=e.item.data.displayName)&&void 0!==a?a:e.item.data.name})),(0,t.jsx)("div",Object.assign({slot:"secondary",class:"oj-typography-body-sm oj-text-color-secondary",style:"min-width: 200px;"},{children:e.item.data.publicKey?e.item.data.publicKey:e.item.data.accounts[0].label})),(0,t.jsx)("div",Object.assign({slot:"tertiary",class:"oj-flex oj-typography-body-sm oj-text-color-secondary"},{children:null===(n=e.item.data.tags)||void 0===n?void 0:n.map((e=>(0,t.jsx)("div",Object.assign({class:"tag-item"},{children:e}))))})),(0,t.jsxs)("div",Object.assign({slot:"metadata",class:"oj-flex"},{children:[(0,t.jsx)("img",{src:"styles/images/fUSDT.svg",style:{width:"25px"}}),(0,t.jsx)("span",Object.assign({class:"oj-sm-padding-2x-start oj-sm-padding-2x-end oj-sm-padding-6x-top",style:{verticalAlign:"super"}},{children:w.format(null!=d?d:0)})),(0,t.jsx)("oj-status-meter-gauge",{"labelled-by":"readOnly",orientation:"circular",min:0,max:e.item.data.goal,value:null!=d?d:0,metricLabel:{rendered:"off"},plotArea:{rendered:"on"},innerRadius:.57,size:"sm",startAngle:180,angleExtent:180,class:"oj-sm-padding-3x-top oj-sm-margin-0x",hidden:!(e.item.data.goal&&e.item.data.goal>0),readonly:!0})]})),(0,t.jsx)("div",{slot:"trailing",style:{width:"50px"}}),(0,t.jsxs)("div",Object.assign({slot:"action"},{children:[(0,t.jsxs)("oj-button",Object.assign({id:"bEdit",display:"icons",onojAction:v,class:"oj-button-sm","row-data":e.item.data.name},{children:[(0,t.jsx)("span",{slot:"startIcon",class:"oj-ux-ico-edit"}),"Edit"]})),(0,t.jsxs)("oj-button",Object.assign({id:"bDelete",display:"icons",onojAction:p,class:"oj-button-sm oj-sm-padding-2x-start","row-data":e.item.data.name},{children:[(0,t.jsx)("span",{slot:"startIcon",class:"oj-ux-ico-trash"}),"Delete"]}))]}))]}))}))}})})),(0,t.jsx)("ul",{children:(x=function(e){let t=0,a=0;return e.forEach(((e,s)=>{let n=0;if(e&&"goal"in e&&(n=e.goal,a+=n),e&&"runningWalletTotalInUsd"in e){const a=e.runningWalletTotalInUsd;t+=a}})),{runningWalletsTotalInUsd:t,runningGoal:a}}(s),(0,t.jsxs)("oj-list-item-layout",Object.assign({id:"lilFooter",style:""},{children:[(0,t.jsx)("div",{children:(0,t.jsx)(d.WalletListFilter,{})}),(0,t.jsxs)("div",Object.assign({slot:"metadata",class:"oj-flex"},{children:[(0,t.jsx)("img",{src:"styles/images/fUSDT.svg",style:{width:"25px"}}),(0,t.jsx)("span",Object.assign({class:"oj-sm-padding-2x-start oj-sm-padding-2x-end oj-sm-padding-6x-top",style:{verticalAlign:"super"}},{children:w.format(null!==(_=x.runningWalletsTotalInUsd)&&void 0!==_?_:0)})),(0,t.jsx)("oj-status-meter-gauge",{"labelled-by":"readOnly",orientation:"circular",min:0,max:x.runningGoal,value:null!==(T=x.runningWalletsTotalInUsd)&&void 0!==T?T:0,metricLabel:{rendered:"off"},plotArea:{rendered:"on"},innerRadius:.57,size:"sm",startAngle:180,angleExtent:180,class:"oj-sm-padding-3x-top oj-sm-margin-0x",readonly:!0})]})),(0,t.jsx)("div",{slot:"trailing",style:{width:"50px"}}),(0,t.jsx)("div",{slot:"action",style:{width:"52px"}})]})))})]});var x,_,T},e.refreshLastUpdatedTime=function(e){console.log("wallet-list > refreshLastUpdatedLabelNow"),u.value=e,h()}})),define("dashboard/wallet-manager/wallet-charts",["require","exports","preact/jsx-runtime","ojs/ojarraydataprovider","css!dashboard/wallet-manager/wallet-manager-styles.css","ojs/ojbutton","ojs/ojactioncard","ojs/ojcolorspectrum","ojs/ojlistview","ojs/ojlistitemlayout","ojs/ojinputtext","ojs/ojbutton","ojs/ojformlayout","ojs/ojvalidationgroup"],(function(require,e,t,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WalletCharts=void 0,e.WalletCharts=function({chartData:e}){const s=new a(e,{keyAttributes:"id"});return(0,t.jsxs)("div",Object.assign({class:"oj-flex oj-sm-margin-7x-start oj-sm-margin-7x-end"},{children:[(0,t.jsx)("oj-chart",{id:"lineAreaChart",type:"lineWithArea",style:"width:50%;",data:s,"animation-on-display":"auto","animation-on-data-change":"auto",orientation:"vertical",stack:"on","hover-behavior":"dim",styleDefaults:{lineType:"centeredStepped",markerDisplayed:"off",lineStyle:"solid"}}),(0,t.jsx)("oj-chart",{id:"pieChart",type:"pie",style:"width:50%;",data:s,"animation-on-display":"auto","animation-on-data-change":"auto","hover-behavior":"dim"})]}))}})),define("dashboard/wallet-manager/wallet-editor",["require","exports","preact/jsx-runtime","preact/hooks","@preact/signals","./wallet-lib","./form-elements","css!dashboard/wallet-manager/wallet-manager-styles.css","ojs/ojbutton","ojs/ojactioncard","ojs/ojcolorspectrum","ojs/ojlistview","ojs/ojlistitemlayout","ojs/ojinputtext","ojs/ojbutton","ojs/ojformlayout","ojs/ojvalidationgroup","ojs/ojinputnumber","ojs/ojselectcombobox"],(function(require,e,t,a,s,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WalletEditor=void 0,e.WalletEditor=function({tryCreate:e,tryUpdate:o,clear:r,close:l,showAddWallet:d,refreshAllWalletBalances:c}){console.log("wallet-editor > init");const u=(0,s.signal)(void 0);return(0,a.useEffect)((()=>()=>{console.log("wallet-editor > disposed!!!!!!")}),[]),(0,t.jsx)("div",{children:(0,t.jsx)("div",Object.assign({id:"walletEditor",className:"oj-sm-margin-4x-start oj-sm-padding-3x",hidden:!0},{children:(0,t.jsx)("oj-validation-group",Object.assign({id:"tracker",valid:u.value},{children:(0,t.jsxs)("oj-form-layout",{children:[(0,t.jsx)("oj-input-text",{id:"wn",required:!0,"label-hint":"wallet name (id)",disabled:i.tbnDisabled.value}),(0,t.jsx)("oj-input-text",{id:"wdn","label-hint":"wallet display name",style:{display:i.tdnHidden.value?"none":""}}),(0,t.jsx)("oj-input-password",{id:"wpk",required:!0,"label-hint":"public wallet address","mask-icon":"visible"}),(0,t.jsx)("oj-input-password",{id:"wk",required:!1,value:n.KEY,"label-hint":"key","mask-icon":"visible",style:"display:none",hidden:!0}),(0,t.jsx)("oj-input-number",{id:"wg",onKeyPress:e=>{let t=e.which?e.which:e.keyCode,a=String.fromCharCode(t),s=a.replace(/[^0-9\.]/g,"");a!==s&&e.preventDefault()},labelHint:"Goal (fUSDT)",labelEdge:"inside"}),(0,t.jsx)("oj-color-spectrum",{id:"wcol","label-hint":"wallet color"}),(0,t.jsxs)("oj-combobox-many",Object.assign({id:"wt",class:"oj-form-control-max-width-md",labelEdge:"none",required:!0,placeholder:"keywords to tag this wallet with"},{children:[(0,t.jsx)("oj-option",Object.assign({value:"bot"},{children:"bot"})),(0,t.jsx)("oj-option",Object.assign({value:"fees"},{children:"fees"})),(0,t.jsx)("oj-option",Object.assign({value:"flamingo"},{children:"flamingo"})),(0,t.jsx)("oj-option",Object.assign({value:"personal"},{children:"personal"}))]})),(0,t.jsxs)("div",Object.assign({className:"oj-flex"},{children:[(0,t.jsx)("oj-button",Object.assign({id:"butCreate",onojAction:e,chroming:"callToAction",hidden:i.bcrHidden.value},{children:"Create"})),(0,t.jsx)("oj-button",Object.assign({id:"butUpdate",onojAction:o,chroming:"callToAction",hidden:i.buHidden.value},{children:"Update"})),(0,t.jsx)("oj-button",Object.assign({id:"butClear",onojAction:r,class:"oj-sm-padding-2x-start",hidden:i.bcrHidden.value},{children:"Clear"})),(0,t.jsx)("oj-button",Object.assign({id:"butClose",onojAction:l,class:"oj-sm-padding-2x-start",hidden:i.bcloHidden.value},{children:"Close"}))]}))]})}))}))})}}));__awaiter=this&&this.__awaiter||function(e,t,a,s){return new(a||(a=Promise))((function(n,i){function o(e){try{l(s.next(e))}catch(e){i(e)}}function r(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,r)}l((s=s.apply(e,t||[])).next())}))};define("dashboard/wallet-manager/wallet-manager",["require","exports","preact/jsx-runtime","ojs/ojvcomponent","@preact/signals","ojs/ojcolor","./asset-card","./wallet-lib","./wallet-list","./wallet-charts","./wallet-editor","dashboard/price-list/price-list","dashboard/notifications-layer/notifications-layer","ojs/ojcolor","./asset-manager","dashboard/flamingo-api/indexdb/transactionsDbService","./form-elements","css!dashboard/wallet-manager/wallet-manager-styles.css","ojs/ojchart","ojs/ojactioncard","ojs/ojcolorspectrum","ojs/ojlistview","ojs/ojlistitemlayout","ojs/ojinputtext","ojs/ojbutton","ojs/ojformlayout","ojs/ojvalidationgroup","ojs/ojpopup","ojs/ojdrawerpopup"],(function(require,e,t,a,s,n,i,o,r,l,d,c,u,f,m,g,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getWallet=e.WalletManager=e.refreshCurrentSelectedAssetTransactions=e.walletAssetTotals=e.walletsMetadata=e.wallets=e.walletsRaw=e.selectedTags=e.tagsAsArray=e.tags=void 0;const v=(0,s.signal)(void 0),p=(0,s.signal)(void 0);new Map;e.tags=(0,s.signal)(new Set),e.tagsAsArray=(0,s.computed)((()=>Array.from(e.tags.value).map((e=>({name:e,value:e})))));let j=(0,o.getSelectedTagsFromStorage)();function b(t,a){const s=(0,o.loadWalletsFromStorage)();console.log(`wallet-manager > updateWallets ${s.length}`),(t||s&&s.length>0)&&(e.walletsRaw.value=s,a&&a())}function w(e=1e3){setTimeout(b,e)}e.selectedTags=(0,s.signal)(j),e.walletsRaw=(0,s.signal)([]),e.wallets=(0,s.computed)((()=>{if(0===e.selectedTags.value.length)return e.walletsRaw.value;let t=e.walletsRaw.value.filter((t=>{var a=!1;return t.tags.forEach((t=>{e.selectedTags.value.includes(t)&&(a=!0)})),a}));return console.log("wallet-manager > wallets > computed"),t})),e.walletsMetadata=(0,s.signal)(new Map),e.walletAssetTotals=(0,s.signal)([]),e.refreshCurrentSelectedAssetTransactions=function(){return __awaiter(this,void 0,void 0,(function*(){if(p.value.assetId){(0,c.stopPriceRefreshTimer)(),v.value={transactions:[],watchlist:[],asset_name:p.value.asset_name,assetId:p.value.assetId,walletAddress:p.value.walletAddress};var e=yield(0,o.getN3AssetTxs)(p.value.walletAddress,p.value.assetId),t=yield g.default.getTransactions(p.value.asset_name);v.value={transactions:e,watchlist:t,asset_name:p.value.asset_name,assetId:p.value.assetId,walletAddress:p.value.walletAddress}}}))},e.WalletManager=(0,a.registerCustomElement)("dashboard-wallet-manager",(function(){const a=(0,s.useSignal)([]),j=(0,s.useSignal)([]),y=(0,s.useSignal)([]),x=(0,s.useSignal)([]),_=(0,s.useSignal)([]),T=(0,s.useSignal)([]),A=(0,s.useSignal)([]),N=(0,s.useSignal)([]),O=(0,s.useSignal)([]),S=(0,s.useSignal)([]),E=(0,s.useSignal)([]),k=(0,s.useSignal)([]);function C(){const e=document.getElementById("lvWallets"),t=document.getElementById("wcol"),a=document.getElementById("wg");return{wcol:t,wn:document.getElementById("wn"),wdn:document.getElementById("wdn"),wpk:document.getElementById("wpk"),wk:document.getElementById("wk"),tracker:document.getElementById("tracker"),lvw:e,we:document.getElementById("walletEditor"),wg:a,wt:document.getElementById("wt"),de:document.getElementById("de"),dat:document.getElementById("dat")}}function L(){const e=C();e.wn.value="",e.wdn.value="",e.wpk.value="",e.wk.value=o.KEY,h.bcrHidden.value=!1,h.bclrHidden.value=!1,h.buHidden.value=!0,h.bcloHidden.value=!1,e.wcol.value=n.BLACK,e.wg.value=0,e.wt.value=[]}function D(){const e=C();L(),e.we.hidden=!0,h.bawHidden.value=!1,e.de.opened=!1,(0,c.startPriceRefreshTimer)()}function W(){const e=C();return"valid"===e.tracker.valid||(e.tracker.showMessages(),e.tracker.focusOn("@firstInvalidShown"),!1)}function F(e,t,a,s){return __awaiter(this,void 0,void 0,(function*(){if(a){p.value={walletAddress:e,asset_name:t,assetId:a};C().dat.opened=!0,(0,c.stopPriceRefreshTimer)(),v.value={transactions:[],watchlist:[],asset_name:t,assetId:a,walletAddress:e};var s=yield(0,o.getN3AssetTxs)(e,a),n=yield g.default.getTransactions(t);v.value={transactions:s,watchlist:n,asset_name:t,assetId:a,walletAddress:e},console.log("wallet-manager > assetSelected",n,v.value)}}))}function P(){return __awaiter(this,void 0,void 0,(function*(){a.value=[],j.value=[],y.value=[],x.value=[],_.value=[],T.value=[],A.value=[],O.value=[],N.value=[],S.value=[],E.value=[],k.value=[],e.walletsMetadata.value.clear(),e.walletAssetTotals.value=[],console.log("wallet-manager > refreshAllWalletBalances",e.wallets);for(let t=0;t<e.wallets.value.length;t++){const s=e.wallets.value[t],n=s.publicKey?s.publicKey:s.accounts[0].label;let i;false,void 0===i&&(i=yield(0,o.getN3AddressBalances)(n));let r=0;i.forEach((e=>{var t,i,o,l,d,u,f,m,g,h,v,p;if(c.prices.value&&e.balance&&"0"!==e.balance){let b=c.prices.value.find((t=>t.symbol===e.symbol));switch(e.symbol){case"USDT":j.value=[...j.value,Object.assign(Object.assign({},e),{walletAddress:n,walletName:null!==(t=s.displayName)&&void 0!==t?t:s.name,walletColor:s.walletColor})];break;case"fUSDT":a.value=[...a.value,Object.assign(Object.assign({},e),{walletAddress:n,walletName:null!==(i=s.displayName)&&void 0!==i?i:s.name,walletColor:s.walletColor})];break;case"FUSD":y.value=[...y.value,Object.assign(Object.assign({},e),{walletAddress:n,walletName:null!==(o=s.displayName)&&void 0!==o?o:s.name,walletColor:s.walletColor})];break;case"NEO":x.value=[...x.value,Object.assign(Object.assign({},e),{walletAddress:n,walletName:null!==(l=s.displayName)&&void 0!==l?l:s.name,walletColor:s.walletColor})],b=c.prices.value.find((e=>"bNEO"===e.symbol));break;case"bNEO":_.value=[..._.value,Object.assign(Object.assign({},e),{walletAddress:n,walletName:null!==(d=s.displayName)&&void 0!==d?d:s.name,walletColor:s.walletColor})],b=c.prices.value.find((e=>"bNEO"===e.symbol));break;case"GAS":T.value=[...T.value,Object.assign(Object.assign({},e),{walletAddress:n,walletName:null!==(u=s.displayName)&&void 0!==u?u:s.name,walletColor:s.walletColor})];break;case"FLM":A.value=[...A.value,Object.assign(Object.assign({},e),{walletAddress:n,walletName:null!==(f=s.displayName)&&void 0!==f?f:s.name,walletColor:s.walletColor})];break;case"fWBTC":N.value=[...N.value,Object.assign(Object.assign({},e),{walletAddress:n,walletName:null!==(m=s.displayName)&&void 0!==m?m:s.name,walletColor:s.walletColor})];break;case"WBTC":O.value=[...O.value,Object.assign(Object.assign({},e),{walletAddress:n,walletName:null!==(g=s.displayName)&&void 0!==g?g:s.name,walletColor:s.walletColor})];break;case"fWETH":S.value=[...S.value,Object.assign(Object.assign({},e),{walletAddress:n,walletName:null!==(h=s.displayName)&&void 0!==h?h:s.name,walletColor:s.walletColor})];break;case"WETH":E.value=[...E.value,Object.assign(Object.assign({},e),{walletAddress:n,walletName:null!==(v=s.displayName)&&void 0!==v?v:s.name,walletColor:s.walletColor})];break;case"FLUND":k.value=[...k.value,Object.assign(Object.assign({},e),{walletAddress:n,walletName:null!==(p=s.displayName)&&void 0!==p?p:s.name,walletColor:s.walletColor})];break;default:console.log(e.symbol)}const w=b?b.usd_price:0;r+=parseFloat(e.balance)*w}})),e.walletsMetadata.value.set(s.name,{runningWalletTotalInUsd:r,goal:s.goal});const l=[];function d(e,t){const a=c.prices.value.find((t=>t.symbol===e)),s=a?a.usd_price:0,n=null==t?void 0:t.reduce(((e,t)=>e+(t.balance?parseFloat(t.balance)*s:0)),0);return l.push({id:l.length,seriesId:e,groupId:"0",value:n}),l.push({id:l.length,seriesId:e,groupId:"1",value:n}),null!=n?n:0}d("FUSD",y.value),d("fUSDT",a.value),d("USDT",j.value),d("GAS",T.value),d("bNEO",_.value),d("NEO",x.value),d("FLM",A.value),d("fWBTC",N.value),d("WBTC",O.value),d("fWETH",S.value),d("WETH",E.value),d("FLUND",k.value),e.walletAssetTotals.value=l}!function(){__awaiter(this,void 0,void 0,(function*(){console.log("wallet-manager > refreshAllTags",e.wallets);const t=new Set;for(let a=0;a<e.walletsRaw.value.length;a++)e.walletsRaw.value[a].tags.forEach((e=>t.add(e)));e.tags.value=t}))}()}))}function I(){L();const e=C();e.we.hidden=!1,h.tdnHidden.value=!0,h.bawHidden.value=!0,e.de.opened=!0,h.tbnDisabled.value=!1,(0,c.stopPriceRefreshTimer)()}return(0,s.useSignalEffect)((()=>{c.prices.value&&c.prices.value.length>0&&(console.log("wallet-manager > useSignalEffect > prices changed"),console.log("wallet-manager > useSignalEffect > wallets changed"),b(!1,(()=>{console.log("wallet-manager > useSignalEffect > updateWallets > callback"),P(),(0,r.refreshLastUpdatedTime)(Date.now());C();h.brbHidden.value=0===e.wallets.value.length})))})),(0,t.jsxs)("div",{children:[(0,t.jsx)("oj-drawer-popup",Object.assign({id:"dat",edge:"end",class:"drawerAssetTransactions",onojBeforeClose:D,onopenedChanged:e=>{!0===e.detail.value&&(0,m.showAssetManagerRoute)({assetTransactionsHidden:!1})}},{children:(0,t.jsx)("div",{children:(0,t.jsx)(m.AssetManager,{transactions:v.value})})})),(0,t.jsx)("oj-drawer-popup",Object.assign({id:"de",edge:"start",class:"drawerEditor",onojBeforeClose:D},{children:(0,t.jsx)(d.WalletEditor,{tryCreate:function(){var e;if(W()){const t=C();t.wn.value&&t.wpk.value&&t.wk.value&&((0,o.addWalletToStorage)(t.wn.value,t.wpk.value,t.wk.value,t.wg.value,null===(e=t.wcol.value)||void 0===e?void 0:e.toString(),t.wt.value),D(),w(1e3),function(e=1e3){setTimeout((()=>{P()}),e)}(2e3),h.brbHidden.value=!1)}},tryUpdate:function(){var e;const t=C();W()&&t.wn.value&&t.wn.value&&((0,o.updateWalletToStorage)(t.wn.value,t.wpk.value,t.wg.value,null===(e=t.wcol.value)||void 0===e?void 0:e.toString(),t.wt.value,t.wdn.value),D(),w())},clear:L,close:D,showAddWallet:I,refreshAllWalletBalances:P})})),(0,t.jsx)(r.WalletList,{wallets:e.wallets.value,walletsMetadata:e.walletsMetadata.value,walletSelected:function(e){return __awaiter(this,void 0,void 0,(function*(){const t=C();if(null===e.detail.items)return L(),t.we.hidden=!0,void(h.bawHidden.value=!1)}))},tryDeleteWallet:function(e){const t=e.srcElement.attributes["row-data"].value;(0,o.deleteWalletFromStorage)(t);const a={id:1,severity:"none",summary:`wallet "${t}" deleted`,autoTimeout:3e3};(0,u.createNotification)(a),b(!0)},showAddWallet:I,showEditWallet:function(t){var a;const s=t.srcElement.attributes["row-data"].value,i=e.wallets.value.find((e=>e.name===s));if(i){const e=i.accounts[0],t=C();console.log("wallet-manager > showEditWallet",i),t.we.hidden=!1,t.wn.value=i.name,h.tdnHidden.value=!1,t.wdn.value=null!==(a=i.displayName)&&void 0!==a?a:i.name,t.wpk.value=i.publicKey?i.publicKey:e._WIF,t.wg.value=i.goal,t.wcol.value=i.walletColor?new f(i.walletColor):n.BLACK,h.bcrHidden.value=!0,h.bclrHidden.value=!0,h.buHidden.value=!1,h.bcloHidden.value=!1,h.bawHidden.value=!0,t.wt.value=i.tags,t.de.opened=!0,h.tbnDisabled.value=!0,(0,c.stopPriceRefreshTimer)()}},refreshAllWalletBalances:P}),(0,t.jsx)(l.WalletCharts,{chartData:e.walletAssetTotals.value}),(0,t.jsxs)("div",Object.assign({class:"oj-flex oj-sm-margin-7x-start oj-sm-margin-7x-end oj-sm-margin-5x-top"},{children:[(0,t.jsx)(i.AssetCard,{wassetName:"FUSD",wasset:y.value,prices:c.prices.value,onCardSelected:F}),(0,t.jsx)(i.AssetCard,{wassetName:"fUSDT",wasset:a.value,prices:c.prices.value,onCardSelected:F}),(0,t.jsx)(i.AssetCard,{wassetName:"USDT",wasset:j.value,prices:c.prices.value,onCardSelected:F}),(0,t.jsx)(i.AssetCard,{wassetName:"FLM",wasset:A.value,prices:c.prices.value,onCardSelected:F}),(0,t.jsx)(i.AssetCard,{wassetName:"FLUND",wasset:k.value,prices:c.prices.value,onCardSelected:F}),(0,t.jsx)(i.AssetCard,{wassetName:"bNEO",wasset:_.value,prices:c.prices.value,onCardSelected:F}),(0,t.jsx)(i.AssetCard,{wassetName:"NEO",wasset:x.value,prices:c.prices.value,onCardSelected:F}),(0,t.jsx)(i.AssetCard,{wassetName:"GAS",wasset:T.value,prices:c.prices.value,onCardSelected:F}),(0,t.jsx)(i.AssetCard,{wassetName:"fWBTC",wasset:N.value,prices:c.prices.value,onCardSelected:F}),(0,t.jsx)(i.AssetCard,{wassetName:"WBTC",wasset:O.value,prices:c.prices.value,onCardSelected:F}),(0,t.jsx)(i.AssetCard,{wassetName:"fWETH",wasset:S.value,prices:c.prices.value,onCardSelected:F}),(0,t.jsx)(i.AssetCard,{wassetName:"WETH",wasset:E.value,prices:c.prices.value,onCardSelected:F})]}))]})}),"WalletManager"),e.getWallet=function(t){for(let a=0;a<e.wallets.value.length;a++){const s=e.wallets.value[a];if(s.publicKey===t)return s}}}));__awaiter=this&&this.__awaiter||function(e,t,a,s){return new(a||(a=Promise))((function(n,i){function o(e){try{l(s.next(e))}catch(e){i(e)}}function r(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,r)}l((s=s.apply(e,t||[])).next())}))};define("dashboard/wallet-manager/asset-transactions",["require","exports","preact/jsx-runtime","ojs/ojconverter-number","ojs/ojcolor","./wallet-lib","ojs/ojarraydataprovider","dashboard/notifications-layer/notifications-layer","dashboard/price-list/price-list","./asset-manager","dashboard/wallet-peek/wallet-peek","./wallet-manager","ojs/ojcolor","./asset-watchlist","dashboard/flamingo-api/api/api-client","css!dashboard/wallet-manager/wallet-manager-styles.css","ojs/ojbutton","ojs/ojactioncard","ojs/ojcolorspectrum","ojs/ojlistview","ojs/ojlistitemlayout","ojs/ojinputtext","ojs/ojbutton","ojs/ojformlayout","ojs/ojvalidationgroup"],(function(require,e,t,a,s,n,i,o,r,l,d,c,u,f,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getTimeInterval=e.AssetTransactions=void 0;const g=new m.default;function h(e){let t=Math.floor((Date.now()-e)/1e3),a="second",s="ago";t<0&&(t=-t,s="from now");let n=t;return t>=31536e3?(n=Math.floor(t/31536e3),a="year"):t>=86400?(n=Math.floor(t/86400),a="day"):t>=3600?(n=Math.floor(t/3600),a="hour"):t>=60&&(n=Math.floor(t/60),a="minute"),1!=n&&(a+="s"),n+" "+a+" "+s}e.AssetTransactions=function({hidden:e,transactions:m}){if(void 0===m)return(0,t.jsx)(t.Fragment,{children:"none found ..."});console.log("asset-transactions > render",m);const v=(0,c.getWallet)(m.walletAddress),p=new i(m.transactions,{keyAttributes:"id"}),j=new a.IntlNumberConverter({style:"currency",currency:"USD",currencyDisplay:"symbol",currencyFormat:"standard",decimalFormat:"long",maximumFractionDigits:12}),b=r.prices.value.find((e=>e.symbol===m.asset_name)),w=b?b.usd_price:0,y=e=>{navigator.clipboard.writeText(e);const t={id:1,severity:"none",summary:e+" copied to clipboard",autoTimeout:3e3};(0,o.createNotification)(t)},x=e=>__awaiter(this,void 0,void 0,(function*(){(0,l.showAssetManagerRoute)({assetWatchlistEditorHidden:!1});let t=yield g.getNeoTransaction(e.txid);console.log("aeest-transactions > showAddAssetToWatchList",t),f.seletedTransaction.value={txDetail:t,transaction:e,transactionType:"add",watchlist:[]}})),_=e=>__awaiter(this,void 0,void 0,(function*(){var t;(0,l.showAssetManagerRoute)({assetWatchlistEditorHidden:!1});let a=yield g.getNeoTransaction(e.txid);f.seletedTransaction.value={txDetail:a,transaction:e,transactionType:"edit",watchlist:null===(t=m.watchlist)||void 0===t?void 0:t.filter((t=>t.id===e.id))}}));return(0,t.jsxs)("div",Object.assign({hidden:e},{children:[(0,t.jsxs)("div",Object.assign({class:"oj-flex oj-sm-padding-5x-start oj-sm-padding-5x-end oj-sm-padding-2x-top"},{children:[(0,t.jsxs)("div",Object.assign({class:"oj-flex oj-flex-item"},{children:[(0,t.jsx)("div",{style:{width:"5px",height:"27px",backgroundColor:(v.walletColor?new u(v.walletColor):s.BLACK).toString()}}),(0,t.jsxs)("div",Object.assign({class:"oj-sm-padding-1x-top oj-sm-padding-1x-start oj-sm-padding-2x-end"},{children:[v.name," > "]})),(0,t.jsx)("img",{src:`styles/images/${m.asset_name}.svg`,class:"card-small-token"}),(0,t.jsx)("div",Object.assign({class:"oj-sm-padding-1x-top oj-sm-padding-0x-start oj-sm-padding-2x-end"},{children:m.asset_name}))]})),(0,t.jsxs)("div",Object.assign({class:"oj-sm-flex-initial oj-flex-item "},{children:[m.transactions.length," ",m.transactions.length>1?"transactions":1===m.transactions.length?"transaction":""]}))]})),(0,t.jsx)("div",{children:(0,t.jsx)("oj-list-view",Object.assign({id:"lvTransactions","aria-label":"transactions",data:p,gridlines:{item:"visible"},class:"oj-sm-padding-1x",selectionMode:"none"},{children:(0,t.jsx)("template",{slot:"itemTemplate","data-oj-as":"item",render:e=>{var a,s;return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",Object.assign({class:"oj-flex oj-flex oj-text-primary-color oj-typography-body-md"},{children:[(0,t.jsx)("img",{src:`styles/images/${e.data.symbol}.svg`,class:" card-small-token"}),(0,t.jsxs)("div",Object.assign({class:"oj-flex-item",style:{width:"200px"}},{children:[e.data.value,(0,t.jsx)("span",{class:"oj-md-padding-2x-start oj-ux-ico-clipboard-add clipboard-action",title:"copy price to clipboard",onClick:()=>y(e.data.value)})]})),e.data.value>0?(0,t.jsxs)("div",Object.assign({class:"oj-flex-item oj-flex"},{children:[(0,t.jsx)("img",{src:"styles/images/fUSDT.svg",class:"card-small-token"}),(0,t.jsx)("div",{children:j.format(parseFloat(e.data.value)*w)})]})):(0,t.jsx)(t.Fragment,{}),(0,t.jsxs)("div",Object.assign({class:"oj-sm-flex-initial oj-flex-item oj-flex oj-text-secondary-color"},{children:[(0,t.jsx)("span",{class:"oj-ux-ico-bookmark clipboard-action",title:"add to watch list",hidden:"sent"===e.data.type||(null===(a=m.watchlist)||void 0===a?void 0:a.filter((t=>t.id===e.data.id)).length)>0,onClick:()=>x(e.data)}),(0,t.jsx)("span",{class:"oj-ux-ico-bookmark-selected clipboard-action",title:"remove from watch list",hidden:1!==(null===(s=m.watchlist)||void 0===s?void 0:s.filter((t=>t.id===e.data.id)).length),onClick:()=>_(e.data)})]}))]})),(0,t.jsxs)("div",Object.assign({class:"oj-md-padding-6x-start oj-md-margin-1x-top oj-text-secondary-color oj-typography-body-sm"},{children:["sent"===e.data.type?"sent to ":"recieved from ",(0,t.jsxs)("span",Object.assign({class:"clipboard-action tx-address",title:"peek into address",onClick:()=>{return t="sent"===e.data.type?e.data.to[0]:e.data.from[0],(0,l.showAssetManagerRoute)({walletPeekHidden:!1}),void(d.seletedAddress.value=t);var t}},{children:[(0,t.jsx)("span",{class:"oj-ux-ico-wallet oj-md-margin-1x-end oj-md-margin-1x-top"}),"sent"===e.data.type?(0,n.addressFormat)(e.data.to[0]):(0,n.addressFormat)(e.data.from[0])]})),(0,t.jsx)("span",{class:"oj-md-padding-2x-start oj-sm-padding-2x-top  oj-ux-ico-clipboard-add clipboard-action",title:"copy address to clipboard",onClick:()=>y("sent"===e.data.type?e.data.to[0]:e.data.from[0])})]})),(0,t.jsxs)("div",Object.assign({class:"oj-md-padding-6x-start oj-md-margin-1x-top oj-text-secondary-color oj-typography-body-sm"},{children:[h(1e3*e.data.block_time)," (",new Date(1e3*e.data.block_time).toISOString(),")"]}))]})}})}))})]}))},e.getTimeInterval=h}));__awaiter=this&&this.__awaiter||function(e,t,a,s){return new(a||(a=Promise))((function(n,i){function o(e){try{l(s.next(e))}catch(e){i(e)}}function r(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,r)}l((s=s.apply(e,t||[])).next())}))};define("dashboard/wallet-manager/asset-watchlist",["require","exports","preact/jsx-runtime","@preact/signals","./wallet-lib","dashboard/flamingo-api/indexdb/transactionsDbService","dashboard/notifications-layer/notifications-layer","dashboard/watch-list/watch-list-item","ojs/ojconverter-number","dashboard/price-list/price-list","./asset-transactions","dashboard/watch-list/watch-list","./wallet-manager","ojs/ojinputnumber"],(function(require,e,t,a,s,n,i,o,r,l,d,c,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AssetWatchlistEditor=e.deleteWatchListItem=e.seletedTransaction=void 0,e.seletedTransaction=(0,a.signal)(void 0);e.deleteWatchListItem=(e,t,a)=>__awaiter(void 0,void 0,void 0,(function*(){yield n.default.deleteById(e);const s={id:2,severity:"none",summary:`${t} ${a} deleted from watch list`,autoTimeout:2e3};(0,i.createNotification)(s)})),e.AssetWatchlistEditor=function({hidden:a,navigateBack:f}){var m,g,h,v,p,j,b,w,y,x,_,T,A,N,O,S,E,k;console.log("asset-watchlist > AssetWatchlistEditor");const C=l.prices.value.find((t=>{var a;return t.symbol===(null===(a=e.seletedTransaction.value)||void 0===a?void 0:a.transaction.symbol)})),L=C?C.usd_price:0,D=new r.IntlNumberConverter({style:"currency",currency:"USD",currencyDisplay:"symbol",currencyFormat:"standard",decimalFormat:"long",maximumFractionDigits:12}),W=1===(null===(m=e.seletedTransaction.value)||void 0===m?void 0:m.watchlist.length)?e.seletedTransaction.value.watchlist[0]:void 0;return(0,t.jsxs)("div",Object.assign({hidden:a,class:"oj-sm-margin-2x"},{children:[(0,t.jsxs)("div",Object.assign({class:"oj-flex"},{children:[(0,t.jsx)("oj-button",Object.assign({display:"all",onojAction:f,class:"oj-button-md"},{children:(0,t.jsx)("span",{slot:"startIcon",class:"oj-ux-ico-back-parent"})})),(0,t.jsx)("h6",Object.assign({class:"oj-sm-margin-4x-start"},{children:1===(null===(g=e.seletedTransaction.value)||void 0===g?void 0:g.watchlist.length)?"Edit existing item in watchlist":"Add to watchlist"}))]})),(0,t.jsx)("div",{children:(null===(h=e.seletedTransaction.value)||void 0===h?void 0:h.txDetail)?null===(v=e.seletedTransaction.value)||void 0===v?void 0:v.txDetail.index:"loading txdetail"}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",Object.assign({class:"oj-md-margin-3x-top oj-md-margin-5x-bottom"},{children:[(0,t.jsxs)("div",Object.assign({class:"oj-flex oj-flex oj-text-primary-color oj-typography-body-md"},{children:[(0,t.jsx)("img",{src:`styles/images/${null===(p=e.seletedTransaction.value)||void 0===p?void 0:p.transaction.symbol}.svg`,class:" card-small-token"}),(0,t.jsx)("div",Object.assign({class:"oj-flex-item"},{children:null===(j=e.seletedTransaction.value)||void 0===j?void 0:j.transaction.value})),(0,t.jsx)("div",{class:"oj-flex-item"}),(null===(b=e.seletedTransaction.value)||void 0===b?void 0:b.transaction.value)>0?(0,t.jsxs)("div",Object.assign({class:"oj-sm-flex-initial oj-flex-item oj-flex"},{children:[(0,t.jsx)("img",{src:"styles/images/fUSDT.svg",class:"card-small-token"}),(0,t.jsx)("div",{children:D.format(parseFloat(null===(w=e.seletedTransaction.value)||void 0===w?void 0:w.transaction.value)*L)})]})):(0,t.jsx)(t.Fragment,{})]})),(0,t.jsxs)("div",Object.assign({class:"oj-md-padding-6x-start oj-md-margin-1x-top oj-text-secondary-color oj-typography-body-sm"},{children:["sent"===(null===(y=e.seletedTransaction.value)||void 0===y?void 0:y.transaction.type)?"sent to ":"recieved from ",(0,t.jsxs)("span",Object.assign({class:"clipboard-action tx-address",title:"peek into address"},{children:[(0,t.jsx)("span",{class:"oj-ux-ico-wallet oj-md-margin-1x-end oj-md-margin-1x-top"}),"sent"===(null===(x=e.seletedTransaction.value)||void 0===x?void 0:x.transaction.type)?(0,s.addressFormat)(null===(_=e.seletedTransaction.value)||void 0===_?void 0:_.transaction.to[0]):(0,s.addressFormat)(null===(T=e.seletedTransaction.value)||void 0===T?void 0:T.transaction.from[0])]}))]})),(0,t.jsxs)("div",Object.assign({class:"oj-md-padding-6x-start oj-md-margin-1x-top oj-text-secondary-color oj-typography-body-sm"},{children:[(0,d.getTimeInterval)(1e3*(null===(A=e.seletedTransaction.value)||void 0===A?void 0:A.transaction.block_time)),"(",e.seletedTransaction.value?new Date(1e3*(null===(N=e.seletedTransaction.value)||void 0===N?void 0:N.transaction.block_time)).toISOString():(0,t.jsx)(t.Fragment,{}),")"]}))]})),(0,t.jsxs)("div",Object.assign({class:"oj-md-margin-5x-start"},{children:[(0,t.jsx)("oj-input-number",{id:"tc",labelHint:"Purchase Cost (fUSDT)",labelEdge:"inside",value:W?W.purchaseCostUsdt:null,class:"oj-sm-padding-1x-top"}),(0,t.jsx)("oj-input-number",{id:"tg",labelHint:"Goal (fUSDT)",labelEdge:"inside",value:W?W.goalUsdt:null,class:"oj-sm-padding-1x-top"})]}))]}),(0,t.jsx)("div",Object.assign({class:"oj-md-margin-5x-top oj-md-margin-3x-bottom"},{children:(0,t.jsx)("ul",Object.assign({style:"list-style-type: none;"},{children:1===(null===(O=e.seletedTransaction.value)||void 0===O?void 0:O.watchlist.length)?(0,o.WatchListItem)(e.seletedTransaction.value.watchlist[0],(()=>{})):(0,t.jsx)(t.Fragment,{})}))})),(0,t.jsxs)("div",Object.assign({class:"oj-flex oj-sm-padding-4x-top"},{children:[(0,t.jsx)("div",{class:"oj-flex-item"}),(0,t.jsxs)("div",Object.assign({class:"oj-sm-flex-initial oj-flex-item"},{children:[(0,t.jsx)("oj-button",Object.assign({id:"butCancel",chroming:"outlined",
onojAction:f},{children:"cancel"})),(0,t.jsx)("oj-button",Object.assign({id:"butCreate",chroming:"callToAction",class:"oj-sm-margin-2x-start",onojAction:()=>__awaiter(this,void 0,void 0,(function*(){console.log("asset-transactions > addToWatchList",e.seletedTransaction.value);const t=document.getElementById("tc"),a=document.getElementById("tg");yield n.default.storeTransaction(e.seletedTransaction.value.transaction,t.value,a.value);const s={id:2,severity:"none",summary:`${e.seletedTransaction.value.transaction.symbol} ${e.seletedTransaction.value.transaction.value} added to watch list`,autoTimeout:2e3};(0,i.createNotification)(s),(0,c.tryLoadTransactionsInWatchlist)(),(0,u.refreshCurrentSelectedAssetTransactions)(),f()})),hidden:"edit"===(null===(S=e.seletedTransaction.value)||void 0===S?void 0:S.transactionType)},{children:"create"})),(0,t.jsx)("oj-button",Object.assign({id:"butUpdate",chroming:"callToAction",class:"oj-sm-margin-2x-start",onojAction:()=>__awaiter(this,void 0,void 0,(function*(){const t=document.getElementById("tc"),a=document.getElementById("tg");yield n.default.storeTransaction(e.seletedTransaction.value.transaction,t.value,a.value);const s={id:2,severity:"none",summary:`${e.seletedTransaction.value.transaction.symbol} ${e.seletedTransaction.value.transaction.value} updated in watch list`,autoTimeout:2e3};(0,i.createNotification)(s),(0,c.tryLoadTransactionsInWatchlist)(),(0,u.refreshCurrentSelectedAssetTransactions)(),f()})),hidden:"add"===(null===(E=e.seletedTransaction.value)||void 0===E?void 0:E.transactionType)},{children:"update"})),(0,t.jsx)("oj-button",Object.assign({id:"butDelete",chroming:"danger",class:"oj-sm-margin-2x-start",onojAction:()=>__awaiter(this,void 0,void 0,(function*(){yield(0,e.deleteWatchListItem)(e.seletedTransaction.value.transaction.id,e.seletedTransaction.value.transaction.symbol,e.seletedTransaction.value.transaction.value),(0,c.tryLoadTransactionsInWatchlist)(),(0,u.refreshCurrentSelectedAssetTransactions)(),f()})),hidden:"add"===(null===(k=e.seletedTransaction.value)||void 0===k?void 0:k.transactionType)},{children:"delete"}))]}))]}))]}))}}));__awaiter=this&&this.__awaiter||function(e,t,a,s){return new(a||(a=Promise))((function(n,i){function o(e){try{l(s.next(e))}catch(e){i(e)}}function r(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,r)}l((s=s.apply(e,t||[])).next())}))};define("dashboard/watch-list/watch-list",["require","exports","preact/jsx-runtime","ojs/ojvcomponent","dashboard/flamingo-api/indexdb/transactionsDbService","@preact/signals","ojs/ojarraydataprovider","dashboard/price-list/price-list","./watch-list-item","dashboard/wallet-manager/asset-watchlist","css!dashboard/watch-list/watch-list-styles.css","ojs/ojgauge"],(function(require,e,t,a,s,n,i,o,r,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WatchList=e.tryLoadTransactionsInWatchlist=void 0;const d=(0,n.signal)([]);function c(){setTimeout((()=>{s.default.getAllTransactions().then((e=>{const t=e.map(((e,t)=>function(e){const t=o.prices.value.find((t=>t.symbol===e.symbol)),a=t?t.usd_price:0,s=parseFloat(e.value)*a,n=e.purchaseCostUsdt,i=(e.goalUsdt,s-n);return Object.assign(Object.assign({},e),{profitInUsdt:i,curPriceInUsdt:s,unitPriceInUsd:a})}(e)));d.value=t.sort(((e,t)=>t.profitInUsdt-e.profitInUsdt))}))}),1e3)}function u(e){return __awaiter(this,void 0,void 0,(function*(){const t=e.srcElement.dataset.id,a=e.srcElement.dataset.symbol,s=e.srcElement.dataset.value;yield(0,l.deleteWatchListItem)(parseInt(t),a,s),c()}))}e.tryLoadTransactionsInWatchlist=c,e.WatchList=(0,a.registerCustomElement)("dashboard-watch-list",(function(){console.log("watch-list > render",d.value);const e=new i(d.value,{keyAttributes:"id"});return(0,n.useSignalEffect)((()=>{o.prices.value&&o.prices.value.length>0&&c()})),(0,t.jsx)("div",{children:(0,t.jsx)("oj-list-view",Object.assign({id:"lvWatchlist","aria-label":"transactions",data:e,gridlines:{item:"hidden"},class:"oj-sm-padding-2x",selectionMode:"none"},{children:(0,t.jsx)("template",{slot:"itemTemplate","data-oj-as":"item",render:e=>(0,r.WatchListItem)(e.data,u)})}))})}),"WatchList")})),define("dashboard/watch-list/loader",["require","exports","./watch-list"],(function(require,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WatchList=void 0,Object.defineProperty(e,"WatchList",{enumerable:!0,get:function(){return t.WatchList}})}));
//# sourceMappingURL=loader.js.map;

define('css!dashboard/flamingo-api/flamingo-api-styles',[],function(){});
define("dashboard/flamingo-api/flamingo-api",["require","exports","preact/jsx-runtime","ojs/ojvcomponent","css!dashboard/flamingo-api/flamingo-api-styles.css"],(function(require,e,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FlamingoApi=void 0,e.FlamingoApi=(0,o.registerCustomElement)("dashboard-flamingo-api",(function({message:e="Hello from  dashboard-flamingo-api"}){return(0,i.jsx)("p",{children:e})}),"FlamingoApi",{properties:{message:{type:"string"}}},{message:"Hello from  dashboard-flamingo-api"})})),define("dashboard/flamingo-api/loader",["require","exports","./flamingo-api"],(function(require,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FlamingoApi=void 0,Object.defineProperty(e,"FlamingoApi",{enumerable:!0,get:function(){return i.FlamingoApi}})}));
//# sourceMappingURL=loader.js.map;

define('css!dashboard/risk-profile/risk-profile-styles',[],function(){});
define("dashboard/wallet-manager/asset-card",["require","exports","preact/jsx-runtime","ojs/ojconverter-number","ojs/ojcolor","ojs/ojcolor","css!dashboard/wallet-manager/wallet-manager-styles.css","ojs/ojbutton","ojs/ojactioncard","ojs/ojcolorspectrum","ojs/ojlistview","ojs/ojlistitemlayout","ojs/ojinputtext","ojs/ojbutton","ojs/ojformlayout","ojs/ojvalidationgroup"],(function(require,e,t,a,s,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AssetCard=void 0,e.AssetCard=function({wassetName:e,wasset:i,prices:o,onCardSelected:r}){if(0===(null==i?void 0:i.length))return(0,t.jsx)(t.Fragment,{});const l=new a.IntlNumberConverter({style:"currency",currency:"USD",currencyDisplay:"symbol",currencyFormat:"standard",decimalFormat:"long",maximumFractionDigits:12}),d=o.find((t=>t.symbol===e)),c=d?d.usd_price:0,u=null==i?void 0:i.reduce(((e,t)=>e+(t.balance?parseFloat(t.balance):0)),0),f=null==i?void 0:i.reduce(((e,t)=>e+(t.balance?parseFloat(t.balance)*c:0)),0);function m(t){var a=t.currentTarget,s=a.getAttribute("data-walletAddress"),n=a.getAttribute("data-assetid");r&&s&&n&&r(s,null!=e?e:"",n,a.id)}return(0,t.jsx)("oj-action-card",Object.assign({id:"acFUSD",class:"oj-bg-neutral-20 oj-md-margin-2x-end oj-md-margin-2x-bottom"},{children:(0,t.jsxs)("div",Object.assign({class:"oj-md-margin-3x card-asset"},{children:[(0,t.jsxs)("div",Object.assign({class:"oj-flex"},{children:[(0,t.jsx)("img",{src:`styles/images/${e}.svg`,class:"card-token"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",Object.assign({class:"oj-text-primary-color oj-typography-subheading-xs"},{children:e})),(0,t.jsx)("div",Object.assign({class:"oj-text-primary-color oj-typography-subheading-xs"},{children:u}))]}),(0,t.jsx)("div",{class:"oj-flex-item"}),(0,t.jsxs)("div",Object.assign({class:"oj-sm-flex-initial oj-flex-item oj-flex oj-text-secondary-color oj-typography-body-sm oj-sm-padding-4x-top"},{children:[(0,t.jsx)("img",{src:"styles/images/fUSDT.svg",class:"card-small-token"}),(0,t.jsx)("span",Object.assign({class:"oj-sm-margin-2x-top"},{children:l.format(null!=f?f:0)}))]}))]})),(0,t.jsx)("div",Object.assign({class:"oj-md-margin-6x-top oj-md-margin-3x-bottom oj-md-margin-3x-start oj-md-margin-3x-end oj-flex"},{children:null==i?void 0:i.map((e=>{var a;return(0,t.jsx)("oj-button",Object.assign({chroming:"borderless",class:"card-wasset",id:`btn-${e.walletName}-${e.asset_id}`,"data-walletAddress":e.walletAddress,"data-assetId":e.asset_id,onClick:m},{children:(0,t.jsxs)("div",Object.assign({class:"oj-flex card-wasset"},{children:[(0,t.jsx)("div",{style:{width:"5px",height:"35px",backgroundColor:(e.walletColor?new n(e.walletColor):s.BLACK).toString()}}),(0,t.jsxs)("div",Object.assign({class:"oj-sm-margin-1x-start"},{children:[(0,t.jsx)("div",Object.assign({class:"oj-text-primary-color oj-typography-body-sm"},{children:e.walletName})),(0,t.jsx)("div",Object.assign({class:"oj-text-secondary-color oj-typography-body-xs",title:e.balance},{children:parseFloat(null!==(a=e.balance)&&void 0!==a?a:"").toFixed(8)}))]}))]}))}))}))}))]}))}))}})),define("dashboard/wallet-manager/bignumber",["require","exports"],(function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BigNumber=void 0;var t=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,a=Math.ceil,s=Math.floor,n="[BigNumber Error] ",i=n+"Number primitive has more than 15 significant digits: ",o=1e14,r=14,l=9007199254740991,d=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],c=1e7,u=1e9;function f(e){var t=0|e;return e>0||e===t?t:t-1}function m(e){for(var t,a,s=1,n=e.length,i=e[0]+"";s<n;){for(t=e[s++]+"",a=r-t.length;a--;t="0"+t);i+=t}for(n=i.length;48===i.charCodeAt(--n););return i.slice(0,n+1||1)}function g(e,t){var a,s,n=e.c,i=t.c,o=e.s,r=t.s,l=e.e,d=t.e;if(!o||!r)return null;if(a=n&&!n[0],s=i&&!i[0],a||s)return a?s?0:-r:o;if(o!=r)return o;if(a=o<0,s=l==d,!n||!i)return s?0:!n^a?1:-1;if(!s)return l>d^a?1:-1;for(r=(l=n.length)<(d=i.length)?l:d,o=0;o<r;o++)if(n[o]!=i[o])return n[o]>i[o]^a?1:-1;return l==d?0:l>d^a?1:-1}function h(e,t,a,i){if(e<t||e>a||e!==s(e))throw Error(n+(i||"Argument")+("number"==typeof e?e<t||e>a?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function p(e){var t=e.c.length-1;return f(e.e/r)==t&&e.c[t]%2!=0}function v(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function j(e,t,a){var s,n;if(t<0){for(n=a+".";++t;n+=a);e=n+e}else if(++t>(s=e.length)){for(n=a,t-=s;--t;n+=a);e+=n}else t<s&&(e=e.slice(0,t)+"."+e.slice(t));return e}e.BigNumber=function e(b){var w,y,x,_,T,A,O,N,S,E,k=$.prototype={constructor:$,toString:null,valueOf:null},C=new $(1),D=20,L=4,I=-7,W=21,F=-1e7,P=1e7,U=!1,R=1,M=0,B={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},H="0123456789abcdefghijklmnopqrstuvwxyz",G=!0;function $(e,a){var n,o,d,c,u,f,m,g,p=this;if(!(p instanceof $))return new $(e,a);if(null==a){if(e&&!0===e._isBigNumber)return p.s=e.s,void(!e.c||e.e>P?p.c=p.e=null:e.e<F?p.c=[p.e=0]:(p.e=e.e,p.c=e.c.slice()));if((f="number"==typeof e)&&0*e==0){if(p.s=1/e<0?(e=-e,-1):1,e===~~e){for(c=0,u=e;u>=10;u/=10,c++);return void(c>P?p.c=p.e=null:(p.e=c,p.c=[e]))}g=String(e)}else{if(!t.test(g=String(e)))return x(p,g,f);p.s=45==g.charCodeAt(0)?(g=g.slice(1),-1):1}(c=g.indexOf("."))>-1&&(g=g.replace(".","")),(u=g.search(/e/i))>0?(c<0&&(c=u),c+=+g.slice(u+1),g=g.substring(0,u)):c<0&&(c=g.length)}else{if(h(a,2,H.length,"Base"),10==a&&G)return V(p=new $(e),D+p.e+1,L);if(g=String(e),f="number"==typeof e){if(0*e!=0)return x(p,g,f,a);if(p.s=1/e<0?(g=g.slice(1),-1):1,$.DEBUG&&g.replace(/^0\.0*|\./,"").length>15)throw Error(i+e)}else p.s=45===g.charCodeAt(0)?(g=g.slice(1),-1):1;for(n=H.slice(0,a),c=u=0,m=g.length;u<m;u++)if(n.indexOf(o=g.charAt(u))<0){if("."==o){if(u>c){c=m;continue}}else if(!d&&(g==g.toUpperCase()&&(g=g.toLowerCase())||g==g.toLowerCase()&&(g=g.toUpperCase()))){d=!0,u=-1,c=0;continue}return x(p,String(e),f,a)}f=!1,(c=(g=y(g,a,10,p.s)).indexOf("."))>-1?g=g.replace(".",""):c=g.length}for(u=0;48===g.charCodeAt(u);u++);for(m=g.length;48===g.charCodeAt(--m););if(g=g.slice(u,++m)){if(m-=u,f&&$.DEBUG&&m>15&&(e>l||e!==s(e)))throw Error(i+p.s*e);if((c=c-u-1)>P)p.c=p.e=null;else if(c<F)p.c=[p.e=0];else{if(p.e=c,p.c=[],u=(c+1)%r,c<0&&(u+=r),u<m){for(u&&p.c.push(+g.slice(0,u)),m-=r;u<m;)p.c.push(+g.slice(u,u+=r));u=r-(g=g.slice(u)).length}else u-=m;for(;u--;g+="0");p.c.push(+g)}}else p.c=[p.e=0]}function q(e,t,a,s){var n,i,o,r,l;if(null==a?a=L:h(a,0,8),!e.c)return e.toString();if(n=e.c[0],o=e.e,null==t)l=m(e.c),l=1==s||2==s&&(o<=I||o>=W)?v(l,o):j(l,o,"0");else if(i=(e=V(new $(e),t,a)).e,r=(l=m(e.c)).length,1==s||2==s&&(t<=i||i<=I)){for(;r<t;l+="0",r++);l=v(l,i)}else if(t-=o,l=j(l,i,"0"),i+1>r){if(--t>0)for(l+=".";t--;l+="0");}else if((t+=i-r)>0)for(i+1==r&&(l+=".");t--;l+="0");return e.s<0&&n?"-"+l:l}function K(e,t){for(var a,s,n=1,i=new $(e[0]);n<e.length;n++)(!(s=new $(e[n])).s||(a=g(i,s))===t||0===a&&i.s===t)&&(i=s);return i}function z(e,t,a){for(var s=1,n=t.length;!t[--n];t.pop());for(n=t[0];n>=10;n/=10,s++);return(a=s+a*r-1)>P?e.c=e.e=null:a<F?e.c=[e.e=0]:(e.e=a,e.c=t),e}function V(e,t,n,i){var l,c,u,f,m,g,h,p=e.c,v=d;if(p){e:{for(l=1,f=p[0];f>=10;f/=10,l++);if((c=t-l)<0)c+=r,u=t,m=p[g=0],h=s(m/v[l-u-1]%10);else if((g=a((c+1)/r))>=p.length){if(!i)break e;for(;p.length<=g;p.push(0));m=h=0,l=1,u=(c%=r)-r+1}else{for(m=f=p[g],l=1;f>=10;f/=10,l++);h=(u=(c%=r)-r+l)<0?0:s(m/v[l-u-1]%10)}if(i=i||t<0||null!=p[g+1]||(u<0?m:m%v[l-u-1]),i=n<4?(h||i)&&(0==n||n==(e.s<0?3:2)):h>5||5==h&&(4==n||i||6==n&&(c>0?u>0?m/v[l-u]:0:p[g-1])%10&1||n==(e.s<0?8:7)),t<1||!p[0])return p.length=0,i?(t-=e.e+1,p[0]=v[(r-t%r)%r],e.e=-t||0):p[0]=e.e=0,e;if(0==c?(p.length=g,f=1,g--):(p.length=g+1,f=v[r-c],p[g]=u>0?s(m/v[l-u]%v[u])*f:0),i)for(;;){if(0==g){for(c=1,u=p[0];u>=10;u/=10,c++);for(u=p[0]+=f,f=1;u>=10;u/=10,f++);c!=f&&(e.e++,p[0]==o&&(p[0]=1));break}if(p[g]+=f,p[g]!=o)break;p[g--]=0,f=1}for(c=p.length;0===p[--c];p.pop());}e.e>P?e.c=e.e=null:e.e<F&&(e.c=[e.e=0])}return e}function Y(e){var t,a=e.e;return null===a?e.toString():(t=m(e.c),t=a<=I||a>=W?v(t,a):j(t,a,"0"),e.s<0?"-"+t:t)}return $.clone=e,$.ROUND_UP=0,$.ROUND_DOWN=1,$.ROUND_CEIL=2,$.ROUND_FLOOR=3,$.ROUND_HALF_UP=4,$.ROUND_HALF_DOWN=5,$.ROUND_HALF_EVEN=6,$.ROUND_HALF_CEIL=7,$.ROUND_HALF_FLOOR=8,$.EUCLID=9,$.config=$.set=function(e){var t,a;if(null!=e){if("object"!=typeof e)throw Error(n+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(h(a=e[t],0,u,t),D=a),e.hasOwnProperty(t="ROUNDING_MODE")&&(h(a=e[t],0,8,t),L=a),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((a=e[t])&&a.pop?(h(a[0],-u,0,t),h(a[1],0,u,t),I=a[0],W=a[1]):(h(a,-u,u,t),I=-(W=a<0?-a:a))),e.hasOwnProperty(t="RANGE"))if((a=e[t])&&a.pop)h(a[0],-u,-1,t),h(a[1],1,u,t),F=a[0],P=a[1];else{if(h(a,-u,u,t),!a)throw Error(n+t+" cannot be zero: "+a);F=-(P=a<0?-a:a)}if(e.hasOwnProperty(t="CRYPTO")){if((a=e[t])!==!!a)throw Error(n+t+" not true or false: "+a);if(a){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw U=!a,Error(n+"crypto unavailable");U=a}else U=a}if(e.hasOwnProperty(t="MODULO_MODE")&&(h(a=e[t],0,9,t),R=a),e.hasOwnProperty(t="POW_PRECISION")&&(h(a=e[t],0,u,t),M=a),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(a=e[t]))throw Error(n+t+" not an object: "+a);B=a}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(a=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(a))throw Error(n+t+" invalid: "+a);G="0123456789"==a.slice(0,10),H=a}}return{DECIMAL_PLACES:D,ROUNDING_MODE:L,EXPONENTIAL_AT:[I,W],RANGE:[F,P],CRYPTO:U,MODULO_MODE:R,POW_PRECISION:M,FORMAT:B,ALPHABET:H}},$.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!$.DEBUG)return!0;var t,a,i=e.c,l=e.e,d=e.s;e:if("[object Array]"=={}.toString.call(i)){if((1===d||-1===d)&&l>=-u&&l<=u&&l===s(l)){if(0===i[0]){if(0===l&&1===i.length)return!0;break e}if((t=(l+1)%r)<1&&(t+=r),String(i[0]).length==t){for(t=0;t<i.length;t++)if((a=i[t])<0||a>=o||a!==s(a))break e;if(0!==a)return!0}}}else if(null===i&&null===l&&(null===d||1===d||-1===d))return!0;throw Error(n+"Invalid BigNumber: "+e)},$.maximum=$.max=function(){return K(arguments,-1)},$.minimum=$.min=function(){return K(arguments,1)},$.random=(_=9007199254740992,T=Math.random()*_&2097151?function(){return s(Math.random()*_)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,i,o,l,c,f=0,m=[],g=new $(C);if(null==e?e=D:h(e,0,u),l=a(e/r),U)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(l*=2));f<l;)(c=131072*t[f]+(t[f+1]>>>11))>=9e15?(i=crypto.getRandomValues(new Uint32Array(2)),t[f]=i[0],t[f+1]=i[1]):(m.push(c%1e14),f+=2);f=l/2}else{if(!crypto.randomBytes)throw U=!1,Error(n+"crypto unavailable");for(t=crypto.randomBytes(l*=7);f<l;)(c=281474976710656*(31&t[f])+1099511627776*t[f+1]+4294967296*t[f+2]+16777216*t[f+3]+(t[f+4]<<16)+(t[f+5]<<8)+t[f+6])>=9e15?crypto.randomBytes(7).copy(t,f):(m.push(c%1e14),f+=7);f=l/7}if(!U)for(;f<l;)(c=T())<9e15&&(m[f++]=c%1e14);for(l=m[--f],e%=r,l&&e&&(c=d[r-e],m[f]=s(l/c)*c);0===m[f];m.pop(),f--);if(f<0)m=[o=0];else{for(o=-1;0===m[0];m.splice(0,1),o-=r);for(f=1,c=m[0];c>=10;c/=10,f++);f<r&&(o-=r-f)}return g.e=o,g.c=m,g}),$.sum=function(){for(var e=1,t=arguments,a=new $(t[0]);e<t.length;)a=a.plus(t[e++]);return a},y=function(){var e="0123456789";function t(e,t,a,s){for(var n,i,o=[0],r=0,l=e.length;r<l;){for(i=o.length;i--;o[i]*=t);for(o[0]+=s.indexOf(e.charAt(r++)),n=0;n<o.length;n++)o[n]>a-1&&(null==o[n+1]&&(o[n+1]=0),o[n+1]+=o[n]/a|0,o[n]%=a)}return o.reverse()}return function(a,s,n,i,o){var r,l,d,c,u,f,g,h,p=a.indexOf("."),v=D,b=L;for(p>=0&&(c=M,M=0,a=a.replace(".",""),f=(h=new $(s)).pow(a.length-p),M=c,h.c=t(j(m(f.c),f.e,"0"),10,n,e),h.e=h.c.length),d=c=(g=t(a,s,n,o?(r=H,e):(r=e,H))).length;0==g[--c];g.pop());if(!g[0])return r.charAt(0);if(p<0?--d:(f.c=g,f.e=d,f.s=i,g=(f=w(f,h,v,b,n)).c,u=f.r,d=f.e),p=g[l=d+v+1],c=n/2,u=u||l<0||null!=g[l+1],u=b<4?(null!=p||u)&&(0==b||b==(f.s<0?3:2)):p>c||p==c&&(4==b||u||6==b&&1&g[l-1]||b==(f.s<0?8:7)),l<1||!g[0])a=u?j(r.charAt(1),-v,r.charAt(0)):r.charAt(0);else{if(g.length=l,u)for(--n;++g[--l]>n;)g[l]=0,l||(++d,g=[1].concat(g));for(c=g.length;!g[--c];);for(p=0,a="";p<=c;a+=r.charAt(g[p++]));a=j(a,d,r.charAt(0))}return a}}(),w=function(){function e(e,t,a){var s,n,i,o,r=0,l=e.length,d=t%c,u=t/c|0;for(e=e.slice();l--;)r=((n=d*(i=e[l]%c)+(s=u*i+(o=e[l]/c|0)*d)%c*c+r)/a|0)+(s/c|0)+u*o,e[l]=n%a;return r&&(e=[r].concat(e)),e}function t(e,t,a,s){var n,i;if(a!=s)i=a>s?1:-1;else for(n=i=0;n<a;n++)if(e[n]!=t[n]){i=e[n]>t[n]?1:-1;break}return i}function a(e,t,a,s){for(var n=0;a--;)e[a]-=n,n=e[a]<t[a]?1:0,e[a]=n*s+e[a]-t[a];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(n,i,l,d,c){var u,m,g,h,p,v,j,b,w,y,x,_,T,A,O,N,S,E=n.s==i.s?1:-1,k=n.c,C=i.c;if(!(k&&k[0]&&C&&C[0]))return new $(n.s&&i.s&&(k?!C||k[0]!=C[0]:C)?k&&0==k[0]||!C?0*E:E/0:NaN);for(w=(b=new $(E)).c=[],E=l+(m=n.e-i.e)+1,c||(c=o,m=f(n.e/r)-f(i.e/r),E=E/r|0),g=0;C[g]==(k[g]||0);g++);if(C[g]>(k[g]||0)&&m--,E<0)w.push(1),h=!0;else{for(A=k.length,N=C.length,g=0,E+=2,(p=s(c/(C[0]+1)))>1&&(C=e(C,p,c),k=e(k,p,c),N=C.length,A=k.length),T=N,x=(y=k.slice(0,N)).length;x<N;y[x++]=0);S=C.slice(),S=[0].concat(S),O=C[0],C[1]>=c/2&&O++;do{if(p=0,(u=t(C,y,N,x))<0){if(_=y[0],N!=x&&(_=_*c+(y[1]||0)),(p=s(_/O))>1)for(p>=c&&(p=c-1),j=(v=e(C,p,c)).length,x=y.length;1==t(v,y,j,x);)p--,a(v,N<j?S:C,j,c),j=v.length,u=1;else 0==p&&(u=p=1),j=(v=C.slice()).length;if(j<x&&(v=[0].concat(v)),a(y,v,x,c),x=y.length,-1==u)for(;t(C,y,N,x)<1;)p++,a(y,N<x?S:C,x,c),x=y.length}else 0===u&&(p++,y=[0]);w[g++]=p,y[0]?y[x++]=k[T]||0:(y=[k[T]],x=1)}while((T++<A||null!=y[0])&&E--);h=null!=y[0],w[0]||w.splice(0,1)}if(c==o){for(g=1,E=w[0];E>=10;E/=10,g++);V(b,l+(b.e=g+m*r-1)+1,d,h)}else b.e=m,b.r=+h;return b}}(),A=/^(-?)0([xbo])(?=\w[\w.]*$)/i,O=/^([^.]+)\.$/,N=/^\.([^.]+)$/,S=/^-?(Infinity|NaN)$/,E=/^\s*\+(?=[\w.])|^\s+|\s+$/g,x=function(e,t,a,s){var i,o=a?t:t.replace(E,"");if(S.test(o))e.s=isNaN(o)?null:o<0?-1:1;else{if(!a&&(o=o.replace(A,(function(e,t,a){return i="x"==(a=a.toLowerCase())?16:"b"==a?2:8,s&&s!=i?e:t})),s&&(i=s,o=o.replace(O,"$1").replace(N,"0.$1")),t!=o))return new $(o,i);if($.DEBUG)throw Error(n+"Not a"+(s?" base "+s:"")+" number: "+t);e.s=null}e.c=e.e=null},k.absoluteValue=k.abs=function(){var e=new $(this);return e.s<0&&(e.s=1),e},k.comparedTo=function(e,t){return g(this,new $(e,t))},k.decimalPlaces=k.dp=function(e,t){var a,s,n,i=this;if(null!=e)return h(e,0,u),null==t?t=L:h(t,0,8),V(new $(i),e+i.e+1,t);if(!(a=i.c))return null;if(s=((n=a.length-1)-f(this.e/r))*r,n=a[n])for(;n%10==0;n/=10,s--);return s<0&&(s=0),s},k.dividedBy=k.div=function(e,t){return w(this,new $(e,t),D,L)},k.dividedToIntegerBy=k.idiv=function(e,t){return w(this,new $(e,t),0,1)},k.exponentiatedBy=k.pow=function(e,t){var i,o,l,d,c,u,f,m,g=this;if((e=new $(e)).c&&!e.isInteger())throw Error(n+"Exponent not an integer: "+Y(e));if(null!=t&&(t=new $(t)),c=e.e>14,!g.c||!g.c[0]||1==g.c[0]&&!g.e&&1==g.c.length||!e.c||!e.c[0])return m=new $(Math.pow(+Y(g),c?e.s*(2-p(e)):+Y(e))),t?m.mod(t):m;if(u=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new $(NaN);(o=!u&&g.isInteger()&&t.isInteger())&&(g=g.mod(t))}else{if(e.e>9&&(g.e>0||g.e<-1||(0==g.e?g.c[0]>1||c&&g.c[1]>=24e7:g.c[0]<8e13||c&&g.c[0]<=9999975e7)))return d=g.s<0&&p(e)?-0:0,g.e>-1&&(d=1/d),new $(u?1/d:d);M&&(d=a(M/r+2))}for(c?(i=new $(.5),u&&(e.s=1),f=p(e)):f=(l=Math.abs(+Y(e)))%2,m=new $(C);;){if(f){if(!(m=m.times(g)).c)break;d?m.c.length>d&&(m.c.length=d):o&&(m=m.mod(t))}if(l){if(0===(l=s(l/2)))break;f=l%2}else if(V(e=e.times(i),e.e+1,1),e.e>14)f=p(e);else{if(0===(l=+Y(e)))break;f=l%2}g=g.times(g),d?g.c&&g.c.length>d&&(g.c.length=d):o&&(g=g.mod(t))}return o?m:(u&&(m=C.div(m)),t?m.mod(t):d?V(m,M,L,undefined):m)},k.integerValue=function(e){var t=new $(this);return null==e?e=L:h(e,0,8),V(t,t.e+1,e)},k.isEqualTo=k.eq=function(e,t){return 0===g(this,new $(e,t))},k.isFinite=function(){return!!this.c},k.isGreaterThan=k.gt=function(e,t){return g(this,new $(e,t))>0},k.isGreaterThanOrEqualTo=k.gte=function(e,t){return 1===(t=g(this,new $(e,t)))||0===t},k.isInteger=function(){return!!this.c&&f(this.e/r)>this.c.length-2},k.isLessThan=k.lt=function(e,t){return g(this,new $(e,t))<0},k.isLessThanOrEqualTo=k.lte=function(e,t){return-1===(t=g(this,new $(e,t)))||0===t},k.isNaN=function(){return!this.s},k.isNegative=function(){return this.s<0},k.isPositive=function(){return this.s>0},k.isZero=function(){return!!this.c&&0==this.c[0]},k.minus=function(e,t){var a,s,n,i,l=this,d=l.s;if(t=(e=new $(e,t)).s,!d||!t)return new $(NaN);if(d!=t)return e.s=-t,l.plus(e);var c=l.e/r,u=e.e/r,m=l.c,g=e.c;if(!c||!u){if(!m||!g)return m?(e.s=-t,e):new $(g?l:NaN);if(!m[0]||!g[0])return g[0]?(e.s=-t,e):new $(m[0]?l:3==L?-0:0)}if(c=f(c),u=f(u),m=m.slice(),d=c-u){for((i=d<0)?(d=-d,n=m):(u=c,n=g),n.reverse(),t=d;t--;n.push(0));n.reverse()}else for(s=(i=(d=m.length)<(t=g.length))?d:t,d=t=0;t<s;t++)if(m[t]!=g[t]){i=m[t]<g[t];break}if(i&&(n=m,m=g,g=n,e.s=-e.s),(t=(s=g.length)-(a=m.length))>0)for(;t--;m[a++]=0);for(t=o-1;s>d;){if(m[--s]<g[s]){for(a=s;a&&!m[--a];m[a]=t);--m[a],m[s]+=o}m[s]-=g[s]}for(;0==m[0];m.splice(0,1),--u);return m[0]?z(e,m,u):(e.s=3==L?-1:1,e.c=[e.e=0],e)},k.modulo=k.mod=function(e,t){var a,s,n=this;return e=new $(e,t),!n.c||!e.s||e.c&&!e.c[0]?new $(NaN):!e.c||n.c&&!n.c[0]?new $(n):(9==R?(s=e.s,e.s=1,a=w(n,e,0,3),e.s=s,a.s*=s):a=w(n,e,0,R),(e=n.minus(a.times(e))).c[0]||1!=R||(e.s=n.s),e)},k.multipliedBy=k.times=function(e,t){var a,s,n,i,l,d,u,m,g,h,p,v,j,b,w,y=this,x=y.c,_=(e=new $(e,t)).c;if(!(x&&_&&x[0]&&_[0]))return!y.s||!e.s||x&&!x[0]&&!_||_&&!_[0]&&!x?e.c=e.e=e.s=null:(e.s*=y.s,x&&_?(e.c=[0],e.e=0):e.c=e.e=null),e;for(s=f(y.e/r)+f(e.e/r),e.s*=y.s,(u=x.length)<(h=_.length)&&(j=x,x=_,_=j,n=u,u=h,h=n),n=u+h,j=[];n--;j.push(0));for(b=o,w=c,n=h;--n>=0;){for(a=0,p=_[n]%w,v=_[n]/w|0,i=n+(l=u);i>n;)a=((m=p*(m=x[--l]%w)+(d=v*m+(g=x[l]/w|0)*p)%w*w+j[i]+a)/b|0)+(d/w|0)+v*g,j[i--]=m%b;j[i]=a}return a?++s:j.splice(0,1),z(e,j,s)},k.negated=function(){var e=new $(this);return e.s=-e.s||null,e},k.plus=function(e,t){var a,s=this,n=s.s;if(t=(e=new $(e,t)).s,!n||!t)return new $(NaN);if(n!=t)return e.s=-t,s.minus(e);var i=s.e/r,l=e.e/r,d=s.c,c=e.c;if(!i||!l){if(!d||!c)return new $(n/0);if(!d[0]||!c[0])return c[0]?e:new $(d[0]?s:0*n)}if(i=f(i),l=f(l),d=d.slice(),n=i-l){for(n>0?(l=i,a=c):(n=-n,a=d),a.reverse();n--;a.push(0));a.reverse()}for((n=d.length)-(t=c.length)<0&&(a=c,c=d,d=a,t=n),n=0;t;)n=(d[--t]=d[t]+c[t]+n)/o|0,d[t]=o===d[t]?0:d[t]%o;return n&&(d=[n].concat(d),++l),z(e,d,l)},k.precision=k.sd=function(e,t){var a,s,n,i=this;if(null!=e&&e!==!!e)return h(e,1,u),null==t?t=L:h(t,0,8),V(new $(i),e,t);if(!(a=i.c))return null;if(s=(n=a.length-1)*r+1,n=a[n]){for(;n%10==0;n/=10,s--);for(n=a[0];n>=10;n/=10,s++);}return e&&i.e+1>s&&(s=i.e+1),s},k.shiftedBy=function(e){return h(e,-9007199254740991,l),this.times("1e"+e)},k.squareRoot=k.sqrt=function(){var e,t,a,s,n,i=this,o=i.c,r=i.s,l=i.e,d=D+4,c=new $("0.5");if(1!==r||!o||!o[0])return new $(!r||r<0&&(!o||o[0])?NaN:o?i:1/0);if(0==(r=Math.sqrt(+Y(i)))||r==1/0?(((t=m(o)).length+l)%2==0&&(t+="0"),r=Math.sqrt(+t),l=f((l+1)/2)-(l<0||l%2),a=new $(t=r==1/0?"5e"+l:(t=r.toExponential()).slice(0,t.indexOf("e")+1)+l)):a=new $(r+""),a.c[0])for((r=(l=a.e)+d)<3&&(r=0);;)if(n=a,a=c.times(n.plus(w(i,n,d,1))),m(n.c).slice(0,r)===(t=m(a.c)).slice(0,r)){if(a.e<l&&--r,"9999"!=(t=t.slice(r-3,r+1))&&(s||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(V(a,a.e+D+2,1),e=!a.times(a).eq(i));break}if(!s&&(V(n,n.e+D+2,0),n.times(n).eq(i))){a=n;break}d+=4,r+=4,s=1}return V(a,a.e+D+1,L,e)},k.toExponential=function(e,t){return null!=e&&(h(e,0,u),e++),q(this,e,t,1)},k.toFixed=function(e,t){return null!=e&&(h(e,0,u),e=e+this.e+1),q(this,e,t)},k.toFormat=function(e,t,a){var s,i=this;if(null==a)null!=e&&t&&"object"==typeof t?(a=t,t=null):e&&"object"==typeof e?(a=e,e=t=null):a=B;else if("object"!=typeof a)throw Error(n+"Argument not an object: "+a);if(s=i.toFixed(e,t),i.c){var o,r=s.split("."),l=+a.groupSize,d=+a.secondaryGroupSize,c=a.groupSeparator||"",u=r[0],f=r[1],m=i.s<0,g=m?u.slice(1):u,h=g.length;if(d&&(o=l,l=d,d=o,h-=o),l>0&&h>0){for(o=h%l||l,u=g.substr(0,o);o<h;o+=l)u+=c+g.substr(o,l);d>0&&(u+=c+g.slice(o)),m&&(u="-"+u)}s=f?u+(a.decimalSeparator||"")+((d=+a.fractionGroupSize)?f.replace(new RegExp("\\d{"+d+"}\\B","g"),"$&"+(a.fractionGroupSeparator||"")):f):u}return(a.prefix||"")+s+(a.suffix||"")},k.toFraction=function(e){var t,a,s,i,o,l,c,u,f,g,h,p,v=this,j=v.c;if(null!=e&&(!(c=new $(e)).isInteger()&&(c.c||1!==c.s)||c.lt(C)))throw Error(n+"Argument "+(c.isInteger()?"out of range: ":"not an integer: ")+Y(c));if(!j)return new $(v);for(t=new $(C),f=a=new $(C),s=u=new $(C),p=m(j),o=t.e=p.length-v.e-1,t.c[0]=d[(l=o%r)<0?r+l:l],e=!e||c.comparedTo(t)>0?o>0?t:f:c,l=P,P=1/0,c=new $(p),u.c[0]=0;g=w(c,t,0,1),1!=(i=a.plus(g.times(s))).comparedTo(e);)a=s,s=i,f=u.plus(g.times(i=f)),u=i,t=c.minus(g.times(i=t)),c=i;return i=w(e.minus(a),s,0,1),u=u.plus(i.times(f)),a=a.plus(i.times(s)),u.s=f.s=v.s,h=w(f,s,o*=2,L).minus(v).abs().comparedTo(w(u,a,o,L).minus(v).abs())<1?[f,s]:[u,a],P=l,h},k.toNumber=function(){return+Y(this)},k.toPrecision=function(e,t){return null!=e&&h(e,1,u),q(this,e,t,2)},k.toString=function(e){var t,a=this,s=a.s,n=a.e;return null===n?s?(t="Infinity",s<0&&(t="-"+t)):t="NaN":(null==e?t=n<=I||n>=W?v(m(a.c),n):j(m(a.c),n,"0"):10===e&&G?t=j(m((a=V(new $(a),D+n+1,L)).c),a.e,"0"):(h(e,2,H.length,"Base"),t=y(j(m(a.c),n,"0"),10,e,s,!0)),s<0&&a.c[0]&&(t="-"+t)),t},k.valueOf=k.toJSON=function(){return Y(this)},k._isBigNumber=!0,k[Symbol.toStringTag]="BigNumber",k[Symbol.for("nodejs.util.inspect.custom")]=k.valueOf,null!=b&&$.set(b),$}(),e.default=e.BigNumber}));var __awaiter=this&&this.__awaiter||function(e,t,a,s){return new(a||(a=Promise))((function(n,i){function o(e){try{l(s.next(e))}catch(e){i(e)}}function r(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,r)}l((s=s.apply(e,t||[])).next())}))};define("dashboard/flamingo-api/api/api-client",["require","exports","axios"],(function(require,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(){this.api=t.default.create({baseURL:"https://neo-api.b-cdn.net"})}getWalletWalletHistory(e,t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/wallet/history",{neo_address:e,page:t})}))}getWalletWalletLatest(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/wallet/latest",{neo_address:e})}))}getWalletClaimsHistory(e,t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/claims/history",{neo_address:e,page:t})}))}getWalletClaimsLatest(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/claims/latest",{neo_address:e})}))}getWalletTradeHistory(e,t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/trade/history",{neo_address:e,page:t})}))}getWalletTradeLatest(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/trade/latest",{neo_address:e})}))}getWalletLpHistory(e,t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/lp/history",{neo_address:e,page:t})}))}getWalletLpLatest(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/lp/latest",{neo_address:e})}))}getWalletStakingHistory(e,t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/staking/history",{neo_address:e,page:t})}))}getWalletStakingLatest(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/staking/latest",{neo_address:e})}))}getWalletLendHistory(e,t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/lend/history",{neo_address:e,page:t})}))}getWalletLendLatest(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/lend/latest",{neo_address:e})}))}getWalletTransferHistory(e,t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/transfer/history",{neo_address:e,page:t})}))}getWalletTransferLatest(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/wallet/transfer/latest",{neo_address:e})}))}getFlamingoLivedataPricesLatest(){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/prices/latest",{})}))}getFlamingoLivedataPricesFromblock(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData(`/flamingo/live-data/prices/from-block/${e}`,{})}))}getFlamingoLivedataPricesFromdatetime({year:e,month:t,day:a,hour:s,minute:n}){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData(`/flamingo/live-data/prices/from-datetime/${e}/${t}/${a}/${s}/${n}`,{})}))}getFlamingoLivedataPricesFromtimestamp(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData(`/flamingo/live-data/prices/from-timestamp/${e}`,{})}))}getFlamingoLivedataFiatexchangerate(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData(`/flamingo/live-data/fiat-exchange-rate/${e}`,{})}))}getFlamingoLivedataClaimsHistory(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/claims/history",{page:e})}))}getFlamingoLivedataClaimsLatest(){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/claims/latest",{})}))}getFlamingoLivedataTradeHistory(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/trade/history",{page:e})}))}getFlamingoLivedataTradeLatest(){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/trade/latest",{})}))}getFlamingoLivedataLpHistory(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/lp/history",{page:e})}))}getFlamingoLivedataLpLatest(){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/lp/latest",{})}))}getFlamingoLivedataStakingHistory(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/staking/history",{page:e})}))}getFlamingoLivedataStakingLatest(){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/staking/latest",{})}))}getFlamingoLivedataLendHistory(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/lend/history",{page:e})}))}getFlamingoLivedataLendLatest(){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/lend/latest",{})}))}getFlamingoLivedataTransferHistory(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/transfer/history",{page:e})}))}getFlamingoLivedataTransferLatest(){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/live-data/transfer/latest",{})}))}getFlamingoAnalyticsMonthhistory(e,{year:t,month:a}){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData(`/flamingo/analytics/month-history/${e}`,{year:t,month:a})}))}getFlamingoAnalyticsMonthlatest(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData(`/flamingo/analytics/month-latest/${e}`,{})}))}getFlamingoAnalyticsDailyhistory(e,{year:t,month:a,day:s}){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData(`/flamingo/analytics/daily-history/${e}`,{year:t,month:a,day:s})}))}getFlamingoAnalyticsDailylatest(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData(`/flamingo/analytics/daily-latest/${e}`,{})}))}getFlamingoAnalyticsRolling30days(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData(`/flamingo/analytics/rolling-30-days/${e}`,{})}))}getFlamingoAnalyticsFlamingoTotalsupply(){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/analytics/flamingo/total-supply",{})}))}getFlamingoAnalyticsFlamingoUsdvaluelocked(){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/flamingo/analytics/flamingo/usd-value-locked",{})}))}getNeoBlock(e,t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/neo/block",{index:e,flamingo_data:t})}))}getNeoBlockLatest(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/neo/block/latest",{flamingo_data:e})}))}getNeoBlocksHistory(e,t){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/neo/blocks/history",{page:e,flamingo_data:t})}))}getNeoBlocksLatest(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/neo/blocks/latest",{flamingo_data:e})}))}getNeoTransaction(e){return __awaiter(this,void 0,void 0,(function*(){return this.fetchData("/neo/transaction",{tx_hash:e})}))}fetchData(e,t={}){return __awaiter(this,void 0,void 0,(function*(){try{return(yield this.api.get(e,{params:t})).data}catch(t){throw console.error("Error fetching data from URL:",e,t),t}}))}}}));__awaiter=this&&this.__awaiter||function(e,t,a,s){return new(a||(a=Promise))((function(n,i){function o(e){try{l(s.next(e))}catch(e){i(e)}}function r(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,r)}l((s=s.apply(e,t||[])).next())}))};define("dashboard/wallet-manager/wallet-lib",["require","exports","@cityofzion/neon-core","@cityofzion/neon-core-neo3","ojs/ojlogger","axios","./bignumber","dashboard/flamingo-api/api/api-client","css!dashboard/wallet-manager/wallet-manager-styles.css","ojs/ojchart","ojs/ojactioncard","ojs/ojcolorspectrum","ojs/ojlistview","ojs/ojlistitemlayout","ojs/ojinputtext","ojs/ojbutton","ojs/ojformlayout","ojs/ojvalidationgroup","ojs/ojpopup","ojs/ojdefer"],(function(require,e,t,a,s,n,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addressFormat=e.STORAGE_VALUE_MESSAGE=e.DEFAULT_RPC_URLS=e.DEFAULT_N3_RPC_NETWORK=e.DEFAULT_N2_RPC_NETWORK=e.STORAGE_VALUE_TYPE=e.STORAGE_NAME=e.NetworkType=e.saveSelectedTagsToStorage=e.getSelectedTagsFromStorage=e.addToRatiosInStorage=e.loadRatiosFromStorage=e.deleteWalletFromStorage=e.updateWalletToStorage=e.addWalletToStorage=e.addWalletToStoragePK=e.loadWalletsFromStorage=e.loadWalletsFromStoragePK=e.getN3AllTxs=e.getN3AssetTxs=e.handleN3TxResponse=e.getN3AddressBalances=e.GAS3_CONTRACT=e.NEO3_CONTRACT=e.CWallet=e.KEY=void 0;new o.default,new t.rpc.RPCClient("https://rpc2.n3.nspcc.ru:10331");e.KEY="xxx";class r extends a.wallet.Wallet{constructor(e){super(e)}export(){return super.export()}}e.CWallet=r,e.NEO3_CONTRACT="0xef4073a0f2b305a38ec4050e4d3d28bc40ea63f5",e.GAS3_CONTRACT="0xd2a4cff31913016155e38e474a2c06d08be276cf";const l={NEO:{asset_id:e.NEO3_CONTRACT,symbol:"NEO",decimals:0,balance:"0"},GAS:{asset_id:e.GAS3_CONTRACT,symbol:"GAS",decimals:8,balance:"0"}};e.getN3AddressBalances=t=>__awaiter(void 0,void 0,void 0,(function*(){const a={jsonrpc:"2.0",method:"getnep17balances",params:[t],id:1};return(t=>{const a=[Object.assign({},l.NEO),Object.assign({},l.GAS)];return((null==t?void 0:t.balance)||[]).forEach((t=>{if(t.assethash===e.NEO3_CONTRACT)a[0].balance=t.amount;else if(t.assethash===e.GAS3_CONTRACT)a[1].balance=(0,i.default)(t.amount,10).shiftedBy(-t.decimals).toFixed();else{const e={balance:(0,i.default)(t.amount,10).shiftedBy(-t.decimals).toFixed(),asset_id:t.assethash,symbol:t.symbol,decimals:t.decimals};a.push(e)}})),Promise.resolve(a)})((yield n.default.post(e.DEFAULT_N3_RPC_NETWORK[0].rpcUrl,a)).data.result)}));const d=new Map,c=new Map;new Map;function u(t){const a=[],s=[],i=[];return t.forEach(((e,t)=>{if(d.has(e))i[t]=d.get(e);else{const n={jsonrpc:"2.0",id:1,method:"invokefunction",params:[e,"symbol"]};s.push(t),a.push(n)}})),0===a.length?Promise.resolve(i):n.default.post(e.DEFAULT_N3_RPC_NETWORK[0].rpcUrl,a).then((e=>(e.data.forEach(((e,a)=>{let n="";e.result.stack&&(n=e.result.stack[0].value,
"ByteArray"===e.result.stack[0].type&&(n=b(e.result.stack[0].value)),"ByteString"===e.result.stack[0].type&&(n=b(function(e){const t=atob(e);let a="";for(let e=0;e<t.length;e++){const s=t.charCodeAt(e).toString(16);a+=2===s.length?s:"0"+s}return a.toUpperCase()}(e.result.stack[0].value))));const o=s[a];d.set(t[o],n),i[o]=n})),i)))}e.handleN3TxResponse=a=>__awaiter(void 0,void 0,void 0,(function*(){const s=[];((null==a?void 0:a.sent)||[]).forEach((e=>{const t={block_time:Math.floor(e.timestamp/1e3),asset_id:e.assethash,from:[a.address],to:[e.transferaddress],value:`-${e.amount}`,txid:e.txhash,type:"sent",id:e.blockindex};s.push(t)})),((null==a?void 0:a.received)||[]).forEach((e=>{const t={block_time:Math.floor(e.timestamp/1e3),asset_id:e.assethash,from:[e.transferaddress],to:[a.address],value:e.amount,txid:e.txhash,type:"received",id:e.blockindex};s.push(t)})),s.sort(((e,t)=>0===e.txid.localeCompare(t.txid)?e.asset_id.localeCompare(t.asset_id):e.txid.localeCompare(t.txid)));for(let e=1;e<s.length;)s[e].txid===s[e-1].txid&&s[e].asset_id===s[e-1].asset_id?(s[e].value=(0,i.default)(s[e].value,10).plus((0,i.default)(s[e-1].value,10)),s[e].type=s[e].value.comparedTo(0)>0?"received":"sent",s[e].value=s[e].value.toFixed(),s.splice(e-1,1)):e++;const o=new Set;return s.forEach((e=>o.add(e.asset_id))),yield u(Array.from(o)),yield function(a){const s=[],o=[],r=[];return a.forEach(((e,t)=>{if(c.has(e))r[t]=c.get(e);else{const a={jsonrpc:"2.0",id:1,method:"invokefunction",params:[e,"decimals"]};o.push(t),s.push(a)}})),0===s.length?Promise.resolve(r):n.default.post(e.DEFAULT_N3_RPC_NETWORK[0].rpcUrl,s).then((e=>(e.data.forEach(((e,s)=>{let n=0;if(e.result.stack&&(n=e.result.stack[0].value,"Integer"===e.result.stack[0].type&&(n=Number(e.result.stack[0].value||0)),"ByteArray"===e.result.stack[0].type)){const a=t.u.reverseHex(e.result.stack[0].value);n=(0,i.default)(a||0,16).toNumber()}const l=o[s];c.set(a[l],n),r[l]=n})),r)))}(Array.from(o)),s.forEach(((e,t)=>{s[t].symbol=d.get(e.asset_id);const a=c.get(e.asset_id);a&&(s[t].value=(0,i.default)(s[t].value,10).shiftedBy(-a).toFixed())})),s}));e.getN3AssetTxs=(t,a)=>__awaiter(void 0,void 0,void 0,(function*(){return(yield(0,e.getN3AllTxs)(t)).filter((e=>e.asset_id===a))}));e.getN3AllTxs=t=>__awaiter(void 0,void 0,void 0,(function*(){const a=Math.floor((new Date).getTime())-2592e6,s={jsonrpc:"2.0",method:"getnep17transfers",params:[t,a],id:1};let i=yield n.default.post(e.DEFAULT_N3_RPC_NETWORK[0].rpcUrl,s);return i=yield(0,e.handleN3TxResponse)(i.data.result),i=i.sort(((e,t)=>t.block_time-e.block_time)),i}));e.loadWalletsFromStoragePK=()=>(console.log("wallet-lib > loadWalletsFromStorage"),h(m["walletArr-Neo3"]));e.loadWalletsFromStorage=()=>(console.log("wallet-lib > loadWalletsFromStorage"),h(m["walletPubArr-Neo3"]));e.addWalletToStoragePK=(t,n,i,o)=>{const l=new a.wallet.Account(n),d=a.wallet.isAddress(l.address,53)?"Neo3":"Neo2";s.info("configureWallet > chainType =",d);const c=new r({name:null!=t?t:"nxTraderUser",walletColor:o.toString()});c.walletColor=o,c.addAccount(l),c.displayName=t;c.accounts[0].WIF;c.encrypt(0,i);const u=(0,e.loadWalletsFromStoragePK)();u.push(c),p(m.chainType,d),p(m["walletArr-Neo3"],u);const{address:f}=l};e.addWalletToStorage=(t,a,n,i,o,l)=>{const d="Neo3";s.info("configureWallet > chainType =",d);const c=new r({name:null!=t?t:"nxTraderUser",walletColor:o.toString()});c.walletColor=o,c.publicKey=a,c.goal=i,c.tags=l,c.displayName=t;const u=(0,e.loadWalletsFromStorage)();u.push(c),p(m.chainType,d),p(m["walletPubArr-Neo3"],u)};e.updateWalletToStorage=(t,a,s,n,i,o)=>{const r=(0,e.loadWalletsFromStorage)(),l=r.find((e=>e.name===t));if(l){const e=l;n&&(e.walletColor=n),e.goal=s,console.log("try save ",i),e.tags=i,e.publicKey=a,e.displayName=null!=o?o:t}p(m["walletPubArr-Neo3"],r)};e.deleteWalletFromStorage=t=>{const a=(0,e.loadWalletsFromStorage)(),s=a.find((e=>e.name===t)),n=a.findIndex((e=>e.name===t));console.log("wallet-lib > deleteWalletFromStorage",s,n,a),a.splice(n,1),p(m["walletPubArr-Neo3"],a)};e.loadRatiosFromStorage=()=>h(m.ratios);e.addToRatiosInStorage=(t,a)=>{const s=(0,e.loadRatiosFromStorage)();s.set(t,a);p(m.ratios,s)};e.getSelectedTagsFromStorage=()=>(console.log("wallet-lib > getSelectedTagsFromStorage"),h(m.selectedTags));var f,m,g;function h(t){let a=localStorage[t],s=a;switch(e.STORAGE_VALUE_MESSAGE[t].type){case g.object:s=a&&"undefined"!==a?JSON.parse(a):{};break;case g.array:s=a&&"undefined"!==a?JSON.parse(a):[];break;case g.map:s=a&&"undefined"!==a?new Map(JSON.parse(a)):new Map;break;case g.number:s=a&&"undefined"!==a?Number(a):0;break;case g.boolean:s="true"===a}return s}function p(t,a){let s=a;switch(e.STORAGE_VALUE_MESSAGE[t].type){case g.object:case g.array:s=JSON.stringify(a);break;case g.number:case g.boolean:s=String(a);break;case g.array:s=JSON.stringify(a)}localStorage.setItem(t,s)}e.saveSelectedTagsToStorage=e=>{p(m.selectedTags,e)},function(e){e.MainNet="MainNet",e.TestNet="TestNet",e.N3MainNet="N3MainNet",e.N3TestNet="N3TestNet",e.N3PrivateNet="N3PrivateNet"}(f=e.NetworkType||(e.NetworkType={})),function(e){e.n2Networks="n2Networks",e.n3Networks="n3Networks",e.n2SelectedNetworkIndex="n2SelectedNetworkIndex",e.n3SelectedNetworkIndex="n3SelectedNetworkIndex",e.coinsRate="coinsRate",e.fiatRate="fiatRate",e.neo3CoinsRate="neo3CoinsRate",e.rateCurrency="rateCurrency",e.wallet="wallet",e.walletArr="walletArr",e["walletArr-Neo3"]="walletArr-Neo3",e["walletPubArr-Neo3"]="walletPubArr-Neo3",e.WIFArr="WIFArr",e["WIFArr-Neo3"]="WIFArr-Neo3",e.chainType="chainType",e.neo3AddressFlag="neo3AddressFlag",e.lang="lang",e.transaction="transaction",e.connectedWebsites="connectedWebsites",e.authAddress="authAddress",e.InvokeArgsArray="InvokeArgsArray",e.walletsStatus="walletsStatus",e.haveBackupTip="haveBackupTip",e.hasLoginAddress="hasLoginAddress",e.shouldFindNode="shouldFindNode",e.rpcUrls="rpcUrls",e.neo3RemoveT4Flag="neo3RemoveT4Flag",e.onePassword="onePassword",e.theme="theme",e.onePassCheckAddresses="onePassCheckAddresses",e.ratios="ratios",e.selectedTags="selectedTags"}(m=e.STORAGE_NAME||(e.STORAGE_NAME={})),function(e){e.number="number",e.string="string",e.object="object",e.map="map",e.boolean="boolean",e.array="array"}(g=e.STORAGE_VALUE_TYPE||(e.STORAGE_VALUE_TYPE={})),e.DEFAULT_N2_RPC_NETWORK=[{rpcUrl:"http://seed1.ngd.network:10332",name:"N2 MAINNET",explorer:"https://neo2.neotube.io/",network:f.MainNet,chainId:1,id:1},{rpcUrl:"http://seed5.ngd.network:20332",name:"N2 TESTNET",explorer:"",network:f.TestNet,chainId:2,id:2}],e.DEFAULT_N3_RPC_NETWORK=[{rpcUrl:"https://n3seed1.ngd.network:10332",name:"N3 MAINNET",magicNumber:860833102,explorer:"https://neotube.io/",network:f.N3MainNet,chainId:3,id:3},{rpcUrl:"http://seed3t5.neo.org:20332",name:"N3 TESTNET",magicNumber:894710606,explorer:"https://testnet.neotube.io/",network:f.N3TestNet,chainId:6,id:6}],e.DEFAULT_RPC_URLS={lastModified:null,nodes:{1:["http://seed6.ngd.network:10332","http://seed8.ngd.network:10332"],2:["http://seed3.ngd.network:20332","http://seed4.ngd.network:20332","http://seed5.ngd.network:20332","http://seed8.ngd.network:20332"],3:["http://seed1.neo.org:10332","http://seed2.neo.org:10332","http://seed3.neo.org:10332","http://seed4.neo.org:10332","http://seed5.neo.org:10332","https://n3seed1.ngd.network:10332","https://n3seed2.ngd.network:10332","https://neo3-mainnet.neoline.vip"],6:["http://seed1t5.neo.org:20332","http://seed2t5.neo.org:20332","http://seed3t5.neo.org:20332","http://seed4t5.neo.org:20332","http://seed5t5.neo.org:20332"]}},e.STORAGE_VALUE_MESSAGE={n2Networks:{type:g.array,isLocal:!0,default:e.DEFAULT_N2_RPC_NETWORK},n3Networks:{type:g.array,isLocal:!0,default:e.DEFAULT_N3_RPC_NETWORK},n2SelectedNetworkIndex:{type:g.number,isLocal:!0,default:0},n3SelectedNetworkIndex:{type:g.number,isLocal:!0,default:0},coinsRate:{type:g.object,isLocal:!1},fiatRate:{type:g.object,isLocal:!1},neo3CoinsRate:{type:g.object,isLocal:!1},rateCurrency:{type:g.string,isLocal:!1,default:"USD"},wallet:{type:g.object,isLocal:!0},walletArr:{type:g.array,isLocal:!0},"walletArr-Neo3":{type:g.array,isLocal:!0},"walletPubArr-Neo3":{type:g.array,isLocal:!0},WIFArr:{type:g.array,isLocal:!0},"WIFArr-Neo3":{type:g.array,isLocal:!0},chainType:{type:g.string,isLocal:!0},neo3AddressFlag:{type:g.boolean,isLocal:!0},lang:{type:g.string,isLocal:!1,default:"en"},transaction:{type:g.object,isLocal:!1},connectedWebsites:{type:g.object,isLocal:!1},authAddress:{type:g.object,isLocal:!1},InvokeArgsArray:{type:g.array,isLocal:!0},walletsStatus:{type:g.object,isLocal:!0},haveBackupTip:{type:g.boolean,isLocal:!0},hasLoginAddress:{type:g.object,isLocal:!0},shouldFindNode:{type:g.boolean,isLocal:!0},rpcUrls:{type:g.object,isLocal:!0,default:e.DEFAULT_RPC_URLS},neo3RemoveT4Flag:{type:g.boolean,isLocal:!0},onePassword:{type:g.boolean,isLocal:!0},theme:{type:g.string,isLocal:!1,default:"light-theme"},onePassCheckAddresses:{type:g.object,isLocal:!0},ratios:{type:g.map,isLocal:!0},selectedTags:{type:g.array,isLocal:!0}};const v=/^([0-9A-Fa-f]{2})*$/;function j(e){if(!function(e){try{return v.test(e)}catch(e){return!1}}(e))throw new Error(`Expected a hexstring but got ${e}`)}function b(e){return t=function(e){if(j(e),!e.length)return new Uint8Array(0);const t=e.length/2,a=new Uint8Array(t);for(let s=0;s<t;s++)a[s]=parseInt(e.substring(0,2),16),e=e.substring(2);return a}(e),String.fromCharCode.apply(null,Array.from(new Uint8Array(t)));var t}e.addressFormat=e=>{try{return`${e.substring(0,6)}...${e.substring(e.length-6,e.length)}`}catch(e){}return e}}));__awaiter=this&&this.__awaiter||function(e,t,a,s){return new(a||(a=Promise))((function(n,i){function o(e){try{l(s.next(e))}catch(e){i(e)}}function r(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,r)}l((s=s.apply(e,t||[])).next())}))};define("dashboard/price-list/price-list",["require","exports","preact/jsx-runtime","ojs/ojvcomponent","preact/hooks","@preact/signals","ojs/ojconverter-number","ojs/ojarraydataprovider","dashboard/flamingo-api/api/api-client","css!dashboard/price-list/price-list-styles.css","ojs/ojlistview","ojs/ojlistitemlayout"],(function(require,e,t,a,s,n,i,o,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.startPriceRefreshTimer=e.isAutoPriceRefreshRunning=e.stopPriceRefreshTimer=e.PriceList=e.prices=void 0;e.prices=(0,n.signal)([]);let l=(0,n.signal)(0);const d=new r.default;function c(){(function(){return __awaiter(this,void 0,void 0,(function*(){return d.getFlamingoLivedataPricesLatest()}))})().then((t=>{console.log("price-list > refreshPrices > completed",t),e.prices.value=function(e){var t=e.filter((e=>"bNEO"===e.symbol));1===t.length&&e.push({hash:t[0].hash,symbol:"NEO",unwrappedSymbol:"NEO",usd_price:t[0].usd_price});return e}(t)}))}function u(){0!==l.value&&(console.log("price-list > stop refresh timer"),clearInterval(l.value),l.value=0)}function f(){0===l.value&&(console.log("price-list > start refresh timer"),l.value=setInterval(c,3e5))}e.PriceList=(0,a.registerCustomElement)("dashboard-price-list",(function({pricesToShow:a}){const n=e.prices.value.sort(((e,t)=>e.symbol.localeCompare(t.symbol))).filter((function(e){return!!a&&a.indexOf(e.symbol)>=0})),r=new o(null!=n?n:[],{keyAttributes:"symbol"}),l=new i.IntlNumberConverter({style:"currency",currency:"USD",currencyDisplay:"symbol",currencyFormat:"standard",decimalFormat:"long",maximumFractionDigits:12});return(0,s.useEffect)((()=>(c(),f(),()=>u())),[]),(0,t.jsx)("div",{children:(0,t.jsx)("oj-list-view",Object.assign({id:"lvPrices","aria-label":"flamingo price list",data:r,class:"oj-listview-item-padding-off","selection-mode":"none"},{children:(0,t.jsx)("template",{slot:"itemTemplate","data-oj-as":"item",render:e=>(0,t.jsx)("div",{children:(0,t.jsxs)("div",Object.assign({className:"oj-flex oj-sm-padding-2x"},{children:[(0,t.jsx)("img",{src:`styles/images/${e.item.data.symbol}.svg`,class:"token"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",Object.assign({className:"oj-flex"},{children:(0,t.jsx)("span",Object.assign({class:"oj-typography-body-md oj-text-color-primary"},{children:e.item.data.symbol}))})),(0,t.jsx)("div",Object.assign({style:{fontSize:22}},{children:l.format(e.item.data.usd_price)}))]})]}))})})}))})}),"PriceList",{properties:{pricesToShow:{type:"Array<string>"}}}),e.stopPriceRefreshTimer=u,e.isAutoPriceRefreshRunning=(0,n.computed)((()=>l.value>0)),e.startPriceRefreshTimer=f})),define("dashboard/wallet-manager/wallet-list-filter",["require","exports","preact/jsx-runtime","./wallet-manager","ojs/ojarraydataprovider","./wallet-lib"],(function(require,e,t,a,s,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WalletListFilter=void 0,e.WalletListFilter=function({}){console.log("wallet-list-filter > render",a.tagsAsArray.value);const e=new s(a.tagsAsArray.value,{keyAttributes:"name"});return(0,t.jsx)("div",Object.assign({style:"width: 90%"},{children:(0,t.jsx)("oj-select-many",{labelHint:"filter wallets by tags :",labelEdge:"inside",options:e,value:a.selectedTags.value,onvalueChanged:e=>{"internal"===e.detail.updatedFrom&&(console.log("wallet-list-filter > onvalueChanged",e.detail.updatedFrom,e.detail.previousValue,e.detail.value),a.selectedTags.value=e.detail.value,(0,n.saveSelectedTagsToStorage)(e.detail.value))}})}))}})),define("dashboard/wallet-manager/form-elements",["require","exports","@preact/signals"],(function(require,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tbnDisabled=e.brbHidden=e.bcloHidden=e.bclrHidden=e.buHidden=e.bcrHidden=e.bawHidden=e.tdnHidden=void 0,console.log("form-elements > init"),e.tdnHidden=(0,t.signal)(!0),e.bawHidden=(0,t.signal)(!1),e.bcrHidden=(0,t.signal)(!1),e.buHidden=(0,t.signal)(!0),e.bclrHidden=(0,t.signal)(!1),e.bcloHidden=(0,t.signal)(!0),e.brbHidden=(0,t.signal)(!0),e.tbnDisabled=(0,t.signal)(!1)})),define("dashboard/wallet-manager/wallet-list",["require","exports","preact/jsx-runtime","preact/hooks","@preact/signals","ojs/ojarraydataprovider","ojs/ojconverter-number","ojs/ojcolor","ojs/ojcolor","dashboard/price-list/price-list","./wallet-list-filter","./form-elements","css!dashboard/wallet-manager/wallet-manager-styles.css","ojs/ojbutton","ojs/ojactioncard","ojs/ojcolorspectrum","ojs/ojlistview","ojs/ojlistitemlayout","ojs/ojinputtext","ojs/ojbutton","ojs/ojformlayout","ojs/ojvalidationgroup","ojs/ojgauge"],(function(require,e,t,a,s,n,i,o,r,l,d,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.refreshLastUpdatedTime=e.WalletList=void 0;let u=(0,s.signal)(void 0),f=(0,s.signal)(0);const m=(0,s.computed)((()=>!l.isAutoPriceRefreshRunning.value)),g=(0,s.computed)((()=>!!l.isAutoPriceRefreshRunning.value));function h(){console.log("wallet-list > refreshLastUpdatedLabel");var e=Math.abs(Date.now()-u.peek()),t=Math.floor(e/1e3);f.value=t}e.WalletList=function({wallets:e,walletsMetadata:s,showAddWallet:u,showEditWallet:p,tryDeleteWallet:v,walletSelected:j,refreshAllWalletBalances:b}){const w=new i.IntlNumberConverter({style:"currency",currency:"USD",currencyDisplay:"symbol",currencyFormat:"standard",decimalFormat:"long",maximumFractionDigits:12}),y=new n(e,{keyAttributes:"name"});return(0,a.useEffect)((()=>{const e=setInterval(h,1e4);return()=>clearInterval(e)}),[]),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",Object.assign({className:"oj-flex oj-sm-margin-7x-start oj-sm-margin-7x-end"},{children:[(0,t.jsxs)("oj-button",Object.assign({id:"butAddWallet",display:"all",onojAction:u,class:"oj-button-sm",hidden:c.bawHidden.value},{children:[(0,t.jsx)("span",{slot:"startIcon",class:"oj-ux-ico-plus"}),"Add Wallet"]})),(0,t.jsx)("span",{className:"oj-flex-item"}),(0,t.jsxs)("span",Object.assign({class:"oj-sm-padding-2x-end oj-sm-padding-4x-top oj-text-color-secondary"},{children:["last updated ",f," second(s) ago"]})),(0,t.jsxs)("oj-button",Object.assign({id:"butRefreshBalances",display:"icons",hidden:c.brbHidden.value,onojAction:b,class:"oj-button-sm oj-sm-flex-initial oj-flex-item  oj-sm-margin-2x-end"},{children:[(0,t.jsx)("span",{slot:"startIcon",class:"oj-ux-ico-refresh"}),"Refresh wallet balances"]})),(0,t.jsxs)("oj-button",Object.assign({id:"butPause",display:"icons",onojAction:l.stopPriceRefreshTimer,class:"oj-button-sm oj-sm-flex-initial oj-flex-item",hidden:m.value},{children:[(0,t.jsx)("span",{slot:"startIcon",class:"oj-ux-ico-pause"}),"Pause autorefresh"]})),(0,t.jsxs)("oj-button",Object.assign({id:"butPlay",display:"icons",onojAction:l.startPriceRefreshTimer,class:"oj-button-sm oj-sm-flex-initial oj-flex-item",hidden:g.value},{children:[(0,t.jsx)("span",{slot:"startIcon",class:"oj-ux-ico-play"}),"Start autorefresh (runs every 60 seconds)"]}))]})),(0,t.jsx)("oj-list-view",Object.assign({id:"lvWallets","aria-label":"wallets",data:y,gridlines:{item:"visible"},class:"nx-wallet-list oj-sm-padding-3x-top oj-sm-padding-3x-start oj-sm-padding-3x-end",selectionMode:"none",onselectedChanged:j},{children:(0,t.jsx)("template",{slot:"itemTemplate","data-oj-as":"item",render:function(e){var a,n;const i={width:"5px",height:"50px",backgroundColor:(e.item.data.walletColor?new r(e.item.data.walletColor):o.BLACK).toString()},l=s.get(e.key);let d=0;return l&&"runningWalletTotalInUsd"in l&&(d=l.runningWalletTotalInUsd),(0,t.jsx)("li",Object.assign({style:"align-items:center;"},{children:(0,t.jsxs)("oj-list-item-layout",Object.assign({style:"width:100%"},{children:[(0,t.jsx)("div",{slot:"leading",style:i}),(0,t.jsx)("div",Object.assign({class:"oj-typography-body-md oj-text-color-primary"},{children:null!==(a=e.item.data.displayName)&&void 0!==a?a:e.item.data.name})),(0,t.jsx)("div",Object.assign({slot:"secondary",class:"oj-typography-body-sm oj-text-color-secondary",style:"min-width: 200px;"},{children:e.item.data.publicKey?e.item.data.publicKey:e.item.data.accounts[0].label})),(0,t.jsx)("div",Object.assign({slot:"tertiary",class:"oj-flex oj-typography-body-sm oj-text-color-secondary"},{children:null===(n=e.item.data.tags)||void 0===n?void 0:n.map((e=>(0,t.jsx)("div",Object.assign({class:"tag-item"},{children:e}))))})),(0,t.jsxs)("div",Object.assign({slot:"metadata",class:"oj-flex"},{children:[(0,t.jsx)("img",{src:"styles/images/fUSDT.svg",style:{width:"25px"}}),(0,t.jsx)("span",Object.assign({class:"oj-sm-padding-2x-start oj-sm-padding-2x-end oj-sm-padding-6x-top",style:{verticalAlign:"super"}},{children:w.format(null!=d?d:0)})),(0,t.jsx)("oj-status-meter-gauge",{"labelled-by":"readOnly",orientation:"circular",min:0,max:e.item.data.goal,value:null!=d?d:0,metricLabel:{rendered:"off"},plotArea:{rendered:"on"},innerRadius:.57,size:"sm",startAngle:180,angleExtent:180,class:"oj-sm-padding-3x-top oj-sm-margin-0x",hidden:!(e.item.data.goal&&e.item.data.goal>0),readonly:!0})]})),(0,t.jsx)("div",{slot:"trailing",style:{width:"50px"}}),(0,t.jsxs)("div",Object.assign({slot:"action"},{children:[(0,t.jsxs)("oj-button",Object.assign({id:"bEdit",display:"icons",onojAction:p,class:"oj-button-sm","row-data":e.item.data.name},{children:[(0,t.jsx)("span",{slot:"startIcon",class:"oj-ux-ico-edit"}),"Edit"]})),(0,t.jsxs)("oj-button",Object.assign({id:"bDelete",display:"icons",onojAction:v,class:"oj-button-sm oj-sm-padding-2x-start","row-data":e.item.data.name},{children:[(0,t.jsx)("span",{slot:"startIcon",class:"oj-ux-ico-trash"}),"Delete"]}))]}))]}))}))}})})),(0,t.jsx)("ul",{children:(x=function(e){let t=0,a=0;return e.forEach(((e,s)=>{let n=0;if(e&&"goal"in e&&(n=e.goal,a+=n),e&&"runningWalletTotalInUsd"in e){const a=e.runningWalletTotalInUsd;t+=a}})),{runningWalletsTotalInUsd:t,runningGoal:a}}(s),(0,t.jsxs)("oj-list-item-layout",Object.assign({id:"lilFooter",style:""},{children:[(0,t.jsx)("div",{children:(0,t.jsx)(d.WalletListFilter,{})}),(0,t.jsxs)("div",Object.assign({slot:"metadata",class:"oj-flex"},{children:[(0,t.jsx)("img",{src:"styles/images/fUSDT.svg",style:{width:"25px"}}),(0,t.jsx)("span",Object.assign({class:"oj-sm-padding-2x-start oj-sm-padding-2x-end oj-sm-padding-6x-top",style:{verticalAlign:"super"}},{children:w.format(null!==(_=x.runningWalletsTotalInUsd)&&void 0!==_?_:0)})),(0,t.jsx)("oj-status-meter-gauge",{"labelled-by":"readOnly",orientation:"circular",min:0,max:x.runningGoal,value:null!==(T=x.runningWalletsTotalInUsd)&&void 0!==T?T:0,metricLabel:{rendered:"off"},plotArea:{rendered:"on"},innerRadius:.57,size:"sm",startAngle:180,angleExtent:180,class:"oj-sm-padding-3x-top oj-sm-margin-0x",readonly:!0})]})),(0,t.jsx)("div",{slot:"trailing",style:{width:"50px"}}),(0,t.jsx)("div",{slot:"action",style:{width:"52px"}})]})))})]});var x,_,T},e.refreshLastUpdatedTime=function(e){console.log("wallet-list > refreshLastUpdatedLabelNow"),u.value=e,h()}})),define("dashboard/wallet-manager/wallet-charts",["require","exports","preact/jsx-runtime","ojs/ojarraydataprovider","css!dashboard/wallet-manager/wallet-manager-styles.css","ojs/ojbutton","ojs/ojactioncard","ojs/ojcolorspectrum","ojs/ojlistview","ojs/ojlistitemlayout","ojs/ojinputtext","ojs/ojbutton","ojs/ojformlayout","ojs/ojvalidationgroup"],(function(require,e,t,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WalletCharts=void 0,e.WalletCharts=function({chartData:e}){const s=new a(e,{keyAttributes:"id"});return(0,t.jsxs)("div",Object.assign({class:"oj-flex oj-sm-margin-7x-start oj-sm-margin-7x-end"},{children:[(0,t.jsx)("oj-chart",{id:"lineAreaChart",type:"lineWithArea",style:"width:50%;",data:s,"animation-on-display":"auto","animation-on-data-change":"auto",orientation:"vertical",stack:"on","hover-behavior":"dim",styleDefaults:{lineType:"centeredStepped",markerDisplayed:"off",lineStyle:"solid"}}),(0,t.jsx)("oj-chart",{id:"pieChart",type:"pie",style:"width:50%;",data:s,"animation-on-display":"auto","animation-on-data-change":"auto","hover-behavior":"dim"})]}))}})),define("dashboard/wallet-manager/wallet-editor",["require","exports","preact/jsx-runtime","preact/hooks","@preact/signals","./wallet-lib","./form-elements","css!dashboard/wallet-manager/wallet-manager-styles.css","ojs/ojbutton","ojs/ojactioncard","ojs/ojcolorspectrum","ojs/ojlistview","ojs/ojlistitemlayout","ojs/ojinputtext","ojs/ojbutton","ojs/ojformlayout","ojs/ojvalidationgroup","ojs/ojinputnumber","ojs/ojselectcombobox"],(function(require,e,t,a,s,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WalletEditor=void 0,e.WalletEditor=function({tryCreate:e,tryUpdate:o,clear:r,close:l,showAddWallet:d,refreshAllWalletBalances:c}){console.log("wallet-editor > init");const u=(0,s.signal)(void 0);return(0,a.useEffect)((()=>()=>{console.log("wallet-editor > disposed!!!!!!")}),[]),(0,t.jsx)("div",{children:(0,t.jsx)("div",Object.assign({id:"walletEditor",className:"oj-sm-margin-4x-start oj-sm-padding-3x",hidden:!0},{children:(0,t.jsx)("oj-validation-group",Object.assign({id:"tracker",valid:u.value},{children:(0,t.jsxs)("oj-form-layout",{children:[(0,t.jsx)("oj-input-text",{id:"wn",required:!0,"label-hint":"wallet name (id)",disabled:i.tbnDisabled.value}),(0,t.jsx)("oj-input-text",{id:"wdn","label-hint":"wallet display name",style:{display:i.tdnHidden.value?"none":""}}),(0,t.jsx)("oj-input-password",{id:"wpk",required:!0,"label-hint":"public wallet address","mask-icon":"visible"}),(0,t.jsx)("oj-input-password",{id:"wk",required:!1,value:n.KEY,"label-hint":"key","mask-icon":"visible",style:"display:none",hidden:!0}),(0,t.jsx)("oj-input-number",{id:"wg",onKeyPress:e=>{let t=e.which?e.which:e.keyCode,a=String.fromCharCode(t),s=a.replace(/[^0-9\.]/g,"");a!==s&&e.preventDefault()},labelHint:"Goal (fUSDT)",labelEdge:"inside"}),(0,t.jsx)("oj-color-spectrum",{id:"wcol","label-hint":"wallet color"}),(0,t.jsxs)("oj-combobox-many",Object.assign({id:"wt",class:"oj-form-control-max-width-md",labelEdge:"none",required:!0,placeholder:"keywords to tag this wallet with"},{children:[(0,t.jsx)("oj-option",Object.assign({value:"bot"},{children:"bot"})),(0,t.jsx)("oj-option",Object.assign({value:"fees"},{children:"fees"})),(0,t.jsx)("oj-option",Object.assign({value:"flamingo"},{children:"flamingo"})),(0,t.jsx)("oj-option",Object.assign({value:"personal"},{children:"personal"}))]})),(0,t.jsxs)("div",Object.assign({className:"oj-flex"},{children:[(0,t.jsx)("oj-button",Object.assign({id:"butCreate",onojAction:e,chroming:"callToAction",hidden:i.bcrHidden.value},{children:"Create"})),(0,t.jsx)("oj-button",Object.assign({id:"butUpdate",onojAction:o,chroming:"callToAction",hidden:i.buHidden.value},{children:"Update"})),(0,t.jsx)("oj-button",Object.assign({id:"butClear",onojAction:r,class:"oj-sm-padding-2x-start",hidden:i.bcrHidden.value},{children:"Clear"})),(0,t.jsx)("oj-button",Object.assign({id:"butClose",onojAction:l,class:"oj-sm-padding-2x-start",hidden:i.bcloHidden.value},{children:"Close"}))]}))]})}))}))})}})),define("dashboard/notifications-layer/notifications-layer",["require","exports","preact/jsx-runtime","ojs/ojvcomponent","ojs/ojarraydataprovider","@preact/signals","css!dashboard/notifications-layer/notifications-layer-styles.css","ojs/ojmessages"],(function(require,e,t,a,s,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createNotification=e.NotificationsLayer=void 0;const i=(0,n.signal)([]);e.NotificationsLayer=(0,a.registerCustomElement)("dashboard-notifications-layer",(function({}){const e=new s(i.value,{keyAttributes:"id"});return(0,t.jsx)("div",{children:(0,t.jsx)("oj-messages",{class:"oj-color-invert",messages:e,display:"notification",position:{my:{vertical:"top",horizontal:"end"},at:{vertical:"top",horizontal:"end"},of:"window"}})})}),"NotificationsLayer"),e.createNotification=function(e){i.value=[e]}})),define("dashboard/flamingo-api/data/tokens",["require","exports"],(function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findTokenByHash=void 0;e.findTokenByHash=function e(t,a,s){for(var n in t){var i=t[n];if("object"==typeof i){var o=e(i,a,i);if(o)return o}if(i===a)return s}},e.default={FLM:{symbol:"FLM",decimals:8,hash:"0xf0151f528127558851b39c2cd8aa47da7418ab28"},FLUND:{symbol:"FLUND",decimals:8,hash:"0xa9603a59e21d29e37ac39cf1b5f5abf5006b22a3"},TIPS:{symbol:"TIPS",decimals:8,hash:"0x340720c7107ef5721e44ed2ea8e314cce5c130fa"},NEO:{symbol:"NEO",decimals:0,hash:"0xef4073a0f2b305a38ec4050e4d3d28bc40ea63f5"},GAS:{symbol:"GAS",decimals:8,hash:"0xd2a4cff31913016155e38e474a2c06d08be276cf"},bNEO:{symbol:"bNEO",decimals:8,hash:"0x48c40d4666f93408be1bef038b6722404d9a4c2a"},FUSD:{symbol:"FUSD",decimals:8,hash:"0x1005d400bcc2a56b7352f09e273be3f9933a5fb1"},LRB:{symbol:"LRB",decimals:8,hash:"0x8c07b4c9f5bc170a3922eac4f5bb7ef17b0acc8b"},USDL:{symbol:"USDL",decimals:8,hash:"0xa8c51aa0c177187aeed3db88bdfa908ccbc9b1a5"},SOM:{symbol:"SOM",decimals:8,hash:"0x2d4c6cf0417209a7eb410160344e224e74f87195"},CANDY:{symbol:"CANDY",decimals:9,hash:"0x88da18a5bca86ec8206d9b4960a7d0c4355a432f"},DOGER:{symbol:"DOGER",decimals:8,hash:"0x322b5a366ca724801a1aa01e669b5f3d7f8c7f6f"},DOGEF:{symbol:"DOGEF",decimals:8,hash:"0xa3291b66f70d4687fc0e41977d8acb0699f235ae"},FDE:{symbol:"FDE",decimals:8,hash:"0x9770f4d78a19d1a6fa94b472bcedffcc06b56c49"},fUSDT:{symbol:"fUSDT",decimals:6,hash:"0xcd48b160c1bbc9d74997b803b9a7ad50a4bef020"},USDT:{symbol:"USDT",decimals:6,hash:"0x68b938cc42b6a2d54fb9040f5facf4290ebb8c5f"},fWETH:{symbol:"fWETH",decimals:18,hash:"0xc14b601252aa5dfa6166cf35fe5ccd2e35f3fdf5"},WETH:{symbol:"WETH",decimals:18,hash:"0xd3a41b53888a733b549f5d4146e7a98d3285fa21"},fWBTC:{symbol:"fWBTC",decimals:8,hash:"0xd6abe115ecb75e1fa0b42f5e85934ce8c1ae2893"},WBTC:{symbol:"WBTC",decimals:8,hash:"0x4548a3bcb3c2b5ce42bf0559b1cf2f1ec97a51d0"},pONT:{symbol:"pONT",decimals:9,hash:"8122bc2212ec971690a044b37a6f52a9349b702b"},pWING:{symbol:"pWING",decimals:9,hash:"0xeeccd60ed722111f8400434dac3ba42c14d8beb1"},GM:{symbol:"GM",decimals:8,hash:"0x9b049f1283515eef1d3f6ac610e1595ed25ca3e9"},fCAKE:{symbol:"fCAKE",decimals:18,hash:"0xe65b462b90516012826f8a9c4c285d8c750e3a77"},SWTH:{symbol:"SWTH",decimals:8,hash:"0x78e1330db47634afdb5ea455302ba2d12b8d549f"},fBNB:{symbol:"fBNB",decimals:18,hash:"0xb56f0fba45cc57a948b342186274dfd863996bb3"}}}));__awaiter=this&&this.__awaiter||function(e,t,a,s){return new(a||(a=Promise))((function(n,i){function o(e){try{l(s.next(e))}catch(e){i(e)}}function r(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,r)}l((s=s.apply(e,t||[])).next())}))};define("dashboard/wallet-peek/wallet-peek",["require","exports","preact/jsx-runtime","ojs/ojvcomponent","@preact/signals","dashboard/flamingo-api/api/api-client","dashboard/flamingo-api/data/tokens","ojs/ojarraydataprovider","dashboard/wallet-manager/bignumber","css!dashboard/wallet-peek/wallet-peek-styles.css"],(function(require,e,t,a,s,n,i,o,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WalletPeek=e.seletedAddress=void 0;const l=new n.default;e.seletedAddress=(0,s.signal)(void 0),e.WalletPeek=(0,a.registerCustomElement)("dashboard-wallet-peek",(function({hiddenRoot:a,navigateBack:n}){console.log("wallet-peek > render");const d=(0,s.useSignal)(void 0),c=(0,s.useSignal)([]),u=new o(c.value,{keyAttributes:"symbol"});return(0,s.useSignalEffect)((()=>{e.seletedAddress.value&&(console.log("wallet-peek > render > selectedAddress.value changed",e.seletedAddress.value),c.value=[],function(e){return __awaiter(this,void 0,void 0,(function*(){return yield l.getWalletWalletLatest(e)}))}(e.seletedAddress.value).then((e=>{var t,a;console.log("wallet-peek > getWalletDetails",e),d.value=e,c.value=(a=[],(null===(t=d.value)||void 0===t?void 0:t.data)&&Object.keys(d.value.data[0].balances).forEach(((e,t)=>{const s=(0,i.findTokenByHash)(i.default,e,void 0);a.push({key:e,total:d.value.data[0].balances[e],token:s})})),console.log("wallet-peek > getAssetBalances ",a),a)})))})),(0,t.jsxs)("div",Object.assign({hidden:a,class:"oj-sm-margin-2x"},{children:[(0,t.jsx)("oj-button",Object.assign({display:"all",onojAction:n,class:"oj-button-md"},{children:(0,t.jsx)("span",{slot:"startIcon",class:"oj-ux-ico-back-parent"})})),(0,t.jsx)("div",{children:e.seletedAddress.value}),(0,t.jsx)("oj-list-view",Object.assign({"aria-label":"wallet balances",data:u,class:"oj-listview-item-padding-off","selection-mode":"none"},{children:(0,t.jsx)("template",{slot:"itemTemplate","data-oj-as":"item",render:e=>void 0===e.data.token?(0,t.jsx)(t.Fragment,{children:"no tokens..."}):(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{children:e.data.token.symbol}),(0,t.jsx)("div",{children:(0,r.BigNumber)(e.data.total,10).shiftedBy(-e.data.token.decimals).toFixed()})]})})}))]}))}),"WalletPeek",{properties:{hiddenRoot:{type:"boolean"},message:{type:"string"},navigateBack:{type:"function"}}})}));__awaiter=this&&this.__awaiter||function(e,t,a,s){return new(a||(a=Promise))((function(n,i){function o(e){try{l(s.next(e))}catch(e){i(e)}}function r(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,r)}l((s=s.apply(e,t||[])).next())}))};define("dashboard/flamingo-api/indexdb/indexDbService",["require","exports"],(function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const t="neo-flamingo-offline-storage";let a=!1;const s=[];let n;e.default={getObjectStore:function(e){const t=n.transaction(e,"readwrite");return t.oncomplete=function(){},t.objectStore(e)},isOfflineStorageEnabled:function(){return a},bootstrapOfflineStorage:function(e,i){return __awaiter(this,void 0,void 0,(function*(){if(a=e,!a)throw"[Offline Storage] Feature switch not enabled";try{const{openDbHandle:e}=yield new Promise(((e,a)=>{const n=self.indexedDB.open(t,1);let i=!1;n.onsuccess=function(){e({dbUpgradeNeeded:i,openDbHandle:this.result})},n.onerror=function(e){console.error("[Offline Storage] Could not open database",e),a(e)},n.onupgradeneeded=function(){s.forEach((e=>{e(this.result)})),i=!0}}));n=e,yield i()}catch(e){a=!1;const t="[Offline Storage] Feature was enabled but failed to initialize databases";throw console.error(t,e),t}}))},
registerOnUpgradeNeededListener:function(e){s.push(e)}}})),define("dashboard/flamingo-api/indexdb/indexDbErrorHandling",["require","exports"],(function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.extractErrorAsString=void 0,e.extractErrorAsString=function(e,t){try{return e+`. ${t.target.error}`}catch(t){return e+". Error converting indexdb error event to string"}}}));__awaiter=this&&this.__awaiter||function(e,t,a,s){return new(a||(a=Promise))((function(n,i){function o(e){try{l(s.next(e))}catch(e){i(e)}}function r(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,r)}l((s=s.apply(e,t||[])).next())}))};define("dashboard/flamingo-api/indexdb/transactionsDbService",["require","exports","./indexDbService","./indexDbErrorHandling"],(function(require,e,t,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s="watchlist";let n=2;t.default.registerOnUpgradeNeededListener((e=>function(e){console.log("transactionsDbService > onUpgradeNeeded");let t;e.objectStoreNames.contains(s)||(t=e.createObjectStore(s,{keyPath:"id"}),t.createIndex("idIndex","id",{unique:!0,multiEntry:!1}),t.createIndex("symbolIndex","symbol",{unique:!1,multiEntry:!1}))}(e))),e.default={setGeneratedArtifactVersion:function(e){n=e},storeTransaction:function(e,i,o){return __awaiter(this,void 0,void 0,(function*(){yield function(e,i,o){return __awaiter(this,void 0,void 0,(function*(){return new Promise(((r,l)=>{let d={block_time:e.block_time,id:e.id,size:e.size,txid:e.txid,value:e.value,net_fee:e.net_fee,asset_id:e.asset_id,symbol:e.symbol,from:e.from,to:e.to,type:e.type,purchaseCostUsdt:i,goalUsdt:o,recordVersion:n,createdOn:(new Date).toISOString()};const c=t.default.getObjectStore(s).put(d);d=null,c.onsuccess=function(){r()},c.onerror=function(t){l((0,a.extractErrorAsString)(`addTransactionToDb indexdb error id=${e.id}`,t))}}))}))}(e,i,o)}))},getTransactions:function(e){return __awaiter(this,void 0,void 0,(function*(){return yield function(e){return __awaiter(this,void 0,void 0,(function*(){return new Promise(((n,i)=>{const o=t.default.getObjectStore(s).index("symbolIndex").getAll(e);o.onsuccess=function(e){if(void 0===e.target.result)return void i();const t=e.target.result;n(t)},o.onerror=function(e){i((0,a.extractErrorAsString)("getTransactionsFromDb indexdb error",e))}}))}))}(e)}))},getAllTransactions:function(){return __awaiter(this,void 0,void 0,(function*(){return yield function(){return __awaiter(this,void 0,void 0,(function*(){return new Promise(((e,n)=>{const i=t.default.getObjectStore(s).getAll();i.onsuccess=function(t){if(void 0===t.target.result)return void n();const a=t.target.result;e(a)},i.onerror=function(e){n((0,a.extractErrorAsString)("getTransactionsFromDb indexdb error",e))}}))}))}()}))},deleteById:function(e){return __awaiter(this,void 0,void 0,(function*(){return new Promise(((a,n)=>{const i=t.default.getObjectStore(s),o=i.index("idIndex").openKeyCursor(e);o.onsuccess=function(){const e=o.result;e?(i.delete(e.primaryKey),e.continue()):a()},o.onerror=function(e){n(e.target.errorCode)}}))}))}}})),define("dashboard/watch-list/watch-list-item",["require","exports","preact/jsx-runtime","ojs/ojconverter-number","dashboard/notifications-layer/notifications-layer","css!dashboard/watch-list/watch-list-styles.css","ojs/ojgauge"],(function(require,e,t,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WatchListItem=void 0;const n=new a.IntlNumberConverter({style:"currency",currency:"USD",currencyDisplay:"symbol",currencyFormat:"standard",decimalFormat:"long",maximumFractionDigits:2}),i=new a.IntlNumberConverter({style:"decimal",minimumIntegerDigits:2,minimumFractionDigits:2,maximumFractionDigits:4,useGrouping:!1}),o=e=>({insert:`purchased ⠀(${e.componentElement.getAttribute("data-valueSymbol")}) : ${e.componentElement.getAttribute("data-value")}\n      ⠀⠀⠀⠀⠀⠀⠀⠀ (USDT) : ${e.componentElement.getAttribute("data-purchaseCostUsdt")} \n      current⠀⠀⠀ (USDT) : ${e.componentElement.getAttribute("data-curPriceInUsdt")}\n      goal⠀⠀⠀⠀⠀ (USDT) : ${e.componentElement.getAttribute("data-goalUsdt")}`});e.WatchListItem=function(e,a){e.unitPriceInUsd;const r=e.curPriceInUsdt,l=e.purchaseCostUsdt,d=e.goalUsdt,c=e.profitInUsdt;return(0,t.jsxs)("li",Object.assign({class:"oj-md-padding-3x-top oj-md-padding-3x-bottom"},{children:[(0,t.jsxs)("div",Object.assign({class:"oj-flex oj-flex oj-text-primary-color oj-typography-body-md"},{children:[(0,t.jsx)("img",{src:`styles/images/${e.symbol}.svg`,class:" card-small-token"}),(0,t.jsx)("div",Object.assign({onClick:()=>(e=>{navigator.clipboard.writeText(e);const t={id:1,severity:"none",summary:e+" copied to clipboard",autoTimeout:3e3};(0,s.createNotification)(t)})(e.value)},{children:i.format(parseFloat(e.value))})),(0,t.jsx)("div",{class:"oj-flex-item"}),(0,t.jsxs)("div",Object.assign({class:"oj-sm-flex-initial oj-flex-item oj-flex"},{children:[(0,t.jsx)("img",{src:"styles/images/fUSDT.svg",class:"oj-md-padding-2x-start card-small-token"}),(0,t.jsx)("div",{children:n.format(r)}),(0,t.jsx)("div",Object.assign({class:"oj-md-margin-2x-start "+(c>0?c>d-l?"profit-above-goal":"in-profit":"at-a-loss")},{children:n.format(c)}))]}))]})),(0,t.jsxs)("div",Object.assign({class:"oj-flex oj-md-padding-5x-start oj-md-padding-3x-top oj-md-padding-1x-bottom"},{children:[(0,t.jsx)("div",{class:"oj-flex-item"}),(0,t.jsx)("oj-status-meter-gauge",{"labelled-by":"metricLabel",min:Math.max(0,r-100),max:e.goalUsdt+50,value:r,thresholds:[{max:l,color:"red"},{max:d,color:"black"},{color:"green"}],size:"lg",referenceLines:[{value:l,color:"red"},{value:d,color:"black"}],tooltip:{renderer:o},"data-curPriceInUsdt":r,"data-purchaseCostUsdt":l,"data-goalUsdt":d,"data-value":e.value,"data-valueSymbol":e.symbol,style:{width:"250px",top:"10px"},plotArea:{rendered:"on"},readonly:!0}),(0,t.jsx)("oj-button",Object.assign({id:"bDelete",display:"icons",class:"oj-button-sm oj-sm-padding-2x-start",onojAction:a,"data-id":e.id,"data-value":e.value,"data-symbol":e.symbol},{children:(0,t.jsx)("span",{slot:"startIcon",class:"oj-ux-ico-trash"})})),(0,t.jsx)("div",{class:"oj-flex-item"})]}))]}))}}));__awaiter=this&&this.__awaiter||function(e,t,a,s){return new(a||(a=Promise))((function(n,i){function o(e){try{l(s.next(e))}catch(e){i(e)}}function r(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,r)}l((s=s.apply(e,t||[])).next())}))};define("dashboard/watch-list/watch-list",["require","exports","preact/jsx-runtime","ojs/ojvcomponent","dashboard/flamingo-api/indexdb/transactionsDbService","@preact/signals","ojs/ojarraydataprovider","dashboard/price-list/price-list","./watch-list-item","dashboard/wallet-manager/asset-watchlist","css!dashboard/watch-list/watch-list-styles.css","ojs/ojgauge"],(function(require,e,t,a,s,n,i,o,r,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WatchList=e.tryLoadTransactionsInWatchlist=void 0;const d=(0,n.signal)([]);function c(){setTimeout((()=>{s.default.getAllTransactions().then((e=>{const t=e.map(((e,t)=>function(e){const t=o.prices.value.find((t=>t.symbol===e.symbol)),a=t?t.usd_price:0,s=parseFloat(e.value)*a,n=e.purchaseCostUsdt,i=(e.goalUsdt,s-n);return Object.assign(Object.assign({},e),{profitInUsdt:i,curPriceInUsdt:s,unitPriceInUsd:a})}(e)));d.value=t.sort(((e,t)=>t.profitInUsdt-e.profitInUsdt))}))}),1e3)}function u(e){return __awaiter(this,void 0,void 0,(function*(){const t=e.srcElement.dataset.id,a=e.srcElement.dataset.symbol,s=e.srcElement.dataset.value;yield(0,l.deleteWatchListItem)(parseInt(t),a,s),c()}))}e.tryLoadTransactionsInWatchlist=c,e.WatchList=(0,a.registerCustomElement)("dashboard-watch-list",(function(){console.log("watch-list > render",d.value);const e=new i(d.value,{keyAttributes:"id"});return(0,n.useSignalEffect)((()=>{o.prices.value&&o.prices.value.length>0&&c()})),(0,t.jsx)("div",{children:(0,t.jsx)("oj-list-view",Object.assign({id:"lvWatchlist","aria-label":"transactions",data:e,gridlines:{item:"hidden"},class:"oj-sm-padding-2x",selectionMode:"none"},{children:(0,t.jsx)("template",{slot:"itemTemplate","data-oj-as":"item",render:e=>(0,r.WatchListItem)(e.data,u)})}))})}),"WatchList")}));__awaiter=this&&this.__awaiter||function(e,t,a,s){return new(a||(a=Promise))((function(n,i){function o(e){try{l(s.next(e))}catch(e){i(e)}}function r(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,r)}l((s=s.apply(e,t||[])).next())}))};define("dashboard/wallet-manager/asset-watchlist",["require","exports","preact/jsx-runtime","@preact/signals","./wallet-lib","dashboard/flamingo-api/indexdb/transactionsDbService","dashboard/notifications-layer/notifications-layer","dashboard/watch-list/watch-list-item","ojs/ojconverter-number","dashboard/price-list/price-list","./asset-transactions","dashboard/watch-list/watch-list","./wallet-manager","ojs/ojinputnumber"],(function(require,e,t,a,s,n,i,o,r,l,d,c,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AssetWatchlistEditor=e.deleteWatchListItem=e.seletedTransaction=void 0,e.seletedTransaction=(0,a.signal)(void 0);e.deleteWatchListItem=(e,t,a)=>__awaiter(void 0,void 0,void 0,(function*(){yield n.default.deleteById(e);const s={id:2,severity:"none",summary:`${t} ${a} deleted from watch list`,autoTimeout:2e3};(0,i.createNotification)(s)})),e.AssetWatchlistEditor=function({hidden:a,navigateBack:f}){var m,g,h,p,v,j,b,w,y,x,_,T,A,O,N,S,E,k;console.log("asset-watchlist > AssetWatchlistEditor");const C=l.prices.value.find((t=>{var a;return t.symbol===(null===(a=e.seletedTransaction.value)||void 0===a?void 0:a.transaction.symbol)})),D=C?C.usd_price:0,L=new r.IntlNumberConverter({style:"currency",currency:"USD",currencyDisplay:"symbol",currencyFormat:"standard",decimalFormat:"long",maximumFractionDigits:12}),I=1===(null===(m=e.seletedTransaction.value)||void 0===m?void 0:m.watchlist.length)?e.seletedTransaction.value.watchlist[0]:void 0;return(0,t.jsxs)("div",Object.assign({hidden:a,class:"oj-sm-margin-2x"},{children:[(0,t.jsxs)("div",Object.assign({class:"oj-flex"},{children:[(0,t.jsx)("oj-button",Object.assign({display:"all",onojAction:f,class:"oj-button-md"},{children:(0,t.jsx)("span",{slot:"startIcon",class:"oj-ux-ico-back-parent"})})),(0,t.jsx)("h6",Object.assign({class:"oj-sm-margin-4x-start"},{children:1===(null===(g=e.seletedTransaction.value)||void 0===g?void 0:g.watchlist.length)?"Edit existing item in watchlist":"Add to watchlist"}))]})),(0,t.jsx)("div",{children:(null===(h=e.seletedTransaction.value)||void 0===h?void 0:h.txDetail)?null===(p=e.seletedTransaction.value)||void 0===p?void 0:p.txDetail.index:"loading txdetail"}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",Object.assign({class:"oj-md-margin-3x-top oj-md-margin-5x-bottom"},{children:[(0,t.jsxs)("div",Object.assign({class:"oj-flex oj-flex oj-text-primary-color oj-typography-body-md"},{children:[(0,t.jsx)("img",{src:`styles/images/${null===(v=e.seletedTransaction.value)||void 0===v?void 0:v.transaction.symbol}.svg`,class:" card-small-token"}),(0,t.jsx)("div",Object.assign({class:"oj-flex-item"},{children:null===(j=e.seletedTransaction.value)||void 0===j?void 0:j.transaction.value})),(0,t.jsx)("div",{class:"oj-flex-item"}),(null===(b=e.seletedTransaction.value)||void 0===b?void 0:b.transaction.value)>0?(0,t.jsxs)("div",Object.assign({class:"oj-sm-flex-initial oj-flex-item oj-flex"},{children:[(0,t.jsx)("img",{src:"styles/images/fUSDT.svg",class:"card-small-token"}),(0,t.jsx)("div",{children:L.format(parseFloat(null===(w=e.seletedTransaction.value)||void 0===w?void 0:w.transaction.value)*D)})]})):(0,t.jsx)(t.Fragment,{})]})),(0,t.jsxs)("div",Object.assign({class:"oj-md-padding-6x-start oj-md-margin-1x-top oj-text-secondary-color oj-typography-body-sm"},{children:["sent"===(null===(y=e.seletedTransaction.value)||void 0===y?void 0:y.transaction.type)?"sent to ":"recieved from ",(0,t.jsxs)("span",Object.assign({class:"clipboard-action tx-address",title:"peek into address"},{children:[(0,t.jsx)("span",{class:"oj-ux-ico-wallet oj-md-margin-1x-end oj-md-margin-1x-top"}),"sent"===(null===(x=e.seletedTransaction.value)||void 0===x?void 0:x.transaction.type)?(0,s.addressFormat)(null===(_=e.seletedTransaction.value)||void 0===_?void 0:_.transaction.to[0]):(0,s.addressFormat)(null===(T=e.seletedTransaction.value)||void 0===T?void 0:T.transaction.from[0])]}))]})),(0,t.jsxs)("div",Object.assign({class:"oj-md-padding-6x-start oj-md-margin-1x-top oj-text-secondary-color oj-typography-body-sm"},{children:[(0,d.getTimeInterval)(1e3*(null===(A=e.seletedTransaction.value)||void 0===A?void 0:A.transaction.block_time)),"(",e.seletedTransaction.value?new Date(1e3*(null===(O=e.seletedTransaction.value)||void 0===O?void 0:O.transaction.block_time)).toISOString():(0,t.jsx)(t.Fragment,{}),")"]}))]})),(0,t.jsxs)("div",Object.assign({class:"oj-md-margin-5x-start"},{children:[(0,t.jsx)("oj-input-number",{id:"tc",labelHint:"Purchase Cost (fUSDT)",labelEdge:"inside",value:I?I.purchaseCostUsdt:null,class:"oj-sm-padding-1x-top"}),(0,t.jsx)("oj-input-number",{id:"tg",labelHint:"Goal (fUSDT)",labelEdge:"inside",value:I?I.goalUsdt:null,class:"oj-sm-padding-1x-top"})]}))]}),(0,t.jsx)("div",Object.assign({class:"oj-md-margin-5x-top oj-md-margin-3x-bottom"},{children:(0,t.jsx)("ul",Object.assign({style:"list-style-type: none;"},{children:1===(null===(N=e.seletedTransaction.value)||void 0===N?void 0:N.watchlist.length)?(0,o.WatchListItem)(e.seletedTransaction.value.watchlist[0],(()=>{})):(0,t.jsx)(t.Fragment,{})}))})),(0,t.jsxs)("div",Object.assign({class:"oj-flex oj-sm-padding-4x-top"},{children:[(0,t.jsx)("div",{class:"oj-flex-item"}),(0,t.jsxs)("div",Object.assign({class:"oj-sm-flex-initial oj-flex-item"},{children:[(0,t.jsx)("oj-button",Object.assign({id:"butCancel",chroming:"outlined",onojAction:f},{children:"cancel"})),(0,t.jsx)("oj-button",Object.assign({id:"butCreate",chroming:"callToAction",class:"oj-sm-margin-2x-start",onojAction:()=>__awaiter(this,void 0,void 0,(function*(){console.log("asset-transactions > addToWatchList",e.seletedTransaction.value);const t=document.getElementById("tc"),a=document.getElementById("tg");yield n.default.storeTransaction(e.seletedTransaction.value.transaction,t.value,a.value);const s={id:2,severity:"none",summary:`${e.seletedTransaction.value.transaction.symbol} ${e.seletedTransaction.value.transaction.value} added to watch list`,autoTimeout:2e3};(0,i.createNotification)(s),(0,c.tryLoadTransactionsInWatchlist)(),(0,u.refreshCurrentSelectedAssetTransactions)(),f()})),hidden:"edit"===(null===(S=e.seletedTransaction.value)||void 0===S?void 0:S.transactionType)},{children:"create"})),(0,t.jsx)("oj-button",Object.assign({id:"butUpdate",chroming:"callToAction",class:"oj-sm-margin-2x-start",onojAction:()=>__awaiter(this,void 0,void 0,(function*(){const t=document.getElementById("tc"),a=document.getElementById("tg");yield n.default.storeTransaction(e.seletedTransaction.value.transaction,t.value,a.value);const s={id:2,severity:"none",summary:`${e.seletedTransaction.value.transaction.symbol} ${e.seletedTransaction.value.transaction.value} updated in watch list`,autoTimeout:2e3};(0,i.createNotification)(s),(0,c.tryLoadTransactionsInWatchlist)(),(0,u.refreshCurrentSelectedAssetTransactions)(),f()})),hidden:"add"===(null===(E=e.seletedTransaction.value)||void 0===E?void 0:E.transactionType)},{children:"update"})),(0,t.jsx)("oj-button",Object.assign({id:"butDelete",chroming:"danger",class:"oj-sm-margin-2x-start",onojAction:()=>__awaiter(this,void 0,void 0,(function*(){yield(0,e.deleteWatchListItem)(e.seletedTransaction.value.transaction.id,e.seletedTransaction.value.transaction.symbol,e.seletedTransaction.value.transaction.value),(0,c.tryLoadTransactionsInWatchlist)(),(0,u.refreshCurrentSelectedAssetTransactions)(),f()})),hidden:"add"===(null===(k=e.seletedTransaction.value)||void 0===k?void 0:k.transactionType)},{children:"delete"}))]}))]}))]}))}}));__awaiter=this&&this.__awaiter||function(e,t,a,s){return new(a||(a=Promise))((function(n,i){function o(e){try{l(s.next(e))}catch(e){i(e)}}function r(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,r)}l((s=s.apply(e,t||[])).next())}))};define("dashboard/wallet-manager/asset-transactions",["require","exports","preact/jsx-runtime","ojs/ojconverter-number","ojs/ojcolor","./wallet-lib","ojs/ojarraydataprovider","dashboard/notifications-layer/notifications-layer","dashboard/price-list/price-list","./asset-manager","dashboard/wallet-peek/wallet-peek","./wallet-manager","ojs/ojcolor","./asset-watchlist","dashboard/flamingo-api/api/api-client","css!dashboard/wallet-manager/wallet-manager-styles.css","ojs/ojbutton","ojs/ojactioncard","ojs/ojcolorspectrum","ojs/ojlistview","ojs/ojlistitemlayout","ojs/ojinputtext","ojs/ojbutton","ojs/ojformlayout","ojs/ojvalidationgroup"],(function(require,e,t,a,s,n,i,o,r,l,d,c,u,f,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getTimeInterval=e.AssetTransactions=void 0;const g=new m.default;function h(e){let t=Math.floor((Date.now()-e)/1e3),a="second",s="ago";t<0&&(t=-t,s="from now");let n=t;return t>=31536e3?(n=Math.floor(t/31536e3),a="year"):t>=86400?(n=Math.floor(t/86400),a="day"):t>=3600?(n=Math.floor(t/3600),a="hour"):t>=60&&(n=Math.floor(t/60),a="minute"),1!=n&&(a+="s"),n+" "+a+" "+s}e.AssetTransactions=function({hidden:e,transactions:m}){if(void 0===m)return(0,t.jsx)(t.Fragment,{children:"none found ..."});console.log("asset-transactions > render",m);const p=(0,c.getWallet)(m.walletAddress),v=new i(m.transactions,{keyAttributes:"id"}),j=new a.IntlNumberConverter({style:"currency",currency:"USD",currencyDisplay:"symbol",currencyFormat:"standard",decimalFormat:"long",maximumFractionDigits:12}),b=r.prices.value.find((e=>e.symbol===m.asset_name)),w=b?b.usd_price:0,y=e=>{navigator.clipboard.writeText(e);const t={id:1,severity:"none",summary:e+" copied to clipboard",autoTimeout:3e3};(0,o.createNotification)(t)},x=e=>__awaiter(this,void 0,void 0,(function*(){(0,l.showAssetManagerRoute)({assetWatchlistEditorHidden:!1});let t=yield g.getNeoTransaction(e.txid);console.log("aeest-transactions > showAddAssetToWatchList",t),f.seletedTransaction.value={txDetail:t,transaction:e,transactionType:"add",watchlist:[]}})),_=e=>__awaiter(this,void 0,void 0,(function*(){var t;(0,l.showAssetManagerRoute)({assetWatchlistEditorHidden:!1});let a=yield g.getNeoTransaction(e.txid);f.seletedTransaction.value={txDetail:a,transaction:e,transactionType:"edit",watchlist:null===(t=m.watchlist)||void 0===t?void 0:t.filter((t=>t.id===e.id))}}));return(0,t.jsxs)("div",Object.assign({hidden:e},{children:[(0,t.jsxs)("div",Object.assign({class:"oj-flex oj-sm-padding-5x-start oj-sm-padding-5x-end oj-sm-padding-2x-top"},{children:[(0,t.jsxs)("div",Object.assign({class:"oj-flex oj-flex-item"},{children:[(0,t.jsx)("div",{style:{width:"5px",height:"27px",backgroundColor:(p.walletColor?new u(p.walletColor):s.BLACK).toString()}}),(0,t.jsxs)("div",Object.assign({class:"oj-sm-padding-1x-top oj-sm-padding-1x-start oj-sm-padding-2x-end"},{children:[p.name," > "]})),(0,t.jsx)("img",{src:`styles/images/${m.asset_name}.svg`,class:"card-small-token"}),(0,t.jsx)("div",Object.assign({class:"oj-sm-padding-1x-top oj-sm-padding-0x-start oj-sm-padding-2x-end"},{children:m.asset_name}))]})),(0,t.jsxs)("div",Object.assign({class:"oj-sm-flex-initial oj-flex-item "},{children:[m.transactions.length," ",m.transactions.length>1?"transactions":1===m.transactions.length?"transaction":""]}))]})),(0,t.jsx)("div",{children:(0,t.jsx)("oj-list-view",Object.assign({id:"lvTransactions","aria-label":"transactions",data:v,gridlines:{item:"visible"},class:"oj-sm-padding-1x",selectionMode:"none"},{children:(0,t.jsx)("template",{slot:"itemTemplate","data-oj-as":"item",render:e=>{var a,s;return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",Object.assign({class:"oj-flex oj-flex oj-text-primary-color oj-typography-body-md"},{children:[(0,t.jsx)("img",{src:`styles/images/${e.data.symbol}.svg`,class:" card-small-token"}),(0,t.jsxs)("div",Object.assign({class:"oj-flex-item",style:{width:"200px"}},{children:[e.data.value,(0,t.jsx)("span",{class:"oj-md-padding-2x-start oj-ux-ico-clipboard-add clipboard-action",title:"copy price to clipboard",onClick:()=>y(e.data.value)})]})),e.data.value>0?(0,t.jsxs)("div",Object.assign({class:"oj-flex-item oj-flex"},{children:[(0,t.jsx)("img",{src:"styles/images/fUSDT.svg",class:"card-small-token"}),(0,t.jsx)("div",{children:j.format(parseFloat(e.data.value)*w)})]})):(0,t.jsx)(t.Fragment,{}),(0,t.jsxs)("div",Object.assign({class:"oj-sm-flex-initial oj-flex-item oj-flex oj-text-secondary-color"},{children:[(0,t.jsx)("span",{class:"oj-ux-ico-bookmark clipboard-action",title:"add to watch list",hidden:"sent"===e.data.type||(null===(a=m.watchlist)||void 0===a?void 0:a.filter((t=>t.id===e.data.id)).length)>0,onClick:()=>x(e.data)}),(0,t.jsx)("span",{class:"oj-ux-ico-bookmark-selected clipboard-action",title:"remove from watch list",hidden:1!==(null===(s=m.watchlist)||void 0===s?void 0:s.filter((t=>t.id===e.data.id)).length),onClick:()=>_(e.data)})]}))]})),(0,t.jsxs)("div",Object.assign({class:"oj-md-padding-6x-start oj-md-margin-1x-top oj-text-secondary-color oj-typography-body-sm"},{children:["sent"===e.data.type?"sent to ":"recieved from ",(0,t.jsxs)("span",Object.assign({class:"clipboard-action tx-address",title:"peek into address",onClick:()=>{return t="sent"===e.data.type?e.data.to[0]:e.data.from[0],(0,l.showAssetManagerRoute)({walletPeekHidden:!1}),void(d.seletedAddress.value=t);var t}},{children:[(0,t.jsx)("span",{class:"oj-ux-ico-wallet oj-md-margin-1x-end oj-md-margin-1x-top"}),"sent"===e.data.type?(0,n.addressFormat)(e.data.to[0]):(0,n.addressFormat)(e.data.from[0])]})),(0,t.jsx)("span",{class:"oj-md-padding-2x-start oj-sm-padding-2x-top  oj-ux-ico-clipboard-add clipboard-action",title:"copy address to clipboard",onClick:()=>y("sent"===e.data.type?e.data.to[0]:e.data.from[0])})]})),(0,t.jsxs)("div",Object.assign({class:"oj-md-padding-6x-start oj-md-margin-1x-top oj-text-secondary-color oj-typography-body-sm"},{children:[h(1e3*e.data.block_time)," (",new Date(1e3*e.data.block_time).toISOString(),")"]}))]})}})}))})]}))},e.getTimeInterval=h})),define("dashboard/wallet-peek/loader",["require","exports","./wallet-peek"],(function(require,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WalletPeek=void 0,Object.defineProperty(e,"WalletPeek",{enumerable:!0,get:function(){return t.WalletPeek}})})),define("dashboard/wallet-manager/asset-manager",["require","exports","preact/jsx-runtime","./asset-transactions","@preact/signals","./asset-watchlist","dashboard/wallet-peek/loader"],(function(require,e,t,a,s,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AssetManager=e.showAssetManagerRoute=void 0;const i={assetTransactionsHidden:!0,walletPeekHidden:!0,assetWatchlistEditorHidden:!0},o=(0,s.signal)({assetTransactionsHidden:!1,walletPeekHidden:!0,assetWatchlistEditorHidden:!0});function r(e){console.log("asset-manager > showAssetManagerRoute",e),o.value=Object.assign(Object.assign({},i),e)}e.showAssetManagerRoute=r,e.AssetManager=function({transactions:e}){function s(){r({assetTransactionsHidden:!1})}return console.log("asset-manager > render"),(0,t.jsxs)("div",{children:[(0,t.jsx)(a.AssetTransactions,{transactions:e,hidden:o.value.assetTransactionsHidden}),(0,t.jsx)("dashboard-wallet-peek",{navigateBack:s,hiddenRoot:o.value.walletPeekHidden}),(0,t.jsx)(n.AssetWatchlistEditor,{navigateBack:s,hidden:o.value.assetWatchlistEditorHidden})]})}}));__awaiter=this&&this.__awaiter||function(e,t,a,s){return new(a||(a=Promise))((function(n,i){function o(e){try{l(s.next(e))}catch(e){i(e)}}function r(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,r)}l((s=s.apply(e,t||[])).next())}))};define("dashboard/wallet-manager/wallet-manager",["require","exports","preact/jsx-runtime","ojs/ojvcomponent","@preact/signals","ojs/ojcolor","./asset-card","./wallet-lib","./wallet-list","./wallet-charts","./wallet-editor","dashboard/price-list/price-list","dashboard/notifications-layer/notifications-layer","ojs/ojcolor","./asset-manager","dashboard/flamingo-api/indexdb/transactionsDbService","./form-elements","css!dashboard/wallet-manager/wallet-manager-styles.css","ojs/ojchart","ojs/ojactioncard","ojs/ojcolorspectrum","ojs/ojlistview","ojs/ojlistitemlayout","ojs/ojinputtext","ojs/ojbutton","ojs/ojformlayout","ojs/ojvalidationgroup","ojs/ojpopup","ojs/ojdrawerpopup"],(function(require,e,t,a,s,n,i,o,r,l,d,c,u,f,m,g,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getWallet=e.WalletManager=e.refreshCurrentSelectedAssetTransactions=e.walletAssetTotals=e.walletsMetadata=e.wallets=e.walletsRaw=e.selectedTags=e.tagsAsArray=e.tags=void 0;const p=(0,s.signal)(void 0),v=(0,s.signal)(void 0);new Map;e.tags=(0,s.signal)(new Set),e.tagsAsArray=(0,s.computed)((()=>Array.from(e.tags.value).map((e=>({name:e,value:e})))));let j=(0,o.getSelectedTagsFromStorage)();function b(t,a){const s=(0,o.loadWalletsFromStorage)();console.log(`wallet-manager > updateWallets ${s.length}`),(t||s&&s.length>0)&&(e.walletsRaw.value=s,a&&a())}function w(e=1e3){setTimeout(b,e)}e.selectedTags=(0,s.signal)(j),e.walletsRaw=(0,s.signal)([]),e.wallets=(0,s.computed)((()=>{if(0===e.selectedTags.value.length)return e.walletsRaw.value;let t=e.walletsRaw.value.filter((t=>{var a=!1;return t.tags.forEach((t=>{e.selectedTags.value.includes(t)&&(a=!0)})),a}));return console.log("wallet-manager > wallets > computed"),t})),e.walletsMetadata=(0,s.signal)(new Map),e.walletAssetTotals=(0,s.signal)([]),e.refreshCurrentSelectedAssetTransactions=function(){return __awaiter(this,void 0,void 0,(function*(){if(v.value.assetId){(0,c.stopPriceRefreshTimer)(),p.value={transactions:[],watchlist:[],asset_name:v.value.asset_name,assetId:v.value.assetId,walletAddress:v.value.walletAddress};var e=yield(0,o.getN3AssetTxs)(v.value.walletAddress,v.value.assetId),t=yield g.default.getTransactions(v.value.asset_name);p.value={transactions:e,watchlist:t,asset_name:v.value.asset_name,assetId:v.value.assetId,walletAddress:v.value.walletAddress}}}))},e.WalletManager=(0,a.registerCustomElement)("dashboard-wallet-manager",(function(){const a=(0,s.useSignal)([]),j=(0,s.useSignal)([]),y=(0,s.useSignal)([]),x=(0,s.useSignal)([]),_=(0,s.useSignal)([]),T=(0,s.useSignal)([]),A=(0,s.useSignal)([]),O=(0,s.useSignal)([]),N=(0,s.useSignal)([]),S=(0,s.useSignal)([]),E=(0,s.useSignal)([]),k=(0,s.useSignal)([]);function C(){const e=document.getElementById("lvWallets"),t=document.getElementById("wcol"),a=document.getElementById("wg");return{wcol:t,wn:document.getElementById("wn"),wdn:document.getElementById("wdn"),wpk:document.getElementById("wpk"),wk:document.getElementById("wk"),tracker:document.getElementById("tracker"),lvw:e,we:document.getElementById("walletEditor"),wg:a,wt:document.getElementById("wt"),de:document.getElementById("de"),dat:document.getElementById("dat")}}function D(){const e=C();e.wn.value="",e.wdn.value="",e.wpk.value="",e.wk.value=o.KEY,h.bcrHidden.value=!1,h.bclrHidden.value=!1,h.buHidden.value=!0,h.bcloHidden.value=!1,e.wcol.value=n.BLACK,e.wg.value=0,e.wt.value=[]}function L(){const e=C();D(),e.we.hidden=!0,h.bawHidden.value=!1,e.de.opened=!1,(0,c.startPriceRefreshTimer)()}function I(){const e=C();return"valid"===e.tracker.valid||(e.tracker.showMessages(),e.tracker.focusOn("@firstInvalidShown"),!1)}function W(e,t,a,s){return __awaiter(this,void 0,void 0,(function*(){if(a){v.value={walletAddress:e,asset_name:t,assetId:a};C().dat.opened=!0,(0,c.stopPriceRefreshTimer)(),p.value={transactions:[],watchlist:[],asset_name:t,assetId:a,walletAddress:e};var s=yield(0,o.getN3AssetTxs)(e,a),n=yield g.default.getTransactions(t);p.value={transactions:s,watchlist:n,asset_name:t,assetId:a,walletAddress:e},console.log("wallet-manager > assetSelected",n,p.value)}}))}function F(){return __awaiter(this,void 0,void 0,(function*(){a.value=[],j.value=[],y.value=[],x.value=[],_.value=[],T.value=[],A.value=[],N.value=[],O.value=[],S.value=[],E.value=[],k.value=[],e.walletsMetadata.value.clear(),e.walletAssetTotals.value=[],console.log("wallet-manager > refreshAllWalletBalances",e.wallets);for(let t=0;t<e.wallets.value.length;t++){const s=e.wallets.value[t],n=s.publicKey?s.publicKey:s.accounts[0].label;let i;false,void 0===i&&(i=yield(0,o.getN3AddressBalances)(n));let r=0;i.forEach((e=>{var t,i,o,l,d,u,f,m,g,h,p,v;if(c.prices.value&&e.balance&&"0"!==e.balance){let b=c.prices.value.find((t=>t.symbol===e.symbol));switch(e.symbol){case"USDT":j.value=[...j.value,Object.assign(Object.assign({},e),{walletAddress:n,walletName:null!==(t=s.displayName)&&void 0!==t?t:s.name,walletColor:s.walletColor})];break;case"fUSDT":a.value=[...a.value,Object.assign(Object.assign({},e),{walletAddress:n,walletName:null!==(i=s.displayName)&&void 0!==i?i:s.name,walletColor:s.walletColor})];break;case"FUSD":y.value=[...y.value,Object.assign(Object.assign({},e),{walletAddress:n,walletName:null!==(o=s.displayName)&&void 0!==o?o:s.name,walletColor:s.walletColor})];break;case"NEO":x.value=[...x.value,Object.assign(Object.assign({},e),{walletAddress:n,walletName:null!==(l=s.displayName)&&void 0!==l?l:s.name,walletColor:s.walletColor})],b=c.prices.value.find((e=>"bNEO"===e.symbol));break;case"bNEO":_.value=[..._.value,Object.assign(Object.assign({},e),{walletAddress:n,walletName:null!==(d=s.displayName)&&void 0!==d?d:s.name,walletColor:s.walletColor})],b=c.prices.value.find((e=>"bNEO"===e.symbol));break;case"GAS":T.value=[...T.value,Object.assign(Object.assign({},e),{walletAddress:n,walletName:null!==(u=s.displayName)&&void 0!==u?u:s.name,walletColor:s.walletColor})];break;case"FLM":A.value=[...A.value,Object.assign(Object.assign({},e),{walletAddress:n,walletName:null!==(f=s.displayName)&&void 0!==f?f:s.name,walletColor:s.walletColor})];break;case"fWBTC":O.value=[...O.value,Object.assign(Object.assign({},e),{walletAddress:n,walletName:null!==(m=s.displayName)&&void 0!==m?m:s.name,walletColor:s.walletColor})];break;case"WBTC":N.value=[...N.value,Object.assign(Object.assign({},e),{walletAddress:n,walletName:null!==(g=s.displayName)&&void 0!==g?g:s.name,walletColor:s.walletColor})];break;case"fWETH":S.value=[...S.value,Object.assign(Object.assign({},e),{walletAddress:n,walletName:null!==(h=s.displayName)&&void 0!==h?h:s.name,walletColor:s.walletColor})];break;case"WETH":E.value=[...E.value,Object.assign(Object.assign({},e),{walletAddress:n,walletName:null!==(p=s.displayName)&&void 0!==p?p:s.name,walletColor:s.walletColor})];break;case"FLUND":k.value=[...k.value,Object.assign(Object.assign({},e),{walletAddress:n,walletName:null!==(v=s.displayName)&&void 0!==v?v:s.name,walletColor:s.walletColor})];break;default:console.log(e.symbol)}const w=b?b.usd_price:0;r+=parseFloat(e.balance)*w}})),e.walletsMetadata.value.set(s.name,{runningWalletTotalInUsd:r,goal:s.goal});const l=[];function d(e,t){const a=c.prices.value.find((t=>t.symbol===e)),s=a?a.usd_price:0,n=null==t?void 0:t.reduce(((e,t)=>e+(t.balance?parseFloat(t.balance)*s:0)),0);return l.push({id:l.length,seriesId:e,groupId:"0",value:n}),l.push({id:l.length,seriesId:e,groupId:"1",value:n}),null!=n?n:0}d("FUSD",y.value),d("fUSDT",a.value),d("USDT",j.value),d("GAS",T.value),d("bNEO",_.value),d("NEO",x.value),d("FLM",A.value),d("fWBTC",O.value),d("WBTC",N.value),d("fWETH",S.value),d("WETH",E.value),d("FLUND",k.value),e.walletAssetTotals.value=l}!function(){__awaiter(this,void 0,void 0,(function*(){console.log("wallet-manager > refreshAllTags",e.wallets);const t=new Set;for(let a=0;a<e.walletsRaw.value.length;a++)e.walletsRaw.value[a].tags.forEach((e=>t.add(e)));e.tags.value=t}))}()}))}function P(){D()
;const e=C();e.we.hidden=!1,h.tdnHidden.value=!0,h.bawHidden.value=!0,e.de.opened=!0,h.tbnDisabled.value=!1,(0,c.stopPriceRefreshTimer)()}return(0,s.useSignalEffect)((()=>{c.prices.value&&c.prices.value.length>0&&(console.log("wallet-manager > useSignalEffect > prices changed"),console.log("wallet-manager > useSignalEffect > wallets changed"),b(!1,(()=>{console.log("wallet-manager > useSignalEffect > updateWallets > callback"),F(),(0,r.refreshLastUpdatedTime)(Date.now());C();h.brbHidden.value=0===e.wallets.value.length})))})),(0,t.jsxs)("div",{children:[(0,t.jsx)("oj-drawer-popup",Object.assign({id:"dat",edge:"end",class:"drawerAssetTransactions",onojBeforeClose:L,onopenedChanged:e=>{!0===e.detail.value&&(0,m.showAssetManagerRoute)({assetTransactionsHidden:!1})}},{children:(0,t.jsx)("div",{children:(0,t.jsx)(m.AssetManager,{transactions:p.value})})})),(0,t.jsx)("oj-drawer-popup",Object.assign({id:"de",edge:"start",class:"drawerEditor",onojBeforeClose:L},{children:(0,t.jsx)(d.WalletEditor,{tryCreate:function(){var e;if(I()){const t=C();t.wn.value&&t.wpk.value&&t.wk.value&&((0,o.addWalletToStorage)(t.wn.value,t.wpk.value,t.wk.value,t.wg.value,null===(e=t.wcol.value)||void 0===e?void 0:e.toString(),t.wt.value),L(),w(1e3),function(e=1e3){setTimeout((()=>{F()}),e)}(2e3),h.brbHidden.value=!1)}},tryUpdate:function(){var e;const t=C();I()&&t.wn.value&&t.wn.value&&((0,o.updateWalletToStorage)(t.wn.value,t.wpk.value,t.wg.value,null===(e=t.wcol.value)||void 0===e?void 0:e.toString(),t.wt.value,t.wdn.value),L(),w())},clear:D,close:L,showAddWallet:P,refreshAllWalletBalances:F})})),(0,t.jsx)(r.WalletList,{wallets:e.wallets.value,walletsMetadata:e.walletsMetadata.value,walletSelected:function(e){return __awaiter(this,void 0,void 0,(function*(){const t=C();if(null===e.detail.items)return D(),t.we.hidden=!0,void(h.bawHidden.value=!1)}))},tryDeleteWallet:function(e){const t=e.srcElement.attributes["row-data"].value;(0,o.deleteWalletFromStorage)(t);const a={id:1,severity:"none",summary:`wallet "${t}" deleted`,autoTimeout:3e3};(0,u.createNotification)(a),b(!0)},showAddWallet:P,showEditWallet:function(t){var a;const s=t.srcElement.attributes["row-data"].value,i=e.wallets.value.find((e=>e.name===s));if(i){const e=i.accounts[0],t=C();console.log("wallet-manager > showEditWallet",i),t.we.hidden=!1,t.wn.value=i.name,h.tdnHidden.value=!1,t.wdn.value=null!==(a=i.displayName)&&void 0!==a?a:i.name,t.wpk.value=i.publicKey?i.publicKey:e._WIF,t.wg.value=i.goal,t.wcol.value=i.walletColor?new f(i.walletColor):n.BLACK,h.bcrHidden.value=!0,h.bclrHidden.value=!0,h.buHidden.value=!1,h.bcloHidden.value=!1,h.bawHidden.value=!0,t.wt.value=i.tags,t.de.opened=!0,h.tbnDisabled.value=!0,(0,c.stopPriceRefreshTimer)()}},refreshAllWalletBalances:F}),(0,t.jsx)(l.WalletCharts,{chartData:e.walletAssetTotals.value}),(0,t.jsxs)("div",Object.assign({class:"oj-flex oj-sm-margin-7x-start oj-sm-margin-7x-end oj-sm-margin-5x-top"},{children:[(0,t.jsx)(i.AssetCard,{wassetName:"FUSD",wasset:y.value,prices:c.prices.value,onCardSelected:W}),(0,t.jsx)(i.AssetCard,{wassetName:"fUSDT",wasset:a.value,prices:c.prices.value,onCardSelected:W}),(0,t.jsx)(i.AssetCard,{wassetName:"USDT",wasset:j.value,prices:c.prices.value,onCardSelected:W}),(0,t.jsx)(i.AssetCard,{wassetName:"FLM",wasset:A.value,prices:c.prices.value,onCardSelected:W}),(0,t.jsx)(i.AssetCard,{wassetName:"FLUND",wasset:k.value,prices:c.prices.value,onCardSelected:W}),(0,t.jsx)(i.AssetCard,{wassetName:"bNEO",wasset:_.value,prices:c.prices.value,onCardSelected:W}),(0,t.jsx)(i.AssetCard,{wassetName:"NEO",wasset:x.value,prices:c.prices.value,onCardSelected:W}),(0,t.jsx)(i.AssetCard,{wassetName:"GAS",wasset:T.value,prices:c.prices.value,onCardSelected:W}),(0,t.jsx)(i.AssetCard,{wassetName:"fWBTC",wasset:O.value,prices:c.prices.value,onCardSelected:W}),(0,t.jsx)(i.AssetCard,{wassetName:"WBTC",wasset:N.value,prices:c.prices.value,onCardSelected:W}),(0,t.jsx)(i.AssetCard,{wassetName:"fWETH",wasset:S.value,prices:c.prices.value,onCardSelected:W}),(0,t.jsx)(i.AssetCard,{wassetName:"WETH",wasset:E.value,prices:c.prices.value,onCardSelected:W})]}))]})}),"WalletManager"),e.getWallet=function(t){for(let a=0;a<e.wallets.value.length;a++){const s=e.wallets.value[a];if(s.publicKey===t)return s}}})),define("dashboard/risk-profile/chart-item",["require","exports","preact/jsx-runtime","ojs/ojarraydataprovider"],(function(require,e,t,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ChartItem=void 0,e.ChartItem=function(e){const s=new a(e.data,{keyAttributes:"id"});return(0,t.jsxs)("div",{children:[(0,t.jsx)("oj-chart",Object.assign({id:e.id,type:e.chartType,data:s,orientation:e.orientation,"animation-on-display":"auto","animation-on-data-change":"auto",legend:{rendered:"off"},style:e.style},{children:(0,t.jsx)("template",{slot:"itemTemplate","data-oj-as":"item",render:e=>(0,t.jsx)("oj-chart-item",{value:e.data.value,groupId:e.data.groupId,seriesId:e.data.seriesId})})})),(0,t.jsx)("div",Object.assign({style:"text-align:center"},{children:e.title}))]})}})),define("dashboard/risk-profile/risk-profile",["require","exports","preact/jsx-runtime","ojs/ojvcomponent","dashboard/wallet-manager/wallet-manager","@preact/signals","./chart-item","css!dashboard/risk-profile/risk-profile-styles.css"],(function(require,e,t,a,s,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RiskProfile=void 0,e.RiskProfile=(0,a.registerCustomElement)("dashboard-risk-profile",(function(e){const a=(0,n.useSignal)([]),o=(0,n.useSignal)([]),r=(0,n.useSignal)([]),l=(0,n.useSignal)([]),d=(0,n.useSignal)([]),c="width:257px; height:200px;";return(0,n.useSignalEffect)((()=>{var t;if(s.walletAssetTotals.value){const n=null===(t=s.walletAssetTotals.value)||void 0===t?void 0:t.filter((e=>"0"===e.groupId[0])),i=null==n?void 0:n.filter((t=>e.stables.includes(t.seriesId.toString()))),c=null==n?void 0:n.filter((t=>e.high.includes(t.seriesId.toString()))),u=null==n?void 0:n.filter((t=>e.medium.includes(t.seriesId.toString()))),f=null==n?void 0:n.filter((t=>e.low.includes(t.seriesId.toString()))),m=[],g=i.reduce(((e,t)=>e+t.value),0),h=f.reduce(((e,t)=>e+t.value),0),p=u.reduce(((e,t)=>e+t.value),0),v=c.reduce(((e,t)=>e+t.value),0);m.push({id:1,value:g,seriesId:["Stables"],groupId:["0"]}),m.push({id:2,value:h,seriesId:["Low"],groupId:["0"]}),m.push({id:3,value:p,seriesId:["Medium"],groupId:["0"]}),m.push({id:4,value:v,seriesId:["High"],groupId:["0"]}),console.log("risk-profile > useSignalEffect > walletAssetTotals.value",i.length,c,u,f),a.value=i,o.value=c,r.value=u,l.value=f,d.value=m}})),(0,t.jsxs)("div",Object.assign({className:"oj-flex oj-sm-margin-7x-start oj-sm-margin-7x-end oj-md-margin-6x-top"},{children:[(0,t.jsx)("div",Object.assign({style:c,className:"oj-flex-item"},{children:(0,t.jsx)(i.ChartItem,{id:"stables",title:"Stables (Near zero risk)",data:a.value,style:c,chartType:"pyramid"})})),(0,t.jsx)("div",Object.assign({style:c,className:"oj-flex-item"},{children:(0,t.jsx)(i.ChartItem,{id:"low",title:"Low Risk",data:l.value,style:c,chartType:"pyramid"})})),(0,t.jsx)("div",Object.assign({style:c,className:"oj-flex-item"},{children:(0,t.jsx)(i.ChartItem,{id:"medium",title:"Medium Risk",data:r.value,style:c,chartType:"pyramid"})})),(0,t.jsx)("div",Object.assign({style:c,className:"oj-flex-item"},{children:(0,t.jsx)(i.ChartItem,{id:"high",title:"High Risk",data:o.value,style:c,chartType:"pyramid"})})),(0,t.jsx)("div",Object.assign({style:"width:1000px; height:400px;",className:"oj-flex-item oj-lg-padding-8x-top"},{children:(0,t.jsx)(i.ChartItem,{id:"total",title:"",data:d.value,style:"width:1000px; height:400px;",chartType:"funnel",orientation:"horizontal"})}))]}))}),"RiskProfile",{properties:{low:{type:"Array<string>"},medium:{type:"Array<string>"},high:{type:"Array<string>"},stables:{type:"Array<string>"}}})})),define("dashboard/risk-profile/loader",["require","exports","./risk-profile"],(function(require,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RiskProfile=void 0,Object.defineProperty(e,"RiskProfile",{enumerable:!0,get:function(){return t.RiskProfile}})}));
//# sourceMappingURL=loader.js.map;

define('css!dashboard/bitrue-tools/bitrue-tools-styles',[],function(){});
var __awaiter=this&&this.__awaiter||function(t,e,o,r){return new(o||(o=Promise))((function(n,s){function a(t){try{c(r.next(t))}catch(t){s(t)}}function i(t){try{c(r.throw(t))}catch(t){s(t)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof o?e:new o((function(t){t(e)}))).then(a,i)}c((r=r.apply(t,e||[])).next())}))};define("dashboard/bitrue-tools/bitrue-tools",["require","exports","preact/jsx-runtime","ojs/ojvcomponent","@cityofzion/neon-core","css!dashboard/bitrue-tools/bitrue-tools-styles.css"],(function(require,t,e,o,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createFlamingoSwap=t.BitrueTools=void 0;const n="0xf970f4ccecd765b63732b821775dc38c25d74f23",s=new r.rpc.RPCClient("https://rpc2.n3.nspcc.ru:10331");t.BitrueTools=(0,o.registerCustomElement)("dashboard-bitrue-tools",(function({message:t="."}){return console.log("xxx rpc",s),(0,e.jsx)("p",{children:t})}),"BitrueTools",{properties:{message:{type:"string"}}},{message:"."}),t.createFlamingoSwap=function(t,e,o,a,i,c){return __awaiter(this,void 0,void 0,(function*(){const u=[n,t],l={type:"Array",value:[{type:"Hash160",value:t},{type:"Hash160",value:e}]},d=[r.sc.ContractParam.hash160(i),r.sc.ContractParam.integer(o),r.sc.ContractParam.integer(a),r.sc.ContractParam.fromJson(l),r.sc.ContractParam.integer((new Date).getTime()+6e4)];return function(t,e,o,n,a,i){return __awaiter(this,void 0,void 0,(function*(){const c=r.sc.createScript({scriptHash:t,operation:e,args:o}),u=yield s.getBlockCount(),l=new r.tx.Transaction({signers:[{account:n,scopes:r.tx.WitnessScope.CustomContracts,allowedContracts:i}],validUntilBlock:u+10,script:c});return console.debug(`Transaction created: contractHash=${t}, operation=${e}, params=${JSON.stringify(o)}, account=${a}`),l}))}(n,"swapTokenInForTokenOut",d,c,i,u)}))}})),define("dashboard/bitrue-tools/loader",["require","exports","./bitrue-tools"],(function(require,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BitrueTools=void 0,Object.defineProperty(t,"BitrueTools",{enumerable:!0,get:function(){return e.BitrueTools}})}));
//# sourceMappingURL=loader.js.map;
define('components/content/index',["require", "exports", "preact/jsx-runtime", "dashboard/wallet-manager/loader", "dashboard/price-list/loader", "dashboard/ratio-list/loader", "dashboard/notifications-layer/loader", "dashboard/bot-maintainer/loader", "dashboard/wallet-peek/loader", "dashboard/watch-list/loader", "dashboard/flamingo-api/loader", "dashboard/risk-profile/loader", "dashboard/bitrue-tools/loader"], function (require, exports, jsx_runtime_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Content = void 0;
    function Content() {
        return ((0, jsx_runtime_1.jsxs)("div", Object.assign({ class: "oj-web-applayout-max-width oj-web-applayout-content" }, { children: [(0, jsx_runtime_1.jsxs)("div", Object.assign({ className: "oj-flex" }, { children: [(0, jsx_runtime_1.jsxs)("div", Object.assign({ class: "first-column-content" }, { children: [(0, jsx_runtime_1.jsx)("dashboard-bitrue-tools", {}), (0, jsx_runtime_1.jsx)("dashboard-price-list", { pricesToShow: ['WBTC', 'WETH', 'FLM', 'FLUND', 'bNEO', 'NEO', 'GAS', 'FUSD', 'USDT'] }), (0, jsx_runtime_1.jsx)("dashboard-ratio-list", { ratiosToShow: ['bNEO/WBTC', 'FLM/WBTC', 'GAS/WBTC', 'FLM/bNEO|170/200', 'GAS/bNEO', 'FLM/GAS'] }), (0, jsx_runtime_1.jsx)("dashboard-watch-list", {})] })), (0, jsx_runtime_1.jsxs)("div", Object.assign({ class: "oj-flex-item wallet-manager-content" }, { children: [(0, jsx_runtime_1.jsx)("dashboard-wallet-manager", {}), (0, jsx_runtime_1.jsx)("dashboard-bot-maintainer", {}), (0, jsx_runtime_1.jsx)("dashboard-risk-profile", { high: ['FLM', 'FLUND', 'GAS'], medium: ['NEO', 'bNEO', 'WETH'], low: ['WBTC'], stables: ['FUSD', 'USDT'] })] }))] })), (0, jsx_runtime_1.jsx)("dashboard-notifications-layer", {})] })));
    }
    exports.Content = Content;
    ;
});

define('components/app',["require", "exports", "preact/jsx-runtime", "ojs/ojvcomponent", "preact/hooks", "./content/index", "ojs/ojcontext", "dashboard/flamingo-api/indexdb/indexDbService"], function (require, exports, jsx_runtime_1, ojvcomponent_1, hooks_1, index_1, Context, indexDbService_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.App = void 0;
    exports.App = (0, ojvcomponent_1.registerCustomElement)("app-root", ({ appName = "App Name" }) => {
        (0, hooks_1.useEffect)(() => {
            indexDbService_1.default.bootstrapOfflineStorage(true, () => { });
            Context.getPageContext().getBusyContext().applicationBootstrapComplete();
        }, []);
        return ((0, jsx_runtime_1.jsx)("div", Object.assign({ id: "appContainer", class: "oj-web-applayout-page" }, { children: (0, jsx_runtime_1.jsx)(index_1.Content, {}) })));
    }, "App", { "properties": { "appName": { "type": "string" } } }, { "appName": "App Name" });
});

define('index',["require","exports","./components/app"],(function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})}));
/**
 * @license
 * Copyright (c) 2014, 2023, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
requirejs.config({baseUrl:".",paths:{"@preact/signals":"libs/@preact/signals/signals","@preact/signals-core":"libs/@preact/signals-core/signals-core",axios:"libs/axios/dist/axios.min","@cityofzion/neon-js":"libs/cityofzion/neon-js/dist/browser","@cityofzion/neon-js-neo3":"libs/cityofzion/neon-js-neo3/dist/browser","@cityofzion/neon-core":"libs/cityofzion/neon-core/dist/browser","@cityofzion/neon-core-neo3":"libs/cityofzion/neon-core-neo3/dist/browser","@cityofzion/neon-api":"libs/cityofzion/neon-api/dist/browser",knockout:"libs/knockout/knockout-3.5.1",jquery:"libs/jquery/jquery-3.6.4.min","jqueryui-amd":"libs/jquery/jqueryui-amd-1.13.2.min",hammerjs:"libs/hammer/hammer-2.0.8.min",ojdnd:"libs/dnd-polyfill/dnd-polyfill-1.0.2.min",ojs:"libs/oj/15.1.9/min",ojL10n:"libs/oj/15.1.9/ojL10n",ojtranslations:"libs/oj/15.1.9/resources","@oracle/oraclejet-preact":"libs/oraclejet-preact/amd","oj-c":"libs/packs/oj-c/min",persist:"libs/persist/min",text:"libs/require/text",signals:"libs/js-signals/signals.min",touchr:"libs/touchr/touchr",preact:"libs/preact/dist/preact.umd","preact/hooks":"libs/preact/hooks/dist/hooks.umd","preact/compat":"libs/preact/compat/dist/compat.umd","preact/jsx-runtime":"libs/preact/jsx-runtime/dist/jsxRuntime.umd","preact/debug":"libs/preact/debug/dist/debug.umd","preact/devtools":"libs/preact/devtools/dist/devtools.umd",proj4:"libs/proj4js/dist/proj4",css:"libs/require-css/css.min",ojcss:"libs/oj/15.1.9/min/ojcss","ojs/ojcss":"libs/oj/15.1.9/min/ojcss","css-builder":"libs/require-css/css-builder",normalize:"libs/require-css/normalize","ojs/normalize":"libs/require-css/normalize",components:"components",dashboard:"components/dashboard/1.0.0/min"}}),require(["./index"]);
define("bundle-temp", function(){});


(function(c){var d=document,a='appendChild',i='styleSheet',s=d.createElement('style');s.type='text/css';d.getElementsByTagName('head')[0][a](s);s[i]?s[i].cssText=c:s[a](d.createTextNode(c));})
('/* This file is where css selectors for the component go.\n   There will be hard coded properties and properties controlled by variables, for example\n\n   dashboard-wallet-manager .dashboard-wallet-manager-value-text {\n   color: var(--dashboard-wallet-manager-value-text-color);\n   display: inline-block;\n\t }\n*/\n\ndashboard-wallet-manager:not(.oj-complete){\n  visibility: hidden;\n}\n\ndashboard-wallet-manager{\n\tmin-height: 50px;\n\twidth: 50px;\n}\n\ndashboard-wallet-manager[hidden]\n{\n  display: none;\n}\n.card-asset {\n  width: 30rem;\n}\n.card-wasset {\n  text-align: left;\n  width: 8rem;\n}\n.card-token {\n  width:40px;\n  margin-right: 5px;\n}\n.card-small-token {\n  width:20px;\n  margin-right: 5px;\n}\n\n.oj-popup-content {\n  padding: 0 !important;\n}\n\n.tag-item {\n  background-color: gray;\n  padding-left: 3px;\n  padding-right: 3px;\n  color: white;\n  margin-right: 2px;\n}\n\n.drawerEditor{\n  width: 550px;\n}\n\n.drawerAssetTransactions{\n  width: 550px;\n}\n\n#lilFooter {\n  --oj-core-gutter-start: 7px !important;\n}\n\n.clipboard-action {\n  cursor:pointer;\n}\n.tx-address {\n  font-weight: bold;\n}\n\n.nx-wallet-list {\n  width: 67.5rem;\n  height: 28.5rem;\n  overflow-x: hidden;\n}/* This file is where css selectors for the component go.\n   There will be hard coded properties and properties controlled by variables, for example\n\n   dashboard-price-list .dashboard-price-list-value-text {\n   color: var(--dashboard-price-list-value-text-color);\n   display: inline-block;\n\t }\n*/\n\ndashboard-price-list:not(.oj-complete){\n  visibility: hidden;\n}\n\ndashboard-price-list[hidden]\n{\n  display: none;\n}\n\n.token {\n  width:42px;\n  margin-right: 5px;\n}/* This file is where css selectors for the component go.\n   There will be hard coded properties and properties controlled by variables, for example\n\n   dashboard-notifications-layer .dashboard-notifications-layer-value-text {\n   color: var(--dashboard-notifications-layer-value-text-color);\n   display: inline-block;\n\t }\n*/\n\ndashboard-notifications-layer:not(.oj-complete){\n  visibility: hidden;\n}\n\ndashboard-notifications-layer{\n\tmin-height: 50px;\n\twidth: 50px;\n}\n\ndashboard-notifications-layer[hidden]\n{\n  display: none;\n}/* This file is where css selectors for the component go.\n   There will be hard coded properties and properties controlled by variables, for example\n\n   dashboard-wallet-peek .dashboard-wallet-peek-value-text {\n   color: var(--dashboard-wallet-peek-value-text-color);\n   display: inline-block;\n\t }\n*/\n\ndashboard-wallet-peek:not(.oj-complete){\n  visibility: hidden;\n}\n\ndashboard-wallet-peek{\n\tmin-height: 50px;\n\twidth: 50px;\n}\n\ndashboard-wallet-peek[hidden]\n{\n  display: none;\n}/* This file is where css selectors for the component go.\n   There will be hard coded properties and properties controlled by variables, for example\n\n   dashboard-watch-list .dashboard-watch-list-value-text {\n   color: var(--dashboard-watch-list-value-text-color);\n   display: inline-block;\n\t }\n*/\n\ndashboard-watch-list:not(.oj-complete){\n  visibility: hidden;\n}\n\ndashboard-watch-list{\n\tmin-height: 50px;\n\twidth: 50px;\n}\n\ndashboard-watch-list[hidden]\n{\n  display: none;\n}\n.profit-above-goal {\n  background-color: green;\n  color: white; \n}\n.in-profit {\n  background-color: black;\n  color: white;\n}\n.at-a-loss {\n  background-color: red;\n  color: white;\n}/* This file is where css selectors for the component go.\n   There will be hard coded properties and properties controlled by variables, for example\n\n   dashboard-ratio-list .dashboard-ratio-list-value-text {\n   color: var(--dashboard-ratio-list-value-text-color);\n   display: inline-block;\n\t }\n*/\n\ndashboard-ratio-list:not(.oj-complete){\n  visibility: hidden;\n}\n\ndashboard-ratio-list{\n\tmin-height: 50px;\n\twidth: 50px;\n}\n\ndashboard-ratio-list[hidden]\n{\n  display: none;\n}/* This file is where css selectors for the component go.\n   There will be hard coded properties and properties controlled by variables, for example\n\n   dashboard-bot-maintainer .dashboard-bot-maintainer-value-text {\n   color: var(--dashboard-bot-maintainer-value-text-color);\n   display: inline-block;\n\t }\n*/\n\ndashboard-bot-maintainer:not(.oj-complete){\n  visibility: hidden;\n}\n\ndashboard-bot-maintainer{\n\tmin-height: 50px;\n\twidth: 50px;\n}\n\ndashboard-bot-maintainer[hidden]\n{\n  display: none;\n}/* This file is where css selectors for the component go.\n   There will be hard coded properties and properties controlled by variables, for example\n\n   dashboard-flamingo-api .dashboard-flamingo-api-value-text {\n   color: var(--dashboard-flamingo-api-value-text-color);\n   display: inline-block;\n\t }\n*/\n\ndashboard-flamingo-api:not(.oj-complete){\n  visibility: hidden;\n}\n\ndashboard-flamingo-api{\n\tmin-height: 50px;\n\twidth: 50px;\n}\n\ndashboard-flamingo-api[hidden]\n{\n  display: none;\n}/* This file is where css selectors for the component go.\n   There will be hard coded properties and properties controlled by variables, for example\n\n   dashboard-risk-profile .dashboard-risk-profile-value-text {\n   color: var(--dashboard-risk-profile-value-text-color);\n   display: inline-block;\n\t }\n*/\n\ndashboard-risk-profile:not(.oj-complete){\n  visibility: hidden;\n}\n\ndashboard-risk-profile{\n\tmin-height: 50px;\n\twidth: 50px;\n}\n\ndashboard-risk-profile[hidden]\n{\n  display: none;\n}/* This file is where css selectors for the component go.\n   There will be hard coded properties and properties controlled by variables, for example\n\n   dashboard-bitrue-tools .dashboard-bitrue-tools-value-text {\n   color: var(--dashboard-bitrue-tools-value-text-color);\n   display: inline-block;\n\t }\n*/\n\ndashboard-bitrue-tools:not(.oj-complete){\n  visibility:hidden;\n}\n\ndashboard-bitrue-tools{\n\tmin-height: 50px;\n\twidth: 50px;\n}\n\ndashboard-bitrue-tools[hidden]\n{\n  display: none;\n}');
