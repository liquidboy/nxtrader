define(['exports', 'preact/jsx-runtime', 'preact/hooks', './UNSAFE_NavigationList/themes/NavigationListStyles.css', './utils/PRIVATE_collectionUtils', './utils/UNSAFE_mergeProps', './hooks/PRIVATE_useCollectionFocusRing', './hooks/PRIVATE_useCurrentKey', './UNSAFE_Text', './hooks/UNSAFE_usePress', './utils/UNSAFE_classNames', './hooks/UNSAFE_useInteractionStyle', './hooks/UNSAFE_useComponentTheme', 'preact', './utils/UNSAFE_mergeInterpolations', './utils/UNSAFE_interpolations/flexitem', './UNSAFE_NavigationList/themes/redwood/NavigationListItemTheme', './flexitem-f51fd489', './classNames-415aadfa', './Text-8ee98ff3'], (function(e,t,n,s,i,o,r,l,a,c,u,d,m,y,v,g,h,f,C,S){"use strict";const p=y.createContext(null);const R=e=>{const t=n.useRef(!0);t.current&&(t.current=!1,e())},b=v.mergeInterpolations([...Object.values(f.flexitemInterpolations)]),{class:N,...A}=b({alignSelf:"center"}),x="oj-c-navigationlist-item",F="."+x;function E({itemRef:e,itemKey:t}){const{onSelectionChange:s,selection:i,currentKey:r,showFocusRing:l,containsActiveElement:a,firstItemRenderedKey:u,onCurrentKeyChange:y}=n.useContext(p),v=r===t;R((()=>{void 0===r&&u&&void 0===u.current&&(u.current=t)}));const g=i===t,{interactionProps:f,applyPseudoHoverStyle:S,applyHoverStyle:b,applyActiveStyle:F}=d.useInteractionStyle(),{classes:E,styles:{labelContainerClasses:K}}=m.useComponentTheme(h.NavigationListItemRedwoodTheme,{focusRing:l?"isFocusRing":"notFocusRing",current:v?"isCurrent":"notCurrtent",selected:g?"isSelected":"notSelected",hybridHover:b?"isHybridHover":"notHybridHover",pseudoHover:S?"isPseudoHover":"notPseudoHover",active:F?"isActive":"notActive"});n.useLayoutEffect((()=>{a?.()&&v&&e?.current?.focus()}),[v,a]);const{pressProps:I}=c.usePress((()=>{s?.({value:t})})),P={onFocus:()=>{void 0===r&&y({value:t})}};return{itemHandlers:o.mergeProps(f,I,P),itemClasses:C.classNames([E,x]),isItemFocusable:!!(v||u?.current===t&&void 0===r),isSelected:g,labelContainerClasses:C.classNames([K,N]),labelContainerStyle:A}}e.NavigationList=function({children:e,selection:a,onSelectionChange:c,"aria-label":u,"aria-labelledby":d}){const m=n.useRef(null),{firstItemRenderedKey:y,showFocusRing:v,currentKey:g,onCurrentKeyChange:h,containsActiveElement:f,containerHandlers:C}=function({containerRef:e,selection:t}){const s=n.useRef(),[a,c]=n.useState(t),u=n.useCallback((({value:e})=>{c(e)}),[]),{currentKeyProps:d}=l.useCurrentKey((e=>i.keyExtractor(e,F)),!1,i.getPrevNextKey(e.current,a,!0,F),i.getPrevNextKey(e.current,a,!1,F),void 0,void 0,a,u),[m,y]=r.useCollectionFocusRing((t=>!!e.current?.contains(t)),["ArrowUp","ArrowDown"]);return{firstItemRenderedKey:s,showFocusRing:m,currentKey:a,onCurrentKeyChange:u,containsActiveElement:n.useCallback((()=>!!e?.current?.contains(document.activeElement)),[]),containerHandlers:o.mergeProps(y,d)}}({containerRef:m,selection:a});return t.jsx("ul",{"aria-label":u,"aria-labelledby":d,role:"listbox",ref:m,tabIndex:e?-1:0,...C,class:s.navigationListStyles.uListStyle,children:t.jsx(p.Provider,{value:{selection:a,onSelectionChange:c,onCurrentKeyChange:h,currentKey:g,showFocusRing:v,containsActiveElement:f,firstItemRenderedKey:y},children:e})})},e.NavigationListItem=function({itemKey:e,label:s}){const i=n.useRef(null),{isItemFocusable:o,itemHandlers:r,itemClasses:l,isSelected:a,labelContainerClasses:c,labelContainerStyle:u}=E({itemRef:i,itemKey:e});return t.jsx("li",{role:"option",...r,"data-oj-key":e,class:l,tabIndex:o?0:-1,"aria-selected":a,ref:i,children:s&&t.jsx("span",{class:c,style:u,children:t.jsx(S.Text,{size:"inherit",weight:"inherit",variant:"inherit",children:s})})})}}));
//# sourceMappingURL=NavigationListItem-3f507c1f.js.map
