define("dashboard/babylonjs-viewer/babylonjs-viewer",["require","exports","preact/jsx-runtime","ojs/ojvcomponent","preact/hooks","babylonjs","ojs/ojcontext","@preact/signals","css!dashboard/babylonjs-viewer/babylonjs-viewer-styles.css"],(function(require,e,n,o,r,i,a,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BabylonjsViewer=e.babylonScene=e.babylonEngine=void 0,e.babylonEngine=(0,t.signal)(void 0),e.babylonScene=(0,t.signal)(void 0);const s=i.Color4.FromColor3(i.Color3.Black());let l=(0,t.signal)(void 0);e.BabylonjsViewer=(0,o.registerCustomElement)("dashboard-babylonjs-viewer",(function(){return(0,r.useEffect)((()=>{!function(){if(void 0===l.value){console.info("babylonjs-viewer > initEngine > started");const n=document.getElementById("renderCanvas");l.value=n;a.getContext(n).getBusyContext().whenReady().then((()=>{e.babylonEngine.value=new i.Engine(n,!0,{preserveDrawingBuffer:!0,stencil:!0}),console.info("babylonjs-viewer > initEngine > finished")}))}}()}),[]),(0,n.jsx)("div",Object.assign({class:"renderCanvasContainer"},{children:(0,n.jsx)("canvas",{id:"renderCanvas"})}))}),"BabylonjsViewer"),(0,t.effect)((()=>{if(e.babylonEngine.value&&l.value){console.info("babylonjs-viewer > setup default scene");var n=function(e){var n=new i.Scene(e);n.clearColor=s;n.createDefaultEnvironment({createGround:!1,createSkybox:!1});var o=new i.FreeCamera("camera1",new i.Vector3(0,5,-10),n);o.setTarget(i.Vector3.Zero()),o.attachControl(l,!1);new i.HemisphericLight("light1",new i.Vector3(0,1,0),n);i.MeshBuilder.CreateSphere("sphere1",{segments:16,diameter:2,sideOrientation:i.Mesh.FRONTSIDE},n).position.y=1;i.MeshBuilder.CreateGround("ground1",{width:6,height:6,subdivisions:2,updatable:!1},n);return n}(e.babylonEngine.value);e.babylonScene.value=n,e.babylonEngine.value.runRenderLoop((function(){n.render()})),window.addEventListener("resize",(function(){var n;null===(n=e.babylonEngine.value)||void 0===n||n.resize()}))}}))})),define("dashboard/babylonjs-viewer/loader",["require","exports","./babylonjs-viewer"],(function(require,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BabylonjsViewer=void 0,Object.defineProperty(e,"BabylonjsViewer",{enumerable:!0,get:function(){return n.BabylonjsViewer}})}));
//# sourceMappingURL=loader.js.map